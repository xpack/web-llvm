---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/namespaces/anonymous-lowerswitch-cpp-
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - namespace

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'
import SectionUser from '@xpack/docusaurus-plugin-doxygen/components/SectionUser'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `anonymous{LowerSwitch.cpp}` Namespace Reference

<DoxygenPage pluginConfig={pluginConfig}>



## Definition

<CodeBlock>namespace &#123; ... &#125;</CodeBlock>

## Classes Index

<MembersIndex>

<MembersIndexItem
  type="struct"
  name={<><a href="/docs/api/structs/anonymous-namespace-lowerswitch-cpp-/casecmp">CaseCmp</a></>}>
The comparison function for sorting the switch case values in the vector. <a href="/docs/api/structs/anonymous-namespace-lowerswitch-cpp-/casecmp/#details">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="struct"
  name={<><a href="/docs/api/structs/anonymous-namespace-lowerswitch-cpp-/caserange">CaseRange</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type="struct"
  name={<><a href="/docs/api/structs/anonymous-namespace-lowerswitch-cpp-/intrange">IntRange</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/anonymous-namespace-lowerswitch-cpp-/lowerswitchlegacypass">LowerSwitchLegacyPass</a></>}>
Replace all <a href="/docs/api/classes/llvm/switchinst">SwitchInst</a> instructions with chained branch instructions. <a href="/docs/api/classes/anonymous-namespace-lowerswitch-cpp-/lowerswitchlegacypass/#details">More...</a>
</MembersIndexItem>

</MembersIndex>

## Typedefs Index

<MembersIndex>

<MembersIndexItem
  type="using"
  name={<><a href="#a8ca2972b2ba436c3b9978ea55d11b1e4">CaseItr</a> = std::vector&lt; <a href="/docs/api/structs/anonymous-namespace-lowerswitch-cpp-/caserange">CaseRange</a> &gt;<a href="/docs/api/classes/llvm/iplist">::iterator</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type="using"
  name={<><a href="#abc81c76306dbcb06494b7ec9848ffc0f">CaseVector</a> = std::vector&lt; <a href="/docs/api/structs/anonymous-namespace-lowerswitch-cpp-/caserange">CaseRange</a> &gt;</>}>
</MembersIndexItem>

</MembersIndex>

## Operators Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/files/include/include/llvm/include/llvm/support/compiler-h/#a6881c00738b22a600dfee25a1c32dab3">LLVM&#95;ATTRIBUTE&#95;USED</a> <a href="/docs/api/classes/llvm/raw-ostream">raw&#95;ostream</a> &amp;</>}
  name={<><a href="#a9a3c861b48820a3ad71032e4c4afb871">operator&lt;&lt;</a> (raw&#95;ostream &amp;O, const CaseVector &amp;C)</>}>
Used for debugging purposes. <a href="#a9a3c861b48820a3ad71032e4c4afb871">More...</a>
</MembersIndexItem>

</MembersIndex>

## Functions Index

<MembersIndex>

<MembersIndexItem
  type="unsigned"
  name={<><a href="#aa661c3b2e01f5ece0bc84908b98036be">Clusterify</a> (CaseVector &amp;Cases, SwitchInst &#42;SI)</>}>
Transform simple list of <code><a href="/docs/api/namespaces/llvm/si">SI</a>&#39;s</code> cases into list of <a href="/docs/api/structs/anonymous-namespace-lowerswitch-cpp-/caserange">CaseRange</a>&#39;s <code>Cases</code>. <a href="#aa661c3b2e01f5ece0bc84908b98036be">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#aac383495fcc8fae9bf826d4d89467928">FixPhis</a> (BasicBlock &#42;SuccBB, BasicBlock &#42;OrigBB, BasicBlock &#42;NewBB, const APInt &amp;NumMergedCases)</>}>
Update the first occurrence of the &quot;switch statement&quot; BB in the PHI node with the &quot;new&quot; BB. <a href="#aac383495fcc8fae9bf826d4d89467928">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a4dda29c85e539f52b6a9aee731e66f96">IsInRanges</a> (const IntRange &amp;R, const std::vector&lt; IntRange &gt; &amp;Ranges)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a5defe79e50890a23d88753e1954927c8">LowerSwitch</a> (Function &amp;F, LazyValueInfo &#42;LVI, AssumptionCache &#42;AC)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42;</>}
  name={<><a href="#a77bc86cd5c15b83afe922fa7bbfe0f11">NewLeafBlock</a> (CaseRange &amp;Leaf, Value &#42;Val, ConstantInt &#42;LowerBound, ConstantInt &#42;UpperBound, BasicBlock &#42;OrigBlock, BasicBlock &#42;Default)</>}>
Create a new leaf block for the binary lookup tree. <a href="#a77bc86cd5c15b83afe922fa7bbfe0f11">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a5770d604e68e48d1b8f1e7aa4c89a034">ProcessSwitchInst</a> (SwitchInst &#42;SI, SmallPtrSetImpl&lt; BasicBlock &#42; &gt; &amp;DeleteList, AssumptionCache &#42;AC, LazyValueInfo &#42;LVI)</>}>
Replace the specified switch instruction with a sequence of chained if-then insts in a balanced binary search. <a href="#a5770d604e68e48d1b8f1e7aa4c89a034">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42;</>}
  name={<><a href="#ab9fe9fd51104da9e7faa88a213b74b9b">SwitchConvert</a> (CaseItr Begin, CaseItr End, ConstantInt &#42;LowerBound, ConstantInt &#42;UpperBound, Value &#42;Val, BasicBlock &#42;Predecessor, BasicBlock &#42;OrigBlock, BasicBlock &#42;Default, const std::vector&lt; IntRange &gt; &amp;UnreachableRanges)</>}>
Convert the switch statement into a binary lookup of the case values. <a href="#ab9fe9fd51104da9e7faa88a213b74b9b">More...</a>
</MembersIndexItem>

</MembersIndex>


<SectionDefinition>

## Typedefs

### CaseItr {#a8ca2972b2ba436c3b9978ea55d11b1e4}

<MemberDefinition
  prototype={<>using anonymous&#95;namespace&#123;LowerSwitch.cpp&#125;::CaseItr =  std::vector&lt;CaseRange&gt;::iterator</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/lowerswitch-cpp/#l00080">80</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/lowerswitch-cpp">LowerSwitch.cpp</a>.
</MemberDefinition>

### CaseVector {#abc81c76306dbcb06494b7ec9848ffc0f}

<MemberDefinition
  prototype={<>using anonymous&#95;namespace&#123;LowerSwitch.cpp&#125;::CaseVector =  std::vector&lt;CaseRange&gt;</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/lowerswitch-cpp/#l00079">79</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/lowerswitch-cpp">LowerSwitch.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Operators

### operator&lt;&lt;() {#a9a3c861b48820a3ad71032e4c4afb871}

<MemberDefinition
  prototype={<>LLVM&#95;ATTRIBUTE&#95;USED raw&#95;ostream &amp; anonymous&#95;namespace&#123;LowerSwitch.cpp&#125;::operator&lt;&lt; (<a href="/docs/api/classes/llvm/raw-ostream">raw&#95;ostream</a> &amp; O, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="#abc81c76306dbcb06494b7ec9848ffc0f">CaseVector</a> &amp; C)</>}>
Used for debugging purposes.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/lowerswitch-cpp/#l00094">94</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/lowerswitch-cpp">LowerSwitch.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Functions

### Clusterify() {#aa661c3b2e01f5ece0bc84908b98036be}

<MemberDefinition
  prototype={<>unsigned anonymous&#95;namespace&#123;LowerSwitch.cpp&#125;::Clusterify (<a href="#abc81c76306dbcb06494b7ec9848ffc0f">CaseVector</a> &amp; Cases, <a href="/docs/api/classes/llvm/switchinst">SwitchInst</a> &#42; SI)</>}>
Transform simple list of <code><a href="/docs/api/namespaces/llvm/si">SI</a>&#39;s</code> cases into list of <a href="/docs/api/structs/anonymous-namespace-lowerswitch-cpp-/caserange">CaseRange</a>&#39;s <code>Cases</code>.

<SectionUser title="Postcondition">
<code>Cases</code> wouldn&#39;t contain references to <code><a href="/docs/api/namespaces/llvm/si">SI</a>&#39;s</code> default BB.
</SectionUser>


<SectionUser title="Returns">
Number of <code><a href="/docs/api/namespaces/llvm/si">SI</a>&#39;s</code> cases that do not reference <code><a href="/docs/api/namespaces/llvm/si">SI</a>&#39;s</code> default BB.
</SectionUser>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/lowerswitch-cpp/#l00307">307</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/lowerswitch-cpp">LowerSwitch.cpp</a>.
</MemberDefinition>

### FixPhis() {#aac383495fcc8fae9bf826d4d89467928}

<MemberDefinition
  prototype={<>void anonymous&#95;namespace&#123;LowerSwitch.cpp&#125;::FixPhis (<a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; SuccBB, <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; OrigBB, <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; NewBB, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/apint">APInt</a> &amp; NumMergedCases)</>}>
Update the first occurrence of the &quot;switch statement&quot; BB in the PHI node with the &quot;new&quot; BB.

The other occurrences will:

1) Be updated by subsequent calls to this function. Switch statements may have more than one outcoming edge into the same BB if they all have the same value. When the switch statement is converted these incoming edges are now coming from multiple BBs. 2) Removed if subsequent incoming values now share the same case, i.e., multiple outcome edges are condensed into one. This is necessary to keep the number of phi values equal to the number of branches to SuccBB.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/lowerswitch-cpp/#l00116">116</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/lowerswitch-cpp">LowerSwitch.cpp</a>.
</MemberDefinition>

### IsInRanges() {#a4dda29c85e539f52b6a9aee731e66f96}

<MemberDefinition
  prototype={<>bool anonymous&#95;namespace&#123;LowerSwitch.cpp&#125;::IsInRanges (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/structs/anonymous-namespace-lowerswitch-cpp-/intrange">IntRange</a> &amp; R, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> std::vector&lt; <a href="/docs/api/structs/anonymous-namespace-lowerswitch-cpp-/intrange">IntRange</a> &gt; &amp; Ranges)</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/lowerswitch-cpp/#l00059">59</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/lowerswitch-cpp">LowerSwitch.cpp</a>.
</MemberDefinition>

### LowerSwitch() {#a5defe79e50890a23d88753e1954927c8}

<MemberDefinition
  prototype={<>bool anonymous&#95;namespace&#123;LowerSwitch.cpp&#125;::LowerSwitch (<a href="/docs/api/classes/llvm/function">Function</a> &amp; F, <a href="/docs/api/classes/llvm/lazyvalueinfo">LazyValueInfo</a> &#42; LVI, <a href="/docs/api/classes/llvm/assumptioncache">AssumptionCache</a> &#42; AC)</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/lowerswitch-cpp/#l00535">535</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/lowerswitch-cpp">LowerSwitch.cpp</a>.
</MemberDefinition>

### NewLeafBlock() {#a77bc86cd5c15b83afe922fa7bbfe0f11}

<MemberDefinition
  prototype={<>BasicBlock &#42; anonymous&#95;namespace&#123;LowerSwitch.cpp&#125;::NewLeafBlock (<a href="/docs/api/structs/anonymous-namespace-lowerswitch-cpp-/caserange">CaseRange</a> &amp; Leaf, <a href="/docs/api/classes/llvm/value">Value</a> &#42; Val, <a href="/docs/api/classes/llvm/constantint">ConstantInt</a> &#42; LowerBound, <a href="/docs/api/classes/llvm/constantint">ConstantInt</a> &#42; UpperBound, <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; OrigBlock, <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; Default)</>}>
Create a new leaf block for the binary lookup tree.

It checks if the switch&#39;s value == the case&#39;s value. If not, then it jumps to the default branch. At this point in the tree, the value can&#39;t be another valid case value, so the jump to the &quot;default&quot; branch is warranted.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/lowerswitch-cpp/#l00154">154</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/lowerswitch-cpp">LowerSwitch.cpp</a>.
</MemberDefinition>

### ProcessSwitchInst() {#a5770d604e68e48d1b8f1e7aa4c89a034}

<MemberDefinition
  prototype={<>void anonymous&#95;namespace&#123;LowerSwitch.cpp&#125;::ProcessSwitchInst (<a href="/docs/api/classes/llvm/switchinst">SwitchInst</a> &#42; SI, <a href="/docs/api/classes/llvm/smallptrsetimpl">SmallPtrSetImpl</a>&lt; <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; &gt; &amp; DeleteList, <a href="/docs/api/classes/llvm/assumptioncache">AssumptionCache</a> &#42; AC, <a href="/docs/api/classes/llvm/lazyvalueinfo">LazyValueInfo</a> &#42; LVI)</>}>
Replace the specified switch instruction with a sequence of chained if-then insts in a balanced binary search.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/lowerswitch-cpp/#l00349">349</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/lowerswitch-cpp">LowerSwitch.cpp</a>.
</MemberDefinition>

### SwitchConvert() {#ab9fe9fd51104da9e7faa88a213b74b9b}

<MemberDefinition
  prototype={<>BasicBlock &#42; anonymous&#95;namespace&#123;LowerSwitch.cpp&#125;::SwitchConvert (<a href="#a8ca2972b2ba436c3b9978ea55d11b1e4">CaseItr</a> Begin, <a href="#a8ca2972b2ba436c3b9978ea55d11b1e4">CaseItr</a> End, <a href="/docs/api/classes/llvm/constantint">ConstantInt</a> &#42; LowerBound, <a href="/docs/api/classes/llvm/constantint">ConstantInt</a> &#42; UpperBound, <a href="/docs/api/classes/llvm/value">Value</a> &#42; Val, <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; Predecessor, <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; OrigBlock, <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; Default, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> std::vector&lt; <a href="/docs/api/structs/anonymous-namespace-lowerswitch-cpp-/intrange">IntRange</a> &gt; &amp; UnreachableRanges)</>}>
Convert the switch statement into a binary lookup of the case values.

The function recursively builds this tree. LowerBound and UpperBound are used to keep track of the bounds for Val that have already been checked by a block emitted by one of the previous calls to switchConvert in the call stack.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/lowerswitch-cpp/#l00226">226</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/lowerswitch-cpp">LowerSwitch.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this namespace was generated from the following file:

<ul>
<li><a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/lowerswitch-cpp">LowerSwitch.cpp</a></li>
</ul>

</DoxygenPage>
