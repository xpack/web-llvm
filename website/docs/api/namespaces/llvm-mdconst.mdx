---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/namespaces/llvm/mdconst
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - namespace

---

import CodeBlock from '@theme/CodeBlock'

import CodeLine from '@xpack/docusaurus-plugin-doxygen/components/CodeLine'
import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import ProgramListing from '@xpack/docusaurus-plugin-doxygen/components/ProgramListing'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `mdconst` Namespace Reference

<DoxygenPage pluginConfig={pluginConfig}>

Transitional API for extracting constants from <a href="/docs/api/classes/llvm/metadata">Metadata</a>. <a href="#details">More...</a>

## Definition

<CodeBlock>namespace llvm::mdconst &#123; ... &#125;</CodeBlock>

## Namespaces Index

<MembersIndex>

<MembersIndexItem
  type="namespace"
  name={<><a href="/docs/api/namespaces/llvm/mdconst/detail">llvm::mdconst::detail</a></>}>
</MembersIndexItem>

</MembersIndex>

## Functions Index

<MembersIndex>

<MembersIndexItem
  template={<>template &lt;class X, class Y&gt;</>}
  type="auto "
  name={<><a href="#ad7ca5290dc5789cbeae763690e6edccf">dyn&#95;extract</a> (Y &amp;&amp;MD) -&gt; std::enable&#95;if&#95;t&lt; <a href="/docs/api/structs/llvm/mdconst/detail/isvalidpointer">detail::IsValidPointer</a>&lt; <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#a262774d3e5186511427e5b2414a85f7f">Y</a> &gt;::value, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a> &#42; &gt;</>}>
Extract a <a href="/docs/api/classes/llvm/value">Value</a> from <a href="/docs/api/classes/llvm/metadata">Metadata</a>, if any. <a href="#ad7ca5290dc5789cbeae763690e6edccf">More...</a>
</MembersIndexItem>

<MembersIndexItem
  template={<>template &lt;class X, class Y&gt;</>}
  type="auto "
  name={<><a href="#a2d40c0621205b0cbd5f642d970cbb896">dyn&#95;extract&#95;or&#95;null</a> (Y &amp;&amp;MD) -&gt; std::enable&#95;if&#95;t&lt; <a href="/docs/api/structs/llvm/mdconst/detail/isvalidpointer">detail::IsValidPointer</a>&lt; <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#a262774d3e5186511427e5b2414a85f7f">Y</a> &gt;::value, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a> &#42; &gt;</>}>
Extract a <a href="/docs/api/classes/llvm/value">Value</a> from <a href="/docs/api/classes/llvm/metadata">Metadata</a>, if any, allowing null. <a href="#a2d40c0621205b0cbd5f642d970cbb896">More...</a>
</MembersIndexItem>

<MembersIndexItem
  template={<>template &lt;class X, class Y&gt;</>}
  type="auto "
  name={<><a href="#ad938857d6c6603847adf3a8cbe403d17">extract</a> (Y &amp;&amp;MD) -&gt; std::enable&#95;if&#95;t&lt; <a href="/docs/api/structs/llvm/mdconst/detail/isvalidpointer">detail::IsValidPointer</a>&lt; <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#a262774d3e5186511427e5b2414a85f7f">Y</a> &gt;::value, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a> &#42; &gt;</>}>
Extract a <a href="/docs/api/classes/llvm/value">Value</a> from <a href="/docs/api/classes/llvm/metadata">Metadata</a>. <a href="#ad938857d6c6603847adf3a8cbe403d17">More...</a>
</MembersIndexItem>

<MembersIndexItem
  template={<>template &lt;class X, class Y&gt;</>}
  type="auto "
  name={<><a href="#a28b74e2f39993aedb95e57c013e451b6">extract</a> (Y &amp;MD) -&gt; std::enable&#95;if&#95;t&lt; <a href="/docs/api/structs/llvm/mdconst/detail/isvalidreference">detail::IsValidReference</a>&lt; <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#a262774d3e5186511427e5b2414a85f7f">Y</a> &amp; &gt;::value, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a> &#42; &gt;</>}>
</MembersIndexItem>

<MembersIndexItem
  template={<>template &lt;class X, class Y&gt;</>}
  type="auto "
  name={<><a href="#a86397deb1d9d25f7a17ce22c4d66482f">extract&#95;or&#95;null</a> (Y &amp;&amp;MD) -&gt; std::enable&#95;if&#95;t&lt; <a href="/docs/api/structs/llvm/mdconst/detail/isvalidpointer">detail::IsValidPointer</a>&lt; <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#a262774d3e5186511427e5b2414a85f7f">Y</a> &gt;::value, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a> &#42; &gt;</>}>
Extract a <a href="/docs/api/classes/llvm/value">Value</a> from <a href="/docs/api/classes/llvm/metadata">Metadata</a>, allowing null. <a href="#a86397deb1d9d25f7a17ce22c4d66482f">More...</a>
</MembersIndexItem>

<MembersIndexItem
  template={<>template &lt;class X, class Y&gt;</>}
  type="auto "
  name={<><a href="#a7f12b8ac7462ea82d735ac7d56f6260b">hasa</a> (Y &amp;&amp;MD) -&gt; std::enable&#95;if&#95;t&lt; <a href="/docs/api/structs/llvm/mdconst/detail/isvalidpointer">detail::IsValidPointer</a>&lt; <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#a262774d3e5186511427e5b2414a85f7f">Y</a> &gt;::value, bool &gt;</>}>
<a href="/docs/api/namespaces/llvm/check">Check</a> whether <a href="/docs/api/classes/llvm/metadata">Metadata</a> has a <a href="/docs/api/classes/llvm/value">Value</a>. <a href="#a7f12b8ac7462ea82d735ac7d56f6260b">More...</a>
</MembersIndexItem>

<MembersIndexItem
  template={<>template &lt;class X, class Y&gt;</>}
  type="auto "
  name={<><a href="#ad793f1ffb5a639cc165da41fc0639b82">hasa</a> (Y &amp;MD) -&gt; std::enable&#95;if&#95;t&lt; <a href="/docs/api/structs/llvm/mdconst/detail/isvalidreference">detail::IsValidReference</a>&lt; <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#a262774d3e5186511427e5b2414a85f7f">Y</a> &amp; &gt;::value, bool &gt;</>}>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

Transitional API for extracting constants from <a href="/docs/api/classes/llvm/metadata">Metadata</a>.

This namespace contains transitional functions for metadata that points to <em>Constants</em>.

In prehistory – when metadata was a subclass of <em><a href="/docs/api/classes/llvm/value">Value</a></em> – <em><a href="/docs/api/classes/llvm/mdnode">MDNode</a></em> operands could refer to any <em><a href="/docs/api/classes/llvm/value">Value</a></em>. There&#39;s was a lot of code like this:


<ProgramListing>

<CodeLine><span class="doxyHighlight"><a href="/docs/api/classes/llvm/mdnode">MDNode</a> &#42;<a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a> = ...;</span></CodeLine>
<CodeLine><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;CI = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;ConstantInt&gt;</a>(<a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(2));</span></CodeLine>

</ProgramListing>


Now that <em><a href="/docs/api/classes/llvm/value">Value</a></em> and <em><a href="/docs/api/classes/llvm/metadata">Metadata</a></em> are in separate hierarchies, maintaining the semantics for <em><a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa()</a></em>, <em><a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast()</a></em>, <em><a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast()</a></em> (etc.) requires three steps: cast in the <em><a href="/docs/api/classes/llvm/metadata">Metadata</a></em> hierarchy, extraction of the <em><a href="/docs/api/classes/llvm/value">Value</a></em>, and cast in the <em><a href="/docs/api/classes/llvm/value">Value</a></em> hierarchy. Besides creating boiler-plate, this requires subtle control flow changes.

The end-goal is to create a new type of metadata, called (e.g.) <em>MDInt</em>, so that metadata can refer to numbers without traversing a bridge to the <em><a href="/docs/api/classes/llvm/value">Value</a></em> hierarchy. In this final state, the code above would look like this:


<ProgramListing>

<CodeLine><span class="doxyHighlight"><a href="/docs/api/classes/llvm/mdnode">MDNode</a> &#42;<a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a> = ...;</span></CodeLine>
<CodeLine><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/irtranslator-cpp/#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;MDInt&gt;</a>(<a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(2));</span></CodeLine>

</ProgramListing>


The API in this namespace supports the transition. <em>MDInt</em> doesn&#39;t exist yet, and even once it does, changing each metadata schema to use it is its own mini-project. In the meantime this API prevents us from introducing complex and bug-prone control flow that will disappear in the end. In particular, the above code looks like this:


<ProgramListing>

<CodeLine><span class="doxyHighlight"><a href="/docs/api/classes/llvm/mdnode">MDNode</a> &#42;<a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a> = ...;</span></CodeLine>
<CodeLine><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;CI = <a href="#ad7ca5290dc5789cbeae763690e6edccf">mdconst::dyn&#95;extract&lt;ConstantInt&gt;</a>(<a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(2));</span></CodeLine>

</ProgramListing>


The full set of provided functions includes:

<a href="#a7f12b8ac7462ea82d735ac7d56f6260b">mdconst::hasa</a> &lt;=&gt; isa <a href="#ad938857d6c6603847adf3a8cbe403d17">mdconst::extract</a> &lt;=&gt; cast <a href="#a86397deb1d9d25f7a17ce22c4d66482f">mdconst::extract&#95;or&#95;null</a> &lt;=&gt; cast&#95;or&#95;null <a href="#ad7ca5290dc5789cbeae763690e6edccf">mdconst::dyn&#95;extract</a> &lt;=&gt; dyn&#95;cast <a href="#a2d40c0621205b0cbd5f642d970cbb896">mdconst::dyn&#95;extract&#95;or&#95;null</a> &lt;=&gt; dyn&#95;cast&#95;or&#95;null

The target of the cast must be a subclass of <em><a href="/docs/api/classes/llvm/constant">Constant</a></em>.

<SectionDefinition>

## Functions

### dyn&#95;extract() {#ad7ca5290dc5789cbeae763690e6edccf}

<MemberDefinition
  template={<>template &lt;class X, class Y&gt;</>}
  prototype={<>std::enable&#95;if&#95;t&lt; detail::IsValidPointer&lt; X, Y &gt;::value, X &#42; &gt; llvm::mdconst::dyn&#95;extract (<a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#a262774d3e5186511427e5b2414a85f7f">Y</a> &amp;&amp; MD)</>}
  labels = {["inline"]}>
Extract a <a href="/docs/api/classes/llvm/value">Value</a> from <a href="/docs/api/classes/llvm/metadata">Metadata</a>, if any.

As an analogue to <em><a href="/docs/api/namespaces/llvm/#a5f6182886dc2f96c204299e92c1565d5">dyn&#95;cast&#95;or&#95;null()</a></em>, extract the <em><a href="/docs/api/classes/llvm/value">Value</a></em> subclass <code>X</code> from <code>MD</code>, return null if <code>MD</code> doesn&#39;t contain a <em><a href="/docs/api/classes/llvm/value">Value</a></em> or if the <em><a href="/docs/api/classes/llvm/value">Value</a></em> it does contain is of the wrong subclass.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/ir/metadata-h/#l00698">698</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/ir/metadata-h">Metadata.h</a>.
</MemberDefinition>

### dyn&#95;extract&#95;or&#95;null() {#a2d40c0621205b0cbd5f642d970cbb896}

<MemberDefinition
  template={<>template &lt;class X, class Y&gt;</>}
  prototype={<>std::enable&#95;if&#95;t&lt; detail::IsValidPointer&lt; X, Y &gt;::value, X &#42; &gt; llvm::mdconst::dyn&#95;extract&#95;or&#95;null (<a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#a262774d3e5186511427e5b2414a85f7f">Y</a> &amp;&amp; MD)</>}
  labels = {["inline"]}>
Extract a <a href="/docs/api/classes/llvm/value">Value</a> from <a href="/docs/api/classes/llvm/metadata">Metadata</a>, if any, allowing null.

As an analogue to <em><a href="/docs/api/namespaces/llvm/#a5f6182886dc2f96c204299e92c1565d5">dyn&#95;cast&#95;or&#95;null()</a></em>, extract the <em><a href="/docs/api/classes/llvm/value">Value</a></em> subclass <code>X</code> from <code>MD</code>, return null if <code>MD</code> doesn&#39;t contain a <em><a href="/docs/api/classes/llvm/value">Value</a></em> or if the <em><a href="/docs/api/classes/llvm/value">Value</a></em> it does contain is of the wrong subclass, allowing <code>MD</code> to be null.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/ir/metadata-h/#l00711">711</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/ir/metadata-h">Metadata.h</a>.
</MemberDefinition>

### extract() {#ad938857d6c6603847adf3a8cbe403d17}

<MemberDefinition
  template={<>template &lt;class X, class Y&gt;</>}
  prototype={<>std::enable&#95;if&#95;t&lt; detail::IsValidPointer&lt; X, Y &gt;::value, X &#42; &gt; llvm::mdconst::extract (<a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#a262774d3e5186511427e5b2414a85f7f">Y</a> &amp;&amp; MD)</>}
  labels = {["inline"]}>
Extract a <a href="/docs/api/classes/llvm/value">Value</a> from <a href="/docs/api/classes/llvm/metadata">Metadata</a>.

As an analogue to <em><a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast()</a></em>, extract the <em><a href="/docs/api/classes/llvm/value">Value</a></em> subclass <code>X</code> from <code>MD</code>.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/ir/metadata-h/#l00670">670</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/ir/metadata-h">Metadata.h</a>.
</MemberDefinition>

### extract() {#a28b74e2f39993aedb95e57c013e451b6}

<MemberDefinition
  template={<>template &lt;class X, class Y&gt;</>}
  prototype={<>std::enable&#95;if&#95;t&lt; detail::IsValidReference&lt; X, Y &amp; &gt;::value, X &#42; &gt; llvm::mdconst::extract (<a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#a262774d3e5186511427e5b2414a85f7f">Y</a> &amp; MD)</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/ir/metadata-h/#l00675">675</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/ir/metadata-h">Metadata.h</a>.
</MemberDefinition>

### extract&#95;or&#95;null() {#a86397deb1d9d25f7a17ce22c4d66482f}

<MemberDefinition
  template={<>template &lt;class X, class Y&gt;</>}
  prototype={<>std::enable&#95;if&#95;t&lt; detail::IsValidPointer&lt; X, Y &gt;::value, X &#42; &gt; llvm::mdconst::extract&#95;or&#95;null (<a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#a262774d3e5186511427e5b2414a85f7f">Y</a> &amp;&amp; MD)</>}
  labels = {["inline"]}>
Extract a <a href="/docs/api/classes/llvm/value">Value</a> from <a href="/docs/api/classes/llvm/metadata">Metadata</a>, allowing null.

As an analogue to <em><a href="/docs/api/namespaces/llvm/#a3e627c32543ca70720c4270a8b11da3f">cast&#95;or&#95;null()</a></em>, extract the <em><a href="/docs/api/classes/llvm/value">Value</a></em> subclass <code>X</code> from <code>MD</code>, allowing <code>MD</code> to be null.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/ir/metadata-h/#l00685">685</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/ir/metadata-h">Metadata.h</a>.
</MemberDefinition>

### hasa() {#a7f12b8ac7462ea82d735ac7d56f6260b}

<MemberDefinition
  template={<>template &lt;class X, class Y&gt;</>}
  prototype={<>std::enable&#95;if&#95;t&lt; detail::IsValidPointer&lt; X, Y &gt;::value, bool &gt; llvm::mdconst::hasa (<a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#a262774d3e5186511427e5b2414a85f7f">Y</a> &amp;&amp; MD)</>}
  labels = {["inline"]}>
<a href="/docs/api/namespaces/llvm/check">Check</a> whether <a href="/docs/api/classes/llvm/metadata">Metadata</a> has a <a href="/docs/api/classes/llvm/value">Value</a>.

As an analogue to <em><a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa()</a></em>, check whether <code>MD</code> has an <em><a href="/docs/api/classes/llvm/value">Value</a></em> inside of type <code>X</code>.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/ir/metadata-h/#l00653">653</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/ir/metadata-h">Metadata.h</a>.
</MemberDefinition>

### hasa() {#ad793f1ffb5a639cc165da41fc0639b82}

<MemberDefinition
  template={<>template &lt;class X, class Y&gt;</>}
  prototype={<>std::enable&#95;if&#95;t&lt; detail::IsValidReference&lt; X, Y &amp; &gt;::value, bool &gt; llvm::mdconst::hasa (<a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#a262774d3e5186511427e5b2414a85f7f">Y</a> &amp; MD)</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/ir/metadata-h/#l00661">661</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/ir/metadata-h">Metadata.h</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this namespace was generated from the following file:

<ul>
<li><a href="/docs/api/files/include/include/llvm/include/llvm/ir/metadata-h">Metadata.h</a></li>
</ul>

</DoxygenPage>
