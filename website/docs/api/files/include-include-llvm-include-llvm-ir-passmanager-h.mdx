---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/files/include/include/llvm/include/llvm/ir/passmanager-h
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - file

---

import Link from '@docusaurus/Link'

import CodeLine from '@xpack/docusaurus-plugin-doxygen/components/CodeLine'
import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import ProgramListing from '@xpack/docusaurus-plugin-doxygen/components/ProgramListing'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `PassManager.h` File Reference

<DoxygenPage pluginConfig={pluginConfig}>

This header defines various interfaces for pass management in LLVM. <a href="#details">More...</a>

## Included Headers

<IncludesList>
<IncludesListItem
  filePath="llvm/ADT/DenseMap.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/adt/densemap-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/ADT/STLExtras.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/adt/stlextras-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/ADT/StringRef.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/adt/stringref-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/ADT/TinyPtrVector.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/adt/tinyptrvector-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/IR/Analysis.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/ir/analysis-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/IR/PassManagerInternal.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/ir/passmanagerinternal-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/Support/TypeName.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/support/typename-h"
  isLocal="true" />
<IncludesListItem
  filePath="cassert"
  permalink=""
  isLocal="false" />
<IncludesListItem
  filePath="cstring"
  permalink=""
  isLocal="false" />
<IncludesListItem
  filePath="iterator"
  permalink=""
  isLocal="false" />
<IncludesListItem
  filePath="list"
  permalink=""
  isLocal="false" />
<IncludesListItem
  filePath="memory"
  permalink=""
  isLocal="false" />
<IncludesListItem
  filePath="tuple"
  permalink=""
  isLocal="false" />
<IncludesListItem
  filePath="type_traits"
  permalink=""
  isLocal="false" />
<IncludesListItem
  filePath="utility"
  permalink=""
  isLocal="false" />
<IncludesListItem
  filePath="vector"
  permalink=""
  isLocal="false" />
</IncludesList>

## Namespaces Index

<MembersIndex>

<MembersIndexItem
  type="namespace"
  name={<><a href="/docs/api/namespaces/llvm">llvm</a></>}>
This is an optimization pass for GlobalISel generic memory operations. <a href="/docs/api/namespaces/llvm/#details">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="namespace"
  name={<><a href="/docs/api/namespaces/llvm/detail">llvm::detail</a></>}>
These are wrappers over isa&#42; function that allow them to be used in generic algorithms such as <code>llvm:all&#95;of</code>, <code><a href="/docs/api/namespaces/llvm/#a7dc3069afa2ce5ea62ac2eb183e51c00">llvm::none&#95;of</a></code>, etc. <a href="/docs/api/namespaces/llvm/detail/#details">More...</a>
</MembersIndexItem>

</MembersIndex>

## Classes Index

<MembersIndex>

<MembersIndexItem
  type="struct"
  name={<><a href="/docs/api/structs/llvm/passinfomixin">PassInfoMixin&lt;DerivedT&gt;</a></>}>
A CRTP mix-in to automatically provide informational APIs needed for passes. <a href="/docs/api/structs/llvm/passinfomixin/#details">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="struct"
  name={<><a href="/docs/api/structs/llvm/analysisinfomixin">AnalysisInfoMixin&lt;DerivedT&gt;</a></>}>
A CRTP mix-in that provides informational APIs needed for analysis passes. <a href="/docs/api/structs/llvm/analysisinfomixin/#details">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/passmanager">PassManager&lt;IRUnitT, AnalysisManagerT, ExtraArgTs&gt;</a></>}>
Manages a sequence of passes over a particular unit of IR. <a href="/docs/api/classes/llvm/passmanager/#details">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/analysismanager">AnalysisManager&lt;IRUnitT, ExtraArgTs&gt;</a></>}>
A container for analyses that lazily runs them and caches their results. <a href="/docs/api/classes/llvm/analysismanager/#details">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/analysismanager/invalidator">Invalidator</a></>}>
API to communicate dependencies between analyses during invalidation. <a href="/docs/api/classes/llvm/analysismanager/invalidator/#details">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/inneranalysismanagerproxy">InnerAnalysisManagerProxy&lt;AnalysisManagerT, IRUnitT, ExtraArgTs&gt;</a></>}>
An analysis over an &quot;outer&quot; IR unit that provides access to an analysis manager over an &quot;inner&quot; IR unit. <a href="/docs/api/classes/llvm/inneranalysismanagerproxy/#details">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/inneranalysismanagerproxy/result">Result</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/outeranalysismanagerproxy">OuterAnalysisManagerProxy&lt;AnalysisManagerT, IRUnitT, ExtraArgTs&gt;</a></>}>
An analysis over an &quot;inner&quot; IR unit that provides access to an analysis manager over a &quot;outer&quot; IR unit. <a href="/docs/api/classes/llvm/outeranalysismanagerproxy/#details">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/outeranalysismanagerproxy/result">Result</a></>}>
<a href="/docs/api/classes/llvm/outeranalysismanagerproxy/result">Result</a> proxy object for <code><a href="/docs/api/classes/llvm/outeranalysismanagerproxy">OuterAnalysisManagerProxy</a></code>. <a href="/docs/api/classes/llvm/outeranalysismanagerproxy/result/#details">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/moduletofunctionpassadaptor">ModuleToFunctionPassAdaptor</a></>}>
Trivial adaptor that maps from a module to its functions. <a href="/docs/api/classes/llvm/moduletofunctionpassadaptor/#details">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="struct"
  name={<><a href="/docs/api/structs/llvm/requireanalysispass">RequireAnalysisPass&lt;AnalysisT, IRUnitT, AnalysisManagerT, ExtraArgTs&gt;</a></>}>
A utility pass template to force an analysis result to be available. <a href="/docs/api/structs/llvm/requireanalysispass/#details">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="struct"
  name={<><a href="/docs/api/structs/llvm/invalidateanalysispass">InvalidateAnalysisPass&lt;AnalysisT&gt;</a></>}>
A no-op pass template which simply forces a specific analysis result to be invalidated. <a href="/docs/api/structs/llvm/invalidateanalysispass/#details">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="struct"
  name={<><a href="/docs/api/structs/llvm/invalidateallanalysespass">InvalidateAllAnalysesPass</a></>}>
A utility pass that does nothing, but preserves no analyses. <a href="/docs/api/structs/llvm/invalidateallanalysespass/#details">More...</a>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

This header defines various interfaces for pass management in LLVM.

There is no &quot;pass&quot; interface in LLVM per se. Instead, an instance of any class which supports a method to &#39;run&#39; it over a unit of IR can be used as a pass. A pass manager is generally a tool to collect a sequence of passes which run over a particular IR construct, and run each of them in sequence over each such construct in the containing IR construct. As there is no containing IR construct for a Module, a manager for passes over modules forms the base case which runs its managed passes in sequence over the single module provided.

The core IR library provides managers for running passes over modules and functions.


<ul>
<li>FunctionPassManager can run over a Module, runs each pass over a Function.</li>
<li>ModulePassManager must be directly run, runs each pass over the Module.</li>
</ul>


Note that the implementations of the pass managers use concept-based polymorphism as outlined in the &quot;Value Semantics and Concept-based
Polymorphism&quot; talk (or its abbreviated sibling &quot;Inheritance Is The Base
Class of Evil&quot;) by Sean Parent:
<ul>
<li><a href="https://sean-parent.stlab.cc/papers-and-presentations">https://sean-parent.stlab.cc/papers-and-presentations</a></li>
<li><a href="http://www.youtube.com/watch?v=_BpMYeUFXv8">http://www.youtube.com/watch?v=&#95;BpMYeUFXv8</a></li>
<li><a href="https://learn.microsoft.com/en-us/shows/goingnative-2013/inheritance-base-class-of-evil">https://learn.microsoft.com/en-us/shows/goingnative-2013/inheritance-base-class-of-evil</a></li>
</ul>

## File Listing

The file content with the documentation metadata removed is:

<ProgramListing>

<Link id="l00001" /><CodeLine lineNumber="1"><span class="doxyHighlightComment">//===- PassManager.h - Pass management infrastructure -----------&#42;- C++ -&#42;-===//</span></CodeLine>
<Link id="l00002" /><CodeLine lineNumber="2"><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l00003" /><CodeLine lineNumber="3"><span class="doxyHighlightComment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></CodeLine>
<Link id="l00004" /><CodeLine lineNumber="4"><span class="doxyHighlightComment">// See https://llvm.org/LICENSE.txt for license information.</span></CodeLine>
<Link id="l00005" /><CodeLine lineNumber="5"><span class="doxyHighlightComment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></CodeLine>
<Link id="l00006" /><CodeLine lineNumber="6"><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l00007" /><CodeLine lineNumber="7"><span class="doxyHighlightComment">//===----------------------------------------------------------------------===//</span></CodeLine>
<Link id="l00008" /><CodeLine lineNumber="8"><span class="doxyHighlightComment">/// \\file</span></CodeLine>
<Link id="l00009" /><CodeLine lineNumber="9"><span class="doxyHighlightComment">///</span></CodeLine>
<Link id="l00010" /><CodeLine lineNumber="10"><span class="doxyHighlightComment">/// This header defines various interfaces for pass management in LLVM. There</span></CodeLine>
<Link id="l00011" /><CodeLine lineNumber="11"><span class="doxyHighlightComment">/// is no &quot;pass&quot; interface in LLVM per se. Instead, an instance of any class</span></CodeLine>
<Link id="l00012" /><CodeLine lineNumber="12"><span class="doxyHighlightComment">/// which supports a method to &#39;run&#39; it over a unit of IR can be used as</span></CodeLine>
<Link id="l00013" /><CodeLine lineNumber="13"><span class="doxyHighlightComment">/// a pass. A pass manager is generally a tool to collect a sequence of passes</span></CodeLine>
<Link id="l00014" /><CodeLine lineNumber="14"><span class="doxyHighlightComment">/// which run over a particular IR construct, and run each of them in sequence</span></CodeLine>
<Link id="l00015" /><CodeLine lineNumber="15"><span class="doxyHighlightComment">/// over each such construct in the containing IR construct. As there is no</span></CodeLine>
<Link id="l00016" /><CodeLine lineNumber="16"><span class="doxyHighlightComment">/// containing IR construct for a Module, a manager for passes over modules</span></CodeLine>
<Link id="l00017" /><CodeLine lineNumber="17"><span class="doxyHighlightComment">/// forms the base case which runs its managed passes in sequence over the</span></CodeLine>
<Link id="l00018" /><CodeLine lineNumber="18"><span class="doxyHighlightComment">/// single module provided.</span></CodeLine>
<Link id="l00019" /><CodeLine lineNumber="19"><span class="doxyHighlightComment">///</span></CodeLine>
<Link id="l00020" /><CodeLine lineNumber="20"><span class="doxyHighlightComment">/// The core IR library provides managers for running passes over</span></CodeLine>
<Link id="l00021" /><CodeLine lineNumber="21"><span class="doxyHighlightComment">/// modules and functions.</span></CodeLine>
<Link id="l00022" /><CodeLine lineNumber="22"><span class="doxyHighlightComment">///</span></CodeLine>
<Link id="l00023" /><CodeLine lineNumber="23"><span class="doxyHighlightComment">/// &#42; FunctionPassManager can run over a Module, runs each pass over</span></CodeLine>
<Link id="l00024" /><CodeLine lineNumber="24"><span class="doxyHighlightComment">///   a Function.</span></CodeLine>
<Link id="l00025" /><CodeLine lineNumber="25"><span class="doxyHighlightComment">/// &#42; ModulePassManager must be directly run, runs each pass over the Module.</span></CodeLine>
<Link id="l00026" /><CodeLine lineNumber="26"><span class="doxyHighlightComment">///</span></CodeLine>
<Link id="l00027" /><CodeLine lineNumber="27"><span class="doxyHighlightComment">/// Note that the implementations of the pass managers use concept-based</span></CodeLine>
<Link id="l00028" /><CodeLine lineNumber="28"><span class="doxyHighlightComment">/// polymorphism as outlined in the &quot;Value Semantics and Concept-based</span></CodeLine>
<Link id="l00029" /><CodeLine lineNumber="29"><span class="doxyHighlightComment">/// Polymorphism&quot; talk (or its abbreviated sibling &quot;Inheritance Is The Base</span></CodeLine>
<Link id="l00030" /><CodeLine lineNumber="30"><span class="doxyHighlightComment">/// Class of Evil&quot;) by Sean Parent:</span></CodeLine>
<Link id="l00031" /><CodeLine lineNumber="31"><span class="doxyHighlightComment">/// &#42; https://sean-parent.stlab.cc/papers-and-presentations</span></CodeLine>
<Link id="l00032" /><CodeLine lineNumber="32"><span class="doxyHighlightComment">/// &#42; http://www.youtube.com/watch?v=&#95;BpMYeUFXv8</span></CodeLine>
<Link id="l00033" /><CodeLine lineNumber="33"><span class="doxyHighlightComment">/// &#42; https://learn.microsoft.com/en-us/shows/goingnative-2013/inheritance-base-class-of-evil</span></CodeLine>
<Link id="l00034" /><CodeLine lineNumber="34"><span class="doxyHighlightComment">///</span></CodeLine>
<Link id="l00035" /><CodeLine lineNumber="35"><span class="doxyHighlightComment">//===----------------------------------------------------------------------===//</span></CodeLine>
<Link id="l00036" /><CodeLine lineNumber="36"></CodeLine>
<Link id="l00037" /><CodeLine lineNumber="37"><span class="doxyHighlightPreprocessor">#ifndef LLVM&#95;IR&#95;PASSMANAGER&#95;H</span></CodeLine>
<Link id="l00038" /><CodeLine lineNumber="38"><span class="doxyHighlightPreprocessor">#define LLVM&#95;IR&#95;PASSMANAGER&#95;H</span></CodeLine>
<Link id="l00039" /><CodeLine lineNumber="39"></CodeLine>
<Link id="l00040" /><CodeLine lineNumber="40"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/adt/densemap-h">llvm/ADT/DenseMap.h</a>&quot;</span></CodeLine>
<Link id="l00041" /><CodeLine lineNumber="41"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/adt/stlextras-h">llvm/ADT/STLExtras.h</a>&quot;</span></CodeLine>
<Link id="l00042" /><CodeLine lineNumber="42"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/adt/stringref-h">llvm/ADT/StringRef.h</a>&quot;</span></CodeLine>
<Link id="l00043" /><CodeLine lineNumber="43"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/adt/tinyptrvector-h">llvm/ADT/TinyPtrVector.h</a>&quot;</span></CodeLine>
<Link id="l00044" /><CodeLine lineNumber="44"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/ir/analysis-h">llvm/IR/Analysis.h</a>&quot;</span></CodeLine>
<Link id="l00045" /><CodeLine lineNumber="45"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/ir/passmanagerinternal-h">llvm/IR/PassManagerInternal.h</a>&quot;</span></CodeLine>
<Link id="l00046" /><CodeLine lineNumber="46"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/support/typename-h">llvm/Support/TypeName.h</a>&quot;</span></CodeLine>
<Link id="l00047" /><CodeLine lineNumber="47"><span class="doxyHighlightPreprocessor">#include &lt;cassert&gt;</span></CodeLine>
<Link id="l00048" /><CodeLine lineNumber="48"><span class="doxyHighlightPreprocessor">#include &lt;cstring&gt;</span></CodeLine>
<Link id="l00049" /><CodeLine lineNumber="49"><span class="doxyHighlightPreprocessor">#include &lt;iterator&gt;</span></CodeLine>
<Link id="l00050" /><CodeLine lineNumber="50"><span class="doxyHighlightPreprocessor">#include &lt;list&gt;</span></CodeLine>
<Link id="l00051" /><CodeLine lineNumber="51"><span class="doxyHighlightPreprocessor">#include &lt;memory&gt;</span></CodeLine>
<Link id="l00052" /><CodeLine lineNumber="52"><span class="doxyHighlightPreprocessor">#include &lt;tuple&gt;</span></CodeLine>
<Link id="l00053" /><CodeLine lineNumber="53"><span class="doxyHighlightPreprocessor">#include &lt;type&#95;traits&gt;</span></CodeLine>
<Link id="l00054" /><CodeLine lineNumber="54"><span class="doxyHighlightPreprocessor">#include &lt;utility&gt;</span></CodeLine>
<Link id="l00055" /><CodeLine lineNumber="55"><span class="doxyHighlightPreprocessor">#include &lt;vector&gt;</span></CodeLine>
<Link id="l00056" /><CodeLine lineNumber="56"></CodeLine>
<Link id="l00057" /><CodeLine lineNumber="57"><span class="doxyHighlightKeyword">namespace </span><span class="doxyHighlight"><a href="/docs/api/namespaces/llvm">llvm</a> &#123;</span></CodeLine>
<Link id="l00058" /><CodeLine lineNumber="58"></CodeLine>
<Link id="l00059" /><CodeLine lineNumber="59"><span class="doxyHighlightKeyword">class </span><span class="doxyHighlight"><a href="/docs/api/classes/llvm/function">Function</a>;</span></CodeLine>
<Link id="l00060" /><CodeLine lineNumber="60"><span class="doxyHighlightKeyword">class </span><span class="doxyHighlight"><a href="/docs/api/classes/llvm/module">Module</a>;</span></CodeLine>
<Link id="l00061" /><CodeLine lineNumber="61"></CodeLine>
<Link id="l00062" /><CodeLine lineNumber="62"><span class="doxyHighlightComment">// Forward declare the analysis manager template.</span></CodeLine>
<Link id="l00063" /><CodeLine lineNumber="63"><span class="doxyHighlightKeyword">template</span><span class="doxyHighlight"> &lt;</span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> IRUnitT, </span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight">... ExtraArgTs&gt; </span><span class="doxyHighlightKeyword">class </span><span class="doxyHighlight"><a href="/docs/api/classes/llvm/analysismanager">AnalysisManager</a>;</span></CodeLine>
<Link id="l00064" /><CodeLine lineNumber="64"></CodeLine>
<Link id="l00065" /><CodeLine lineNumber="65"><span class="doxyHighlightComment">/// A CRTP mix-in to automatically provide informational APIs needed for</span></CodeLine>
<Link id="l00066" /><CodeLine lineNumber="66"><span class="doxyHighlightComment">/// passes.</span></CodeLine>
<Link id="l00067" /><CodeLine lineNumber="67"><span class="doxyHighlightComment">///</span></CodeLine>
<Link id="l00068" /><CodeLine lineNumber="68"><span class="doxyHighlightComment">/// This provides some boilerplate for types that are passes.</span></CodeLine>
<Link id="l00069" /><CodeLine lineNumber="69" lineLink="/docs/api/structs/llvm/passinfomixin"><span class="doxyHighlightKeyword">template</span><span class="doxyHighlight"> &lt;</span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> DerivedT&gt; </span><span class="doxyHighlightKeyword">struct </span><span class="doxyHighlight"><a href="/docs/api/structs/llvm/passinfomixin">PassInfoMixin</a> &#123;</span></CodeLine>
<Link id="l00070" /><CodeLine lineNumber="70"><span class="doxyHighlightComment">  /// Gets the name of the pass we are mixed into.</span></CodeLine>
<Link id="l00071" /><CodeLine lineNumber="71" lineLink="/docs/api/structs/llvm/passinfomixin/#a630e2eac0694bcbcfed653c6a7f616e3"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/stringref">StringRef</a> <a href="/docs/api/structs/llvm/passinfomixin/#a630e2eac0694bcbcfed653c6a7f616e3">name</a>() &#123;</span></CodeLine>
<Link id="l00072" /><CodeLine lineNumber="72"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">static&#95;assert</span><span class="doxyHighlight">(std::is&#95;base&#95;of&lt;PassInfoMixin, DerivedT&gt;::value,</span></CodeLine>
<Link id="l00073" /><CodeLine lineNumber="73"><span class="doxyHighlight">                  </span><span class="doxyHighlightStringLiteral">&quot;Must pass the derived type as the template argument!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l00074" /><CodeLine lineNumber="74"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/stringref">StringRef</a> Name = <a href="/docs/api/namespaces/llvm/#a9ac1b702e99f1978f2dd36cac2f7400f">getTypeName&lt;DerivedT&gt;</a>();</span></CodeLine>
<Link id="l00075" /><CodeLine lineNumber="75"><span class="doxyHighlight">    Name.consume&#95;front(</span><span class="doxyHighlightStringLiteral">&quot;llvm::&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l00076" /><CodeLine lineNumber="76"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> Name;</span></CodeLine>
<Link id="l00077" /><CodeLine lineNumber="77"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00078" /><CodeLine lineNumber="78"></CodeLine>
<Link id="l00079" /><CodeLine lineNumber="79" lineLink="/docs/api/structs/llvm/passinfomixin/#aa4cc9f41bee4680f8bc4dce320d8f7c7"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/structs/llvm/passinfomixin/#aa4cc9f41bee4680f8bc4dce320d8f7c7">printPipeline</a>(<a href="/docs/api/classes/llvm/raw-ostream">raw&#95;ostream</a> &amp;OS,</span></CodeLine>
<Link id="l00080" /><CodeLine lineNumber="80"><span class="doxyHighlight">                     <a href="/docs/api/classes/llvm/function-ref">function&#95;ref</a>&lt;<a href="/docs/api/classes/llvm/stringref">StringRef</a>(<a href="/docs/api/classes/llvm/stringref">StringRef</a>)&gt; MapClassName2PassName) &#123;</span></CodeLine>
<Link id="l00081" /><CodeLine lineNumber="81"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/stringref">StringRef</a> ClassName = DerivedT::name();</span></CodeLine>
<Link id="l00082" /><CodeLine lineNumber="82"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86loweramxintrinsics-cpp/#adb9257105a403ef9d0773b87693f7779">PassName</a> = MapClassName2PassName(ClassName);</span></CodeLine>
<Link id="l00083" /><CodeLine lineNumber="83"><span class="doxyHighlight">    OS &lt;&lt; <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86loweramxintrinsics-cpp/#adb9257105a403ef9d0773b87693f7779">PassName</a>;</span></CodeLine>
<Link id="l00084" /><CodeLine lineNumber="84"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00085" /><CodeLine lineNumber="85"><span class="doxyHighlight">&#125;;</span></CodeLine>
<Link id="l00086" /><CodeLine lineNumber="86"></CodeLine>
<Link id="l00087" /><CodeLine lineNumber="87"><span class="doxyHighlightComment">/// A CRTP mix-in that provides informational APIs needed for analysis passes.</span></CodeLine>
<Link id="l00088" /><CodeLine lineNumber="88"><span class="doxyHighlightComment">///</span></CodeLine>
<Link id="l00089" /><CodeLine lineNumber="89"><span class="doxyHighlightComment">/// This provides some boilerplate for types that are analysis passes. It</span></CodeLine>
<Link id="l00090" /><CodeLine lineNumber="90"><span class="doxyHighlightComment">/// automatically mixes in \\c PassInfoMixin.</span></CodeLine>
<Link id="l00091" /><CodeLine lineNumber="91"><span class="doxyHighlightKeyword">template</span><span class="doxyHighlight"> &lt;</span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> DerivedT&gt;</span></CodeLine>
<Link id="l00092" /><CodeLine lineNumber="92" lineLink="/docs/api/structs/llvm/analysisinfomixin"><span class="doxyHighlightKeyword">struct </span><span class="doxyHighlight"><a href="/docs/api/structs/llvm/analysisinfomixin">AnalysisInfoMixin</a> : <a href="/docs/api/structs/llvm/passinfomixin">PassInfoMixin</a>&lt;DerivedT&gt; &#123;</span></CodeLine>
<Link id="l00093" /><CodeLine lineNumber="93"><span class="doxyHighlightComment">  /// Returns an opaque, unique ID for this analysis type.</span></CodeLine>
<Link id="l00094" /><CodeLine lineNumber="94"><span class="doxyHighlightComment">  ///</span></CodeLine>
<Link id="l00095" /><CodeLine lineNumber="95"><span class="doxyHighlightComment">  /// This ID is a pointer type that is guaranteed to be 8-byte aligned and thus</span></CodeLine>
<Link id="l00096" /><CodeLine lineNumber="96"><span class="doxyHighlightComment">  /// suitable for use in sets, maps, and other data structures that use the low</span></CodeLine>
<Link id="l00097" /><CodeLine lineNumber="97"><span class="doxyHighlightComment">  /// bits of pointers.</span></CodeLine>
<Link id="l00098" /><CodeLine lineNumber="98"><span class="doxyHighlightComment">  ///</span></CodeLine>
<Link id="l00099" /><CodeLine lineNumber="99"><span class="doxyHighlightComment">  /// Note that this requires the derived type provide a static \\c AnalysisKey</span></CodeLine>
<Link id="l00100" /><CodeLine lineNumber="100"><span class="doxyHighlightComment">  /// member called \\c Key.</span></CodeLine>
<Link id="l00101" /><CodeLine lineNumber="101"><span class="doxyHighlightComment">  ///</span></CodeLine>
<Link id="l00102" /><CodeLine lineNumber="102"><span class="doxyHighlightComment">  /// FIXME: The only reason the mixin type itself can&#39;t declare the Key value</span></CodeLine>
<Link id="l00103" /><CodeLine lineNumber="103"><span class="doxyHighlightComment">  /// is that some compilers cannot correctly unique a templated static variable</span></CodeLine>
<Link id="l00104" /><CodeLine lineNumber="104"><span class="doxyHighlightComment">  /// so it has the same addresses in each instantiation. The only currently</span></CodeLine>
<Link id="l00105" /><CodeLine lineNumber="105"><span class="doxyHighlightComment">  /// known platform with this limitation is Windows DLL builds, specifically</span></CodeLine>
<Link id="l00106" /><CodeLine lineNumber="106"><span class="doxyHighlightComment">  /// building each part of LLVM as a DLL. If we ever remove that build</span></CodeLine>
<Link id="l00107" /><CodeLine lineNumber="107"><span class="doxyHighlightComment">  /// configuration, this mixin can provide the static key as well.</span></CodeLine>
<Link id="l00108" /><CodeLine lineNumber="108" lineLink="/docs/api/structs/llvm/analysisinfomixin/#a605c4abf7c7f3a053bf869b79098cd68"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> <a href="/docs/api/structs/llvm/analysiskey">AnalysisKey</a> &#42;<a href="/docs/api/structs/llvm/analysisinfomixin/#a605c4abf7c7f3a053bf869b79098cd68">ID</a>() &#123;</span></CodeLine>
<Link id="l00109" /><CodeLine lineNumber="109"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">static&#95;assert</span><span class="doxyHighlight">(std::is&#95;base&#95;of&lt;AnalysisInfoMixin, DerivedT&gt;::value,</span></CodeLine>
<Link id="l00110" /><CodeLine lineNumber="110"><span class="doxyHighlight">                  </span><span class="doxyHighlightStringLiteral">&quot;Must pass the derived type as the template argument!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l00111" /><CodeLine lineNumber="111"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> &amp;DerivedT::Key;</span></CodeLine>
<Link id="l00112" /><CodeLine lineNumber="112"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00113" /><CodeLine lineNumber="113"><span class="doxyHighlight">&#125;;</span></CodeLine>
<Link id="l00114" /><CodeLine lineNumber="114"></CodeLine>
<Link id="l00115" /><CodeLine lineNumber="115"><span class="doxyHighlightKeyword">namespace </span><span class="doxyHighlight"><a href="/docs/api/namespaces/detail">detail</a> &#123;</span></CodeLine>
<Link id="l00116" /><CodeLine lineNumber="116"></CodeLine>
<Link id="l00117" /><CodeLine lineNumber="117"><span class="doxyHighlightComment">/// Actual unpacker of extra arguments in getAnalysisResult,</span></CodeLine>
<Link id="l00118" /><CodeLine lineNumber="118"><span class="doxyHighlightComment">/// passes only those tuple arguments that are mentioned in index&#95;sequence.</span></CodeLine>
<Link id="l00119" /><CodeLine lineNumber="119"><span class="doxyHighlightKeyword">template</span><span class="doxyHighlight"> &lt;</span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> PassT, </span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> IRUnitT, </span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> AnalysisManagerT,</span></CodeLine>
<Link id="l00120" /><CodeLine lineNumber="120"><span class="doxyHighlight">          </span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight">... ArgTs, </span><span class="doxyHighlightKeywordType">size&#95;t</span><span class="doxyHighlight">... Ns&gt;</span></CodeLine>
<Link id="l00121" /><CodeLine lineNumber="121"><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> PassT::Result</span></CodeLine>
<Link id="l00122" /><CodeLine lineNumber="122" lineLink="/docs/api/namespaces/llvm/detail/#a3e963cca46ea36a2967e79d149d302aa"><span class="doxyHighlight"><a href="/docs/api/namespaces/llvm/detail/#a3e963cca46ea36a2967e79d149d302aa">getAnalysisResultUnpackTuple</a>(AnalysisManagerT &amp;AM, IRUnitT &amp;<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/legalizer-cpp/#a05ab4853f7153e537774d02580e761ec">IR</a>,</span></CodeLine>
<Link id="l00123" /><CodeLine lineNumber="123"><span class="doxyHighlight">                             std::tuple&lt;ArgTs...&gt; Args,</span></CodeLine>
<Link id="l00124" /><CodeLine lineNumber="124"><span class="doxyHighlight">                             std::index&#95;sequence&lt;Ns...&gt;) &#123;</span></CodeLine>
<Link id="l00125" /><CodeLine lineNumber="125"><span class="doxyHighlight">  (void)Args;</span></CodeLine>
<Link id="l00126" /><CodeLine lineNumber="126"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> AM.template getResult&lt;PassT&gt;(<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/legalizer-cpp/#a05ab4853f7153e537774d02580e761ec">IR</a>, std::get&lt;Ns&gt;(Args)...);</span></CodeLine>
<Link id="l00127" /><CodeLine lineNumber="127"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l00128" /><CodeLine lineNumber="128"></CodeLine>
<Link id="l00129" /><CodeLine lineNumber="129"><span class="doxyHighlightComment">/// Helper for &#42;partial&#42; unpacking of extra arguments in getAnalysisResult.</span></CodeLine>
<Link id="l00130" /><CodeLine lineNumber="130"><span class="doxyHighlightComment">///</span></CodeLine>
<Link id="l00131" /><CodeLine lineNumber="131"><span class="doxyHighlightComment">/// Arguments passed in tuple come from PassManager, so they might have extra</span></CodeLine>
<Link id="l00132" /><CodeLine lineNumber="132"><span class="doxyHighlightComment">/// arguments after those AnalysisManager&#39;s ExtraArgTs ones that we need to</span></CodeLine>
<Link id="l00133" /><CodeLine lineNumber="133"><span class="doxyHighlightComment">/// pass to getResult.</span></CodeLine>
<Link id="l00134" /><CodeLine lineNumber="134"><span class="doxyHighlightKeyword">template</span><span class="doxyHighlight"> &lt;</span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> PassT, </span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> IRUnitT, </span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight">... AnalysisArgTs,</span></CodeLine>
<Link id="l00135" /><CodeLine lineNumber="135"><span class="doxyHighlight">          </span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight">... MainArgTs&gt;</span></CodeLine>
<Link id="l00136" /><CodeLine lineNumber="136"><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> PassT::Result</span></CodeLine>
<Link id="l00137" /><CodeLine lineNumber="137" lineLink="/docs/api/namespaces/llvm/detail/#abd2eb0563df3078fb91a47d6203fe1d6"><span class="doxyHighlight"><a href="/docs/api/namespaces/llvm/detail/#abd2eb0563df3078fb91a47d6203fe1d6">getAnalysisResult</a>(<a href="/docs/api/classes/llvm/analysismanager">AnalysisManager&lt;IRUnitT, AnalysisArgTs...&gt;</a> &amp;AM, IRUnitT &amp;<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/legalizer-cpp/#a05ab4853f7153e537774d02580e761ec">IR</a>,</span></CodeLine>
<Link id="l00138" /><CodeLine lineNumber="138"><span class="doxyHighlight">                  std::tuple&lt;MainArgTs...&gt; Args) &#123;</span></CodeLine>
<Link id="l00139" /><CodeLine lineNumber="139"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/detail/#a3e963cca46ea36a2967e79d149d302aa">getAnalysisResultUnpackTuple</a>&lt;</span></CodeLine>
<Link id="l00140" /><CodeLine lineNumber="140"><span class="doxyHighlight">          PassT, IRUnitT&gt;)(AM, <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/legalizer-cpp/#a05ab4853f7153e537774d02580e761ec">IR</a>, Args,</span></CodeLine>
<Link id="l00141" /><CodeLine lineNumber="141"><span class="doxyHighlight">                           std::index&#95;sequence&#95;for&lt;AnalysisArgTs...&gt;&#123;&#125;);</span></CodeLine>
<Link id="l00142" /><CodeLine lineNumber="142"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l00143" /><CodeLine lineNumber="143"></CodeLine>
<Link id="l00144" /><CodeLine lineNumber="144"><span class="doxyHighlight">&#125; </span><span class="doxyHighlightComment">// namespace detail</span></CodeLine>
<Link id="l00145" /><CodeLine lineNumber="145"></CodeLine>
<Link id="l00146" /><CodeLine lineNumber="146"><span class="doxyHighlightComment">/// Manages a sequence of passes over a particular unit of IR.</span></CodeLine>
<Link id="l00147" /><CodeLine lineNumber="147"><span class="doxyHighlightComment">///</span></CodeLine>
<Link id="l00148" /><CodeLine lineNumber="148"><span class="doxyHighlightComment">/// A pass manager contains a sequence of passes to run over a particular unit</span></CodeLine>
<Link id="l00149" /><CodeLine lineNumber="149"><span class="doxyHighlightComment">/// of IR (e.g. Functions, Modules). It is itself a valid pass over that unit of</span></CodeLine>
<Link id="l00150" /><CodeLine lineNumber="150"><span class="doxyHighlightComment">/// IR, and when run over some given IR will run each of its contained passes in</span></CodeLine>
<Link id="l00151" /><CodeLine lineNumber="151"><span class="doxyHighlightComment">/// sequence. Pass managers are the primary and most basic building block of a</span></CodeLine>
<Link id="l00152" /><CodeLine lineNumber="152"><span class="doxyHighlightComment">/// pass pipeline.</span></CodeLine>
<Link id="l00153" /><CodeLine lineNumber="153"><span class="doxyHighlightComment">///</span></CodeLine>
<Link id="l00154" /><CodeLine lineNumber="154"><span class="doxyHighlightComment">/// When you run a pass manager, you provide an \\c AnalysisManager&lt;IRUnitT&gt;</span></CodeLine>
<Link id="l00155" /><CodeLine lineNumber="155"><span class="doxyHighlightComment">/// argument. The pass manager will propagate that analysis manager to each</span></CodeLine>
<Link id="l00156" /><CodeLine lineNumber="156"><span class="doxyHighlightComment">/// pass it runs, and will call the analysis manager&#39;s invalidation routine with</span></CodeLine>
<Link id="l00157" /><CodeLine lineNumber="157"><span class="doxyHighlightComment">/// the PreservedAnalyses of each pass it runs.</span></CodeLine>
<Link id="l00158" /><CodeLine lineNumber="158"><span class="doxyHighlightKeyword">template</span><span class="doxyHighlight"> &lt;</span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> IRUnitT,</span></CodeLine>
<Link id="l00159" /><CodeLine lineNumber="159"><span class="doxyHighlight">          </span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> AnalysisManagerT = AnalysisManager&lt;IRUnitT&gt;,</span></CodeLine>
<Link id="l00160" /><CodeLine lineNumber="160"><span class="doxyHighlight">          </span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight">... ExtraArgTs&gt;</span></CodeLine>
<Link id="l00161" /><CodeLine lineNumber="161" lineLink="/docs/api/classes/llvm/passmanager"><span class="doxyHighlightKeyword">class </span><span class="doxyHighlight"><a href="/docs/api/classes/llvm/passmanager/#a8feea6425d71b06eb9eea6dfb60dcf4e">PassManager</a> : </span><span class="doxyHighlightKeyword">public</span><span class="doxyHighlight"> <a href="/docs/api/structs/llvm/passinfomixin">PassInfoMixin</a>&lt;</span></CodeLine>
<Link id="l00162" /><CodeLine lineNumber="162"><span class="doxyHighlight">                        PassManager&lt;IRUnitT, AnalysisManagerT, ExtraArgTs...&gt;&gt; &#123;</span></CodeLine>
<Link id="l00163" /><CodeLine lineNumber="163"><span class="doxyHighlightKeyword">public</span><span class="doxyHighlight">:</span></CodeLine>
<Link id="l00164" /><CodeLine lineNumber="164"><span class="doxyHighlightComment">  /// Construct a pass manager.</span></CodeLine>
<Link id="l00165" /><CodeLine lineNumber="165" lineLink="/docs/api/classes/llvm/passmanager/#a8feea6425d71b06eb9eea6dfb60dcf4e"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">explicit</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/passmanager/#a8feea6425d71b06eb9eea6dfb60dcf4e">PassManager</a>() = </span><span class="doxyHighlightKeywordFlow">default</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00166" /><CodeLine lineNumber="166"></CodeLine>
<Link id="l00167" /><CodeLine lineNumber="167"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// FIXME: These are equivalent to the default move constructor/move</span></CodeLine>
<Link id="l00168" /><CodeLine lineNumber="168"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// assignment. However, using = default triggers linker errors due to the</span></CodeLine>
<Link id="l00169" /><CodeLine lineNumber="169"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// explicit instantiations below. Find away to use the default and remove the</span></CodeLine>
<Link id="l00170" /><CodeLine lineNumber="170"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// duplicated code here.</span></CodeLine>
<Link id="l00171" /><CodeLine lineNumber="171" lineLink="/docs/api/classes/llvm/passmanager/#a02a2435b416a0e0c35d455b8634a4dbb"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/passmanager/#a02a2435b416a0e0c35d455b8634a4dbb">PassManager</a>(<a href="/docs/api/classes/llvm/passmanager/#a8feea6425d71b06eb9eea6dfb60dcf4e">PassManager</a> &amp;&amp;Arg) : <a href="/docs/api/classes/llvm/passmanager/#a8bd144cba90e4ead30e5ee59165c4ee5">Passes</a>(<a href="/docs/api/namespaces/std">std</a>::<a href="/docs/api/namespaces/llvm/#abfc9c7ecf70f66901e439f7c04ef3dbb">move</a>(Arg.<a href="/docs/api/classes/llvm/passmanager/#a8bd144cba90e4ead30e5ee59165c4ee5">Passes</a>)) &#123;&#125;</span></CodeLine>
<Link id="l00172" /><CodeLine lineNumber="172"></CodeLine>
<Link id="l00173" /><CodeLine lineNumber="173" lineLink="/docs/api/classes/llvm/passmanager/#a3983ddbc27744d1423b2bad268869caa"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/passmanager/#a8feea6425d71b06eb9eea6dfb60dcf4e">PassManager</a> &amp;<a href="/docs/api/classes/llvm/passmanager/#a3983ddbc27744d1423b2bad268869caa">operator=</a>(<a href="/docs/api/classes/llvm/passmanager/#a8feea6425d71b06eb9eea6dfb60dcf4e">PassManager</a> &amp;&amp;<a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) &#123;</span></CodeLine>
<Link id="l00174" /><CodeLine lineNumber="174"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/passmanager/#a8bd144cba90e4ead30e5ee59165c4ee5">Passes</a> = std::move(<a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>.Passes);</span></CodeLine>
<Link id="l00175" /><CodeLine lineNumber="175"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> &#42;</span><span class="doxyHighlightKeyword">this</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00176" /><CodeLine lineNumber="176"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00177" /><CodeLine lineNumber="177"></CodeLine>
<Link id="l00178" /><CodeLine lineNumber="178" lineLink="/docs/api/classes/llvm/passmanager/#a155889188eb0c299a1b2c69930bc9e2b"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/passmanager/#a155889188eb0c299a1b2c69930bc9e2b">printPipeline</a>(<a href="/docs/api/classes/llvm/raw-ostream">raw&#95;ostream</a> &amp;OS,</span></CodeLine>
<Link id="l00179" /><CodeLine lineNumber="179"><span class="doxyHighlight">                     <a href="/docs/api/classes/llvm/function-ref">function&#95;ref</a>&lt;<a href="/docs/api/classes/llvm/stringref">StringRef</a>(<a href="/docs/api/classes/llvm/stringref">StringRef</a>)&gt; MapClassName2PassName) &#123;</span></CodeLine>
<Link id="l00180" /><CodeLine lineNumber="180"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> Idx = 0, <a href="/docs/api/files/lib/lib/analysis/inlineorder-cpp/#a7ee6f0cb51c3b9056199e9a0001fe8c3a6f6cb72d544962fa333e2e34ce64f719">Size</a> = <a href="/docs/api/classes/llvm/passmanager/#a8bd144cba90e4ead30e5ee59165c4ee5">Passes</a>.size(); Idx != <a href="/docs/api/files/lib/lib/analysis/inlineorder-cpp/#a7ee6f0cb51c3b9056199e9a0001fe8c3a6f6cb72d544962fa333e2e34ce64f719">Size</a>; ++Idx) &#123;</span></CodeLine>
<Link id="l00181" /><CodeLine lineNumber="181"><span class="doxyHighlight">      </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;<a href="/docs/api/files/lib/lib/option/option-cpp/#a04665169063c8ca1f2ea96c27fc7c2b2">P</a> = <a href="/docs/api/classes/llvm/passmanager/#a8bd144cba90e4ead30e5ee59165c4ee5">Passes</a>&#91;Idx&#93;.get();</span></CodeLine>
<Link id="l00182" /><CodeLine lineNumber="182"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/option/option-cpp/#a04665169063c8ca1f2ea96c27fc7c2b2">P</a>-&gt;printPipeline(OS, MapClassName2PassName);</span></CodeLine>
<Link id="l00183" /><CodeLine lineNumber="183"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Idx + 1 &lt; <a href="/docs/api/files/lib/lib/analysis/inlineorder-cpp/#a7ee6f0cb51c3b9056199e9a0001fe8c3a6f6cb72d544962fa333e2e34ce64f719">Size</a>)</span></CodeLine>
<Link id="l00184" /><CodeLine lineNumber="184"><span class="doxyHighlight">        OS &lt;&lt; </span><span class="doxyHighlightCharLiteral">&#39;,&#39;</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00185" /><CodeLine lineNumber="185"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l00186" /><CodeLine lineNumber="186"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00187" /><CodeLine lineNumber="187"></CodeLine>
<Link id="l00188" /><CodeLine lineNumber="188"><span class="doxyHighlightComment">  /// Run all of the passes in this manager over the given unit of IR.</span></CodeLine>
<Link id="l00189" /><CodeLine lineNumber="189"><span class="doxyHighlightComment">  /// ExtraArgs are passed to each pass.</span></CodeLine>
<Link id="l00190" /><CodeLine lineNumber="190" lineLink="/docs/api/classes/llvm/passmanager/#aef5d9142acafceffd14c76b8ddd0fd4e"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/preservedanalyses">PreservedAnalyses</a> <a href="/docs/api/classes/llvm/passmanager/#aef5d9142acafceffd14c76b8ddd0fd4e">run</a>(IRUnitT &amp;<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/legalizer-cpp/#a05ab4853f7153e537774d02580e761ec">IR</a>, AnalysisManagerT &amp;AM,</span></CodeLine>
<Link id="l00191" /><CodeLine lineNumber="191"><span class="doxyHighlight">                        ExtraArgTs... ExtraArgs);</span></CodeLine>
<Link id="l00192" /><CodeLine lineNumber="192"></CodeLine>
<Link id="l00193" /><CodeLine lineNumber="193"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">template</span><span class="doxyHighlight"> &lt;</span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> PassT&gt;</span></CodeLine>
<Link id="l00194" /><CodeLine lineNumber="194"><span class="doxyHighlight">  <a href="/docs/api/files/include/include/llvm/include/llvm/support/compiler-h/#ac2ac12f478def782d8c823536e7ebcf7">LLVM&#95;ATTRIBUTE&#95;MINSIZE</a> std::enable&#95;if&#95;t&lt;!std::is&#95;same&#95;v&lt;PassT, PassManager&gt;&gt;</span></CodeLine>
<Link id="l00195" /><CodeLine lineNumber="195" lineLink="/docs/api/classes/llvm/passmanager/#a3b988beeca0390fa8fa653d17bded384"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/passmanager/#a3b988beeca0390fa8fa653d17bded384">addPass</a>(PassT &amp;&amp;<a href="/docs/api/classes/llvm/pass">Pass</a>) &#123;</span></CodeLine>
<Link id="l00196" /><CodeLine lineNumber="196"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">using </span><span class="doxyHighlight">PassModelT =</span></CodeLine>
<Link id="l00197" /><CodeLine lineNumber="197"><span class="doxyHighlight">        <a href="/docs/api/structs/llvm/detail/passmodel">detail::PassModel</a>&lt;IRUnitT, PassT, AnalysisManagerT, ExtraArgTs...&gt;;</span></CodeLine>
<Link id="l00198" /><CodeLine lineNumber="198"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Do not use make&#95;unique or emplace&#95;back, they cause too many template</span></CodeLine>
<Link id="l00199" /><CodeLine lineNumber="199"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// instantiations, causing terrible compile times.</span></CodeLine>
<Link id="l00200" /><CodeLine lineNumber="200"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/passmanager/#a8bd144cba90e4ead30e5ee59165c4ee5">Passes</a>.push&#95;back(std::unique&#95;ptr&lt;PassConceptT&gt;(</span></CodeLine>
<Link id="l00201" /><CodeLine lineNumber="201"><span class="doxyHighlight">        </span><span class="doxyHighlightKeyword">new</span><span class="doxyHighlight"> PassModelT(std::forward&lt;PassT&gt;(<a href="/docs/api/classes/llvm/pass">Pass</a>))));</span></CodeLine>
<Link id="l00202" /><CodeLine lineNumber="202"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00203" /><CodeLine lineNumber="203"></CodeLine>
<Link id="l00204" /><CodeLine lineNumber="204"><span class="doxyHighlightComment">  /// When adding a pass manager pass that has the same type as this pass</span></CodeLine>
<Link id="l00205" /><CodeLine lineNumber="205"><span class="doxyHighlightComment">  /// manager, simply move the passes over. This is because we don&#39;t have</span></CodeLine>
<Link id="l00206" /><CodeLine lineNumber="206"><span class="doxyHighlightComment">  /// use cases rely on executing nested pass managers. Doing this could</span></CodeLine>
<Link id="l00207" /><CodeLine lineNumber="207"><span class="doxyHighlightComment">  /// reduce implementation complexity and avoid potential invalidation</span></CodeLine>
<Link id="l00208" /><CodeLine lineNumber="208"><span class="doxyHighlightComment">  /// issues that may happen with nested pass managers of the same type.</span></CodeLine>
<Link id="l00209" /><CodeLine lineNumber="209"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">template</span><span class="doxyHighlight"> &lt;</span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> PassT&gt;</span></CodeLine>
<Link id="l00210" /><CodeLine lineNumber="210"><span class="doxyHighlight">  <a href="/docs/api/files/include/include/llvm/include/llvm/support/compiler-h/#ac2ac12f478def782d8c823536e7ebcf7">LLVM&#95;ATTRIBUTE&#95;MINSIZE</a> std::enable&#95;if&#95;t&lt;std::is&#95;same&#95;v&lt;PassT, PassManager&gt;&gt;</span></CodeLine>
<Link id="l00211" /><CodeLine lineNumber="211" lineLink="/docs/api/classes/llvm/passmanager/#aa3e132679321009293a0289913d8b15b"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/passmanager/#aa3e132679321009293a0289913d8b15b">addPass</a>(PassT &amp;&amp;<a href="/docs/api/classes/llvm/pass">Pass</a>) &#123;</span></CodeLine>
<Link id="l00212" /><CodeLine lineNumber="212"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;<a href="/docs/api/files/lib/lib/option/option-cpp/#a04665169063c8ca1f2ea96c27fc7c2b2">P</a> : <a href="/docs/api/classes/llvm/pass">Pass</a>.Passes)</span></CodeLine>
<Link id="l00213" /><CodeLine lineNumber="213"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/passmanager/#a8bd144cba90e4ead30e5ee59165c4ee5">Passes</a>.push&#95;back(std::move(<a href="/docs/api/files/lib/lib/option/option-cpp/#a04665169063c8ca1f2ea96c27fc7c2b2">P</a>));</span></CodeLine>
<Link id="l00214" /><CodeLine lineNumber="214"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00215" /><CodeLine lineNumber="215"></CodeLine>
<Link id="l00216" /><CodeLine lineNumber="216"><span class="doxyHighlightComment">  /// Returns if the pass manager contains any passes.</span></CodeLine>
<Link id="l00217" /><CodeLine lineNumber="217" lineLink="/docs/api/classes/llvm/passmanager/#afdd422a60efda415b943a1c35dcd7de2"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/passmanager/#afdd422a60efda415b943a1c35dcd7de2">isEmpty</a>()</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123; </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/passmanager/#a8bd144cba90e4ead30e5ee59165c4ee5">Passes</a>.empty(); &#125;</span></CodeLine>
<Link id="l00218" /><CodeLine lineNumber="218"></CodeLine>
<Link id="l00219" /><CodeLine lineNumber="219" lineLink="/docs/api/classes/llvm/passmanager/#aa7a79037ff31d737403027e38d65e2d4"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/passmanager/#aa7a79037ff31d737403027e38d65e2d4">isRequired</a>() &#123; </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">; &#125;</span></CodeLine>
<Link id="l00220" /><CodeLine lineNumber="220"></CodeLine>
<Link id="l00221" /><CodeLine lineNumber="221"><span class="doxyHighlightKeyword">protected</span><span class="doxyHighlight">:</span></CodeLine>
<Link id="l00222" /><CodeLine lineNumber="222" lineLink="/docs/api/classes/llvm/passmanager/#a9a39a976ec31bf0cf6b8fd2da0327b66"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">using </span><span class="doxyHighlight"><a href="/docs/api/classes/llvm/passmanager/#a9a39a976ec31bf0cf6b8fd2da0327b66">PassConceptT</a> =</span></CodeLine>
<Link id="l00223" /><CodeLine lineNumber="223"><span class="doxyHighlight">      <a href="/docs/api/structs/llvm/detail/passconcept">detail::PassConcept</a>&lt;IRUnitT, AnalysisManagerT, ExtraArgTs...&gt;;</span></CodeLine>
<Link id="l00224" /><CodeLine lineNumber="224"></CodeLine>
<Link id="l00225" /><CodeLine lineNumber="225" lineLink="/docs/api/classes/llvm/passmanager/#a8bd144cba90e4ead30e5ee59165c4ee5"><span class="doxyHighlight">  std::vector&lt;std::unique&#95;ptr&lt;PassConceptT&gt;&gt; <a href="/docs/api/classes/llvm/passmanager/#a8bd144cba90e4ead30e5ee59165c4ee5">Passes</a>;</span></CodeLine>
<Link id="l00226" /><CodeLine lineNumber="226"><span class="doxyHighlight">&#125;;</span></CodeLine>
<Link id="l00227" /><CodeLine lineNumber="227"></CodeLine>
<Link id="l00228" /><CodeLine lineNumber="228"><span class="doxyHighlightKeyword">template</span><span class="doxyHighlight"> &lt;</span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> IRUnitT&gt;</span></CodeLine>
<Link id="l00229" /><CodeLine lineNumber="229" lineLink="/docs/api/namespaces/llvm/#a3e747628bd3eea8ba888d3615c900c9f"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/#a3e747628bd3eea8ba888d3615c900c9f">printIRUnitNameForStackTrace</a>(<a href="/docs/api/classes/llvm/raw-ostream">raw&#95;ostream</a> &amp;OS, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> IRUnitT &amp;<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/legalizer-cpp/#a05ab4853f7153e537774d02580e761ec">IR</a>);</span></CodeLine>
<Link id="l00230" /><CodeLine lineNumber="230"></CodeLine>
<Link id="l00231" /><CodeLine lineNumber="231"><span class="doxyHighlightKeyword">template</span><span class="doxyHighlight"> &lt;&gt;</span></CodeLine>
<Link id="l00232" /><CodeLine lineNumber="232"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/#a6f56608c7004faab23d9ba3de07dab23">printIRUnitNameForStackTrace&lt;Module&gt;</a>(<a href="/docs/api/classes/llvm/raw-ostream">raw&#95;ostream</a> &amp;OS, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/module">Module</a> &amp;<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/legalizer-cpp/#a05ab4853f7153e537774d02580e761ec">IR</a>);</span></CodeLine>
<Link id="l00233" /><CodeLine lineNumber="233"></CodeLine>
<Link id="l00234" /><CodeLine lineNumber="234"><span class="doxyHighlightKeyword">extern</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">template</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">class </span><span class="doxyHighlight"><a href="/docs/api/classes/llvm/passmanager">PassManager&lt;Module&gt;</a>;</span></CodeLine>
<Link id="l00235" /><CodeLine lineNumber="235"></CodeLine>
<Link id="l00236" /><CodeLine lineNumber="236"><span class="doxyHighlightComment">/// Convenience typedef for a pass manager over modules.</span></CodeLine>
<Link id="l00237" /><CodeLine lineNumber="237" lineLink="/docs/api/namespaces/llvm/#a79ab9199d2ba6a1c9cac2b79efc194a3"><span class="doxyHighlightKeyword">using </span><span class="doxyHighlight"><a href="/docs/api/namespaces/llvm/#a79ab9199d2ba6a1c9cac2b79efc194a3">ModulePassManager</a> = <a href="/docs/api/classes/llvm/passmanager">PassManager&lt;Module&gt;</a>;</span></CodeLine>
<Link id="l00238" /><CodeLine lineNumber="238"></CodeLine>
<Link id="l00239" /><CodeLine lineNumber="239"><span class="doxyHighlightKeyword">template</span><span class="doxyHighlight"> &lt;&gt;</span></CodeLine>
<Link id="l00240" /><CodeLine lineNumber="240"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/#a3b48574ebac5458bd263306e71891d6c">printIRUnitNameForStackTrace&lt;Function&gt;</a>(<a href="/docs/api/classes/llvm/raw-ostream">raw&#95;ostream</a> &amp;OS,</span></CodeLine>
<Link id="l00241" /><CodeLine lineNumber="241"><span class="doxyHighlight">                                            </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/function">Function</a> &amp;<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/legalizer-cpp/#a05ab4853f7153e537774d02580e761ec">IR</a>);</span></CodeLine>
<Link id="l00242" /><CodeLine lineNumber="242"></CodeLine>
<Link id="l00243" /><CodeLine lineNumber="243"><span class="doxyHighlightKeyword">extern</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">template</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">class </span><span class="doxyHighlight"><a href="/docs/api/classes/llvm/passmanager">PassManager&lt;Function&gt;</a>;</span></CodeLine>
<Link id="l00244" /><CodeLine lineNumber="244"></CodeLine>
<Link id="l00245" /><CodeLine lineNumber="245"><span class="doxyHighlightComment">/// Convenience typedef for a pass manager over functions.</span></CodeLine>
<Link id="l00246" /><CodeLine lineNumber="246" lineLink="/docs/api/namespaces/llvm/#ab70ef138acbdb1c8278ecf41f5da400f"><span class="doxyHighlightKeyword">using </span><span class="doxyHighlight"><a href="/docs/api/namespaces/llvm/#ab70ef138acbdb1c8278ecf41f5da400f">FunctionPassManager</a> = <a href="/docs/api/classes/llvm/passmanager">PassManager&lt;Function&gt;</a>;</span></CodeLine>
<Link id="l00247" /><CodeLine lineNumber="247"></CodeLine>
<Link id="l00248" /><CodeLine lineNumber="248"><span class="doxyHighlightComment">/// A container for analyses that lazily runs them and caches their</span></CodeLine>
<Link id="l00249" /><CodeLine lineNumber="249"><span class="doxyHighlightComment">/// results.</span></CodeLine>
<Link id="l00250" /><CodeLine lineNumber="250"><span class="doxyHighlightComment">///</span></CodeLine>
<Link id="l00251" /><CodeLine lineNumber="251"><span class="doxyHighlightComment">/// This class can manage analyses for any IR unit where the address of the IR</span></CodeLine>
<Link id="l00252" /><CodeLine lineNumber="252"><span class="doxyHighlightComment">/// unit sufficies as its identity.</span></CodeLine>
<Link id="l00253" /><CodeLine lineNumber="253" lineLink="/docs/api/classes/llvm/analysismanager"><span class="doxyHighlightKeyword">template</span><span class="doxyHighlight"> &lt;</span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> IRUnitT, </span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight">... ExtraArgTs&gt; </span><span class="doxyHighlightKeyword">class </span><span class="doxyHighlight"><a href="/docs/api/classes/llvm/analysismanager/#a04d20e532396b71cf376c777d6b838c9">AnalysisManager</a> &#123;</span></CodeLine>
<Link id="l00254" /><CodeLine lineNumber="254"><span class="doxyHighlightKeyword">public</span><span class="doxyHighlight">:</span></CodeLine>
<Link id="l00255" /><CodeLine lineNumber="255"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">class </span><span class="doxyHighlight"><a href="/docs/api/classes/llvm/analysismanager/invalidator">Invalidator</a>;</span></CodeLine>
<Link id="l00256" /><CodeLine lineNumber="256"></CodeLine>
<Link id="l00257" /><CodeLine lineNumber="257"><span class="doxyHighlightKeyword">private</span><span class="doxyHighlight">:</span></CodeLine>
<Link id="l00258" /><CodeLine lineNumber="258"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Now that we&#39;ve defined our invalidator, we can define the concept types.</span></CodeLine>
<Link id="l00259" /><CodeLine lineNumber="259"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">using </span><span class="doxyHighlight">ResultConceptT = <a href="/docs/api/structs/llvm/detail/analysisresultconcept">detail::AnalysisResultConcept&lt;IRUnitT, Invalidator&gt;</a>;</span></CodeLine>
<Link id="l00260" /><CodeLine lineNumber="260"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">using </span><span class="doxyHighlight">PassConceptT =</span></CodeLine>
<Link id="l00261" /><CodeLine lineNumber="261"><span class="doxyHighlight">      <a href="/docs/api/structs/llvm/detail/analysispassconcept">detail::AnalysisPassConcept</a>&lt;IRUnitT, <a href="/docs/api/classes/llvm/analysismanager/invalidator">Invalidator</a>, ExtraArgTs...&gt;;</span></CodeLine>
<Link id="l00262" /><CodeLine lineNumber="262"></CodeLine>
<Link id="l00263" /><CodeLine lineNumber="263"><span class="doxyHighlightComment">  /// List of analysis pass IDs and associated concept pointers.</span></CodeLine>
<Link id="l00264" /><CodeLine lineNumber="264"><span class="doxyHighlightComment">  ///</span></CodeLine>
<Link id="l00265" /><CodeLine lineNumber="265"><span class="doxyHighlightComment">  /// Requires iterators to be valid across appending new entries and arbitrary</span></CodeLine>
<Link id="l00266" /><CodeLine lineNumber="266"><span class="doxyHighlightComment">  /// erases. Provides the analysis ID to enable finding iterators to a given</span></CodeLine>
<Link id="l00267" /><CodeLine lineNumber="267"><span class="doxyHighlightComment">  /// entry in maps below, and provides the storage for the actual result</span></CodeLine>
<Link id="l00268" /><CodeLine lineNumber="268"><span class="doxyHighlightComment">  /// concept.</span></CodeLine>
<Link id="l00269" /><CodeLine lineNumber="269"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">using </span><span class="doxyHighlight">AnalysisResultListT =</span></CodeLine>
<Link id="l00270" /><CodeLine lineNumber="270"><span class="doxyHighlight">      std::list&lt;std::pair&lt;AnalysisKey &#42;, std::unique&#95;ptr&lt;ResultConceptT&gt;&gt;&gt;;</span></CodeLine>
<Link id="l00271" /><CodeLine lineNumber="271"></CodeLine>
<Link id="l00272" /><CodeLine lineNumber="272"><span class="doxyHighlightComment">  /// Map type from IRUnitT pointer to our custom list type.</span></CodeLine>
<Link id="l00273" /><CodeLine lineNumber="273"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">using </span><span class="doxyHighlight">AnalysisResultListMapT = <a href="/docs/api/classes/llvm/densemap">DenseMap&lt;IRUnitT &#42;, AnalysisResultListT&gt;</a>;</span></CodeLine>
<Link id="l00274" /><CodeLine lineNumber="274"></CodeLine>
<Link id="l00275" /><CodeLine lineNumber="275"><span class="doxyHighlightComment">  /// Map type from a pair of analysis ID and IRUnitT pointer to an</span></CodeLine>
<Link id="l00276" /><CodeLine lineNumber="276"><span class="doxyHighlightComment">  /// iterator into a particular result list (which is where the actual analysis</span></CodeLine>
<Link id="l00277" /><CodeLine lineNumber="277"><span class="doxyHighlightComment">  /// result is stored).</span></CodeLine>
<Link id="l00278" /><CodeLine lineNumber="278"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">using </span><span class="doxyHighlight">AnalysisResultMapT =</span></CodeLine>
<Link id="l00279" /><CodeLine lineNumber="279"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/densemap">DenseMap&lt;std::pair&lt;AnalysisKey &#42;, IRUnitT &#42;&gt;</a>,</span></CodeLine>
<Link id="l00280" /><CodeLine lineNumber="280"><span class="doxyHighlight">               </span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> AnalysisResultListT::iterator&gt;;</span></CodeLine>
<Link id="l00281" /><CodeLine lineNumber="281"></CodeLine>
<Link id="l00282" /><CodeLine lineNumber="282"><span class="doxyHighlightKeyword">public</span><span class="doxyHighlight">:</span></CodeLine>
<Link id="l00283" /><CodeLine lineNumber="283"><span class="doxyHighlightComment">  /// API to communicate dependencies between analyses during invalidation.</span></CodeLine>
<Link id="l00284" /><CodeLine lineNumber="284"><span class="doxyHighlightComment">  ///</span></CodeLine>
<Link id="l00285" /><CodeLine lineNumber="285"><span class="doxyHighlightComment">  /// When an analysis result embeds handles to other analysis results, it</span></CodeLine>
<Link id="l00286" /><CodeLine lineNumber="286"><span class="doxyHighlightComment">  /// needs to be invalidated both when its own information isn&#39;t preserved and</span></CodeLine>
<Link id="l00287" /><CodeLine lineNumber="287"><span class="doxyHighlightComment">  /// when any of its embedded analysis results end up invalidated. We pass an</span></CodeLine>
<Link id="l00288" /><CodeLine lineNumber="288"><span class="doxyHighlightComment">  /// \\c Invalidator object as an argument to \\c invalidate() in order to let</span></CodeLine>
<Link id="l00289" /><CodeLine lineNumber="289"><span class="doxyHighlightComment">  /// the analysis results themselves define the dependency graph on the fly.</span></CodeLine>
<Link id="l00290" /><CodeLine lineNumber="290"><span class="doxyHighlightComment">  /// This lets us avoid building an explicit representation of the</span></CodeLine>
<Link id="l00291" /><CodeLine lineNumber="291"><span class="doxyHighlightComment">  /// dependencies between analysis results.</span></CodeLine>
<Link id="l00292" /><CodeLine lineNumber="292" lineLink="/docs/api/classes/llvm/analysismanager/invalidator"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">class </span><span class="doxyHighlight">Invalidator &#123;</span></CodeLine>
<Link id="l00293" /><CodeLine lineNumber="293"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">public</span><span class="doxyHighlight">:</span></CodeLine>
<Link id="l00294" /><CodeLine lineNumber="294"><span class="doxyHighlightComment">    /// Trigger the invalidation of some other analysis pass if not already</span></CodeLine>
<Link id="l00295" /><CodeLine lineNumber="295"><span class="doxyHighlightComment">    /// handled and return whether it was in fact invalidated.</span></CodeLine>
<Link id="l00296" /><CodeLine lineNumber="296"><span class="doxyHighlightComment">    ///</span></CodeLine>
<Link id="l00297" /><CodeLine lineNumber="297"><span class="doxyHighlightComment">    /// This is expected to be called from within a given analysis result&#39;s \\c</span></CodeLine>
<Link id="l00298" /><CodeLine lineNumber="298"><span class="doxyHighlightComment">    /// invalidate method to trigger a depth-first walk of all inter-analysis</span></CodeLine>
<Link id="l00299" /><CodeLine lineNumber="299"><span class="doxyHighlightComment">    /// dependencies. The same \\p IR unit and \\p PA passed to that result&#39;s \\c</span></CodeLine>
<Link id="l00300" /><CodeLine lineNumber="300"><span class="doxyHighlightComment">    /// invalidate method should in turn be provided to this routine.</span></CodeLine>
<Link id="l00301" /><CodeLine lineNumber="301"><span class="doxyHighlightComment">    ///</span></CodeLine>
<Link id="l00302" /><CodeLine lineNumber="302"><span class="doxyHighlightComment">    /// The first time this is called for a given analysis pass, it will call</span></CodeLine>
<Link id="l00303" /><CodeLine lineNumber="303"><span class="doxyHighlightComment">    /// the corresponding result&#39;s \\c invalidate method.  Subsequent calls will</span></CodeLine>
<Link id="l00304" /><CodeLine lineNumber="304"><span class="doxyHighlightComment">    /// use a cache of the results of that initial call.  It is an error to form</span></CodeLine>
<Link id="l00305" /><CodeLine lineNumber="305"><span class="doxyHighlightComment">    /// cyclic dependencies between analysis results.</span></CodeLine>
<Link id="l00306" /><CodeLine lineNumber="306"><span class="doxyHighlightComment">    ///</span></CodeLine>
<Link id="l00307" /><CodeLine lineNumber="307"><span class="doxyHighlightComment">    /// This returns true if the given analysis&#39;s result is invalid. Any</span></CodeLine>
<Link id="l00308" /><CodeLine lineNumber="308"><span class="doxyHighlightComment">    /// dependecies on it will become invalid as a result.</span></CodeLine>
<Link id="l00309" /><CodeLine lineNumber="309"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">template</span><span class="doxyHighlight"> &lt;</span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> PassT&gt;</span></CodeLine>
<Link id="l00310" /><CodeLine lineNumber="310" lineLink="/docs/api/classes/llvm/analysismanager/invalidator/#a5e8e9230fa677542877d1f3c6ff95ae2"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/analysismanager/invalidator/#a5e8e9230fa677542877d1f3c6ff95ae2">invalidate</a>(IRUnitT &amp;<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/legalizer-cpp/#a05ab4853f7153e537774d02580e761ec">IR</a>, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/preservedanalyses">PreservedAnalyses</a> &amp;PA) &#123;</span></CodeLine>
<Link id="l00311" /><CodeLine lineNumber="311"><span class="doxyHighlight">      </span><span class="doxyHighlightKeyword">using </span><span class="doxyHighlight">ResultModelT =</span></CodeLine>
<Link id="l00312" /><CodeLine lineNumber="312"><span class="doxyHighlight">          <a href="/docs/api/structs/llvm/detail/analysisresultmodel">detail::AnalysisResultModel</a>&lt;IRUnitT, PassT, </span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> PassT::Result,</span></CodeLine>
<Link id="l00313" /><CodeLine lineNumber="313"><span class="doxyHighlight">                                      Invalidator&gt;;</span></CodeLine>
<Link id="l00314" /><CodeLine lineNumber="314"></CodeLine>
<Link id="l00315" /><CodeLine lineNumber="315"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> invalidateImpl&lt;ResultModelT&gt;(PassT::ID(), <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/legalizer-cpp/#a05ab4853f7153e537774d02580e761ec">IR</a>, PA);</span></CodeLine>
<Link id="l00316" /><CodeLine lineNumber="316"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l00317" /><CodeLine lineNumber="317"></CodeLine>
<Link id="l00318" /><CodeLine lineNumber="318"><span class="doxyHighlightComment">    /// A type-erased variant of the above invalidate method with the same core</span></CodeLine>
<Link id="l00319" /><CodeLine lineNumber="319"><span class="doxyHighlightComment">    /// API other than passing an analysis ID rather than an analysis type</span></CodeLine>
<Link id="l00320" /><CodeLine lineNumber="320"><span class="doxyHighlightComment">    /// parameter.</span></CodeLine>
<Link id="l00321" /><CodeLine lineNumber="321"><span class="doxyHighlightComment">    ///</span></CodeLine>
<Link id="l00322" /><CodeLine lineNumber="322"><span class="doxyHighlightComment">    /// This is sadly less efficient than the above routine, which leverages</span></CodeLine>
<Link id="l00323" /><CodeLine lineNumber="323"><span class="doxyHighlightComment">    /// the type parameter to avoid the type erasure overhead.</span></CodeLine>
<Link id="l00324" /><CodeLine lineNumber="324" lineLink="/docs/api/classes/llvm/analysismanager/invalidator/#a1a323b36498775645d82d4193998ed74"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/analysismanager/invalidator/#a1a323b36498775645d82d4193998ed74">invalidate</a>(<a href="/docs/api/structs/llvm/analysiskey">AnalysisKey</a> &#42;<a href="/docs/api/namespaces/llvm/callingconv/#abdf8cf606905c10634e831390981b0ed">ID</a>, IRUnitT &amp;<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/legalizer-cpp/#a05ab4853f7153e537774d02580e761ec">IR</a>, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/preservedanalyses">PreservedAnalyses</a> &amp;PA) &#123;</span></CodeLine>
<Link id="l00325" /><CodeLine lineNumber="325"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> invalidateImpl&lt;&gt;(<a href="/docs/api/namespaces/llvm/callingconv/#abdf8cf606905c10634e831390981b0ed">ID</a>, <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/legalizer-cpp/#a05ab4853f7153e537774d02580e761ec">IR</a>, PA);</span></CodeLine>
<Link id="l00326" /><CodeLine lineNumber="326"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l00327" /><CodeLine lineNumber="327"></CodeLine>
<Link id="l00328" /><CodeLine lineNumber="328"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">private</span><span class="doxyHighlight">:</span></CodeLine>
<Link id="l00329" /><CodeLine lineNumber="329" lineLink="/docs/api/classes/llvm/analysismanager/invalidator/#affedfb8108f90597f24e166b7a36953b"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">friend</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">class </span><span class="doxyHighlight"><a href="/docs/api/classes/llvm/analysismanager/invalidator/#affedfb8108f90597f24e166b7a36953b">AnalysisManager</a>;</span></CodeLine>
<Link id="l00330" /><CodeLine lineNumber="330"></CodeLine>
<Link id="l00331" /><CodeLine lineNumber="331"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">template</span><span class="doxyHighlight"> &lt;</span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> ResultT = ResultConceptT&gt;</span></CodeLine>
<Link id="l00332" /><CodeLine lineNumber="332"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> invalidateImpl(<a href="/docs/api/structs/llvm/analysiskey">AnalysisKey</a> &#42;<a href="/docs/api/namespaces/llvm/callingconv/#abdf8cf606905c10634e831390981b0ed">ID</a>, IRUnitT &amp;<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/legalizer-cpp/#a05ab4853f7153e537774d02580e761ec">IR</a>,</span></CodeLine>
<Link id="l00333" /><CodeLine lineNumber="333"><span class="doxyHighlight">                        </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/preservedanalyses">PreservedAnalyses</a> &amp;PA) &#123;</span></CodeLine>
<Link id="l00334" /><CodeLine lineNumber="334"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// If we&#39;ve already visited this pass, return true if it was invalidated</span></CodeLine>
<Link id="l00335" /><CodeLine lineNumber="335"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// and false otherwise.</span></CodeLine>
<Link id="l00336" /><CodeLine lineNumber="336"><span class="doxyHighlight">      </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> IMapI = IsResultInvalidated.find(<a href="/docs/api/namespaces/llvm/callingconv/#abdf8cf606905c10634e831390981b0ed">ID</a>);</span></CodeLine>
<Link id="l00337" /><CodeLine lineNumber="337"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (IMapI != IsResultInvalidated.end())</span></CodeLine>
<Link id="l00338" /><CodeLine lineNumber="338"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> IMapI-&gt;second;</span></CodeLine>
<Link id="l00339" /><CodeLine lineNumber="339"></CodeLine>
<Link id="l00340" /><CodeLine lineNumber="340"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Otherwise look up the result object.</span></CodeLine>
<Link id="l00341" /><CodeLine lineNumber="341"><span class="doxyHighlight">      </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> RI = Results.find(&#123;<a href="/docs/api/namespaces/llvm/callingconv/#abdf8cf606905c10634e831390981b0ed">ID</a>, &amp;<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/legalizer-cpp/#a05ab4853f7153e537774d02580e761ec">IR</a>&#125;);</span></CodeLine>
<Link id="l00342" /><CodeLine lineNumber="342"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(RI != <a href="/docs/api/files/lib/lib/analysis/aliasanalysis-cpp/#a7e344cff0feadf0b02223fee63cc7475">Results</a>.end() &amp;&amp;</span></CodeLine>
<Link id="l00343" /><CodeLine lineNumber="343"><span class="doxyHighlight">             </span><span class="doxyHighlightStringLiteral">&quot;Trying to invalidate a dependent result that isn&#39;t in the &quot;</span></CodeLine>
<Link id="l00344" /><CodeLine lineNumber="344"><span class="doxyHighlight">             </span><span class="doxyHighlightStringLiteral">&quot;manager&#39;s cache is always an error, likely due to a stale result &quot;</span></CodeLine>
<Link id="l00345" /><CodeLine lineNumber="345"><span class="doxyHighlight">             </span><span class="doxyHighlightStringLiteral">&quot;handle!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l00346" /><CodeLine lineNumber="346"></CodeLine>
<Link id="l00347" /><CodeLine lineNumber="347"><span class="doxyHighlight">      </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;Result = </span><span class="doxyHighlightKeyword">static&#95;cast&lt;</span><span class="doxyHighlight">ResultT &amp;</span><span class="doxyHighlightKeyword">&gt;</span><span class="doxyHighlight">(&#42;RI-&gt;second-&gt;second);</span></CodeLine>
<Link id="l00348" /><CodeLine lineNumber="348"></CodeLine>
<Link id="l00349" /><CodeLine lineNumber="349"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Insert into the map whether the result should be invalidated and return</span></CodeLine>
<Link id="l00350" /><CodeLine lineNumber="350"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// that. Note that we cannot reuse IMapI and must do a fresh insert here,</span></CodeLine>
<Link id="l00351" /><CodeLine lineNumber="351"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// as calling invalidate could (recursively) insert things into the map,</span></CodeLine>
<Link id="l00352" /><CodeLine lineNumber="352"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// making any iterator or reference invalid.</span></CodeLine>
<Link id="l00353" /><CodeLine lineNumber="353"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> Inserted;</span></CodeLine>
<Link id="l00354" /><CodeLine lineNumber="354"><span class="doxyHighlight">      std::tie(IMapI, Inserted) =</span></CodeLine>
<Link id="l00355" /><CodeLine lineNumber="355"><span class="doxyHighlight">          IsResultInvalidated.insert(&#123;<a href="/docs/api/namespaces/llvm/callingconv/#abdf8cf606905c10634e831390981b0ed">ID</a>, Result.invalidate(<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/legalizer-cpp/#a05ab4853f7153e537774d02580e761ec">IR</a>, PA, &#42;</span><span class="doxyHighlightKeyword">this</span><span class="doxyHighlight">)&#125;);</span></CodeLine>
<Link id="l00356" /><CodeLine lineNumber="356"><span class="doxyHighlight">      (void)Inserted;</span></CodeLine>
<Link id="l00357" /><CodeLine lineNumber="357"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Inserted &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Should not have already inserted this ID, likely &quot;</span></CodeLine>
<Link id="l00358" /><CodeLine lineNumber="358"><span class="doxyHighlight">                         </span><span class="doxyHighlightStringLiteral">&quot;indicates a dependency cycle!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l00359" /><CodeLine lineNumber="359"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> IMapI-&gt;second;</span></CodeLine>
<Link id="l00360" /><CodeLine lineNumber="360"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l00361" /><CodeLine lineNumber="361"></CodeLine>
<Link id="l00362" /><CodeLine lineNumber="362"><span class="doxyHighlight">    Invalidator(SmallDenseMap&lt;AnalysisKey &#42;, bool, 8&gt; &amp;IsResultInvalidated,</span></CodeLine>
<Link id="l00363" /><CodeLine lineNumber="363"><span class="doxyHighlight">                </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> AnalysisResultMapT &amp;<a href="/docs/api/files/lib/lib/analysis/aliasanalysis-cpp/#a7e344cff0feadf0b02223fee63cc7475">Results</a>)</span></CodeLine>
<Link id="l00364" /><CodeLine lineNumber="364"><span class="doxyHighlight">        : IsResultInvalidated(IsResultInvalidated), <a href="/docs/api/files/lib/lib/analysis/aliasanalysis-cpp/#a7e344cff0feadf0b02223fee63cc7475">Results</a>(<a href="/docs/api/files/lib/lib/analysis/aliasanalysis-cpp/#a7e344cff0feadf0b02223fee63cc7475">Results</a>) &#123;&#125;</span></CodeLine>
<Link id="l00365" /><CodeLine lineNumber="365"></CodeLine>
<Link id="l00366" /><CodeLine lineNumber="366"><span class="doxyHighlight">    SmallDenseMap&lt;AnalysisKey &#42;, bool, 8&gt; &amp;IsResultInvalidated;</span></CodeLine>
<Link id="l00367" /><CodeLine lineNumber="367"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> AnalysisResultMapT &amp;Results;</span></CodeLine>
<Link id="l00368" /><CodeLine lineNumber="368"><span class="doxyHighlight">  &#125;;</span></CodeLine>
<Link id="l00369" /><CodeLine lineNumber="369"></CodeLine>
<Link id="l00370" /><CodeLine lineNumber="370"><span class="doxyHighlightComment">  /// Construct an empty analysis manager.</span></CodeLine>
<Link id="l00371" /><CodeLine lineNumber="371" lineLink="/docs/api/classes/llvm/analysismanager/#a04d20e532396b71cf376c777d6b838c9"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/analysismanager/#a04d20e532396b71cf376c777d6b838c9">AnalysisManager</a>();</span></CodeLine>
<Link id="l00372" /><CodeLine lineNumber="372" lineLink="/docs/api/classes/llvm/analysismanager/#a22f4fe9d72c2287370e28fbbeabbd89f"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/analysismanager/#a22f4fe9d72c2287370e28fbbeabbd89f">AnalysisManager</a>(<a href="/docs/api/classes/llvm/analysismanager/#a04d20e532396b71cf376c777d6b838c9">AnalysisManager</a> &amp;&amp;);</span></CodeLine>
<Link id="l00373" /><CodeLine lineNumber="373" lineLink="/docs/api/classes/llvm/analysismanager/#a2bc6bb441a5b546bf76b838ff9b5e473"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/analysismanager/#a04d20e532396b71cf376c777d6b838c9">AnalysisManager</a> &amp;<a href="/docs/api/classes/llvm/analysismanager/#a2bc6bb441a5b546bf76b838ff9b5e473">operator=</a>(<a href="/docs/api/classes/llvm/analysismanager/#a04d20e532396b71cf376c777d6b838c9">AnalysisManager</a> &amp;&amp;);</span></CodeLine>
<Link id="l00374" /><CodeLine lineNumber="374"></CodeLine>
<Link id="l00375" /><CodeLine lineNumber="375"><span class="doxyHighlightComment">  /// Returns true if the analysis manager has an empty results cache.</span></CodeLine>
<Link id="l00376" /><CodeLine lineNumber="376" lineLink="/docs/api/classes/llvm/analysismanager/#a92d8409cca05ebc97ee7d3180b2c00e3"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/analysismanager/#a92d8409cca05ebc97ee7d3180b2c00e3">empty</a>()</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123;</span></CodeLine>
<Link id="l00377" /><CodeLine lineNumber="377"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(AnalysisResults.empty() == AnalysisResultLists.empty() &amp;&amp;</span></CodeLine>
<Link id="l00378" /><CodeLine lineNumber="378"><span class="doxyHighlight">           </span><span class="doxyHighlightStringLiteral">&quot;The storage and index of analysis results disagree on how many &quot;</span></CodeLine>
<Link id="l00379" /><CodeLine lineNumber="379"><span class="doxyHighlight">           </span><span class="doxyHighlightStringLiteral">&quot;there are!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l00380" /><CodeLine lineNumber="380"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> AnalysisResults.empty();</span></CodeLine>
<Link id="l00381" /><CodeLine lineNumber="381"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00382" /><CodeLine lineNumber="382"></CodeLine>
<Link id="l00383" /><CodeLine lineNumber="383"><span class="doxyHighlightComment">  /// Clear any cached analysis results for a single unit of IR.</span></CodeLine>
<Link id="l00384" /><CodeLine lineNumber="384"><span class="doxyHighlightComment">  ///</span></CodeLine>
<Link id="l00385" /><CodeLine lineNumber="385"><span class="doxyHighlightComment">  /// This doesn&#39;t invalidate, but instead simply deletes, the relevant results.</span></CodeLine>
<Link id="l00386" /><CodeLine lineNumber="386"><span class="doxyHighlightComment">  /// It is useful when the IR is being removed and we want to clear out all the</span></CodeLine>
<Link id="l00387" /><CodeLine lineNumber="387"><span class="doxyHighlightComment">  /// memory pinned for it.</span></CodeLine>
<Link id="l00388" /><CodeLine lineNumber="388" lineLink="/docs/api/classes/llvm/analysismanager/#a4926331431f03253ee3ec8e6e3bb9d1c"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/analysismanager/#a4926331431f03253ee3ec8e6e3bb9d1c">clear</a>(IRUnitT &amp;<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/legalizer-cpp/#a05ab4853f7153e537774d02580e761ec">IR</a>, <a href="/docs/api/classes/llvm/stringref">llvm::StringRef</a> Name);</span></CodeLine>
<Link id="l00389" /><CodeLine lineNumber="389"></CodeLine>
<Link id="l00390" /><CodeLine lineNumber="390"><span class="doxyHighlightComment">  /// Clear all analysis results cached by this AnalysisManager.</span></CodeLine>
<Link id="l00391" /><CodeLine lineNumber="391"><span class="doxyHighlightComment">  ///</span></CodeLine>
<Link id="l00392" /><CodeLine lineNumber="392"><span class="doxyHighlightComment">  /// Like \\c clear(IRUnitT&amp;), this doesn&#39;t invalidate the results; it simply</span></CodeLine>
<Link id="l00393" /><CodeLine lineNumber="393"><span class="doxyHighlightComment">  /// deletes them.  This lets you clean up the AnalysisManager when the set of</span></CodeLine>
<Link id="l00394" /><CodeLine lineNumber="394"><span class="doxyHighlightComment">  /// IR units itself has potentially changed, and thus we can&#39;t even look up a</span></CodeLine>
<Link id="l00395" /><CodeLine lineNumber="395"><span class="doxyHighlightComment">  /// a result and invalidate/clear it directly.</span></CodeLine>
<Link id="l00396" /><CodeLine lineNumber="396" lineLink="/docs/api/classes/llvm/analysismanager/#a1def78d3ab800e1f9b15ac7f772862ff"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/analysismanager/#a1def78d3ab800e1f9b15ac7f772862ff">clear</a>() &#123;</span></CodeLine>
<Link id="l00397" /><CodeLine lineNumber="397"><span class="doxyHighlight">    AnalysisResults.clear();</span></CodeLine>
<Link id="l00398" /><CodeLine lineNumber="398"><span class="doxyHighlight">    AnalysisResultLists.clear();</span></CodeLine>
<Link id="l00399" /><CodeLine lineNumber="399"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00400" /><CodeLine lineNumber="400"></CodeLine>
<Link id="l00401" /><CodeLine lineNumber="401"><span class="doxyHighlightComment">  /// Returns true if the specified analysis pass is registered.</span></CodeLine>
<Link id="l00402" /><CodeLine lineNumber="402" lineLink="/docs/api/classes/llvm/analysismanager/#a03f50a72945de4b779ffd17b508974c8"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">template</span><span class="doxyHighlight"> &lt;</span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> PassT&gt; </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/analysismanager/#a03f50a72945de4b779ffd17b508974c8">isPassRegistered</a>()</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123;</span></CodeLine>
<Link id="l00403" /><CodeLine lineNumber="403"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> AnalysisPasses.count(PassT::ID());</span></CodeLine>
<Link id="l00404" /><CodeLine lineNumber="404"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00405" /><CodeLine lineNumber="405"></CodeLine>
<Link id="l00406" /><CodeLine lineNumber="406"><span class="doxyHighlightComment">  /// Get the result of an analysis pass for a given IR unit.</span></CodeLine>
<Link id="l00407" /><CodeLine lineNumber="407"><span class="doxyHighlightComment">  ///</span></CodeLine>
<Link id="l00408" /><CodeLine lineNumber="408"><span class="doxyHighlightComment">  /// Runs the analysis if a cached result is not available.</span></CodeLine>
<Link id="l00409" /><CodeLine lineNumber="409"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">template</span><span class="doxyHighlight"> &lt;</span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> PassT&gt;</span></CodeLine>
<Link id="l00410" /><CodeLine lineNumber="410" lineLink="/docs/api/classes/llvm/analysismanager/#aaab1fad63e4f3b8679469720a873fedd"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> PassT::Result &amp;<a href="/docs/api/classes/llvm/analysismanager/#aaab1fad63e4f3b8679469720a873fedd">getResult</a>(IRUnitT &amp;<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/legalizer-cpp/#a05ab4853f7153e537774d02580e761ec">IR</a>, ExtraArgTs... ExtraArgs) &#123;</span></CodeLine>
<Link id="l00411" /><CodeLine lineNumber="411"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(AnalysisPasses.count(PassT::ID()) &amp;&amp;</span></CodeLine>
<Link id="l00412" /><CodeLine lineNumber="412"><span class="doxyHighlight">           </span><span class="doxyHighlightStringLiteral">&quot;This analysis pass was not registered prior to being queried&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l00413" /><CodeLine lineNumber="413"><span class="doxyHighlight">    ResultConceptT &amp;ResultConcept =</span></CodeLine>
<Link id="l00414" /><CodeLine lineNumber="414"><span class="doxyHighlight">        getResultImpl(PassT::ID(), <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/legalizer-cpp/#a05ab4853f7153e537774d02580e761ec">IR</a>, ExtraArgs...);</span></CodeLine>
<Link id="l00415" /><CodeLine lineNumber="415"></CodeLine>
<Link id="l00416" /><CodeLine lineNumber="416"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">using </span><span class="doxyHighlight">ResultModelT =</span></CodeLine>
<Link id="l00417" /><CodeLine lineNumber="417"><span class="doxyHighlight">        <a href="/docs/api/structs/llvm/detail/analysisresultmodel">detail::AnalysisResultModel</a>&lt;IRUnitT, PassT, </span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> PassT::Result,</span></CodeLine>
<Link id="l00418" /><CodeLine lineNumber="418"><span class="doxyHighlight">                                    Invalidator&gt;;</span></CodeLine>
<Link id="l00419" /><CodeLine lineNumber="419"></CodeLine>
<Link id="l00420" /><CodeLine lineNumber="420"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">static&#95;cast&lt;</span><span class="doxyHighlight">ResultModelT &amp;</span><span class="doxyHighlightKeyword">&gt;</span><span class="doxyHighlight">(ResultConcept).Result;</span></CodeLine>
<Link id="l00421" /><CodeLine lineNumber="421"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00422" /><CodeLine lineNumber="422"></CodeLine>
<Link id="l00423" /><CodeLine lineNumber="423"><span class="doxyHighlightComment">  /// Get the cached result of an analysis pass for a given IR unit.</span></CodeLine>
<Link id="l00424" /><CodeLine lineNumber="424"><span class="doxyHighlightComment">  ///</span></CodeLine>
<Link id="l00425" /><CodeLine lineNumber="425"><span class="doxyHighlightComment">  /// This method never runs the analysis.</span></CodeLine>
<Link id="l00426" /><CodeLine lineNumber="426"><span class="doxyHighlightComment">  ///</span></CodeLine>
<Link id="l00427" /><CodeLine lineNumber="427"><span class="doxyHighlightComment">  /// \\returns null if there is no cached result.</span></CodeLine>
<Link id="l00428" /><CodeLine lineNumber="428"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">template</span><span class="doxyHighlight"> &lt;</span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> PassT&gt;</span></CodeLine>
<Link id="l00429" /><CodeLine lineNumber="429" lineLink="/docs/api/classes/llvm/analysismanager/#a828ff8185f881fca9e3d534781244041"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> PassT::Result &#42;<a href="/docs/api/classes/llvm/analysismanager/#a828ff8185f881fca9e3d534781244041">getCachedResult</a>(IRUnitT &amp;<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/legalizer-cpp/#a05ab4853f7153e537774d02580e761ec">IR</a>)</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123;</span></CodeLine>
<Link id="l00430" /><CodeLine lineNumber="430"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(AnalysisPasses.count(PassT::ID()) &amp;&amp;</span></CodeLine>
<Link id="l00431" /><CodeLine lineNumber="431"><span class="doxyHighlight">           </span><span class="doxyHighlightStringLiteral">&quot;This analysis pass was not registered prior to being queried&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l00432" /><CodeLine lineNumber="432"></CodeLine>
<Link id="l00433" /><CodeLine lineNumber="433"><span class="doxyHighlight">    ResultConceptT &#42;ResultConcept = getCachedResultImpl(PassT::ID(), <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/legalizer-cpp/#a05ab4853f7153e537774d02580e761ec">IR</a>);</span></CodeLine>
<Link id="l00434" /><CodeLine lineNumber="434"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!ResultConcept)</span></CodeLine>
<Link id="l00435" /><CodeLine lineNumber="435"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00436" /><CodeLine lineNumber="436"></CodeLine>
<Link id="l00437" /><CodeLine lineNumber="437"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">using </span><span class="doxyHighlight">ResultModelT =</span></CodeLine>
<Link id="l00438" /><CodeLine lineNumber="438"><span class="doxyHighlight">        <a href="/docs/api/structs/llvm/detail/analysisresultmodel">detail::AnalysisResultModel</a>&lt;IRUnitT, PassT, </span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> PassT::Result,</span></CodeLine>
<Link id="l00439" /><CodeLine lineNumber="439"><span class="doxyHighlight">                                    Invalidator&gt;;</span></CodeLine>
<Link id="l00440" /><CodeLine lineNumber="440"></CodeLine>
<Link id="l00441" /><CodeLine lineNumber="441"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> &amp;</span><span class="doxyHighlightKeyword">static&#95;cast&lt;</span><span class="doxyHighlight">ResultModelT &#42;</span><span class="doxyHighlightKeyword">&gt;</span><span class="doxyHighlight">(ResultConcept)-&gt;Result;</span></CodeLine>
<Link id="l00442" /><CodeLine lineNumber="442"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00443" /><CodeLine lineNumber="443"></CodeLine>
<Link id="l00444" /><CodeLine lineNumber="444"><span class="doxyHighlightComment">  /// Verify that the given Result cannot be invalidated, assert otherwise.</span></CodeLine>
<Link id="l00445" /><CodeLine lineNumber="445"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">template</span><span class="doxyHighlight"> &lt;</span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> PassT&gt;</span></CodeLine>
<Link id="l00446" /><CodeLine lineNumber="446" lineLink="/docs/api/classes/llvm/analysismanager/#a29648f060d2dd1e126ed17733813cf0a"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/analysismanager/#a29648f060d2dd1e126ed17733813cf0a">verifyNotInvalidated</a>(IRUnitT &amp;<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/legalizer-cpp/#a05ab4853f7153e537774d02580e761ec">IR</a>, </span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> PassT::Result &#42;Result)</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123;</span></CodeLine>
<Link id="l00447" /><CodeLine lineNumber="447"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/preservedanalyses">PreservedAnalyses</a> PA = <a href="/docs/api/classes/llvm/preservedanalyses/#a03797a73044a81cbc6a3409d6c72ee8f">PreservedAnalyses::none</a>();</span></CodeLine>
<Link id="l00448" /><CodeLine lineNumber="448"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/smalldensemap">SmallDenseMap&lt;AnalysisKey &#42;, bool, 8&gt;</a> IsResultInvalidated;</span></CodeLine>
<Link id="l00449" /><CodeLine lineNumber="449"><span class="doxyHighlight">    Invalidator Inv(IsResultInvalidated, AnalysisResults);</span></CodeLine>
<Link id="l00450" /><CodeLine lineNumber="450"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Result-&gt;invalidate(<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/legalizer-cpp/#a05ab4853f7153e537774d02580e761ec">IR</a>, PA, Inv) &amp;&amp;</span></CodeLine>
<Link id="l00451" /><CodeLine lineNumber="451"><span class="doxyHighlight">           </span><span class="doxyHighlightStringLiteral">&quot;Cached result cannot be invalidated&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l00452" /><CodeLine lineNumber="452"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00453" /><CodeLine lineNumber="453"></CodeLine>
<Link id="l00454" /><CodeLine lineNumber="454"><span class="doxyHighlightComment">  /// Register an analysis pass with the manager.</span></CodeLine>
<Link id="l00455" /><CodeLine lineNumber="455"><span class="doxyHighlightComment">  ///</span></CodeLine>
<Link id="l00456" /><CodeLine lineNumber="456"><span class="doxyHighlightComment">  /// The parameter is a callable whose result is an analysis pass. This allows</span></CodeLine>
<Link id="l00457" /><CodeLine lineNumber="457"><span class="doxyHighlightComment">  /// passing in a lambda to construct the analysis.</span></CodeLine>
<Link id="l00458" /><CodeLine lineNumber="458"><span class="doxyHighlightComment">  ///</span></CodeLine>
<Link id="l00459" /><CodeLine lineNumber="459"><span class="doxyHighlightComment">  /// The analysis type to register is the type returned by calling the \\c</span></CodeLine>
<Link id="l00460" /><CodeLine lineNumber="460"><span class="doxyHighlightComment">  /// PassBuilder argument. If that type has already been registered, then the</span></CodeLine>
<Link id="l00461" /><CodeLine lineNumber="461"><span class="doxyHighlightComment">  /// argument will not be called and this function will return false.</span></CodeLine>
<Link id="l00462" /><CodeLine lineNumber="462"><span class="doxyHighlightComment">  /// Otherwise, we register the analysis returned by calling \\c PassBuilder(),</span></CodeLine>
<Link id="l00463" /><CodeLine lineNumber="463"><span class="doxyHighlightComment">  /// and this function returns true.</span></CodeLine>
<Link id="l00464" /><CodeLine lineNumber="464"><span class="doxyHighlightComment">  ///</span></CodeLine>
<Link id="l00465" /><CodeLine lineNumber="465"><span class="doxyHighlightComment">  /// (Note: Although the return value of this function indicates whether or not</span></CodeLine>
<Link id="l00466" /><CodeLine lineNumber="466"><span class="doxyHighlightComment">  /// an analysis was previously registered, you should just register all the</span></CodeLine>
<Link id="l00467" /><CodeLine lineNumber="467"><span class="doxyHighlightComment">  /// analyses you might want and let this class run them lazily.  This idiom</span></CodeLine>
<Link id="l00468" /><CodeLine lineNumber="468"><span class="doxyHighlightComment">  /// lets us minimize the number of times we have to look up analyses in our</span></CodeLine>
<Link id="l00469" /><CodeLine lineNumber="469"><span class="doxyHighlightComment">  /// hashtable.)</span></CodeLine>
<Link id="l00470" /><CodeLine lineNumber="470"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">template</span><span class="doxyHighlight"> &lt;</span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> PassBuilderT&gt;</span></CodeLine>
<Link id="l00471" /><CodeLine lineNumber="471" lineLink="/docs/api/classes/llvm/analysismanager/#a91ff894f756175a693c85bf73f79de9e"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/analysismanager/#a91ff894f756175a693c85bf73f79de9e">registerPass</a>(PassBuilderT &amp;&amp;<a href="/docs/api/classes/llvm/passbuilder">PassBuilder</a>) &#123;</span></CodeLine>
<Link id="l00472" /><CodeLine lineNumber="472"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">using </span><span class="doxyHighlight">PassT = </span><span class="doxyHighlightKeyword">decltype</span><span class="doxyHighlight">(<a href="/docs/api/classes/llvm/passbuilder">PassBuilder</a>());</span></CodeLine>
<Link id="l00473" /><CodeLine lineNumber="473"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">using </span><span class="doxyHighlight">PassModelT =</span></CodeLine>
<Link id="l00474" /><CodeLine lineNumber="474"><span class="doxyHighlight">        <a href="/docs/api/structs/llvm/detail/analysispassmodel">detail::AnalysisPassModel</a>&lt;IRUnitT, PassT, Invalidator, ExtraArgTs...&gt;;</span></CodeLine>
<Link id="l00475" /><CodeLine lineNumber="475"></CodeLine>
<Link id="l00476" /><CodeLine lineNumber="476"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;PassPtr = AnalysisPasses&#91;PassT::ID()&#93;;</span></CodeLine>
<Link id="l00477" /><CodeLine lineNumber="477"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (PassPtr)</span></CodeLine>
<Link id="l00478" /><CodeLine lineNumber="478"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Already registered this pass type!</span></CodeLine>
<Link id="l00479" /><CodeLine lineNumber="479"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00480" /><CodeLine lineNumber="480"></CodeLine>
<Link id="l00481" /><CodeLine lineNumber="481"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Construct a new model around the instance returned by the builder.</span></CodeLine>
<Link id="l00482" /><CodeLine lineNumber="482"><span class="doxyHighlight">    PassPtr.reset(</span><span class="doxyHighlightKeyword">new</span><span class="doxyHighlight"> PassModelT(<a href="/docs/api/classes/llvm/passbuilder">PassBuilder</a>()));</span></CodeLine>
<Link id="l00483" /><CodeLine lineNumber="483"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00484" /><CodeLine lineNumber="484"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00485" /><CodeLine lineNumber="485"></CodeLine>
<Link id="l00486" /><CodeLine lineNumber="486"><span class="doxyHighlightComment">  /// Invalidate cached analyses for an IR unit.</span></CodeLine>
<Link id="l00487" /><CodeLine lineNumber="487"><span class="doxyHighlightComment">  ///</span></CodeLine>
<Link id="l00488" /><CodeLine lineNumber="488"><span class="doxyHighlightComment">  /// Walk through all of the analyses pertaining to this unit of IR and</span></CodeLine>
<Link id="l00489" /><CodeLine lineNumber="489"><span class="doxyHighlightComment">  /// invalidate them, unless they are preserved by the PreservedAnalyses set.</span></CodeLine>
<Link id="l00490" /><CodeLine lineNumber="490" lineLink="/docs/api/classes/llvm/analysismanager/#a64b2a209a16bcd41375b5cae12690eaa"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/analysismanager/#a64b2a209a16bcd41375b5cae12690eaa">invalidate</a>(IRUnitT &amp;<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/legalizer-cpp/#a05ab4853f7153e537774d02580e761ec">IR</a>, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/preservedanalyses">PreservedAnalyses</a> &amp;PA);</span></CodeLine>
<Link id="l00491" /><CodeLine lineNumber="491"></CodeLine>
<Link id="l00492" /><CodeLine lineNumber="492"><span class="doxyHighlightKeyword">private</span><span class="doxyHighlight">:</span></CodeLine>
<Link id="l00493" /><CodeLine lineNumber="493"><span class="doxyHighlightComment">  /// Look up a registered analysis pass.</span></CodeLine>
<Link id="l00494" /><CodeLine lineNumber="494"><span class="doxyHighlight">  PassConceptT &amp;lookUpPass(<a href="/docs/api/structs/llvm/analysiskey">AnalysisKey</a> &#42;<a href="/docs/api/namespaces/llvm/callingconv/#abdf8cf606905c10634e831390981b0ed">ID</a>) &#123;</span></CodeLine>
<Link id="l00495" /><CodeLine lineNumber="495"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> AnalysisPassMapT::iterator PI = AnalysisPasses.find(<a href="/docs/api/namespaces/llvm/callingconv/#abdf8cf606905c10634e831390981b0ed">ID</a>);</span></CodeLine>
<Link id="l00496" /><CodeLine lineNumber="496"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(PI != AnalysisPasses.end() &amp;&amp;</span></CodeLine>
<Link id="l00497" /><CodeLine lineNumber="497"><span class="doxyHighlight">           </span><span class="doxyHighlightStringLiteral">&quot;Analysis passes must be registered prior to being queried!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l00498" /><CodeLine lineNumber="498"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> &#42;PI-&gt;second;</span></CodeLine>
<Link id="l00499" /><CodeLine lineNumber="499"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00500" /><CodeLine lineNumber="500"></CodeLine>
<Link id="l00501" /><CodeLine lineNumber="501"><span class="doxyHighlightComment">  /// Look up a registered analysis pass.</span></CodeLine>
<Link id="l00502" /><CodeLine lineNumber="502"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> PassConceptT &amp;lookUpPass(<a href="/docs/api/structs/llvm/analysiskey">AnalysisKey</a> &#42;<a href="/docs/api/namespaces/llvm/callingconv/#abdf8cf606905c10634e831390981b0ed">ID</a>)</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123;</span></CodeLine>
<Link id="l00503" /><CodeLine lineNumber="503"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> AnalysisPassMapT::const&#95;iterator PI = AnalysisPasses.find(<a href="/docs/api/namespaces/llvm/callingconv/#abdf8cf606905c10634e831390981b0ed">ID</a>);</span></CodeLine>
<Link id="l00504" /><CodeLine lineNumber="504"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(PI != AnalysisPasses.end() &amp;&amp;</span></CodeLine>
<Link id="l00505" /><CodeLine lineNumber="505"><span class="doxyHighlight">           </span><span class="doxyHighlightStringLiteral">&quot;Analysis passes must be registered prior to being queried!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l00506" /><CodeLine lineNumber="506"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> &#42;PI-&gt;second;</span></CodeLine>
<Link id="l00507" /><CodeLine lineNumber="507"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00508" /><CodeLine lineNumber="508"></CodeLine>
<Link id="l00509" /><CodeLine lineNumber="509"><span class="doxyHighlightComment">  /// Get an analysis result, running the pass if necessary.</span></CodeLine>
<Link id="l00510" /><CodeLine lineNumber="510"><span class="doxyHighlight">  ResultConceptT &amp;getResultImpl(AnalysisKey &#42;<a href="/docs/api/namespaces/llvm/callingconv/#abdf8cf606905c10634e831390981b0ed">ID</a>, IRUnitT &amp;<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/legalizer-cpp/#a05ab4853f7153e537774d02580e761ec">IR</a>,</span></CodeLine>
<Link id="l00511" /><CodeLine lineNumber="511"><span class="doxyHighlight">                                ExtraArgTs... ExtraArgs);</span></CodeLine>
<Link id="l00512" /><CodeLine lineNumber="512"></CodeLine>
<Link id="l00513" /><CodeLine lineNumber="513"><span class="doxyHighlightComment">  /// Get a cached analysis result or return null.</span></CodeLine>
<Link id="l00514" /><CodeLine lineNumber="514"><span class="doxyHighlight">  ResultConceptT &#42;getCachedResultImpl(AnalysisKey &#42;<a href="/docs/api/namespaces/llvm/callingconv/#abdf8cf606905c10634e831390981b0ed">ID</a>, IRUnitT &amp;<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/legalizer-cpp/#a05ab4853f7153e537774d02580e761ec">IR</a>)</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123;</span></CodeLine>
<Link id="l00515" /><CodeLine lineNumber="515"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> AnalysisResultMapT::const&#95;iterator RI =</span></CodeLine>
<Link id="l00516" /><CodeLine lineNumber="516"><span class="doxyHighlight">        AnalysisResults.find(&#123;<a href="/docs/api/namespaces/llvm/callingconv/#abdf8cf606905c10634e831390981b0ed">ID</a>, &amp;<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/legalizer-cpp/#a05ab4853f7153e537774d02580e761ec">IR</a>&#125;);</span></CodeLine>
<Link id="l00517" /><CodeLine lineNumber="517"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> RI == AnalysisResults.end() ? nullptr : &amp;&#42;RI-&gt;second-&gt;second;</span></CodeLine>
<Link id="l00518" /><CodeLine lineNumber="518"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00519" /><CodeLine lineNumber="519"></CodeLine>
<Link id="l00520" /><CodeLine lineNumber="520"><span class="doxyHighlightComment">  /// Map type from analysis pass ID to pass concept pointer.</span></CodeLine>
<Link id="l00521" /><CodeLine lineNumber="521"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">using </span><span class="doxyHighlight">AnalysisPassMapT =</span></CodeLine>
<Link id="l00522" /><CodeLine lineNumber="522"><span class="doxyHighlight">      DenseMap&lt;AnalysisKey &#42;, std::unique&#95;ptr&lt;PassConceptT&gt;&gt;;</span></CodeLine>
<Link id="l00523" /><CodeLine lineNumber="523"></CodeLine>
<Link id="l00524" /><CodeLine lineNumber="524"><span class="doxyHighlightComment">  /// Collection of analysis passes, indexed by ID.</span></CodeLine>
<Link id="l00525" /><CodeLine lineNumber="525"><span class="doxyHighlight">  AnalysisPassMapT AnalysisPasses;</span></CodeLine>
<Link id="l00526" /><CodeLine lineNumber="526"></CodeLine>
<Link id="l00527" /><CodeLine lineNumber="527"><span class="doxyHighlightComment">  /// Map from IR unit to a list of analysis results.</span></CodeLine>
<Link id="l00528" /><CodeLine lineNumber="528"><span class="doxyHighlightComment">  ///</span></CodeLine>
<Link id="l00529" /><CodeLine lineNumber="529"><span class="doxyHighlightComment">  /// Provides linear time removal of all analysis results for a IR unit and</span></CodeLine>
<Link id="l00530" /><CodeLine lineNumber="530"><span class="doxyHighlightComment">  /// the ultimate storage for a particular cached analysis result.</span></CodeLine>
<Link id="l00531" /><CodeLine lineNumber="531"><span class="doxyHighlight">  AnalysisResultListMapT AnalysisResultLists;</span></CodeLine>
<Link id="l00532" /><CodeLine lineNumber="532"></CodeLine>
<Link id="l00533" /><CodeLine lineNumber="533"><span class="doxyHighlightComment">  /// Map from an analysis ID and IR unit to a particular cached</span></CodeLine>
<Link id="l00534" /><CodeLine lineNumber="534"><span class="doxyHighlightComment">  /// analysis result.</span></CodeLine>
<Link id="l00535" /><CodeLine lineNumber="535"><span class="doxyHighlight">  AnalysisResultMapT AnalysisResults;</span></CodeLine>
<Link id="l00536" /><CodeLine lineNumber="536"><span class="doxyHighlight">&#125;;</span></CodeLine>
<Link id="l00537" /><CodeLine lineNumber="537"></CodeLine>
<Link id="l00538" /><CodeLine lineNumber="538"><span class="doxyHighlightKeyword">extern</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">template</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">class </span><span class="doxyHighlight"><a href="/docs/api/classes/llvm/analysismanager">AnalysisManager&lt;Module&gt;</a>;</span></CodeLine>
<Link id="l00539" /><CodeLine lineNumber="539"></CodeLine>
<Link id="l00540" /><CodeLine lineNumber="540"><span class="doxyHighlightComment">/// Convenience typedef for the Module analysis manager.</span></CodeLine>
<Link id="l00541" /><CodeLine lineNumber="541"><span class="doxyHighlightKeyword">using </span><span class="doxyHighlight"><a href="/docs/api/namespaces/llvm/#af9c9208365fd9ce11392b4d79485e259">ModuleAnalysisManager</a> = <a href="/docs/api/classes/llvm/analysismanager">AnalysisManager&lt;Module&gt;</a>;</span></CodeLine>
<Link id="l00542" /><CodeLine lineNumber="542"></CodeLine>
<Link id="l00543" /><CodeLine lineNumber="543"><span class="doxyHighlightKeyword">extern</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">template</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">class </span><span class="doxyHighlight"><a href="/docs/api/classes/llvm/analysismanager">AnalysisManager&lt;Function&gt;</a>;</span></CodeLine>
<Link id="l00544" /><CodeLine lineNumber="544"></CodeLine>
<Link id="l00545" /><CodeLine lineNumber="545"><span class="doxyHighlightComment">/// Convenience typedef for the Function analysis manager.</span></CodeLine>
<Link id="l00546" /><CodeLine lineNumber="546" lineLink="/docs/api/namespaces/llvm/#adce09a5a0de0e3177eb00e932734af2f"><span class="doxyHighlightKeyword">using </span><span class="doxyHighlight"><a href="/docs/api/namespaces/llvm/#adce09a5a0de0e3177eb00e932734af2f">FunctionAnalysisManager</a> = <a href="/docs/api/classes/llvm/analysismanager">AnalysisManager&lt;Function&gt;</a>;</span></CodeLine>
<Link id="l00547" /><CodeLine lineNumber="547"></CodeLine>
<Link id="l00548" /><CodeLine lineNumber="548"><span class="doxyHighlightComment">/// An analysis over an &quot;outer&quot; IR unit that provides access to an</span></CodeLine>
<Link id="l00549" /><CodeLine lineNumber="549"><span class="doxyHighlightComment">/// analysis manager over an &quot;inner&quot; IR unit.  The inner unit must be contained</span></CodeLine>
<Link id="l00550" /><CodeLine lineNumber="550"><span class="doxyHighlightComment">/// in the outer unit.</span></CodeLine>
<Link id="l00551" /><CodeLine lineNumber="551"><span class="doxyHighlightComment">///</span></CodeLine>
<Link id="l00552" /><CodeLine lineNumber="552"><span class="doxyHighlightComment">/// For example, InnerAnalysisManagerProxy&lt;FunctionAnalysisManager, Module&gt; is</span></CodeLine>
<Link id="l00553" /><CodeLine lineNumber="553"><span class="doxyHighlightComment">/// an analysis over Modules (the &quot;outer&quot; unit) that provides access to a</span></CodeLine>
<Link id="l00554" /><CodeLine lineNumber="554"><span class="doxyHighlightComment">/// Function analysis manager.  The FunctionAnalysisManager is the &quot;inner&quot;</span></CodeLine>
<Link id="l00555" /><CodeLine lineNumber="555"><span class="doxyHighlightComment">/// manager being proxied, and Functions are the &quot;inner&quot; unit.  The inner/outer</span></CodeLine>
<Link id="l00556" /><CodeLine lineNumber="556"><span class="doxyHighlightComment">/// relationship is valid because each Function is contained in one Module.</span></CodeLine>
<Link id="l00557" /><CodeLine lineNumber="557"><span class="doxyHighlightComment">///</span></CodeLine>
<Link id="l00558" /><CodeLine lineNumber="558"><span class="doxyHighlightComment">/// If you&#39;re (transitively) within a pass manager for an IR unit U that</span></CodeLine>
<Link id="l00559" /><CodeLine lineNumber="559"><span class="doxyHighlightComment">/// contains IR unit V, you should never use an analysis manager over V, except</span></CodeLine>
<Link id="l00560" /><CodeLine lineNumber="560"><span class="doxyHighlightComment">/// via one of these proxies.</span></CodeLine>
<Link id="l00561" /><CodeLine lineNumber="561"><span class="doxyHighlightComment">///</span></CodeLine>
<Link id="l00562" /><CodeLine lineNumber="562"><span class="doxyHighlightComment">/// Note that the proxy&#39;s result is a move-only RAII object.  The validity of</span></CodeLine>
<Link id="l00563" /><CodeLine lineNumber="563"><span class="doxyHighlightComment">/// the analyses in the inner analysis manager is tied to its lifetime.</span></CodeLine>
<Link id="l00564" /><CodeLine lineNumber="564"><span class="doxyHighlightKeyword">template</span><span class="doxyHighlight"> &lt;</span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> AnalysisManagerT, </span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> IRUnitT, </span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight">... ExtraArgTs&gt;</span></CodeLine>
<Link id="l00565" /><CodeLine lineNumber="565" lineLink="/docs/api/classes/llvm/inneranalysismanagerproxy"><span class="doxyHighlightKeyword">class </span><span class="doxyHighlight"><a href="/docs/api/classes/llvm/inneranalysismanagerproxy/#a4b3041a9e3baf98ef5b244c781dd67e3">InnerAnalysisManagerProxy</a></span></CodeLine>
<Link id="l00566" /><CodeLine lineNumber="566"><span class="doxyHighlight">    : </span><span class="doxyHighlightKeyword">public</span><span class="doxyHighlight"> <a href="/docs/api/structs/llvm/analysisinfomixin">AnalysisInfoMixin</a>&lt;</span></CodeLine>
<Link id="l00567" /><CodeLine lineNumber="567"><span class="doxyHighlight">          InnerAnalysisManagerProxy&lt;AnalysisManagerT, IRUnitT&gt;&gt; &#123;</span></CodeLine>
<Link id="l00568" /><CodeLine lineNumber="568"><span class="doxyHighlightKeyword">public</span><span class="doxyHighlight">:</span></CodeLine>
<Link id="l00569" /><CodeLine lineNumber="569" lineLink="/docs/api/classes/llvm/inneranalysismanagerproxy/result"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">class </span><span class="doxyHighlight"><a href="/docs/api/classes/llvm/inneranalysismanagerproxy/result/#a6c15125a7749f5b4b5e9d0a44cbdcdd2">Result</a> &#123;</span></CodeLine>
<Link id="l00570" /><CodeLine lineNumber="570"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">public</span><span class="doxyHighlight">:</span></CodeLine>
<Link id="l00571" /><CodeLine lineNumber="571" lineLink="/docs/api/classes/llvm/inneranalysismanagerproxy/result/#a6c15125a7749f5b4b5e9d0a44cbdcdd2"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">explicit</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/inneranalysismanagerproxy/result/#a6c15125a7749f5b4b5e9d0a44cbdcdd2">Result</a>(AnalysisManagerT &amp;InnerAM) : InnerAM(&amp;InnerAM) &#123;&#125;</span></CodeLine>
<Link id="l00572" /><CodeLine lineNumber="572"></CodeLine>
<Link id="l00573" /><CodeLine lineNumber="573" lineLink="/docs/api/classes/llvm/inneranalysismanagerproxy/result/#a262b450cfd991fabff9e73937de72b90"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/inneranalysismanagerproxy/result/#a262b450cfd991fabff9e73937de72b90">Result</a>(<a href="/docs/api/classes/llvm/inneranalysismanagerproxy/result/#a6c15125a7749f5b4b5e9d0a44cbdcdd2">Result</a> &amp;&amp;Arg) : InnerAM(<a href="/docs/api/namespaces/std">std</a>::<a href="/docs/api/namespaces/llvm/#abfc9c7ecf70f66901e439f7c04ef3dbb">move</a>(Arg.InnerAM)) &#123;</span></CodeLine>
<Link id="l00574" /><CodeLine lineNumber="574"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// We have to null out the analysis manager in the moved-from state</span></CodeLine>
<Link id="l00575" /><CodeLine lineNumber="575"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// because we are taking ownership of the responsibilty to clear the</span></CodeLine>
<Link id="l00576" /><CodeLine lineNumber="576"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// analysis state.</span></CodeLine>
<Link id="l00577" /><CodeLine lineNumber="577"><span class="doxyHighlight">      Arg.InnerAM = </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00578" /><CodeLine lineNumber="578"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l00579" /><CodeLine lineNumber="579"></CodeLine>
<Link id="l00580" /><CodeLine lineNumber="580" lineLink="/docs/api/classes/llvm/inneranalysismanagerproxy/result/#ae020132493ded3761f5d3d71b0a3bb06"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/inneranalysismanagerproxy/result/#ae020132493ded3761f5d3d71b0a3bb06">~Result</a>() &#123;</span></CodeLine>
<Link id="l00581" /><CodeLine lineNumber="581"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// InnerAM is cleared in a moved from state where there is nothing to do.</span></CodeLine>
<Link id="l00582" /><CodeLine lineNumber="582"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!InnerAM)</span></CodeLine>
<Link id="l00583" /><CodeLine lineNumber="583"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00584" /><CodeLine lineNumber="584"></CodeLine>
<Link id="l00585" /><CodeLine lineNumber="585"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Clear out the analysis manager if we&#39;re being destroyed -- it means we</span></CodeLine>
<Link id="l00586" /><CodeLine lineNumber="586"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// didn&#39;t even see an invalidate call when we got invalidated.</span></CodeLine>
<Link id="l00587" /><CodeLine lineNumber="587"><span class="doxyHighlight">      InnerAM-&gt;clear();</span></CodeLine>
<Link id="l00588" /><CodeLine lineNumber="588"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l00589" /><CodeLine lineNumber="589"></CodeLine>
<Link id="l00590" /><CodeLine lineNumber="590" lineLink="/docs/api/classes/llvm/inneranalysismanagerproxy/result/#a953a3f0c6258b3a9dea09224cac3591c"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/inneranalysismanagerproxy/result/#a6c15125a7749f5b4b5e9d0a44cbdcdd2">Result</a> &amp;<a href="/docs/api/classes/llvm/inneranalysismanagerproxy/result/#a953a3f0c6258b3a9dea09224cac3591c">operator=</a>(<a href="/docs/api/classes/llvm/inneranalysismanagerproxy/result/#a6c15125a7749f5b4b5e9d0a44cbdcdd2">Result</a> &amp;&amp;<a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) &#123;</span></CodeLine>
<Link id="l00591" /><CodeLine lineNumber="591"><span class="doxyHighlight">      InnerAM = <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>.InnerAM;</span></CodeLine>
<Link id="l00592" /><CodeLine lineNumber="592"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// We have to null out the analysis manager in the moved-from state</span></CodeLine>
<Link id="l00593" /><CodeLine lineNumber="593"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// because we are taking ownership of the responsibilty to clear the</span></CodeLine>
<Link id="l00594" /><CodeLine lineNumber="594"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// analysis state.</span></CodeLine>
<Link id="l00595" /><CodeLine lineNumber="595"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>.InnerAM = </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00596" /><CodeLine lineNumber="596"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> &#42;</span><span class="doxyHighlightKeyword">this</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00597" /><CodeLine lineNumber="597"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l00598" /><CodeLine lineNumber="598"></CodeLine>
<Link id="l00599" /><CodeLine lineNumber="599"><span class="doxyHighlightComment">    /// Accessor for the analysis manager.</span></CodeLine>
<Link id="l00600" /><CodeLine lineNumber="600" lineLink="/docs/api/classes/llvm/inneranalysismanagerproxy/result/#ae514362adda9c3644ca7ed36c4618484"><span class="doxyHighlight">    AnalysisManagerT &amp;<a href="/docs/api/classes/llvm/inneranalysismanagerproxy/result/#ae514362adda9c3644ca7ed36c4618484">getManager</a>() &#123; </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> &#42;InnerAM; &#125;</span></CodeLine>
<Link id="l00601" /><CodeLine lineNumber="601"></CodeLine>
<Link id="l00602" /><CodeLine lineNumber="602"><span class="doxyHighlightComment">    /// Handler for invalidation of the outer IR unit, \\c IRUnitT.</span></CodeLine>
<Link id="l00603" /><CodeLine lineNumber="603"><span class="doxyHighlightComment">    ///</span></CodeLine>
<Link id="l00604" /><CodeLine lineNumber="604"><span class="doxyHighlightComment">    /// If the proxy analysis itself is not preserved, we assume that the set of</span></CodeLine>
<Link id="l00605" /><CodeLine lineNumber="605"><span class="doxyHighlightComment">    /// inner IR objects contained in IRUnit may have changed.  In this case,</span></CodeLine>
<Link id="l00606" /><CodeLine lineNumber="606"><span class="doxyHighlightComment">    /// we have to call \\c clear() on the inner analysis manager, as it may now</span></CodeLine>
<Link id="l00607" /><CodeLine lineNumber="607"><span class="doxyHighlightComment">    /// have stale pointers to its inner IR objects.</span></CodeLine>
<Link id="l00608" /><CodeLine lineNumber="608"><span class="doxyHighlightComment">    ///</span></CodeLine>
<Link id="l00609" /><CodeLine lineNumber="609"><span class="doxyHighlightComment">    /// Regardless of whether the proxy analysis is marked as preserved, all of</span></CodeLine>
<Link id="l00610" /><CodeLine lineNumber="610"><span class="doxyHighlightComment">    /// the analyses in the inner analysis manager are potentially invalidated</span></CodeLine>
<Link id="l00611" /><CodeLine lineNumber="611"><span class="doxyHighlightComment">    /// based on the set of preserved analyses.</span></CodeLine>
<Link id="l00612" /><CodeLine lineNumber="612" lineLink="/docs/api/classes/llvm/inneranalysismanagerproxy/result/#a47dfb02025fa19252d966afc602e6d5d"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/inneranalysismanagerproxy/result/#a47dfb02025fa19252d966afc602e6d5d">invalidate</a>(</span></CodeLine>
<Link id="l00613" /><CodeLine lineNumber="613"><span class="doxyHighlight">        IRUnitT &amp;<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/legalizer-cpp/#a05ab4853f7153e537774d02580e761ec">IR</a>, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/preservedanalyses">PreservedAnalyses</a> &amp;PA,</span></CodeLine>
<Link id="l00614" /><CodeLine lineNumber="614"><span class="doxyHighlight">        </span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/analysismanager/invalidator">AnalysisManager&lt;IRUnitT, ExtraArgTs...&gt;::Invalidator</a> &amp;Inv);</span></CodeLine>
<Link id="l00615" /><CodeLine lineNumber="615"></CodeLine>
<Link id="l00616" /><CodeLine lineNumber="616"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">private</span><span class="doxyHighlight">:</span></CodeLine>
<Link id="l00617" /><CodeLine lineNumber="617"><span class="doxyHighlight">    AnalysisManagerT &#42;InnerAM;</span></CodeLine>
<Link id="l00618" /><CodeLine lineNumber="618"><span class="doxyHighlight">  &#125;;</span></CodeLine>
<Link id="l00619" /><CodeLine lineNumber="619"></CodeLine>
<Link id="l00620" /><CodeLine lineNumber="620" lineLink="/docs/api/classes/llvm/inneranalysismanagerproxy/#a4b3041a9e3baf98ef5b244c781dd67e3"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">explicit</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/inneranalysismanagerproxy/#a4b3041a9e3baf98ef5b244c781dd67e3">InnerAnalysisManagerProxy</a>(AnalysisManagerT &amp;InnerAM)</span></CodeLine>
<Link id="l00621" /><CodeLine lineNumber="621"><span class="doxyHighlight">      : InnerAM(&amp;InnerAM) &#123;&#125;</span></CodeLine>
<Link id="l00622" /><CodeLine lineNumber="622"></CodeLine>
<Link id="l00623" /><CodeLine lineNumber="623"><span class="doxyHighlightComment">  /// Run the analysis pass and create our proxy result object.</span></CodeLine>
<Link id="l00624" /><CodeLine lineNumber="624"><span class="doxyHighlightComment">  ///</span></CodeLine>
<Link id="l00625" /><CodeLine lineNumber="625"><span class="doxyHighlightComment">  /// This doesn&#39;t do any interesting work; it is primarily used to insert our</span></CodeLine>
<Link id="l00626" /><CodeLine lineNumber="626"><span class="doxyHighlightComment">  /// proxy result object into the outer analysis cache so that we can proxy</span></CodeLine>
<Link id="l00627" /><CodeLine lineNumber="627"><span class="doxyHighlightComment">  /// invalidation to the inner analysis manager.</span></CodeLine>
<Link id="l00628" /><CodeLine lineNumber="628" lineLink="/docs/api/classes/llvm/inneranalysismanagerproxy/#a3add1957ddf106ee6dc26ce921d8efd4"><span class="doxyHighlight">  Result <a href="/docs/api/classes/llvm/inneranalysismanagerproxy/#a3add1957ddf106ee6dc26ce921d8efd4">run</a>(IRUnitT &amp;<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/legalizer-cpp/#a05ab4853f7153e537774d02580e761ec">IR</a>, <a href="/docs/api/classes/llvm/analysismanager">AnalysisManager&lt;IRUnitT, ExtraArgTs...&gt;</a> &amp;AM,</span></CodeLine>
<Link id="l00629" /><CodeLine lineNumber="629"><span class="doxyHighlight">             ExtraArgTs...) &#123;</span></CodeLine>
<Link id="l00630" /><CodeLine lineNumber="630"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> Result(&#42;InnerAM);</span></CodeLine>
<Link id="l00631" /><CodeLine lineNumber="631"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00632" /><CodeLine lineNumber="632"></CodeLine>
<Link id="l00633" /><CodeLine lineNumber="633"><span class="doxyHighlightKeyword">private</span><span class="doxyHighlight">:</span></CodeLine>
<Link id="l00634" /><CodeLine lineNumber="634"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">friend</span><span class="doxyHighlight"> <a href="/docs/api/structs/llvm/analysisinfomixin">AnalysisInfoMixin</a>&lt;</span></CodeLine>
<Link id="l00635" /><CodeLine lineNumber="635"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/inneranalysismanagerproxy">InnerAnalysisManagerProxy&lt;AnalysisManagerT, IRUnitT&gt;</a>&gt;;</span></CodeLine>
<Link id="l00636" /><CodeLine lineNumber="636"></CodeLine>
<Link id="l00637" /><CodeLine lineNumber="637"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> <a href="/docs/api/structs/llvm/analysiskey">AnalysisKey</a> <a href="/docs/api/namespaces/llvm/#a98c6256d0644613c6b5b3e2ef06ef5ce">Key</a>;</span></CodeLine>
<Link id="l00638" /><CodeLine lineNumber="638"></CodeLine>
<Link id="l00639" /><CodeLine lineNumber="639"><span class="doxyHighlight">  AnalysisManagerT &#42;InnerAM;</span></CodeLine>
<Link id="l00640" /><CodeLine lineNumber="640"><span class="doxyHighlight">&#125;;</span></CodeLine>
<Link id="l00641" /><CodeLine lineNumber="641"></CodeLine>
<Link id="l00642" /><CodeLine lineNumber="642"><span class="doxyHighlightKeyword">template</span><span class="doxyHighlight"> &lt;</span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> AnalysisManagerT, </span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> IRUnitT, </span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight">... ExtraArgTs&gt;</span></CodeLine>
<Link id="l00643" /><CodeLine lineNumber="643"><span class="doxyHighlight">AnalysisKey</span></CodeLine>
<Link id="l00644" /><CodeLine lineNumber="644" lineLink="/docs/api/namespaces/llvm/#a98c6256d0644613c6b5b3e2ef06ef5ce"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/inneranalysismanagerproxy">InnerAnalysisManagerProxy</a>&lt;AnalysisManagerT, IRUnitT, ExtraArgTs...&gt;<a href="/docs/api/namespaces/llvm/#a98c6256d0644613c6b5b3e2ef06ef5ce">::Key</a>;</span></CodeLine>
<Link id="l00645" /><CodeLine lineNumber="645"></CodeLine>
<Link id="l00646" /><CodeLine lineNumber="646"><span class="doxyHighlightComment">/// Provide the \\c FunctionAnalysisManager to \\c Module proxy.</span></CodeLine>
<Link id="l00647" /><CodeLine lineNumber="647" lineLink="/docs/api/namespaces/llvm/#a4143e067711d3c7795276b225a8d6eb9"><span class="doxyHighlightKeyword">using </span><span class="doxyHighlight"><a href="/docs/api/namespaces/llvm/#a4143e067711d3c7795276b225a8d6eb9">FunctionAnalysisManagerModuleProxy</a> =</span></CodeLine>
<Link id="l00648" /><CodeLine lineNumber="648"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/inneranalysismanagerproxy">InnerAnalysisManagerProxy&lt;FunctionAnalysisManager, Module&gt;</a>;</span></CodeLine>
<Link id="l00649" /><CodeLine lineNumber="649"></CodeLine>
<Link id="l00650" /><CodeLine lineNumber="650"><span class="doxyHighlightComment">/// Specialization of the invalidate method for the \\c</span></CodeLine>
<Link id="l00651" /><CodeLine lineNumber="651"><span class="doxyHighlightComment">/// FunctionAnalysisManagerModuleProxy&#39;s result.</span></CodeLine>
<Link id="l00652" /><CodeLine lineNumber="652"><span class="doxyHighlightKeyword">template</span><span class="doxyHighlight"> &lt;&gt;</span></CodeLine>
<Link id="l00653" /><CodeLine lineNumber="653"><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> FunctionAnalysisManagerModuleProxy::Result::invalidate(</span></CodeLine>
<Link id="l00654" /><CodeLine lineNumber="654"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/module">Module</a> &amp;M, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/preservedanalyses">PreservedAnalyses</a> &amp;PA,</span></CodeLine>
<Link id="l00655" /><CodeLine lineNumber="655"><span class="doxyHighlight">    ModuleAnalysisManager::Invalidator &amp;Inv);</span></CodeLine>
<Link id="l00656" /><CodeLine lineNumber="656"></CodeLine>
<Link id="l00657" /><CodeLine lineNumber="657"><span class="doxyHighlightComment">// Ensure the \\c FunctionAnalysisManagerModuleProxy is provided as an extern</span></CodeLine>
<Link id="l00658" /><CodeLine lineNumber="658"><span class="doxyHighlightComment">// template.</span></CodeLine>
<Link id="l00659" /><CodeLine lineNumber="659"><span class="doxyHighlightKeyword">extern</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">template</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">class </span><span class="doxyHighlight"><a href="/docs/api/classes/llvm/inneranalysismanagerproxy">InnerAnalysisManagerProxy</a>&lt;<a href="/docs/api/namespaces/llvm/#adce09a5a0de0e3177eb00e932734af2f">FunctionAnalysisManager</a>,</span></CodeLine>
<Link id="l00660" /><CodeLine lineNumber="660"><span class="doxyHighlight">                                                <a href="/docs/api/classes/llvm/module">Module</a>&gt;;</span></CodeLine>
<Link id="l00661" /><CodeLine lineNumber="661"></CodeLine>
<Link id="l00662" /><CodeLine lineNumber="662"><span class="doxyHighlightComment">/// An analysis over an &quot;inner&quot; IR unit that provides access to an</span></CodeLine>
<Link id="l00663" /><CodeLine lineNumber="663"><span class="doxyHighlightComment">/// analysis manager over a &quot;outer&quot; IR unit.  The inner unit must be contained</span></CodeLine>
<Link id="l00664" /><CodeLine lineNumber="664"><span class="doxyHighlightComment">/// in the outer unit.</span></CodeLine>
<Link id="l00665" /><CodeLine lineNumber="665"><span class="doxyHighlightComment">///</span></CodeLine>
<Link id="l00666" /><CodeLine lineNumber="666"><span class="doxyHighlightComment">/// For example OuterAnalysisManagerProxy&lt;ModuleAnalysisManager, Function&gt; is an</span></CodeLine>
<Link id="l00667" /><CodeLine lineNumber="667"><span class="doxyHighlightComment">/// analysis over Functions (the &quot;inner&quot; unit) which provides access to a Module</span></CodeLine>
<Link id="l00668" /><CodeLine lineNumber="668"><span class="doxyHighlightComment">/// analysis manager.  The ModuleAnalysisManager is the &quot;outer&quot; manager being</span></CodeLine>
<Link id="l00669" /><CodeLine lineNumber="669"><span class="doxyHighlightComment">/// proxied, and Modules are the &quot;outer&quot; IR unit.  The inner/outer relationship</span></CodeLine>
<Link id="l00670" /><CodeLine lineNumber="670"><span class="doxyHighlightComment">/// is valid because each Function is contained in one Module.</span></CodeLine>
<Link id="l00671" /><CodeLine lineNumber="671"><span class="doxyHighlightComment">///</span></CodeLine>
<Link id="l00672" /><CodeLine lineNumber="672"><span class="doxyHighlightComment">/// This proxy only exposes the const interface of the outer analysis manager,</span></CodeLine>
<Link id="l00673" /><CodeLine lineNumber="673"><span class="doxyHighlightComment">/// to indicate that you cannot cause an outer analysis to run from within an</span></CodeLine>
<Link id="l00674" /><CodeLine lineNumber="674"><span class="doxyHighlightComment">/// inner pass.  Instead, you must rely on the \\c getCachedResult API.  This is</span></CodeLine>
<Link id="l00675" /><CodeLine lineNumber="675"><span class="doxyHighlightComment">/// due to keeping potential future concurrency in mind. To give an example,</span></CodeLine>
<Link id="l00676" /><CodeLine lineNumber="676"><span class="doxyHighlightComment">/// running a module analysis before any function passes may give a different</span></CodeLine>
<Link id="l00677" /><CodeLine lineNumber="677"><span class="doxyHighlightComment">/// result than running it in a function pass. Both may be valid, but it would</span></CodeLine>
<Link id="l00678" /><CodeLine lineNumber="678"><span class="doxyHighlightComment">/// produce non-deterministic results. GlobalsAA is a good analysis example,</span></CodeLine>
<Link id="l00679" /><CodeLine lineNumber="679"><span class="doxyHighlightComment">/// because the cached information has the mod/ref info for all memory for each</span></CodeLine>
<Link id="l00680" /><CodeLine lineNumber="680"><span class="doxyHighlightComment">/// function at the time the analysis was computed. The information is still</span></CodeLine>
<Link id="l00681" /><CodeLine lineNumber="681"><span class="doxyHighlightComment">/// valid after a function transformation, but it may be &#42;different&#42; if</span></CodeLine>
<Link id="l00682" /><CodeLine lineNumber="682"><span class="doxyHighlightComment">/// recomputed after that transform. GlobalsAA is never invalidated.</span></CodeLine>
<Link id="l00683" /><CodeLine lineNumber="683"></CodeLine>
<Link id="l00684" /><CodeLine lineNumber="684"><span class="doxyHighlightComment">///</span></CodeLine>
<Link id="l00685" /><CodeLine lineNumber="685"><span class="doxyHighlightComment">/// This proxy doesn&#39;t manage invalidation in any way -- that is handled by the</span></CodeLine>
<Link id="l00686" /><CodeLine lineNumber="686"><span class="doxyHighlightComment">/// recursive return path of each layer of the pass manager.  A consequence of</span></CodeLine>
<Link id="l00687" /><CodeLine lineNumber="687"><span class="doxyHighlightComment">/// this is the outer analyses may be stale.  We invalidate the outer analyses</span></CodeLine>
<Link id="l00688" /><CodeLine lineNumber="688"><span class="doxyHighlightComment">/// only when we&#39;re done running passes over the inner IR units.</span></CodeLine>
<Link id="l00689" /><CodeLine lineNumber="689"><span class="doxyHighlightKeyword">template</span><span class="doxyHighlight"> &lt;</span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> AnalysisManagerT, </span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> IRUnitT, </span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight">... ExtraArgTs&gt;</span></CodeLine>
<Link id="l00690" /><CodeLine lineNumber="690" lineLink="/docs/api/classes/llvm/outeranalysismanagerproxy"><span class="doxyHighlightKeyword">class </span><span class="doxyHighlight"><a href="/docs/api/classes/llvm/outeranalysismanagerproxy/#ac45b2069285adb1d482b5bd80b2b281c">OuterAnalysisManagerProxy</a></span></CodeLine>
<Link id="l00691" /><CodeLine lineNumber="691"><span class="doxyHighlight">    : </span><span class="doxyHighlightKeyword">public</span><span class="doxyHighlight"> <a href="/docs/api/structs/llvm/analysisinfomixin">AnalysisInfoMixin</a>&lt;</span></CodeLine>
<Link id="l00692" /><CodeLine lineNumber="692"><span class="doxyHighlight">          OuterAnalysisManagerProxy&lt;AnalysisManagerT, IRUnitT, ExtraArgTs...&gt;&gt; &#123;</span></CodeLine>
<Link id="l00693" /><CodeLine lineNumber="693"><span class="doxyHighlightKeyword">public</span><span class="doxyHighlight">:</span></CodeLine>
<Link id="l00694" /><CodeLine lineNumber="694"><span class="doxyHighlightComment">  /// Result proxy object for \\c OuterAnalysisManagerProxy.</span></CodeLine>
<Link id="l00695" /><CodeLine lineNumber="695" lineLink="/docs/api/classes/llvm/outeranalysismanagerproxy/result"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">class </span><span class="doxyHighlight"><a href="/docs/api/classes/llvm/outeranalysismanagerproxy/result/#a0eb26b8092a6e0a89587548e8f606c06">Result</a> &#123;</span></CodeLine>
<Link id="l00696" /><CodeLine lineNumber="696"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">public</span><span class="doxyHighlight">:</span></CodeLine>
<Link id="l00697" /><CodeLine lineNumber="697" lineLink="/docs/api/classes/llvm/outeranalysismanagerproxy/result/#a0eb26b8092a6e0a89587548e8f606c06"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">explicit</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/outeranalysismanagerproxy/result/#a0eb26b8092a6e0a89587548e8f606c06">Result</a>(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> AnalysisManagerT &amp;OuterAM) : OuterAM(&amp;OuterAM) &#123;&#125;</span></CodeLine>
<Link id="l00698" /><CodeLine lineNumber="698"></CodeLine>
<Link id="l00699" /><CodeLine lineNumber="699"><span class="doxyHighlightComment">    /// Get a cached analysis. If the analysis can be invalidated, this will</span></CodeLine>
<Link id="l00700" /><CodeLine lineNumber="700"><span class="doxyHighlightComment">    /// assert.</span></CodeLine>
<Link id="l00701" /><CodeLine lineNumber="701"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">template</span><span class="doxyHighlight"> &lt;</span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> PassT, </span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> IRUnitTParam&gt;</span></CodeLine>
<Link id="l00702" /><CodeLine lineNumber="702" lineLink="/docs/api/classes/llvm/outeranalysismanagerproxy/result/#a11b47a107f405156c54ef83b8529459b"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> PassT::Result &#42;<a href="/docs/api/classes/llvm/outeranalysismanagerproxy/result/#a11b47a107f405156c54ef83b8529459b">getCachedResult</a>(IRUnitTParam &amp;<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/legalizer-cpp/#a05ab4853f7153e537774d02580e761ec">IR</a>)</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123;</span></CodeLine>
<Link id="l00703" /><CodeLine lineNumber="703"><span class="doxyHighlight">      </span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> PassT::Result &#42;Res =</span></CodeLine>
<Link id="l00704" /><CodeLine lineNumber="704"><span class="doxyHighlight">          OuterAM-&gt;template <a href="/docs/api/classes/llvm/outeranalysismanagerproxy/result/#a11b47a107f405156c54ef83b8529459b">getCachedResult&lt;PassT&gt;</a>(<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/legalizer-cpp/#a05ab4853f7153e537774d02580e761ec">IR</a>);</span></CodeLine>
<Link id="l00705" /><CodeLine lineNumber="705"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Res)</span></CodeLine>
<Link id="l00706" /><CodeLine lineNumber="706"><span class="doxyHighlight">        OuterAM-&gt;template verifyNotInvalidated&lt;PassT&gt;(<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/legalizer-cpp/#a05ab4853f7153e537774d02580e761ec">IR</a>, Res);</span></CodeLine>
<Link id="l00707" /><CodeLine lineNumber="707"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> Res;</span></CodeLine>
<Link id="l00708" /><CodeLine lineNumber="708"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l00709" /><CodeLine lineNumber="709"></CodeLine>
<Link id="l00710" /><CodeLine lineNumber="710"><span class="doxyHighlightComment">    /// Method provided for unit testing, not intended for general use.</span></CodeLine>
<Link id="l00711" /><CodeLine lineNumber="711"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">template</span><span class="doxyHighlight"> &lt;</span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> PassT, </span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> IRUnitTParam&gt;</span></CodeLine>
<Link id="l00712" /><CodeLine lineNumber="712" lineLink="/docs/api/classes/llvm/outeranalysismanagerproxy/result/#a51fc041b40fa7aa5f0171456b6954c5c"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/outeranalysismanagerproxy/result/#a51fc041b40fa7aa5f0171456b6954c5c">cachedResultExists</a>(IRUnitTParam &amp;<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/legalizer-cpp/#a05ab4853f7153e537774d02580e761ec">IR</a>)</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123;</span></CodeLine>
<Link id="l00713" /><CodeLine lineNumber="713"><span class="doxyHighlight">      </span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> PassT::Result &#42;Res =</span></CodeLine>
<Link id="l00714" /><CodeLine lineNumber="714"><span class="doxyHighlight">          OuterAM-&gt;template <a href="/docs/api/classes/llvm/outeranalysismanagerproxy/result/#a11b47a107f405156c54ef83b8529459b">getCachedResult&lt;PassT&gt;</a>(<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/legalizer-cpp/#a05ab4853f7153e537774d02580e761ec">IR</a>);</span></CodeLine>
<Link id="l00715" /><CodeLine lineNumber="715"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> Res != </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00716" /><CodeLine lineNumber="716"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l00717" /><CodeLine lineNumber="717"></CodeLine>
<Link id="l00718" /><CodeLine lineNumber="718"><span class="doxyHighlightComment">    /// When invalidation occurs, remove any registered invalidation events.</span></CodeLine>
<Link id="l00719" /><CodeLine lineNumber="719" lineLink="/docs/api/classes/llvm/outeranalysismanagerproxy/result/#a139e8b7a2de6d6c79a532567dfd2f9ed"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/outeranalysismanagerproxy/result/#a139e8b7a2de6d6c79a532567dfd2f9ed">invalidate</a>(</span></CodeLine>
<Link id="l00720" /><CodeLine lineNumber="720"><span class="doxyHighlight">        IRUnitT &amp;IRUnit, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/preservedanalyses">PreservedAnalyses</a> &amp;PA,</span></CodeLine>
<Link id="l00721" /><CodeLine lineNumber="721"><span class="doxyHighlight">        </span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/analysismanager/invalidator">AnalysisManager&lt;IRUnitT, ExtraArgTs...&gt;::Invalidator</a> &amp;Inv) &#123;</span></CodeLine>
<Link id="l00722" /><CodeLine lineNumber="722"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Loop over the set of registered outer invalidation mappings and if any</span></CodeLine>
<Link id="l00723" /><CodeLine lineNumber="723"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// of them map to an analysis that is now invalid, clear it out.</span></CodeLine>
<Link id="l00724" /><CodeLine lineNumber="724"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/smallvector">SmallVector&lt;AnalysisKey &#42;, 4&gt;</a> DeadKeys;</span></CodeLine>
<Link id="l00725" /><CodeLine lineNumber="725"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;KeyValuePair : OuterAnalysisInvalidationMap) &#123;</span></CodeLine>
<Link id="l00726" /><CodeLine lineNumber="726"><span class="doxyHighlight">        <a href="/docs/api/structs/llvm/analysiskey">AnalysisKey</a> &#42;OuterID = KeyValuePair.first;</span></CodeLine>
<Link id="l00727" /><CodeLine lineNumber="727"><span class="doxyHighlight">        </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;InnerIDs = KeyValuePair.second;</span></CodeLine>
<Link id="l00728" /><CodeLine lineNumber="728"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/#ac9a7de5a04920954ac964059cfc428ad">llvm::erase&#95;if</a>(InnerIDs, &#91;&amp;&#93;(<a href="/docs/api/structs/llvm/analysiskey">AnalysisKey</a> &#42;InnerID) &#123;</span></CodeLine>
<Link id="l00729" /><CodeLine lineNumber="729"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> Inv.<a href="/docs/api/classes/llvm/analysismanager/invalidator/#a5e8e9230fa677542877d1f3c6ff95ae2">invalidate</a>(InnerID, IRUnit, PA);</span></CodeLine>
<Link id="l00730" /><CodeLine lineNumber="730"><span class="doxyHighlight">        &#125;);</span></CodeLine>
<Link id="l00731" /><CodeLine lineNumber="731"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (InnerIDs.empty())</span></CodeLine>
<Link id="l00732" /><CodeLine lineNumber="732"><span class="doxyHighlight">          DeadKeys.<a href="/docs/api/classes/llvm/smallvectortemplatebase/#af42bfbc067df27c19ee2fc859df58799">push&#95;back</a>(OuterID);</span></CodeLine>
<Link id="l00733" /><CodeLine lineNumber="733"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l00734" /><CodeLine lineNumber="734"></CodeLine>
<Link id="l00735" /><CodeLine lineNumber="735"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;OuterID : DeadKeys)</span></CodeLine>
<Link id="l00736" /><CodeLine lineNumber="736"><span class="doxyHighlight">        OuterAnalysisInvalidationMap.<a href="/docs/api/classes/llvm/smallvectorimpl/#a563ffc2ff61c499b3be2e00100cb72fa">erase</a>(OuterID);</span></CodeLine>
<Link id="l00737" /><CodeLine lineNumber="737"></CodeLine>
<Link id="l00738" /><CodeLine lineNumber="738"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// The proxy itself remains valid regardless of anything else.</span></CodeLine>
<Link id="l00739" /><CodeLine lineNumber="739"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00740" /><CodeLine lineNumber="740"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l00741" /><CodeLine lineNumber="741"></CodeLine>
<Link id="l00742" /><CodeLine lineNumber="742"><span class="doxyHighlightComment">    /// Register a deferred invalidation event for when the outer analysis</span></CodeLine>
<Link id="l00743" /><CodeLine lineNumber="743"><span class="doxyHighlightComment">    /// manager processes its invalidations.</span></CodeLine>
<Link id="l00744" /><CodeLine lineNumber="744"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">template</span><span class="doxyHighlight"> &lt;</span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> OuterAnalysisT, </span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> Inval</span><span class="doxyHighlightKeywordType">id</span><span class="doxyHighlight">atedAnalysisT&gt;</span></CodeLine>
<Link id="l00745" /><CodeLine lineNumber="745" lineLink="/docs/api/classes/llvm/outeranalysismanagerproxy/result/#accfb5eeb9580d77779788b6ca9d842b5"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/outeranalysismanagerproxy/result/#accfb5eeb9580d77779788b6ca9d842b5">registerOuterAnalysisInvalidation</a>() &#123;</span></CodeLine>
<Link id="l00746" /><CodeLine lineNumber="746"><span class="doxyHighlight">      <a href="/docs/api/structs/llvm/analysiskey">AnalysisKey</a> &#42;OuterID = OuterAnalysisT::ID();</span></CodeLine>
<Link id="l00747" /><CodeLine lineNumber="747"><span class="doxyHighlight">      <a href="/docs/api/structs/llvm/analysiskey">AnalysisKey</a> &#42;InvalidatedID = InvalidatedAnalysisT::ID();</span></CodeLine>
<Link id="l00748" /><CodeLine lineNumber="748"></CodeLine>
<Link id="l00749" /><CodeLine lineNumber="749"><span class="doxyHighlight">      </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;InvalidatedIDList = OuterAnalysisInvalidationMap&#91;OuterID&#93;;</span></CodeLine>
<Link id="l00750" /><CodeLine lineNumber="750"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Note, this is a linear scan. If we end up with large numbers of</span></CodeLine>
<Link id="l00751" /><CodeLine lineNumber="751"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// analyses that all trigger invalidation on the same outer analysis,</span></CodeLine>
<Link id="l00752" /><CodeLine lineNumber="752"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// this entire system should be changed to some other deterministic</span></CodeLine>
<Link id="l00753" /><CodeLine lineNumber="753"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// data structure such as a &#96;SetVector&#96; of a pair of pointers.</span></CodeLine>
<Link id="l00754" /><CodeLine lineNumber="754"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="/docs/api/namespaces/llvm/#acd1cd968cb420c82d70926920fcdc7d7">llvm::is&#95;contained</a>(InvalidatedIDList, InvalidatedID))</span></CodeLine>
<Link id="l00755" /><CodeLine lineNumber="755"><span class="doxyHighlight">        InvalidatedIDList.push&#95;back(InvalidatedID);</span></CodeLine>
<Link id="l00756" /><CodeLine lineNumber="756"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l00757" /><CodeLine lineNumber="757"></CodeLine>
<Link id="l00758" /><CodeLine lineNumber="758"><span class="doxyHighlightComment">    /// Access the map from outer analyses to deferred invalidation requiring</span></CodeLine>
<Link id="l00759" /><CodeLine lineNumber="759"><span class="doxyHighlightComment">    /// analyses.</span></CodeLine>
<Link id="l00760" /><CodeLine lineNumber="760"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/smalldensemap">SmallDenseMap&lt;AnalysisKey &#42;, TinyPtrVector&lt;AnalysisKey &#42;&gt;</a>, 2&gt; &amp;</span></CodeLine>
<Link id="l00761" /><CodeLine lineNumber="761" lineLink="/docs/api/classes/llvm/outeranalysismanagerproxy/result/#a5255c1fb4914917dc33aef208055f1e8"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/outeranalysismanagerproxy/result/#a5255c1fb4914917dc33aef208055f1e8">getOuterInvalidations</a>()</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123;</span></CodeLine>
<Link id="l00762" /><CodeLine lineNumber="762"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> OuterAnalysisInvalidationMap;</span></CodeLine>
<Link id="l00763" /><CodeLine lineNumber="763"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l00764" /><CodeLine lineNumber="764"></CodeLine>
<Link id="l00765" /><CodeLine lineNumber="765"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">private</span><span class="doxyHighlight">:</span></CodeLine>
<Link id="l00766" /><CodeLine lineNumber="766"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> AnalysisManagerT &#42;OuterAM;</span></CodeLine>
<Link id="l00767" /><CodeLine lineNumber="767"></CodeLine>
<Link id="l00768" /><CodeLine lineNumber="768"><span class="doxyHighlightComment">    /// A map from an outer analysis ID to the set of this IR-unit&#39;s analyses</span></CodeLine>
<Link id="l00769" /><CodeLine lineNumber="769"><span class="doxyHighlightComment">    /// which need to be invalidated.</span></CodeLine>
<Link id="l00770" /><CodeLine lineNumber="770"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/smalldensemap">SmallDenseMap&lt;AnalysisKey &#42;, TinyPtrVector&lt;AnalysisKey &#42;&gt;</a>, 2&gt;</span></CodeLine>
<Link id="l00771" /><CodeLine lineNumber="771"><span class="doxyHighlight">        OuterAnalysisInvalidationMap;</span></CodeLine>
<Link id="l00772" /><CodeLine lineNumber="772"><span class="doxyHighlight">  &#125;;</span></CodeLine>
<Link id="l00773" /><CodeLine lineNumber="773"></CodeLine>
<Link id="l00774" /><CodeLine lineNumber="774" lineLink="/docs/api/classes/llvm/outeranalysismanagerproxy/#ac45b2069285adb1d482b5bd80b2b281c"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/outeranalysismanagerproxy/#ac45b2069285adb1d482b5bd80b2b281c">OuterAnalysisManagerProxy</a>(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> AnalysisManagerT &amp;OuterAM)</span></CodeLine>
<Link id="l00775" /><CodeLine lineNumber="775"><span class="doxyHighlight">      : OuterAM(&amp;OuterAM) &#123;&#125;</span></CodeLine>
<Link id="l00776" /><CodeLine lineNumber="776"></CodeLine>
<Link id="l00777" /><CodeLine lineNumber="777"><span class="doxyHighlightComment">  /// Run the analysis pass and create our proxy result object.</span></CodeLine>
<Link id="l00778" /><CodeLine lineNumber="778"><span class="doxyHighlightComment">  /// Nothing to see here, it just forwards the \\c OuterAM reference into the</span></CodeLine>
<Link id="l00779" /><CodeLine lineNumber="779"><span class="doxyHighlightComment">  /// result.</span></CodeLine>
<Link id="l00780" /><CodeLine lineNumber="780" lineLink="/docs/api/classes/llvm/outeranalysismanagerproxy/#ab5b413ed02f38146175d4d3ec11540bc"><span class="doxyHighlight">  Result <a href="/docs/api/classes/llvm/outeranalysismanagerproxy/#ab5b413ed02f38146175d4d3ec11540bc">run</a>(IRUnitT &amp;, <a href="/docs/api/classes/llvm/analysismanager">AnalysisManager&lt;IRUnitT, ExtraArgTs...&gt;</a> &amp;,</span></CodeLine>
<Link id="l00781" /><CodeLine lineNumber="781"><span class="doxyHighlight">             ExtraArgTs...) &#123;</span></CodeLine>
<Link id="l00782" /><CodeLine lineNumber="782"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> Result(&#42;OuterAM);</span></CodeLine>
<Link id="l00783" /><CodeLine lineNumber="783"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00784" /><CodeLine lineNumber="784"></CodeLine>
<Link id="l00785" /><CodeLine lineNumber="785"><span class="doxyHighlightKeyword">private</span><span class="doxyHighlight">:</span></CodeLine>
<Link id="l00786" /><CodeLine lineNumber="786"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">friend</span><span class="doxyHighlight"> <a href="/docs/api/structs/llvm/analysisinfomixin">AnalysisInfoMixin</a>&lt;</span></CodeLine>
<Link id="l00787" /><CodeLine lineNumber="787"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/outeranalysismanagerproxy">OuterAnalysisManagerProxy</a>&lt;AnalysisManagerT, IRUnitT, ExtraArgTs...&gt;&gt;;</span></CodeLine>
<Link id="l00788" /><CodeLine lineNumber="788"></CodeLine>
<Link id="l00789" /><CodeLine lineNumber="789"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> <a href="/docs/api/structs/llvm/analysiskey">AnalysisKey</a> <a href="/docs/api/namespaces/llvm/#a98c6256d0644613c6b5b3e2ef06ef5ce">Key</a>;</span></CodeLine>
<Link id="l00790" /><CodeLine lineNumber="790"></CodeLine>
<Link id="l00791" /><CodeLine lineNumber="791"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> AnalysisManagerT &#42;OuterAM;</span></CodeLine>
<Link id="l00792" /><CodeLine lineNumber="792"><span class="doxyHighlight">&#125;;</span></CodeLine>
<Link id="l00793" /><CodeLine lineNumber="793"></CodeLine>
<Link id="l00794" /><CodeLine lineNumber="794"><span class="doxyHighlightKeyword">template</span><span class="doxyHighlight"> &lt;</span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> AnalysisManagerT, </span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> IRUnitT, </span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight">... ExtraArgTs&gt;</span></CodeLine>
<Link id="l00795" /><CodeLine lineNumber="795"><span class="doxyHighlight">AnalysisKey</span></CodeLine>
<Link id="l00796" /><CodeLine lineNumber="796" lineLink="/docs/api/namespaces/llvm/#ab0f7eb27078555d6ff8b6ffd921aa522"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/outeranalysismanagerproxy">OuterAnalysisManagerProxy</a>&lt;AnalysisManagerT, IRUnitT, ExtraArgTs...&gt;<a href="/docs/api/namespaces/llvm/#a98c6256d0644613c6b5b3e2ef06ef5ce">::Key</a>;</span></CodeLine>
<Link id="l00797" /><CodeLine lineNumber="797"></CodeLine>
<Link id="l00798" /><CodeLine lineNumber="798"><span class="doxyHighlightKeyword">extern</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">template</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">class </span><span class="doxyHighlight"><a href="/docs/api/classes/llvm/outeranalysismanagerproxy">OuterAnalysisManagerProxy</a>&lt;<a href="/docs/api/namespaces/llvm/#af9c9208365fd9ce11392b4d79485e259">ModuleAnalysisManager</a>,</span></CodeLine>
<Link id="l00799" /><CodeLine lineNumber="799"><span class="doxyHighlight">                                                <a href="/docs/api/classes/llvm/function">Function</a>&gt;;</span></CodeLine>
<Link id="l00800" /><CodeLine lineNumber="800"><span class="doxyHighlightComment">/// Provide the \\c ModuleAnalysisManager to \\c Function proxy.</span></CodeLine>
<Link id="l00801" /><CodeLine lineNumber="801" lineLink="/docs/api/namespaces/llvm/#a2b0ee73723ccffec457f8712220b0c25"><span class="doxyHighlightKeyword">using </span><span class="doxyHighlight"><a href="/docs/api/namespaces/llvm/#a2b0ee73723ccffec457f8712220b0c25">ModuleAnalysisManagerFunctionProxy</a> =</span></CodeLine>
<Link id="l00802" /><CodeLine lineNumber="802"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/outeranalysismanagerproxy">OuterAnalysisManagerProxy&lt;ModuleAnalysisManager, Function&gt;</a>;</span></CodeLine>
<Link id="l00803" /><CodeLine lineNumber="803"></CodeLine>
<Link id="l00804" /><CodeLine lineNumber="804"><span class="doxyHighlightComment">/// Trivial adaptor that maps from a module to its functions.</span></CodeLine>
<Link id="l00805" /><CodeLine lineNumber="805"><span class="doxyHighlightComment">///</span></CodeLine>
<Link id="l00806" /><CodeLine lineNumber="806"><span class="doxyHighlightComment">/// Designed to allow composition of a FunctionPass(Manager) and</span></CodeLine>
<Link id="l00807" /><CodeLine lineNumber="807"><span class="doxyHighlightComment">/// a ModulePassManager, by running the FunctionPass(Manager) over every</span></CodeLine>
<Link id="l00808" /><CodeLine lineNumber="808"><span class="doxyHighlightComment">/// function in the module.</span></CodeLine>
<Link id="l00809" /><CodeLine lineNumber="809"><span class="doxyHighlightComment">///</span></CodeLine>
<Link id="l00810" /><CodeLine lineNumber="810"><span class="doxyHighlightComment">/// Function passes run within this adaptor can rely on having exclusive access</span></CodeLine>
<Link id="l00811" /><CodeLine lineNumber="811"><span class="doxyHighlightComment">/// to the function they are run over. They should not read or modify any other</span></CodeLine>
<Link id="l00812" /><CodeLine lineNumber="812"><span class="doxyHighlightComment">/// functions! Other threads or systems may be manipulating other functions in</span></CodeLine>
<Link id="l00813" /><CodeLine lineNumber="813"><span class="doxyHighlightComment">/// the module, and so their state should never be relied on.</span></CodeLine>
<Link id="l00814" /><CodeLine lineNumber="814"><span class="doxyHighlightComment">/// FIXME: Make the above true for all of LLVM&#39;s actual passes, some still</span></CodeLine>
<Link id="l00815" /><CodeLine lineNumber="815"><span class="doxyHighlightComment">/// violate this principle.</span></CodeLine>
<Link id="l00816" /><CodeLine lineNumber="816"><span class="doxyHighlightComment">///</span></CodeLine>
<Link id="l00817" /><CodeLine lineNumber="817"><span class="doxyHighlightComment">/// Function passes can also read the module containing the function, but they</span></CodeLine>
<Link id="l00818" /><CodeLine lineNumber="818"><span class="doxyHighlightComment">/// should not modify that module outside of the use lists of various globals.</span></CodeLine>
<Link id="l00819" /><CodeLine lineNumber="819"><span class="doxyHighlightComment">/// For example, a function pass is not permitted to add functions to the</span></CodeLine>
<Link id="l00820" /><CodeLine lineNumber="820"><span class="doxyHighlightComment">/// module.</span></CodeLine>
<Link id="l00821" /><CodeLine lineNumber="821"><span class="doxyHighlightComment">/// FIXME: Make the above true for all of LLVM&#39;s actual passes, some still</span></CodeLine>
<Link id="l00822" /><CodeLine lineNumber="822"><span class="doxyHighlightComment">/// violate this principle.</span></CodeLine>
<Link id="l00823" /><CodeLine lineNumber="823"><span class="doxyHighlightComment">///</span></CodeLine>
<Link id="l00824" /><CodeLine lineNumber="824"><span class="doxyHighlightComment">/// Note that although function passes can access module analyses, module</span></CodeLine>
<Link id="l00825" /><CodeLine lineNumber="825"><span class="doxyHighlightComment">/// analyses are not invalidated while the function passes are running, so they</span></CodeLine>
<Link id="l00826" /><CodeLine lineNumber="826"><span class="doxyHighlightComment">/// may be stale.  Function analyses will not be stale.</span></CodeLine>
<Link id="l00827" /><CodeLine lineNumber="827" lineLink="/docs/api/classes/llvm/moduletofunctionpassadaptor"><span class="doxyHighlightKeyword">class </span><span class="doxyHighlight"><a href="/docs/api/classes/llvm/moduletofunctionpassadaptor/#a3cd044b84398a56c814a9269401fdae4">ModuleToFunctionPassAdaptor</a></span></CodeLine>
<Link id="l00828" /><CodeLine lineNumber="828"><span class="doxyHighlight">    : </span><span class="doxyHighlightKeyword">public</span><span class="doxyHighlight"> <a href="/docs/api/structs/llvm/passinfomixin">PassInfoMixin</a>&lt;ModuleToFunctionPassAdaptor&gt; &#123;</span></CodeLine>
<Link id="l00829" /><CodeLine lineNumber="829"><span class="doxyHighlightKeyword">public</span><span class="doxyHighlight">:</span></CodeLine>
<Link id="l00830" /><CodeLine lineNumber="830" lineLink="/docs/api/classes/llvm/moduletofunctionpassadaptor/#a04fd6a5b2e70ab5f31b85a2497d8b64c"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">using </span><span class="doxyHighlight"><a href="/docs/api/classes/llvm/moduletofunctionpassadaptor/#a04fd6a5b2e70ab5f31b85a2497d8b64c">PassConceptT</a> = <a href="/docs/api/structs/llvm/detail/passconcept">detail::PassConcept&lt;Function, FunctionAnalysisManager&gt;</a>;</span></CodeLine>
<Link id="l00831" /><CodeLine lineNumber="831"></CodeLine>
<Link id="l00832" /><CodeLine lineNumber="832" lineLink="/docs/api/classes/llvm/moduletofunctionpassadaptor/#a3cd044b84398a56c814a9269401fdae4"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">explicit</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/moduletofunctionpassadaptor/#a3cd044b84398a56c814a9269401fdae4">ModuleToFunctionPassAdaptor</a>(std::unique&#95;ptr&lt;PassConceptT&gt; Pass,</span></CodeLine>
<Link id="l00833" /><CodeLine lineNumber="833"><span class="doxyHighlight">                                       </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> EagerlyInvalidate)</span></CodeLine>
<Link id="l00834" /><CodeLine lineNumber="834"><span class="doxyHighlight">      : Pass(<a href="/docs/api/namespaces/std">std</a>::<a href="/docs/api/namespaces/llvm/#abfc9c7ecf70f66901e439f7c04ef3dbb">move</a>(Pass)), EagerlyInvalidate(EagerlyInvalidate) &#123;&#125;</span></CodeLine>
<Link id="l00835" /><CodeLine lineNumber="835"></CodeLine>
<Link id="l00836" /><CodeLine lineNumber="836"><span class="doxyHighlightComment">  /// Runs the function pass across every function in the module.</span></CodeLine>
<Link id="l00837" /><CodeLine lineNumber="837"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/preservedanalyses">PreservedAnalyses</a> <a href="/docs/api/classes/llvm/moduletofunctionpassadaptor/#a3fad2cf0dd6c01065f1f75dd6febc5d5">run</a>(<a href="/docs/api/classes/llvm/module">Module</a> &amp;M, <a href="/docs/api/namespaces/llvm/#af9c9208365fd9ce11392b4d79485e259">ModuleAnalysisManager</a> &amp;AM);</span></CodeLine>
<Link id="l00838" /><CodeLine lineNumber="838"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/moduletofunctionpassadaptor/#a5155fe8f8b8cdeb6915f346ab1bf3163">printPipeline</a>(<a href="/docs/api/classes/llvm/raw-ostream">raw&#95;ostream</a> &amp;OS,</span></CodeLine>
<Link id="l00839" /><CodeLine lineNumber="839"><span class="doxyHighlight">                     <a href="/docs/api/classes/llvm/function-ref">function&#95;ref</a>&lt;<a href="/docs/api/classes/llvm/stringref">StringRef</a>(<a href="/docs/api/classes/llvm/stringref">StringRef</a>)&gt; MapClassName2PassName);</span></CodeLine>
<Link id="l00840" /><CodeLine lineNumber="840"></CodeLine>
<Link id="l00841" /><CodeLine lineNumber="841" lineLink="/docs/api/classes/llvm/moduletofunctionpassadaptor/#a545da971af9cd0bebb778a46c7821bf1"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/moduletofunctionpassadaptor/#a545da971af9cd0bebb778a46c7821bf1">isRequired</a>() &#123; </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">; &#125;</span></CodeLine>
<Link id="l00842" /><CodeLine lineNumber="842"></CodeLine>
<Link id="l00843" /><CodeLine lineNumber="843"><span class="doxyHighlightKeyword">private</span><span class="doxyHighlight">:</span></CodeLine>
<Link id="l00844" /><CodeLine lineNumber="844"><span class="doxyHighlight">  std::unique&#95;ptr&lt;PassConceptT&gt; <a href="/docs/api/classes/llvm/pass">Pass</a>;</span></CodeLine>
<Link id="l00845" /><CodeLine lineNumber="845"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> EagerlyInvalidate;</span></CodeLine>
<Link id="l00846" /><CodeLine lineNumber="846"><span class="doxyHighlight">&#125;;</span></CodeLine>
<Link id="l00847" /><CodeLine lineNumber="847"></CodeLine>
<Link id="l00848" /><CodeLine lineNumber="848"><span class="doxyHighlightComment">/// A function to deduce a function pass type and wrap it in the</span></CodeLine>
<Link id="l00849" /><CodeLine lineNumber="849"><span class="doxyHighlightComment">/// templated adaptor.</span></CodeLine>
<Link id="l00850" /><CodeLine lineNumber="850"><span class="doxyHighlightKeyword">template</span><span class="doxyHighlight"> &lt;</span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> FunctionPassT&gt;</span></CodeLine>
<Link id="l00851" /><CodeLine lineNumber="851"><span class="doxyHighlight">ModuleToFunctionPassAdaptor</span></CodeLine>
<Link id="l00852" /><CodeLine lineNumber="852" lineLink="/docs/api/namespaces/llvm/#a2386b882f14e23230b0065b7a3617f08"><span class="doxyHighlight"><a href="/docs/api/namespaces/llvm/#a2386b882f14e23230b0065b7a3617f08">createModuleToFunctionPassAdaptor</a>(FunctionPassT &amp;&amp;<a href="/docs/api/classes/llvm/pass">Pass</a>,</span></CodeLine>
<Link id="l00853" /><CodeLine lineNumber="853"><span class="doxyHighlight">                                  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> EagerlyInvalidate = </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">) &#123;</span></CodeLine>
<Link id="l00854" /><CodeLine lineNumber="854"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">using </span><span class="doxyHighlight">PassModelT =</span></CodeLine>
<Link id="l00855" /><CodeLine lineNumber="855"><span class="doxyHighlight">      <a href="/docs/api/structs/llvm/detail/passmodel">detail::PassModel&lt;Function, FunctionPassT, FunctionAnalysisManager&gt;</a>;</span></CodeLine>
<Link id="l00856" /><CodeLine lineNumber="856"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Do not use make&#95;unique, it causes too many template instantiations,</span></CodeLine>
<Link id="l00857" /><CodeLine lineNumber="857"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// causing terrible compile times.</span></CodeLine>
<Link id="l00858" /><CodeLine lineNumber="858"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/moduletofunctionpassadaptor">ModuleToFunctionPassAdaptor</a>(</span></CodeLine>
<Link id="l00859" /><CodeLine lineNumber="859"><span class="doxyHighlight">      std::unique&#95;ptr&lt;ModuleToFunctionPassAdaptor::PassConceptT&gt;(</span></CodeLine>
<Link id="l00860" /><CodeLine lineNumber="860"><span class="doxyHighlight">          </span><span class="doxyHighlightKeyword">new</span><span class="doxyHighlight"> PassModelT(std::forward&lt;FunctionPassT&gt;(<a href="/docs/api/classes/llvm/pass">Pass</a>))),</span></CodeLine>
<Link id="l00861" /><CodeLine lineNumber="861"><span class="doxyHighlight">      EagerlyInvalidate);</span></CodeLine>
<Link id="l00862" /><CodeLine lineNumber="862"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l00863" /><CodeLine lineNumber="863"></CodeLine>
<Link id="l00864" /><CodeLine lineNumber="864"><span class="doxyHighlightComment">/// A utility pass template to force an analysis result to be available.</span></CodeLine>
<Link id="l00865" /><CodeLine lineNumber="865"><span class="doxyHighlightComment">///</span></CodeLine>
<Link id="l00866" /><CodeLine lineNumber="866"><span class="doxyHighlightComment">/// If there are extra arguments at the pass&#39;s run level there may also be</span></CodeLine>
<Link id="l00867" /><CodeLine lineNumber="867"><span class="doxyHighlightComment">/// extra arguments to the analysis manager&#39;s \\c getResult routine. We can&#39;t</span></CodeLine>
<Link id="l00868" /><CodeLine lineNumber="868"><span class="doxyHighlightComment">/// guess how to effectively map the arguments from one to the other, and so</span></CodeLine>
<Link id="l00869" /><CodeLine lineNumber="869"><span class="doxyHighlightComment">/// this specialization just ignores them.</span></CodeLine>
<Link id="l00870" /><CodeLine lineNumber="870"><span class="doxyHighlightComment">///</span></CodeLine>
<Link id="l00871" /><CodeLine lineNumber="871"><span class="doxyHighlightComment">/// Specific patterns of run-method extra arguments and analysis manager extra</span></CodeLine>
<Link id="l00872" /><CodeLine lineNumber="872"><span class="doxyHighlightComment">/// arguments will have to be defined as appropriate specializations.</span></CodeLine>
<Link id="l00873" /><CodeLine lineNumber="873"><span class="doxyHighlightKeyword">template</span><span class="doxyHighlight"> &lt;</span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> AnalysisT, </span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> IRUnitT,</span></CodeLine>
<Link id="l00874" /><CodeLine lineNumber="874"><span class="doxyHighlight">          </span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> AnalysisManagerT = AnalysisManager&lt;IRUnitT&gt;,</span></CodeLine>
<Link id="l00875" /><CodeLine lineNumber="875"><span class="doxyHighlight">          </span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight">... ExtraArgTs&gt;</span></CodeLine>
<Link id="l00876" /><CodeLine lineNumber="876" lineLink="/docs/api/structs/llvm/requireanalysispass"><span class="doxyHighlightKeyword">struct </span><span class="doxyHighlight"><a href="/docs/api/structs/llvm/requireanalysispass">RequireAnalysisPass</a></span></CodeLine>
<Link id="l00877" /><CodeLine lineNumber="877"><span class="doxyHighlight">    : <a href="/docs/api/structs/llvm/passinfomixin">PassInfoMixin</a>&lt;RequireAnalysisPass&lt;AnalysisT, IRUnitT, AnalysisManagerT,</span></CodeLine>
<Link id="l00878" /><CodeLine lineNumber="878"><span class="doxyHighlight">                                        ExtraArgTs...&gt;&gt; &#123;</span></CodeLine>
<Link id="l00879" /><CodeLine lineNumber="879"><span class="doxyHighlightComment">  /// Run this pass over some unit of IR.</span></CodeLine>
<Link id="l00880" /><CodeLine lineNumber="880"><span class="doxyHighlightComment">  ///</span></CodeLine>
<Link id="l00881" /><CodeLine lineNumber="881"><span class="doxyHighlightComment">  /// This pass can be run over any unit of IR and use any analysis manager</span></CodeLine>
<Link id="l00882" /><CodeLine lineNumber="882"><span class="doxyHighlightComment">  /// provided they satisfy the basic API requirements. When this pass is</span></CodeLine>
<Link id="l00883" /><CodeLine lineNumber="883"><span class="doxyHighlightComment">  /// created, these methods can be instantiated to satisfy whatever the</span></CodeLine>
<Link id="l00884" /><CodeLine lineNumber="884"><span class="doxyHighlightComment">  /// context requires.</span></CodeLine>
<Link id="l00885" /><CodeLine lineNumber="885" lineLink="/docs/api/structs/llvm/requireanalysispass/#ab43e4aa43606bb4fd7ce7575f2c075f5"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/preservedanalyses">PreservedAnalyses</a> <a href="/docs/api/structs/llvm/requireanalysispass/#ab43e4aa43606bb4fd7ce7575f2c075f5">run</a>(IRUnitT &amp;Arg, AnalysisManagerT &amp;AM,</span></CodeLine>
<Link id="l00886" /><CodeLine lineNumber="886"><span class="doxyHighlight">                        ExtraArgTs &amp;&amp;... Args) &#123;</span></CodeLine>
<Link id="l00887" /><CodeLine lineNumber="887"><span class="doxyHighlight">    (void)AM.template getResult&lt;AnalysisT&gt;(Arg,</span></CodeLine>
<Link id="l00888" /><CodeLine lineNumber="888"><span class="doxyHighlight">                                           std::forward&lt;ExtraArgTs&gt;(Args)...);</span></CodeLine>
<Link id="l00889" /><CodeLine lineNumber="889"></CodeLine>
<Link id="l00890" /><CodeLine lineNumber="890"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/preservedanalyses/#a1258a1ff55557c27684010ebd7283712">PreservedAnalyses::all</a>();</span></CodeLine>
<Link id="l00891" /><CodeLine lineNumber="891"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00892" /><CodeLine lineNumber="892" lineLink="/docs/api/structs/llvm/requireanalysispass/#a52cbd06bde6a2e128df765fb23691658"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/structs/llvm/requireanalysispass/#a52cbd06bde6a2e128df765fb23691658">printPipeline</a>(<a href="/docs/api/classes/llvm/raw-ostream">raw&#95;ostream</a> &amp;OS,</span></CodeLine>
<Link id="l00893" /><CodeLine lineNumber="893"><span class="doxyHighlight">                     <a href="/docs/api/classes/llvm/function-ref">function&#95;ref</a>&lt;<a href="/docs/api/classes/llvm/stringref">StringRef</a>(<a href="/docs/api/classes/llvm/stringref">StringRef</a>)&gt; MapClassName2PassName) &#123;</span></CodeLine>
<Link id="l00894" /><CodeLine lineNumber="894"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> ClassName = AnalysisT::name();</span></CodeLine>
<Link id="l00895" /><CodeLine lineNumber="895"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86loweramxintrinsics-cpp/#adb9257105a403ef9d0773b87693f7779">PassName</a> = MapClassName2PassName(ClassName);</span></CodeLine>
<Link id="l00896" /><CodeLine lineNumber="896"><span class="doxyHighlight">    OS &lt;&lt; </span><span class="doxyHighlightStringLiteral">&quot;require&lt;&quot;</span><span class="doxyHighlight"> &lt;&lt; <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86loweramxintrinsics-cpp/#adb9257105a403ef9d0773b87693f7779">PassName</a> &lt;&lt; </span><span class="doxyHighlightCharLiteral">&#39;&gt;&#39;</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00897" /><CodeLine lineNumber="897"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00898" /><CodeLine lineNumber="898" lineLink="/docs/api/structs/llvm/requireanalysispass/#a9e6be9d5bcef9d57b948ac88ddc38eba"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="/docs/api/structs/llvm/requireanalysispass/#a9e6be9d5bcef9d57b948ac88ddc38eba">isRequired</a>() &#123; </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">; &#125;</span></CodeLine>
<Link id="l00899" /><CodeLine lineNumber="899"><span class="doxyHighlight">&#125;;</span></CodeLine>
<Link id="l00900" /><CodeLine lineNumber="900"></CodeLine>
<Link id="l00901" /><CodeLine lineNumber="901"><span class="doxyHighlightComment">/// A no-op pass template which simply forces a specific analysis result</span></CodeLine>
<Link id="l00902" /><CodeLine lineNumber="902"><span class="doxyHighlightComment">/// to be invalidated.</span></CodeLine>
<Link id="l00903" /><CodeLine lineNumber="903"><span class="doxyHighlightKeyword">template</span><span class="doxyHighlight"> &lt;</span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> AnalysisT&gt;</span></CodeLine>
<Link id="l00904" /><CodeLine lineNumber="904" lineLink="/docs/api/structs/llvm/invalidateanalysispass"><span class="doxyHighlightKeyword">struct </span><span class="doxyHighlight"><a href="/docs/api/structs/llvm/invalidateanalysispass">InvalidateAnalysisPass</a></span></CodeLine>
<Link id="l00905" /><CodeLine lineNumber="905"><span class="doxyHighlight">    : <a href="/docs/api/structs/llvm/passinfomixin">PassInfoMixin</a>&lt;InvalidateAnalysisPass&lt;AnalysisT&gt;&gt; &#123;</span></CodeLine>
<Link id="l00906" /><CodeLine lineNumber="906"><span class="doxyHighlightComment">  /// Run this pass over some unit of IR.</span></CodeLine>
<Link id="l00907" /><CodeLine lineNumber="907"><span class="doxyHighlightComment">  ///</span></CodeLine>
<Link id="l00908" /><CodeLine lineNumber="908"><span class="doxyHighlightComment">  /// This pass can be run over any unit of IR and use any analysis manager,</span></CodeLine>
<Link id="l00909" /><CodeLine lineNumber="909"><span class="doxyHighlightComment">  /// provided they satisfy the basic API requirements. When this pass is</span></CodeLine>
<Link id="l00910" /><CodeLine lineNumber="910"><span class="doxyHighlightComment">  /// created, these methods can be instantiated to satisfy whatever the</span></CodeLine>
<Link id="l00911" /><CodeLine lineNumber="911"><span class="doxyHighlightComment">  /// context requires.</span></CodeLine>
<Link id="l00912" /><CodeLine lineNumber="912"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">template</span><span class="doxyHighlight"> &lt;</span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> IRUnitT, </span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> AnalysisManagerT, </span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight">... ExtraArgTs&gt;</span></CodeLine>
<Link id="l00913" /><CodeLine lineNumber="913" lineLink="/docs/api/structs/llvm/invalidateanalysispass/#a935620d91529983e8e139ceb8532b5cb"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/preservedanalyses">PreservedAnalyses</a> <a href="/docs/api/structs/llvm/invalidateanalysispass/#a935620d91529983e8e139ceb8532b5cb">run</a>(IRUnitT &amp;Arg, AnalysisManagerT &amp;AM, ExtraArgTs &amp;&amp;...) &#123;</span></CodeLine>
<Link id="l00914" /><CodeLine lineNumber="914"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> PA = <a href="/docs/api/classes/llvm/preservedanalyses/#a1258a1ff55557c27684010ebd7283712">PreservedAnalyses::all</a>();</span></CodeLine>
<Link id="l00915" /><CodeLine lineNumber="915"><span class="doxyHighlight">    PA.<a href="/docs/api/classes/llvm/preservedanalyses/#ac8a842a601c470fa22db443ac34d0a67">abandon</a>&lt;AnalysisT&gt;();</span></CodeLine>
<Link id="l00916" /><CodeLine lineNumber="916"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> PA;</span></CodeLine>
<Link id="l00917" /><CodeLine lineNumber="917"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00918" /><CodeLine lineNumber="918" lineLink="/docs/api/structs/llvm/invalidateanalysispass/#a04c9ac03e284c891cf872820d63eb63f"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/structs/llvm/invalidateanalysispass/#a04c9ac03e284c891cf872820d63eb63f">printPipeline</a>(<a href="/docs/api/classes/llvm/raw-ostream">raw&#95;ostream</a> &amp;OS,</span></CodeLine>
<Link id="l00919" /><CodeLine lineNumber="919"><span class="doxyHighlight">                     <a href="/docs/api/classes/llvm/function-ref">function&#95;ref</a>&lt;<a href="/docs/api/classes/llvm/stringref">StringRef</a>(<a href="/docs/api/classes/llvm/stringref">StringRef</a>)&gt; MapClassName2PassName) &#123;</span></CodeLine>
<Link id="l00920" /><CodeLine lineNumber="920"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> ClassName = AnalysisT::name();</span></CodeLine>
<Link id="l00921" /><CodeLine lineNumber="921"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86loweramxintrinsics-cpp/#adb9257105a403ef9d0773b87693f7779">PassName</a> = MapClassName2PassName(ClassName);</span></CodeLine>
<Link id="l00922" /><CodeLine lineNumber="922"><span class="doxyHighlight">    OS &lt;&lt; </span><span class="doxyHighlightStringLiteral">&quot;invalidate&lt;&quot;</span><span class="doxyHighlight"> &lt;&lt; <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86loweramxintrinsics-cpp/#adb9257105a403ef9d0773b87693f7779">PassName</a> &lt;&lt; </span><span class="doxyHighlightCharLiteral">&#39;&gt;&#39;</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00923" /><CodeLine lineNumber="923"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00924" /><CodeLine lineNumber="924"><span class="doxyHighlight">&#125;;</span></CodeLine>
<Link id="l00925" /><CodeLine lineNumber="925"></CodeLine>
<Link id="l00926" /><CodeLine lineNumber="926"><span class="doxyHighlightComment">/// A utility pass that does nothing, but preserves no analyses.</span></CodeLine>
<Link id="l00927" /><CodeLine lineNumber="927"><span class="doxyHighlightComment">///</span></CodeLine>
<Link id="l00928" /><CodeLine lineNumber="928"><span class="doxyHighlightComment">/// Because this preserves no analyses, any analysis passes queried after this</span></CodeLine>
<Link id="l00929" /><CodeLine lineNumber="929"><span class="doxyHighlightComment">/// pass runs will recompute fresh results.</span></CodeLine>
<Link id="l00930" /><CodeLine lineNumber="930" lineLink="/docs/api/structs/llvm/invalidateallanalysespass"><span class="doxyHighlightKeyword">struct </span><span class="doxyHighlight"><a href="/docs/api/structs/llvm/invalidateallanalysespass">InvalidateAllAnalysesPass</a> : <a href="/docs/api/structs/llvm/passinfomixin">PassInfoMixin</a>&lt;InvalidateAllAnalysesPass&gt; &#123;</span></CodeLine>
<Link id="l00931" /><CodeLine lineNumber="931"><span class="doxyHighlightComment">  /// Run this pass over some unit of IR.</span></CodeLine>
<Link id="l00932" /><CodeLine lineNumber="932"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">template</span><span class="doxyHighlight"> &lt;</span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> IRUnitT, </span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> AnalysisManagerT, </span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight">... ExtraArgTs&gt;</span></CodeLine>
<Link id="l00933" /><CodeLine lineNumber="933" lineLink="/docs/api/structs/llvm/invalidateallanalysespass/#a26d46f86f73f5ec55ce9e332c1969e14"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/preservedanalyses">PreservedAnalyses</a> <a href="/docs/api/structs/llvm/invalidateallanalysespass/#a26d46f86f73f5ec55ce9e332c1969e14">run</a>(IRUnitT &amp;, AnalysisManagerT &amp;, ExtraArgTs &amp;&amp;...) &#123;</span></CodeLine>
<Link id="l00934" /><CodeLine lineNumber="934"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/preservedanalyses/#a03797a73044a81cbc6a3409d6c72ee8f">PreservedAnalyses::none</a>();</span></CodeLine>
<Link id="l00935" /><CodeLine lineNumber="935"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00936" /><CodeLine lineNumber="936"><span class="doxyHighlight">&#125;;</span></CodeLine>
<Link id="l00937" /><CodeLine lineNumber="937"></CodeLine>
<Link id="l00938" /><CodeLine lineNumber="938"><span class="doxyHighlight">&#125; </span><span class="doxyHighlightComment">// end namespace llvm</span></CodeLine>
<Link id="l00939" /><CodeLine lineNumber="939"></CodeLine>
<Link id="l00940" /><CodeLine lineNumber="940"><span class="doxyHighlightPreprocessor">#endif </span><span class="doxyHighlightComment">// LLVM&#95;IR&#95;PASSMANAGER&#95;H</span></CodeLine>

</ProgramListing>


</DoxygenPage>
