---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/vectorize/loopvectorizationlegality-h
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - file

---

import Link from '@docusaurus/Link'

import CodeLine from '@xpack/docusaurus-plugin-doxygen/components/CodeLine'
import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import ProgramListing from '@xpack/docusaurus-plugin-doxygen/components/ProgramListing'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `LoopVectorizationLegality.h` File Reference

<DoxygenPage pluginConfig={pluginConfig}>

This file defines the LoopVectorizationLegality class. <a href="#details">More...</a>

## Included Headers

<IncludesList>
<IncludesListItem
  filePath="llvm/ADT/MapVector.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/adt/mapvector-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/Analysis/LoopAccessAnalysis.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/analysis/loopaccessanalysis-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/Support/TypeSize.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/support/typesize-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/Transforms/Utils/LoopUtils.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/looputils-h"
  isLocal="true" />
</IncludesList>

## Namespaces Index

<MembersIndex>

<MembersIndexItem
  type="namespace"
  name={<><a href="/docs/api/namespaces/llvm">llvm</a></>}>
This is an optimization pass for GlobalISel generic memory operations. <a href="/docs/api/namespaces/llvm/#details">More...</a>
</MembersIndexItem>

</MembersIndex>

## Classes Index

<MembersIndex>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/loopvectorizehints">LoopVectorizeHints</a></>}>
Utility class for getting and setting loop vectorizer hints in the form of loop metadata. <a href="/docs/api/classes/llvm/loopvectorizehints/#details">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="struct"
  name={<><a href="/docs/api/structs/llvm/loopvectorizehints/hint">Hint</a></>}>
Hint - associates name and validation with the hint value. <a href="/docs/api/structs/llvm/loopvectorizehints/hint/#details">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/loopvectorizationrequirements">LoopVectorizationRequirements</a></>}>
This holds vectorization requirements that must be verified late in the process. <a href="/docs/api/classes/llvm/loopvectorizationrequirements/#details">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="struct"
  name={<><a href="/docs/api/structs/llvm/histograminfo">HistogramInfo</a></>}>
This holds details about a histogram operation â€“ a load -&gt; update -&gt; store sequence where each lane in a vector might be updating the same element as another lane. <a href="/docs/api/structs/llvm/histograminfo/#details">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/loopvectorizationlegality">LoopVectorizationLegality</a></>}>
<a href="/docs/api/classes/llvm/loopvectorizationlegality">LoopVectorizationLegality</a> checks if it is legal to vectorize a loop, and to what vectorization factor. <a href="/docs/api/classes/llvm/loopvectorizationlegality/#details">More...</a>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

This file defines the LoopVectorizationLegality class.

Original code in Loop Vectorizer has been moved out to its own file for modularity and reusability.

Currently, it works for innermost loop vectorization. Extending this to outer loop vectorization is a TODO item.

Also provides: 1) LoopVectorizeHints class which keeps a number of loop annotations locally for easy look up. It has the ability to write them back as loop metadata, upon request. 2) LoopVectorizationRequirements class for lazy bail out for the purpose of reporting useful failure to vectorize message.

## File Listing

The file content with the documentation metadata removed is:

<ProgramListing>

<Link id="l00001" /><CodeLine lineNumber="1"><span class="doxyHighlightComment">//===- llvm/Transforms/Vectorize/LoopVectorizationLegality.h ----&#42;- C++ -&#42;-===//</span></CodeLine>
<Link id="l00002" /><CodeLine lineNumber="2"><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l00003" /><CodeLine lineNumber="3"><span class="doxyHighlightComment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></CodeLine>
<Link id="l00004" /><CodeLine lineNumber="4"><span class="doxyHighlightComment">// See https://llvm.org/LICENSE.txt for license information.</span></CodeLine>
<Link id="l00005" /><CodeLine lineNumber="5"><span class="doxyHighlightComment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></CodeLine>
<Link id="l00006" /><CodeLine lineNumber="6"><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l00007" /><CodeLine lineNumber="7"><span class="doxyHighlightComment">//===----------------------------------------------------------------------===//</span></CodeLine>
<Link id="l00008" /><CodeLine lineNumber="8"><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l00009" /><CodeLine lineNumber="9"><span class="doxyHighlightComment">/// \\file</span></CodeLine>
<Link id="l00010" /><CodeLine lineNumber="10"><span class="doxyHighlightComment">/// This file defines the LoopVectorizationLegality class. Original code</span></CodeLine>
<Link id="l00011" /><CodeLine lineNumber="11"><span class="doxyHighlightComment">/// in Loop Vectorizer has been moved out to its own file for modularity</span></CodeLine>
<Link id="l00012" /><CodeLine lineNumber="12"><span class="doxyHighlightComment">/// and reusability.</span></CodeLine>
<Link id="l00013" /><CodeLine lineNumber="13"><span class="doxyHighlightComment">///</span></CodeLine>
<Link id="l00014" /><CodeLine lineNumber="14"><span class="doxyHighlightComment">/// Currently, it works for innermost loop vectorization. Extending this to</span></CodeLine>
<Link id="l00015" /><CodeLine lineNumber="15"><span class="doxyHighlightComment">/// outer loop vectorization is a TODO item.</span></CodeLine>
<Link id="l00016" /><CodeLine lineNumber="16"><span class="doxyHighlightComment">///</span></CodeLine>
<Link id="l00017" /><CodeLine lineNumber="17"><span class="doxyHighlightComment">/// Also provides:</span></CodeLine>
<Link id="l00018" /><CodeLine lineNumber="18"><span class="doxyHighlightComment">/// 1) LoopVectorizeHints class which keeps a number of loop annotations</span></CodeLine>
<Link id="l00019" /><CodeLine lineNumber="19"><span class="doxyHighlightComment">/// locally for easy look up. It has the ability to write them back as</span></CodeLine>
<Link id="l00020" /><CodeLine lineNumber="20"><span class="doxyHighlightComment">/// loop metadata, upon request.</span></CodeLine>
<Link id="l00021" /><CodeLine lineNumber="21"><span class="doxyHighlightComment">/// 2) LoopVectorizationRequirements class for lazy bail out for the purpose</span></CodeLine>
<Link id="l00022" /><CodeLine lineNumber="22"><span class="doxyHighlightComment">/// of reporting useful failure to vectorize message.</span></CodeLine>
<Link id="l00023" /><CodeLine lineNumber="23"><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l00024" /><CodeLine lineNumber="24"><span class="doxyHighlightComment">//===----------------------------------------------------------------------===//</span></CodeLine>
<Link id="l00025" /><CodeLine lineNumber="25"></CodeLine>
<Link id="l00026" /><CodeLine lineNumber="26"><span class="doxyHighlightPreprocessor">#ifndef LLVM&#95;TRANSFORMS&#95;VECTORIZE&#95;LOOPVECTORIZATIONLEGALITY&#95;H</span></CodeLine>
<Link id="l00027" /><CodeLine lineNumber="27"><span class="doxyHighlightPreprocessor">#define LLVM&#95;TRANSFORMS&#95;VECTORIZE&#95;LOOPVECTORIZATIONLEGALITY&#95;H</span></CodeLine>
<Link id="l00028" /><CodeLine lineNumber="28"></CodeLine>
<Link id="l00029" /><CodeLine lineNumber="29"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/adt/mapvector-h">llvm/ADT/MapVector.h</a>&quot;</span></CodeLine>
<Link id="l00030" /><CodeLine lineNumber="30"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/analysis/loopaccessanalysis-h">llvm/Analysis/LoopAccessAnalysis.h</a>&quot;</span></CodeLine>
<Link id="l00031" /><CodeLine lineNumber="31"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/support/typesize-h">llvm/Support/TypeSize.h</a>&quot;</span></CodeLine>
<Link id="l00032" /><CodeLine lineNumber="32"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/looputils-h">llvm/Transforms/Utils/LoopUtils.h</a>&quot;</span></CodeLine>
<Link id="l00033" /><CodeLine lineNumber="33"></CodeLine>
<Link id="l00034" /><CodeLine lineNumber="34"><span class="doxyHighlightKeyword">namespace </span><span class="doxyHighlight"><a href="/docs/api/namespaces/llvm">llvm</a> &#123;</span></CodeLine>
<Link id="l00035" /><CodeLine lineNumber="35"><span class="doxyHighlightKeyword">class </span><span class="doxyHighlight"><a href="/docs/api/classes/llvm/assumptioncache">AssumptionCache</a>;</span></CodeLine>
<Link id="l00036" /><CodeLine lineNumber="36"><span class="doxyHighlightKeyword">class </span><span class="doxyHighlight"><a href="/docs/api/classes/llvm/basicblock">BasicBlock</a>;</span></CodeLine>
<Link id="l00037" /><CodeLine lineNumber="37"><span class="doxyHighlightKeyword">class </span><span class="doxyHighlight"><a href="/docs/api/classes/llvm/blockfrequencyinfo">BlockFrequencyInfo</a>;</span></CodeLine>
<Link id="l00038" /><CodeLine lineNumber="38"><span class="doxyHighlightKeyword">class </span><span class="doxyHighlight"><a href="/docs/api/classes/llvm/demandedbits">DemandedBits</a>;</span></CodeLine>
<Link id="l00039" /><CodeLine lineNumber="39"><span class="doxyHighlightKeyword">class </span><span class="doxyHighlight"><a href="/docs/api/classes/llvm/dominatortree">DominatorTree</a>;</span></CodeLine>
<Link id="l00040" /><CodeLine lineNumber="40"><span class="doxyHighlightKeyword">class </span><span class="doxyHighlight"><a href="/docs/api/classes/llvm/function">Function</a>;</span></CodeLine>
<Link id="l00041" /><CodeLine lineNumber="41"><span class="doxyHighlightKeyword">class </span><span class="doxyHighlight"><a href="/docs/api/classes/llvm/loop">Loop</a>;</span></CodeLine>
<Link id="l00042" /><CodeLine lineNumber="42"><span class="doxyHighlightKeyword">class </span><span class="doxyHighlight"><a href="/docs/api/classes/llvm/loopinfo">LoopInfo</a>;</span></CodeLine>
<Link id="l00043" /><CodeLine lineNumber="43"><span class="doxyHighlightKeyword">class </span><span class="doxyHighlight"><a href="/docs/api/classes/llvm/metadata">Metadata</a>;</span></CodeLine>
<Link id="l00044" /><CodeLine lineNumber="44"><span class="doxyHighlightKeyword">class </span><span class="doxyHighlight"><a href="/docs/api/classes/llvm/optimizationremarkemitter">OptimizationRemarkEmitter</a>;</span></CodeLine>
<Link id="l00045" /><CodeLine lineNumber="45"><span class="doxyHighlightKeyword">class </span><span class="doxyHighlight"><a href="/docs/api/classes/llvm/predicatedscalarevolution">PredicatedScalarEvolution</a>;</span></CodeLine>
<Link id="l00046" /><CodeLine lineNumber="46"><span class="doxyHighlightKeyword">class </span><span class="doxyHighlight"><a href="/docs/api/classes/llvm/profilesummaryinfo">ProfileSummaryInfo</a>;</span></CodeLine>
<Link id="l00047" /><CodeLine lineNumber="47"><span class="doxyHighlightKeyword">class </span><span class="doxyHighlight"><a href="/docs/api/classes/llvm/targetlibraryinfo">TargetLibraryInfo</a>;</span></CodeLine>
<Link id="l00048" /><CodeLine lineNumber="48"><span class="doxyHighlightKeyword">class </span><span class="doxyHighlight"><a href="/docs/api/classes/llvm/targettransforminfo">TargetTransformInfo</a>;</span></CodeLine>
<Link id="l00049" /><CodeLine lineNumber="49"><span class="doxyHighlightKeyword">class </span><span class="doxyHighlight"><a href="/docs/api/classes/llvm/type">Type</a>;</span></CodeLine>
<Link id="l00050" /><CodeLine lineNumber="50"></CodeLine>
<Link id="l00051" /><CodeLine lineNumber="51"><span class="doxyHighlightComment">/// Utility class for getting and setting loop vectorizer hints in the form</span></CodeLine>
<Link id="l00052" /><CodeLine lineNumber="52"><span class="doxyHighlightComment">/// of loop metadata.</span></CodeLine>
<Link id="l00053" /><CodeLine lineNumber="53"><span class="doxyHighlightComment">/// This class keeps a number of loop annotations locally (as member variables)</span></CodeLine>
<Link id="l00054" /><CodeLine lineNumber="54"><span class="doxyHighlightComment">/// and can, upon request, write them back as metadata on the loop. It will</span></CodeLine>
<Link id="l00055" /><CodeLine lineNumber="55"><span class="doxyHighlightComment">/// initially scan the loop for existing metadata, and will update the local</span></CodeLine>
<Link id="l00056" /><CodeLine lineNumber="56"><span class="doxyHighlightComment">/// values based on information in the loop.</span></CodeLine>
<Link id="l00057" /><CodeLine lineNumber="57"><span class="doxyHighlightComment">/// We cannot write all values to metadata, as the mere presence of some info,</span></CodeLine>
<Link id="l00058" /><CodeLine lineNumber="58"><span class="doxyHighlightComment">/// for example &#39;force&#39;, means a decision has been made. So, we need to be</span></CodeLine>
<Link id="l00059" /><CodeLine lineNumber="59"><span class="doxyHighlightComment">/// careful NOT to add them if the user hasn&#39;t specifically asked so.</span></CodeLine>
<Link id="l00060" /><CodeLine lineNumber="60" lineLink="/docs/api/classes/llvm/loopvectorizehints"><span class="doxyHighlightKeyword">class </span><span class="doxyHighlight"><a href="/docs/api/classes/llvm/loopvectorizehints/#aa68245d8ed8fafd80a06d5092f434093">LoopVectorizeHints</a> &#123;</span></CodeLine>
<Link id="l00061" /><CodeLine lineNumber="61"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">enum</span><span class="doxyHighlight"> HintKind &#123;</span></CodeLine>
<Link id="l00062" /><CodeLine lineNumber="62"><span class="doxyHighlight">    HK&#95;WIDTH,</span></CodeLine>
<Link id="l00063" /><CodeLine lineNumber="63"><span class="doxyHighlight">    HK&#95;INTERLEAVE,</span></CodeLine>
<Link id="l00064" /><CodeLine lineNumber="64"><span class="doxyHighlight">    HK&#95;FORCE,</span></CodeLine>
<Link id="l00065" /><CodeLine lineNumber="65"><span class="doxyHighlight">    HK&#95;ISVECTORIZED,</span></CodeLine>
<Link id="l00066" /><CodeLine lineNumber="66"><span class="doxyHighlight">    HK&#95;PREDICATE,</span></CodeLine>
<Link id="l00067" /><CodeLine lineNumber="67"><span class="doxyHighlight">    HK&#95;SCALABLE</span></CodeLine>
<Link id="l00068" /><CodeLine lineNumber="68"><span class="doxyHighlight">  &#125;;</span></CodeLine>
<Link id="l00069" /><CodeLine lineNumber="69"></CodeLine>
<Link id="l00070" /><CodeLine lineNumber="70"><span class="doxyHighlightComment">  /// Hint - associates name and validation with the hint value.</span></CodeLine>
<Link id="l00071" /><CodeLine lineNumber="71"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">struct </span><span class="doxyHighlight">Hint &#123;</span></CodeLine>
<Link id="l00072" /><CodeLine lineNumber="72"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordType">char</span><span class="doxyHighlight"> &#42;Name;</span></CodeLine>
<Link id="l00073" /><CodeLine lineNumber="73"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/value">Value</a>; </span><span class="doxyHighlightComment">// This may have to change for non-numeric values.</span></CodeLine>
<Link id="l00074" /><CodeLine lineNumber="74"><span class="doxyHighlight">    HintKind Kind;</span></CodeLine>
<Link id="l00075" /><CodeLine lineNumber="75"></CodeLine>
<Link id="l00076" /><CodeLine lineNumber="76"><span class="doxyHighlight">    Hint(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordType">char</span><span class="doxyHighlight"> &#42;Name, </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/value">Value</a>, HintKind Kind)</span></CodeLine>
<Link id="l00077" /><CodeLine lineNumber="77"><span class="doxyHighlight">        : Name(Name), <a href="/docs/api/namespaces/llvm/#a066e2a31a13d6520e52ae1944f194662">Value</a>(<a href="/docs/api/classes/llvm/value">Value</a>), Kind(Kind) &#123;&#125;</span></CodeLine>
<Link id="l00078" /><CodeLine lineNumber="78"></CodeLine>
<Link id="l00079" /><CodeLine lineNumber="79"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> validate(</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> Val);</span></CodeLine>
<Link id="l00080" /><CodeLine lineNumber="80"><span class="doxyHighlight">  &#125;;</span></CodeLine>
<Link id="l00081" /><CodeLine lineNumber="81"></CodeLine>
<Link id="l00082" /><CodeLine lineNumber="82"><span class="doxyHighlightComment">  /// Vectorization width.</span></CodeLine>
<Link id="l00083" /><CodeLine lineNumber="83"><span class="doxyHighlight">  Hint Width;</span></CodeLine>
<Link id="l00084" /><CodeLine lineNumber="84"></CodeLine>
<Link id="l00085" /><CodeLine lineNumber="85"><span class="doxyHighlightComment">  /// Vectorization interleave factor.</span></CodeLine>
<Link id="l00086" /><CodeLine lineNumber="86"><span class="doxyHighlight">  Hint Interleave;</span></CodeLine>
<Link id="l00087" /><CodeLine lineNumber="87"></CodeLine>
<Link id="l00088" /><CodeLine lineNumber="88"><span class="doxyHighlightComment">  /// Vectorization forced</span></CodeLine>
<Link id="l00089" /><CodeLine lineNumber="89"><span class="doxyHighlight">  Hint Force;</span></CodeLine>
<Link id="l00090" /><CodeLine lineNumber="90"></CodeLine>
<Link id="l00091" /><CodeLine lineNumber="91"><span class="doxyHighlightComment">  /// Already Vectorized</span></CodeLine>
<Link id="l00092" /><CodeLine lineNumber="92"><span class="doxyHighlight">  Hint IsVectorized;</span></CodeLine>
<Link id="l00093" /><CodeLine lineNumber="93"></CodeLine>
<Link id="l00094" /><CodeLine lineNumber="94"><span class="doxyHighlightComment">  /// Vector Predicate</span></CodeLine>
<Link id="l00095" /><CodeLine lineNumber="95"><span class="doxyHighlight">  Hint Predicate;</span></CodeLine>
<Link id="l00096" /><CodeLine lineNumber="96"></CodeLine>
<Link id="l00097" /><CodeLine lineNumber="97"><span class="doxyHighlightComment">  /// Says whether we should use fixed width or scalable vectorization.</span></CodeLine>
<Link id="l00098" /><CodeLine lineNumber="98"><span class="doxyHighlight">  Hint Scalable;</span></CodeLine>
<Link id="l00099" /><CodeLine lineNumber="99"></CodeLine>
<Link id="l00100" /><CodeLine lineNumber="100"><span class="doxyHighlightComment">  /// Return the loop metadata prefix.</span></CodeLine>
<Link id="l00101" /><CodeLine lineNumber="101"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/stringref">StringRef</a> Prefix() &#123; </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightStringLiteral">&quot;llvm.loop.&quot;</span><span class="doxyHighlight">; &#125;</span></CodeLine>
<Link id="l00102" /><CodeLine lineNumber="102"></CodeLine>
<Link id="l00103" /><CodeLine lineNumber="103"><span class="doxyHighlightComment">  /// True if there is any unsafe math in the loop.</span></CodeLine>
<Link id="l00104" /><CodeLine lineNumber="104"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> PotentiallyUnsafe = </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00105" /><CodeLine lineNumber="105"></CodeLine>
<Link id="l00106" /><CodeLine lineNumber="106"><span class="doxyHighlightKeyword">public</span><span class="doxyHighlight">:</span></CodeLine>
<Link id="l00107" /><CodeLine lineNumber="107" lineLink="/docs/api/classes/llvm/loopvectorizehints/#a55ab1072c44295ad279535d714a0f33e"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">enum</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loopvectorizehints/#a55ab1072c44295ad279535d714a0f33e">ForceKind</a> &#123;</span></CodeLine>
<Link id="l00108" /><CodeLine lineNumber="108" lineLink="/docs/api/classes/llvm/loopvectorizehints/#a55ab1072c44295ad279535d714a0f33ea8914fe2dbf82d457456e8e4faa201b87"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/loopvectorizehints/#a55ab1072c44295ad279535d714a0f33ea8914fe2dbf82d457456e8e4faa201b87">FK&#95;Undefined</a> = -1, </span><span class="doxyHighlightComment">///&lt; Not selected.</span></CodeLine>
<Link id="l00109" /><CodeLine lineNumber="109" lineLink="/docs/api/classes/llvm/loopvectorizehints/#a55ab1072c44295ad279535d714a0f33ea980c2c6e59ca5dcf413baa325d8bc385"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/loopvectorizehints/#a55ab1072c44295ad279535d714a0f33ea980c2c6e59ca5dcf413baa325d8bc385">FK&#95;Disabled</a> = 0,   </span><span class="doxyHighlightComment">///&lt; Forcing disabled.</span></CodeLine>
<Link id="l00110" /><CodeLine lineNumber="110" lineLink="/docs/api/classes/llvm/loopvectorizehints/#a55ab1072c44295ad279535d714a0f33ea278ca681847fb2bad9707f76d899b231"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/loopvectorizehints/#a55ab1072c44295ad279535d714a0f33ea278ca681847fb2bad9707f76d899b231">FK&#95;Enabled</a> = 1,    </span><span class="doxyHighlightComment">///&lt; Forcing enabled.</span></CodeLine>
<Link id="l00111" /><CodeLine lineNumber="111"><span class="doxyHighlight">  &#125;;</span></CodeLine>
<Link id="l00112" /><CodeLine lineNumber="112"></CodeLine>
<Link id="l00113" /><CodeLine lineNumber="113" lineLink="/docs/api/classes/llvm/loopvectorizehints/#a041ce1f90aff1772f662dd0c8e3ec4f4"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">enum</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loopvectorizehints/#a041ce1f90aff1772f662dd0c8e3ec4f4">ScalableForceKind</a> &#123;</span></CodeLine>
<Link id="l00114" /><CodeLine lineNumber="114"><span class="doxyHighlightComment">    /// Not selected.</span></CodeLine>
<Link id="l00115" /><CodeLine lineNumber="115" lineLink="/docs/api/classes/llvm/loopvectorizehints/#a041ce1f90aff1772f662dd0c8e3ec4f4a99f04f3a0c3cb69e39acbc12c93b49da"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/loopvectorizehints/#a041ce1f90aff1772f662dd0c8e3ec4f4a99f04f3a0c3cb69e39acbc12c93b49da">SK&#95;Unspecified</a> = -1,</span></CodeLine>
<Link id="l00116" /><CodeLine lineNumber="116"><span class="doxyHighlightComment">    /// Disables vectorization with scalable vectors.</span></CodeLine>
<Link id="l00117" /><CodeLine lineNumber="117" lineLink="/docs/api/classes/llvm/loopvectorizehints/#a041ce1f90aff1772f662dd0c8e3ec4f4ac46ef7a95288338ce20df95d296898f4"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/loopvectorizehints/#a041ce1f90aff1772f662dd0c8e3ec4f4ac46ef7a95288338ce20df95d296898f4">SK&#95;FixedWidthOnly</a> = 0,</span></CodeLine>
<Link id="l00118" /><CodeLine lineNumber="118"><span class="doxyHighlightComment">    /// Vectorize loops using scalable vectors or fixed-width vectors, but favor</span></CodeLine>
<Link id="l00119" /><CodeLine lineNumber="119"><span class="doxyHighlightComment">    /// scalable vectors when the cost-model is inconclusive. This is the</span></CodeLine>
<Link id="l00120" /><CodeLine lineNumber="120"><span class="doxyHighlightComment">    /// default when the scalable.enable hint is enabled through a pragma.</span></CodeLine>
<Link id="l00121" /><CodeLine lineNumber="121" lineLink="/docs/api/classes/llvm/loopvectorizehints/#a041ce1f90aff1772f662dd0c8e3ec4f4a7d9d22c5375d2c00b79a4a897967a2f6"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/loopvectorizehints/#a041ce1f90aff1772f662dd0c8e3ec4f4a7d9d22c5375d2c00b79a4a897967a2f6">SK&#95;PreferScalable</a> = 1</span></CodeLine>
<Link id="l00122" /><CodeLine lineNumber="122"><span class="doxyHighlight">  &#125;;</span></CodeLine>
<Link id="l00123" /><CodeLine lineNumber="123"></CodeLine>
<Link id="l00124" /><CodeLine lineNumber="124"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/loopvectorizehints/#aa68245d8ed8fafd80a06d5092f434093">LoopVectorizeHints</a>(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loop">Loop</a> &#42;L, </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> InterleaveOnlyWhenForced,</span></CodeLine>
<Link id="l00125" /><CodeLine lineNumber="125"><span class="doxyHighlight">                     <a href="/docs/api/classes/llvm/optimizationremarkemitter">OptimizationRemarkEmitter</a> &amp;ORE,</span></CodeLine>
<Link id="l00126" /><CodeLine lineNumber="126"><span class="doxyHighlight">                     </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targettransforminfo">TargetTransformInfo</a> &#42;<a href="/docs/api/namespaces/llvm/#aa0d69e81725c10fa5407f0bf34462068">TTI</a> = </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l00127" /><CodeLine lineNumber="127"></CodeLine>
<Link id="l00128" /><CodeLine lineNumber="128"><span class="doxyHighlightComment">  /// Mark the loop L as already vectorized by setting the width to 1</span></CodeLine>
<Link id="l00129" /><CodeLine lineNumber="129"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loopvectorizehints/#aa2f5ef2d522fb80de283a23d5bed6d86">setAlreadyVectorized</a>();</span></CodeLine>
<Link id="l00130" /><CodeLine lineNumber="130"></CodeLine>
<Link id="l00131" /><CodeLine lineNumber="131"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loopvectorizehints/#a21b6d9e2aa12c8c68d8e2f122ec7ecec">allowVectorization</a>(<a href="/docs/api/classes/llvm/function">Function</a> &#42;<a href="/docs/api/files/lib/lib/support/md5-cpp/#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a href="/docs/api/classes/llvm/loop">Loop</a> &#42;L,</span></CodeLine>
<Link id="l00132" /><CodeLine lineNumber="132"><span class="doxyHighlight">                          </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> VectorizeOnlyWhenForced) </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00133" /><CodeLine lineNumber="133"></CodeLine>
<Link id="l00134" /><CodeLine lineNumber="134"><span class="doxyHighlightComment">  /// Dumps all the hint information.</span></CodeLine>
<Link id="l00135" /><CodeLine lineNumber="135"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loopvectorizehints/#a440979b6103588bef39bd2d62065d5ff">emitRemarkWithHints</a>() </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00136" /><CodeLine lineNumber="136"></CodeLine>
<Link id="l00137" /><CodeLine lineNumber="137" lineLink="/docs/api/classes/llvm/loopvectorizehints/#a50cae5c2df432357d50f182d310ce7b7"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/elementcount">ElementCount</a> <a href="/docs/api/classes/llvm/loopvectorizehints/#a50cae5c2df432357d50f182d310ce7b7">getWidth</a>()</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123;</span></CodeLine>
<Link id="l00138" /><CodeLine lineNumber="138"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/elementcount/#a79ea372f9aa69492fccfafc0e5a1589c">ElementCount::get</a>(Width.Value, (<a href="/docs/api/classes/llvm/loopvectorizehints/#a041ce1f90aff1772f662dd0c8e3ec4f4">ScalableForceKind</a>)Scalable.Value ==</span></CodeLine>
<Link id="l00139" /><CodeLine lineNumber="139"><span class="doxyHighlight">                                              <a href="/docs/api/classes/llvm/loopvectorizehints/#a041ce1f90aff1772f662dd0c8e3ec4f4a7d9d22c5375d2c00b79a4a897967a2f6">SK&#95;PreferScalable</a>);</span></CodeLine>
<Link id="l00140" /><CodeLine lineNumber="140"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00141" /><CodeLine lineNumber="141"></CodeLine>
<Link id="l00142" /><CodeLine lineNumber="142" lineLink="/docs/api/classes/llvm/loopvectorizehints/#ad98353127dbeb649d41ca07da5074b49"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loopvectorizehints/#ad98353127dbeb649d41ca07da5074b49">getInterleave</a>()</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123;</span></CodeLine>
<Link id="l00143" /><CodeLine lineNumber="143"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Interleave.Value)</span></CodeLine>
<Link id="l00144" /><CodeLine lineNumber="144"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> Interleave.Value;</span></CodeLine>
<Link id="l00145" /><CodeLine lineNumber="145"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// If interleaving is not explicitly set, assume that if we do not want</span></CodeLine>
<Link id="l00146" /><CodeLine lineNumber="146"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// unrolling, we also don&#39;t want any interleaving.</span></CodeLine>
<Link id="l00147" /><CodeLine lineNumber="147"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/#a868145c1795173f9642f99c354f91a7d">llvm::hasUnrollTransformation</a>(TheLoop) &amp; <a href="/docs/api/namespaces/llvm/#aa3e837c0d2a0521b4a4680071cac0dcbaa70bd8f3da4232ad809b2ffdcc1254bd">TM&#95;Disable</a>)</span></CodeLine>
<Link id="l00148" /><CodeLine lineNumber="148"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> 1;</span></CodeLine>
<Link id="l00149" /><CodeLine lineNumber="149"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> 0;</span></CodeLine>
<Link id="l00150" /><CodeLine lineNumber="150"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00151" /><CodeLine lineNumber="151" lineLink="/docs/api/classes/llvm/loopvectorizehints/#af0277f27ebe0f8317170a739b2080d0c"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loopvectorizehints/#af0277f27ebe0f8317170a739b2080d0c">getIsVectorized</a>()</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123; </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> IsVectorized.Value; &#125;</span></CodeLine>
<Link id="l00152" /><CodeLine lineNumber="152" lineLink="/docs/api/classes/llvm/loopvectorizehints/#a7592f6d851162d7f66f26408f40e9388"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loopvectorizehints/#a7592f6d851162d7f66f26408f40e9388">getPredicate</a>()</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123; </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> Predicate.Value; &#125;</span></CodeLine>
<Link id="l00153" /><CodeLine lineNumber="153" lineLink="/docs/api/classes/llvm/loopvectorizehints/#a20ecacbd54e401685d798d86161af6cf"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">enum</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loopvectorizehints/#a55ab1072c44295ad279535d714a0f33e">ForceKind</a> <a href="/docs/api/classes/llvm/loopvectorizehints/#a20ecacbd54e401685d798d86161af6cf">getForce</a>()</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123;</span></CodeLine>
<Link id="l00154" /><CodeLine lineNumber="154"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> ((<a href="/docs/api/classes/llvm/loopvectorizehints/#a55ab1072c44295ad279535d714a0f33e">ForceKind</a>)Force.Value == <a href="/docs/api/classes/llvm/loopvectorizehints/#a55ab1072c44295ad279535d714a0f33ea8914fe2dbf82d457456e8e4faa201b87">FK&#95;Undefined</a> &amp;&amp;</span></CodeLine>
<Link id="l00155" /><CodeLine lineNumber="155"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/#a7d25a8a9d14a556b1ca44f8fe0dfdd8b">hasDisableAllTransformsHint</a>(TheLoop))</span></CodeLine>
<Link id="l00156" /><CodeLine lineNumber="156"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loopvectorizehints/#a55ab1072c44295ad279535d714a0f33ea980c2c6e59ca5dcf413baa325d8bc385">FK&#95;Disabled</a>;</span></CodeLine>
<Link id="l00157" /><CodeLine lineNumber="157"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> (<a href="/docs/api/classes/llvm/loopvectorizehints/#a55ab1072c44295ad279535d714a0f33e">ForceKind</a>)Force.Value;</span></CodeLine>
<Link id="l00158" /><CodeLine lineNumber="158"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00159" /><CodeLine lineNumber="159"></CodeLine>
<Link id="l00160" /><CodeLine lineNumber="160"><span class="doxyHighlightComment">  /// \\return true if scalable vectorization has been explicitly disabled.</span></CodeLine>
<Link id="l00161" /><CodeLine lineNumber="161" lineLink="/docs/api/classes/llvm/loopvectorizehints/#a1289a2ba34766f399d81f71c0f6b3a94"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loopvectorizehints/#a1289a2ba34766f399d81f71c0f6b3a94">isScalableVectorizationDisabled</a>()</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123;</span></CodeLine>
<Link id="l00162" /><CodeLine lineNumber="162"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> (<a href="/docs/api/classes/llvm/loopvectorizehints/#a041ce1f90aff1772f662dd0c8e3ec4f4">ScalableForceKind</a>)Scalable.Value == <a href="/docs/api/classes/llvm/loopvectorizehints/#a041ce1f90aff1772f662dd0c8e3ec4f4ac46ef7a95288338ce20df95d296898f4">SK&#95;FixedWidthOnly</a>;</span></CodeLine>
<Link id="l00163" /><CodeLine lineNumber="163"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00164" /><CodeLine lineNumber="164"></CodeLine>
<Link id="l00165" /><CodeLine lineNumber="165"><span class="doxyHighlightComment">  /// If hints are provided that force vectorization, use the AlwaysPrint</span></CodeLine>
<Link id="l00166" /><CodeLine lineNumber="166"><span class="doxyHighlightComment">  /// pass name to force the frontend to print the diagnostic.</span></CodeLine>
<Link id="l00167" /><CodeLine lineNumber="167"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordType">char</span><span class="doxyHighlight"> &#42;<a href="/docs/api/classes/llvm/loopvectorizehints/#abcf8c2b35316773f1ab0ba70aeb2a6de">vectorizeAnalysisPassName</a>() </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00168" /><CodeLine lineNumber="168"></CodeLine>
<Link id="l00169" /><CodeLine lineNumber="169"><span class="doxyHighlightComment">  /// When enabling loop hints are provided we allow the vectorizer to change</span></CodeLine>
<Link id="l00170" /><CodeLine lineNumber="170"><span class="doxyHighlightComment">  /// the order of operations that is given by the scalar loop. This is not</span></CodeLine>
<Link id="l00171" /><CodeLine lineNumber="171"><span class="doxyHighlightComment">  /// enabled by default because can be unsafe or inefficient. For example,</span></CodeLine>
<Link id="l00172" /><CodeLine lineNumber="172"><span class="doxyHighlightComment">  /// reordering floating-point operations will change the way round-off</span></CodeLine>
<Link id="l00173" /><CodeLine lineNumber="173"><span class="doxyHighlightComment">  /// error accumulates in the loop.</span></CodeLine>
<Link id="l00174" /><CodeLine lineNumber="174"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loopvectorizehints/#a2b74e08f930d32c0d31482179fd0a805">allowReordering</a>() </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00175" /><CodeLine lineNumber="175"></CodeLine>
<Link id="l00176" /><CodeLine lineNumber="176" lineLink="/docs/api/classes/llvm/loopvectorizehints/#a475b1d2223ddab6c0ab44dfcea7dcba7"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loopvectorizehints/#a475b1d2223ddab6c0ab44dfcea7dcba7">isPotentiallyUnsafe</a>()</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123;</span></CodeLine>
<Link id="l00177" /><CodeLine lineNumber="177"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Avoid FP vectorization if the target is unsure about proper support.</span></CodeLine>
<Link id="l00178" /><CodeLine lineNumber="178"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// This may be related to the SIMD unit in the target not handling</span></CodeLine>
<Link id="l00179" /><CodeLine lineNumber="179"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// IEEE 754 FP ops properly, or bad single-to-double promotions.</span></CodeLine>
<Link id="l00180" /><CodeLine lineNumber="180"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Otherwise, a sequence of vectorized loops, even without reduction,</span></CodeLine>
<Link id="l00181" /><CodeLine lineNumber="181"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// could lead to different end results on the destination vectors.</span></CodeLine>
<Link id="l00182" /><CodeLine lineNumber="182"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loopvectorizehints/#a20ecacbd54e401685d798d86161af6cf">getForce</a>() != <a href="/docs/api/classes/llvm/loopvectorizehints/#a55ab1072c44295ad279535d714a0f33ea278ca681847fb2bad9707f76d899b231">LoopVectorizeHints::FK&#95;Enabled</a> &amp;&amp; PotentiallyUnsafe;</span></CodeLine>
<Link id="l00183" /><CodeLine lineNumber="183"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00184" /><CodeLine lineNumber="184"></CodeLine>
<Link id="l00185" /><CodeLine lineNumber="185" lineLink="/docs/api/classes/llvm/loopvectorizehints/#af611ab8bb7005d705fe61049bf572524"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loopvectorizehints/#af611ab8bb7005d705fe61049bf572524">setPotentiallyUnsafe</a>() &#123; PotentiallyUnsafe = </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">; &#125;</span></CodeLine>
<Link id="l00186" /><CodeLine lineNumber="186"></CodeLine>
<Link id="l00187" /><CodeLine lineNumber="187"><span class="doxyHighlightKeyword">private</span><span class="doxyHighlight">:</span></CodeLine>
<Link id="l00188" /><CodeLine lineNumber="188"><span class="doxyHighlightComment">  /// Find hints specified in the loop metadata and update local values.</span></CodeLine>
<Link id="l00189" /><CodeLine lineNumber="189"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> getHintsFromMetadata();</span></CodeLine>
<Link id="l00190" /><CodeLine lineNumber="190"></CodeLine>
<Link id="l00191" /><CodeLine lineNumber="191"><span class="doxyHighlightComment">  /// Checks string hint with one operand and set value if valid.</span></CodeLine>
<Link id="l00192" /><CodeLine lineNumber="192"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> setHint(<a href="/docs/api/classes/llvm/stringref">StringRef</a> Name, <a href="/docs/api/classes/llvm/metadata">Metadata</a> &#42;Arg);</span></CodeLine>
<Link id="l00193" /><CodeLine lineNumber="193"></CodeLine>
<Link id="l00194" /><CodeLine lineNumber="194"><span class="doxyHighlightComment">  /// The loop these hints belong to.</span></CodeLine>
<Link id="l00195" /><CodeLine lineNumber="195"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loop">Loop</a> &#42;TheLoop;</span></CodeLine>
<Link id="l00196" /><CodeLine lineNumber="196"></CodeLine>
<Link id="l00197" /><CodeLine lineNumber="197"><span class="doxyHighlightComment">  /// Interface to emit optimization remarks.</span></CodeLine>
<Link id="l00198" /><CodeLine lineNumber="198"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/optimizationremarkemitter">OptimizationRemarkEmitter</a> &amp;ORE;</span></CodeLine>
<Link id="l00199" /><CodeLine lineNumber="199"><span class="doxyHighlight">&#125;;</span></CodeLine>
<Link id="l00200" /><CodeLine lineNumber="200"></CodeLine>
<Link id="l00201" /><CodeLine lineNumber="201"><span class="doxyHighlightComment">/// This holds vectorization requirements that must be verified late in</span></CodeLine>
<Link id="l00202" /><CodeLine lineNumber="202"><span class="doxyHighlightComment">/// the process. The requirements are set by legalize and costmodel. Once</span></CodeLine>
<Link id="l00203" /><CodeLine lineNumber="203"><span class="doxyHighlightComment">/// vectorization has been determined to be possible and profitable the</span></CodeLine>
<Link id="l00204" /><CodeLine lineNumber="204"><span class="doxyHighlightComment">/// requirements can be verified by looking for metadata or compiler options.</span></CodeLine>
<Link id="l00205" /><CodeLine lineNumber="205"><span class="doxyHighlightComment">/// For example, some loops require FP commutativity which is only allowed if</span></CodeLine>
<Link id="l00206" /><CodeLine lineNumber="206"><span class="doxyHighlightComment">/// vectorization is explicitly specified or if the fast-math compiler option</span></CodeLine>
<Link id="l00207" /><CodeLine lineNumber="207"><span class="doxyHighlightComment">/// has been provided.</span></CodeLine>
<Link id="l00208" /><CodeLine lineNumber="208"><span class="doxyHighlightComment">/// Late evaluation of these requirements allows helpful diagnostics to be</span></CodeLine>
<Link id="l00209" /><CodeLine lineNumber="209"><span class="doxyHighlightComment">/// composed that tells the user what need to be done to vectorize the loop. For</span></CodeLine>
<Link id="l00210" /><CodeLine lineNumber="210"><span class="doxyHighlightComment">/// example, by specifying #pragma clang loop vectorize or -ffast-math. Late</span></CodeLine>
<Link id="l00211" /><CodeLine lineNumber="211"><span class="doxyHighlightComment">/// evaluation should be used only when diagnostics can generated that can be</span></CodeLine>
<Link id="l00212" /><CodeLine lineNumber="212"><span class="doxyHighlightComment">/// followed by a non-expert user.</span></CodeLine>
<Link id="l00213" /><CodeLine lineNumber="213" lineLink="/docs/api/classes/llvm/loopvectorizationrequirements"><span class="doxyHighlightKeyword">class </span><span class="doxyHighlight"><a href="/docs/api/classes/llvm/loopvectorizationrequirements">LoopVectorizationRequirements</a> &#123;</span></CodeLine>
<Link id="l00214" /><CodeLine lineNumber="214"><span class="doxyHighlightKeyword">public</span><span class="doxyHighlight">:</span></CodeLine>
<Link id="l00215" /><CodeLine lineNumber="215"><span class="doxyHighlightComment">  /// Track the 1st floating-point instruction that can not be reassociated.</span></CodeLine>
<Link id="l00216" /><CodeLine lineNumber="216" lineLink="/docs/api/classes/llvm/loopvectorizationrequirements/#aa8ac08a48fb7e083c5adf9a1cb6091bc"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loopvectorizationrequirements/#aa8ac08a48fb7e083c5adf9a1cb6091bc">addExactFPMathInst</a>(<a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l00217" /><CodeLine lineNumber="217"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a> &amp;&amp; !ExactFPMathInst)</span></CodeLine>
<Link id="l00218" /><CodeLine lineNumber="218"><span class="doxyHighlight">      ExactFPMathInst = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</span></CodeLine>
<Link id="l00219" /><CodeLine lineNumber="219"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00220" /><CodeLine lineNumber="220"></CodeLine>
<Link id="l00221" /><CodeLine lineNumber="221" lineLink="/docs/api/classes/llvm/loopvectorizationrequirements/#a2bb8d6e55fae2cbc8eead3d7d4d3af09"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42;<a href="/docs/api/classes/llvm/loopvectorizationrequirements/#a2bb8d6e55fae2cbc8eead3d7d4d3af09">getExactFPInst</a>() &#123; </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> ExactFPMathInst; &#125;</span></CodeLine>
<Link id="l00222" /><CodeLine lineNumber="222"></CodeLine>
<Link id="l00223" /><CodeLine lineNumber="223"><span class="doxyHighlightKeyword">private</span><span class="doxyHighlight">:</span></CodeLine>
<Link id="l00224" /><CodeLine lineNumber="224"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42;ExactFPMathInst = </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00225" /><CodeLine lineNumber="225"><span class="doxyHighlight">&#125;;</span></CodeLine>
<Link id="l00226" /><CodeLine lineNumber="226"></CodeLine>
<Link id="l00227" /><CodeLine lineNumber="227"><span class="doxyHighlightComment">/// This holds details about a histogram operation -- a load -&gt; update -&gt; store</span></CodeLine>
<Link id="l00228" /><CodeLine lineNumber="228"><span class="doxyHighlightComment">/// sequence where each lane in a vector might be updating the same element as</span></CodeLine>
<Link id="l00229" /><CodeLine lineNumber="229"><span class="doxyHighlightComment">/// another lane.</span></CodeLine>
<Link id="l00230" /><CodeLine lineNumber="230" lineLink="/docs/api/structs/llvm/histograminfo"><span class="doxyHighlightKeyword">struct </span><span class="doxyHighlight"><a href="/docs/api/structs/llvm/histograminfo/#a8213afd30f1a9b2536bf2cc0b129bb23">HistogramInfo</a> &#123;</span></CodeLine>
<Link id="l00231" /><CodeLine lineNumber="231" lineLink="/docs/api/structs/llvm/histograminfo/#a18ad617fc2ebb0c359d7a7364a226926"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/loadinst">LoadInst</a> &#42;<a href="/docs/api/structs/llvm/histograminfo/#a18ad617fc2ebb0c359d7a7364a226926">Load</a>;</span></CodeLine>
<Link id="l00232" /><CodeLine lineNumber="232" lineLink="/docs/api/structs/llvm/histograminfo/#ada10f4396228d449b6060083e64e969e"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42;<a href="/docs/api/structs/llvm/histograminfo/#ada10f4396228d449b6060083e64e969e">Update</a>;</span></CodeLine>
<Link id="l00233" /><CodeLine lineNumber="233" lineLink="/docs/api/structs/llvm/histograminfo/#a49f6a198c64dd3637b84dba9fcdb8ed8"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/storeinst">StoreInst</a> &#42;<a href="/docs/api/structs/llvm/histograminfo/#a49f6a198c64dd3637b84dba9fcdb8ed8">Store</a>;</span></CodeLine>
<Link id="l00234" /><CodeLine lineNumber="234"></CodeLine>
<Link id="l00235" /><CodeLine lineNumber="235" lineLink="/docs/api/structs/llvm/histograminfo/#a8213afd30f1a9b2536bf2cc0b129bb23"><span class="doxyHighlight">  <a href="/docs/api/structs/llvm/histograminfo/#a8213afd30f1a9b2536bf2cc0b129bb23">HistogramInfo</a>(<a href="/docs/api/classes/llvm/loadinst">LoadInst</a> &#42;<a href="/docs/api/structs/llvm/histograminfo/#a18ad617fc2ebb0c359d7a7364a226926">Load</a>, <a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42;<a href="/docs/api/structs/llvm/histograminfo/#ada10f4396228d449b6060083e64e969e">Update</a>, <a href="/docs/api/classes/llvm/storeinst">StoreInst</a> &#42;<a href="/docs/api/structs/llvm/histograminfo/#a49f6a198c64dd3637b84dba9fcdb8ed8">Store</a>)</span></CodeLine>
<Link id="l00236" /><CodeLine lineNumber="236"><span class="doxyHighlight">      : <a href="/docs/api/structs/llvm/histograminfo/#a18ad617fc2ebb0c359d7a7364a226926">Load</a>(<a href="/docs/api/structs/llvm/histograminfo/#a18ad617fc2ebb0c359d7a7364a226926">Load</a>), <a href="/docs/api/structs/llvm/histograminfo/#ada10f4396228d449b6060083e64e969e">Update</a>(<a href="/docs/api/structs/llvm/histograminfo/#ada10f4396228d449b6060083e64e969e">Update</a>), <a href="/docs/api/structs/llvm/histograminfo/#a49f6a198c64dd3637b84dba9fcdb8ed8">Store</a>(<a href="/docs/api/structs/llvm/histograminfo/#a49f6a198c64dd3637b84dba9fcdb8ed8">Store</a>) &#123;&#125;</span></CodeLine>
<Link id="l00237" /><CodeLine lineNumber="237"><span class="doxyHighlight">&#125;;</span></CodeLine>
<Link id="l00238" /><CodeLine lineNumber="238"></CodeLine>
<Link id="l00239" /><CodeLine lineNumber="239"><span class="doxyHighlightComment">/// LoopVectorizationLegality checks if it is legal to vectorize a loop, and</span></CodeLine>
<Link id="l00240" /><CodeLine lineNumber="240"><span class="doxyHighlightComment">/// to what vectorization factor.</span></CodeLine>
<Link id="l00241" /><CodeLine lineNumber="241"><span class="doxyHighlightComment">/// This class does not look at the profitability of vectorization, only the</span></CodeLine>
<Link id="l00242" /><CodeLine lineNumber="242"><span class="doxyHighlightComment">/// legality. This class has two main kinds of checks:</span></CodeLine>
<Link id="l00243" /><CodeLine lineNumber="243"><span class="doxyHighlightComment">/// &#42; Memory checks - The code in canVectorizeMemory checks if vectorization</span></CodeLine>
<Link id="l00244" /><CodeLine lineNumber="244"><span class="doxyHighlightComment">///   will change the order of memory accesses in a way that will change the</span></CodeLine>
<Link id="l00245" /><CodeLine lineNumber="245"><span class="doxyHighlightComment">///   correctness of the program.</span></CodeLine>
<Link id="l00246" /><CodeLine lineNumber="246"><span class="doxyHighlightComment">/// &#42; Scalars checks - The code in canVectorizeInstrs and canVectorizeMemory</span></CodeLine>
<Link id="l00247" /><CodeLine lineNumber="247"><span class="doxyHighlightComment">/// checks for a number of different conditions, such as the availability of a</span></CodeLine>
<Link id="l00248" /><CodeLine lineNumber="248"><span class="doxyHighlightComment">/// single induction variable, that all types are supported and vectorize-able,</span></CodeLine>
<Link id="l00249" /><CodeLine lineNumber="249"><span class="doxyHighlightComment">/// etc. This code reflects the capabilities of InnerLoopVectorizer.</span></CodeLine>
<Link id="l00250" /><CodeLine lineNumber="250"><span class="doxyHighlightComment">/// This class is also used by InnerLoopVectorizer for identifying</span></CodeLine>
<Link id="l00251" /><CodeLine lineNumber="251"><span class="doxyHighlightComment">/// induction variable and the different reduction variables.</span></CodeLine>
<Link id="l00252" /><CodeLine lineNumber="252" lineLink="/docs/api/classes/llvm/loopvectorizationlegality"><span class="doxyHighlightKeyword">class </span><span class="doxyHighlight"><a href="/docs/api/classes/llvm/loopvectorizationlegality/#a57ee5ed437953ba182781372d6a03fb3">LoopVectorizationLegality</a> &#123;</span></CodeLine>
<Link id="l00253" /><CodeLine lineNumber="253"><span class="doxyHighlightKeyword">public</span><span class="doxyHighlight">:</span></CodeLine>
<Link id="l00254" /><CodeLine lineNumber="254" lineLink="/docs/api/classes/llvm/loopvectorizationlegality/#a57ee5ed437953ba182781372d6a03fb3"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/loopvectorizationlegality/#a57ee5ed437953ba182781372d6a03fb3">LoopVectorizationLegality</a>(</span></CodeLine>
<Link id="l00255" /><CodeLine lineNumber="255"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/loop">Loop</a> &#42;L, <a href="/docs/api/classes/llvm/predicatedscalarevolution">PredicatedScalarEvolution</a> &amp;PSE, <a href="/docs/api/classes/llvm/dominatortree">DominatorTree</a> &#42;DT,</span></CodeLine>
<Link id="l00256" /><CodeLine lineNumber="256"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/targettransforminfo">TargetTransformInfo</a> &#42;TTI, <a href="/docs/api/classes/llvm/targetlibraryinfo">TargetLibraryInfo</a> &#42;TLI, <a href="/docs/api/classes/llvm/function">Function</a> &#42;<a href="/docs/api/files/lib/lib/support/md5-cpp/#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>,</span></CodeLine>
<Link id="l00257" /><CodeLine lineNumber="257"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/loopaccessinfomanager">LoopAccessInfoManager</a> &amp;LAIs, <a href="/docs/api/classes/llvm/loopinfo">LoopInfo</a> &#42;LI, <a href="/docs/api/classes/llvm/optimizationremarkemitter">OptimizationRemarkEmitter</a> &#42;ORE,</span></CodeLine>
<Link id="l00258" /><CodeLine lineNumber="258"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/loopvectorizationrequirements">LoopVectorizationRequirements</a> &#42;R, <a href="/docs/api/classes/llvm/loopvectorizehints">LoopVectorizeHints</a> &#42;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ae42219072d798876e6b08e6b78614ff6">H</a>, <a href="/docs/api/classes/llvm/demandedbits">DemandedBits</a> &#42;DB,</span></CodeLine>
<Link id="l00259" /><CodeLine lineNumber="259"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/assumptioncache">AssumptionCache</a> &#42;AC, <a href="/docs/api/classes/llvm/blockfrequencyinfo">BlockFrequencyInfo</a> &#42;BFI, <a href="/docs/api/classes/llvm/profilesummaryinfo">ProfileSummaryInfo</a> &#42;PSI)</span></CodeLine>
<Link id="l00260" /><CodeLine lineNumber="260"><span class="doxyHighlight">      : TheLoop(L), LI(LI), PSE(PSE), TTI(TTI), TLI(TLI), DT(DT), LAIs(LAIs),</span></CodeLine>
<Link id="l00261" /><CodeLine lineNumber="261"><span class="doxyHighlight">        ORE(ORE), Requirements(R), Hints(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ae42219072d798876e6b08e6b78614ff6">H</a>), DB(DB), AC(AC), BFI(BFI),</span></CodeLine>
<Link id="l00262" /><CodeLine lineNumber="262"><span class="doxyHighlight">        PSI(PSI) &#123;&#125;</span></CodeLine>
<Link id="l00263" /><CodeLine lineNumber="263"></CodeLine>
<Link id="l00264" /><CodeLine lineNumber="264"><span class="doxyHighlightComment">  /// ReductionList contains the reduction descriptors for all</span></CodeLine>
<Link id="l00265" /><CodeLine lineNumber="265"><span class="doxyHighlightComment">  /// of the reductions that were found in the loop.</span></CodeLine>
<Link id="l00266" /><CodeLine lineNumber="266" lineLink="/docs/api/classes/llvm/loopvectorizationlegality/#abe830a64fea7dbeee20cdda3726b0120"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">using </span><span class="doxyHighlight"><a href="/docs/api/classes/llvm/loopvectorizationlegality/#abe830a64fea7dbeee20cdda3726b0120">ReductionList</a> = <a href="/docs/api/classes/llvm/mapvector">MapVector&lt;PHINode &#42;, RecurrenceDescriptor&gt;</a>;</span></CodeLine>
<Link id="l00267" /><CodeLine lineNumber="267"></CodeLine>
<Link id="l00268" /><CodeLine lineNumber="268"><span class="doxyHighlightComment">  /// InductionList saves induction variables and maps them to the</span></CodeLine>
<Link id="l00269" /><CodeLine lineNumber="269"><span class="doxyHighlightComment">  /// induction descriptor.</span></CodeLine>
<Link id="l00270" /><CodeLine lineNumber="270" lineLink="/docs/api/classes/llvm/loopvectorizationlegality/#a063c4d98febe7ef90dddbfedcfc59d16"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">using </span><span class="doxyHighlight"><a href="/docs/api/classes/llvm/loopvectorizationlegality/#a063c4d98febe7ef90dddbfedcfc59d16">InductionList</a> = <a href="/docs/api/classes/llvm/mapvector">MapVector&lt;PHINode &#42;, InductionDescriptor&gt;</a>;</span></CodeLine>
<Link id="l00271" /><CodeLine lineNumber="271"></CodeLine>
<Link id="l00272" /><CodeLine lineNumber="272"><span class="doxyHighlightComment">  /// RecurrenceSet contains the phi nodes that are recurrences other than</span></CodeLine>
<Link id="l00273" /><CodeLine lineNumber="273"><span class="doxyHighlightComment">  /// inductions and reductions.</span></CodeLine>
<Link id="l00274" /><CodeLine lineNumber="274" lineLink="/docs/api/classes/llvm/loopvectorizationlegality/#a543d30d3a2b289aaa6b363be25d2b295"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">using </span><span class="doxyHighlight"><a href="/docs/api/classes/llvm/loopvectorizationlegality/#a543d30d3a2b289aaa6b363be25d2b295">RecurrenceSet</a> = <a href="/docs/api/classes/llvm/smallptrset">SmallPtrSet&lt;const PHINode &#42;, 8&gt;</a>;</span></CodeLine>
<Link id="l00275" /><CodeLine lineNumber="275"></CodeLine>
<Link id="l00276" /><CodeLine lineNumber="276"><span class="doxyHighlightComment">  /// Returns true if it is legal to vectorize this loop.</span></CodeLine>
<Link id="l00277" /><CodeLine lineNumber="277"><span class="doxyHighlightComment">  /// This does not mean that it is profitable to vectorize this</span></CodeLine>
<Link id="l00278" /><CodeLine lineNumber="278"><span class="doxyHighlightComment">  /// loop, only that it is legal to do so.</span></CodeLine>
<Link id="l00279" /><CodeLine lineNumber="279"><span class="doxyHighlightComment">  /// Temporarily taking UseVPlanNativePath parameter. If true, take</span></CodeLine>
<Link id="l00280" /><CodeLine lineNumber="280"><span class="doxyHighlightComment">  /// the new code path being implemented for outer loop vectorization</span></CodeLine>
<Link id="l00281" /><CodeLine lineNumber="281"><span class="doxyHighlightComment">  /// (should be functional for inner loop vectorization) based on VPlan.</span></CodeLine>
<Link id="l00282" /><CodeLine lineNumber="282"><span class="doxyHighlightComment">  /// If false, good old LV code.</span></CodeLine>
<Link id="l00283" /><CodeLine lineNumber="283"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loopvectorizationlegality/#a3ce10d1174bdfcac2b73ed7efa352b7f">canVectorize</a>(</span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> UseVPlanNativePath);</span></CodeLine>
<Link id="l00284" /><CodeLine lineNumber="284"></CodeLine>
<Link id="l00285" /><CodeLine lineNumber="285"><span class="doxyHighlightComment">  /// Returns true if it is legal to vectorize the FP math operations in this</span></CodeLine>
<Link id="l00286" /><CodeLine lineNumber="286"><span class="doxyHighlightComment">  /// loop. Vectorizing is legal if we allow reordering of FP operations, or if</span></CodeLine>
<Link id="l00287" /><CodeLine lineNumber="287"><span class="doxyHighlightComment">  /// we can use in-order reductions.</span></CodeLine>
<Link id="l00288" /><CodeLine lineNumber="288"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loopvectorizationlegality/#a552a158f5a673da0a26461d1471cea41">canVectorizeFPMath</a>(</span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> EnableStrictReductions);</span></CodeLine>
<Link id="l00289" /><CodeLine lineNumber="289"></CodeLine>
<Link id="l00290" /><CodeLine lineNumber="290"><span class="doxyHighlightComment">  /// Return true if we can vectorize this loop while folding its tail by</span></CodeLine>
<Link id="l00291" /><CodeLine lineNumber="291"><span class="doxyHighlightComment">  /// masking.</span></CodeLine>
<Link id="l00292" /><CodeLine lineNumber="292"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loopvectorizationlegality/#aafa8144325b3c584e828b07d73a8cb25">canFoldTailByMasking</a>() </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00293" /><CodeLine lineNumber="293"></CodeLine>
<Link id="l00294" /><CodeLine lineNumber="294"><span class="doxyHighlightComment">  /// Mark all respective loads/stores for masking. Must only be called when</span></CodeLine>
<Link id="l00295" /><CodeLine lineNumber="295"><span class="doxyHighlightComment">  /// tail-folding is possible.</span></CodeLine>
<Link id="l00296" /><CodeLine lineNumber="296"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loopvectorizationlegality/#ab0b7c658c190bc113272ef4257a47659">prepareToFoldTailByMasking</a>();</span></CodeLine>
<Link id="l00297" /><CodeLine lineNumber="297"></CodeLine>
<Link id="l00298" /><CodeLine lineNumber="298"><span class="doxyHighlightComment">  /// Returns the primary induction variable.</span></CodeLine>
<Link id="l00299" /><CodeLine lineNumber="299" lineLink="/docs/api/classes/llvm/loopvectorizationlegality/#a78dab1aa1facf4bf6300b3275490fa11"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/phinode">PHINode</a> &#42;<a href="/docs/api/classes/llvm/loopvectorizationlegality/#a78dab1aa1facf4bf6300b3275490fa11">getPrimaryInduction</a>() &#123; </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> PrimaryInduction; &#125;</span></CodeLine>
<Link id="l00300" /><CodeLine lineNumber="300"></CodeLine>
<Link id="l00301" /><CodeLine lineNumber="301"><span class="doxyHighlightComment">  /// Returns the reduction variables found in the loop.</span></CodeLine>
<Link id="l00302" /><CodeLine lineNumber="302" lineLink="/docs/api/classes/llvm/loopvectorizationlegality/#aa31c04881c640716da40ae22ddda69ad"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loopvectorizationlegality/#abe830a64fea7dbeee20cdda3726b0120">ReductionList</a> &amp;<a href="/docs/api/classes/llvm/loopvectorizationlegality/#aa31c04881c640716da40ae22ddda69ad">getReductionVars</a>()</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123; </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> Reductions; &#125;</span></CodeLine>
<Link id="l00303" /><CodeLine lineNumber="303"></CodeLine>
<Link id="l00304" /><CodeLine lineNumber="304"><span class="doxyHighlightComment">  /// Returns the induction variables found in the loop.</span></CodeLine>
<Link id="l00305" /><CodeLine lineNumber="305" lineLink="/docs/api/classes/llvm/loopvectorizationlegality/#a8dffddf3feec953bba0425b324b380dc"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loopvectorizationlegality/#a063c4d98febe7ef90dddbfedcfc59d16">InductionList</a> &amp;<a href="/docs/api/classes/llvm/loopvectorizationlegality/#a8dffddf3feec953bba0425b324b380dc">getInductionVars</a>()</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123; </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> Inductions; &#125;</span></CodeLine>
<Link id="l00306" /><CodeLine lineNumber="306"></CodeLine>
<Link id="l00307" /><CodeLine lineNumber="307"><span class="doxyHighlightComment">  /// Return the fixed-order recurrences found in the loop.</span></CodeLine>
<Link id="l00308" /><CodeLine lineNumber="308" lineLink="/docs/api/classes/llvm/loopvectorizationlegality/#a317c5bedc82363ee7513fe56790878e7"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/loopvectorizationlegality/#a543d30d3a2b289aaa6b363be25d2b295">RecurrenceSet</a> &amp;<a href="/docs/api/classes/llvm/loopvectorizationlegality/#a317c5bedc82363ee7513fe56790878e7">getFixedOrderRecurrences</a>() &#123; </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> FixedOrderRecurrences; &#125;</span></CodeLine>
<Link id="l00309" /><CodeLine lineNumber="309"></CodeLine>
<Link id="l00310" /><CodeLine lineNumber="310"><span class="doxyHighlightComment">  /// Returns the widest induction type.</span></CodeLine>
<Link id="l00311" /><CodeLine lineNumber="311" lineLink="/docs/api/classes/llvm/loopvectorizationlegality/#ab1bbdeff3d286d3cd7a6e1f67a7e43ea"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/type">Type</a> &#42;<a href="/docs/api/classes/llvm/loopvectorizationlegality/#ab1bbdeff3d286d3cd7a6e1f67a7e43ea">getWidestInductionType</a>() &#123; </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> WidestIndTy; &#125;</span></CodeLine>
<Link id="l00312" /><CodeLine lineNumber="312"></CodeLine>
<Link id="l00313" /><CodeLine lineNumber="313"><span class="doxyHighlightComment">  /// Returns True if given store is a final invariant store of one of the</span></CodeLine>
<Link id="l00314" /><CodeLine lineNumber="314"><span class="doxyHighlightComment">  /// reductions found in the loop.</span></CodeLine>
<Link id="l00315" /><CodeLine lineNumber="315"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loopvectorizationlegality/#a1c9fd1c0627dfa3e013a1b2c7416ae90">isInvariantStoreOfReduction</a>(<a href="/docs/api/classes/llvm/storeinst">StoreInst</a> &#42;<a href="/docs/api/namespaces/llvm/si">SI</a>);</span></CodeLine>
<Link id="l00316" /><CodeLine lineNumber="316"></CodeLine>
<Link id="l00317" /><CodeLine lineNumber="317"><span class="doxyHighlightComment">  /// Returns True if given address is invariant and is used to store recurrent</span></CodeLine>
<Link id="l00318" /><CodeLine lineNumber="318"><span class="doxyHighlightComment">  /// expression</span></CodeLine>
<Link id="l00319" /><CodeLine lineNumber="319"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loopvectorizationlegality/#a34f384c7ff8e4b23cc79156daf2a5c11">isInvariantAddressOfReduction</a>(<a href="/docs/api/classes/llvm/value">Value</a> &#42;V);</span></CodeLine>
<Link id="l00320" /><CodeLine lineNumber="320"></CodeLine>
<Link id="l00321" /><CodeLine lineNumber="321"><span class="doxyHighlightComment">  /// Returns True if V is a Phi node of an induction variable in this loop.</span></CodeLine>
<Link id="l00322" /><CodeLine lineNumber="322"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loopvectorizationlegality/#a7803d6f1162773c3b1a61e3ff441fcb8">isInductionPhi</a>(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/value">Value</a> &#42;V) </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00323" /><CodeLine lineNumber="323"></CodeLine>
<Link id="l00324" /><CodeLine lineNumber="324"><span class="doxyHighlightComment">  /// Returns a pointer to the induction descriptor, if \\p Phi is an integer or</span></CodeLine>
<Link id="l00325" /><CodeLine lineNumber="325"><span class="doxyHighlightComment">  /// floating point induction.</span></CodeLine>
<Link id="l00326" /><CodeLine lineNumber="326"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/inductiondescriptor">InductionDescriptor</a> &#42;<a href="/docs/api/classes/llvm/loopvectorizationlegality/#a74bcb5c6d80d9d7fb0eeb1131eeef2dc">getIntOrFpInductionDescriptor</a>(<a href="/docs/api/classes/llvm/phinode">PHINode</a> &#42;Phi) </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00327" /><CodeLine lineNumber="327"></CodeLine>
<Link id="l00328" /><CodeLine lineNumber="328"><span class="doxyHighlightComment">  /// Returns a pointer to the induction descriptor, if \\p Phi is pointer</span></CodeLine>
<Link id="l00329" /><CodeLine lineNumber="329"><span class="doxyHighlightComment">  /// induction.</span></CodeLine>
<Link id="l00330" /><CodeLine lineNumber="330"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/inductiondescriptor">InductionDescriptor</a> &#42;<a href="/docs/api/classes/llvm/loopvectorizationlegality/#a728069d0bcacf976cbb3764bad749562">getPointerInductionDescriptor</a>(<a href="/docs/api/classes/llvm/phinode">PHINode</a> &#42;Phi) </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00331" /><CodeLine lineNumber="331"></CodeLine>
<Link id="l00332" /><CodeLine lineNumber="332"><span class="doxyHighlightComment">  /// Returns True if V is a cast that is part of an induction def-use chain,</span></CodeLine>
<Link id="l00333" /><CodeLine lineNumber="333"><span class="doxyHighlightComment">  /// and had been proven to be redundant under a runtime guard (in other</span></CodeLine>
<Link id="l00334" /><CodeLine lineNumber="334"><span class="doxyHighlightComment">  /// words, the cast has the same SCEV expression as the induction phi).</span></CodeLine>
<Link id="l00335" /><CodeLine lineNumber="335"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loopvectorizationlegality/#afd0c0e675aff7e870f18b9c911977b7a">isCastedInductionVariable</a>(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/value">Value</a> &#42;V) </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00336" /><CodeLine lineNumber="336"></CodeLine>
<Link id="l00337" /><CodeLine lineNumber="337"><span class="doxyHighlightComment">  /// Returns True if V can be considered as an induction variable in this</span></CodeLine>
<Link id="l00338" /><CodeLine lineNumber="338"><span class="doxyHighlightComment">  /// loop. V can be the induction phi, or some redundant cast in the def-use</span></CodeLine>
<Link id="l00339" /><CodeLine lineNumber="339"><span class="doxyHighlightComment">  /// chain of the inducion phi.</span></CodeLine>
<Link id="l00340" /><CodeLine lineNumber="340"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loopvectorizationlegality/#af9f3d6495086eb1a43e829bf045fd073">isInductionVariable</a>(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/value">Value</a> &#42;V) </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00341" /><CodeLine lineNumber="341"></CodeLine>
<Link id="l00342" /><CodeLine lineNumber="342"><span class="doxyHighlightComment">  /// Returns True if PN is a reduction variable in this loop.</span></CodeLine>
<Link id="l00343" /><CodeLine lineNumber="343" lineLink="/docs/api/classes/llvm/loopvectorizationlegality/#a5c26e54d871c42c42dc62f9d449c633a"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loopvectorizationlegality/#a5c26e54d871c42c42dc62f9d449c633a">isReductionVariable</a>(<a href="/docs/api/classes/llvm/phinode">PHINode</a> &#42;PN)</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123; </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> Reductions.count(PN); &#125;</span></CodeLine>
<Link id="l00344" /><CodeLine lineNumber="344"></CodeLine>
<Link id="l00345" /><CodeLine lineNumber="345"><span class="doxyHighlightComment">  /// Returns True if Phi is a fixed-order recurrence in this loop.</span></CodeLine>
<Link id="l00346" /><CodeLine lineNumber="346"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loopvectorizationlegality/#a5d6b8f1a562e7d26404946de46d3045b">isFixedOrderRecurrence</a>(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/phinode">PHINode</a> &#42;Phi) </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00347" /><CodeLine lineNumber="347"></CodeLine>
<Link id="l00348" /><CodeLine lineNumber="348"><span class="doxyHighlightComment">  /// Return true if the block BB needs to be predicated in order for the loop</span></CodeLine>
<Link id="l00349" /><CodeLine lineNumber="349"><span class="doxyHighlightComment">  /// to be vectorized.</span></CodeLine>
<Link id="l00350" /><CodeLine lineNumber="350"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loopvectorizationlegality/#a3b78b24a3c241e611957b82cd12640da">blockNeedsPredication</a>(<a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42;BB) </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00351" /><CodeLine lineNumber="351"></CodeLine>
<Link id="l00352" /><CodeLine lineNumber="352"><span class="doxyHighlightComment">  /// Check if this pointer is consecutive when vectorizing. This happens</span></CodeLine>
<Link id="l00353" /><CodeLine lineNumber="353"><span class="doxyHighlightComment">  /// when the last index of the GEP is the induction variable, or that the</span></CodeLine>
<Link id="l00354" /><CodeLine lineNumber="354"><span class="doxyHighlightComment">  /// pointer itself is an induction variable.</span></CodeLine>
<Link id="l00355" /><CodeLine lineNumber="355"><span class="doxyHighlightComment">  /// This check allows us to vectorize A&#91;idx&#93; into a wide load/store.</span></CodeLine>
<Link id="l00356" /><CodeLine lineNumber="356"><span class="doxyHighlightComment">  /// Returns:</span></CodeLine>
<Link id="l00357" /><CodeLine lineNumber="357"><span class="doxyHighlightComment">  /// 0 - Stride is unknown or non-consecutive.</span></CodeLine>
<Link id="l00358" /><CodeLine lineNumber="358"><span class="doxyHighlightComment">  /// 1 - Address is consecutive.</span></CodeLine>
<Link id="l00359" /><CodeLine lineNumber="359"><span class="doxyHighlightComment">  /// -1 - Address is consecutive, and decreasing.</span></CodeLine>
<Link id="l00360" /><CodeLine lineNumber="360"><span class="doxyHighlightComment">  /// NOTE: This method must only be used before modifying the original scalar</span></CodeLine>
<Link id="l00361" /><CodeLine lineNumber="361"><span class="doxyHighlightComment">  /// loop. Do not use after invoking &#39;createVectorizedLoopSkeleton&#39; (PR34965).</span></CodeLine>
<Link id="l00362" /><CodeLine lineNumber="362"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">int</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loopvectorizationlegality/#a4589ea484ebe1919b451fff3948a17cc">isConsecutivePtr</a>(<a href="/docs/api/classes/llvm/type">Type</a> &#42;AccessTy, <a href="/docs/api/classes/llvm/value">Value</a> &#42;<a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>) </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00363" /><CodeLine lineNumber="363"></CodeLine>
<Link id="l00364" /><CodeLine lineNumber="364"><span class="doxyHighlightComment">  /// Returns true if \\p V is invariant across all loop iterations according to</span></CodeLine>
<Link id="l00365" /><CodeLine lineNumber="365"><span class="doxyHighlightComment">  /// SCEV.</span></CodeLine>
<Link id="l00366" /><CodeLine lineNumber="366"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loopvectorizationlegality/#aa10b9dac96a36c8b4da25fc6fa1d4352">isInvariant</a>(<a href="/docs/api/classes/llvm/value">Value</a> &#42;V) </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00367" /><CodeLine lineNumber="367"></CodeLine>
<Link id="l00368" /><CodeLine lineNumber="368"><span class="doxyHighlightComment">  /// Returns true if value V is uniform across \\p VF lanes, when \\p VF is</span></CodeLine>
<Link id="l00369" /><CodeLine lineNumber="369"><span class="doxyHighlightComment">  /// provided, and otherwise if \\p V is invariant across all loop iterations.</span></CodeLine>
<Link id="l00370" /><CodeLine lineNumber="370"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loopvectorizationlegality/#a86e581cb8e98cb0649e8b524eed5c9c0">isUniform</a>(<a href="/docs/api/classes/llvm/value">Value</a> &#42;V, <a href="/docs/api/classes/llvm/elementcount">ElementCount</a> VF) </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00371" /><CodeLine lineNumber="371"></CodeLine>
<Link id="l00372" /><CodeLine lineNumber="372"><span class="doxyHighlightComment">  /// A uniform memory op is a load or store which accesses the same memory</span></CodeLine>
<Link id="l00373" /><CodeLine lineNumber="373"><span class="doxyHighlightComment">  /// location on all \\p VF lanes, if \\p VF is provided and otherwise if the</span></CodeLine>
<Link id="l00374" /><CodeLine lineNumber="374"><span class="doxyHighlightComment">  /// memory location is invariant.</span></CodeLine>
<Link id="l00375" /><CodeLine lineNumber="375"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loopvectorizationlegality/#ac562402715584ed9e836026bae1ac150">isUniformMemOp</a>(<a href="/docs/api/classes/llvm/instruction">Instruction</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/elementcount">ElementCount</a> VF) </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00376" /><CodeLine lineNumber="376"></CodeLine>
<Link id="l00377" /><CodeLine lineNumber="377"><span class="doxyHighlightComment">  /// Returns the information that we collected about runtime memory check.</span></CodeLine>
<Link id="l00378" /><CodeLine lineNumber="378" lineLink="/docs/api/classes/llvm/loopvectorizationlegality/#af15a090796e9a873af5163ba057f4c85"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/runtimepointerchecking">RuntimePointerChecking</a> &#42;<a href="/docs/api/classes/llvm/loopvectorizationlegality/#af15a090796e9a873af5163ba057f4c85">getRuntimePointerChecking</a>()</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123;</span></CodeLine>
<Link id="l00379" /><CodeLine lineNumber="379"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> LAI-&gt;getRuntimePointerChecking();</span></CodeLine>
<Link id="l00380" /><CodeLine lineNumber="380"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00381" /><CodeLine lineNumber="381"></CodeLine>
<Link id="l00382" /><CodeLine lineNumber="382" lineLink="/docs/api/classes/llvm/loopvectorizationlegality/#ab5632546144c4db5bbe1f975aeebd9d2"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loopaccessinfo">LoopAccessInfo</a> &#42;<a href="/docs/api/classes/llvm/loopvectorizationlegality/#ab5632546144c4db5bbe1f975aeebd9d2">getLAI</a>()</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123; </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> LAI; &#125;</span></CodeLine>
<Link id="l00383" /><CodeLine lineNumber="383"></CodeLine>
<Link id="l00384" /><CodeLine lineNumber="384" lineLink="/docs/api/classes/llvm/loopvectorizationlegality/#aa6717c9edc2614476ebb19bd73e8bcb8"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loopvectorizationlegality/#aa6717c9edc2614476ebb19bd73e8bcb8">isSafeForAnyVectorWidth</a>()</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123;</span></CodeLine>
<Link id="l00385" /><CodeLine lineNumber="385"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> LAI-&gt;getDepChecker().isSafeForAnyVectorWidth();</span></CodeLine>
<Link id="l00386" /><CodeLine lineNumber="386"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00387" /><CodeLine lineNumber="387"></CodeLine>
<Link id="l00388" /><CodeLine lineNumber="388" lineLink="/docs/api/classes/llvm/loopvectorizationlegality/#a2551d678f358fcb0f498224876f58673"><span class="doxyHighlight">  uint64&#95;t <a href="/docs/api/classes/llvm/loopvectorizationlegality/#a2551d678f358fcb0f498224876f58673">getMaxSafeVectorWidthInBits</a>()</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123;</span></CodeLine>
<Link id="l00389" /><CodeLine lineNumber="389"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> LAI-&gt;getDepChecker().getMaxSafeVectorWidthInBits();</span></CodeLine>
<Link id="l00390" /><CodeLine lineNumber="390"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00391" /><CodeLine lineNumber="391"></CodeLine>
<Link id="l00392" /><CodeLine lineNumber="392"><span class="doxyHighlightComment">  /// Returns true if the loop has exactly one uncountable early exit, i.e. an</span></CodeLine>
<Link id="l00393" /><CodeLine lineNumber="393"><span class="doxyHighlightComment">  /// uncountable exit that isn&#39;t the latch block.</span></CodeLine>
<Link id="l00394" /><CodeLine lineNumber="394" lineLink="/docs/api/classes/llvm/loopvectorizationlegality/#ab22ff9e23f7f27234c8f6ec76db0c1f3"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loopvectorizationlegality/#ab22ff9e23f7f27234c8f6ec76db0c1f3">hasUncountableEarlyExit</a>()</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123;</span></CodeLine>
<Link id="l00395" /><CodeLine lineNumber="395"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loopvectorizationlegality/#ad9e8b4a71d2eb63862cf0dfcb0e7d786">getUncountableEdge</a>().has&#95;value();</span></CodeLine>
<Link id="l00396" /><CodeLine lineNumber="396"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00397" /><CodeLine lineNumber="397"></CodeLine>
<Link id="l00398" /><CodeLine lineNumber="398"><span class="doxyHighlightComment">  /// Returns the uncountable early exiting block, if there is exactly one.</span></CodeLine>
<Link id="l00399" /><CodeLine lineNumber="399" lineLink="/docs/api/classes/llvm/loopvectorizationlegality/#ae1727fd1036f0c932cae65a5b5db5a0d"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42;<a href="/docs/api/classes/llvm/loopvectorizationlegality/#ae1727fd1036f0c932cae65a5b5db5a0d">getUncountableEarlyExitingBlock</a>()</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123;</span></CodeLine>
<Link id="l00400" /><CodeLine lineNumber="400"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loopvectorizationlegality/#ab22ff9e23f7f27234c8f6ec76db0c1f3">hasUncountableEarlyExit</a>() ? <a href="/docs/api/classes/llvm/loopvectorizationlegality/#ad9e8b4a71d2eb63862cf0dfcb0e7d786">getUncountableEdge</a>()-&gt;first : </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00401" /><CodeLine lineNumber="401"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00402" /><CodeLine lineNumber="402"></CodeLine>
<Link id="l00403" /><CodeLine lineNumber="403"><span class="doxyHighlightComment">  /// Returns the destination of the uncountable early exiting block, if there</span></CodeLine>
<Link id="l00404" /><CodeLine lineNumber="404"><span class="doxyHighlightComment">  /// is exactly one.</span></CodeLine>
<Link id="l00405" /><CodeLine lineNumber="405" lineLink="/docs/api/classes/llvm/loopvectorizationlegality/#a64fd596d86681aff77584c0fd661f18a"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42;<a href="/docs/api/classes/llvm/loopvectorizationlegality/#a64fd596d86681aff77584c0fd661f18a">getUncountableEarlyExitBlock</a>()</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123;</span></CodeLine>
<Link id="l00406" /><CodeLine lineNumber="406"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loopvectorizationlegality/#ab22ff9e23f7f27234c8f6ec76db0c1f3">hasUncountableEarlyExit</a>() ? <a href="/docs/api/classes/llvm/loopvectorizationlegality/#ad9e8b4a71d2eb63862cf0dfcb0e7d786">getUncountableEdge</a>()-&gt;second : </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00407" /><CodeLine lineNumber="407"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00408" /><CodeLine lineNumber="408"></CodeLine>
<Link id="l00409" /><CodeLine lineNumber="409"><span class="doxyHighlightComment">  /// Returns true if vector representation of the instruction \\p I</span></CodeLine>
<Link id="l00410" /><CodeLine lineNumber="410"><span class="doxyHighlightComment">  /// requires mask.</span></CodeLine>
<Link id="l00411" /><CodeLine lineNumber="411" lineLink="/docs/api/classes/llvm/loopvectorizationlegality/#af0ced1e23ba4d4a56286b5f17f448ed7"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loopvectorizationlegality/#af0ced1e23ba4d4a56286b5f17f448ed7">isMaskRequired</a>(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123;</span></CodeLine>
<Link id="l00412" /><CodeLine lineNumber="412"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> MaskedOp.<a href="/docs/api/classes/llvm/smallptrsetimpl/#af74676a3c7447be34bd2c1da76ec0c48">contains</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</span></CodeLine>
<Link id="l00413" /><CodeLine lineNumber="413"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00414" /><CodeLine lineNumber="414"></CodeLine>
<Link id="l00415" /><CodeLine lineNumber="415"><span class="doxyHighlightComment">  /// Returns true if there is at least one function call in the loop which</span></CodeLine>
<Link id="l00416" /><CodeLine lineNumber="416"><span class="doxyHighlightComment">  /// has a vectorized variant available.</span></CodeLine>
<Link id="l00417" /><CodeLine lineNumber="417" lineLink="/docs/api/classes/llvm/loopvectorizationlegality/#a23ba553cf7c1e1b64bbf9d30eb540234"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loopvectorizationlegality/#a23ba553cf7c1e1b64bbf9d30eb540234">hasVectorCallVariants</a>()</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123; </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> VecCallVariantsFound; &#125;</span></CodeLine>
<Link id="l00418" /><CodeLine lineNumber="418"></CodeLine>
<Link id="l00419" /><CodeLine lineNumber="419"><span class="doxyHighlightComment">  /// Returns true if there is at least one function call in the loop which</span></CodeLine>
<Link id="l00420" /><CodeLine lineNumber="420"><span class="doxyHighlightComment">  /// returns a struct type and needs to be vectorized.</span></CodeLine>
<Link id="l00421" /><CodeLine lineNumber="421" lineLink="/docs/api/classes/llvm/loopvectorizationlegality/#a9ede4d70a86b91ae038a77c86b3f4aaa"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loopvectorizationlegality/#a9ede4d70a86b91ae038a77c86b3f4aaa">hasStructVectorCall</a>()</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123; </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> StructVecCallFound; &#125;</span></CodeLine>
<Link id="l00422" /><CodeLine lineNumber="422"></CodeLine>
<Link id="l00423" /><CodeLine lineNumber="423" lineLink="/docs/api/classes/llvm/loopvectorizationlegality/#a0f59a9c87ede76fde54388f16562a930"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loopvectorizationlegality/#a0f59a9c87ede76fde54388f16562a930">getNumStores</a>()</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123; </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> LAI-&gt;getNumStores(); &#125;</span></CodeLine>
<Link id="l00424" /><CodeLine lineNumber="424" lineLink="/docs/api/classes/llvm/loopvectorizationlegality/#aa9d35bb02e49c20fcafc8d179559da10"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loopvectorizationlegality/#aa9d35bb02e49c20fcafc8d179559da10">getNumLoads</a>()</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123; </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> LAI-&gt;getNumLoads(); &#125;</span></CodeLine>
<Link id="l00425" /><CodeLine lineNumber="425"></CodeLine>
<Link id="l00426" /><CodeLine lineNumber="426"><span class="doxyHighlightComment">  /// Returns a HistogramInfo&#42; for the given instruction if it was determined</span></CodeLine>
<Link id="l00427" /><CodeLine lineNumber="427"><span class="doxyHighlightComment">  /// to be part of a load -&gt; update -&gt; store sequence where multiple lanes</span></CodeLine>
<Link id="l00428" /><CodeLine lineNumber="428"><span class="doxyHighlightComment">  /// may be working on the same memory address.</span></CodeLine>
<Link id="l00429" /><CodeLine lineNumber="429" lineLink="/docs/api/classes/llvm/loopvectorizationlegality/#a4f5c51eb16a87d311cfebdceb7b04ea7"><span class="doxyHighlight">  std::optional&lt;const HistogramInfo &#42;&gt; <a href="/docs/api/classes/llvm/loopvectorizationlegality/#a4f5c51eb16a87d311cfebdceb7b04ea7">getHistogramInfo</a>(<a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123;</span></CodeLine>
<Link id="l00430" /><CodeLine lineNumber="430"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/structs/llvm/histograminfo">HistogramInfo</a> &amp;HGram : Histograms)</span></CodeLine>
<Link id="l00431" /><CodeLine lineNumber="431"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (HGram.Load == <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a> || HGram.Update == <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a> || HGram.Store == <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</span></CodeLine>
<Link id="l00432" /><CodeLine lineNumber="432"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> &amp;HGram;</span></CodeLine>
<Link id="l00433" /><CodeLine lineNumber="433"></CodeLine>
<Link id="l00434" /><CodeLine lineNumber="434"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> std::nullopt;</span></CodeLine>
<Link id="l00435" /><CodeLine lineNumber="435"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00436" /><CodeLine lineNumber="436"></CodeLine>
<Link id="l00437" /><CodeLine lineNumber="437"><span class="doxyHighlightComment">  /// Returns a list of all known histogram operations in the loop.</span></CodeLine>
<Link id="l00438" /><CodeLine lineNumber="438" lineLink="/docs/api/classes/llvm/loopvectorizationlegality/#ab306c8094bdb8c7cbdbdfb9a05800007"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loopvectorizationlegality/#ab306c8094bdb8c7cbdbdfb9a05800007">hasHistograms</a>()</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123; </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> !Histograms.empty(); &#125;</span></CodeLine>
<Link id="l00439" /><CodeLine lineNumber="439"></CodeLine>
<Link id="l00440" /><CodeLine lineNumber="440" lineLink="/docs/api/classes/llvm/loopvectorizationlegality/#a3ecfb3b35e9665ce1444966f8ae0930f"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/predicatedscalarevolution">PredicatedScalarEvolution</a> &#42;<a href="/docs/api/classes/llvm/loopvectorizationlegality/#a3ecfb3b35e9665ce1444966f8ae0930f">getPredicatedScalarEvolution</a>()</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123;</span></CodeLine>
<Link id="l00441" /><CodeLine lineNumber="441"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> &amp;PSE;</span></CodeLine>
<Link id="l00442" /><CodeLine lineNumber="442"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00443" /><CodeLine lineNumber="443"></CodeLine>
<Link id="l00444" /><CodeLine lineNumber="444" lineLink="/docs/api/classes/llvm/loopvectorizationlegality/#ae2bbeec474957c61045c6cb37f2d8379"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/loop">Loop</a> &#42;<a href="/docs/api/classes/llvm/loopvectorizationlegality/#ae2bbeec474957c61045c6cb37f2d8379">getLoop</a>()</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123; </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> TheLoop; &#125;</span></CodeLine>
<Link id="l00445" /><CodeLine lineNumber="445"></CodeLine>
<Link id="l00446" /><CodeLine lineNumber="446" lineLink="/docs/api/classes/llvm/loopvectorizationlegality/#a13545e37bc06efcf7642cfda97c65bd3"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/loopinfo">LoopInfo</a> &#42;<a href="/docs/api/classes/llvm/loopvectorizationlegality/#a13545e37bc06efcf7642cfda97c65bd3">getLoopInfo</a>()</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123; </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> LI; &#125;</span></CodeLine>
<Link id="l00447" /><CodeLine lineNumber="447"></CodeLine>
<Link id="l00448" /><CodeLine lineNumber="448" lineLink="/docs/api/classes/llvm/loopvectorizationlegality/#a4b011656b75317bd3e291ef771491f10"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/assumptioncache">AssumptionCache</a> &#42;<a href="/docs/api/classes/llvm/loopvectorizationlegality/#a4b011656b75317bd3e291ef771491f10">getAssumptionCache</a>()</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123; </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> AC; &#125;</span></CodeLine>
<Link id="l00449" /><CodeLine lineNumber="449"></CodeLine>
<Link id="l00450" /><CodeLine lineNumber="450" lineLink="/docs/api/classes/llvm/loopvectorizationlegality/#abf6b349a0e6598527d2ea3ef89dba230"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/scalarevolution">ScalarEvolution</a> &#42;<a href="/docs/api/classes/llvm/loopvectorizationlegality/#abf6b349a0e6598527d2ea3ef89dba230">getScalarEvolution</a>()</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123; </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> PSE.<a href="/docs/api/classes/llvm/predicatedscalarevolution/#a10ca5eacc61b5669880de2f8b0cff33c">getSE</a>(); &#125;</span></CodeLine>
<Link id="l00451" /><CodeLine lineNumber="451"></CodeLine>
<Link id="l00452" /><CodeLine lineNumber="452" lineLink="/docs/api/classes/llvm/loopvectorizationlegality/#a3add6f3f23fa2ec67277682de9acef7f"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/dominatortree">DominatorTree</a> &#42;<a href="/docs/api/classes/llvm/loopvectorizationlegality/#a3add6f3f23fa2ec67277682de9acef7f">getDominatorTree</a>()</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123; </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> DT; &#125;</span></CodeLine>
<Link id="l00453" /><CodeLine lineNumber="453"></CodeLine>
<Link id="l00454" /><CodeLine lineNumber="454"><span class="doxyHighlightComment">  /// Returns all exiting blocks with a countable exit, i.e. the</span></CodeLine>
<Link id="l00455" /><CodeLine lineNumber="455"><span class="doxyHighlightComment">  /// exit-not-taken count is known exactly at compile time.</span></CodeLine>
<Link id="l00456" /><CodeLine lineNumber="456" lineLink="/docs/api/classes/llvm/loopvectorizationlegality/#a7a32abdcf9e80b2483aa55bc36f2840e"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/smallvector">SmallVector&lt;BasicBlock &#42;, 4&gt;</a> &amp;<a href="/docs/api/classes/llvm/loopvectorizationlegality/#a7a32abdcf9e80b2483aa55bc36f2840e">getCountableExitingBlocks</a>()</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123;</span></CodeLine>
<Link id="l00457" /><CodeLine lineNumber="457"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> CountableExitingBlocks;</span></CodeLine>
<Link id="l00458" /><CodeLine lineNumber="458"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00459" /><CodeLine lineNumber="459"></CodeLine>
<Link id="l00460" /><CodeLine lineNumber="460"><span class="doxyHighlightComment">  /// Returns the loop edge to an uncountable exit, or std::nullopt if there</span></CodeLine>
<Link id="l00461" /><CodeLine lineNumber="461"><span class="doxyHighlightComment">  /// isn&#39;t a single such edge.</span></CodeLine>
<Link id="l00462" /><CodeLine lineNumber="462"><span class="doxyHighlight">  std::optional&lt;std::pair&lt;BasicBlock &#42;, BasicBlock &#42;&gt;&gt;</span></CodeLine>
<Link id="l00463" /><CodeLine lineNumber="463" lineLink="/docs/api/classes/llvm/loopvectorizationlegality/#ad9e8b4a71d2eb63862cf0dfcb0e7d786"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/loopvectorizationlegality/#ad9e8b4a71d2eb63862cf0dfcb0e7d786">getUncountableEdge</a>()</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123;</span></CodeLine>
<Link id="l00464" /><CodeLine lineNumber="464"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> UncountableEdge;</span></CodeLine>
<Link id="l00465" /><CodeLine lineNumber="465"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00466" /><CodeLine lineNumber="466"></CodeLine>
<Link id="l00467" /><CodeLine lineNumber="467"><span class="doxyHighlightKeyword">private</span><span class="doxyHighlight">:</span></CodeLine>
<Link id="l00468" /><CodeLine lineNumber="468"><span class="doxyHighlightComment">  /// Return true if the pre-header, exiting and latch blocks of \\p Lp and all</span></CodeLine>
<Link id="l00469" /><CodeLine lineNumber="469"><span class="doxyHighlightComment">  /// its nested loops are considered legal for vectorization. These legal</span></CodeLine>
<Link id="l00470" /><CodeLine lineNumber="470"><span class="doxyHighlightComment">  /// checks are common for inner and outer loop vectorization.</span></CodeLine>
<Link id="l00471" /><CodeLine lineNumber="471"><span class="doxyHighlightComment">  /// Temporarily taking UseVPlanNativePath parameter. If true, take</span></CodeLine>
<Link id="l00472" /><CodeLine lineNumber="472"><span class="doxyHighlightComment">  /// the new code path being implemented for outer loop vectorization</span></CodeLine>
<Link id="l00473" /><CodeLine lineNumber="473"><span class="doxyHighlightComment">  /// (should be functional for inner loop vectorization) based on VPlan.</span></CodeLine>
<Link id="l00474" /><CodeLine lineNumber="474"><span class="doxyHighlightComment">  /// If false, good old LV code.</span></CodeLine>
<Link id="l00475" /><CodeLine lineNumber="475"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> canVectorizeLoopNestCFG(<a href="/docs/api/classes/llvm/loop">Loop</a> &#42;Lp, </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> UseVPlanNativePath);</span></CodeLine>
<Link id="l00476" /><CodeLine lineNumber="476"></CodeLine>
<Link id="l00477" /><CodeLine lineNumber="477"><span class="doxyHighlightComment">  /// Set up outer loop inductions by checking Phis in outer loop header for</span></CodeLine>
<Link id="l00478" /><CodeLine lineNumber="478"><span class="doxyHighlightComment">  /// supported inductions (int inductions). Return false if any of these Phis</span></CodeLine>
<Link id="l00479" /><CodeLine lineNumber="479"><span class="doxyHighlightComment">  /// is not a supported induction or if we fail to find an induction.</span></CodeLine>
<Link id="l00480" /><CodeLine lineNumber="480"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> setupOuterLoopInductions();</span></CodeLine>
<Link id="l00481" /><CodeLine lineNumber="481"></CodeLine>
<Link id="l00482" /><CodeLine lineNumber="482"><span class="doxyHighlightComment">  /// Return true if the pre-header, exiting and latch blocks of \\p Lp</span></CodeLine>
<Link id="l00483" /><CodeLine lineNumber="483"><span class="doxyHighlightComment">  /// (non-recursive) are considered legal for vectorization.</span></CodeLine>
<Link id="l00484" /><CodeLine lineNumber="484"><span class="doxyHighlightComment">  /// Temporarily taking UseVPlanNativePath parameter. If true, take</span></CodeLine>
<Link id="l00485" /><CodeLine lineNumber="485"><span class="doxyHighlightComment">  /// the new code path being implemented for outer loop vectorization</span></CodeLine>
<Link id="l00486" /><CodeLine lineNumber="486"><span class="doxyHighlightComment">  /// (should be functional for inner loop vectorization) based on VPlan.</span></CodeLine>
<Link id="l00487" /><CodeLine lineNumber="487"><span class="doxyHighlightComment">  /// If false, good old LV code.</span></CodeLine>
<Link id="l00488" /><CodeLine lineNumber="488"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> canVectorizeLoopCFG(<a href="/docs/api/classes/llvm/loop">Loop</a> &#42;Lp, </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> UseVPlanNativePath);</span></CodeLine>
<Link id="l00489" /><CodeLine lineNumber="489"></CodeLine>
<Link id="l00490" /><CodeLine lineNumber="490"><span class="doxyHighlightComment">  /// Check if a single basic block loop is vectorizable.</span></CodeLine>
<Link id="l00491" /><CodeLine lineNumber="491"><span class="doxyHighlightComment">  /// At this point we know that this is a loop with a constant trip count</span></CodeLine>
<Link id="l00492" /><CodeLine lineNumber="492"><span class="doxyHighlightComment">  /// and we only need to check individual instructions.</span></CodeLine>
<Link id="l00493" /><CodeLine lineNumber="493"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> canVectorizeInstrs();</span></CodeLine>
<Link id="l00494" /><CodeLine lineNumber="494"></CodeLine>
<Link id="l00495" /><CodeLine lineNumber="495"><span class="doxyHighlightComment">  /// When we vectorize loops we may change the order in which</span></CodeLine>
<Link id="l00496" /><CodeLine lineNumber="496"><span class="doxyHighlightComment">  /// we read and write from memory. This method checks if it is</span></CodeLine>
<Link id="l00497" /><CodeLine lineNumber="497"><span class="doxyHighlightComment">  /// legal to vectorize the code, considering only memory constrains.</span></CodeLine>
<Link id="l00498" /><CodeLine lineNumber="498"><span class="doxyHighlightComment">  /// Returns true if the loop is vectorizable</span></CodeLine>
<Link id="l00499" /><CodeLine lineNumber="499"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> canVectorizeMemory();</span></CodeLine>
<Link id="l00500" /><CodeLine lineNumber="500"></CodeLine>
<Link id="l00501" /><CodeLine lineNumber="501"><span class="doxyHighlightComment">  /// If LAA cannot determine whether all dependences are safe, we may be able</span></CodeLine>
<Link id="l00502" /><CodeLine lineNumber="502"><span class="doxyHighlightComment">  /// to further analyse some IndirectUnsafe dependences and if they match a</span></CodeLine>
<Link id="l00503" /><CodeLine lineNumber="503"><span class="doxyHighlightComment">  /// certain pattern (like a histogram) then we may still be able to vectorize.</span></CodeLine>
<Link id="l00504" /><CodeLine lineNumber="504"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> canVectorizeIndirectUnsafeDependences();</span></CodeLine>
<Link id="l00505" /><CodeLine lineNumber="505"></CodeLine>
<Link id="l00506" /><CodeLine lineNumber="506"><span class="doxyHighlightComment">  /// Return true if we can vectorize this loop using the IF-conversion</span></CodeLine>
<Link id="l00507" /><CodeLine lineNumber="507"><span class="doxyHighlightComment">  /// transformation.</span></CodeLine>
<Link id="l00508" /><CodeLine lineNumber="508"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> canVectorizeWithIfConvert();</span></CodeLine>
<Link id="l00509" /><CodeLine lineNumber="509"></CodeLine>
<Link id="l00510" /><CodeLine lineNumber="510"><span class="doxyHighlightComment">  /// Return true if we can vectorize this outer loop. The method performs</span></CodeLine>
<Link id="l00511" /><CodeLine lineNumber="511"><span class="doxyHighlightComment">  /// specific checks for outer loop vectorization.</span></CodeLine>
<Link id="l00512" /><CodeLine lineNumber="512"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> canVectorizeOuterLoop();</span></CodeLine>
<Link id="l00513" /><CodeLine lineNumber="513"></CodeLine>
<Link id="l00514" /><CodeLine lineNumber="514"><span class="doxyHighlightComment">  /// Returns true if this is an early exit loop that can be vectorized.</span></CodeLine>
<Link id="l00515" /><CodeLine lineNumber="515"><span class="doxyHighlightComment">  /// Currently, a loop with an uncountable early exit is considered</span></CodeLine>
<Link id="l00516" /><CodeLine lineNumber="516"><span class="doxyHighlightComment">  /// vectorizable if:</span></CodeLine>
<Link id="l00517" /><CodeLine lineNumber="517"><span class="doxyHighlightComment">  ///   1 There are no writes to memory in the loop.</span></CodeLine>
<Link id="l00518" /><CodeLine lineNumber="518"><span class="doxyHighlightComment">  ///   2 The loop has only one early uncountable exit</span></CodeLine>
<Link id="l00519" /><CodeLine lineNumber="519"><span class="doxyHighlightComment">  ///   3 The early exit block dominates the latch block.</span></CodeLine>
<Link id="l00520" /><CodeLine lineNumber="520"><span class="doxyHighlightComment">  ///   4 The latch block has an exact exit count.</span></CodeLine>
<Link id="l00521" /><CodeLine lineNumber="521"><span class="doxyHighlightComment">  ///   5 The loop does not contain reductions or recurrences.</span></CodeLine>
<Link id="l00522" /><CodeLine lineNumber="522"><span class="doxyHighlightComment">  ///   6 We can prove at compile-time that loops will not contain faulting</span></CodeLine>
<Link id="l00523" /><CodeLine lineNumber="523"><span class="doxyHighlightComment">  ///   loads.</span></CodeLine>
<Link id="l00524" /><CodeLine lineNumber="524"><span class="doxyHighlightComment">  ///   7 It is safe to speculatively execute instructions such as divide or</span></CodeLine>
<Link id="l00525" /><CodeLine lineNumber="525"><span class="doxyHighlightComment">  ///   call instructions.</span></CodeLine>
<Link id="l00526" /><CodeLine lineNumber="526"><span class="doxyHighlightComment">  /// The list above is not based on theoretical limitations of vectorization,</span></CodeLine>
<Link id="l00527" /><CodeLine lineNumber="527"><span class="doxyHighlightComment">  /// but simply a statement that more work is needed to support these</span></CodeLine>
<Link id="l00528" /><CodeLine lineNumber="528"><span class="doxyHighlightComment">  /// additional cases safely.</span></CodeLine>
<Link id="l00529" /><CodeLine lineNumber="529"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> isVectorizableEarlyExitLoop();</span></CodeLine>
<Link id="l00530" /><CodeLine lineNumber="530"></CodeLine>
<Link id="l00531" /><CodeLine lineNumber="531"><span class="doxyHighlightComment">  /// Return true if all of the instructions in the block can be speculatively</span></CodeLine>
<Link id="l00532" /><CodeLine lineNumber="532"><span class="doxyHighlightComment">  /// executed, and record the loads/stores that require masking.</span></CodeLine>
<Link id="l00533" /><CodeLine lineNumber="533"><span class="doxyHighlightComment">  /// \\p SafePtrs is a list of addresses that are known to be legal and we know</span></CodeLine>
<Link id="l00534" /><CodeLine lineNumber="534"><span class="doxyHighlightComment">  /// that we can read from them without segfault.</span></CodeLine>
<Link id="l00535" /><CodeLine lineNumber="535"><span class="doxyHighlightComment">  /// \\p MaskedOp is a list of instructions that have to be transformed into</span></CodeLine>
<Link id="l00536" /><CodeLine lineNumber="536"><span class="doxyHighlightComment">  /// calls to the appropriate masked intrinsic when the loop is vectorized</span></CodeLine>
<Link id="l00537" /><CodeLine lineNumber="537"><span class="doxyHighlightComment">  /// or dropped if the instruction is a conditional assume intrinsic.</span></CodeLine>
<Link id="l00538" /><CodeLine lineNumber="538"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span></CodeLine>
<Link id="l00539" /><CodeLine lineNumber="539"><span class="doxyHighlight">  blockCanBePredicated(<a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42;BB, <a href="/docs/api/classes/llvm/smallptrsetimpl">SmallPtrSetImpl&lt;Value &#42;&gt;</a> &amp;SafePtrs,</span></CodeLine>
<Link id="l00540" /><CodeLine lineNumber="540"><span class="doxyHighlight">                       <a href="/docs/api/classes/llvm/smallptrsetimpl">SmallPtrSetImpl&lt;const Instruction &#42;&gt;</a> &amp;MaskedOp) </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00541" /><CodeLine lineNumber="541"></CodeLine>
<Link id="l00542" /><CodeLine lineNumber="542"><span class="doxyHighlightComment">  /// Updates the vectorization state by adding \\p Phi to the inductions list.</span></CodeLine>
<Link id="l00543" /><CodeLine lineNumber="543"><span class="doxyHighlightComment">  /// This can set \\p Phi as the main induction of the loop if \\p Phi is a</span></CodeLine>
<Link id="l00544" /><CodeLine lineNumber="544"><span class="doxyHighlightComment">  /// better choice for the main induction than the existing one.</span></CodeLine>
<Link id="l00545" /><CodeLine lineNumber="545"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> addInductionPhi(<a href="/docs/api/classes/llvm/phinode">PHINode</a> &#42;Phi, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/inductiondescriptor">InductionDescriptor</a> &amp;<a href="/docs/api/namespaces/llvm/callingconv/#abdf8cf606905c10634e831390981b0ed">ID</a>,</span></CodeLine>
<Link id="l00546" /><CodeLine lineNumber="546"><span class="doxyHighlight">                       <a href="/docs/api/classes/llvm/smallptrsetimpl">SmallPtrSetImpl&lt;Value &#42;&gt;</a> &amp;AllowedExit);</span></CodeLine>
<Link id="l00547" /><CodeLine lineNumber="547"></CodeLine>
<Link id="l00548" /><CodeLine lineNumber="548"><span class="doxyHighlightComment">  /// The loop that we evaluate.</span></CodeLine>
<Link id="l00549" /><CodeLine lineNumber="549"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/loop">Loop</a> &#42;TheLoop;</span></CodeLine>
<Link id="l00550" /><CodeLine lineNumber="550"></CodeLine>
<Link id="l00551" /><CodeLine lineNumber="551"><span class="doxyHighlightComment">  /// Loop Info analysis.</span></CodeLine>
<Link id="l00552" /><CodeLine lineNumber="552"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/loopinfo">LoopInfo</a> &#42;LI;</span></CodeLine>
<Link id="l00553" /><CodeLine lineNumber="553"></CodeLine>
<Link id="l00554" /><CodeLine lineNumber="554"><span class="doxyHighlightComment">  /// A wrapper around ScalarEvolution used to add runtime SCEV checks.</span></CodeLine>
<Link id="l00555" /><CodeLine lineNumber="555"><span class="doxyHighlightComment">  /// Applies dynamic knowledge to simplify SCEV expressions in the context</span></CodeLine>
<Link id="l00556" /><CodeLine lineNumber="556"><span class="doxyHighlightComment">  /// of existing SCEV assumptions. The analysis will also add a minimal set</span></CodeLine>
<Link id="l00557" /><CodeLine lineNumber="557"><span class="doxyHighlightComment">  /// of new predicates if this is required to enable vectorization and</span></CodeLine>
<Link id="l00558" /><CodeLine lineNumber="558"><span class="doxyHighlightComment">  /// unrolling.</span></CodeLine>
<Link id="l00559" /><CodeLine lineNumber="559"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/predicatedscalarevolution">PredicatedScalarEvolution</a> &amp;PSE;</span></CodeLine>
<Link id="l00560" /><CodeLine lineNumber="560"></CodeLine>
<Link id="l00561" /><CodeLine lineNumber="561"><span class="doxyHighlightComment">  /// Target Transform Info.</span></CodeLine>
<Link id="l00562" /><CodeLine lineNumber="562"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/targettransforminfo">TargetTransformInfo</a> &#42;<a href="/docs/api/namespaces/llvm/#aa0d69e81725c10fa5407f0bf34462068">TTI</a>;</span></CodeLine>
<Link id="l00563" /><CodeLine lineNumber="563"></CodeLine>
<Link id="l00564" /><CodeLine lineNumber="564"><span class="doxyHighlightComment">  /// Target Library Info.</span></CodeLine>
<Link id="l00565" /><CodeLine lineNumber="565"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/targetlibraryinfo">TargetLibraryInfo</a> &#42;TLI;</span></CodeLine>
<Link id="l00566" /><CodeLine lineNumber="566"></CodeLine>
<Link id="l00567" /><CodeLine lineNumber="567"><span class="doxyHighlightComment">  /// Dominator Tree.</span></CodeLine>
<Link id="l00568" /><CodeLine lineNumber="568"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/dominatortree">DominatorTree</a> &#42;DT;</span></CodeLine>
<Link id="l00569" /><CodeLine lineNumber="569"></CodeLine>
<Link id="l00570" /><CodeLine lineNumber="570"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// LoopAccess analysis.</span></CodeLine>
<Link id="l00571" /><CodeLine lineNumber="571"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/loopaccessinfomanager">LoopAccessInfoManager</a> &amp;LAIs;</span></CodeLine>
<Link id="l00572" /><CodeLine lineNumber="572"></CodeLine>
<Link id="l00573" /><CodeLine lineNumber="573"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loopaccessinfo">LoopAccessInfo</a> &#42;LAI = </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00574" /><CodeLine lineNumber="574"></CodeLine>
<Link id="l00575" /><CodeLine lineNumber="575"><span class="doxyHighlightComment">  /// Interface to emit optimization remarks.</span></CodeLine>
<Link id="l00576" /><CodeLine lineNumber="576"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/optimizationremarkemitter">OptimizationRemarkEmitter</a> &#42;ORE;</span></CodeLine>
<Link id="l00577" /><CodeLine lineNumber="577"></CodeLine>
<Link id="l00578" /><CodeLine lineNumber="578"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">//  ---  vectorization state --- //</span></CodeLine>
<Link id="l00579" /><CodeLine lineNumber="579"></CodeLine>
<Link id="l00580" /><CodeLine lineNumber="580"><span class="doxyHighlightComment">  /// Holds the primary induction variable. This is the counter of the</span></CodeLine>
<Link id="l00581" /><CodeLine lineNumber="581"><span class="doxyHighlightComment">  /// loop.</span></CodeLine>
<Link id="l00582" /><CodeLine lineNumber="582"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/phinode">PHINode</a> &#42;PrimaryInduction = </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00583" /><CodeLine lineNumber="583"></CodeLine>
<Link id="l00584" /><CodeLine lineNumber="584"><span class="doxyHighlightComment">  /// Holds the reduction variables.</span></CodeLine>
<Link id="l00585" /><CodeLine lineNumber="585"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/loopvectorizationlegality/#abe830a64fea7dbeee20cdda3726b0120">ReductionList</a> <a href="/docs/api/namespaces/llvm/#a1200affbcdb869bf32076f90ad9d0eafa9a819585a6c0017acaff053c740cec70">Reductions</a>;</span></CodeLine>
<Link id="l00586" /><CodeLine lineNumber="586"></CodeLine>
<Link id="l00587" /><CodeLine lineNumber="587"><span class="doxyHighlightComment">  /// Holds all of the induction variables that we found in the loop.</span></CodeLine>
<Link id="l00588" /><CodeLine lineNumber="588"><span class="doxyHighlightComment">  /// Notice that inductions don&#39;t need to start at zero and that induction</span></CodeLine>
<Link id="l00589" /><CodeLine lineNumber="589"><span class="doxyHighlightComment">  /// variables can be pointers.</span></CodeLine>
<Link id="l00590" /><CodeLine lineNumber="590"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/loopvectorizationlegality/#a063c4d98febe7ef90dddbfedcfc59d16">InductionList</a> Inductions;</span></CodeLine>
<Link id="l00591" /><CodeLine lineNumber="591"></CodeLine>
<Link id="l00592" /><CodeLine lineNumber="592"><span class="doxyHighlightComment">  /// Holds all the casts that participate in the update chain of the induction</span></CodeLine>
<Link id="l00593" /><CodeLine lineNumber="593"><span class="doxyHighlightComment">  /// variables, and that have been proven to be redundant (possibly under a</span></CodeLine>
<Link id="l00594" /><CodeLine lineNumber="594"><span class="doxyHighlightComment">  /// runtime guard). These casts can be ignored when creating the vectorized</span></CodeLine>
<Link id="l00595" /><CodeLine lineNumber="595"><span class="doxyHighlightComment">  /// loop body.</span></CodeLine>
<Link id="l00596" /><CodeLine lineNumber="596"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/smallptrset">SmallPtrSet&lt;Instruction &#42;, 4&gt;</a> InductionCastsToIgnore;</span></CodeLine>
<Link id="l00597" /><CodeLine lineNumber="597"></CodeLine>
<Link id="l00598" /><CodeLine lineNumber="598"><span class="doxyHighlightComment">  /// Holds the phi nodes that are fixed-order recurrences.</span></CodeLine>
<Link id="l00599" /><CodeLine lineNumber="599"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/loopvectorizationlegality/#a543d30d3a2b289aaa6b363be25d2b295">RecurrenceSet</a> FixedOrderRecurrences;</span></CodeLine>
<Link id="l00600" /><CodeLine lineNumber="600"></CodeLine>
<Link id="l00601" /><CodeLine lineNumber="601"><span class="doxyHighlightComment">  /// Holds the widest induction type encountered.</span></CodeLine>
<Link id="l00602" /><CodeLine lineNumber="602"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/type">Type</a> &#42;WidestIndTy = </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00603" /><CodeLine lineNumber="603"></CodeLine>
<Link id="l00604" /><CodeLine lineNumber="604"><span class="doxyHighlightComment">  /// Allowed outside users. This holds the variables that can be accessed from</span></CodeLine>
<Link id="l00605" /><CodeLine lineNumber="605"><span class="doxyHighlightComment">  /// outside the loop.</span></CodeLine>
<Link id="l00606" /><CodeLine lineNumber="606"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/smallptrset">SmallPtrSet&lt;Value &#42;, 4&gt;</a> AllowedExit;</span></CodeLine>
<Link id="l00607" /><CodeLine lineNumber="607"></CodeLine>
<Link id="l00608" /><CodeLine lineNumber="608"><span class="doxyHighlightComment">  /// Vectorization requirements that will go through late-evaluation.</span></CodeLine>
<Link id="l00609" /><CodeLine lineNumber="609"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/loopvectorizationrequirements">LoopVectorizationRequirements</a> &#42;Requirements;</span></CodeLine>
<Link id="l00610" /><CodeLine lineNumber="610"></CodeLine>
<Link id="l00611" /><CodeLine lineNumber="611"><span class="doxyHighlightComment">  /// Used to emit an analysis of any legality issues.</span></CodeLine>
<Link id="l00612" /><CodeLine lineNumber="612"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/loopvectorizehints">LoopVectorizeHints</a> &#42;Hints;</span></CodeLine>
<Link id="l00613" /><CodeLine lineNumber="613"></CodeLine>
<Link id="l00614" /><CodeLine lineNumber="614"><span class="doxyHighlightComment">  /// The demanded bits analysis is used to compute the minimum type size in</span></CodeLine>
<Link id="l00615" /><CodeLine lineNumber="615"><span class="doxyHighlightComment">  /// which a reduction can be computed.</span></CodeLine>
<Link id="l00616" /><CodeLine lineNumber="616"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/demandedbits">DemandedBits</a> &#42;DB;</span></CodeLine>
<Link id="l00617" /><CodeLine lineNumber="617"></CodeLine>
<Link id="l00618" /><CodeLine lineNumber="618"><span class="doxyHighlightComment">  /// The assumption cache analysis is used to compute the minimum type size in</span></CodeLine>
<Link id="l00619" /><CodeLine lineNumber="619"><span class="doxyHighlightComment">  /// which a reduction can be computed.</span></CodeLine>
<Link id="l00620" /><CodeLine lineNumber="620"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/assumptioncache">AssumptionCache</a> &#42;AC;</span></CodeLine>
<Link id="l00621" /><CodeLine lineNumber="621"></CodeLine>
<Link id="l00622" /><CodeLine lineNumber="622"><span class="doxyHighlightComment">  /// While vectorizing these instructions we have to generate a</span></CodeLine>
<Link id="l00623" /><CodeLine lineNumber="623"><span class="doxyHighlightComment">  /// call to the appropriate masked intrinsic or drop them in case of</span></CodeLine>
<Link id="l00624" /><CodeLine lineNumber="624"><span class="doxyHighlightComment">  /// conditional assumes.</span></CodeLine>
<Link id="l00625" /><CodeLine lineNumber="625"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/smallptrset">SmallPtrSet&lt;const Instruction &#42;, 8&gt;</a> MaskedOp;</span></CodeLine>
<Link id="l00626" /><CodeLine lineNumber="626"></CodeLine>
<Link id="l00627" /><CodeLine lineNumber="627"><span class="doxyHighlightComment">  /// Contains all identified histogram operations, which are sequences of</span></CodeLine>
<Link id="l00628" /><CodeLine lineNumber="628"><span class="doxyHighlightComment">  /// load -&gt; update -&gt; store instructions where multiple lanes in a vector</span></CodeLine>
<Link id="l00629" /><CodeLine lineNumber="629"><span class="doxyHighlightComment">  /// may work on the same memory location.</span></CodeLine>
<Link id="l00630" /><CodeLine lineNumber="630"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/smallvector">SmallVector&lt;HistogramInfo, 1&gt;</a> Histograms;</span></CodeLine>
<Link id="l00631" /><CodeLine lineNumber="631"></CodeLine>
<Link id="l00632" /><CodeLine lineNumber="632"><span class="doxyHighlightComment">  /// BFI and PSI are used to check for profile guided size optimizations.</span></CodeLine>
<Link id="l00633" /><CodeLine lineNumber="633"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/blockfrequencyinfo">BlockFrequencyInfo</a> &#42;BFI;</span></CodeLine>
<Link id="l00634" /><CodeLine lineNumber="634"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/profilesummaryinfo">ProfileSummaryInfo</a> &#42;PSI;</span></CodeLine>
<Link id="l00635" /><CodeLine lineNumber="635"></CodeLine>
<Link id="l00636" /><CodeLine lineNumber="636"><span class="doxyHighlightComment">  /// If we discover function calls within the loop which have a valid</span></CodeLine>
<Link id="l00637" /><CodeLine lineNumber="637"><span class="doxyHighlightComment">  /// vectorized variant, record that fact so that LoopVectorize can</span></CodeLine>
<Link id="l00638" /><CodeLine lineNumber="638"><span class="doxyHighlightComment">  /// (potentially) make a better decision on the maximum VF and enable</span></CodeLine>
<Link id="l00639" /><CodeLine lineNumber="639"><span class="doxyHighlightComment">  /// the use of those function variants.</span></CodeLine>
<Link id="l00640" /><CodeLine lineNumber="640"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> VecCallVariantsFound = </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00641" /><CodeLine lineNumber="641"></CodeLine>
<Link id="l00642" /><CodeLine lineNumber="642"><span class="doxyHighlightComment">  /// If we find a call (to be vectorized) that returns a struct type, record</span></CodeLine>
<Link id="l00643" /><CodeLine lineNumber="643"><span class="doxyHighlightComment">  /// that so we can bail out until this is supported.</span></CodeLine>
<Link id="l00644" /><CodeLine lineNumber="644"><span class="doxyHighlightComment">  /// TODO: Remove this flag once vectorizing calls with struct returns is</span></CodeLine>
<Link id="l00645" /><CodeLine lineNumber="645"><span class="doxyHighlightComment">  /// supported.</span></CodeLine>
<Link id="l00646" /><CodeLine lineNumber="646"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> StructVecCallFound = </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00647" /><CodeLine lineNumber="647"></CodeLine>
<Link id="l00648" /><CodeLine lineNumber="648"><span class="doxyHighlightComment">  /// Keep track of all the countable and uncountable exiting blocks if</span></CodeLine>
<Link id="l00649" /><CodeLine lineNumber="649"><span class="doxyHighlightComment">  /// the exact backedge taken count is not computable.</span></CodeLine>
<Link id="l00650" /><CodeLine lineNumber="650"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/smallvector">SmallVector&lt;BasicBlock &#42;, 4&gt;</a> CountableExitingBlocks;</span></CodeLine>
<Link id="l00651" /><CodeLine lineNumber="651"></CodeLine>
<Link id="l00652" /><CodeLine lineNumber="652"><span class="doxyHighlightComment">  /// Keep track of the loop edge to an uncountable exit, comprising a pair</span></CodeLine>
<Link id="l00653" /><CodeLine lineNumber="653"><span class="doxyHighlightComment">  /// of (Exiting, Exit) blocks, if there is exactly one early exit.</span></CodeLine>
<Link id="l00654" /><CodeLine lineNumber="654"><span class="doxyHighlight">  std::optional&lt;std::pair&lt;BasicBlock &#42;, BasicBlock &#42;&gt;&gt; UncountableEdge;</span></CodeLine>
<Link id="l00655" /><CodeLine lineNumber="655"><span class="doxyHighlight">&#125;;</span></CodeLine>
<Link id="l00656" /><CodeLine lineNumber="656"></CodeLine>
<Link id="l00657" /><CodeLine lineNumber="657"><span class="doxyHighlight">&#125; </span><span class="doxyHighlightComment">// namespace llvm</span></CodeLine>
<Link id="l00658" /><CodeLine lineNumber="658"></CodeLine>
<Link id="l00659" /><CodeLine lineNumber="659"><span class="doxyHighlightPreprocessor">#endif </span><span class="doxyHighlightComment">// LLVM&#95;TRANSFORMS&#95;VECTORIZE&#95;LOOPVECTORIZATIONLEGALITY&#95;H</span></CodeLine>

</ProgramListing>


</DoxygenPage>
