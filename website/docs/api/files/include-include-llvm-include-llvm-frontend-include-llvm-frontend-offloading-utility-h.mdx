---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/files/include/include/llvm/include/llvm/frontend/include/llvm/frontend/offloading/utility-h
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - file

---

import Link from '@docusaurus/Link'

import CodeLine from '@xpack/docusaurus-plugin-doxygen/components/CodeLine'
import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import ProgramListing from '@xpack/docusaurus-plugin-doxygen/components/ProgramListing'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `Utility.h` File Reference

<DoxygenPage pluginConfig={pluginConfig}>



## Included Headers

<IncludesList>
<IncludesListItem
  filePath="cstdint"
  permalink=""
  isLocal="false" />
<IncludesListItem
  filePath="llvm/ADT/StringMap.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/adt/stringmap-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/ADT/StringRef.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/adt/stringref-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/IR/Module.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/ir/module-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/Object/OffloadBinary.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/object/offloadbinary-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/Support/Error.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/support/error-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/Support/MemoryBufferRef.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/support/memorybufferref-h"
  isLocal="true" />
</IncludesList>

## Namespaces Index

<MembersIndex>

<MembersIndexItem
  type="namespace"
  name={<><a href="/docs/api/namespaces/llvm">llvm</a></>}>
This is an optimization pass for GlobalISel generic memory operations. <a href="/docs/api/namespaces/llvm/#details">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="namespace"
  name={<><a href="/docs/api/namespaces/llvm/offloading">llvm::offloading</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type="namespace"
  name={<><a href="/docs/api/namespaces/llvm/offloading/amdgpu">llvm::offloading::amdgpu</a></>}>
</MembersIndexItem>

</MembersIndex>

## Classes Index

<MembersIndex>

<MembersIndexItem
  type="struct"
  name={<><a href="/docs/api/structs/llvm/offloading/entryty">EntryTy</a></>}>
This is the record of an object that just be registered with the offloading runtime. <a href="/docs/api/structs/llvm/offloading/entryty/#details">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="struct"
  name={<><a href="/docs/api/structs/llvm/offloading/amdgpu/amdgpukernelmetadata">AMDGPUKernelMetaData</a></>}>
Struct for holding metadata related to <a href="/docs/api/namespaces/llvm/amdgpu">AMDGPU</a> kernels, for more information about the metadata and its meaning see: <a href="https://llvm.org/docs/AMDGPUUsage.html#code-object-v3">https://llvm.org/docs/AMDGPUUsage.html#code-object-v3</a>. <a href="/docs/api/structs/llvm/offloading/amdgpu/amdgpukernelmetadata/#details">More...</a>
</MembersIndexItem>

</MembersIndex>


## File Listing

The file content with the documentation metadata removed is:

<ProgramListing>

<Link id="l00001" /><CodeLine lineNumber="1"><span class="doxyHighlightComment">//===- Utility.h - Collection of geneirc offloading utilities -------------===//</span></CodeLine>
<Link id="l00002" /><CodeLine lineNumber="2"><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l00003" /><CodeLine lineNumber="3"><span class="doxyHighlightComment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></CodeLine>
<Link id="l00004" /><CodeLine lineNumber="4"><span class="doxyHighlightComment">// See https://llvm.org/LICENSE.txt for license information.</span></CodeLine>
<Link id="l00005" /><CodeLine lineNumber="5"><span class="doxyHighlightComment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></CodeLine>
<Link id="l00006" /><CodeLine lineNumber="6"><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l00007" /><CodeLine lineNumber="7"><span class="doxyHighlightComment">//===----------------------------------------------------------------------===//</span></CodeLine>
<Link id="l00008" /><CodeLine lineNumber="8"></CodeLine>
<Link id="l00009" /><CodeLine lineNumber="9"><span class="doxyHighlightPreprocessor">#ifndef LLVM&#95;FRONTEND&#95;OFFLOADING&#95;UTILITY&#95;H</span></CodeLine>
<Link id="l00010" /><CodeLine lineNumber="10"><span class="doxyHighlightPreprocessor">#define LLVM&#95;FRONTEND&#95;OFFLOADING&#95;UTILITY&#95;H</span></CodeLine>
<Link id="l00011" /><CodeLine lineNumber="11"></CodeLine>
<Link id="l00012" /><CodeLine lineNumber="12"><span class="doxyHighlightPreprocessor">#include &lt;cstdint&gt;</span></CodeLine>
<Link id="l00013" /><CodeLine lineNumber="13"></CodeLine>
<Link id="l00014" /><CodeLine lineNumber="14"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/adt/stringmap-h">llvm/ADT/StringMap.h</a>&quot;</span></CodeLine>
<Link id="l00015" /><CodeLine lineNumber="15"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/adt/stringref-h">llvm/ADT/StringRef.h</a>&quot;</span></CodeLine>
<Link id="l00016" /><CodeLine lineNumber="16"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/ir/module-h">llvm/IR/Module.h</a>&quot;</span></CodeLine>
<Link id="l00017" /><CodeLine lineNumber="17"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/object/offloadbinary-h">llvm/Object/OffloadBinary.h</a>&quot;</span></CodeLine>
<Link id="l00018" /><CodeLine lineNumber="18"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/support/error-h">llvm/Support/Error.h</a>&quot;</span></CodeLine>
<Link id="l00019" /><CodeLine lineNumber="19"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/support/memorybufferref-h">llvm/Support/MemoryBufferRef.h</a>&quot;</span></CodeLine>
<Link id="l00020" /><CodeLine lineNumber="20"></CodeLine>
<Link id="l00021" /><CodeLine lineNumber="21"><span class="doxyHighlightKeyword">namespace </span><span class="doxyHighlight"><a href="/docs/api/namespaces/llvm">llvm</a> &#123;</span></CodeLine>
<Link id="l00022" /><CodeLine lineNumber="22"><span class="doxyHighlightKeyword">namespace </span><span class="doxyHighlight"><a href="/docs/api/namespaces/llvm/offloading">offloading</a> &#123;</span></CodeLine>
<Link id="l00023" /><CodeLine lineNumber="23"></CodeLine>
<Link id="l00024" /><CodeLine lineNumber="24"><span class="doxyHighlightComment">/// This is the record of an object that just be registered with the offloading</span></CodeLine>
<Link id="l00025" /><CodeLine lineNumber="25"><span class="doxyHighlightComment">/// runtime.</span></CodeLine>
<Link id="l00026" /><CodeLine lineNumber="26" lineLink="/docs/api/structs/llvm/offloading/entryty"><span class="doxyHighlightKeyword">struct </span><span class="doxyHighlight"><a href="/docs/api/structs/llvm/offloading/entryty">EntryTy</a> &#123;</span></CodeLine>
<Link id="l00027" /><CodeLine lineNumber="27"><span class="doxyHighlightComment">  /// Reserved bytes used to detect an older version of the struct, always zero.</span></CodeLine>
<Link id="l00028" /><CodeLine lineNumber="28" lineLink="/docs/api/structs/llvm/offloading/entryty/#a95bdd1a768c2106308275c9d04a4ba5f"><span class="doxyHighlight">  uint64&#95;t <a href="/docs/api/structs/llvm/offloading/entryty/#a95bdd1a768c2106308275c9d04a4ba5f">Reserved</a> = 0x0;</span></CodeLine>
<Link id="l00029" /><CodeLine lineNumber="29"><span class="doxyHighlightComment">  /// The current version of the struct for runtime forward compatibility.</span></CodeLine>
<Link id="l00030" /><CodeLine lineNumber="30" lineLink="/docs/api/structs/llvm/offloading/entryty/#aa32e5ce48b5827ef0fcd4beb8ec28c32"><span class="doxyHighlight">  uint16&#95;t <a href="/docs/api/structs/llvm/offloading/entryty/#aa32e5ce48b5827ef0fcd4beb8ec28c32">Version</a> = 0x1;</span></CodeLine>
<Link id="l00031" /><CodeLine lineNumber="31"><span class="doxyHighlightComment">  /// The expected consumer of this entry, e.g. CUDA or OpenMP.</span></CodeLine>
<Link id="l00032" /><CodeLine lineNumber="32" lineLink="/docs/api/structs/llvm/offloading/entryty/#a468c6bc0756e9d9e0de6e2fdad00edd0"><span class="doxyHighlight">  uint16&#95;t <a href="/docs/api/structs/llvm/offloading/entryty/#a468c6bc0756e9d9e0de6e2fdad00edd0">Kind</a>;</span></CodeLine>
<Link id="l00033" /><CodeLine lineNumber="33"><span class="doxyHighlightComment">  /// Flags associated with the global.</span></CodeLine>
<Link id="l00034" /><CodeLine lineNumber="34" lineLink="/docs/api/structs/llvm/offloading/entryty/#a7fd1d226db6f3a23d63bc8f4a1b45204"><span class="doxyHighlight">  uint32&#95;t <a href="/docs/api/structs/llvm/offloading/entryty/#a7fd1d226db6f3a23d63bc8f4a1b45204">Flags</a>;</span></CodeLine>
<Link id="l00035" /><CodeLine lineNumber="35"><span class="doxyHighlightComment">  /// The address of the global to be registered by the runtime.</span></CodeLine>
<Link id="l00036" /><CodeLine lineNumber="36" lineLink="/docs/api/structs/llvm/offloading/entryty/#a0241681eaf500522437eb83837f8d3d9"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> &#42;<a href="/docs/api/structs/llvm/offloading/entryty/#a0241681eaf500522437eb83837f8d3d9">Address</a>;</span></CodeLine>
<Link id="l00037" /><CodeLine lineNumber="37"><span class="doxyHighlightComment">  /// The name of the symbol in the device image.</span></CodeLine>
<Link id="l00038" /><CodeLine lineNumber="38" lineLink="/docs/api/structs/llvm/offloading/entryty/#a4c983b4432dfc638fa35b4b7f1319895"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">char</span><span class="doxyHighlight"> &#42;<a href="/docs/api/structs/llvm/offloading/entryty/#a4c983b4432dfc638fa35b4b7f1319895">SymbolName</a>;</span></CodeLine>
<Link id="l00039" /><CodeLine lineNumber="39"><span class="doxyHighlightComment">  /// The number of bytes the symbol takes.</span></CodeLine>
<Link id="l00040" /><CodeLine lineNumber="40" lineLink="/docs/api/structs/llvm/offloading/entryty/#a29f5972e364a77bc4d1c9f6f913c7453"><span class="doxyHighlight">  uint64&#95;t <a href="/docs/api/structs/llvm/offloading/entryty/#a29f5972e364a77bc4d1c9f6f913c7453">Size</a>;</span></CodeLine>
<Link id="l00041" /><CodeLine lineNumber="41"><span class="doxyHighlightComment">  /// Extra generic data used to register this entry.</span></CodeLine>
<Link id="l00042" /><CodeLine lineNumber="42" lineLink="/docs/api/structs/llvm/offloading/entryty/#abe901081314dddc489160730e9136118"><span class="doxyHighlight">  uint64&#95;t <a href="/docs/api/structs/llvm/offloading/entryty/#abe901081314dddc489160730e9136118">Data</a>;</span></CodeLine>
<Link id="l00043" /><CodeLine lineNumber="43"><span class="doxyHighlightComment">  /// An extra pointer, usually null.</span></CodeLine>
<Link id="l00044" /><CodeLine lineNumber="44" lineLink="/docs/api/structs/llvm/offloading/entryty/#aaa44cbde3c96e8b2209d65631c7f41d4"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> &#42;<a href="/docs/api/structs/llvm/offloading/entryty/#aaa44cbde3c96e8b2209d65631c7f41d4">AuxAddr</a>;</span></CodeLine>
<Link id="l00045" /><CodeLine lineNumber="45"><span class="doxyHighlight">&#125;;</span></CodeLine>
<Link id="l00046" /><CodeLine lineNumber="46"></CodeLine>
<Link id="l00047" /><CodeLine lineNumber="47"><span class="doxyHighlightComment">/// Offloading entry flags for CUDA / HIP. The first three bits indicate the</span></CodeLine>
<Link id="l00048" /><CodeLine lineNumber="48"><span class="doxyHighlightComment">/// type of entry while the others are a bit field for additional information.</span></CodeLine>
<Link id="l00049" /><CodeLine lineNumber="49" lineLink="/docs/api/namespaces/llvm/offloading/#a7419ce8b8f6793fdec6d80b80d731b57"><span class="doxyHighlightKeyword">enum</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/offloading/#a7419ce8b8f6793fdec6d80b80d731b57">OffloadEntryKindFlag</a> : uint32&#95;t &#123;</span></CodeLine>
<Link id="l00050" /><CodeLine lineNumber="50"><span class="doxyHighlightComment">  /// Mark the entry as a global entry. This indicates the presense of a</span></CodeLine>
<Link id="l00051" /><CodeLine lineNumber="51"><span class="doxyHighlightComment">  /// kernel if the size size field is zero and a variable otherwise.</span></CodeLine>
<Link id="l00052" /><CodeLine lineNumber="52" lineLink="/docs/api/namespaces/llvm/offloading/#a7419ce8b8f6793fdec6d80b80d731b57a923b860456c7e27007bf11d0069cfdb2"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/offloading/#a7419ce8b8f6793fdec6d80b80d731b57a923b860456c7e27007bf11d0069cfdb2">OffloadGlobalEntry</a> = 0x0,</span></CodeLine>
<Link id="l00053" /><CodeLine lineNumber="53"><span class="doxyHighlightComment">  /// Mark the entry as a managed global variable.</span></CodeLine>
<Link id="l00054" /><CodeLine lineNumber="54" lineLink="/docs/api/namespaces/llvm/offloading/#a7419ce8b8f6793fdec6d80b80d731b57aa0793e58f3eff2e957cb0f21c576bfa8"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/offloading/#a7419ce8b8f6793fdec6d80b80d731b57aa0793e58f3eff2e957cb0f21c576bfa8">OffloadGlobalManagedEntry</a> = 0x1,</span></CodeLine>
<Link id="l00055" /><CodeLine lineNumber="55"><span class="doxyHighlightComment">  /// Mark the entry as a surface variable.</span></CodeLine>
<Link id="l00056" /><CodeLine lineNumber="56" lineLink="/docs/api/namespaces/llvm/offloading/#a7419ce8b8f6793fdec6d80b80d731b57a19c883805ad6071c9922c23720d90676"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/offloading/#a7419ce8b8f6793fdec6d80b80d731b57a19c883805ad6071c9922c23720d90676">OffloadGlobalSurfaceEntry</a> = 0x2,</span></CodeLine>
<Link id="l00057" /><CodeLine lineNumber="57"><span class="doxyHighlightComment">  /// Mark the entry as a texture variable.</span></CodeLine>
<Link id="l00058" /><CodeLine lineNumber="58" lineLink="/docs/api/namespaces/llvm/offloading/#a7419ce8b8f6793fdec6d80b80d731b57a381cb6a73ee086038196fda5c4d0879a"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/offloading/#a7419ce8b8f6793fdec6d80b80d731b57a381cb6a73ee086038196fda5c4d0879a">OffloadGlobalTextureEntry</a> = 0x3,</span></CodeLine>
<Link id="l00059" /><CodeLine lineNumber="59"><span class="doxyHighlightComment">  /// Mark the entry as being extern.</span></CodeLine>
<Link id="l00060" /><CodeLine lineNumber="60" lineLink="/docs/api/namespaces/llvm/offloading/#a7419ce8b8f6793fdec6d80b80d731b57ac859aa67b07ccd5fba9df78343e14fed"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/offloading/#a7419ce8b8f6793fdec6d80b80d731b57ac859aa67b07ccd5fba9df78343e14fed">OffloadGlobalExtern</a> = 1 &lt;&lt; 3,</span></CodeLine>
<Link id="l00061" /><CodeLine lineNumber="61"><span class="doxyHighlightComment">  /// Mark the entry as being constant.</span></CodeLine>
<Link id="l00062" /><CodeLine lineNumber="62" lineLink="/docs/api/namespaces/llvm/offloading/#a7419ce8b8f6793fdec6d80b80d731b57af71523a48c2d983a6408fbe16cecab94"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/offloading/#a7419ce8b8f6793fdec6d80b80d731b57af71523a48c2d983a6408fbe16cecab94">OffloadGlobalConstant</a> = 1 &lt;&lt; 4,</span></CodeLine>
<Link id="l00063" /><CodeLine lineNumber="63"><span class="doxyHighlightComment">  /// Mark the entry as being a normalized surface.</span></CodeLine>
<Link id="l00064" /><CodeLine lineNumber="64" lineLink="/docs/api/namespaces/llvm/offloading/#a7419ce8b8f6793fdec6d80b80d731b57a8db334373b12649f212522b471a4efcc"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/offloading/#a7419ce8b8f6793fdec6d80b80d731b57a8db334373b12649f212522b471a4efcc">OffloadGlobalNormalized</a> = 1 &lt;&lt; 5,</span></CodeLine>
<Link id="l00065" /><CodeLine lineNumber="65"><span class="doxyHighlight">&#125;;</span></CodeLine>
<Link id="l00066" /><CodeLine lineNumber="66"></CodeLine>
<Link id="l00067" /><CodeLine lineNumber="67"><span class="doxyHighlightComment">/// Returns the type of the offloading entry we use to store kernels and</span></CodeLine>
<Link id="l00068" /><CodeLine lineNumber="68"><span class="doxyHighlightComment">/// globals that will be registered with the offloading runtime.</span></CodeLine>
<Link id="l00069" /><CodeLine lineNumber="69"><span class="doxyHighlight"><a href="/docs/api/classes/llvm/structtype">StructType</a> &#42;<a href="/docs/api/namespaces/llvm/offloading/#a6955657cb7867972e6b8f046e9cf5a02">getEntryTy</a>(<a href="/docs/api/classes/llvm/module">Module</a> &amp;M);</span></CodeLine>
<Link id="l00070" /><CodeLine lineNumber="70"></CodeLine>
<Link id="l00071" /><CodeLine lineNumber="71"><span class="doxyHighlightComment">/// Create an offloading section struct used to register this global at</span></CodeLine>
<Link id="l00072" /><CodeLine lineNumber="72"><span class="doxyHighlightComment">/// runtime.</span></CodeLine>
<Link id="l00073" /><CodeLine lineNumber="73"><span class="doxyHighlightComment">///</span></CodeLine>
<Link id="l00074" /><CodeLine lineNumber="74"><span class="doxyHighlightComment">/// \\param M The module to be used</span></CodeLine>
<Link id="l00075" /><CodeLine lineNumber="75"><span class="doxyHighlightComment">/// \\param Addr The pointer to the global being registered.</span></CodeLine>
<Link id="l00076" /><CodeLine lineNumber="76"><span class="doxyHighlightComment">/// \\param Kind The offloading language expected to consume this.</span></CodeLine>
<Link id="l00077" /><CodeLine lineNumber="77"><span class="doxyHighlightComment">/// \\param Name The symbol name associated with the global.</span></CodeLine>
<Link id="l00078" /><CodeLine lineNumber="78"><span class="doxyHighlightComment">/// \\param Size The size in bytes of the global (0 for functions).</span></CodeLine>
<Link id="l00079" /><CodeLine lineNumber="79"><span class="doxyHighlightComment">/// \\param Flags Flags associated with the entry.</span></CodeLine>
<Link id="l00080" /><CodeLine lineNumber="80"><span class="doxyHighlightComment">/// \\param Data Extra data storage associated with the entry.</span></CodeLine>
<Link id="l00081" /><CodeLine lineNumber="81"><span class="doxyHighlightComment">/// \\param SectionName The section this entry will be placed at.</span></CodeLine>
<Link id="l00082" /><CodeLine lineNumber="82"><span class="doxyHighlightComment">/// \\param AuxAddr An extra pointer if needed.</span></CodeLine>
<Link id="l00083" /><CodeLine lineNumber="83"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/offloading/#a4b79b6c874e2b55eb4dda2ae96867f84">emitOffloadingEntry</a>(<a href="/docs/api/classes/llvm/module">Module</a> &amp;M, <a href="/docs/api/namespaces/llvm/object/#a92b4561998310fbcfbeaeb7c449bad6a">object::OffloadKind</a> Kind, <a href="/docs/api/classes/llvm/constant">Constant</a> &#42;Addr,</span></CodeLine>
<Link id="l00084" /><CodeLine lineNumber="84"><span class="doxyHighlight">                         <a href="/docs/api/classes/llvm/stringref">StringRef</a> Name, uint64&#95;t <a href="/docs/api/files/lib/lib/analysis/inlineorder-cpp/#a7ee6f0cb51c3b9056199e9a0001fe8c3a6f6cb72d544962fa333e2e34ce64f719">Size</a>, uint32&#95;t Flags,</span></CodeLine>
<Link id="l00085" /><CodeLine lineNumber="85"><span class="doxyHighlight">                         uint64&#95;t <a href="/docs/api/namespaces/llvm/#aa20539e89704d20b98b97e9c3feac934">Data</a>, <a href="/docs/api/classes/llvm/stringref">StringRef</a> <a href="/docs/api/structs/llvm/sectionname">SectionName</a>,</span></CodeLine>
<Link id="l00086" /><CodeLine lineNumber="86"><span class="doxyHighlight">                         <a href="/docs/api/classes/llvm/constant">Constant</a> &#42;AuxAddr = </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l00087" /><CodeLine lineNumber="87"></CodeLine>
<Link id="l00088" /><CodeLine lineNumber="88"><span class="doxyHighlightComment">/// Create a constant struct initializer used to register this global at</span></CodeLine>
<Link id="l00089" /><CodeLine lineNumber="89"><span class="doxyHighlightComment">/// runtime.</span></CodeLine>
<Link id="l00090" /><CodeLine lineNumber="90"><span class="doxyHighlightComment">/// \\return the constant struct and the global variable holding the symbol name.</span></CodeLine>
<Link id="l00091" /><CodeLine lineNumber="91"><span class="doxyHighlight">std::pair&lt;Constant &#42;, GlobalVariable &#42;&gt;</span></CodeLine>
<Link id="l00092" /><CodeLine lineNumber="92"><span class="doxyHighlight"><a href="/docs/api/namespaces/llvm/offloading/#a68d20206b060ac3ad19f416ed5a4899b">getOffloadingEntryInitializer</a>(<a href="/docs/api/classes/llvm/module">Module</a> &amp;M, <a href="/docs/api/namespaces/llvm/object/#a92b4561998310fbcfbeaeb7c449bad6a">object::OffloadKind</a> Kind,</span></CodeLine>
<Link id="l00093" /><CodeLine lineNumber="93"><span class="doxyHighlight">                              <a href="/docs/api/classes/llvm/constant">Constant</a> &#42;Addr, <a href="/docs/api/classes/llvm/stringref">StringRef</a> Name, uint64&#95;t <a href="/docs/api/files/lib/lib/analysis/inlineorder-cpp/#a7ee6f0cb51c3b9056199e9a0001fe8c3a6f6cb72d544962fa333e2e34ce64f719">Size</a>,</span></CodeLine>
<Link id="l00094" /><CodeLine lineNumber="94"><span class="doxyHighlight">                              uint32&#95;t Flags, uint64&#95;t <a href="/docs/api/namespaces/llvm/#aa20539e89704d20b98b97e9c3feac934">Data</a>, <a href="/docs/api/classes/llvm/constant">Constant</a> &#42;AuxAddr);</span></CodeLine>
<Link id="l00095" /><CodeLine lineNumber="95"></CodeLine>
<Link id="l00096" /><CodeLine lineNumber="96"><span class="doxyHighlightComment">/// Creates a pair of globals used to iterate the array of offloading entries by</span></CodeLine>
<Link id="l00097" /><CodeLine lineNumber="97"><span class="doxyHighlightComment">/// accessing the section variables provided by the linker.</span></CodeLine>
<Link id="l00098" /><CodeLine lineNumber="98"><span class="doxyHighlight">std::pair&lt;GlobalVariable &#42;, GlobalVariable &#42;&gt;</span></CodeLine>
<Link id="l00099" /><CodeLine lineNumber="99"><span class="doxyHighlight"><a href="/docs/api/namespaces/llvm/offloading/#af023297673da795cc027d7aa8fd62817">getOffloadEntryArray</a>(<a href="/docs/api/classes/llvm/module">Module</a> &amp;M, <a href="/docs/api/classes/llvm/stringref">StringRef</a> <a href="/docs/api/structs/llvm/sectionname">SectionName</a>);</span></CodeLine>
<Link id="l00100" /><CodeLine lineNumber="100"></CodeLine>
<Link id="l00101" /><CodeLine lineNumber="101" lineLink="/docs/api/namespaces/llvm/offloading/amdgpu"><span class="doxyHighlightKeyword">namespace </span><span class="doxyHighlight"><a href="/docs/api/namespaces/llvm/offloading/amdgpu">amdgpu</a> &#123;</span></CodeLine>
<Link id="l00102" /><CodeLine lineNumber="102"><span class="doxyHighlightComment">/// Check if an image is compatible with current system&#39;s environment. The</span></CodeLine>
<Link id="l00103" /><CodeLine lineNumber="103"><span class="doxyHighlightComment">/// system environment is given as a &#39;target-id&#39; which has the form:</span></CodeLine>
<Link id="l00104" /><CodeLine lineNumber="104"><span class="doxyHighlightComment">///</span></CodeLine>
<Link id="l00105" /><CodeLine lineNumber="105"><span class="doxyHighlightComment">/// &lt;target-id&gt; := &lt;processor&gt; ( &quot;:&quot; &lt;target-feature&gt; ( &quot;+&quot; | &quot;-&quot; ) )&#42;</span></CodeLine>
<Link id="l00106" /><CodeLine lineNumber="106"><span class="doxyHighlightComment">///</span></CodeLine>
<Link id="l00107" /><CodeLine lineNumber="107"><span class="doxyHighlightComment">/// If a feature is not specific as &#39;+&#39; or &#39;-&#39; it is assumed to be in an &#39;any&#39;</span></CodeLine>
<Link id="l00108" /><CodeLine lineNumber="108"><span class="doxyHighlightComment">/// and is compatible with either &#39;+&#39; or &#39;-&#39;. The HSA runtime returns this</span></CodeLine>
<Link id="l00109" /><CodeLine lineNumber="109"><span class="doxyHighlightComment">/// information using the target-id, while we use the ELF header to determine</span></CodeLine>
<Link id="l00110" /><CodeLine lineNumber="110"><span class="doxyHighlightComment">/// these features.</span></CodeLine>
<Link id="l00111" /><CodeLine lineNumber="111"><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/offloading/amdgpu/#ad772ba5923d08e11379f06cc8c3c5e4d">isImageCompatibleWithEnv</a>(<a href="/docs/api/classes/llvm/stringref">StringRef</a> ImageArch, uint32&#95;t ImageFlags,</span></CodeLine>
<Link id="l00112" /><CodeLine lineNumber="112"><span class="doxyHighlight">                              <a href="/docs/api/classes/llvm/stringref">StringRef</a> EnvTargetID);</span></CodeLine>
<Link id="l00113" /><CodeLine lineNumber="113"></CodeLine>
<Link id="l00114" /><CodeLine lineNumber="114"><span class="doxyHighlightComment">/// Struct for holding metadata related to AMDGPU kernels, for more information</span></CodeLine>
<Link id="l00115" /><CodeLine lineNumber="115"><span class="doxyHighlightComment">/// about the metadata and its meaning see:</span></CodeLine>
<Link id="l00116" /><CodeLine lineNumber="116"><span class="doxyHighlightComment">/// https://llvm.org/docs/AMDGPUUsage.html#code-object-v3</span></CodeLine>
<Link id="l00117" /><CodeLine lineNumber="117" lineLink="/docs/api/structs/llvm/offloading/amdgpu/amdgpukernelmetadata"><span class="doxyHighlightKeyword">struct </span><span class="doxyHighlight"><a href="/docs/api/structs/llvm/offloading/amdgpu/amdgpukernelmetadata">AMDGPUKernelMetaData</a> &#123;</span></CodeLine>
<Link id="l00118" /><CodeLine lineNumber="118"><span class="doxyHighlightComment">  /// Constant indicating that a value is invalid.</span></CodeLine>
<Link id="l00119" /><CodeLine lineNumber="119" lineLink="/docs/api/structs/llvm/offloading/amdgpu/amdgpukernelmetadata/#a7d08b108e30269ecbdfc7efa0fa40cf1"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">constexpr</span><span class="doxyHighlight"> uint32&#95;t <a href="/docs/api/structs/llvm/offloading/amdgpu/amdgpukernelmetadata/#a7d08b108e30269ecbdfc7efa0fa40cf1">KInvalidValue</a> =</span></CodeLine>
<Link id="l00120" /><CodeLine lineNumber="120"><span class="doxyHighlight">      std::numeric&#95;limits&lt;uint32&#95;t&gt;::max();</span></CodeLine>
<Link id="l00121" /><CodeLine lineNumber="121"><span class="doxyHighlightComment">  /// The amount of group segment memory required by a work-group in bytes.</span></CodeLine>
<Link id="l00122" /><CodeLine lineNumber="122" lineLink="/docs/api/structs/llvm/offloading/amdgpu/amdgpukernelmetadata/#ab4dddba5a77aa0288b30ba73da07b0d8"><span class="doxyHighlight">  uint32&#95;t <a href="/docs/api/structs/llvm/offloading/amdgpu/amdgpukernelmetadata/#ab4dddba5a77aa0288b30ba73da07b0d8">GroupSegmentList</a> = <a href="/docs/api/structs/llvm/offloading/amdgpu/amdgpukernelmetadata/#a7d08b108e30269ecbdfc7efa0fa40cf1">KInvalidValue</a>;</span></CodeLine>
<Link id="l00123" /><CodeLine lineNumber="123"><span class="doxyHighlightComment">  /// The amount of fixed private address space memory required for a work-item</span></CodeLine>
<Link id="l00124" /><CodeLine lineNumber="124"><span class="doxyHighlightComment">  /// in bytes.</span></CodeLine>
<Link id="l00125" /><CodeLine lineNumber="125" lineLink="/docs/api/structs/llvm/offloading/amdgpu/amdgpukernelmetadata/#a92b954a932db85e428c5090ee969d02b"><span class="doxyHighlight">  uint32&#95;t <a href="/docs/api/structs/llvm/offloading/amdgpu/amdgpukernelmetadata/#a92b954a932db85e428c5090ee969d02b">PrivateSegmentSize</a> = <a href="/docs/api/structs/llvm/offloading/amdgpu/amdgpukernelmetadata/#a7d08b108e30269ecbdfc7efa0fa40cf1">KInvalidValue</a>;</span></CodeLine>
<Link id="l00126" /><CodeLine lineNumber="126"><span class="doxyHighlightComment">  /// Number of scalar registers required by a wavefront.</span></CodeLine>
<Link id="l00127" /><CodeLine lineNumber="127" lineLink="/docs/api/structs/llvm/offloading/amdgpu/amdgpukernelmetadata/#a22fedc9a61b9a86a32c88ad9526a1e91"><span class="doxyHighlight">  uint32&#95;t <a href="/docs/api/structs/llvm/offloading/amdgpu/amdgpukernelmetadata/#a22fedc9a61b9a86a32c88ad9526a1e91">SGPRCount</a> = <a href="/docs/api/structs/llvm/offloading/amdgpu/amdgpukernelmetadata/#a7d08b108e30269ecbdfc7efa0fa40cf1">KInvalidValue</a>;</span></CodeLine>
<Link id="l00128" /><CodeLine lineNumber="128"><span class="doxyHighlightComment">  /// Number of vector registers required by each work-item.</span></CodeLine>
<Link id="l00129" /><CodeLine lineNumber="129" lineLink="/docs/api/structs/llvm/offloading/amdgpu/amdgpukernelmetadata/#a87fa4b4f2eb3d72aad1081a640e84259"><span class="doxyHighlight">  uint32&#95;t <a href="/docs/api/structs/llvm/offloading/amdgpu/amdgpukernelmetadata/#a87fa4b4f2eb3d72aad1081a640e84259">VGPRCount</a> = <a href="/docs/api/structs/llvm/offloading/amdgpu/amdgpukernelmetadata/#a7d08b108e30269ecbdfc7efa0fa40cf1">KInvalidValue</a>;</span></CodeLine>
<Link id="l00130" /><CodeLine lineNumber="130"><span class="doxyHighlightComment">  /// Number of stores from a scalar register to a register allocator created</span></CodeLine>
<Link id="l00131" /><CodeLine lineNumber="131"><span class="doxyHighlightComment">  /// spill location.</span></CodeLine>
<Link id="l00132" /><CodeLine lineNumber="132" lineLink="/docs/api/structs/llvm/offloading/amdgpu/amdgpukernelmetadata/#a03ea896dc71f8a145600d0cee4c92465"><span class="doxyHighlight">  uint32&#95;t <a href="/docs/api/structs/llvm/offloading/amdgpu/amdgpukernelmetadata/#a03ea896dc71f8a145600d0cee4c92465">SGPRSpillCount</a> = <a href="/docs/api/structs/llvm/offloading/amdgpu/amdgpukernelmetadata/#a7d08b108e30269ecbdfc7efa0fa40cf1">KInvalidValue</a>;</span></CodeLine>
<Link id="l00133" /><CodeLine lineNumber="133"><span class="doxyHighlightComment">  /// Number of stores from a vector register to a register allocator created</span></CodeLine>
<Link id="l00134" /><CodeLine lineNumber="134"><span class="doxyHighlightComment">  /// spill location.</span></CodeLine>
<Link id="l00135" /><CodeLine lineNumber="135" lineLink="/docs/api/structs/llvm/offloading/amdgpu/amdgpukernelmetadata/#a7daeeb1754518cd3f537cae01e7f7ab7"><span class="doxyHighlight">  uint32&#95;t <a href="/docs/api/structs/llvm/offloading/amdgpu/amdgpukernelmetadata/#a7daeeb1754518cd3f537cae01e7f7ab7">VGPRSpillCount</a> = <a href="/docs/api/structs/llvm/offloading/amdgpu/amdgpukernelmetadata/#a7d08b108e30269ecbdfc7efa0fa40cf1">KInvalidValue</a>;</span></CodeLine>
<Link id="l00136" /><CodeLine lineNumber="136"><span class="doxyHighlightComment">  /// Number of accumulator registers required by each work-item.</span></CodeLine>
<Link id="l00137" /><CodeLine lineNumber="137" lineLink="/docs/api/structs/llvm/offloading/amdgpu/amdgpukernelmetadata/#ad507fb56a5d5ddc973d185b83f9ece69"><span class="doxyHighlight">  uint32&#95;t <a href="/docs/api/structs/llvm/offloading/amdgpu/amdgpukernelmetadata/#ad507fb56a5d5ddc973d185b83f9ece69">AGPRCount</a> = <a href="/docs/api/structs/llvm/offloading/amdgpu/amdgpukernelmetadata/#a7d08b108e30269ecbdfc7efa0fa40cf1">KInvalidValue</a>;</span></CodeLine>
<Link id="l00138" /><CodeLine lineNumber="138"><span class="doxyHighlightComment">  /// Corresponds to the OpenCL reqd&#95;work&#95;group&#95;size attribute.</span></CodeLine>
<Link id="l00139" /><CodeLine lineNumber="139" lineLink="/docs/api/structs/llvm/offloading/amdgpu/amdgpukernelmetadata/#af45270b1f404c0b6ec7abca5b7e2d031"><span class="doxyHighlight">  uint32&#95;t <a href="/docs/api/structs/llvm/offloading/amdgpu/amdgpukernelmetadata/#af45270b1f404c0b6ec7abca5b7e2d031">RequestedWorkgroupSize</a>&#91;3&#93; = &#123;<a href="/docs/api/structs/llvm/offloading/amdgpu/amdgpukernelmetadata/#a7d08b108e30269ecbdfc7efa0fa40cf1">KInvalidValue</a>, <a href="/docs/api/structs/llvm/offloading/amdgpu/amdgpukernelmetadata/#a7d08b108e30269ecbdfc7efa0fa40cf1">KInvalidValue</a>,</span></CodeLine>
<Link id="l00140" /><CodeLine lineNumber="140"><span class="doxyHighlight">                                        <a href="/docs/api/structs/llvm/offloading/amdgpu/amdgpukernelmetadata/#a7d08b108e30269ecbdfc7efa0fa40cf1">KInvalidValue</a>&#125;;</span></CodeLine>
<Link id="l00141" /><CodeLine lineNumber="141"><span class="doxyHighlightComment">  /// Corresponds to the OpenCL work&#95;group&#95;size&#95;hint attribute.</span></CodeLine>
<Link id="l00142" /><CodeLine lineNumber="142" lineLink="/docs/api/structs/llvm/offloading/amdgpu/amdgpukernelmetadata/#ac2a82e0213fe9f6b489c17c35ef928de"><span class="doxyHighlight">  uint32&#95;t <a href="/docs/api/structs/llvm/offloading/amdgpu/amdgpukernelmetadata/#ac2a82e0213fe9f6b489c17c35ef928de">WorkgroupSizeHint</a>&#91;3&#93; = &#123;<a href="/docs/api/structs/llvm/offloading/amdgpu/amdgpukernelmetadata/#a7d08b108e30269ecbdfc7efa0fa40cf1">KInvalidValue</a>, <a href="/docs/api/structs/llvm/offloading/amdgpu/amdgpukernelmetadata/#a7d08b108e30269ecbdfc7efa0fa40cf1">KInvalidValue</a>, <a href="/docs/api/structs/llvm/offloading/amdgpu/amdgpukernelmetadata/#a7d08b108e30269ecbdfc7efa0fa40cf1">KInvalidValue</a>&#125;;</span></CodeLine>
<Link id="l00143" /><CodeLine lineNumber="143"><span class="doxyHighlightComment">  /// Wavefront size.</span></CodeLine>
<Link id="l00144" /><CodeLine lineNumber="144" lineLink="/docs/api/structs/llvm/offloading/amdgpu/amdgpukernelmetadata/#a11d65149cfec2b81c85bf969ff3fd29b"><span class="doxyHighlight">  uint32&#95;t <a href="/docs/api/structs/llvm/offloading/amdgpu/amdgpukernelmetadata/#a11d65149cfec2b81c85bf969ff3fd29b">WavefrontSize</a> = <a href="/docs/api/structs/llvm/offloading/amdgpu/amdgpukernelmetadata/#a7d08b108e30269ecbdfc7efa0fa40cf1">KInvalidValue</a>;</span></CodeLine>
<Link id="l00145" /><CodeLine lineNumber="145"><span class="doxyHighlightComment">  /// Maximum flat work-group size supported by the kernel in work-items.</span></CodeLine>
<Link id="l00146" /><CodeLine lineNumber="146" lineLink="/docs/api/structs/llvm/offloading/amdgpu/amdgpukernelmetadata/#abcb411d5d269b9d91f9426828ff7050d"><span class="doxyHighlight">  uint32&#95;t <a href="/docs/api/structs/llvm/offloading/amdgpu/amdgpukernelmetadata/#abcb411d5d269b9d91f9426828ff7050d">MaxFlatWorkgroupSize</a> = <a href="/docs/api/structs/llvm/offloading/amdgpu/amdgpukernelmetadata/#a7d08b108e30269ecbdfc7efa0fa40cf1">KInvalidValue</a>;</span></CodeLine>
<Link id="l00147" /><CodeLine lineNumber="147"><span class="doxyHighlight">&#125;;</span></CodeLine>
<Link id="l00148" /><CodeLine lineNumber="148"></CodeLine>
<Link id="l00149" /><CodeLine lineNumber="149"><span class="doxyHighlightComment">/// Reads AMDGPU specific metadata from the ELF file and propagates the</span></CodeLine>
<Link id="l00150" /><CodeLine lineNumber="150"><span class="doxyHighlightComment">/// KernelInfoMap.</span></CodeLine>
<Link id="l00151" /><CodeLine lineNumber="151"><span class="doxyHighlight"><a href="/docs/api/classes/llvm/error">Error</a> <a href="/docs/api/namespaces/llvm/offloading/amdgpu/#a658b1211d163ef9492d062d29de98201">getAMDGPUMetaDataFromImage</a>(<a href="/docs/api/classes/llvm/memorybufferref">MemoryBufferRef</a> MemBuffer,</span></CodeLine>
<Link id="l00152" /><CodeLine lineNumber="152"><span class="doxyHighlight">                                 <a href="/docs/api/classes/llvm/stringmap">StringMap&lt;AMDGPUKernelMetaData&gt;</a> &amp;KernelInfoMap,</span></CodeLine>
<Link id="l00153" /><CodeLine lineNumber="153"><span class="doxyHighlight">                                 uint16&#95;t &amp;ELFABIVersion);</span></CodeLine>
<Link id="l00154" /><CodeLine lineNumber="154"><span class="doxyHighlight">&#125; </span><span class="doxyHighlightComment">// namespace amdgpu</span></CodeLine>
<Link id="l00155" /><CodeLine lineNumber="155"><span class="doxyHighlight">&#125; </span><span class="doxyHighlightComment">// namespace offloading</span></CodeLine>
<Link id="l00156" /><CodeLine lineNumber="156"><span class="doxyHighlight">&#125; </span><span class="doxyHighlightComment">// namespace llvm</span></CodeLine>
<Link id="l00157" /><CodeLine lineNumber="157"></CodeLine>
<Link id="l00158" /><CodeLine lineNumber="158"><span class="doxyHighlightPreprocessor">#endif </span><span class="doxyHighlightComment">// LLVM&#95;FRONTEND&#95;OFFLOADING&#95;UTILITY&#95;H</span></CodeLine>

</ProgramListing>


</DoxygenPage>
