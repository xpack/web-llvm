---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - file

---

import Link from '@docusaurus/Link'

import CodeLine from '@xpack/docusaurus-plugin-doxygen/components/CodeLine'
import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import ProgramListing from '@xpack/docusaurus-plugin-doxygen/components/ProgramListing'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'
import SectionUser from '@xpack/docusaurus-plugin-doxygen/components/SectionUser'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `SelectionDAGBuilder.cpp` File Reference

<DoxygenPage pluginConfig={pluginConfig}>



## Included Headers

<IncludesList>
<IncludesListItem
  filePath="SelectionDAGBuilder.h"
  permalink="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-h"
  isLocal="true" />
<IncludesListItem
  filePath="SDNodeDbgValue.h"
  permalink="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/sdnodedbgvalue-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/ADT/APFloat.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/adt/apfloat-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/ADT/APInt.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/adt/apint-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/ADT/BitVector.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/adt/bitvector-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/ADT/STLExtras.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/adt/stlextras-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/ADT/SmallPtrSet.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/adt/smallptrset-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/ADT/SmallSet.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/adt/smallset-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/ADT/StringRef.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/adt/stringref-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/ADT/Twine.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/adt/twine-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/Analysis/AliasAnalysis.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/analysis/aliasanalysis-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/Analysis/BranchProbabilityInfo.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/Analysis/ConstantFolding.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/analysis/constantfolding-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/Analysis/Loads.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/analysis/loads-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/Analysis/MemoryLocation.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/analysis/memorylocation-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/Analysis/TargetLibraryInfo.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/analysis/targetlibraryinfo-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/Analysis/TargetTransformInfo.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/analysis/targettransforminfo-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/Analysis/ValueTracking.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/analysis/valuetracking-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/Analysis/VectorUtils.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/analysis/vectorutils-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/CodeGen/Analysis.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/codegen/analysis-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/CodeGen/AssignmentTrackingAnalysis.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/codegen/assignmenttrackinganalysis-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/CodeGen/CodeGenCommonISel.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/codegen/codegencommonisel-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/CodeGen/FunctionLoweringInfo.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/codegen/functionloweringinfo-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/CodeGen/GCMetadata.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/codegen/gcmetadata-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/CodeGen/ISDOpcodes.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/codegen/isdopcodes-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/CodeGen/MachineBasicBlock.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/codegen/machinebasicblock-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/CodeGen/MachineFrameInfo.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/codegen/machineframeinfo-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/CodeGen/MachineFunction.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/codegen/machinefunction-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/CodeGen/MachineInstrBuilder.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/codegen/machineinstrbuilder-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/CodeGen/MachineInstrBundleIterator.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/codegen/machineinstrbundleiterator-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/CodeGen/MachineMemOperand.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/codegen/machinememoperand-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/CodeGen/MachineModuleInfo.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/codegen/machinemoduleinfo-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/CodeGen/MachineOperand.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/codegen/machineoperand-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/CodeGen/MachineRegisterInfo.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/codegen/machineregisterinfo-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/CodeGen/SelectionDAG.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/codegen/selectiondag-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/CodeGen/SelectionDAGTargetInfo.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/codegen/selectiondagtargetinfo-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/CodeGen/StackMaps.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/CodeGen/SwiftErrorValueTracking.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/codegen/swifterrorvaluetracking-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/CodeGen/TargetFrameLowering.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/codegen/targetframelowering-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/CodeGen/TargetInstrInfo.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/codegen/targetinstrinfo-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/CodeGen/TargetOpcodes.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/codegen/targetopcodes-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/CodeGen/TargetRegisterInfo.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/codegen/targetregisterinfo-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/CodeGen/TargetSubtargetInfo.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/codegen/targetsubtargetinfo-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/CodeGen/WinEHFuncInfo.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/codegen/winehfuncinfo-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/IR/Argument.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/ir/argument-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/IR/Attributes.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/ir/attributes-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/IR/BasicBlock.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/ir/basicblock-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/IR/CFG.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/ir/cfg-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/IR/CallingConv.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/ir/callingconv-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/IR/Constant.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/ir/constant-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/IR/ConstantRange.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/ir/constantrange-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/IR/Constants.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/ir/constants-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/IR/DataLayout.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/ir/datalayout-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/IR/DebugInfo.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/ir/debuginfo-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/IR/DebugInfoMetadata.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/ir/debuginfometadata-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/IR/DerivedTypes.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/ir/derivedtypes-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/IR/DiagnosticInfo.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/ir/diagnosticinfo-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/IR/EHPersonalities.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/ir/ehpersonalities-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/IR/Function.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/ir/function-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/IR/GetElementPtrTypeIterator.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/ir/getelementptrtypeiterator-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/IR/InlineAsm.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/ir/inlineasm-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/IR/InstrTypes.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/ir/instrtypes-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/IR/Instructions.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/ir/instructions-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/IR/IntrinsicInst.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/ir/intrinsicinst-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/IR/Intrinsics.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/ir/intrinsics-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/IR/IntrinsicsAArch64.h"
  permalink=""
  isLocal="true" />
<IncludesListItem
  filePath="llvm/IR/IntrinsicsAMDGPU.h"
  permalink=""
  isLocal="true" />
<IncludesListItem
  filePath="llvm/IR/IntrinsicsWebAssembly.h"
  permalink=""
  isLocal="true" />
<IncludesListItem
  filePath="llvm/IR/LLVMContext.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/ir/llvmcontext-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/IR/MemoryModelRelaxationAnnotations.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/ir/memorymodelrelaxationannotations-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/IR/Metadata.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/ir/metadata-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/IR/Module.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/ir/module-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/IR/Operator.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/ir/operator-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/IR/PatternMatch.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/ir/patternmatch-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/IR/Statepoint.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/ir/statepoint-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/IR/Type.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/ir/type-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/IR/User.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/ir/user-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/IR/Value.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/ir/value-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/MC/MCContext.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/mc/mccontext-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/Support/AtomicOrdering.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/support/atomicordering-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/Support/Casting.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/support/casting-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/Support/CommandLine.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/support/commandline-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/Support/Compiler.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/support/compiler-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/Support/Debug.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/support/debug-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/Support/InstructionCost.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/support/instructioncost-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/Support/MathExtras.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/support/mathextras-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/Support/raw_ostream.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/support/raw-ostream-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/Target/TargetIntrinsicInfo.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/target/targetintrinsicinfo-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/Target/TargetMachine.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/target/targetmachine-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/Target/TargetOptions.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/target/targetoptions-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/TargetParser/Triple.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/targetparser/triple-h"
  isLocal="true" />
<IncludesListItem
  filePath="llvm/Transforms/Utils/Local.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/local-h"
  isLocal="true" />
<IncludesListItem
  filePath="cstddef"
  permalink=""
  isLocal="false" />
<IncludesListItem
  filePath="limits"
  permalink=""
  isLocal="false" />
<IncludesListItem
  filePath="optional"
  permalink=""
  isLocal="false" />
<IncludesListItem
  filePath="tuple"
  permalink=""
  isLocal="false" />
<IncludesListItem
  filePath="llvm/IR/Instruction.def"
  permalink=""
  isLocal="true" />
<IncludesListItem
  filePath="llvm/IR/ConstrainedOps.def"
  permalink=""
  isLocal="true" />
<IncludesListItem
  filePath="llvm/IR/VPIntrinsics.def"
  permalink=""
  isLocal="true" />
<IncludesListItem
  filePath="llvm/CodeGen/SelectionDAGISel.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/codegen/selectiondagisel-h"
  isLocal="true" />
</IncludesList>

## Namespaces Index

<MembersIndex>

<MembersIndexItem
  type="namespace"
  name={<><a href="/docs/api/namespaces/anonymous-selectiondagbuilder-cpp-">anonymous&#123;SelectionDAGBuilder.cpp&#125;</a></>}>
</MembersIndexItem>

</MembersIndex>

## Classes Index

<MembersIndex>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/anonymous-namespace-selectiondagbuilder-cpp-/sdiselasmoperandinfo">SDISelAsmOperandInfo</a></>}>
AsmOperandInfo - This contains information for each constraint that we are lowering. <a href="/docs/api/classes/anonymous-namespace-selectiondagbuilder-cpp-/sdiselasmoperandinfo/#details">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/anonymous-namespace-selectiondagbuilder-cpp-/extraflags">ExtraFlags</a></>}>
</MembersIndexItem>

</MembersIndex>

## Typedefs Index

<MembersIndex>

<MembersIndexItem
  type="using"
  name={<><a href="#a7963e46427251f855f76bfce3b167492">ArgCopyElisionMapTy</a> = <a href="/docs/api/classes/llvm/densemap">DenseMap</a>&lt; <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/argument">Argument</a> &#42;, std::pair&lt; <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/allocainst">AllocaInst</a> &#42;, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/storeinst">StoreInst</a> &#42; &gt; &gt;</>}>
</MembersIndexItem>

</MembersIndex>

## Functions Index

<MembersIndex>

<MembersIndexItem
  type="void"
  name={<><a href="#a21f33b0949c9004250a9978f1a5d3b3d">addStackMapLiveVars</a> (const CallBase &amp;Call, unsigned StartIdx, const SDLoc &amp;DL, SmallVectorImpl&lt; SDValue &gt; &amp;Ops, SelectionDAGBuilder &amp;Builder)</>}>
Add a stack map intrinsic call&#39;s live variable operands to a stackmap or patchpoint target node&#39;s operand list. <a href="#a21f33b0949c9004250a9978f1a5d3b3d">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a9e90083bd35fdc6271e1c0060a6290d5">collectInstructionDeps</a> (SmallMapVector&lt; const Instruction &#42;, bool, 8 &gt; &#42;Deps, const Value &#42;V, SmallMapVector&lt; const Instruction &#42;, bool, 8 &gt; &#42;Necessary=nullptr, unsigned Depth=0)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a99fbe93d6d2539d12a7a9b40d04d7fec">diagnosePossiblyInvalidConstraint</a> (LLVMContext &amp;Ctx, const Value &#42;V, const Twine &amp;ErrMsg)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/sdvalue">SDValue</a></>}
  name={<><a href="#a69f0725f2fda3046317ef070e37e06ec">expandDivFix</a> (unsigned Opcode, const SDLoc &amp;DL, SDValue LHS, SDValue RHS, SDValue Scale, SelectionDAG &amp;DAG, const TargetLowering &amp;TLI)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/sdvalue">SDValue</a></>}
  name={<><a href="#ad9fad588c8d87711124a9319e4b69d56">expandExp</a> (const SDLoc &amp;dl, SDValue Op, SelectionDAG &amp;DAG, const TargetLowering &amp;TLI, SDNodeFlags Flags)</>}>
expandExp - Lower an exp intrinsic. <a href="#ad9fad588c8d87711124a9319e4b69d56">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/sdvalue">SDValue</a></>}
  name={<><a href="#a653e44824f5869e54a3f5848f06fdb19">expandExp2</a> (const SDLoc &amp;dl, SDValue Op, SelectionDAG &amp;DAG, const TargetLowering &amp;TLI, SDNodeFlags Flags)</>}>
expandExp2 - Lower an exp2 intrinsic. <a href="#a653e44824f5869e54a3f5848f06fdb19">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/sdvalue">SDValue</a></>}
  name={<><a href="#ac8914654eb596e0910566feb6860b0d9">expandLog</a> (const SDLoc &amp;dl, SDValue Op, SelectionDAG &amp;DAG, const TargetLowering &amp;TLI, SDNodeFlags Flags)</>}>
expandLog - Lower a log intrinsic. <a href="#ac8914654eb596e0910566feb6860b0d9">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/sdvalue">SDValue</a></>}
  name={<><a href="#a72303a46d52d32f357c782765ac9797b">expandLog10</a> (const SDLoc &amp;dl, SDValue Op, SelectionDAG &amp;DAG, const TargetLowering &amp;TLI, SDNodeFlags Flags)</>}>
expandLog10 - Lower a log10 intrinsic. <a href="#a72303a46d52d32f357c782765ac9797b">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/sdvalue">SDValue</a></>}
  name={<><a href="#a93033474cad7c650f5f5f424d9fa951b">expandLog2</a> (const SDLoc &amp;dl, SDValue Op, SelectionDAG &amp;DAG, const TargetLowering &amp;TLI, SDNodeFlags Flags)</>}>
expandLog2 - Lower a log2 intrinsic. <a href="#a93033474cad7c650f5f5f424d9fa951b">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/sdvalue">SDValue</a></>}
  name={<><a href="#a3308e71b8586ecd7e993926a7883fb70">expandPow</a> (const SDLoc &amp;dl, SDValue LHS, SDValue RHS, SelectionDAG &amp;DAG, const TargetLowering &amp;TLI, SDNodeFlags Flags)</>}>
visitPow - Lower a pow intrinsic. <a href="#a3308e71b8586ecd7e993926a7883fb70">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/sdvalue">SDValue</a></>}
  name={<><a href="#ac2cca597e5865d3b7f5bb8c64617754c">ExpandPowI</a> (const SDLoc &amp;DL, SDValue LHS, SDValue RHS, SelectionDAG &amp;DAG)</>}>
ExpandPowI - Expand a llvm.powi intrinsic. <a href="#ac2cca597e5865d3b7f5bb8c64617754c">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#aa469012eee439764e752d32b1a557821">findArgumentCopyElisionCandidates</a> (const DataLayout &amp;DL, FunctionLoweringInfo &#42;FuncInfo, ArgCopyElisionMapTy &amp;ArgCopyElisionCandidates)</>}>
Scan the entry block of the function in FuncInfo for arguments that look like copies into a local alloca. <a href="#aa469012eee439764e752d32b1a557821">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="unsigned"
  name={<><a href="#a56df539ec704429b22fbfbe90cb7941e">findMatchingInlineAsmOperand</a> (unsigned OperandNo, const std::vector&lt; SDValue &gt; &amp;AsmNodeOperands)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/callbase">CallBase</a> &#42;</>}
  name={<><a href="#a41caa0b8eaefb07b7f8fcf19b05bb249">FindPreallocatedCall</a> (const Value &#42;PreallocatedSetup)</>}>
Given a @llvm.call.preallocated.setup, return the corresponding preallocated call. <a href="#a41caa0b8eaefb07b7f8fcf19b05bb249">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a6289e8af46c9783382b346baa020087c">findUnwindDestinations</a> (FunctionLoweringInfo &amp;FuncInfo, const BasicBlock &#42;EHPadBB, BranchProbability Prob, SmallVectorImpl&lt; std::pair&lt; MachineBasicBlock &#42;, BranchProbability &gt; &gt; &amp;UnwindDests)</>}>
When an invoke or a cleanupret unwinds to the next EH pad, there are many places it could ultimately go. <a href="#a6289e8af46c9783382b346baa020087c">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#ac48ad402cb64f4c6bd6bb7158013a7be">findWasmUnwindDestinations</a> (FunctionLoweringInfo &amp;FuncInfo, const BasicBlock &#42;EHPadBB, BranchProbability Prob, SmallVectorImpl&lt; std::pair&lt; MachineBasicBlock &#42;, BranchProbability &gt; &gt; &amp;UnwindDests)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="unsigned"
  name={<><a href="#a63028feee73aad21b5ad015b0ceb9de1">FixedPointIntrinsicToOpcode</a> (unsigned Intrinsic)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/register">Register</a></>}
  name={<><a href="#ac0ce44d8c76d29835fb8f68dd8b88742">FollowCopyChain</a> (MachineRegisterInfo &amp;MRI, Register Reg)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/sdvalue">SDValue</a></>}
  name={<><a href="#a94b8d8925deffd735f51d36b77d3f9ca">getAddressForMemoryInput</a> (SDValue Chain, const SDLoc &amp;Location, SDISelAsmOperandInfo &amp;OpInfo, SelectionDAG &amp;DAG)</>}>
Get a direct memory input to behave well as an indirect operand. <a href="#a94b8d8925deffd735f51d36b77d3f9ca">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/sdvalue">SDValue</a></>}
  name={<><a href="#acb8cf9e50c3979193572ea36f327d0a4">getCopyFromParts</a> (SelectionDAG &amp;DAG, const SDLoc &amp;DL, const SDValue &#42;Parts, unsigned NumParts, MVT PartVT, EVT ValueVT, const Value &#42;V, SDValue InChain, std::optional&lt; CallingConv::ID &gt; CC=std::nullopt, std::optional&lt; ISD::NodeType &gt; AssertOp=std::nullopt)</>}>
getCopyFromParts - Create a value that contains the specified legal parts combined into the value they represent. <a href="#acb8cf9e50c3979193572ea36f327d0a4">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/sdvalue">SDValue</a></>}
  name={<><a href="#af47fbc357d61496b2ec06c60c79f6400">getCopyFromPartsVector</a> (SelectionDAG &amp;DAG, const SDLoc &amp;DL, const SDValue &#42;Parts, unsigned NumParts, MVT PartVT, EVT ValueVT, const Value &#42;V, SDValue InChain, std::optional&lt; CallingConv::ID &gt; CallConv)</>}>
getCopyFromPartsVector - Create a value that contains the specified legal parts combined into the value they represent. <a href="#af47fbc357d61496b2ec06c60c79f6400">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a8910923e28ba24c5abedb60c66c86cc5">getCopyToParts</a> (SelectionDAG &amp;DAG, const SDLoc &amp;DL, SDValue Val, SDValue &#42;Parts, unsigned NumParts, MVT PartVT, const Value &#42;V, std::optional&lt; CallingConv::ID &gt; CallConv=std::nullopt, ISD::NodeType ExtendKind=ISD::ANY&#95;EXTEND)</>}>
getCopyToParts - Create a series of nodes that contain the specified value split into legal parts. <a href="#a8910923e28ba24c5abedb60c66c86cc5">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a7e79d5a868530c399fc615b99b3f02ab">getCopyToPartsVector</a> (SelectionDAG &amp;DAG, const SDLoc &amp;DL, SDValue Val, SDValue &#42;Parts, unsigned NumParts, MVT PartVT, const Value &#42;V, std::optional&lt; CallingConv::ID &gt; CallConv)</>}>
getCopyToPartsVector - Create a series of nodes that contain the specified value split into legal parts. <a href="#a7e79d5a868530c399fc615b99b3f02ab">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/sdvalue">SDValue</a></>}
  name={<><a href="#aa70f724269a63b67e0858c8919f7a9cd">GetExponent</a> (SelectionDAG &amp;DAG, SDValue Op, const TargetLowering &amp;TLI, const SDLoc &amp;dl)</>}>
GetExponent - Get the exponent: <a href="#aa70f724269a63b67e0858c8919f7a9cd">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/sdvalue">SDValue</a></>}
  name={<><a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a> (SelectionDAG &amp;DAG, unsigned Flt, const SDLoc &amp;dl)</>}>
getF32Constant - Get 32-bit floating point constant. <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="unsigned"
  name={<><a href="#a4d180adab34368b65e2a43f64c7de814">getISDForVPIntrinsic</a> (const VPIntrinsic &amp;VPIntrin)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/sdvalue">SDValue</a></>}
  name={<><a href="#acef0e53db4a5bc578fc3da0089dc0519">getLimitedPrecisionExp2</a> (SDValue t0, const SDLoc &amp;dl, SelectionDAG &amp;DAG)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/sdvalue">SDValue</a></>}
  name={<><a href="#a0f49cd7f0f28bd9b7aaed4b5a0df02d6">getLoadStackGuard</a> (SelectionDAG &amp;DAG, const SDLoc &amp;DL, SDValue &amp;Chain)</>}>
Create a LOAD&#95;STACK&#95;GUARD node, and let it carry the target specific global variable if there exists one. <a href="#a0f49cd7f0f28bd9b7aaed4b5a0df02d6">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/sdvalue">SDValue</a></>}
  name={<><a href="#a8eaaa1b4edc9934bfea0469269f3d869">getMemCmpLoad</a> (const Value &#42;PtrVal, MVT LoadVT, SelectionDAGBuilder &amp;Builder)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::optional&lt; <a href="/docs/api/classes/llvm/constantrange">ConstantRange</a> &gt;</>}
  name={<><a href="#adf84d8fd2fcc4b918cb861c9836122c6">getRange</a> (const Instruction &amp;I)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/mdnode">MDNode</a> &#42;</>}
  name={<><a href="#ae1b80d5114dd1a73aacd01971f29d5ee">getRangeMetadata</a> (const Instruction &amp;I)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::optional&lt; unsigned &gt;</>}
  name={<><a href="#aa2b5a0a0f6bf1b5480337a01257df8b6">getRegistersForValue</a> (SelectionDAG &amp;DAG, const SDLoc &amp;DL, SDISelAsmOperandInfo &amp;OpInfo, SDISelAsmOperandInfo &amp;RefOpInfo)</>}>
GetRegistersForValue - Assign registers (virtual or physical) for the specified operand. <a href="#aa2b5a0a0f6bf1b5480337a01257df8b6">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="AttributeList"
  name={<><a href="#a3c16ae9b6c38652cd59f72eeecc4e176">getReturnAttrs</a> (TargetLowering::CallLoweringInfo &amp;CLI)</>}>
Returns an AttributeList representing the attributes applied to the return value of the given call. <a href="#a3c16ae9b6c38652cd59f72eeecc4e176">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/sdvalue">SDValue</a></>}
  name={<><a href="#ad76e8a405ea9556685c854198b0b2488">GetSignificand</a> (SelectionDAG &amp;DAG, SDValue Op, const SDLoc &amp;dl)</>}>
GetSignificand - Get the significand and build it into a floating-point number with exponent of 1: <a href="#ad76e8a405ea9556685c854198b0b2488">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a7f9cdc800dea62835ecb6014346a0bcd">getUnderlyingArgRegs</a> (SmallVectorImpl&lt; std::pair&lt; Register, TypeSize &gt; &gt; &amp;Regs, const SDValue &amp;N)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a3e8b055fdb7e07479b83d69c15211d54">getUniformBase</a> (const Value &#42;Ptr, SDValue &amp;Base, SDValue &amp;Index, ISD::MemIndexType &amp;IndexType, SDValue &amp;Scale, SelectionDAGBuilder &#42;SDB, const BasicBlock &#42;CurBB, uint64&#95;t ElemSize)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a4e84a47e3ca9c1684a752533e2881cd7">handleDanglingVariadicDebugInfo</a> (SelectionDAG &amp;DAG, DILocalVariable &#42;Variable, DebugLoc DL, unsigned Order, SmallVectorImpl&lt; Value &#42; &gt; &amp;Values, DIExpression &#42;Expression)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a0be0474aded73a7b9b444c883f3bb760">hasOnlySelectUsers</a> (const Value &#42;Cond)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#afcd7ba772e220bcd0907ee2f1aa61323">InBlock</a> (const Value &#42;V, const BasicBlock &#42;BB)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#aa5423d2fba2a995d71e3294b14a19bbc">isFunction</a> (SDValue Op)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a97acf4298b4ca1010c06af4741609a89">isOnlyUsedInEntryBlock</a> (const Argument &#42;A, bool FastISel)</>}>
isOnlyUsedInEntryBlock - If the specified argument is only used in the entry block, return true. <a href="#a97acf4298b4ca1010c06af4741609a89">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a5ec1b0ffb0fbbbc5d74381b0b1d38ae1">patchMatchingInput</a> (const SDISelAsmOperandInfo &amp;OpInfo, SDISelAsmOperandInfo &amp;MatchingOpInfo, SelectionDAG &amp;DAG)</>}>
Make sure that the output operand <code>OpInfo</code> and its corresponding input operand <code>MatchingOpInfo</code> have compatible constraint types (otherwise error out). <a href="#a5ec1b0ffb0fbbbc5d74381b0b1d38ae1">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/branchprobability">BranchProbability</a></>}
  name={<><a href="#a64747c8e3007c455b9b9a66a50a176e3">scaleCaseProbality</a> (BranchProbability CaseProb, BranchProbability PeeledCaseProb)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#ae8ee5af33e0f1b85755cf5a1e4951793">tryToElideArgumentCopy</a> (FunctionLoweringInfo &amp;FuncInfo, SmallVectorImpl&lt; SDValue &gt; &amp;Chains, DenseMap&lt; int, int &gt; &amp;ArgCopyElisionFrameIndexMap, SmallPtrSetImpl&lt; const Instruction &#42; &gt; &amp;ElidedArgCopyInstrs, ArgCopyElisionMapTy &amp;ArgCopyElisionCandidates, const Argument &amp;Arg, ArrayRef&lt; SDValue &gt; ArgVals, bool &amp;ArgHasUses)</>}>
Try to elide argument copies from memory into a local alloca. <a href="#ae8ee5af33e0f1b85755cf5a1e4951793">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/sdvalue">SDValue</a></>}
  name={<><a href="#a6dc0d17c5d20afdfa4004345e930584c">widenVectorToPartType</a> (SelectionDAG &amp;DAG, SDValue Val, const SDLoc &amp;DL, EVT PartVT)</>}>
</MembersIndexItem>

</MembersIndex>

## Variables Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/cl/opt">cl::opt</a>&lt; bool &gt;</>}
  name={<><a href="#a49cd2aba4ceac5306ec590bc818e39d7">InsertAssertAlign</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type="unsigned"
  name={<><a href="#af0f05cb4bab4be29196d76812dd8d262">LimitFloatPrecision</a></>}>
LimitFloatPrecision - Generate low-precision inline sequences for some float libcalls (6, 8 or 12 bits). <a href="#af0f05cb4bab4be29196d76812dd8d262">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/cl/opt">cl::opt</a>&lt; unsigned, <a href="/docs/api/files/lib/lib/analysis/basicaliasanalysis-cpp/#af6d5cafbdfc5313e65d990120021a3ec">true</a> &gt;</>}
  name={<><a href="#ae35a787fca4125893d2df4147b1e0aac">LimitFPPrecision</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> unsigned</>}
  name={<><a href="#a227e50a8e0a5a0bac4f3409a83727e6e">MaxParallelChains</a> = 64</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/cl/opt">cl::opt</a>&lt; unsigned &gt;</>}
  name={<><a href="#a45d62ce9e63770ceb48965f8b4b727a8">SwitchPeelThreshold</a></>}>
</MembersIndexItem>

</MembersIndex>

## Defines Index

<MembersIndex>

<MembersIndexItem
  type="#define"
  name={<><a href="#a7d460b662047133f939d24d6a2f2fd0d">BEGIN&#95;REGISTER&#95;VP&#95;INTRINSIC</a>&nbsp;&nbsp;&nbsp;case Intrinsic::VPID:</>}>
</MembersIndexItem>

<MembersIndexItem
  type="#define"
  name={<><a href="#abf72c4cc7b3c53cbf1f02dd1f6c3c46b">DAG&#95;INSTRUCTION</a>&nbsp;&nbsp;&nbsp;  case Intrinsic::INTRINSIC:                                                   \\
    Opcode = ISD::STRICT&#95;##DAGN;                                               \\
    <a href="/docs/api/files/lib/lib/codegen/lib/codegen/asmprinter/ehstreamer-cpp/#a91cf6fbebedd86150a36e5ac3d5d3bfc">break</a>;</>}>
</MembersIndexItem>

<MembersIndexItem
  type="#define"
  name={<><a href="#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG&#95;TYPE</a>&nbsp;&nbsp;&nbsp;&quot;isel&quot;</>}>
</MembersIndexItem>

<MembersIndexItem
  type="#define"
  name={<><a href="#acec6f7e3c8f55141a25830332307d3ea">HANDLE&#95;INST</a>&nbsp;&nbsp;&nbsp;    case Instruction::OPCODE: <a href="/docs/api/files/lib/lib/target/lib/target/spirv/spirvpostlegalizer-cpp/#a090736355958192cac4db32336c48bbd">visit</a>##<a href="/docs/api/files/lib/lib/target/lib/target/systemz/systemzisellowering-cpp/#a6c9b5dc65aa7364c6e3ed632c9e9f02e">OPCODE</a>((<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> CLASS&amp;)<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>); <a href="/docs/api/files/lib/lib/codegen/lib/codegen/asmprinter/ehstreamer-cpp/#a91cf6fbebedd86150a36e5ac3d5d3bfc">break</a>;</>}>
</MembersIndexItem>

<MembersIndexItem
  type="#define"
  name={<><a href="#a2c3c701dbab1503fc1146220591f3831">HELPER&#95;MAP&#95;VPID&#95;TO&#95;VPSD</a>&nbsp;&nbsp;&nbsp;  case Intrinsic::VPID:                                                        \\
    ResOPC = ISD::VPSD;                                                        \\
    <a href="/docs/api/files/lib/lib/codegen/lib/codegen/asmprinter/ehstreamer-cpp/#a91cf6fbebedd86150a36e5ac3d5d3bfc">break</a>;</>}>
</MembersIndexItem>

<MembersIndexItem
  type="#define"
  name={<><a href="#acb1562b4fc2af28e0902580ce98800fd">INSTRUCTION</a>&nbsp;&nbsp;&nbsp;  case Intrinsic::INTRINSIC:</>}>
</MembersIndexItem>

</MembersIndex>


<SectionDefinition>

## Typedefs

### ArgCopyElisionMapTy {#a7963e46427251f855f76bfce3b167492}

<MemberDefinition
  prototype={<>using ArgCopyElisionMapTy = 
    DenseMap&lt;const Argument &#42;,
             std::pair&lt;const AllocaInst &#42;, const StoreInst &#42;&gt;&gt;</>}>

Definition at line <a href="#l11421">11421</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Functions

### addStackMapLiveVars() {#a21f33b0949c9004250a9978f1a5d3b3d}

<MemberDefinition
  prototype={<>static void addStackMapLiveVars (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/callbase">CallBase</a> &amp; Call, unsigned StartIdx, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> &amp; DL, <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> &gt; &amp; Ops, <a href="/docs/api/classes/llvm/selectiondagbuilder">SelectionDAGBuilder</a> &amp; Builder)</>}
  labels = {["static"]}>
Add a stack map intrinsic call&#39;s live variable operands to a stackmap or patchpoint target node&#39;s operand list.

Constants are converted to TargetConstants purely as an optimization to avoid constant materialization and register allocation.

FrameIndex operands are converted to TargetFrameIndex so that ISEL does not generate addess computation nodes, and so FinalizeISel can convert the TargetFrameIndex into a DirectMemRefOp StackMap location. This avoids address materialization and register allocation, but may also be required for correctness. If a StackMap (or PatchPoint) intrinsic directly uses an alloca in the entry block, then the runtime may assume that the alloca&#39;s StackMap location can be read immediately after compilation and that the location is valid at any point during execution (this is similar to the assumption made by the llvm.gcroot intrinsic). If the alloca&#39;s location were only available in a register, then the runtime would need to trap when execution reaches the StackMap in order to read the alloca&#39;s location.

Definition at line <a href="#l10631">10631</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### collectInstructionDeps() {#a9e90083bd35fdc6271e1c0060a6290d5}

<MemberDefinition
  prototype={<>static bool collectInstructionDeps (<a href="/docs/api/structs/llvm/smallmapvector">SmallMapVector</a>&lt; <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42;, bool, 8 &gt; &#42; Deps, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/value">Value</a> &#42; V, <a href="/docs/api/structs/llvm/smallmapvector">SmallMapVector</a>&lt; <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42;, bool, 8 &gt; &#42; Necessary=nullptr, unsigned Depth=0)</>}
  labels = {["static"]}>

Definition at line <a href="#l02482">2482</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### diagnosePossiblyInvalidConstraint() {#a99fbe93d6d2539d12a7a9b40d04d7fec}

<MemberDefinition
  prototype={<>static void diagnosePossiblyInvalidConstraint (<a href="/docs/api/classes/llvm/llvmcontext">LLVMContext</a> &amp; Ctx, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/value">Value</a> &#42; V, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/twine">Twine</a> &amp; ErrMsg)</>}
  labels = {["static"]}>

Definition at line <a href="#l00319">319</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### expandDivFix() {#a69f0725f2fda3046317ef070e37e06ec}

<MemberDefinition
  prototype={<>static SDValue expandDivFix (unsigned Opcode, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> &amp; DL, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> LHS, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> RHS, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Scale, <a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp; DAG, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/targetlowering">TargetLowering</a> &amp; TLI)</>}
  labels = {["static"]}>

Definition at line <a href="#l05922">5922</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### expandExp() {#ad9fad588c8d87711124a9319e4b69d56}

<MemberDefinition
  prototype={<>static SDValue expandExp (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> &amp; dl, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Op, <a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp; DAG, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/targetlowering">TargetLowering</a> &amp; TLI, <a href="/docs/api/structs/llvm/sdnodeflags">SDNodeFlags</a> Flags)</>}
  labels = {["static"]}>
expandExp - Lower an exp intrinsic.

Handles the special sequences for limited-precision mode.

Definition at line <a href="#l05522">5522</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### expandExp2() {#a653e44824f5869e54a3f5848f06fdb19}

<MemberDefinition
  prototype={<>static SDValue expandExp2 (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> &amp; dl, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Op, <a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp; DAG, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/targetlowering">TargetLowering</a> &amp; TLI, <a href="/docs/api/structs/llvm/sdnodeflags">SDNodeFlags</a> Flags)</>}
  labels = {["static"]}>
expandExp2 - Lower an exp2 intrinsic.

Handles the special sequences for limited-precision mode.

Definition at line <a href="#l05830">5830</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### expandLog() {#ac8914654eb596e0910566feb6860b0d9}

<MemberDefinition
  prototype={<>static SDValue expandLog (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> &amp; dl, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Op, <a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp; DAG, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/targetlowering">TargetLowering</a> &amp; TLI, <a href="/docs/api/structs/llvm/sdnodeflags">SDNodeFlags</a> Flags)</>}
  labels = {["static"]}>
expandLog - Lower a log intrinsic.

Handles the special sequences for limited-precision mode.

Definition at line <a href="#l05544">5544</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### expandLog10() {#a72303a46d52d32f357c782765ac9797b}

<MemberDefinition
  prototype={<>static SDValue expandLog10 (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> &amp; dl, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Op, <a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp; DAG, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/targetlowering">TargetLowering</a> &amp; TLI, <a href="/docs/api/structs/llvm/sdnodeflags">SDNodeFlags</a> Flags)</>}
  labels = {["static"]}>
expandLog10 - Lower a log10 intrinsic.

Handles the special sequences for limited-precision mode.

Definition at line <a href="#l05740">5740</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### expandLog2() {#a93033474cad7c650f5f5f424d9fa951b}

<MemberDefinition
  prototype={<>static SDValue expandLog2 (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> &amp; dl, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Op, <a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp; DAG, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/targetlowering">TargetLowering</a> &amp; TLI, <a href="/docs/api/structs/llvm/sdnodeflags">SDNodeFlags</a> Flags)</>}
  labels = {["static"]}>
expandLog2 - Lower a log2 intrinsic.

Handles the special sequences for limited-precision mode.

Definition at line <a href="#l05643">5643</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### expandPow() {#a3308e71b8586ecd7e993926a7883fb70}

<MemberDefinition
  prototype={<>static SDValue expandPow (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> &amp; dl, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> LHS, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> RHS, <a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp; DAG, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/targetlowering">TargetLowering</a> &amp; TLI, <a href="/docs/api/structs/llvm/sdnodeflags">SDNodeFlags</a> Flags)</>}
  labels = {["static"]}>
visitPow - Lower a pow intrinsic.

Handles the special sequences for limited-precision mode with x == 10.0f.

Definition at line <a href="#l05842">5842</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### ExpandPowI() {#ac2cca597e5865d3b7f5bb8c64617754c}

<MemberDefinition
  prototype={<>static SDValue ExpandPowI (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> &amp; DL, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> LHS, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> RHS, <a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp; DAG)</>}
  labels = {["static"]}>
ExpandPowI - Expand a llvm.powi intrinsic.

Definition at line <a href="#l05871">5871</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### findArgumentCopyElisionCandidates() {#aa469012eee439764e752d32b1a557821}

<MemberDefinition
  prototype={<>static void findArgumentCopyElisionCandidates (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/datalayout">DataLayout</a> &amp; DL, <a href="/docs/api/classes/llvm/functionloweringinfo">FunctionLoweringInfo</a> &#42; FuncInfo, <a href="#a7963e46427251f855f76bfce3b167492">ArgCopyElisionMapTy</a> &amp; ArgCopyElisionCandidates)</>}
  labels = {["static"]}>
Scan the entry block of the function in FuncInfo for arguments that look like copies into a local alloca.

<a href="/docs/api/classes/llvm/record">Record</a> any copied arguments in ArgCopyElisionCandidates.

Definition at line <a href="#l11429">11429</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### findMatchingInlineAsmOperand() {#a56df539ec704429b22fbfbe90cb7941e}

<MemberDefinition
  prototype={<>static unsigned findMatchingInlineAsmOperand (unsigned OperandNo, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdgpupromotealloca-cpp/#ac760e37eba1d852d0a28011a1a0ce05f">std::vector</a>&lt; <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> &gt; &amp; AsmNodeOperands)</>}
  labels = {["static"]}>

Definition at line <a href="#l09869">9869</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### FindPreallocatedCall() {#a41caa0b8eaefb07b7f8fcf19b05bb249}

<MemberDefinition
  prototype={<>static const CallBase &#42; FindPreallocatedCall (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/value">Value</a> &#42; PreallocatedSetup)</>}
  labels = {["static"]}>
Given a @llvm.call.preallocated.setup, return the corresponding preallocated call.

Definition at line <a href="#l06297">6297</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### findUnwindDestinations() {#a6289e8af46c9783382b346baa020087c}

<MemberDefinition
  prototype={<>static void findUnwindDestinations (<a href="/docs/api/classes/llvm/functionloweringinfo">FunctionLoweringInfo</a> &amp; FuncInfo, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; EHPadBB, <a href="/docs/api/classes/llvm/branchprobability">BranchProbability</a> Prob, <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; std::pair&lt; <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;, <a href="/docs/api/classes/llvm/branchprobability">BranchProbability</a> &gt; &gt; &amp; UnwindDests)</>}
  labels = {["static"]}>
When an invoke or a cleanupret unwinds to the next EH pad, there are many places it could ultimately go.

In the IR, we have a single unwind destination, but in the machine CFG, we enumerate all the possible blocks. This function skips over imaginary basic blocks that hold catchswitch instructions, and finds all the &quot;real&quot; machine basic block destinations. As those destinations may not be successors of EHPadBB, here we also calculate the edge probability to those destinations. The passed-in Prob is the edge probability to EHPadBB.

Definition at line <a href="#l02094">2094</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### findWasmUnwindDestinations() {#ac48ad402cb64f4c6bd6bb7158013a7be}

<MemberDefinition
  prototype={<>static void findWasmUnwindDestinations (<a href="/docs/api/classes/llvm/functionloweringinfo">FunctionLoweringInfo</a> &amp; FuncInfo, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; EHPadBB, <a href="/docs/api/classes/llvm/branchprobability">BranchProbability</a> Prob, <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; std::pair&lt; <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;, <a href="/docs/api/classes/llvm/branchprobability">BranchProbability</a> &gt; &gt; &amp; UnwindDests)</>}
  labels = {["static"]}>

Definition at line <a href="#l02060">2060</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### FixedPointIntrinsicToOpcode() {#a63028feee73aad21b5ad015b0ceb9de1}

<MemberDefinition
  prototype="static unsigned FixedPointIntrinsicToOpcode (unsigned Intrinsic)"
  labels = {["static"]}>

Definition at line <a href="#l06263">6263</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### FollowCopyChain() {#ac0ce44d8c76d29835fb8f68dd8b88742}

<MemberDefinition
  prototype={<>static Register FollowCopyChain (<a href="/docs/api/classes/llvm/machineregisterinfo">MachineRegisterInfo</a> &amp; MRI, <a href="/docs/api/classes/llvm/register">Register</a> Reg)</>}
  labels = {["static"]}>

Definition at line <a href="#l12692">12692</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### getAddressForMemoryInput() {#a94b8d8925deffd735f51d36b77d3f9ca}

<MemberDefinition
  prototype={<>static SDValue getAddressForMemoryInput (<a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Chain, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> &amp; Location, SDISelAsmOperandInfo &amp; OpInfo, <a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp; DAG)</>}
  labels = {["static"]}>
Get a direct memory input to behave well as an indirect operand.

This may introduce stores, hence the need for a <code>Chain</code>. 
<SectionUser title="Returns">
The (possibly updated) chain.
</SectionUser>

Definition at line <a href="#l09707">9707</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### getCopyFromParts() {#acb8cf9e50c3979193572ea36f327d0a4}

<MemberDefinition
  prototype={<>static SDValue getCopyFromParts (<a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp; DAG, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> &amp; DL, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> &#42; Parts, unsigned NumParts, <a href="/docs/api/classes/llvm/mvt">MVT</a> PartVT, <a href="/docs/api/structs/llvm/evt">EVT</a> ValueVT, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/value">Value</a> &#42; V, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> InChain, std::optional&lt; <a href="/docs/api/namespaces/llvm/callingconv/#abdf8cf606905c10634e831390981b0ed">CallingConv::ID</a> &gt; CC=std::nullopt, std::optional&lt; <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110">ISD::NodeType</a> &gt; AssertOp=std::nullopt)</>}
  labels = {["static"]}>
getCopyFromParts - Create a value that contains the specified legal parts combined into the value they represent.

If the parts combine to a type larger than ValueVT then AssertOp can be used to specify whether the extra bits are known to be zero (<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110af23301e60475124fd80a2cb51f6ba863">ISD::AssertZext</a>) or sign extended from ValueVT (<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110aee4f13218bdbb5c5697f7e786618ecb2">ISD::AssertSext</a>).

Definition at line <a href="#l00166">166</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### getCopyFromPartsVector() {#af47fbc357d61496b2ec06c60c79f6400}

<MemberDefinition
  prototype={<>static SDValue getCopyFromPartsVector (<a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp; DAG, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> &amp; DL, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> &#42; Parts, unsigned NumParts, <a href="/docs/api/classes/llvm/mvt">MVT</a> PartVT, <a href="/docs/api/structs/llvm/evt">EVT</a> ValueVT, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/value">Value</a> &#42; V, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> InChain, std::optional&lt; <a href="/docs/api/namespaces/llvm/callingconv/#abdf8cf606905c10634e831390981b0ed">CallingConv::ID</a> &gt; CallConv)</>}
  labels = {["static"]}>
getCopyFromPartsVector - Create a value that contains the specified legal parts combined into the value they represent.

If the parts combine to a type larger than ValueVT then AssertOp can be used to specify whether the extra bits are known to be zero (<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110af23301e60475124fd80a2cb51f6ba863">ISD::AssertZext</a>) or sign extended from ValueVT (<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110aee4f13218bdbb5c5697f7e786618ecb2">ISD::AssertSext</a>).

Definition at line <a href="#l00339">339</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### getCopyToParts() {#a8910923e28ba24c5abedb60c66c86cc5}

<MemberDefinition
  prototype={<>static void getCopyToParts (<a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp; DAG, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> &amp; DL, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Val, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> &#42; Parts, unsigned NumParts, <a href="/docs/api/classes/llvm/mvt">MVT</a> PartVT, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/value">Value</a> &#42; V, std::optional&lt; <a href="/docs/api/namespaces/llvm/callingconv/#abdf8cf606905c10634e831390981b0ed">CallingConv::ID</a> &gt; CallConv=std::nullopt, <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110">ISD::NodeType</a> ExtendKind=ISD::ANY&#95;EXTEND)</>}
  labels = {["static"]}>
getCopyToParts - Create a series of nodes that contain the specified value split into legal parts.

If the parts contain more bits than Val, then, for integers, ExtendKind can be used to specify how to generate the extra bits.

Definition at line <a href="#l00505">505</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### getCopyToPartsVector() {#a7e79d5a868530c399fc615b99b3f02ab}

<MemberDefinition
  prototype={<>static void getCopyToPartsVector (<a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp; DAG, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> &amp; dl, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Val, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> &#42; Parts, unsigned NumParts, <a href="/docs/api/classes/llvm/mvt">MVT</a> PartVT, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/value">Value</a> &#42; V, std::optional&lt; <a href="/docs/api/namespaces/llvm/callingconv/#abdf8cf606905c10634e831390981b0ed">CallingConv::ID</a> &gt; CallConv)</>}
  labels = {["static"]}>
getCopyToPartsVector - Create a series of nodes that contain the specified value split into legal parts.

Definition at line <a href="#l00688">688</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### GetExponent() {#aa70f724269a63b67e0858c8919f7a9cd}

<MemberDefinition
  prototype={<>static SDValue GetExponent (<a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp; DAG, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Op, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/targetlowering">TargetLowering</a> &amp; TLI, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> &amp; dl)</>}
  labels = {["static"]}>
GetExponent - Get the exponent:

(float)(int)(((<a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a> &amp; 0x7f800000) &gt;&gt; 23) - 127);

where <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a> is the hexadecimal representation of floating point value.

Definition at line <a href="#l05409">5409</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### getF32Constant() {#a6c1c7a303df4926ba82dfd4ac4ef1deb}

<MemberDefinition
  prototype={<>static SDValue getF32Constant (<a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp; DAG, unsigned Flt, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> &amp; dl)</>}
  labels = {["static"]}>
getF32Constant - Get 32-bit floating point constant.

Definition at line <a href="#l05423">5423</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### getISDForVPIntrinsic() {#a4d180adab34368b65e2a43f64c7de814}

<MemberDefinition
  prototype={<>static unsigned getISDForVPIntrinsic (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/vpintrinsic">VPIntrinsic</a> &amp; VPIntrin)</>}
  labels = {["static"]}>

Definition at line <a href="#l08385">8385</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### getLimitedPrecisionExp2() {#acef0e53db4a5bc578fc3da0089dc0519}

<MemberDefinition
  prototype={<>static SDValue getLimitedPrecisionExp2 (<a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t0, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> &amp; dl, <a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp; DAG)</>}
  labels = {["static"]}>

Definition at line <a href="#l05429">5429</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### getLoadStackGuard() {#a0f49cd7f0f28bd9b7aaed4b5a0df02d6}

<MemberDefinition
  prototype={<>static SDValue getLoadStackGuard (<a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp; DAG, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> &amp; DL, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> &amp; Chain)</>}
  labels = {["static"]}>
Create a LOAD&#95;STACK&#95;GUARD node, and let it carry the target specific global variable if there exists one.

Definition at line <a href="#l03060">3060</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### getMemCmpLoad() {#a8eaaa1b4edc9934bfea0469269f3d869}

<MemberDefinition
  prototype={<>static SDValue getMemCmpLoad (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/value">Value</a> &#42; PtrVal, <a href="/docs/api/classes/llvm/mvt">MVT</a> LoadVT, <a href="/docs/api/classes/llvm/selectiondagbuilder">SelectionDAGBuilder</a> &amp; Builder)</>}
  labels = {["static"]}>

Definition at line <a href="#l08998">8998</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### getRange() {#adf84d8fd2fcc4b918cb861c9836122c6}

<MemberDefinition
  prototype={<>static std::optional&lt; ConstantRange &gt; getRange (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/instruction">Instruction</a> &amp; I)</>}
  labels = {["static"]}>

Definition at line <a href="#l04533">4533</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### getRangeMetadata() {#ae1b80d5114dd1a73aacd01971f29d5ee}

<MemberDefinition
  prototype={<>static const MDNode &#42; getRangeMetadata (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/instruction">Instruction</a> &amp; I)</>}
  labels = {["static"]}>

Definition at line <a href="#l04521">4521</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### getRegistersForValue() {#aa2b5a0a0f6bf1b5480337a01257df8b6}

<MemberDefinition
  prototype={<>static std::optional&lt; unsigned &gt; getRegistersForValue (<a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp; DAG, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> &amp; DL, SDISelAsmOperandInfo &amp; OpInfo, SDISelAsmOperandInfo &amp; RefOpInfo)</>}
  labels = {["static"]}>
GetRegistersForValue - Assign registers (virtual or physical) for the specified operand.

We prefer to assign virtual registers, to allow the register allocator to handle the assignment process. However, if the asm uses features that we can&#39;t model on machineinstrs, we have SDISel do the allocation. This produces generally horrible, but correct, code.

OpInfo describes the operand RefOpInfo describes the matching operand if any, the operand otherwise

Definition at line <a href="#l09759">9759</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### getReturnAttrs() {#a3c16ae9b6c38652cd59f72eeecc4e176}

<MemberDefinition
  prototype={<>static AttributeList getReturnAttrs (TargetLowering::CallLoweringInfo &amp; CLI)</>}
  labels = {["static"]}>
Returns an AttributeList representing the attributes applied to the return value of the given call.

Definition at line <a href="#l10940">10940</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### GetSignificand() {#ad76e8a405ea9556685c854198b0b2488}

<MemberDefinition
  prototype={<>static SDValue GetSignificand (<a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp; DAG, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Op, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> &amp; dl)</>}
  labels = {["static"]}>
GetSignificand - Get the significand and build it into a floating-point number with exponent of 1:

<a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a> = (<a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a> &amp; 0x007fffff) | 0x3f800000;

where <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a> is the hexadecimal representation of floating point value.

Definition at line <a href="#l05396">5396</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### getUnderlyingArgRegs() {#a7f9cdc800dea62835ecb6014346a0bcd}

<MemberDefinition
  prototype={<>static void getUnderlyingArgRegs (<a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; std::pair&lt; <a href="/docs/api/classes/llvm/register">Register</a>, <a href="/docs/api/classes/llvm/typesize">TypeSize</a> &gt; &gt; &amp; Regs, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> &amp; N)</>}
  labels = {["static"]}>

Definition at line <a href="#l05985">5985</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### getUniformBase() {#a3e8b055fdb7e07479b83d69c15211d54}

<MemberDefinition
  prototype={<>static bool getUniformBase (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/value">Value</a> &#42; Ptr, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> &amp; Base, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> &amp; Index, <a href="/docs/api/namespaces/llvm/isd/#aa30bf48cd2a89f80c9c608adcabc53e3">ISD::MemIndexType</a> &amp; IndexType, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> &amp; Scale, <a href="/docs/api/classes/llvm/selectiondagbuilder">SelectionDAGBuilder</a> &#42; SDB, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; CurBB, uint64&#95;t ElemSize)</>}
  labels = {["static"]}>

Definition at line <a href="#l04860">4860</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### handleDanglingVariadicDebugInfo() {#a4e84a47e3ca9c1684a752533e2881cd7}

<MemberDefinition
  prototype={<>static bool handleDanglingVariadicDebugInfo (<a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp; DAG, <a href="/docs/api/classes/llvm/dilocalvariable">DILocalVariable</a> &#42; Variable, <a href="/docs/api/classes/llvm/debugloc">DebugLoc</a> DL, unsigned Order, <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; <a href="/docs/api/classes/llvm/value">Value</a> &#42; &gt; &amp; Values, <a href="/docs/api/classes/llvm/diexpression">DIExpression</a> &#42; Expression)</>}
  labels = {["static"]}>

Definition at line <a href="#l01384">1384</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### hasOnlySelectUsers() {#a0be0474aded73a7b9b444c883f3bb760}

<MemberDefinition
  prototype={<>static bool hasOnlySelectUsers (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/value">Value</a> &#42; Cond)</>}
  labels = {["static"]}>

Definition at line <a href="#l03690">3690</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### InBlock() {#afcd7ba772e220bcd0907ee2f1aa61323}

<MemberDefinition
  prototype={<>static bool InBlock (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/value">Value</a> &#42; V, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; BB)</>}
  labels = {["static"]}>

Definition at line <a href="#l02423">2423</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### isFunction() {#aa5423d2fba2a995d71e3294b14a19bbc}

<MemberDefinition
  prototype={<>static bool isFunction (<a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Op)</>}
  labels = {["static"]}>

Definition at line <a href="#l09923">9923</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### isOnlyUsedInEntryBlock() {#a97acf4298b4ca1010c06af4741609a89}

<MemberDefinition
  prototype={<>static bool isOnlyUsedInEntryBlock (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/argument">Argument</a> &#42; A, bool FastISel)</>}
  labels = {["static"]}>
isOnlyUsedInEntryBlock - If the specified argument is only used in the entry block, return true.

This includes arguments used by switches, since the switch may expand into multiple basic blocks.

Definition at line <a href="#l11407">11407</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### patchMatchingInput() {#a5ec1b0ffb0fbbbc5d74381b0b1d38ae1}

<MemberDefinition
  prototype={<>static void patchMatchingInput (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> SDISelAsmOperandInfo &amp; OpInfo, SDISelAsmOperandInfo &amp; MatchingOpInfo, <a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp; DAG)</>}
  labels = {["static"]}>
Make sure that the output operand <code>OpInfo</code> and its corresponding input operand <code>MatchingOpInfo</code> have compatible constraint types (otherwise error out).

Definition at line <a href="#l09676">9676</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### scaleCaseProbality() {#a64747c8e3007c455b9b9a66a50a176e3}

<MemberDefinition
  prototype={<>static BranchProbability scaleCaseProbality (<a href="/docs/api/classes/llvm/branchprobability">BranchProbability</a> CaseProb, <a href="/docs/api/classes/llvm/branchprobability">BranchProbability</a> PeeledCaseProb)</>}
  labels = {["static"]}>

Definition at line <a href="#l12381">12381</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### tryToElideArgumentCopy() {#ae8ee5af33e0f1b85755cf5a1e4951793}

<MemberDefinition
  prototype={<>static void tryToElideArgumentCopy (<a href="/docs/api/classes/llvm/functionloweringinfo">FunctionLoweringInfo</a> &amp; FuncInfo, <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> &gt; &amp; Chains, <a href="/docs/api/classes/llvm/densemap">DenseMap</a>&lt; int, int &gt; &amp; ArgCopyElisionFrameIndexMap, <a href="/docs/api/classes/llvm/smallptrsetimpl">SmallPtrSetImpl</a>&lt; <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42; &gt; &amp; ElidedArgCopyInstrs, <a href="#a7963e46427251f855f76bfce3b167492">ArgCopyElisionMapTy</a> &amp; ArgCopyElisionCandidates, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/argument">Argument</a> &amp; Arg, <a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> &gt; ArgVals, bool &amp; ArgHasUses)</>}
  labels = {["static"]}>
Try to elide argument copies from memory into a local alloca.

Succeeds if ArgVal is a load from a suitable fixed stack object.

Definition at line <a href="#l11525">11525</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### widenVectorToPartType() {#a6dc0d17c5d20afdfa4004345e930584c}

<MemberDefinition
  prototype={<>static SDValue widenVectorToPartType (<a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp; DAG, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Val, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> &amp; DL, <a href="/docs/api/structs/llvm/evt">EVT</a> PartVT)</>}
  labels = {["static"]}>

Definition at line <a href="#l00641">641</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Variables

### InsertAssertAlign {#a49cd2aba4ceac5306ec590bc818e39d7}

<MemberDefinition
  prototype={<>cl::opt&lt; bool &gt; InsertAssertAlign(&quot;insert-assert-align&quot;, cl::init(true), cl::desc(&quot;Insert the experimental &#96;assertalign&#96; node.&quot;), cl::ReallyHidden)</>}
  labels = {["static"]}>

Definition at line <a href="#l00121">121</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### LimitFloatPrecision {#af0f05cb4bab4be29196d76812dd8d262}

<MemberDefinition
  prototype="unsigned LimitFloatPrecision"
  labels = {["static"]}>
LimitFloatPrecision - Generate low-precision inline sequences for some float libcalls (6, 8 or 12 bits).

Definition at line <a href="#l00118">118</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### LimitFPPrecision {#ae35a787fca4125893d2df4147b1e0aac}

<MemberDefinition
  prototype={<>cl::opt&lt; unsigned, true &gt; LimitFPPrecision(&quot;limit-float-precision&quot;, cl::desc(&quot;Generate low-precision inline sequences &quot; &quot;for some float libcalls&quot;), cl::location(LimitFloatPrecision), cl::Hidden, cl::init(0))</>}
  labels = {["static"]}>

Definition at line <a href="#l00126">126</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### MaxParallelChains {#a227e50a8e0a5a0bac4f3409a83727e6e}

<MemberDefinition
  prototype="const unsigned MaxParallelChains = 64"
  labels = {["static"]}>

Definition at line <a href="#l00152">152</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### SwitchPeelThreshold {#a45d62ce9e63770ceb48965f8b4b727a8}

<MemberDefinition
  prototype={<>cl::opt&lt; unsigned &gt; SwitchPeelThreshold(&quot;switch-peel-threshold&quot;, cl::Hidden, cl::init(66), cl::desc(&quot;Set the case probability threshold for peeling the case from a &quot; &quot;switch statement. A value greater than 100 will void this &quot; &quot;optimization&quot;))</>}
  labels = {["static"]}>

Definition at line <a href="#l00132">132</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Defines

### BEGIN&#95;REGISTER&#95;VP&#95;INTRINSIC {#a7d460b662047133f939d24d6a2f2fd0d}

<MemberDefinition
  prototype={<>#define BEGIN&#95;REGISTER&#95;VP&#95;INTRINSIC&nbsp;&nbsp;&nbsp;case Intrinsic::VPID:</>}>

Definition at line <a href="#l07017">7017</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### DAG&#95;INSTRUCTION {#abf72c4cc7b3c53cbf1f02dd1f6c3c46b}

<MemberDefinition
  prototype={<>#define DAG&#95;INSTRUCTION&nbsp;&nbsp;&nbsp;  case Intrinsic::INTRINSIC:                                                   \\
    Opcode = ISD::STRICT&#95;##DAGN;                                               \\
    <a href="/docs/api/files/lib/lib/codegen/lib/codegen/asmprinter/ehstreamer-cpp/#a91cf6fbebedd86150a36e5ac3d5d3bfc">break</a>;</>}>

Definition at line <a href="#l08336">8336</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### DEBUG&#95;TYPE {#ad78e062f62e0d6e453941fb4ca843e4d}

<MemberDefinition
  prototype={<>#define DEBUG&#95;TYPE&nbsp;&nbsp;&nbsp;&quot;isel&quot;</>}>

Definition at line <a href="#l00114">114</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### HANDLE&#95;INST {#acec6f7e3c8f55141a25830332307d3ea}

<MemberDefinition
  prototype={<>#define HANDLE&#95;INST&nbsp;&nbsp;&nbsp;    case Instruction::OPCODE: <a href="/docs/api/files/lib/lib/target/lib/target/spirv/spirvpostlegalizer-cpp/#a090736355958192cac4db32336c48bbd">visit</a>##<a href="/docs/api/files/lib/lib/target/lib/target/systemz/systemzisellowering-cpp/#a6c9b5dc65aa7364c6e3ed632c9e9f02e">OPCODE</a>((<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> CLASS&amp;)<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>); <a href="/docs/api/files/lib/lib/codegen/lib/codegen/asmprinter/ehstreamer-cpp/#a91cf6fbebedd86150a36e5ac3d5d3bfc">break</a>;</>}>

Definition at line <a href="#l01378">1378</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### HELPER&#95;MAP&#95;VPID&#95;TO&#95;VPSD {#a2c3c701dbab1503fc1146220591f3831}

<MemberDefinition
  prototype={<>#define HELPER&#95;MAP&#95;VPID&#95;TO&#95;VPSD&nbsp;&nbsp;&nbsp;  case Intrinsic::VPID:                                                        \\
    ResOPC = ISD::VPSD;                                                        \\
    <a href="/docs/api/files/lib/lib/codegen/lib/codegen/asmprinter/ehstreamer-cpp/#a91cf6fbebedd86150a36e5ac3d5d3bfc">break</a>;</>}>

Definition at line <a href="#l08403">8403</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

### INSTRUCTION {#acb1562b4fc2af28e0902580ce98800fd}

<MemberDefinition
  prototype={<>#define INSTRUCTION&nbsp;&nbsp;&nbsp;  case Intrinsic::INTRINSIC:</>}>

Definition at line <a href="#l07012">7012</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-cpp">SelectionDAGBuilder.cpp</a>.
</MemberDefinition>

</SectionDefinition>

## File Listing

The file content with the documentation metadata removed is:

<ProgramListing>

<Link id="l00001" /><CodeLine lineNumber="1"><span class="doxyHighlightComment">//===- SelectionDAGBuilder.cpp - Selection-DAG building -------------------===//</span></CodeLine>
<Link id="l00002" /><CodeLine lineNumber="2"><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l00003" /><CodeLine lineNumber="3"><span class="doxyHighlightComment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></CodeLine>
<Link id="l00004" /><CodeLine lineNumber="4"><span class="doxyHighlightComment">// See https://llvm.org/LICENSE.txt for license information.</span></CodeLine>
<Link id="l00005" /><CodeLine lineNumber="5"><span class="doxyHighlightComment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></CodeLine>
<Link id="l00006" /><CodeLine lineNumber="6"><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l00007" /><CodeLine lineNumber="7"><span class="doxyHighlightComment">//===----------------------------------------------------------------------===//</span></CodeLine>
<Link id="l00008" /><CodeLine lineNumber="8"><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l00009" /><CodeLine lineNumber="9"><span class="doxyHighlightComment">// This implements routines for translating from LLVM IR into SelectionDAG IR.</span></CodeLine>
<Link id="l00010" /><CodeLine lineNumber="10"><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l00011" /><CodeLine lineNumber="11"><span class="doxyHighlightComment">//===----------------------------------------------------------------------===//</span></CodeLine>
<Link id="l00012" /><CodeLine lineNumber="12"></CodeLine>
<Link id="l00013" /><CodeLine lineNumber="13"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagbuilder-h">SelectionDAGBuilder.h</a>&quot;</span></CodeLine>
<Link id="l00014" /><CodeLine lineNumber="14"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/sdnodedbgvalue-h">SDNodeDbgValue.h</a>&quot;</span></CodeLine>
<Link id="l00015" /><CodeLine lineNumber="15"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/adt/apfloat-h">llvm/ADT/APFloat.h</a>&quot;</span></CodeLine>
<Link id="l00016" /><CodeLine lineNumber="16"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/adt/apint-h">llvm/ADT/APInt.h</a>&quot;</span></CodeLine>
<Link id="l00017" /><CodeLine lineNumber="17"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/adt/bitvector-h">llvm/ADT/BitVector.h</a>&quot;</span></CodeLine>
<Link id="l00018" /><CodeLine lineNumber="18"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/adt/stlextras-h">llvm/ADT/STLExtras.h</a>&quot;</span></CodeLine>
<Link id="l00019" /><CodeLine lineNumber="19"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/adt/smallptrset-h">llvm/ADT/SmallPtrSet.h</a>&quot;</span></CodeLine>
<Link id="l00020" /><CodeLine lineNumber="20"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/adt/smallset-h">llvm/ADT/SmallSet.h</a>&quot;</span></CodeLine>
<Link id="l00021" /><CodeLine lineNumber="21"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/adt/stringref-h">llvm/ADT/StringRef.h</a>&quot;</span></CodeLine>
<Link id="l00022" /><CodeLine lineNumber="22"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/adt/twine-h">llvm/ADT/Twine.h</a>&quot;</span></CodeLine>
<Link id="l00023" /><CodeLine lineNumber="23"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/analysis/aliasanalysis-h">llvm/Analysis/AliasAnalysis.h</a>&quot;</span></CodeLine>
<Link id="l00024" /><CodeLine lineNumber="24"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">llvm/Analysis/BranchProbabilityInfo.h</a>&quot;</span></CodeLine>
<Link id="l00025" /><CodeLine lineNumber="25"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/analysis/constantfolding-h">llvm/Analysis/ConstantFolding.h</a>&quot;</span></CodeLine>
<Link id="l00026" /><CodeLine lineNumber="26"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/analysis/loads-h">llvm/Analysis/Loads.h</a>&quot;</span></CodeLine>
<Link id="l00027" /><CodeLine lineNumber="27"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/analysis/memorylocation-h">llvm/Analysis/MemoryLocation.h</a>&quot;</span></CodeLine>
<Link id="l00028" /><CodeLine lineNumber="28"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/analysis/targetlibraryinfo-h">llvm/Analysis/TargetLibraryInfo.h</a>&quot;</span></CodeLine>
<Link id="l00029" /><CodeLine lineNumber="29"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/analysis/targettransforminfo-h">llvm/Analysis/TargetTransformInfo.h</a>&quot;</span></CodeLine>
<Link id="l00030" /><CodeLine lineNumber="30"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/analysis/valuetracking-h">llvm/Analysis/ValueTracking.h</a>&quot;</span></CodeLine>
<Link id="l00031" /><CodeLine lineNumber="31"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/analysis/vectorutils-h">llvm/Analysis/VectorUtils.h</a>&quot;</span></CodeLine>
<Link id="l00032" /><CodeLine lineNumber="32"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/codegen/analysis-h">llvm/CodeGen/Analysis.h</a>&quot;</span></CodeLine>
<Link id="l00033" /><CodeLine lineNumber="33"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/codegen/assignmenttrackinganalysis-h">llvm/CodeGen/AssignmentTrackingAnalysis.h</a>&quot;</span></CodeLine>
<Link id="l00034" /><CodeLine lineNumber="34"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/codegen/codegencommonisel-h">llvm/CodeGen/CodeGenCommonISel.h</a>&quot;</span></CodeLine>
<Link id="l00035" /><CodeLine lineNumber="35"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/codegen/functionloweringinfo-h">llvm/CodeGen/FunctionLoweringInfo.h</a>&quot;</span></CodeLine>
<Link id="l00036" /><CodeLine lineNumber="36"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/codegen/gcmetadata-h">llvm/CodeGen/GCMetadata.h</a>&quot;</span></CodeLine>
<Link id="l00037" /><CodeLine lineNumber="37"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/codegen/isdopcodes-h">llvm/CodeGen/ISDOpcodes.h</a>&quot;</span></CodeLine>
<Link id="l00038" /><CodeLine lineNumber="38"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machinebasicblock-h">llvm/CodeGen/MachineBasicBlock.h</a>&quot;</span></CodeLine>
<Link id="l00039" /><CodeLine lineNumber="39"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machineframeinfo-h">llvm/CodeGen/MachineFrameInfo.h</a>&quot;</span></CodeLine>
<Link id="l00040" /><CodeLine lineNumber="40"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machinefunction-h">llvm/CodeGen/MachineFunction.h</a>&quot;</span></CodeLine>
<Link id="l00041" /><CodeLine lineNumber="41"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machineinstrbuilder-h">llvm/CodeGen/MachineInstrBuilder.h</a>&quot;</span></CodeLine>
<Link id="l00042" /><CodeLine lineNumber="42"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machineinstrbundleiterator-h">llvm/CodeGen/MachineInstrBundleIterator.h</a>&quot;</span></CodeLine>
<Link id="l00043" /><CodeLine lineNumber="43"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machinememoperand-h">llvm/CodeGen/MachineMemOperand.h</a>&quot;</span></CodeLine>
<Link id="l00044" /><CodeLine lineNumber="44"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machinemoduleinfo-h">llvm/CodeGen/MachineModuleInfo.h</a>&quot;</span></CodeLine>
<Link id="l00045" /><CodeLine lineNumber="45"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machineoperand-h">llvm/CodeGen/MachineOperand.h</a>&quot;</span></CodeLine>
<Link id="l00046" /><CodeLine lineNumber="46"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machineregisterinfo-h">llvm/CodeGen/MachineRegisterInfo.h</a>&quot;</span></CodeLine>
<Link id="l00047" /><CodeLine lineNumber="47"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/codegen/selectiondag-h">llvm/CodeGen/SelectionDAG.h</a>&quot;</span></CodeLine>
<Link id="l00048" /><CodeLine lineNumber="48"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/codegen/selectiondagtargetinfo-h">llvm/CodeGen/SelectionDAGTargetInfo.h</a>&quot;</span></CodeLine>
<Link id="l00049" /><CodeLine lineNumber="49"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h">llvm/CodeGen/StackMaps.h</a>&quot;</span></CodeLine>
<Link id="l00050" /><CodeLine lineNumber="50"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/codegen/swifterrorvaluetracking-h">llvm/CodeGen/SwiftErrorValueTracking.h</a>&quot;</span></CodeLine>
<Link id="l00051" /><CodeLine lineNumber="51"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/codegen/targetframelowering-h">llvm/CodeGen/TargetFrameLowering.h</a>&quot;</span></CodeLine>
<Link id="l00052" /><CodeLine lineNumber="52"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/codegen/targetinstrinfo-h">llvm/CodeGen/TargetInstrInfo.h</a>&quot;</span></CodeLine>
<Link id="l00053" /><CodeLine lineNumber="53"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/codegen/targetopcodes-h">llvm/CodeGen/TargetOpcodes.h</a>&quot;</span></CodeLine>
<Link id="l00054" /><CodeLine lineNumber="54"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/codegen/targetregisterinfo-h">llvm/CodeGen/TargetRegisterInfo.h</a>&quot;</span></CodeLine>
<Link id="l00055" /><CodeLine lineNumber="55"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/codegen/targetsubtargetinfo-h">llvm/CodeGen/TargetSubtargetInfo.h</a>&quot;</span></CodeLine>
<Link id="l00056" /><CodeLine lineNumber="56"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/codegen/winehfuncinfo-h">llvm/CodeGen/WinEHFuncInfo.h</a>&quot;</span></CodeLine>
<Link id="l00057" /><CodeLine lineNumber="57"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/ir/argument-h">llvm/IR/Argument.h</a>&quot;</span></CodeLine>
<Link id="l00058" /><CodeLine lineNumber="58"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/ir/attributes-h">llvm/IR/Attributes.h</a>&quot;</span></CodeLine>
<Link id="l00059" /><CodeLine lineNumber="59"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/ir/basicblock-h">llvm/IR/BasicBlock.h</a>&quot;</span></CodeLine>
<Link id="l00060" /><CodeLine lineNumber="60"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/ir/cfg-h">llvm/IR/CFG.h</a>&quot;</span></CodeLine>
<Link id="l00061" /><CodeLine lineNumber="61"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/ir/callingconv-h">llvm/IR/CallingConv.h</a>&quot;</span></CodeLine>
<Link id="l00062" /><CodeLine lineNumber="62"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/ir/constant-h">llvm/IR/Constant.h</a>&quot;</span></CodeLine>
<Link id="l00063" /><CodeLine lineNumber="63"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/ir/constantrange-h">llvm/IR/ConstantRange.h</a>&quot;</span></CodeLine>
<Link id="l00064" /><CodeLine lineNumber="64"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/ir/constants-h">llvm/IR/Constants.h</a>&quot;</span></CodeLine>
<Link id="l00065" /><CodeLine lineNumber="65"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/ir/datalayout-h">llvm/IR/DataLayout.h</a>&quot;</span></CodeLine>
<Link id="l00066" /><CodeLine lineNumber="66"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/ir/debuginfo-h">llvm/IR/DebugInfo.h</a>&quot;</span></CodeLine>
<Link id="l00067" /><CodeLine lineNumber="67"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/ir/debuginfometadata-h">llvm/IR/DebugInfoMetadata.h</a>&quot;</span></CodeLine>
<Link id="l00068" /><CodeLine lineNumber="68"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/ir/derivedtypes-h">llvm/IR/DerivedTypes.h</a>&quot;</span></CodeLine>
<Link id="l00069" /><CodeLine lineNumber="69"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/ir/diagnosticinfo-h">llvm/IR/DiagnosticInfo.h</a>&quot;</span></CodeLine>
<Link id="l00070" /><CodeLine lineNumber="70"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/ir/ehpersonalities-h">llvm/IR/EHPersonalities.h</a>&quot;</span></CodeLine>
<Link id="l00071" /><CodeLine lineNumber="71"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/ir/function-h">llvm/IR/Function.h</a>&quot;</span></CodeLine>
<Link id="l00072" /><CodeLine lineNumber="72"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/ir/getelementptrtypeiterator-h">llvm/IR/GetElementPtrTypeIterator.h</a>&quot;</span></CodeLine>
<Link id="l00073" /><CodeLine lineNumber="73"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/ir/inlineasm-h">llvm/IR/InlineAsm.h</a>&quot;</span></CodeLine>
<Link id="l00074" /><CodeLine lineNumber="74"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/ir/instrtypes-h">llvm/IR/InstrTypes.h</a>&quot;</span></CodeLine>
<Link id="l00075" /><CodeLine lineNumber="75"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/ir/instructions-h">llvm/IR/Instructions.h</a>&quot;</span></CodeLine>
<Link id="l00076" /><CodeLine lineNumber="76"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/ir/intrinsicinst-h">llvm/IR/IntrinsicInst.h</a>&quot;</span></CodeLine>
<Link id="l00077" /><CodeLine lineNumber="77"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/ir/intrinsics-h">llvm/IR/Intrinsics.h</a>&quot;</span></CodeLine>
<Link id="l00078" /><CodeLine lineNumber="78"><span class="doxyHighlightPreprocessor">#include &quot;llvm/IR/IntrinsicsAArch64.h&quot;</span></CodeLine>
<Link id="l00079" /><CodeLine lineNumber="79"><span class="doxyHighlightPreprocessor">#include &quot;llvm/IR/IntrinsicsAMDGPU.h&quot;</span></CodeLine>
<Link id="l00080" /><CodeLine lineNumber="80"><span class="doxyHighlightPreprocessor">#include &quot;llvm/IR/IntrinsicsWebAssembly.h&quot;</span></CodeLine>
<Link id="l00081" /><CodeLine lineNumber="81"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/ir/llvmcontext-h">llvm/IR/LLVMContext.h</a>&quot;</span></CodeLine>
<Link id="l00082" /><CodeLine lineNumber="82"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/ir/memorymodelrelaxationannotations-h">llvm/IR/MemoryModelRelaxationAnnotations.h</a>&quot;</span></CodeLine>
<Link id="l00083" /><CodeLine lineNumber="83"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/ir/metadata-h">llvm/IR/Metadata.h</a>&quot;</span></CodeLine>
<Link id="l00084" /><CodeLine lineNumber="84"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/ir/module-h">llvm/IR/Module.h</a>&quot;</span></CodeLine>
<Link id="l00085" /><CodeLine lineNumber="85"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/ir/operator-h">llvm/IR/Operator.h</a>&quot;</span></CodeLine>
<Link id="l00086" /><CodeLine lineNumber="86"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/ir/patternmatch-h">llvm/IR/PatternMatch.h</a>&quot;</span></CodeLine>
<Link id="l00087" /><CodeLine lineNumber="87"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/ir/statepoint-h">llvm/IR/Statepoint.h</a>&quot;</span></CodeLine>
<Link id="l00088" /><CodeLine lineNumber="88"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/ir/type-h">llvm/IR/Type.h</a>&quot;</span></CodeLine>
<Link id="l00089" /><CodeLine lineNumber="89"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/ir/user-h">llvm/IR/User.h</a>&quot;</span></CodeLine>
<Link id="l00090" /><CodeLine lineNumber="90"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/ir/value-h">llvm/IR/Value.h</a>&quot;</span></CodeLine>
<Link id="l00091" /><CodeLine lineNumber="91"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/mc/mccontext-h">llvm/MC/MCContext.h</a>&quot;</span></CodeLine>
<Link id="l00092" /><CodeLine lineNumber="92"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/support/atomicordering-h">llvm/Support/AtomicOrdering.h</a>&quot;</span></CodeLine>
<Link id="l00093" /><CodeLine lineNumber="93"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/support/casting-h">llvm/Support/Casting.h</a>&quot;</span></CodeLine>
<Link id="l00094" /><CodeLine lineNumber="94"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/support/commandline-h">llvm/Support/CommandLine.h</a>&quot;</span></CodeLine>
<Link id="l00095" /><CodeLine lineNumber="95"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/support/compiler-h">llvm/Support/Compiler.h</a>&quot;</span></CodeLine>
<Link id="l00096" /><CodeLine lineNumber="96"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/support/debug-h">llvm/Support/Debug.h</a>&quot;</span></CodeLine>
<Link id="l00097" /><CodeLine lineNumber="97"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/support/instructioncost-h">llvm/Support/InstructionCost.h</a>&quot;</span></CodeLine>
<Link id="l00098" /><CodeLine lineNumber="98"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/support/mathextras-h">llvm/Support/MathExtras.h</a>&quot;</span></CodeLine>
<Link id="l00099" /><CodeLine lineNumber="99"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/support/raw-ostream-h">llvm/Support/raw&#95;ostream.h</a>&quot;</span></CodeLine>
<Link id="l00100" /><CodeLine lineNumber="100"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/target/targetintrinsicinfo-h">llvm/Target/TargetIntrinsicInfo.h</a>&quot;</span></CodeLine>
<Link id="l00101" /><CodeLine lineNumber="101"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/target/targetmachine-h">llvm/Target/TargetMachine.h</a>&quot;</span></CodeLine>
<Link id="l00102" /><CodeLine lineNumber="102"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/target/targetoptions-h">llvm/Target/TargetOptions.h</a>&quot;</span></CodeLine>
<Link id="l00103" /><CodeLine lineNumber="103"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/targetparser/triple-h">llvm/TargetParser/Triple.h</a>&quot;</span></CodeLine>
<Link id="l00104" /><CodeLine lineNumber="104"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/local-h">llvm/Transforms/Utils/Local.h</a>&quot;</span></CodeLine>
<Link id="l00105" /><CodeLine lineNumber="105"><span class="doxyHighlightPreprocessor">#include &lt;cstddef&gt;</span></CodeLine>
<Link id="l00106" /><CodeLine lineNumber="106"><span class="doxyHighlightPreprocessor">#include &lt;limits&gt;</span></CodeLine>
<Link id="l00107" /><CodeLine lineNumber="107"><span class="doxyHighlightPreprocessor">#include &lt;optional&gt;</span></CodeLine>
<Link id="l00108" /><CodeLine lineNumber="108"><span class="doxyHighlightPreprocessor">#include &lt;tuple&gt;</span></CodeLine>
<Link id="l00109" /><CodeLine lineNumber="109"></CodeLine>
<Link id="l00110" /><CodeLine lineNumber="110"><span class="doxyHighlightKeyword">using namespace </span><span class="doxyHighlight"><a href="/docs/api/namespaces/llvm">llvm</a>;</span></CodeLine>
<Link id="l00111" /><CodeLine lineNumber="111"><span class="doxyHighlightKeyword">using namespace </span><span class="doxyHighlight"><a href="/docs/api/namespaces/llvm/patternmatch">PatternMatch</a>;</span></CodeLine>
<Link id="l00112" /><CodeLine lineNumber="112"><span class="doxyHighlightKeyword">using namespace </span><span class="doxyHighlight"><a href="/docs/api/namespaces/llvm/switchcg">SwitchCG</a>;</span></CodeLine>
<Link id="l00113" /><CodeLine lineNumber="113"></CodeLine>
<Link id="l00114" /><CodeLine lineNumber="114" lineLink="#ad78e062f62e0d6e453941fb4ca843e4d"><span class="doxyHighlightPreprocessor">#define DEBUG&#95;TYPE &quot;isel&quot;</span></CodeLine>
<Link id="l00115" /><CodeLine lineNumber="115"></CodeLine>
<Link id="l00116" /><CodeLine lineNumber="116"><span class="doxyHighlightComment">/// LimitFloatPrecision - Generate low-precision inline sequences for</span></CodeLine>
<Link id="l00117" /><CodeLine lineNumber="117"><span class="doxyHighlightComment">/// some float libcalls (6, 8 or 12 bits).</span></CodeLine>
<Link id="l00118" /><CodeLine lineNumber="118" lineLink="#af0f05cb4bab4be29196d76812dd8d262"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> <a href="#af0f05cb4bab4be29196d76812dd8d262">LimitFloatPrecision</a>;</span></CodeLine>
<Link id="l00119" /><CodeLine lineNumber="119"></CodeLine>
<Link id="l00120" /><CodeLine lineNumber="120"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/cl/opt">cl::opt&lt;bool&gt;</a></span></CodeLine>
<Link id="l00121" /><CodeLine lineNumber="121" lineLink="#a49cd2aba4ceac5306ec590bc818e39d7"><span class="doxyHighlight">    <a href="#a49cd2aba4ceac5306ec590bc818e39d7">InsertAssertAlign</a>(</span><span class="doxyHighlightStringLiteral">&quot;insert-assert-align&quot;</span><span class="doxyHighlight">, <a href="/docs/api/namespaces/llvm/cl/#ac12e6a8f3a1b511f0dee2ed6de0ae806">cl::init</a>(</span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">),</span></CodeLine>
<Link id="l00122" /><CodeLine lineNumber="122"><span class="doxyHighlight">                      <a href="/docs/api/structs/llvm/cl/desc">cl::desc</a>(</span><span class="doxyHighlightStringLiteral">&quot;Insert the experimental &#96;assertalign&#96; node.&quot;</span><span class="doxyHighlight">),</span></CodeLine>
<Link id="l00123" /><CodeLine lineNumber="123"><span class="doxyHighlight">                      <a href="/docs/api/namespaces/llvm/cl/#a68075925a54790e71ca790e1d4f21a40ab81f279502bb9ca74e6629cfb62844be">cl::ReallyHidden</a>);</span></CodeLine>
<Link id="l00124" /><CodeLine lineNumber="124"></CodeLine>
<Link id="l00125" /><CodeLine lineNumber="125"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/cl/opt">cl::opt&lt;unsigned, true&gt;</a></span></CodeLine>
<Link id="l00126" /><CodeLine lineNumber="126" lineLink="#ae35a787fca4125893d2df4147b1e0aac"><span class="doxyHighlight">    <a href="#ae35a787fca4125893d2df4147b1e0aac">LimitFPPrecision</a>(</span><span class="doxyHighlightStringLiteral">&quot;limit-float-precision&quot;</span><span class="doxyHighlight">,</span></CodeLine>
<Link id="l00127" /><CodeLine lineNumber="127"><span class="doxyHighlight">                     <a href="/docs/api/structs/llvm/cl/desc">cl::desc</a>(</span><span class="doxyHighlightStringLiteral">&quot;Generate low-precision inline sequences &quot;</span></CodeLine>
<Link id="l00128" /><CodeLine lineNumber="128"><span class="doxyHighlight">                              </span><span class="doxyHighlightStringLiteral">&quot;for some float libcalls&quot;</span><span class="doxyHighlight">),</span></CodeLine>
<Link id="l00129" /><CodeLine lineNumber="129"><span class="doxyHighlight">                     <a href="/docs/api/namespaces/llvm/cl/#ad4de522646a65d987250e3aba9c55931">cl::location</a>(<a href="#af0f05cb4bab4be29196d76812dd8d262">LimitFloatPrecision</a>), <a href="/docs/api/namespaces/llvm/cl/#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</span></CodeLine>
<Link id="l00130" /><CodeLine lineNumber="130"><span class="doxyHighlight">                     <a href="/docs/api/namespaces/llvm/cl/#ac12e6a8f3a1b511f0dee2ed6de0ae806">cl::init</a>(0));</span></CodeLine>
<Link id="l00131" /><CodeLine lineNumber="131"></CodeLine>
<Link id="l00132" /><CodeLine lineNumber="132" lineLink="#a45d62ce9e63770ceb48965f8b4b727a8"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/cl/opt">cl::opt&lt;unsigned&gt;</a> <a href="#a45d62ce9e63770ceb48965f8b4b727a8">SwitchPeelThreshold</a>(</span></CodeLine>
<Link id="l00133" /><CodeLine lineNumber="133"><span class="doxyHighlight">    </span><span class="doxyHighlightStringLiteral">&quot;switch-peel-threshold&quot;</span><span class="doxyHighlight">, <a href="/docs/api/namespaces/llvm/cl/#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a href="/docs/api/namespaces/llvm/cl/#ac12e6a8f3a1b511f0dee2ed6de0ae806">cl::init</a>(66),</span></CodeLine>
<Link id="l00134" /><CodeLine lineNumber="134"><span class="doxyHighlight">    <a href="/docs/api/structs/llvm/cl/desc">cl::desc</a>(</span><span class="doxyHighlightStringLiteral">&quot;Set the case probability threshold for peeling the case from a &quot;</span></CodeLine>
<Link id="l00135" /><CodeLine lineNumber="135"><span class="doxyHighlight">             </span><span class="doxyHighlightStringLiteral">&quot;switch statement. A value greater than 100 will void this &quot;</span></CodeLine>
<Link id="l00136" /><CodeLine lineNumber="136"><span class="doxyHighlight">             </span><span class="doxyHighlightStringLiteral">&quot;optimization&quot;</span><span class="doxyHighlight">));</span></CodeLine>
<Link id="l00137" /><CodeLine lineNumber="137"></CodeLine>
<Link id="l00138" /><CodeLine lineNumber="138"><span class="doxyHighlightComment">// Limit the width of DAG chains. This is important in general to prevent</span></CodeLine>
<Link id="l00139" /><CodeLine lineNumber="139"><span class="doxyHighlightComment">// DAG-based analysis from blowing up. For example, alias analysis and</span></CodeLine>
<Link id="l00140" /><CodeLine lineNumber="140"><span class="doxyHighlightComment">// load clustering may not complete in reasonable time. It is difficult to</span></CodeLine>
<Link id="l00141" /><CodeLine lineNumber="141"><span class="doxyHighlightComment">// recognize and avoid this situation within each individual analysis, and</span></CodeLine>
<Link id="l00142" /><CodeLine lineNumber="142"><span class="doxyHighlightComment">// future analyses are likely to have the same behavior. Limiting DAG width is</span></CodeLine>
<Link id="l00143" /><CodeLine lineNumber="143"><span class="doxyHighlightComment">// the safe approach and will be especially important with global DAGs.</span></CodeLine>
<Link id="l00144" /><CodeLine lineNumber="144"><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l00145" /><CodeLine lineNumber="145"><span class="doxyHighlightComment">// MaxParallelChains default is arbitrarily high to avoid affecting</span></CodeLine>
<Link id="l00146" /><CodeLine lineNumber="146"><span class="doxyHighlightComment">// optimization, but could be lowered to improve compile time. Any ld-ld-st-st</span></CodeLine>
<Link id="l00147" /><CodeLine lineNumber="147"><span class="doxyHighlightComment">// sequence over this should have been converted to llvm.memcpy by the</span></CodeLine>
<Link id="l00148" /><CodeLine lineNumber="148"><span class="doxyHighlightComment">// frontend. It is easy to induce this behavior with .ll code such as:</span></CodeLine>
<Link id="l00149" /><CodeLine lineNumber="149"><span class="doxyHighlightComment">// %buffer = alloca &#91;4096 x i8&#93;</span></CodeLine>
<Link id="l00150" /><CodeLine lineNumber="150"><span class="doxyHighlightComment">// %data = load &#91;4096 x i8&#93;&#42; %argPtr</span></CodeLine>
<Link id="l00151" /><CodeLine lineNumber="151"><span class="doxyHighlightComment">// store &#91;4096 x i8&#93; %data, &#91;4096 x i8&#93;&#42; %buffer</span></CodeLine>
<Link id="l00152" /><CodeLine lineNumber="152" lineLink="#a227e50a8e0a5a0bac4f3409a83727e6e"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> <a href="#a227e50a8e0a5a0bac4f3409a83727e6e">MaxParallelChains</a> = 64;</span></CodeLine>
<Link id="l00153" /><CodeLine lineNumber="153"></CodeLine>
<Link id="l00154" /><CodeLine lineNumber="154"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="#af47fbc357d61496b2ec06c60c79f6400">getCopyFromPartsVector</a>(<a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp;DAG, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> &amp;<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</span></CodeLine>
<Link id="l00155" /><CodeLine lineNumber="155"><span class="doxyHighlight">                                      </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> &#42;Parts, </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumParts,</span></CodeLine>
<Link id="l00156" /><CodeLine lineNumber="156"><span class="doxyHighlight">                                      <a href="/docs/api/classes/llvm/mvt">MVT</a> PartVT, <a href="/docs/api/structs/llvm/evt">EVT</a> ValueVT, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/value">Value</a> &#42;V,</span></CodeLine>
<Link id="l00157" /><CodeLine lineNumber="157"><span class="doxyHighlight">                                      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> InChain,</span></CodeLine>
<Link id="l00158" /><CodeLine lineNumber="158"><span class="doxyHighlight">                                      std::optional&lt;CallingConv::ID&gt; <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a77c69067ae8279bc00ab8757731e90d7">CC</a>);</span></CodeLine>
<Link id="l00159" /><CodeLine lineNumber="159"></CodeLine>
<Link id="l00160" /><CodeLine lineNumber="160"><span class="doxyHighlightComment">/// getCopyFromParts - Create a value that contains the specified legal parts</span></CodeLine>
<Link id="l00161" /><CodeLine lineNumber="161"><span class="doxyHighlightComment">/// combined into the value they represent.  If the parts combine to a type</span></CodeLine>
<Link id="l00162" /><CodeLine lineNumber="162"><span class="doxyHighlightComment">/// larger than ValueVT then AssertOp can be used to specify whether the extra</span></CodeLine>
<Link id="l00163" /><CodeLine lineNumber="163"><span class="doxyHighlightComment">/// bits are known to be zero (ISD::AssertZext) or sign extended from ValueVT</span></CodeLine>
<Link id="l00164" /><CodeLine lineNumber="164"><span class="doxyHighlightComment">/// (ISD::AssertSext).</span></CodeLine>
<Link id="l00165" /><CodeLine lineNumber="165"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/sdvalue">SDValue</a></span></CodeLine>
<Link id="l00166" /><CodeLine lineNumber="166" lineLink="#acb8cf9e50c3979193572ea36f327d0a4"><span class="doxyHighlight"><a href="#acb8cf9e50c3979193572ea36f327d0a4">getCopyFromParts</a>(<a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp;DAG, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> &amp;<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> &#42;Parts,</span></CodeLine>
<Link id="l00167" /><CodeLine lineNumber="167"><span class="doxyHighlight">                 </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumParts, <a href="/docs/api/classes/llvm/mvt">MVT</a> PartVT, <a href="/docs/api/structs/llvm/evt">EVT</a> ValueVT, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/value">Value</a> &#42;V,</span></CodeLine>
<Link id="l00168" /><CodeLine lineNumber="168"><span class="doxyHighlight">                 <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> InChain,</span></CodeLine>
<Link id="l00169" /><CodeLine lineNumber="169"><span class="doxyHighlight">                 std::optional&lt;CallingConv::ID&gt; <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a77c69067ae8279bc00ab8757731e90d7">CC</a> = std::nullopt,</span></CodeLine>
<Link id="l00170" /><CodeLine lineNumber="170"><span class="doxyHighlight">                 std::optional&lt;ISD::NodeType&gt; AssertOp = std::nullopt) &#123;</span></CodeLine>
<Link id="l00171" /><CodeLine lineNumber="171"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Let the target assemble the parts if it wants to</span></CodeLine>
<Link id="l00172" /><CodeLine lineNumber="172"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetlowering">TargetLowering</a> &amp;TLI = DAG.<a href="/docs/api/classes/llvm/selectiondag/#a4c20c587f89ae2926f9e8a99093e8419">getTargetLoweringInfo</a>();</span></CodeLine>
<Link id="l00173" /><CodeLine lineNumber="173"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Val = TLI.<a href="/docs/api/classes/llvm/targetlowering/#a7271d32a363f6f4c4d632f1bf4986b33">joinRegisterPartsIntoValue</a>(DAG, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Parts, NumParts,</span></CodeLine>
<Link id="l00174" /><CodeLine lineNumber="174"><span class="doxyHighlight">                                                   PartVT, ValueVT, <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a77c69067ae8279bc00ab8757731e90d7">CC</a>))</span></CodeLine>
<Link id="l00175" /><CodeLine lineNumber="175"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> Val;</span></CodeLine>
<Link id="l00176" /><CodeLine lineNumber="176"></CodeLine>
<Link id="l00177" /><CodeLine lineNumber="177"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (ValueVT.<a href="/docs/api/structs/llvm/evt/#aa54976197fff266f4143beb44fc9764c">isVector</a>())</span></CodeLine>
<Link id="l00178" /><CodeLine lineNumber="178"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="#af47fbc357d61496b2ec06c60c79f6400">getCopyFromPartsVector</a>(DAG, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Parts, NumParts, PartVT, ValueVT, V,</span></CodeLine>
<Link id="l00179" /><CodeLine lineNumber="179"><span class="doxyHighlight">                                  InChain, <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a77c69067ae8279bc00ab8757731e90d7">CC</a>);</span></CodeLine>
<Link id="l00180" /><CodeLine lineNumber="180"></CodeLine>
<Link id="l00181" /><CodeLine lineNumber="181"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(NumParts &gt; 0 &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;No parts to assemble!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l00182" /><CodeLine lineNumber="182"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Val = Parts&#91;0&#93;;</span></CodeLine>
<Link id="l00183" /><CodeLine lineNumber="183"></CodeLine>
<Link id="l00184" /><CodeLine lineNumber="184"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (NumParts &gt; 1) &#123;</span></CodeLine>
<Link id="l00185" /><CodeLine lineNumber="185"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Assemble the value from multiple parts.</span></CodeLine>
<Link id="l00186" /><CodeLine lineNumber="186"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (ValueVT.<a href="/docs/api/structs/llvm/evt/#af975bf04c49cc895cfe38e7dc126a2f1">isInteger</a>()) &#123;</span></CodeLine>
<Link id="l00187" /><CodeLine lineNumber="187"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> PartBits = PartVT.<a href="/docs/api/classes/llvm/mvt/#a7be7c6dd92efc0d6f866d4a3b433eed0">getSizeInBits</a>();</span></CodeLine>
<Link id="l00188" /><CodeLine lineNumber="188"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> ValueBits = ValueVT.<a href="/docs/api/structs/llvm/evt/#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>();</span></CodeLine>
<Link id="l00189" /><CodeLine lineNumber="189"></CodeLine>
<Link id="l00190" /><CodeLine lineNumber="190"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Assemble the power of 2 part.</span></CodeLine>
<Link id="l00191" /><CodeLine lineNumber="191"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> RoundParts = <a href="/docs/api/namespaces/llvm/#ae22967d11b695d268992470debfae4b2">llvm::bit&#95;floor</a>(NumParts);</span></CodeLine>
<Link id="l00192" /><CodeLine lineNumber="192"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> RoundBits = PartBits &#42; RoundParts;</span></CodeLine>
<Link id="l00193" /><CodeLine lineNumber="193"><span class="doxyHighlight">      <a href="/docs/api/structs/llvm/evt">EVT</a> RoundVT = RoundBits == ValueBits ?</span></CodeLine>
<Link id="l00194" /><CodeLine lineNumber="194"><span class="doxyHighlight">        ValueVT : <a href="/docs/api/structs/llvm/evt/#a752372e170e4e7c595bf8810bb52adf2">EVT::getIntegerVT</a>(&#42;DAG.<a href="/docs/api/classes/llvm/selectiondag/#adecf615928faed0c8a082ffdb65dfea0">getContext</a>(), RoundBits);</span></CodeLine>
<Link id="l00195" /><CodeLine lineNumber="195"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="/docs/api/namespaces/llvm/#a9ac8e4e13ad96a39c3f8db9ed633ad2baff50b4aa1c9cc2197ef898436641c911">Lo</a>, <a href="/docs/api/namespaces/llvm/#a9ac8e4e13ad96a39c3f8db9ed633ad2bac1a5298f939e87e8f962a5edfc206918">Hi</a>;</span></CodeLine>
<Link id="l00196" /><CodeLine lineNumber="196"></CodeLine>
<Link id="l00197" /><CodeLine lineNumber="197"><span class="doxyHighlight">      <a href="/docs/api/structs/llvm/evt">EVT</a> HalfVT = <a href="/docs/api/structs/llvm/evt/#a752372e170e4e7c595bf8810bb52adf2">EVT::getIntegerVT</a>(&#42;DAG.<a href="/docs/api/classes/llvm/selectiondag/#adecf615928faed0c8a082ffdb65dfea0">getContext</a>(), RoundBits/2);</span></CodeLine>
<Link id="l00198" /><CodeLine lineNumber="198"></CodeLine>
<Link id="l00199" /><CodeLine lineNumber="199"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (RoundParts &gt; 2) &#123;</span></CodeLine>
<Link id="l00200" /><CodeLine lineNumber="200"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/#a9ac8e4e13ad96a39c3f8db9ed633ad2baff50b4aa1c9cc2197ef898436641c911">Lo</a> = <a href="#acb8cf9e50c3979193572ea36f327d0a4">getCopyFromParts</a>(DAG, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Parts, RoundParts / 2, PartVT, HalfVT, V,</span></CodeLine>
<Link id="l00201" /><CodeLine lineNumber="201"><span class="doxyHighlight">                              InChain);</span></CodeLine>
<Link id="l00202" /><CodeLine lineNumber="202"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/#a9ac8e4e13ad96a39c3f8db9ed633ad2bac1a5298f939e87e8f962a5edfc206918">Hi</a> = <a href="#acb8cf9e50c3979193572ea36f327d0a4">getCopyFromParts</a>(DAG, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Parts + RoundParts / 2, RoundParts / 2,</span></CodeLine>
<Link id="l00203" /><CodeLine lineNumber="203"><span class="doxyHighlight">                              PartVT, HalfVT, V, InChain);</span></CodeLine>
<Link id="l00204" /><CodeLine lineNumber="204"><span class="doxyHighlight">      &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l00205" /><CodeLine lineNumber="205"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/#a9ac8e4e13ad96a39c3f8db9ed633ad2baff50b4aa1c9cc2197ef898436641c911">Lo</a> = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::BITCAST, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, HalfVT, Parts&#91;0&#93;);</span></CodeLine>
<Link id="l00206" /><CodeLine lineNumber="206"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/#a9ac8e4e13ad96a39c3f8db9ed633ad2bac1a5298f939e87e8f962a5edfc206918">Hi</a> = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::BITCAST, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, HalfVT, Parts&#91;1&#93;);</span></CodeLine>
<Link id="l00207" /><CodeLine lineNumber="207"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l00208" /><CodeLine lineNumber="208"></CodeLine>
<Link id="l00209" /><CodeLine lineNumber="209"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (DAG.<a href="/docs/api/classes/llvm/selectiondag/#a6b442ac8a9fc6147b95ccfb2c3322121">getDataLayout</a>().<a href="/docs/api/classes/llvm/datalayout/#a84c1d72001dd5f34d9a55b3a7bb8a474">isBigEndian</a>())</span></CodeLine>
<Link id="l00210" /><CodeLine lineNumber="210"><span class="doxyHighlight">        <a href="/docs/api/namespaces/std/#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(<a href="/docs/api/namespaces/llvm/#a9ac8e4e13ad96a39c3f8db9ed633ad2baff50b4aa1c9cc2197ef898436641c911">Lo</a>, <a href="/docs/api/namespaces/llvm/#a9ac8e4e13ad96a39c3f8db9ed633ad2bac1a5298f939e87e8f962a5edfc206918">Hi</a>);</span></CodeLine>
<Link id="l00211" /><CodeLine lineNumber="211"></CodeLine>
<Link id="l00212" /><CodeLine lineNumber="212"><span class="doxyHighlight">      Val = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a41bd84b853e2c03fb1af1f4ca9ebdcaf">ISD::BUILD&#95;PAIR</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, RoundVT, <a href="/docs/api/namespaces/llvm/#a9ac8e4e13ad96a39c3f8db9ed633ad2baff50b4aa1c9cc2197ef898436641c911">Lo</a>, <a href="/docs/api/namespaces/llvm/#a9ac8e4e13ad96a39c3f8db9ed633ad2bac1a5298f939e87e8f962a5edfc206918">Hi</a>);</span></CodeLine>
<Link id="l00213" /><CodeLine lineNumber="213"></CodeLine>
<Link id="l00214" /><CodeLine lineNumber="214"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (RoundParts &lt; NumParts) &#123;</span></CodeLine>
<Link id="l00215" /><CodeLine lineNumber="215"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// Assemble the trailing non-power-of-2 part.</span></CodeLine>
<Link id="l00216" /><CodeLine lineNumber="216"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> OddParts = NumParts - RoundParts;</span></CodeLine>
<Link id="l00217" /><CodeLine lineNumber="217"><span class="doxyHighlight">        <a href="/docs/api/structs/llvm/evt">EVT</a> OddVT = <a href="/docs/api/structs/llvm/evt/#a752372e170e4e7c595bf8810bb52adf2">EVT::getIntegerVT</a>(&#42;DAG.<a href="/docs/api/classes/llvm/selectiondag/#adecf615928faed0c8a082ffdb65dfea0">getContext</a>(), OddParts &#42; PartBits);</span></CodeLine>
<Link id="l00218" /><CodeLine lineNumber="218"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/#a9ac8e4e13ad96a39c3f8db9ed633ad2bac1a5298f939e87e8f962a5edfc206918">Hi</a> = <a href="#acb8cf9e50c3979193572ea36f327d0a4">getCopyFromParts</a>(DAG, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Parts + RoundParts, OddParts, PartVT,</span></CodeLine>
<Link id="l00219" /><CodeLine lineNumber="219"><span class="doxyHighlight">                              OddVT, V, InChain, <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a77c69067ae8279bc00ab8757731e90d7">CC</a>);</span></CodeLine>
<Link id="l00220" /><CodeLine lineNumber="220"></CodeLine>
<Link id="l00221" /><CodeLine lineNumber="221"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// Combine the round and odd parts.</span></CodeLine>
<Link id="l00222" /><CodeLine lineNumber="222"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/#a9ac8e4e13ad96a39c3f8db9ed633ad2baff50b4aa1c9cc2197ef898436641c911">Lo</a> = Val;</span></CodeLine>
<Link id="l00223" /><CodeLine lineNumber="223"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (DAG.<a href="/docs/api/classes/llvm/selectiondag/#a6b442ac8a9fc6147b95ccfb2c3322121">getDataLayout</a>().<a href="/docs/api/classes/llvm/datalayout/#a84c1d72001dd5f34d9a55b3a7bb8a474">isBigEndian</a>())</span></CodeLine>
<Link id="l00224" /><CodeLine lineNumber="224"><span class="doxyHighlight">          <a href="/docs/api/namespaces/std/#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(<a href="/docs/api/namespaces/llvm/#a9ac8e4e13ad96a39c3f8db9ed633ad2baff50b4aa1c9cc2197ef898436641c911">Lo</a>, <a href="/docs/api/namespaces/llvm/#a9ac8e4e13ad96a39c3f8db9ed633ad2bac1a5298f939e87e8f962a5edfc206918">Hi</a>);</span></CodeLine>
<Link id="l00225" /><CodeLine lineNumber="225"><span class="doxyHighlight">        <a href="/docs/api/structs/llvm/evt">EVT</a> TotalVT = <a href="/docs/api/structs/llvm/evt/#a752372e170e4e7c595bf8810bb52adf2">EVT::getIntegerVT</a>(&#42;DAG.<a href="/docs/api/classes/llvm/selectiondag/#adecf615928faed0c8a082ffdb65dfea0">getContext</a>(), NumParts &#42; PartBits);</span></CodeLine>
<Link id="l00226" /><CodeLine lineNumber="226"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/#a9ac8e4e13ad96a39c3f8db9ed633ad2bac1a5298f939e87e8f962a5edfc206918">Hi</a> = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a27d5d8ef82302b739ba3ca8be1a5513d">ISD::ANY&#95;EXTEND</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, TotalVT, <a href="/docs/api/namespaces/llvm/#a9ac8e4e13ad96a39c3f8db9ed633ad2bac1a5298f939e87e8f962a5edfc206918">Hi</a>);</span></CodeLine>
<Link id="l00227" /><CodeLine lineNumber="227"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/#a9ac8e4e13ad96a39c3f8db9ed633ad2bac1a5298f939e87e8f962a5edfc206918">Hi</a> = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, TotalVT, <a href="/docs/api/namespaces/llvm/#a9ac8e4e13ad96a39c3f8db9ed633ad2bac1a5298f939e87e8f962a5edfc206918">Hi</a>,</span></CodeLine>
<Link id="l00228" /><CodeLine lineNumber="228"><span class="doxyHighlight">                         DAG.<a href="/docs/api/classes/llvm/selectiondag/#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(<a href="/docs/api/namespaces/llvm/#a9ac8e4e13ad96a39c3f8db9ed633ad2baff50b4aa1c9cc2197ef898436641c911">Lo</a>.getValueSizeInBits(), <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</span></CodeLine>
<Link id="l00229" /><CodeLine lineNumber="229"><span class="doxyHighlight">                                         TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a6a2579bc0354806c6c9708b068777c3a">getShiftAmountTy</a>(</span></CodeLine>
<Link id="l00230" /><CodeLine lineNumber="230"><span class="doxyHighlight">                                             TotalVT, DAG.<a href="/docs/api/classes/llvm/selectiondag/#a6b442ac8a9fc6147b95ccfb2c3322121">getDataLayout</a>())));</span></CodeLine>
<Link id="l00231" /><CodeLine lineNumber="231"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/#a9ac8e4e13ad96a39c3f8db9ed633ad2baff50b4aa1c9cc2197ef898436641c911">Lo</a> = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">ISD::ZERO&#95;EXTEND</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, TotalVT, <a href="/docs/api/namespaces/llvm/#a9ac8e4e13ad96a39c3f8db9ed633ad2baff50b4aa1c9cc2197ef898436641c911">Lo</a>);</span></CodeLine>
<Link id="l00232" /><CodeLine lineNumber="232"><span class="doxyHighlight">        Val = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, TotalVT, <a href="/docs/api/namespaces/llvm/#a9ac8e4e13ad96a39c3f8db9ed633ad2baff50b4aa1c9cc2197ef898436641c911">Lo</a>, <a href="/docs/api/namespaces/llvm/#a9ac8e4e13ad96a39c3f8db9ed633ad2bac1a5298f939e87e8f962a5edfc206918">Hi</a>);</span></CodeLine>
<Link id="l00233" /><CodeLine lineNumber="233"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l00234" /><CodeLine lineNumber="234"><span class="doxyHighlight">    &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (PartVT.<a href="/docs/api/classes/llvm/mvt/#adc90e34882c97d5a86dd883d3d23b4ca">isFloatingPoint</a>()) &#123;</span></CodeLine>
<Link id="l00235" /><CodeLine lineNumber="235"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// FP split into multiple FP parts (for ppcf128)</span></CodeLine>
<Link id="l00236" /><CodeLine lineNumber="236"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ValueVT == <a href="/docs/api/structs/llvm/evt">EVT</a>(MVT::ppcf128) &amp;&amp; PartVT == MVT::f64 &amp;&amp;</span></CodeLine>
<Link id="l00237" /><CodeLine lineNumber="237"><span class="doxyHighlight">             </span><span class="doxyHighlightStringLiteral">&quot;Unexpected split&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l00238" /><CodeLine lineNumber="238"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="/docs/api/namespaces/llvm/#a9ac8e4e13ad96a39c3f8db9ed633ad2baff50b4aa1c9cc2197ef898436641c911">Lo</a>, <a href="/docs/api/namespaces/llvm/#a9ac8e4e13ad96a39c3f8db9ed633ad2bac1a5298f939e87e8f962a5edfc206918">Hi</a>;</span></CodeLine>
<Link id="l00239" /><CodeLine lineNumber="239"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/#a9ac8e4e13ad96a39c3f8db9ed633ad2baff50b4aa1c9cc2197ef898436641c911">Lo</a> = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::BITCAST, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a href="/docs/api/structs/llvm/evt">EVT</a>(MVT::f64), Parts&#91;0&#93;);</span></CodeLine>
<Link id="l00240" /><CodeLine lineNumber="240"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/#a9ac8e4e13ad96a39c3f8db9ed633ad2bac1a5298f939e87e8f962a5edfc206918">Hi</a> = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::BITCAST, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a href="/docs/api/structs/llvm/evt">EVT</a>(MVT::f64), Parts&#91;1&#93;);</span></CodeLine>
<Link id="l00241" /><CodeLine lineNumber="241"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a688ffa442f6e7922360f0a744a479bbd">hasBigEndianPartOrdering</a>(ValueVT, DAG.<a href="/docs/api/classes/llvm/selectiondag/#a6b442ac8a9fc6147b95ccfb2c3322121">getDataLayout</a>()))</span></CodeLine>
<Link id="l00242" /><CodeLine lineNumber="242"><span class="doxyHighlight">        <a href="/docs/api/namespaces/std/#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(<a href="/docs/api/namespaces/llvm/#a9ac8e4e13ad96a39c3f8db9ed633ad2baff50b4aa1c9cc2197ef898436641c911">Lo</a>, <a href="/docs/api/namespaces/llvm/#a9ac8e4e13ad96a39c3f8db9ed633ad2bac1a5298f939e87e8f962a5edfc206918">Hi</a>);</span></CodeLine>
<Link id="l00243" /><CodeLine lineNumber="243"><span class="doxyHighlight">      Val = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a41bd84b853e2c03fb1af1f4ca9ebdcaf">ISD::BUILD&#95;PAIR</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ValueVT, <a href="/docs/api/namespaces/llvm/#a9ac8e4e13ad96a39c3f8db9ed633ad2baff50b4aa1c9cc2197ef898436641c911">Lo</a>, <a href="/docs/api/namespaces/llvm/#a9ac8e4e13ad96a39c3f8db9ed633ad2bac1a5298f939e87e8f962a5edfc206918">Hi</a>);</span></CodeLine>
<Link id="l00244" /><CodeLine lineNumber="244"><span class="doxyHighlight">    &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l00245" /><CodeLine lineNumber="245"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// FP split into integer parts (soft fp)</span></CodeLine>
<Link id="l00246" /><CodeLine lineNumber="246"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ValueVT.<a href="/docs/api/structs/llvm/evt/#a3cb888a2ce8e95e0d9769687a5e2f7d8">isFloatingPoint</a>() &amp;&amp; PartVT.<a href="/docs/api/classes/llvm/mvt/#a437cf7bc875369cbe0ea62f949626f0b">isInteger</a>() &amp;&amp;</span></CodeLine>
<Link id="l00247" /><CodeLine lineNumber="247"><span class="doxyHighlight">             !PartVT.<a href="/docs/api/classes/llvm/mvt/#a425636b56fa037ed7b19ef7f9de30df9">isVector</a>() &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Unexpected split&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l00248" /><CodeLine lineNumber="248"><span class="doxyHighlight">      <a href="/docs/api/structs/llvm/evt">EVT</a> IntVT = <a href="/docs/api/structs/llvm/evt/#a752372e170e4e7c595bf8810bb52adf2">EVT::getIntegerVT</a>(&#42;DAG.<a href="/docs/api/classes/llvm/selectiondag/#adecf615928faed0c8a082ffdb65dfea0">getContext</a>(), ValueVT.<a href="/docs/api/structs/llvm/evt/#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>());</span></CodeLine>
<Link id="l00249" /><CodeLine lineNumber="249"><span class="doxyHighlight">      Val = <a href="#acb8cf9e50c3979193572ea36f327d0a4">getCopyFromParts</a>(DAG, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Parts, NumParts, PartVT, IntVT, V,</span></CodeLine>
<Link id="l00250" /><CodeLine lineNumber="250"><span class="doxyHighlight">                             InChain, <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a77c69067ae8279bc00ab8757731e90d7">CC</a>);</span></CodeLine>
<Link id="l00251" /><CodeLine lineNumber="251"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l00252" /><CodeLine lineNumber="252"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00253" /><CodeLine lineNumber="253"></CodeLine>
<Link id="l00254" /><CodeLine lineNumber="254"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// There is now one part, held in Val.  Correct it to match ValueVT.</span></CodeLine>
<Link id="l00255" /><CodeLine lineNumber="255"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// PartEVT is the type of the register class that holds the value.</span></CodeLine>
<Link id="l00256" /><CodeLine lineNumber="256"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// ValueVT is the type of the inline asm operation.</span></CodeLine>
<Link id="l00257" /><CodeLine lineNumber="257"><span class="doxyHighlight">  <a href="/docs/api/structs/llvm/evt">EVT</a> PartEVT = Val.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>();</span></CodeLine>
<Link id="l00258" /><CodeLine lineNumber="258"></CodeLine>
<Link id="l00259" /><CodeLine lineNumber="259"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (PartEVT == ValueVT)</span></CodeLine>
<Link id="l00260" /><CodeLine lineNumber="260"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> Val;</span></CodeLine>
<Link id="l00261" /><CodeLine lineNumber="261"></CodeLine>
<Link id="l00262" /><CodeLine lineNumber="262"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (PartEVT.<a href="/docs/api/structs/llvm/evt/#af975bf04c49cc895cfe38e7dc126a2f1">isInteger</a>() &amp;&amp; ValueVT.<a href="/docs/api/structs/llvm/evt/#a3cb888a2ce8e95e0d9769687a5e2f7d8">isFloatingPoint</a>() &amp;&amp;</span></CodeLine>
<Link id="l00263" /><CodeLine lineNumber="263"><span class="doxyHighlight">      ValueVT.<a href="/docs/api/structs/llvm/evt/#a3bf257bfbd279ecfad670be03b00210e">bitsLT</a>(PartEVT)) &#123;</span></CodeLine>
<Link id="l00264" /><CodeLine lineNumber="264"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// For an FP value in an integer part, we need to truncate to the right</span></CodeLine>
<Link id="l00265" /><CodeLine lineNumber="265"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// width first.</span></CodeLine>
<Link id="l00266" /><CodeLine lineNumber="266"><span class="doxyHighlight">    PartEVT = <a href="/docs/api/structs/llvm/evt/#a752372e170e4e7c595bf8810bb52adf2">EVT::getIntegerVT</a>(&#42;DAG.<a href="/docs/api/classes/llvm/selectiondag/#adecf615928faed0c8a082ffdb65dfea0">getContext</a>(),  ValueVT.<a href="/docs/api/structs/llvm/evt/#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>());</span></CodeLine>
<Link id="l00267" /><CodeLine lineNumber="267"><span class="doxyHighlight">    Val = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, PartEVT, Val);</span></CodeLine>
<Link id="l00268" /><CodeLine lineNumber="268"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00269" /><CodeLine lineNumber="269"></CodeLine>
<Link id="l00270" /><CodeLine lineNumber="270"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Handle types that have the same size.</span></CodeLine>
<Link id="l00271" /><CodeLine lineNumber="271"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (PartEVT.<a href="/docs/api/structs/llvm/evt/#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>() == ValueVT.<a href="/docs/api/structs/llvm/evt/#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>())</span></CodeLine>
<Link id="l00272" /><CodeLine lineNumber="272"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::BITCAST, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ValueVT, Val);</span></CodeLine>
<Link id="l00273" /><CodeLine lineNumber="273"></CodeLine>
<Link id="l00274" /><CodeLine lineNumber="274"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Handle types with different sizes.</span></CodeLine>
<Link id="l00275" /><CodeLine lineNumber="275"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (PartEVT.<a href="/docs/api/structs/llvm/evt/#af975bf04c49cc895cfe38e7dc126a2f1">isInteger</a>() &amp;&amp; ValueVT.<a href="/docs/api/structs/llvm/evt/#af975bf04c49cc895cfe38e7dc126a2f1">isInteger</a>()) &#123;</span></CodeLine>
<Link id="l00276" /><CodeLine lineNumber="276"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (ValueVT.<a href="/docs/api/structs/llvm/evt/#a3bf257bfbd279ecfad670be03b00210e">bitsLT</a>(PartEVT)) &#123;</span></CodeLine>
<Link id="l00277" /><CodeLine lineNumber="277"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// For a truncate, see if we have any information to</span></CodeLine>
<Link id="l00278" /><CodeLine lineNumber="278"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// indicate whether the truncated bits will always be</span></CodeLine>
<Link id="l00279" /><CodeLine lineNumber="279"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// zero or sign-extension.</span></CodeLine>
<Link id="l00280" /><CodeLine lineNumber="280"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (AssertOp)</span></CodeLine>
<Link id="l00281" /><CodeLine lineNumber="281"><span class="doxyHighlight">        Val = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(&#42;AssertOp, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, PartEVT, Val,</span></CodeLine>
<Link id="l00282" /><CodeLine lineNumber="282"><span class="doxyHighlight">                          DAG.<a href="/docs/api/classes/llvm/selectiondag/#ab8ba6b05ad4fa7517f2e23b26f84ae1b">getValueType</a>(ValueVT));</span></CodeLine>
<Link id="l00283" /><CodeLine lineNumber="283"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ValueVT, Val);</span></CodeLine>
<Link id="l00284" /><CodeLine lineNumber="284"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l00285" /><CodeLine lineNumber="285"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a27d5d8ef82302b739ba3ca8be1a5513d">ISD::ANY&#95;EXTEND</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ValueVT, Val);</span></CodeLine>
<Link id="l00286" /><CodeLine lineNumber="286"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00287" /><CodeLine lineNumber="287"></CodeLine>
<Link id="l00288" /><CodeLine lineNumber="288"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (PartEVT.<a href="/docs/api/structs/llvm/evt/#a3cb888a2ce8e95e0d9769687a5e2f7d8">isFloatingPoint</a>() &amp;&amp; ValueVT.<a href="/docs/api/structs/llvm/evt/#a3cb888a2ce8e95e0d9769687a5e2f7d8">isFloatingPoint</a>()) &#123;</span></CodeLine>
<Link id="l00289" /><CodeLine lineNumber="289"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// FP&#95;ROUND&#39;s are always exact here.</span></CodeLine>
<Link id="l00290" /><CodeLine lineNumber="290"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (ValueVT.<a href="/docs/api/structs/llvm/evt/#a3bf257bfbd279ecfad670be03b00210e">bitsLT</a>(Val.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>())) &#123;</span></CodeLine>
<Link id="l00291" /><CodeLine lineNumber="291"></CodeLine>
<Link id="l00292" /><CodeLine lineNumber="292"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> NoChange =</span></CodeLine>
<Link id="l00293" /><CodeLine lineNumber="293"><span class="doxyHighlight">          DAG.<a href="/docs/api/classes/llvm/selectiondag/#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(1, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(DAG.<a href="/docs/api/classes/llvm/selectiondag/#a6b442ac8a9fc6147b95ccfb2c3322121">getDataLayout</a>()));</span></CodeLine>
<Link id="l00294" /><CodeLine lineNumber="294"></CodeLine>
<Link id="l00295" /><CodeLine lineNumber="295"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (DAG.<a href="/docs/api/classes/llvm/selectiondag/#ac64ec73b0617befef1fb2eae78d12b5f">getMachineFunction</a>().<a href="/docs/api/classes/llvm/machinefunction/#a977ddce262de45c645be23d951066351">getFunction</a>().<a href="/docs/api/classes/llvm/function/#a7477aafbbe989ad35b96fac186d8e9fd">getAttributes</a>().hasFnAttr(</span></CodeLine>
<Link id="l00296" /><CodeLine lineNumber="296"><span class="doxyHighlight">              llvm::Attribute::StrictFP)) &#123;</span></CodeLine>
<Link id="l00297" /><CodeLine lineNumber="297"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110ac2273d9cd04ba6e4a7c1a4b28ab1aaba">ISD::STRICT&#95;FP&#95;ROUND</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</span></CodeLine>
<Link id="l00298" /><CodeLine lineNumber="298"><span class="doxyHighlight">                           DAG.<a href="/docs/api/classes/llvm/selectiondag/#a196c23d6cb4d768d037970f1f35bbf66">getVTList</a>(ValueVT, MVT::Other), InChain, Val,</span></CodeLine>
<Link id="l00299" /><CodeLine lineNumber="299"><span class="doxyHighlight">                           NoChange);</span></CodeLine>
<Link id="l00300" /><CodeLine lineNumber="300"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l00301" /><CodeLine lineNumber="301"></CodeLine>
<Link id="l00302" /><CodeLine lineNumber="302"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110adaf9a3cb5c2ef5eb713bd6bf4ae23aeb">ISD::FP&#95;ROUND</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ValueVT, Val, NoChange);</span></CodeLine>
<Link id="l00303" /><CodeLine lineNumber="303"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l00304" /><CodeLine lineNumber="304"></CodeLine>
<Link id="l00305" /><CodeLine lineNumber="305"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::FP&#95;EXTEND, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ValueVT, Val);</span></CodeLine>
<Link id="l00306" /><CodeLine lineNumber="306"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00307" /><CodeLine lineNumber="307"></CodeLine>
<Link id="l00308" /><CodeLine lineNumber="308"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Handle MMX to a narrower integer type by bitcasting MMX to integer and</span></CodeLine>
<Link id="l00309" /><CodeLine lineNumber="309"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// then truncating.</span></CodeLine>
<Link id="l00310" /><CodeLine lineNumber="310"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (PartEVT == MVT::x86mmx &amp;&amp; ValueVT.<a href="/docs/api/structs/llvm/evt/#af975bf04c49cc895cfe38e7dc126a2f1">isInteger</a>() &amp;&amp;</span></CodeLine>
<Link id="l00311" /><CodeLine lineNumber="311"><span class="doxyHighlight">      ValueVT.<a href="/docs/api/structs/llvm/evt/#a3bf257bfbd279ecfad670be03b00210e">bitsLT</a>(PartEVT)) &#123;</span></CodeLine>
<Link id="l00312" /><CodeLine lineNumber="312"><span class="doxyHighlight">    Val = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::BITCAST, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, MVT::i64, Val);</span></CodeLine>
<Link id="l00313" /><CodeLine lineNumber="313"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ValueVT, Val);</span></CodeLine>
<Link id="l00314" /><CodeLine lineNumber="314"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00315" /><CodeLine lineNumber="315"></CodeLine>
<Link id="l00316" /><CodeLine lineNumber="316"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#a7f2a3d4dcfee70225988aec53ff1e173">report&#95;fatal&#95;error</a>(</span><span class="doxyHighlightStringLiteral">&quot;Unknown mismatch in getCopyFromParts!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l00317" /><CodeLine lineNumber="317"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l00318" /><CodeLine lineNumber="318"></CodeLine>
<Link id="l00319" /><CodeLine lineNumber="319" lineLink="#a99fbe93d6d2539d12a7a9b40d04d7fec"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="#a99fbe93d6d2539d12a7a9b40d04d7fec">diagnosePossiblyInvalidConstraint</a>(<a href="/docs/api/classes/llvm/llvmcontext">LLVMContext</a> &amp;Ctx, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/value">Value</a> &#42;V,</span></CodeLine>
<Link id="l00320" /><CodeLine lineNumber="320"><span class="doxyHighlight">                                              </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/twine">Twine</a> &amp;ErrMsg) &#123;</span></CodeLine>
<Link id="l00321" /><CodeLine lineNumber="321"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a href="/docs/api/namespaces/llvm/#a5f6182886dc2f96c204299e92c1565d5">dyn&#95;cast&#95;or&#95;null&lt;Instruction&gt;</a>(V);</span></CodeLine>
<Link id="l00322" /><CodeLine lineNumber="322"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</span></CodeLine>
<Link id="l00323" /><CodeLine lineNumber="323"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> Ctx.emitError(ErrMsg);</span></CodeLine>
<Link id="l00324" /><CodeLine lineNumber="324"></CodeLine>
<Link id="l00325" /><CodeLine lineNumber="325"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/callinst">CallInst</a> &#42;CI = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;CallInst&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</span></CodeLine>
<Link id="l00326" /><CodeLine lineNumber="326"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (CI-&gt;isInlineAsm()) &#123;</span></CodeLine>
<Link id="l00327" /><CodeLine lineNumber="327"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> Ctx.diagnose(<a href="/docs/api/classes/llvm/diagnosticinfoinlineasm">DiagnosticInfoInlineAsm</a>(</span></CodeLine>
<Link id="l00328" /><CodeLine lineNumber="328"><span class="doxyHighlight">          &#42;CI, ErrMsg + </span><span class="doxyHighlightStringLiteral">&quot;, possible invalid constraint for vector type&quot;</span><span class="doxyHighlight">));</span></CodeLine>
<Link id="l00329" /><CodeLine lineNumber="329"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l00330" /><CodeLine lineNumber="330"></CodeLine>
<Link id="l00331" /><CodeLine lineNumber="331"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> Ctx.emitError(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, ErrMsg);</span></CodeLine>
<Link id="l00332" /><CodeLine lineNumber="332"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l00333" /><CodeLine lineNumber="333"></CodeLine>
<Link id="l00334" /><CodeLine lineNumber="334"><span class="doxyHighlightComment">/// getCopyFromPartsVector - Create a value that contains the specified legal</span></CodeLine>
<Link id="l00335" /><CodeLine lineNumber="335"><span class="doxyHighlightComment">/// parts combined into the value they represent.  If the parts combine to a</span></CodeLine>
<Link id="l00336" /><CodeLine lineNumber="336"><span class="doxyHighlightComment">/// type larger than ValueVT then AssertOp can be used to specify whether the</span></CodeLine>
<Link id="l00337" /><CodeLine lineNumber="337"><span class="doxyHighlightComment">/// extra bits are known to be zero (ISD::AssertZext) or sign extended from</span></CodeLine>
<Link id="l00338" /><CodeLine lineNumber="338"><span class="doxyHighlightComment">/// ValueVT (ISD::AssertSext).</span></CodeLine>
<Link id="l00339" /><CodeLine lineNumber="339" lineLink="#af47fbc357d61496b2ec06c60c79f6400"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="#af47fbc357d61496b2ec06c60c79f6400">getCopyFromPartsVector</a>(<a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp;DAG, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> &amp;<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</span></CodeLine>
<Link id="l00340" /><CodeLine lineNumber="340"><span class="doxyHighlight">                                      </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> &#42;Parts, </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumParts,</span></CodeLine>
<Link id="l00341" /><CodeLine lineNumber="341"><span class="doxyHighlight">                                      <a href="/docs/api/classes/llvm/mvt">MVT</a> PartVT, <a href="/docs/api/structs/llvm/evt">EVT</a> ValueVT, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/value">Value</a> &#42;V,</span></CodeLine>
<Link id="l00342" /><CodeLine lineNumber="342"><span class="doxyHighlight">                                      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> InChain,</span></CodeLine>
<Link id="l00343" /><CodeLine lineNumber="343"><span class="doxyHighlight">                                      std::optional&lt;CallingConv::ID&gt; CallConv) &#123;</span></CodeLine>
<Link id="l00344" /><CodeLine lineNumber="344"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ValueVT.<a href="/docs/api/structs/llvm/evt/#aa54976197fff266f4143beb44fc9764c">isVector</a>() &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Not a vector value&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l00345" /><CodeLine lineNumber="345"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(NumParts &gt; 0 &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;No parts to assemble!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l00346" /><CodeLine lineNumber="346"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> IsABIRegCopy = CallConv.has&#95;value();</span></CodeLine>
<Link id="l00347" /><CodeLine lineNumber="347"></CodeLine>
<Link id="l00348" /><CodeLine lineNumber="348"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetlowering">TargetLowering</a> &amp;TLI = DAG.<a href="/docs/api/classes/llvm/selectiondag/#a4c20c587f89ae2926f9e8a99093e8419">getTargetLoweringInfo</a>();</span></CodeLine>
<Link id="l00349" /><CodeLine lineNumber="349"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Val = Parts&#91;0&#93;;</span></CodeLine>
<Link id="l00350" /><CodeLine lineNumber="350"></CodeLine>
<Link id="l00351" /><CodeLine lineNumber="351"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Handle a multi-element vector.</span></CodeLine>
<Link id="l00352" /><CodeLine lineNumber="352"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (NumParts &gt; 1) &#123;</span></CodeLine>
<Link id="l00353" /><CodeLine lineNumber="353"><span class="doxyHighlight">    <a href="/docs/api/structs/llvm/evt">EVT</a> IntermediateVT;</span></CodeLine>
<Link id="l00354" /><CodeLine lineNumber="354"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/mvt">MVT</a> RegisterVT;</span></CodeLine>
<Link id="l00355" /><CodeLine lineNumber="355"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumIntermediates;</span></CodeLine>
<Link id="l00356" /><CodeLine lineNumber="356"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumRegs;</span></CodeLine>
<Link id="l00357" /><CodeLine lineNumber="357"></CodeLine>
<Link id="l00358" /><CodeLine lineNumber="358"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (IsABIRegCopy) &#123;</span></CodeLine>
<Link id="l00359" /><CodeLine lineNumber="359"><span class="doxyHighlight">      NumRegs = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a5b806e2538d0e91175d970c8232a3099">getVectorTypeBreakdownForCallingConv</a>(</span></CodeLine>
<Link id="l00360" /><CodeLine lineNumber="360"><span class="doxyHighlight">          &#42;DAG.<a href="/docs/api/classes/llvm/selectiondag/#adecf615928faed0c8a082ffdb65dfea0">getContext</a>(), &#42;CallConv, ValueVT, IntermediateVT,</span></CodeLine>
<Link id="l00361" /><CodeLine lineNumber="361"><span class="doxyHighlight">          NumIntermediates, RegisterVT);</span></CodeLine>
<Link id="l00362" /><CodeLine lineNumber="362"><span class="doxyHighlight">    &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l00363" /><CodeLine lineNumber="363"><span class="doxyHighlight">      NumRegs =</span></CodeLine>
<Link id="l00364" /><CodeLine lineNumber="364"><span class="doxyHighlight">          TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#afd413c038500ff13a7a888e65d8777ce">getVectorTypeBreakdown</a>(&#42;DAG.<a href="/docs/api/classes/llvm/selectiondag/#adecf615928faed0c8a082ffdb65dfea0">getContext</a>(), ValueVT, IntermediateVT,</span></CodeLine>
<Link id="l00365" /><CodeLine lineNumber="365"><span class="doxyHighlight">                                     NumIntermediates, RegisterVT);</span></CodeLine>
<Link id="l00366" /><CodeLine lineNumber="366"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l00367" /><CodeLine lineNumber="367"></CodeLine>
<Link id="l00368" /><CodeLine lineNumber="368"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(NumRegs == NumParts &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Part count doesn&#39;t match vector breakdown!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l00369" /><CodeLine lineNumber="369"><span class="doxyHighlight">    NumParts = NumRegs; </span><span class="doxyHighlightComment">// Silence a compiler warning.</span></CodeLine>
<Link id="l00370" /><CodeLine lineNumber="370"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(RegisterVT == PartVT &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Part type doesn&#39;t match vector breakdown!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l00371" /><CodeLine lineNumber="371"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(RegisterVT.<a href="/docs/api/classes/llvm/mvt/#a7be7c6dd92efc0d6f866d4a3b433eed0">getSizeInBits</a>() ==</span></CodeLine>
<Link id="l00372" /><CodeLine lineNumber="372"><span class="doxyHighlight">           Parts&#91;0&#93;.<a href="/docs/api/classes/llvm/sdvalue/#acbcc973a299b6f8733774668210b5227">getSimpleValueType</a>().<a href="/docs/api/classes/llvm/mvt/#a7be7c6dd92efc0d6f866d4a3b433eed0">getSizeInBits</a>() &amp;&amp;</span></CodeLine>
<Link id="l00373" /><CodeLine lineNumber="373"><span class="doxyHighlight">           </span><span class="doxyHighlightStringLiteral">&quot;Part type sizes don&#39;t match!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l00374" /><CodeLine lineNumber="374"></CodeLine>
<Link id="l00375" /><CodeLine lineNumber="375"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Assemble the parts into intermediate operands.</span></CodeLine>
<Link id="l00376" /><CodeLine lineNumber="376"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/smallvector">SmallVector&lt;SDValue, 8&gt;</a> <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>(NumIntermediates);</span></CodeLine>
<Link id="l00377" /><CodeLine lineNumber="377"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (NumIntermediates == NumParts) &#123;</span></CodeLine>
<Link id="l00378" /><CodeLine lineNumber="378"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// If the register was not expanded, truncate or copy the value,</span></CodeLine>
<Link id="l00379" /><CodeLine lineNumber="379"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// as appropriate.</span></CodeLine>
<Link id="l00380" /><CodeLine lineNumber="380"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> i = 0; i != NumParts; ++i)</span></CodeLine>
<Link id="l00381" /><CodeLine lineNumber="381"><span class="doxyHighlight">        <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>&#91;i&#93; = <a href="#acb8cf9e50c3979193572ea36f327d0a4">getCopyFromParts</a>(DAG, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, &amp;Parts&#91;i&#93;, 1, PartVT, IntermediateVT,</span></CodeLine>
<Link id="l00382" /><CodeLine lineNumber="382"><span class="doxyHighlight">                                  V, InChain, CallConv);</span></CodeLine>
<Link id="l00383" /><CodeLine lineNumber="383"><span class="doxyHighlight">    &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (NumParts &gt; 0) &#123;</span></CodeLine>
<Link id="l00384" /><CodeLine lineNumber="384"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// If the intermediate type was expanded, build the intermediate</span></CodeLine>
<Link id="l00385" /><CodeLine lineNumber="385"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// operands from the parts.</span></CodeLine>
<Link id="l00386" /><CodeLine lineNumber="386"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(NumParts % NumIntermediates == 0 &amp;&amp;</span></CodeLine>
<Link id="l00387" /><CodeLine lineNumber="387"><span class="doxyHighlight">             </span><span class="doxyHighlightStringLiteral">&quot;Must expand into a divisible number of parts!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l00388" /><CodeLine lineNumber="388"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> Factor = NumParts / NumIntermediates;</span></CodeLine>
<Link id="l00389" /><CodeLine lineNumber="389"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> i = 0; i != NumIntermediates; ++i)</span></CodeLine>
<Link id="l00390" /><CodeLine lineNumber="390"><span class="doxyHighlight">        <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>&#91;i&#93; = <a href="#acb8cf9e50c3979193572ea36f327d0a4">getCopyFromParts</a>(DAG, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, &amp;Parts&#91;i &#42; Factor&#93;, Factor, PartVT,</span></CodeLine>
<Link id="l00391" /><CodeLine lineNumber="391"><span class="doxyHighlight">                                  IntermediateVT, V, InChain, CallConv);</span></CodeLine>
<Link id="l00392" /><CodeLine lineNumber="392"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l00393" /><CodeLine lineNumber="393"></CodeLine>
<Link id="l00394" /><CodeLine lineNumber="394"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Build a vector with BUILD&#95;VECTOR or CONCAT&#95;VECTORS from the</span></CodeLine>
<Link id="l00395" /><CodeLine lineNumber="395"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// intermediate operands.</span></CodeLine>
<Link id="l00396" /><CodeLine lineNumber="396"><span class="doxyHighlight">    <a href="/docs/api/structs/llvm/evt">EVT</a> BuiltVectorTy =</span></CodeLine>
<Link id="l00397" /><CodeLine lineNumber="397"><span class="doxyHighlight">        IntermediateVT.<a href="/docs/api/structs/llvm/evt/#aa54976197fff266f4143beb44fc9764c">isVector</a>()</span></CodeLine>
<Link id="l00398" /><CodeLine lineNumber="398"><span class="doxyHighlight">            ? <a href="/docs/api/structs/llvm/evt/#a210ba6b43ba451b698857dd9de71bd15">EVT::getVectorVT</a>(</span></CodeLine>
<Link id="l00399" /><CodeLine lineNumber="399"><span class="doxyHighlight">                  &#42;DAG.<a href="/docs/api/classes/llvm/selectiondag/#adecf615928faed0c8a082ffdb65dfea0">getContext</a>(), IntermediateVT.<a href="/docs/api/structs/llvm/evt/#aa85c75e8eb097f02caeb5b9119eebfef">getScalarType</a>(),</span></CodeLine>
<Link id="l00400" /><CodeLine lineNumber="400"><span class="doxyHighlight">                  IntermediateVT.<a href="/docs/api/structs/llvm/evt/#a3d102abca1c9c95f36546dff2f39273b">getVectorElementCount</a>() &#42; NumParts)</span></CodeLine>
<Link id="l00401" /><CodeLine lineNumber="401"><span class="doxyHighlight">            : <a href="/docs/api/structs/llvm/evt/#a210ba6b43ba451b698857dd9de71bd15">EVT::getVectorVT</a>(&#42;DAG.<a href="/docs/api/classes/llvm/selectiondag/#adecf615928faed0c8a082ffdb65dfea0">getContext</a>(),</span></CodeLine>
<Link id="l00402" /><CodeLine lineNumber="402"><span class="doxyHighlight">                               IntermediateVT.<a href="/docs/api/structs/llvm/evt/#aa85c75e8eb097f02caeb5b9119eebfef">getScalarType</a>(),</span></CodeLine>
<Link id="l00403" /><CodeLine lineNumber="403"><span class="doxyHighlight">                               NumIntermediates);</span></CodeLine>
<Link id="l00404" /><CodeLine lineNumber="404"><span class="doxyHighlight">    Val = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(IntermediateVT.<a href="/docs/api/structs/llvm/evt/#aa54976197fff266f4143beb44fc9764c">isVector</a>() ? <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a320898056eadc3254fc601e1362eb9f5">ISD::CONCAT&#95;VECTORS</a></span></CodeLine>
<Link id="l00405" /><CodeLine lineNumber="405"><span class="doxyHighlight">                                                : <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32">ISD::BUILD&#95;VECTOR</a>,</span></CodeLine>
<Link id="l00406" /><CodeLine lineNumber="406"><span class="doxyHighlight">                      <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, BuiltVectorTy, <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>);</span></CodeLine>
<Link id="l00407" /><CodeLine lineNumber="407"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00408" /><CodeLine lineNumber="408"></CodeLine>
<Link id="l00409" /><CodeLine lineNumber="409"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// There is now one part, held in Val.  Correct it to match ValueVT.</span></CodeLine>
<Link id="l00410" /><CodeLine lineNumber="410"><span class="doxyHighlight">  <a href="/docs/api/structs/llvm/evt">EVT</a> PartEVT = Val.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>();</span></CodeLine>
<Link id="l00411" /><CodeLine lineNumber="411"></CodeLine>
<Link id="l00412" /><CodeLine lineNumber="412"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (PartEVT == ValueVT)</span></CodeLine>
<Link id="l00413" /><CodeLine lineNumber="413"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> Val;</span></CodeLine>
<Link id="l00414" /><CodeLine lineNumber="414"></CodeLine>
<Link id="l00415" /><CodeLine lineNumber="415"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (PartEVT.<a href="/docs/api/structs/llvm/evt/#aa54976197fff266f4143beb44fc9764c">isVector</a>()) &#123;</span></CodeLine>
<Link id="l00416" /><CodeLine lineNumber="416"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Vector/Vector bitcast.</span></CodeLine>
<Link id="l00417" /><CodeLine lineNumber="417"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (ValueVT.<a href="/docs/api/structs/llvm/evt/#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>() == PartEVT.<a href="/docs/api/structs/llvm/evt/#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>())</span></CodeLine>
<Link id="l00418" /><CodeLine lineNumber="418"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::BITCAST, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ValueVT, Val);</span></CodeLine>
<Link id="l00419" /><CodeLine lineNumber="419"></CodeLine>
<Link id="l00420" /><CodeLine lineNumber="420"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// If the parts vector has more elements than the value vector, then we</span></CodeLine>
<Link id="l00421" /><CodeLine lineNumber="421"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// have a vector widening case (e.g. &lt;2 x float&gt; -&gt; &lt;4 x float&gt;).</span></CodeLine>
<Link id="l00422" /><CodeLine lineNumber="422"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Extract the elements we want.</span></CodeLine>
<Link id="l00423" /><CodeLine lineNumber="423"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (PartEVT.<a href="/docs/api/structs/llvm/evt/#a3d102abca1c9c95f36546dff2f39273b">getVectorElementCount</a>() != ValueVT.<a href="/docs/api/structs/llvm/evt/#a3d102abca1c9c95f36546dff2f39273b">getVectorElementCount</a>()) &#123;</span></CodeLine>
<Link id="l00424" /><CodeLine lineNumber="424"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((PartEVT.<a href="/docs/api/structs/llvm/evt/#a3d102abca1c9c95f36546dff2f39273b">getVectorElementCount</a>().<a href="/docs/api/classes/llvm/details/fixedorscalablequantity/#ac4ab9dd9440c55bee1aa4a1195cee759">getKnownMinValue</a>() &gt;</span></CodeLine>
<Link id="l00425" /><CodeLine lineNumber="425"><span class="doxyHighlight">              ValueVT.<a href="/docs/api/structs/llvm/evt/#a3d102abca1c9c95f36546dff2f39273b">getVectorElementCount</a>().<a href="/docs/api/classes/llvm/details/fixedorscalablequantity/#ac4ab9dd9440c55bee1aa4a1195cee759">getKnownMinValue</a>()) &amp;&amp;</span></CodeLine>
<Link id="l00426" /><CodeLine lineNumber="426"><span class="doxyHighlight">             (PartEVT.<a href="/docs/api/structs/llvm/evt/#a3d102abca1c9c95f36546dff2f39273b">getVectorElementCount</a>().<a href="/docs/api/classes/llvm/details/fixedorscalablequantity/#a9188f84e1dd67530330dcab9cae787d7">isScalable</a>() ==</span></CodeLine>
<Link id="l00427" /><CodeLine lineNumber="427"><span class="doxyHighlight">              ValueVT.<a href="/docs/api/structs/llvm/evt/#a3d102abca1c9c95f36546dff2f39273b">getVectorElementCount</a>().<a href="/docs/api/classes/llvm/details/fixedorscalablequantity/#a9188f84e1dd67530330dcab9cae787d7">isScalable</a>()) &amp;&amp;</span></CodeLine>
<Link id="l00428" /><CodeLine lineNumber="428"><span class="doxyHighlight">             </span><span class="doxyHighlightStringLiteral">&quot;Cannot narrow, it would be a lossy transformation&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l00429" /><CodeLine lineNumber="429"><span class="doxyHighlight">      PartEVT =</span></CodeLine>
<Link id="l00430" /><CodeLine lineNumber="430"><span class="doxyHighlight">          <a href="/docs/api/structs/llvm/evt/#a210ba6b43ba451b698857dd9de71bd15">EVT::getVectorVT</a>(&#42;DAG.<a href="/docs/api/classes/llvm/selectiondag/#adecf615928faed0c8a082ffdb65dfea0">getContext</a>(), PartEVT.<a href="/docs/api/structs/llvm/evt/#abc4c6365ade17ad4443ad0e381e7479d">getVectorElementType</a>(),</span></CodeLine>
<Link id="l00431" /><CodeLine lineNumber="431"><span class="doxyHighlight">                           ValueVT.<a href="/docs/api/structs/llvm/evt/#a3d102abca1c9c95f36546dff2f39273b">getVectorElementCount</a>());</span></CodeLine>
<Link id="l00432" /><CodeLine lineNumber="432"><span class="doxyHighlight">      Val = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9070de8a5c5b71851732c4c54e2ffedf">ISD::EXTRACT&#95;SUBVECTOR</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, PartEVT, Val,</span></CodeLine>
<Link id="l00433" /><CodeLine lineNumber="433"><span class="doxyHighlight">                        DAG.<a href="/docs/api/classes/llvm/selectiondag/#ac597f2b1601a3acbac07347251e588f8">getVectorIdxConstant</a>(0, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>));</span></CodeLine>
<Link id="l00434" /><CodeLine lineNumber="434"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (PartEVT == ValueVT)</span></CodeLine>
<Link id="l00435" /><CodeLine lineNumber="435"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> Val;</span></CodeLine>
<Link id="l00436" /><CodeLine lineNumber="436"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (PartEVT.<a href="/docs/api/structs/llvm/evt/#af975bf04c49cc895cfe38e7dc126a2f1">isInteger</a>() &amp;&amp; ValueVT.<a href="/docs/api/structs/llvm/evt/#a3cb888a2ce8e95e0d9769687a5e2f7d8">isFloatingPoint</a>())</span></CodeLine>
<Link id="l00437" /><CodeLine lineNumber="437"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::BITCAST, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ValueVT, Val);</span></CodeLine>
<Link id="l00438" /><CodeLine lineNumber="438"></CodeLine>
<Link id="l00439" /><CodeLine lineNumber="439"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Vector/Vector bitcast (e.g. &lt;2 x bfloat&gt; -&gt; &lt;2 x half&gt;).</span></CodeLine>
<Link id="l00440" /><CodeLine lineNumber="440"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (ValueVT.<a href="/docs/api/structs/llvm/evt/#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>() == PartEVT.<a href="/docs/api/structs/llvm/evt/#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>())</span></CodeLine>
<Link id="l00441" /><CodeLine lineNumber="441"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::BITCAST, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ValueVT, Val);</span></CodeLine>
<Link id="l00442" /><CodeLine lineNumber="442"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l00443" /><CodeLine lineNumber="443"></CodeLine>
<Link id="l00444" /><CodeLine lineNumber="444"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Promoted vector extract</span></CodeLine>
<Link id="l00445" /><CodeLine lineNumber="445"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> DAG.<a href="/docs/api/classes/llvm/selectiondag/#aae7e97fa59261cc890aa2359971adfd4">getAnyExtOrTrunc</a>(Val, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ValueVT);</span></CodeLine>
<Link id="l00446" /><CodeLine lineNumber="446"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00447" /><CodeLine lineNumber="447"></CodeLine>
<Link id="l00448" /><CodeLine lineNumber="448"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Trivial bitcast if the types are the same size and the destination</span></CodeLine>
<Link id="l00449" /><CodeLine lineNumber="449"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// vector type is legal.</span></CodeLine>
<Link id="l00450" /><CodeLine lineNumber="450"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (PartEVT.<a href="/docs/api/structs/llvm/evt/#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>() == ValueVT.<a href="/docs/api/structs/llvm/evt/#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>() &amp;&amp;</span></CodeLine>
<Link id="l00451" /><CodeLine lineNumber="451"><span class="doxyHighlight">      TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a80b305b278aa0e04f80312e15b2b6d54">isTypeLegal</a>(ValueVT))</span></CodeLine>
<Link id="l00452" /><CodeLine lineNumber="452"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::BITCAST, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ValueVT, Val);</span></CodeLine>
<Link id="l00453" /><CodeLine lineNumber="453"></CodeLine>
<Link id="l00454" /><CodeLine lineNumber="454"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (ValueVT.<a href="/docs/api/structs/llvm/evt/#ae245d70802e4ebe1cae2b6122c62a22a">getVectorNumElements</a>() != 1) &#123;</span></CodeLine>
<Link id="l00455" /><CodeLine lineNumber="455"><span class="doxyHighlight">     </span><span class="doxyHighlightComment">// Certain ABIs require that vectors are passed as integers. For vectors</span></CodeLine>
<Link id="l00456" /><CodeLine lineNumber="456"><span class="doxyHighlight">     </span><span class="doxyHighlightComment">// are the same size, this is an obvious bitcast.</span></CodeLine>
<Link id="l00457" /><CodeLine lineNumber="457"><span class="doxyHighlight">     </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (ValueVT.<a href="/docs/api/structs/llvm/evt/#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>() == PartEVT.<a href="/docs/api/structs/llvm/evt/#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>()) &#123;</span></CodeLine>
<Link id="l00458" /><CodeLine lineNumber="458"><span class="doxyHighlight">       </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::BITCAST, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ValueVT, Val);</span></CodeLine>
<Link id="l00459" /><CodeLine lineNumber="459"><span class="doxyHighlight">     &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (ValueVT.<a href="/docs/api/structs/llvm/evt/#a3bf257bfbd279ecfad670be03b00210e">bitsLT</a>(PartEVT)) &#123;</span></CodeLine>
<Link id="l00460" /><CodeLine lineNumber="460"><span class="doxyHighlight">       </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> uint64&#95;t ValueSize = ValueVT.<a href="/docs/api/structs/llvm/evt/#a7712dd4392b7eb944b709ac8442634d9">getFixedSizeInBits</a>();</span></CodeLine>
<Link id="l00461" /><CodeLine lineNumber="461"><span class="doxyHighlight">       <a href="/docs/api/structs/llvm/evt">EVT</a> IntermediateType = <a href="/docs/api/structs/llvm/evt/#a752372e170e4e7c595bf8810bb52adf2">EVT::getIntegerVT</a>(&#42;DAG.<a href="/docs/api/classes/llvm/selectiondag/#adecf615928faed0c8a082ffdb65dfea0">getContext</a>(), ValueSize);</span></CodeLine>
<Link id="l00462" /><CodeLine lineNumber="462"><span class="doxyHighlight">       </span><span class="doxyHighlightComment">// Drop the extra bits.</span></CodeLine>
<Link id="l00463" /><CodeLine lineNumber="463"><span class="doxyHighlight">       Val = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, IntermediateType, Val);</span></CodeLine>
<Link id="l00464" /><CodeLine lineNumber="464"><span class="doxyHighlight">       </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> DAG.<a href="/docs/api/classes/llvm/selectiondag/#a64f6469ab95c4eec77e4ccf303619a81">getBitcast</a>(ValueVT, Val);</span></CodeLine>
<Link id="l00465" /><CodeLine lineNumber="465"><span class="doxyHighlight">     &#125;</span></CodeLine>
<Link id="l00466" /><CodeLine lineNumber="466"></CodeLine>
<Link id="l00467" /><CodeLine lineNumber="467"><span class="doxyHighlight">     <a href="#a99fbe93d6d2539d12a7a9b40d04d7fec">diagnosePossiblyInvalidConstraint</a>(</span></CodeLine>
<Link id="l00468" /><CodeLine lineNumber="468"><span class="doxyHighlight">         &#42;DAG.<a href="/docs/api/classes/llvm/selectiondag/#adecf615928faed0c8a082ffdb65dfea0">getContext</a>(), V, </span><span class="doxyHighlightStringLiteral">&quot;non-trivial scalar-to-vector conversion&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l00469" /><CodeLine lineNumber="469"><span class="doxyHighlight">     </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> DAG.<a href="/docs/api/classes/llvm/selectiondag/#a5b0e59823444a55c295af279611a9d24">getUNDEF</a>(ValueVT);</span></CodeLine>
<Link id="l00470" /><CodeLine lineNumber="470"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00471" /><CodeLine lineNumber="471"></CodeLine>
<Link id="l00472" /><CodeLine lineNumber="472"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Handle cases such as i8 -&gt; &lt;1 x i1&gt;</span></CodeLine>
<Link id="l00473" /><CodeLine lineNumber="473"><span class="doxyHighlight">  <a href="/docs/api/structs/llvm/evt">EVT</a> ValueSVT = ValueVT.<a href="/docs/api/structs/llvm/evt/#abc4c6365ade17ad4443ad0e381e7479d">getVectorElementType</a>();</span></CodeLine>
<Link id="l00474" /><CodeLine lineNumber="474"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (ValueVT.<a href="/docs/api/structs/llvm/evt/#ae245d70802e4ebe1cae2b6122c62a22a">getVectorNumElements</a>() == 1 &amp;&amp; ValueSVT != PartEVT) &#123;</span></CodeLine>
<Link id="l00475" /><CodeLine lineNumber="475"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> ValueSize = ValueSVT.<a href="/docs/api/structs/llvm/evt/#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>();</span></CodeLine>
<Link id="l00476" /><CodeLine lineNumber="476"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (ValueSize == PartEVT.<a href="/docs/api/structs/llvm/evt/#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>()) &#123;</span></CodeLine>
<Link id="l00477" /><CodeLine lineNumber="477"><span class="doxyHighlight">      Val = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::BITCAST, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ValueSVT, Val);</span></CodeLine>
<Link id="l00478" /><CodeLine lineNumber="478"><span class="doxyHighlight">    &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (ValueSVT.<a href="/docs/api/structs/llvm/evt/#a3cb888a2ce8e95e0d9769687a5e2f7d8">isFloatingPoint</a>() &amp;&amp; PartEVT.<a href="/docs/api/structs/llvm/evt/#af975bf04c49cc895cfe38e7dc126a2f1">isInteger</a>()) &#123;</span></CodeLine>
<Link id="l00479" /><CodeLine lineNumber="479"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// It&#39;s possible a scalar floating point type gets softened to integer and</span></CodeLine>
<Link id="l00480" /><CodeLine lineNumber="480"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// then promoted to a larger integer. If PartEVT is the larger integer</span></CodeLine>
<Link id="l00481" /><CodeLine lineNumber="481"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// we need to truncate it and then bitcast to the FP type.</span></CodeLine>
<Link id="l00482" /><CodeLine lineNumber="482"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ValueSVT.<a href="/docs/api/structs/llvm/evt/#a3bf257bfbd279ecfad670be03b00210e">bitsLT</a>(PartEVT) &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Unexpected types&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l00483" /><CodeLine lineNumber="483"><span class="doxyHighlight">      <a href="/docs/api/structs/llvm/evt">EVT</a> IntermediateType = <a href="/docs/api/structs/llvm/evt/#a752372e170e4e7c595bf8810bb52adf2">EVT::getIntegerVT</a>(&#42;DAG.<a href="/docs/api/classes/llvm/selectiondag/#adecf615928faed0c8a082ffdb65dfea0">getContext</a>(), ValueSize);</span></CodeLine>
<Link id="l00484" /><CodeLine lineNumber="484"><span class="doxyHighlight">      Val = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, IntermediateType, Val);</span></CodeLine>
<Link id="l00485" /><CodeLine lineNumber="485"><span class="doxyHighlight">      Val = DAG.<a href="/docs/api/classes/llvm/selectiondag/#a64f6469ab95c4eec77e4ccf303619a81">getBitcast</a>(ValueSVT, Val);</span></CodeLine>
<Link id="l00486" /><CodeLine lineNumber="486"><span class="doxyHighlight">    &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l00487" /><CodeLine lineNumber="487"><span class="doxyHighlight">      Val = ValueVT.<a href="/docs/api/structs/llvm/evt/#a3cb888a2ce8e95e0d9769687a5e2f7d8">isFloatingPoint</a>()</span></CodeLine>
<Link id="l00488" /><CodeLine lineNumber="488"><span class="doxyHighlight">                ? DAG.<a href="/docs/api/classes/llvm/selectiondag/#abb12b9027c14ccb724eb3c506a7f8745">getFPExtendOrRound</a>(Val, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ValueSVT)</span></CodeLine>
<Link id="l00489" /><CodeLine lineNumber="489"><span class="doxyHighlight">                : DAG.<a href="/docs/api/classes/llvm/selectiondag/#aae7e97fa59261cc890aa2359971adfd4">getAnyExtOrTrunc</a>(Val, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ValueSVT);</span></CodeLine>
<Link id="l00490" /><CodeLine lineNumber="490"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l00491" /><CodeLine lineNumber="491"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00492" /><CodeLine lineNumber="492"></CodeLine>
<Link id="l00493" /><CodeLine lineNumber="493"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> DAG.<a href="/docs/api/classes/llvm/selectiondag/#a5d154312bef0ed1a6bacfcb52b7cf8eb">getBuildVector</a>(ValueVT, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Val);</span></CodeLine>
<Link id="l00494" /><CodeLine lineNumber="494"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l00495" /><CodeLine lineNumber="495"></CodeLine>
<Link id="l00496" /><CodeLine lineNumber="496"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="#a7e79d5a868530c399fc615b99b3f02ab">getCopyToPartsVector</a>(<a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp;DAG, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> &amp;dl,</span></CodeLine>
<Link id="l00497" /><CodeLine lineNumber="497"><span class="doxyHighlight">                                 <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Val, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> &#42;Parts, </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumParts,</span></CodeLine>
<Link id="l00498" /><CodeLine lineNumber="498"><span class="doxyHighlight">                                 <a href="/docs/api/classes/llvm/mvt">MVT</a> PartVT, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/value">Value</a> &#42;V,</span></CodeLine>
<Link id="l00499" /><CodeLine lineNumber="499"><span class="doxyHighlight">                                 std::optional&lt;CallingConv::ID&gt; CallConv);</span></CodeLine>
<Link id="l00500" /><CodeLine lineNumber="500"></CodeLine>
<Link id="l00501" /><CodeLine lineNumber="501"><span class="doxyHighlightComment">/// getCopyToParts - Create a series of nodes that contain the specified value</span></CodeLine>
<Link id="l00502" /><CodeLine lineNumber="502"><span class="doxyHighlightComment">/// split into legal parts.  If the parts contain more bits than Val, then, for</span></CodeLine>
<Link id="l00503" /><CodeLine lineNumber="503"><span class="doxyHighlightComment">/// integers, ExtendKind can be used to specify how to generate the extra bits.</span></CodeLine>
<Link id="l00504" /><CodeLine lineNumber="504"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordType">void</span></CodeLine>
<Link id="l00505" /><CodeLine lineNumber="505" lineLink="#a8910923e28ba24c5abedb60c66c86cc5"><span class="doxyHighlight"><a href="#a8910923e28ba24c5abedb60c66c86cc5">getCopyToParts</a>(<a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp;DAG, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> &amp;<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Val, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> &#42;Parts,</span></CodeLine>
<Link id="l00506" /><CodeLine lineNumber="506"><span class="doxyHighlight">               </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumParts, <a href="/docs/api/classes/llvm/mvt">MVT</a> PartVT, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/value">Value</a> &#42;V,</span></CodeLine>
<Link id="l00507" /><CodeLine lineNumber="507"><span class="doxyHighlight">               std::optional&lt;CallingConv::ID&gt; CallConv = std::nullopt,</span></CodeLine>
<Link id="l00508" /><CodeLine lineNumber="508"><span class="doxyHighlight">               <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110">ISD::NodeType</a> ExtendKind = <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a27d5d8ef82302b739ba3ca8be1a5513d">ISD::ANY&#95;EXTEND</a>) &#123;</span></CodeLine>
<Link id="l00509" /><CodeLine lineNumber="509"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Let the target split the parts if it wants to</span></CodeLine>
<Link id="l00510" /><CodeLine lineNumber="510"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetlowering">TargetLowering</a> &amp;TLI = DAG.<a href="/docs/api/classes/llvm/selectiondag/#a4c20c587f89ae2926f9e8a99093e8419">getTargetLoweringInfo</a>();</span></CodeLine>
<Link id="l00511" /><CodeLine lineNumber="511"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (TLI.<a href="/docs/api/classes/llvm/targetlowering/#a67bcd59b7c8b892b3252d10a6ebf8370">splitValueIntoRegisterParts</a>(DAG, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Val, Parts, NumParts, PartVT,</span></CodeLine>
<Link id="l00512" /><CodeLine lineNumber="512"><span class="doxyHighlight">                                      CallConv))</span></CodeLine>
<Link id="l00513" /><CodeLine lineNumber="513"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00514" /><CodeLine lineNumber="514"><span class="doxyHighlight">  <a href="/docs/api/structs/llvm/evt">EVT</a> ValueVT = Val.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>();</span></CodeLine>
<Link id="l00515" /><CodeLine lineNumber="515"></CodeLine>
<Link id="l00516" /><CodeLine lineNumber="516"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Handle the vector case separately.</span></CodeLine>
<Link id="l00517" /><CodeLine lineNumber="517"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (ValueVT.<a href="/docs/api/structs/llvm/evt/#aa54976197fff266f4143beb44fc9764c">isVector</a>())</span></CodeLine>
<Link id="l00518" /><CodeLine lineNumber="518"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="#a7e79d5a868530c399fc615b99b3f02ab">getCopyToPartsVector</a>(DAG, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Val, Parts, NumParts, PartVT, V,</span></CodeLine>
<Link id="l00519" /><CodeLine lineNumber="519"><span class="doxyHighlight">                                CallConv);</span></CodeLine>
<Link id="l00520" /><CodeLine lineNumber="520"></CodeLine>
<Link id="l00521" /><CodeLine lineNumber="521"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> OrigNumParts = NumParts;</span></CodeLine>
<Link id="l00522" /><CodeLine lineNumber="522"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DAG.<a href="/docs/api/classes/llvm/selectiondag/#a4c20c587f89ae2926f9e8a99093e8419">getTargetLoweringInfo</a>().<a href="/docs/api/classes/llvm/targetloweringbase/#a80b305b278aa0e04f80312e15b2b6d54">isTypeLegal</a>(PartVT) &amp;&amp;</span></CodeLine>
<Link id="l00523" /><CodeLine lineNumber="523"><span class="doxyHighlight">         </span><span class="doxyHighlightStringLiteral">&quot;Copying to an illegal type!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l00524" /><CodeLine lineNumber="524"></CodeLine>
<Link id="l00525" /><CodeLine lineNumber="525"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (NumParts == 0)</span></CodeLine>
<Link id="l00526" /><CodeLine lineNumber="526"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00527" /><CodeLine lineNumber="527"></CodeLine>
<Link id="l00528" /><CodeLine lineNumber="528"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!ValueVT.<a href="/docs/api/structs/llvm/evt/#aa54976197fff266f4143beb44fc9764c">isVector</a>() &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Vector case handled elsewhere&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l00529" /><CodeLine lineNumber="529"><span class="doxyHighlight">  <a href="/docs/api/structs/llvm/evt">EVT</a> PartEVT = PartVT;</span></CodeLine>
<Link id="l00530" /><CodeLine lineNumber="530"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (PartEVT == ValueVT) &#123;</span></CodeLine>
<Link id="l00531" /><CodeLine lineNumber="531"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(NumParts == 1 &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;No-op copy with multiple parts!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l00532" /><CodeLine lineNumber="532"><span class="doxyHighlight">    Parts&#91;0&#93; = Val;</span></CodeLine>
<Link id="l00533" /><CodeLine lineNumber="533"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00534" /><CodeLine lineNumber="534"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00535" /><CodeLine lineNumber="535"></CodeLine>
<Link id="l00536" /><CodeLine lineNumber="536"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> PartBits = PartVT.<a href="/docs/api/classes/llvm/mvt/#a7be7c6dd92efc0d6f866d4a3b433eed0">getSizeInBits</a>();</span></CodeLine>
<Link id="l00537" /><CodeLine lineNumber="537"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (NumParts &#42; PartBits &gt; ValueVT.<a href="/docs/api/structs/llvm/evt/#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>()) &#123;</span></CodeLine>
<Link id="l00538" /><CodeLine lineNumber="538"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// If the parts cover more bits than the value has, promote the value.</span></CodeLine>
<Link id="l00539" /><CodeLine lineNumber="539"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (PartVT.<a href="/docs/api/classes/llvm/mvt/#adc90e34882c97d5a86dd883d3d23b4ca">isFloatingPoint</a>() &amp;&amp; ValueVT.<a href="/docs/api/structs/llvm/evt/#a3cb888a2ce8e95e0d9769687a5e2f7d8">isFloatingPoint</a>()) &#123;</span></CodeLine>
<Link id="l00540" /><CodeLine lineNumber="540"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(NumParts == 1 &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Do not know what to promote to!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l00541" /><CodeLine lineNumber="541"><span class="doxyHighlight">      Val = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::FP&#95;EXTEND, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, PartVT, Val);</span></CodeLine>
<Link id="l00542" /><CodeLine lineNumber="542"><span class="doxyHighlight">    &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l00543" /><CodeLine lineNumber="543"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (ValueVT.<a href="/docs/api/structs/llvm/evt/#a3cb888a2ce8e95e0d9769687a5e2f7d8">isFloatingPoint</a>()) &#123;</span></CodeLine>
<Link id="l00544" /><CodeLine lineNumber="544"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// FP values need to be bitcast, then extended if they are being put</span></CodeLine>
<Link id="l00545" /><CodeLine lineNumber="545"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// into a larger container.</span></CodeLine>
<Link id="l00546" /><CodeLine lineNumber="546"><span class="doxyHighlight">        ValueVT = <a href="/docs/api/structs/llvm/evt/#a752372e170e4e7c595bf8810bb52adf2">EVT::getIntegerVT</a>(&#42;DAG.<a href="/docs/api/classes/llvm/selectiondag/#adecf615928faed0c8a082ffdb65dfea0">getContext</a>(),  ValueVT.<a href="/docs/api/structs/llvm/evt/#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>());</span></CodeLine>
<Link id="l00547" /><CodeLine lineNumber="547"><span class="doxyHighlight">        Val = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::BITCAST, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ValueVT, Val);</span></CodeLine>
<Link id="l00548" /><CodeLine lineNumber="548"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l00549" /><CodeLine lineNumber="549"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((PartVT.<a href="/docs/api/classes/llvm/mvt/#a437cf7bc875369cbe0ea62f949626f0b">isInteger</a>() || PartVT == MVT::x86mmx) &amp;&amp;</span></CodeLine>
<Link id="l00550" /><CodeLine lineNumber="550"><span class="doxyHighlight">             ValueVT.<a href="/docs/api/structs/llvm/evt/#af975bf04c49cc895cfe38e7dc126a2f1">isInteger</a>() &amp;&amp;</span></CodeLine>
<Link id="l00551" /><CodeLine lineNumber="551"><span class="doxyHighlight">             </span><span class="doxyHighlightStringLiteral">&quot;Unknown mismatch!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l00552" /><CodeLine lineNumber="552"><span class="doxyHighlight">      ValueVT = <a href="/docs/api/structs/llvm/evt/#a752372e170e4e7c595bf8810bb52adf2">EVT::getIntegerVT</a>(&#42;DAG.<a href="/docs/api/classes/llvm/selectiondag/#adecf615928faed0c8a082ffdb65dfea0">getContext</a>(), NumParts &#42; PartBits);</span></CodeLine>
<Link id="l00553" /><CodeLine lineNumber="553"><span class="doxyHighlight">      Val = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(ExtendKind, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ValueVT, Val);</span></CodeLine>
<Link id="l00554" /><CodeLine lineNumber="554"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (PartVT == MVT::x86mmx)</span></CodeLine>
<Link id="l00555" /><CodeLine lineNumber="555"><span class="doxyHighlight">        Val = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::BITCAST, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, PartVT, Val);</span></CodeLine>
<Link id="l00556" /><CodeLine lineNumber="556"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l00557" /><CodeLine lineNumber="557"><span class="doxyHighlight">  &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (PartBits == ValueVT.<a href="/docs/api/structs/llvm/evt/#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>()) &#123;</span></CodeLine>
<Link id="l00558" /><CodeLine lineNumber="558"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Different types of the same size.</span></CodeLine>
<Link id="l00559" /><CodeLine lineNumber="559"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(NumParts == 1 &amp;&amp; PartEVT != ValueVT);</span></CodeLine>
<Link id="l00560" /><CodeLine lineNumber="560"><span class="doxyHighlight">    Val = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::BITCAST, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, PartVT, Val);</span></CodeLine>
<Link id="l00561" /><CodeLine lineNumber="561"><span class="doxyHighlight">  &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (NumParts &#42; PartBits &lt; ValueVT.<a href="/docs/api/structs/llvm/evt/#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>()) &#123;</span></CodeLine>
<Link id="l00562" /><CodeLine lineNumber="562"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// If the parts cover less bits than value has, truncate the value.</span></CodeLine>
<Link id="l00563" /><CodeLine lineNumber="563"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((PartVT.<a href="/docs/api/classes/llvm/mvt/#a437cf7bc875369cbe0ea62f949626f0b">isInteger</a>() || PartVT == MVT::x86mmx) &amp;&amp;</span></CodeLine>
<Link id="l00564" /><CodeLine lineNumber="564"><span class="doxyHighlight">           ValueVT.<a href="/docs/api/structs/llvm/evt/#af975bf04c49cc895cfe38e7dc126a2f1">isInteger</a>() &amp;&amp;</span></CodeLine>
<Link id="l00565" /><CodeLine lineNumber="565"><span class="doxyHighlight">           </span><span class="doxyHighlightStringLiteral">&quot;Unknown mismatch!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l00566" /><CodeLine lineNumber="566"><span class="doxyHighlight">    ValueVT = <a href="/docs/api/structs/llvm/evt/#a752372e170e4e7c595bf8810bb52adf2">EVT::getIntegerVT</a>(&#42;DAG.<a href="/docs/api/classes/llvm/selectiondag/#adecf615928faed0c8a082ffdb65dfea0">getContext</a>(), NumParts &#42; PartBits);</span></CodeLine>
<Link id="l00567" /><CodeLine lineNumber="567"><span class="doxyHighlight">    Val = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ValueVT, Val);</span></CodeLine>
<Link id="l00568" /><CodeLine lineNumber="568"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (PartVT == MVT::x86mmx)</span></CodeLine>
<Link id="l00569" /><CodeLine lineNumber="569"><span class="doxyHighlight">      Val = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::BITCAST, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, PartVT, Val);</span></CodeLine>
<Link id="l00570" /><CodeLine lineNumber="570"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00571" /><CodeLine lineNumber="571"></CodeLine>
<Link id="l00572" /><CodeLine lineNumber="572"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// The value may have changed - recompute ValueVT.</span></CodeLine>
<Link id="l00573" /><CodeLine lineNumber="573"><span class="doxyHighlight">  ValueVT = Val.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>();</span></CodeLine>
<Link id="l00574" /><CodeLine lineNumber="574"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(NumParts &#42; PartBits == ValueVT.<a href="/docs/api/structs/llvm/evt/#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>() &amp;&amp;</span></CodeLine>
<Link id="l00575" /><CodeLine lineNumber="575"><span class="doxyHighlight">         </span><span class="doxyHighlightStringLiteral">&quot;Failed to tile the value with PartVT!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l00576" /><CodeLine lineNumber="576"></CodeLine>
<Link id="l00577" /><CodeLine lineNumber="577"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (NumParts == 1) &#123;</span></CodeLine>
<Link id="l00578" /><CodeLine lineNumber="578"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (PartEVT != ValueVT) &#123;</span></CodeLine>
<Link id="l00579" /><CodeLine lineNumber="579"><span class="doxyHighlight">      <a href="#a99fbe93d6d2539d12a7a9b40d04d7fec">diagnosePossiblyInvalidConstraint</a>(&#42;DAG.<a href="/docs/api/classes/llvm/selectiondag/#adecf615928faed0c8a082ffdb65dfea0">getContext</a>(), V,</span></CodeLine>
<Link id="l00580" /><CodeLine lineNumber="580"><span class="doxyHighlight">                                        </span><span class="doxyHighlightStringLiteral">&quot;scalar-to-vector conversion failed&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l00581" /><CodeLine lineNumber="581"><span class="doxyHighlight">      Val = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::BITCAST, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, PartVT, Val);</span></CodeLine>
<Link id="l00582" /><CodeLine lineNumber="582"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l00583" /><CodeLine lineNumber="583"></CodeLine>
<Link id="l00584" /><CodeLine lineNumber="584"><span class="doxyHighlight">    Parts&#91;0&#93; = Val;</span></CodeLine>
<Link id="l00585" /><CodeLine lineNumber="585"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00586" /><CodeLine lineNumber="586"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00587" /><CodeLine lineNumber="587"></CodeLine>
<Link id="l00588" /><CodeLine lineNumber="588"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Expand the value into multiple parts.</span></CodeLine>
<Link id="l00589" /><CodeLine lineNumber="589"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (NumParts &amp; (NumParts - 1)) &#123;</span></CodeLine>
<Link id="l00590" /><CodeLine lineNumber="590"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// The number of parts is not a power of 2  Split off and copy the tail.</span></CodeLine>
<Link id="l00591" /><CodeLine lineNumber="591"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(PartVT.<a href="/docs/api/classes/llvm/mvt/#a437cf7bc875369cbe0ea62f949626f0b">isInteger</a>() &amp;&amp; ValueVT.<a href="/docs/api/structs/llvm/evt/#af975bf04c49cc895cfe38e7dc126a2f1">isInteger</a>() &amp;&amp;</span></CodeLine>
<Link id="l00592" /><CodeLine lineNumber="592"><span class="doxyHighlight">           </span><span class="doxyHighlightStringLiteral">&quot;Do not know what to expand to!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l00593" /><CodeLine lineNumber="593"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> RoundParts = <a href="/docs/api/namespaces/llvm/#ae22967d11b695d268992470debfae4b2">llvm::bit&#95;floor</a>(NumParts);</span></CodeLine>
<Link id="l00594" /><CodeLine lineNumber="594"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> RoundBits = RoundParts &#42; PartBits;</span></CodeLine>
<Link id="l00595" /><CodeLine lineNumber="595"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> OddParts = NumParts - RoundParts;</span></CodeLine>
<Link id="l00596" /><CodeLine lineNumber="596"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> OddVal = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ValueVT, Val,</span></CodeLine>
<Link id="l00597" /><CodeLine lineNumber="597"><span class="doxyHighlight">      DAG.<a href="/docs/api/classes/llvm/selectiondag/#a1a45c74ebe73ebaf0bd8463164e0b764">getShiftAmountConstant</a>(RoundBits, ValueVT, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>));</span></CodeLine>
<Link id="l00598" /><CodeLine lineNumber="598"></CodeLine>
<Link id="l00599" /><CodeLine lineNumber="599"><span class="doxyHighlight">    <a href="#a8910923e28ba24c5abedb60c66c86cc5">getCopyToParts</a>(DAG, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, OddVal, Parts + RoundParts, OddParts, PartVT, V,</span></CodeLine>
<Link id="l00600" /><CodeLine lineNumber="600"><span class="doxyHighlight">                   CallConv);</span></CodeLine>
<Link id="l00601" /><CodeLine lineNumber="601"></CodeLine>
<Link id="l00602" /><CodeLine lineNumber="602"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (DAG.<a href="/docs/api/classes/llvm/selectiondag/#a6b442ac8a9fc6147b95ccfb2c3322121">getDataLayout</a>().<a href="/docs/api/classes/llvm/datalayout/#a84c1d72001dd5f34d9a55b3a7bb8a474">isBigEndian</a>())</span></CodeLine>
<Link id="l00603" /><CodeLine lineNumber="603"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// The odd parts were reversed by getCopyToParts - unreverse them.</span></CodeLine>
<Link id="l00604" /><CodeLine lineNumber="604"><span class="doxyHighlight">      std::reverse(Parts + RoundParts, Parts + NumParts);</span></CodeLine>
<Link id="l00605" /><CodeLine lineNumber="605"></CodeLine>
<Link id="l00606" /><CodeLine lineNumber="606"><span class="doxyHighlight">    NumParts = RoundParts;</span></CodeLine>
<Link id="l00607" /><CodeLine lineNumber="607"><span class="doxyHighlight">    ValueVT = <a href="/docs/api/structs/llvm/evt/#a752372e170e4e7c595bf8810bb52adf2">EVT::getIntegerVT</a>(&#42;DAG.<a href="/docs/api/classes/llvm/selectiondag/#adecf615928faed0c8a082ffdb65dfea0">getContext</a>(), NumParts &#42; PartBits);</span></CodeLine>
<Link id="l00608" /><CodeLine lineNumber="608"><span class="doxyHighlight">    Val = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ValueVT, Val);</span></CodeLine>
<Link id="l00609" /><CodeLine lineNumber="609"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00610" /><CodeLine lineNumber="610"></CodeLine>
<Link id="l00611" /><CodeLine lineNumber="611"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// The number of parts is a power of 2  Repeatedly bisect the value using</span></CodeLine>
<Link id="l00612" /><CodeLine lineNumber="612"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// EXTRACT&#95;ELEMENT.</span></CodeLine>
<Link id="l00613" /><CodeLine lineNumber="613"><span class="doxyHighlight">  Parts&#91;0&#93; = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::BITCAST, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</span></CodeLine>
<Link id="l00614" /><CodeLine lineNumber="614"><span class="doxyHighlight">                         <a href="/docs/api/structs/llvm/evt/#a752372e170e4e7c595bf8810bb52adf2">EVT::getIntegerVT</a>(&#42;DAG.<a href="/docs/api/classes/llvm/selectiondag/#adecf615928faed0c8a082ffdb65dfea0">getContext</a>(),</span></CodeLine>
<Link id="l00615" /><CodeLine lineNumber="615"><span class="doxyHighlight">                                           ValueVT.<a href="/docs/api/structs/llvm/evt/#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>()),</span></CodeLine>
<Link id="l00616" /><CodeLine lineNumber="616"><span class="doxyHighlight">                         Val);</span></CodeLine>
<Link id="l00617" /><CodeLine lineNumber="617"></CodeLine>
<Link id="l00618" /><CodeLine lineNumber="618"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> StepSize = NumParts; StepSize &gt; 1; StepSize /= 2) &#123;</span></CodeLine>
<Link id="l00619" /><CodeLine lineNumber="619"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> i = 0; i &lt; NumParts; i += StepSize) &#123;</span></CodeLine>
<Link id="l00620" /><CodeLine lineNumber="620"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> ThisBits = StepSize &#42; PartBits / 2;</span></CodeLine>
<Link id="l00621" /><CodeLine lineNumber="621"><span class="doxyHighlight">      <a href="/docs/api/structs/llvm/evt">EVT</a> ThisVT = <a href="/docs/api/structs/llvm/evt/#a752372e170e4e7c595bf8810bb52adf2">EVT::getIntegerVT</a>(&#42;DAG.<a href="/docs/api/classes/llvm/selectiondag/#adecf615928faed0c8a082ffdb65dfea0">getContext</a>(), ThisBits);</span></CodeLine>
<Link id="l00622" /><CodeLine lineNumber="622"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> &amp;Part0 = Parts&#91;i&#93;;</span></CodeLine>
<Link id="l00623" /><CodeLine lineNumber="623"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> &amp;Part1 = Parts&#91;i+StepSize/2&#93;;</span></CodeLine>
<Link id="l00624" /><CodeLine lineNumber="624"></CodeLine>
<Link id="l00625" /><CodeLine lineNumber="625"><span class="doxyHighlight">      Part1 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a7e6dca8262a3de788d1bab4ba184d675">ISD::EXTRACT&#95;ELEMENT</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</span></CodeLine>
<Link id="l00626" /><CodeLine lineNumber="626"><span class="doxyHighlight">                          ThisVT, Part0, DAG.<a href="/docs/api/classes/llvm/selectiondag/#ab85f5fcb2f3bb0aaf83041a41182a2d4">getIntPtrConstant</a>(1, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>));</span></CodeLine>
<Link id="l00627" /><CodeLine lineNumber="627"><span class="doxyHighlight">      Part0 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a7e6dca8262a3de788d1bab4ba184d675">ISD::EXTRACT&#95;ELEMENT</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</span></CodeLine>
<Link id="l00628" /><CodeLine lineNumber="628"><span class="doxyHighlight">                          ThisVT, Part0, DAG.<a href="/docs/api/classes/llvm/selectiondag/#ab85f5fcb2f3bb0aaf83041a41182a2d4">getIntPtrConstant</a>(0, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>));</span></CodeLine>
<Link id="l00629" /><CodeLine lineNumber="629"></CodeLine>
<Link id="l00630" /><CodeLine lineNumber="630"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (ThisBits == PartBits &amp;&amp; ThisVT != PartVT) &#123;</span></CodeLine>
<Link id="l00631" /><CodeLine lineNumber="631"><span class="doxyHighlight">        Part0 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::BITCAST, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, PartVT, Part0);</span></CodeLine>
<Link id="l00632" /><CodeLine lineNumber="632"><span class="doxyHighlight">        Part1 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::BITCAST, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, PartVT, Part1);</span></CodeLine>
<Link id="l00633" /><CodeLine lineNumber="633"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l00634" /><CodeLine lineNumber="634"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l00635" /><CodeLine lineNumber="635"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00636" /><CodeLine lineNumber="636"></CodeLine>
<Link id="l00637" /><CodeLine lineNumber="637"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (DAG.<a href="/docs/api/classes/llvm/selectiondag/#a6b442ac8a9fc6147b95ccfb2c3322121">getDataLayout</a>().<a href="/docs/api/classes/llvm/datalayout/#a84c1d72001dd5f34d9a55b3a7bb8a474">isBigEndian</a>())</span></CodeLine>
<Link id="l00638" /><CodeLine lineNumber="638"><span class="doxyHighlight">    std::reverse(Parts, Parts + OrigNumParts);</span></CodeLine>
<Link id="l00639" /><CodeLine lineNumber="639"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l00640" /><CodeLine lineNumber="640"></CodeLine>
<Link id="l00641" /><CodeLine lineNumber="641" lineLink="#a6dc0d17c5d20afdfa4004345e930584c"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="#a6dc0d17c5d20afdfa4004345e930584c">widenVectorToPartType</a>(<a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp;DAG, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Val,</span></CodeLine>
<Link id="l00642" /><CodeLine lineNumber="642"><span class="doxyHighlight">                                     </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> &amp;<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a href="/docs/api/structs/llvm/evt">EVT</a> PartVT) &#123;</span></CodeLine>
<Link id="l00643" /><CodeLine lineNumber="643"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!PartVT.<a href="/docs/api/structs/llvm/evt/#aa54976197fff266f4143beb44fc9764c">isVector</a>())</span></CodeLine>
<Link id="l00644" /><CodeLine lineNumber="644"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a>();</span></CodeLine>
<Link id="l00645" /><CodeLine lineNumber="645"></CodeLine>
<Link id="l00646" /><CodeLine lineNumber="646"><span class="doxyHighlight">  <a href="/docs/api/structs/llvm/evt">EVT</a> ValueVT = Val.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>();</span></CodeLine>
<Link id="l00647" /><CodeLine lineNumber="647"><span class="doxyHighlight">  <a href="/docs/api/structs/llvm/evt">EVT</a> PartEVT = PartVT.<a href="/docs/api/structs/llvm/evt/#abc4c6365ade17ad4443ad0e381e7479d">getVectorElementType</a>();</span></CodeLine>
<Link id="l00648" /><CodeLine lineNumber="648"><span class="doxyHighlight">  <a href="/docs/api/structs/llvm/evt">EVT</a> ValueEVT = ValueVT.<a href="/docs/api/structs/llvm/evt/#abc4c6365ade17ad4443ad0e381e7479d">getVectorElementType</a>();</span></CodeLine>
<Link id="l00649" /><CodeLine lineNumber="649"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/elementcount">ElementCount</a> PartNumElts = PartVT.<a href="/docs/api/structs/llvm/evt/#a3d102abca1c9c95f36546dff2f39273b">getVectorElementCount</a>();</span></CodeLine>
<Link id="l00650" /><CodeLine lineNumber="650"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/elementcount">ElementCount</a> ValueNumElts = ValueVT.<a href="/docs/api/structs/llvm/evt/#a3d102abca1c9c95f36546dff2f39273b">getVectorElementCount</a>();</span></CodeLine>
<Link id="l00651" /><CodeLine lineNumber="651"></CodeLine>
<Link id="l00652" /><CodeLine lineNumber="652"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// We only support widening vectors with equivalent element types and</span></CodeLine>
<Link id="l00653" /><CodeLine lineNumber="653"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// fixed/scalable properties. If a target needs to widen a fixed-length type</span></CodeLine>
<Link id="l00654" /><CodeLine lineNumber="654"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// to a scalable one, it should be possible to use INSERT&#95;SUBVECTOR below.</span></CodeLine>
<Link id="l00655" /><CodeLine lineNumber="655"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/classes/llvm/details/fixedorscalablequantity/#a338ba7ca7a526243ab1853d07d90fe38">ElementCount::isKnownLE</a>(PartNumElts, ValueNumElts) ||</span></CodeLine>
<Link id="l00656" /><CodeLine lineNumber="656"><span class="doxyHighlight">      PartNumElts.<a href="/docs/api/classes/llvm/details/fixedorscalablequantity/#a9188f84e1dd67530330dcab9cae787d7">isScalable</a>() != ValueNumElts.<a href="/docs/api/classes/llvm/details/fixedorscalablequantity/#a9188f84e1dd67530330dcab9cae787d7">isScalable</a>())</span></CodeLine>
<Link id="l00657" /><CodeLine lineNumber="657"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a>();</span></CodeLine>
<Link id="l00658" /><CodeLine lineNumber="658"></CodeLine>
<Link id="l00659" /><CodeLine lineNumber="659"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Have a try for bf16 because some targets share its ABI with fp16.</span></CodeLine>
<Link id="l00660" /><CodeLine lineNumber="660"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (ValueEVT == MVT::bf16 &amp;&amp; PartEVT == MVT::f16) &#123;</span></CodeLine>
<Link id="l00661" /><CodeLine lineNumber="661"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DAG.<a href="/docs/api/classes/llvm/selectiondag/#a4c20c587f89ae2926f9e8a99093e8419">getTargetLoweringInfo</a>().<a href="/docs/api/classes/llvm/targetloweringbase/#a80b305b278aa0e04f80312e15b2b6d54">isTypeLegal</a>(PartVT) &amp;&amp;</span></CodeLine>
<Link id="l00662" /><CodeLine lineNumber="662"><span class="doxyHighlight">           </span><span class="doxyHighlightStringLiteral">&quot;Cannot widen to illegal type&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l00663" /><CodeLine lineNumber="663"><span class="doxyHighlight">    Val = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::BITCAST, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</span></CodeLine>
<Link id="l00664" /><CodeLine lineNumber="664"><span class="doxyHighlight">                      ValueVT.<a href="/docs/api/structs/llvm/evt/#ad9d00ad929ec93255787f7f80c4659d9">changeVectorElementType</a>(MVT::f16), Val);</span></CodeLine>
<Link id="l00665" /><CodeLine lineNumber="665"><span class="doxyHighlight">  &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (PartEVT != ValueEVT) &#123;</span></CodeLine>
<Link id="l00666" /><CodeLine lineNumber="666"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a>();</span></CodeLine>
<Link id="l00667" /><CodeLine lineNumber="667"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00668" /><CodeLine lineNumber="668"></CodeLine>
<Link id="l00669" /><CodeLine lineNumber="669"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Widening a scalable vector to another scalable vector is done by inserting</span></CodeLine>
<Link id="l00670" /><CodeLine lineNumber="670"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// the vector into a larger undef one.</span></CodeLine>
<Link id="l00671" /><CodeLine lineNumber="671"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (PartNumElts.<a href="/docs/api/classes/llvm/details/fixedorscalablequantity/#a9188f84e1dd67530330dcab9cae787d7">isScalable</a>())</span></CodeLine>
<Link id="l00672" /><CodeLine lineNumber="672"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a1617abaedbb1d902bb3a5b3136684f9c">ISD::INSERT&#95;SUBVECTOR</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, PartVT, DAG.<a href="/docs/api/classes/llvm/selectiondag/#a5b0e59823444a55c295af279611a9d24">getUNDEF</a>(PartVT),</span></CodeLine>
<Link id="l00673" /><CodeLine lineNumber="673"><span class="doxyHighlight">                       Val, DAG.<a href="/docs/api/classes/llvm/selectiondag/#ac597f2b1601a3acbac07347251e588f8">getVectorIdxConstant</a>(0, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>));</span></CodeLine>
<Link id="l00674" /><CodeLine lineNumber="674"></CodeLine>
<Link id="l00675" /><CodeLine lineNumber="675"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Vector widening case, e.g. &lt;2 x float&gt; -&gt; &lt;4 x float&gt;.  Shuffle in</span></CodeLine>
<Link id="l00676" /><CodeLine lineNumber="676"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// undef elements.</span></CodeLine>
<Link id="l00677" /><CodeLine lineNumber="677"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/smallvector">SmallVector&lt;SDValue, 16&gt;</a> <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>;</span></CodeLine>
<Link id="l00678" /><CodeLine lineNumber="678"><span class="doxyHighlight">  DAG.<a href="/docs/api/classes/llvm/selectiondag/#a1c383bff50576c84343b3b8ea609f3e1">ExtractVectorElements</a>(Val, <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>);</span></CodeLine>
<Link id="l00679" /><CodeLine lineNumber="679"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> EltUndef = DAG.<a href="/docs/api/classes/llvm/selectiondag/#a5b0e59823444a55c295af279611a9d24">getUNDEF</a>(PartEVT);</span></CodeLine>
<Link id="l00680" /><CodeLine lineNumber="680"><span class="doxyHighlight">  <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.append((PartNumElts - ValueNumElts).getFixedValue(), EltUndef);</span></CodeLine>
<Link id="l00681" /><CodeLine lineNumber="681"></CodeLine>
<Link id="l00682" /><CodeLine lineNumber="682"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// FIXME: Use CONCAT for 2x -&gt; 4x.</span></CodeLine>
<Link id="l00683" /><CodeLine lineNumber="683"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> DAG.<a href="/docs/api/classes/llvm/selectiondag/#a5d154312bef0ed1a6bacfcb52b7cf8eb">getBuildVector</a>(PartVT, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>);</span></CodeLine>
<Link id="l00684" /><CodeLine lineNumber="684"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l00685" /><CodeLine lineNumber="685"></CodeLine>
<Link id="l00686" /><CodeLine lineNumber="686"><span class="doxyHighlightComment">/// getCopyToPartsVector - Create a series of nodes that contain the specified</span></CodeLine>
<Link id="l00687" /><CodeLine lineNumber="687"><span class="doxyHighlightComment">/// value split into legal parts.</span></CodeLine>
<Link id="l00688" /><CodeLine lineNumber="688" lineLink="#a7e79d5a868530c399fc615b99b3f02ab"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="#a7e79d5a868530c399fc615b99b3f02ab">getCopyToPartsVector</a>(<a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp;DAG, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> &amp;<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</span></CodeLine>
<Link id="l00689" /><CodeLine lineNumber="689"><span class="doxyHighlight">                                 <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Val, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> &#42;Parts, </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumParts,</span></CodeLine>
<Link id="l00690" /><CodeLine lineNumber="690"><span class="doxyHighlight">                                 <a href="/docs/api/classes/llvm/mvt">MVT</a> PartVT, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/value">Value</a> &#42;V,</span></CodeLine>
<Link id="l00691" /><CodeLine lineNumber="691"><span class="doxyHighlight">                                 std::optional&lt;CallingConv::ID&gt; CallConv) &#123;</span></CodeLine>
<Link id="l00692" /><CodeLine lineNumber="692"><span class="doxyHighlight">  <a href="/docs/api/structs/llvm/evt">EVT</a> ValueVT = Val.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>();</span></CodeLine>
<Link id="l00693" /><CodeLine lineNumber="693"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ValueVT.<a href="/docs/api/structs/llvm/evt/#aa54976197fff266f4143beb44fc9764c">isVector</a>() &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Not a vector&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l00694" /><CodeLine lineNumber="694"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetlowering">TargetLowering</a> &amp;TLI = DAG.<a href="/docs/api/classes/llvm/selectiondag/#a4c20c587f89ae2926f9e8a99093e8419">getTargetLoweringInfo</a>();</span></CodeLine>
<Link id="l00695" /><CodeLine lineNumber="695"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> IsABIRegCopy = CallConv.has&#95;value();</span></CodeLine>
<Link id="l00696" /><CodeLine lineNumber="696"></CodeLine>
<Link id="l00697" /><CodeLine lineNumber="697"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (NumParts == 1) &#123;</span></CodeLine>
<Link id="l00698" /><CodeLine lineNumber="698"><span class="doxyHighlight">    <a href="/docs/api/structs/llvm/evt">EVT</a> PartEVT = PartVT;</span></CodeLine>
<Link id="l00699" /><CodeLine lineNumber="699"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (PartEVT == ValueVT) &#123;</span></CodeLine>
<Link id="l00700" /><CodeLine lineNumber="700"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Nothing to do.</span></CodeLine>
<Link id="l00701" /><CodeLine lineNumber="701"><span class="doxyHighlight">    &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (PartVT.<a href="/docs/api/classes/llvm/mvt/#a7be7c6dd92efc0d6f866d4a3b433eed0">getSizeInBits</a>() == ValueVT.<a href="/docs/api/structs/llvm/evt/#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>()) &#123;</span></CodeLine>
<Link id="l00702" /><CodeLine lineNumber="702"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Bitconvert vector-&gt;vector case.</span></CodeLine>
<Link id="l00703" /><CodeLine lineNumber="703"><span class="doxyHighlight">      Val = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::BITCAST, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, PartVT, Val);</span></CodeLine>
<Link id="l00704" /><CodeLine lineNumber="704"><span class="doxyHighlight">    &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Widened = <a href="#a6dc0d17c5d20afdfa4004345e930584c">widenVectorToPartType</a>(DAG, Val, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, PartVT)) &#123;</span></CodeLine>
<Link id="l00705" /><CodeLine lineNumber="705"><span class="doxyHighlight">      Val = Widened;</span></CodeLine>
<Link id="l00706" /><CodeLine lineNumber="706"><span class="doxyHighlight">    &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (PartVT.<a href="/docs/api/classes/llvm/mvt/#a425636b56fa037ed7b19ef7f9de30df9">isVector</a>() &amp;&amp;</span></CodeLine>
<Link id="l00707" /><CodeLine lineNumber="707"><span class="doxyHighlight">               PartEVT.<a href="/docs/api/structs/llvm/evt/#abc4c6365ade17ad4443ad0e381e7479d">getVectorElementType</a>().<a href="/docs/api/structs/llvm/evt/#aa994416d7190670c5fc0e295ebe6f6b0">bitsGE</a>(</span></CodeLine>
<Link id="l00708" /><CodeLine lineNumber="708"><span class="doxyHighlight">                   ValueVT.<a href="/docs/api/structs/llvm/evt/#abc4c6365ade17ad4443ad0e381e7479d">getVectorElementType</a>()) &amp;&amp;</span></CodeLine>
<Link id="l00709" /><CodeLine lineNumber="709"><span class="doxyHighlight">               PartEVT.<a href="/docs/api/structs/llvm/evt/#a3d102abca1c9c95f36546dff2f39273b">getVectorElementCount</a>() ==</span></CodeLine>
<Link id="l00710" /><CodeLine lineNumber="710"><span class="doxyHighlight">                   ValueVT.<a href="/docs/api/structs/llvm/evt/#a3d102abca1c9c95f36546dff2f39273b">getVectorElementCount</a>()) &#123;</span></CodeLine>
<Link id="l00711" /><CodeLine lineNumber="711"></CodeLine>
<Link id="l00712" /><CodeLine lineNumber="712"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Promoted vector extract</span></CodeLine>
<Link id="l00713" /><CodeLine lineNumber="713"><span class="doxyHighlight">      Val = DAG.<a href="/docs/api/classes/llvm/selectiondag/#aae7e97fa59261cc890aa2359971adfd4">getAnyExtOrTrunc</a>(Val, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, PartVT);</span></CodeLine>
<Link id="l00714" /><CodeLine lineNumber="714"><span class="doxyHighlight">    &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (PartEVT.<a href="/docs/api/structs/llvm/evt/#aa54976197fff266f4143beb44fc9764c">isVector</a>() &amp;&amp;</span></CodeLine>
<Link id="l00715" /><CodeLine lineNumber="715"><span class="doxyHighlight">               PartEVT.<a href="/docs/api/structs/llvm/evt/#abc4c6365ade17ad4443ad0e381e7479d">getVectorElementType</a>() !=</span></CodeLine>
<Link id="l00716" /><CodeLine lineNumber="716"><span class="doxyHighlight">                   ValueVT.<a href="/docs/api/structs/llvm/evt/#abc4c6365ade17ad4443ad0e381e7479d">getVectorElementType</a>() &amp;&amp;</span></CodeLine>
<Link id="l00717" /><CodeLine lineNumber="717"><span class="doxyHighlight">               TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#ad859786d7e54bdc5c568ac20c69816e0">getTypeAction</a>(&#42;DAG.<a href="/docs/api/classes/llvm/selectiondag/#adecf615928faed0c8a082ffdb65dfea0">getContext</a>(), ValueVT) ==</span></CodeLine>
<Link id="l00718" /><CodeLine lineNumber="718"><span class="doxyHighlight">                   <a href="/docs/api/classes/llvm/targetloweringbase/#a35dc101b509721ffbfb58aba316de681a5290057031a9bc71850f61e757cb940e">TargetLowering::TypeWidenVector</a>) &#123;</span></CodeLine>
<Link id="l00719" /><CodeLine lineNumber="719"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Combination of widening and promotion.</span></CodeLine>
<Link id="l00720" /><CodeLine lineNumber="720"><span class="doxyHighlight">      <a href="/docs/api/structs/llvm/evt">EVT</a> WidenVT =</span></CodeLine>
<Link id="l00721" /><CodeLine lineNumber="721"><span class="doxyHighlight">          <a href="/docs/api/structs/llvm/evt/#a210ba6b43ba451b698857dd9de71bd15">EVT::getVectorVT</a>(&#42;DAG.<a href="/docs/api/classes/llvm/selectiondag/#adecf615928faed0c8a082ffdb65dfea0">getContext</a>(), ValueVT.<a href="/docs/api/structs/llvm/evt/#abc4c6365ade17ad4443ad0e381e7479d">getVectorElementType</a>(),</span></CodeLine>
<Link id="l00722" /><CodeLine lineNumber="722"><span class="doxyHighlight">                           PartVT.<a href="/docs/api/classes/llvm/mvt/#aa1abe2e0d36a43d780ce54ea3b197217">getVectorElementCount</a>());</span></CodeLine>
<Link id="l00723" /><CodeLine lineNumber="723"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Widened = <a href="#a6dc0d17c5d20afdfa4004345e930584c">widenVectorToPartType</a>(DAG, Val, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, WidenVT);</span></CodeLine>
<Link id="l00724" /><CodeLine lineNumber="724"><span class="doxyHighlight">      Val = DAG.<a href="/docs/api/classes/llvm/selectiondag/#aae7e97fa59261cc890aa2359971adfd4">getAnyExtOrTrunc</a>(Widened, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, PartVT);</span></CodeLine>
<Link id="l00725" /><CodeLine lineNumber="725"><span class="doxyHighlight">    &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l00726" /><CodeLine lineNumber="726"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Don&#39;t extract an integer from a float vector. This can happen if the</span></CodeLine>
<Link id="l00727" /><CodeLine lineNumber="727"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// FP type gets softened to integer and then promoted. The promotion</span></CodeLine>
<Link id="l00728" /><CodeLine lineNumber="728"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// prevents it from being picked up by the earlier bitcast case.</span></CodeLine>
<Link id="l00729" /><CodeLine lineNumber="729"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (ValueVT.<a href="/docs/api/structs/llvm/evt/#a3d102abca1c9c95f36546dff2f39273b">getVectorElementCount</a>().<a href="/docs/api/classes/llvm/elementcount/#a991f269cde2e7fbcb254ef371efc8d1a">isScalar</a>() &amp;&amp;</span></CodeLine>
<Link id="l00730" /><CodeLine lineNumber="730"><span class="doxyHighlight">          (!ValueVT.<a href="/docs/api/structs/llvm/evt/#a3cb888a2ce8e95e0d9769687a5e2f7d8">isFloatingPoint</a>() || !PartVT.<a href="/docs/api/classes/llvm/mvt/#a437cf7bc875369cbe0ea62f949626f0b">isInteger</a>())) &#123;</span></CodeLine>
<Link id="l00731" /><CodeLine lineNumber="731"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// If we reach this condition and PartVT is FP, this means that</span></CodeLine>
<Link id="l00732" /><CodeLine lineNumber="732"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// ValueVT is also FP and both have a different size, otherwise we</span></CodeLine>
<Link id="l00733" /><CodeLine lineNumber="733"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// would have bitcasted them. Producing an EXTRACT&#95;VECTOR&#95;ELT here</span></CodeLine>
<Link id="l00734" /><CodeLine lineNumber="734"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// would be invalid since that would mean the smaller FP type has to</span></CodeLine>
<Link id="l00735" /><CodeLine lineNumber="735"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// be extended to the larger one.</span></CodeLine>
<Link id="l00736" /><CodeLine lineNumber="736"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (PartVT.<a href="/docs/api/classes/llvm/mvt/#adc90e34882c97d5a86dd883d3d23b4ca">isFloatingPoint</a>()) &#123;</span></CodeLine>
<Link id="l00737" /><CodeLine lineNumber="737"><span class="doxyHighlight">          Val = DAG.<a href="/docs/api/classes/llvm/selectiondag/#a64f6469ab95c4eec77e4ccf303619a81">getBitcast</a>(ValueVT.<a href="/docs/api/structs/llvm/evt/#aa85c75e8eb097f02caeb5b9119eebfef">getScalarType</a>(), Val);</span></CodeLine>
<Link id="l00738" /><CodeLine lineNumber="738"><span class="doxyHighlight">          Val = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::FP&#95;EXTEND, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, PartVT, Val);</span></CodeLine>
<Link id="l00739" /><CodeLine lineNumber="739"><span class="doxyHighlight">        &#125; </span><span class="doxyHighlightKeywordFlow">else</span></CodeLine>
<Link id="l00740" /><CodeLine lineNumber="740"><span class="doxyHighlight">          Val = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9329e79f62e9ab9b41cfbcafd314bcbd">ISD::EXTRACT&#95;VECTOR&#95;ELT</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, PartVT, Val,</span></CodeLine>
<Link id="l00741" /><CodeLine lineNumber="741"><span class="doxyHighlight">                            DAG.<a href="/docs/api/classes/llvm/selectiondag/#ac597f2b1601a3acbac07347251e588f8">getVectorIdxConstant</a>(0, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>));</span></CodeLine>
<Link id="l00742" /><CodeLine lineNumber="742"><span class="doxyHighlight">      &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l00743" /><CodeLine lineNumber="743"><span class="doxyHighlight">        uint64&#95;t ValueSize = ValueVT.<a href="/docs/api/structs/llvm/evt/#a7712dd4392b7eb944b709ac8442634d9">getFixedSizeInBits</a>();</span></CodeLine>
<Link id="l00744" /><CodeLine lineNumber="744"><span class="doxyHighlight">        <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(PartVT.<a href="/docs/api/classes/llvm/mvt/#a874fbbec4937797974c9d5056769421a">getFixedSizeInBits</a>() &gt; ValueSize &amp;&amp;</span></CodeLine>
<Link id="l00745" /><CodeLine lineNumber="745"><span class="doxyHighlight">               </span><span class="doxyHighlightStringLiteral">&quot;lossy conversion of vector to scalar type&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l00746" /><CodeLine lineNumber="746"><span class="doxyHighlight">        <a href="/docs/api/structs/llvm/evt">EVT</a> IntermediateType = <a href="/docs/api/structs/llvm/evt/#a752372e170e4e7c595bf8810bb52adf2">EVT::getIntegerVT</a>(&#42;DAG.<a href="/docs/api/classes/llvm/selectiondag/#adecf615928faed0c8a082ffdb65dfea0">getContext</a>(), ValueSize);</span></CodeLine>
<Link id="l00747" /><CodeLine lineNumber="747"><span class="doxyHighlight">        Val = DAG.<a href="/docs/api/classes/llvm/selectiondag/#a64f6469ab95c4eec77e4ccf303619a81">getBitcast</a>(IntermediateType, Val);</span></CodeLine>
<Link id="l00748" /><CodeLine lineNumber="748"><span class="doxyHighlight">        Val = DAG.<a href="/docs/api/classes/llvm/selectiondag/#aae7e97fa59261cc890aa2359971adfd4">getAnyExtOrTrunc</a>(Val, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, PartVT);</span></CodeLine>
<Link id="l00749" /><CodeLine lineNumber="749"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l00750" /><CodeLine lineNumber="750"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l00751" /><CodeLine lineNumber="751"></CodeLine>
<Link id="l00752" /><CodeLine lineNumber="752"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Val.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>() == PartVT &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Unexpected vector part value type&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l00753" /><CodeLine lineNumber="753"><span class="doxyHighlight">    Parts&#91;0&#93; = Val;</span></CodeLine>
<Link id="l00754" /><CodeLine lineNumber="754"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00755" /><CodeLine lineNumber="755"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00756" /><CodeLine lineNumber="756"></CodeLine>
<Link id="l00757" /><CodeLine lineNumber="757"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Handle a multi-element vector.</span></CodeLine>
<Link id="l00758" /><CodeLine lineNumber="758"><span class="doxyHighlight">  <a href="/docs/api/structs/llvm/evt">EVT</a> IntermediateVT;</span></CodeLine>
<Link id="l00759" /><CodeLine lineNumber="759"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/mvt">MVT</a> RegisterVT;</span></CodeLine>
<Link id="l00760" /><CodeLine lineNumber="760"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumIntermediates;</span></CodeLine>
<Link id="l00761" /><CodeLine lineNumber="761"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumRegs;</span></CodeLine>
<Link id="l00762" /><CodeLine lineNumber="762"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (IsABIRegCopy) &#123;</span></CodeLine>
<Link id="l00763" /><CodeLine lineNumber="763"><span class="doxyHighlight">    NumRegs = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a5b806e2538d0e91175d970c8232a3099">getVectorTypeBreakdownForCallingConv</a>(</span></CodeLine>
<Link id="l00764" /><CodeLine lineNumber="764"><span class="doxyHighlight">        &#42;DAG.<a href="/docs/api/classes/llvm/selectiondag/#adecf615928faed0c8a082ffdb65dfea0">getContext</a>(), &#42;CallConv, ValueVT, IntermediateVT, NumIntermediates,</span></CodeLine>
<Link id="l00765" /><CodeLine lineNumber="765"><span class="doxyHighlight">        RegisterVT);</span></CodeLine>
<Link id="l00766" /><CodeLine lineNumber="766"><span class="doxyHighlight">  &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l00767" /><CodeLine lineNumber="767"><span class="doxyHighlight">    NumRegs =</span></CodeLine>
<Link id="l00768" /><CodeLine lineNumber="768"><span class="doxyHighlight">        TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#afd413c038500ff13a7a888e65d8777ce">getVectorTypeBreakdown</a>(&#42;DAG.<a href="/docs/api/classes/llvm/selectiondag/#adecf615928faed0c8a082ffdb65dfea0">getContext</a>(), ValueVT, IntermediateVT,</span></CodeLine>
<Link id="l00769" /><CodeLine lineNumber="769"><span class="doxyHighlight">                                   NumIntermediates, RegisterVT);</span></CodeLine>
<Link id="l00770" /><CodeLine lineNumber="770"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00771" /><CodeLine lineNumber="771"></CodeLine>
<Link id="l00772" /><CodeLine lineNumber="772"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(NumRegs == NumParts &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Part count doesn&#39;t match vector breakdown!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l00773" /><CodeLine lineNumber="773"><span class="doxyHighlight">  NumParts = NumRegs; </span><span class="doxyHighlightComment">// Silence a compiler warning.</span></CodeLine>
<Link id="l00774" /><CodeLine lineNumber="774"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(RegisterVT == PartVT &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Part type doesn&#39;t match vector breakdown!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l00775" /><CodeLine lineNumber="775"></CodeLine>
<Link id="l00776" /><CodeLine lineNumber="776"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(IntermediateVT.<a href="/docs/api/structs/llvm/evt/#ab8967b7214f38cdea9c0158dbe2ffa31">isScalableVector</a>() == ValueVT.<a href="/docs/api/structs/llvm/evt/#ab8967b7214f38cdea9c0158dbe2ffa31">isScalableVector</a>() &amp;&amp;</span></CodeLine>
<Link id="l00777" /><CodeLine lineNumber="777"><span class="doxyHighlight">         </span><span class="doxyHighlightStringLiteral">&quot;Mixing scalable and fixed vectors when copying in parts&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l00778" /><CodeLine lineNumber="778"></CodeLine>
<Link id="l00779" /><CodeLine lineNumber="779"><span class="doxyHighlight">  std::optional&lt;ElementCount&gt; DestEltCnt;</span></CodeLine>
<Link id="l00780" /><CodeLine lineNumber="780"></CodeLine>
<Link id="l00781" /><CodeLine lineNumber="781"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (IntermediateVT.<a href="/docs/api/structs/llvm/evt/#aa54976197fff266f4143beb44fc9764c">isVector</a>())</span></CodeLine>
<Link id="l00782" /><CodeLine lineNumber="782"><span class="doxyHighlight">    DestEltCnt = IntermediateVT.<a href="/docs/api/structs/llvm/evt/#a3d102abca1c9c95f36546dff2f39273b">getVectorElementCount</a>() &#42; NumIntermediates;</span></CodeLine>
<Link id="l00783" /><CodeLine lineNumber="783"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">else</span></CodeLine>
<Link id="l00784" /><CodeLine lineNumber="784"><span class="doxyHighlight">    DestEltCnt = <a href="/docs/api/classes/llvm/elementcount/#a584cb8dfa0090b33a969c4dda27337f6">ElementCount::getFixed</a>(NumIntermediates);</span></CodeLine>
<Link id="l00785" /><CodeLine lineNumber="785"></CodeLine>
<Link id="l00786" /><CodeLine lineNumber="786"><span class="doxyHighlight">  <a href="/docs/api/structs/llvm/evt">EVT</a> BuiltVectorTy = <a href="/docs/api/structs/llvm/evt/#a210ba6b43ba451b698857dd9de71bd15">EVT::getVectorVT</a>(</span></CodeLine>
<Link id="l00787" /><CodeLine lineNumber="787"><span class="doxyHighlight">      &#42;DAG.<a href="/docs/api/classes/llvm/selectiondag/#adecf615928faed0c8a082ffdb65dfea0">getContext</a>(), IntermediateVT.<a href="/docs/api/structs/llvm/evt/#aa85c75e8eb097f02caeb5b9119eebfef">getScalarType</a>(), &#42;DestEltCnt);</span></CodeLine>
<Link id="l00788" /><CodeLine lineNumber="788"></CodeLine>
<Link id="l00789" /><CodeLine lineNumber="789"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (ValueVT == BuiltVectorTy) &#123;</span></CodeLine>
<Link id="l00790" /><CodeLine lineNumber="790"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Nothing to do.</span></CodeLine>
<Link id="l00791" /><CodeLine lineNumber="791"><span class="doxyHighlight">  &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (ValueVT.<a href="/docs/api/structs/llvm/evt/#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>() == BuiltVectorTy.<a href="/docs/api/structs/llvm/evt/#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>()) &#123;</span></CodeLine>
<Link id="l00792" /><CodeLine lineNumber="792"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Bitconvert vector-&gt;vector case.</span></CodeLine>
<Link id="l00793" /><CodeLine lineNumber="793"><span class="doxyHighlight">    Val = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::BITCAST, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, BuiltVectorTy, Val);</span></CodeLine>
<Link id="l00794" /><CodeLine lineNumber="794"><span class="doxyHighlight">  &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l00795" /><CodeLine lineNumber="795"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (BuiltVectorTy.<a href="/docs/api/structs/llvm/evt/#abc4c6365ade17ad4443ad0e381e7479d">getVectorElementType</a>().<a href="/docs/api/structs/llvm/evt/#a3ad406477784397709a339d5a2957b43">bitsGT</a>(</span></CodeLine>
<Link id="l00796" /><CodeLine lineNumber="796"><span class="doxyHighlight">            ValueVT.<a href="/docs/api/structs/llvm/evt/#abc4c6365ade17ad4443ad0e381e7479d">getVectorElementType</a>())) &#123;</span></CodeLine>
<Link id="l00797" /><CodeLine lineNumber="797"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Integer promotion.</span></CodeLine>
<Link id="l00798" /><CodeLine lineNumber="798"><span class="doxyHighlight">      ValueVT = <a href="/docs/api/structs/llvm/evt/#a210ba6b43ba451b698857dd9de71bd15">EVT::getVectorVT</a>(&#42;DAG.<a href="/docs/api/classes/llvm/selectiondag/#adecf615928faed0c8a082ffdb65dfea0">getContext</a>(),</span></CodeLine>
<Link id="l00799" /><CodeLine lineNumber="799"><span class="doxyHighlight">                                 BuiltVectorTy.<a href="/docs/api/structs/llvm/evt/#abc4c6365ade17ad4443ad0e381e7479d">getVectorElementType</a>(),</span></CodeLine>
<Link id="l00800" /><CodeLine lineNumber="800"><span class="doxyHighlight">                                 ValueVT.<a href="/docs/api/structs/llvm/evt/#a3d102abca1c9c95f36546dff2f39273b">getVectorElementCount</a>());</span></CodeLine>
<Link id="l00801" /><CodeLine lineNumber="801"><span class="doxyHighlight">      Val = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a27d5d8ef82302b739ba3ca8be1a5513d">ISD::ANY&#95;EXTEND</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ValueVT, Val);</span></CodeLine>
<Link id="l00802" /><CodeLine lineNumber="802"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l00803" /><CodeLine lineNumber="803"></CodeLine>
<Link id="l00804" /><CodeLine lineNumber="804"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Widened = <a href="#a6dc0d17c5d20afdfa4004345e930584c">widenVectorToPartType</a>(DAG, Val, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, BuiltVectorTy)) &#123;</span></CodeLine>
<Link id="l00805" /><CodeLine lineNumber="805"><span class="doxyHighlight">      Val = Widened;</span></CodeLine>
<Link id="l00806" /><CodeLine lineNumber="806"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l00807" /><CodeLine lineNumber="807"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00808" /><CodeLine lineNumber="808"></CodeLine>
<Link id="l00809" /><CodeLine lineNumber="809"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Val.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>() == BuiltVectorTy &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Unexpected vector value type&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l00810" /><CodeLine lineNumber="810"></CodeLine>
<Link id="l00811" /><CodeLine lineNumber="811"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Split the vector into intermediate operands.</span></CodeLine>
<Link id="l00812" /><CodeLine lineNumber="812"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/smallvector">SmallVector&lt;SDValue, 8&gt;</a> <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>(NumIntermediates);</span></CodeLine>
<Link id="l00813" /><CodeLine lineNumber="813"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> i = 0; i != NumIntermediates; ++i) &#123;</span></CodeLine>
<Link id="l00814" /><CodeLine lineNumber="814"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (IntermediateVT.<a href="/docs/api/structs/llvm/evt/#aa54976197fff266f4143beb44fc9764c">isVector</a>()) &#123;</span></CodeLine>
<Link id="l00815" /><CodeLine lineNumber="815"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// This does something sensible for scalable vectors - see the</span></CodeLine>
<Link id="l00816" /><CodeLine lineNumber="816"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// definition of EXTRACT&#95;SUBVECTOR for further details.</span></CodeLine>
<Link id="l00817" /><CodeLine lineNumber="817"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> IntermediateNumElts = IntermediateVT.<a href="/docs/api/structs/llvm/evt/#a53fb11c0140efce7e25ca9ff5ccbac96">getVectorMinNumElements</a>();</span></CodeLine>
<Link id="l00818" /><CodeLine lineNumber="818"><span class="doxyHighlight">      <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>&#91;i&#93; =</span></CodeLine>
<Link id="l00819" /><CodeLine lineNumber="819"><span class="doxyHighlight">          DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9070de8a5c5b71851732c4c54e2ffedf">ISD::EXTRACT&#95;SUBVECTOR</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, IntermediateVT, Val,</span></CodeLine>
<Link id="l00820" /><CodeLine lineNumber="820"><span class="doxyHighlight">                      DAG.<a href="/docs/api/classes/llvm/selectiondag/#ac597f2b1601a3acbac07347251e588f8">getVectorIdxConstant</a>(i &#42; IntermediateNumElts, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>));</span></CodeLine>
<Link id="l00821" /><CodeLine lineNumber="821"><span class="doxyHighlight">    &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l00822" /><CodeLine lineNumber="822"><span class="doxyHighlight">      <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>&#91;i&#93; = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9329e79f62e9ab9b41cfbcafd314bcbd">ISD::EXTRACT&#95;VECTOR&#95;ELT</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, IntermediateVT, Val,</span></CodeLine>
<Link id="l00823" /><CodeLine lineNumber="823"><span class="doxyHighlight">                           DAG.<a href="/docs/api/classes/llvm/selectiondag/#ac597f2b1601a3acbac07347251e588f8">getVectorIdxConstant</a>(i, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>));</span></CodeLine>
<Link id="l00824" /><CodeLine lineNumber="824"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l00825" /><CodeLine lineNumber="825"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00826" /><CodeLine lineNumber="826"></CodeLine>
<Link id="l00827" /><CodeLine lineNumber="827"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Split the intermediate operands into legal parts.</span></CodeLine>
<Link id="l00828" /><CodeLine lineNumber="828"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (NumParts == NumIntermediates) &#123;</span></CodeLine>
<Link id="l00829" /><CodeLine lineNumber="829"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// If the register was not expanded, promote or copy the value,</span></CodeLine>
<Link id="l00830" /><CodeLine lineNumber="830"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// as appropriate.</span></CodeLine>
<Link id="l00831" /><CodeLine lineNumber="831"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> i = 0; i != NumParts; ++i)</span></CodeLine>
<Link id="l00832" /><CodeLine lineNumber="832"><span class="doxyHighlight">      <a href="#a8910923e28ba24c5abedb60c66c86cc5">getCopyToParts</a>(DAG, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>&#91;i&#93;, &amp;Parts&#91;i&#93;, 1, PartVT, V, CallConv);</span></CodeLine>
<Link id="l00833" /><CodeLine lineNumber="833"><span class="doxyHighlight">  &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (NumParts &gt; 0) &#123;</span></CodeLine>
<Link id="l00834" /><CodeLine lineNumber="834"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// If the intermediate type was expanded, split each the value into</span></CodeLine>
<Link id="l00835" /><CodeLine lineNumber="835"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// legal parts.</span></CodeLine>
<Link id="l00836" /><CodeLine lineNumber="836"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(NumIntermediates != 0 &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;division by zero&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l00837" /><CodeLine lineNumber="837"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(NumParts % NumIntermediates == 0 &amp;&amp;</span></CodeLine>
<Link id="l00838" /><CodeLine lineNumber="838"><span class="doxyHighlight">           </span><span class="doxyHighlightStringLiteral">&quot;Must expand into a divisible number of parts!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l00839" /><CodeLine lineNumber="839"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> Factor = NumParts / NumIntermediates;</span></CodeLine>
<Link id="l00840" /><CodeLine lineNumber="840"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> i = 0; i != NumIntermediates; ++i)</span></CodeLine>
<Link id="l00841" /><CodeLine lineNumber="841"><span class="doxyHighlight">      <a href="#a8910923e28ba24c5abedb60c66c86cc5">getCopyToParts</a>(DAG, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>&#91;i&#93;, &amp;Parts&#91;i &#42; Factor&#93;, Factor, PartVT, V,</span></CodeLine>
<Link id="l00842" /><CodeLine lineNumber="842"><span class="doxyHighlight">                     CallConv);</span></CodeLine>
<Link id="l00843" /><CodeLine lineNumber="843"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00844" /><CodeLine lineNumber="844"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l00845" /><CodeLine lineNumber="845"></CodeLine>
<Link id="l00846" /><CodeLine lineNumber="846" lineLink="/docs/api/structs/llvm/regsforvalue/#acc970ad3ae53c4651c93aea291dfb99e"><span class="doxyHighlight"><a href="/docs/api/structs/llvm/regsforvalue/#a123209f777591b5401b745f330892d5c">RegsForValue::RegsForValue</a>(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/smallvector">SmallVector&lt;Register, 4&gt;</a> &amp;regs, <a href="/docs/api/classes/llvm/mvt">MVT</a> regvt,</span></CodeLine>
<Link id="l00847" /><CodeLine lineNumber="847"><span class="doxyHighlight">                           <a href="/docs/api/structs/llvm/evt">EVT</a> valuevt, std::optional&lt;CallingConv::ID&gt; <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a77c69067ae8279bc00ab8757731e90d7">CC</a>)</span></CodeLine>
<Link id="l00848" /><CodeLine lineNumber="848"><span class="doxyHighlight">    : <a href="/docs/api/structs/llvm/regsforvalue/#a285fe7c1651ad46e272fbe0d4ef59189">ValueVTs</a>(1, valuevt), <a href="/docs/api/structs/llvm/regsforvalue/#adc3cf865d5a653cfae070a5a64d2b3a9">RegVTs</a>(1, regvt), <a href="/docs/api/structs/llvm/regsforvalue/#a70d3f48e8c5cf69454cd80e7a5224970">Regs</a>(regs),</span></CodeLine>
<Link id="l00849" /><CodeLine lineNumber="849"><span class="doxyHighlight">      <a href="/docs/api/structs/llvm/regsforvalue/#a1c16254f02fe53dec13cd46773ded1f3">RegCount</a>(1, regs.<a href="/docs/api/namespaces/llvm/#a10f3d955592ae2bc745f57e5b48ae115">size</a>()), <a href="/docs/api/structs/llvm/regsforvalue/#ae0896c435305536fccf78b4fd263eae0">CallConv</a>(<a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a77c69067ae8279bc00ab8757731e90d7">CC</a>) &#123;&#125;</span></CodeLine>
<Link id="l00850" /><CodeLine lineNumber="850"></CodeLine>
<Link id="l00851" /><CodeLine lineNumber="851" lineLink="/docs/api/structs/llvm/regsforvalue/#a8334b2e523b8d9fa1d57f399cc08921f"><span class="doxyHighlight"><a href="/docs/api/structs/llvm/regsforvalue/#a123209f777591b5401b745f330892d5c">RegsForValue::RegsForValue</a>(<a href="/docs/api/classes/llvm/llvmcontext">LLVMContext</a> &amp;Context, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetlowering">TargetLowering</a> &amp;TLI,</span></CodeLine>
<Link id="l00852" /><CodeLine lineNumber="852"><span class="doxyHighlight">                           </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/datalayout">DataLayout</a> &amp;<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a href="/docs/api/classes/llvm/register">Register</a> Reg, <a href="/docs/api/classes/llvm/type">Type</a> &#42;Ty,</span></CodeLine>
<Link id="l00853" /><CodeLine lineNumber="853"><span class="doxyHighlight">                           std::optional&lt;CallingConv::ID&gt; <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a77c69067ae8279bc00ab8757731e90d7">CC</a>) &#123;</span></CodeLine>
<Link id="l00854" /><CodeLine lineNumber="854"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#ab99618b3d8988b758a67f5a1a6071095">ComputeValueVTs</a>(TLI, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Ty, <a href="/docs/api/structs/llvm/regsforvalue/#a285fe7c1651ad46e272fbe0d4ef59189">ValueVTs</a>);</span></CodeLine>
<Link id="l00855" /><CodeLine lineNumber="855"></CodeLine>
<Link id="l00856" /><CodeLine lineNumber="856"><span class="doxyHighlight">  <a href="/docs/api/structs/llvm/regsforvalue/#ae0896c435305536fccf78b4fd263eae0">CallConv</a> = <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a77c69067ae8279bc00ab8757731e90d7">CC</a>;</span></CodeLine>
<Link id="l00857" /><CodeLine lineNumber="857"></CodeLine>
<Link id="l00858" /><CodeLine lineNumber="858"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (<a href="/docs/api/structs/llvm/evt">EVT</a> ValueVT : <a href="/docs/api/structs/llvm/regsforvalue/#a285fe7c1651ad46e272fbe0d4ef59189">ValueVTs</a>) &#123;</span></CodeLine>
<Link id="l00859" /><CodeLine lineNumber="859"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumRegs =</span></CodeLine>
<Link id="l00860" /><CodeLine lineNumber="860"><span class="doxyHighlight">        <a href="/docs/api/structs/llvm/regsforvalue/#a1f8aefe8349b8f445625f678b051e16c">isABIMangled</a>()</span></CodeLine>
<Link id="l00861" /><CodeLine lineNumber="861"><span class="doxyHighlight">            ? TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a315b23c0819f55fa9e7473c21992fc12">getNumRegistersForCallingConv</a>(Context, &#42;<a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a77c69067ae8279bc00ab8757731e90d7">CC</a>, ValueVT)</span></CodeLine>
<Link id="l00862" /><CodeLine lineNumber="862"><span class="doxyHighlight">            : TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a42bf7ed3daec395fe644414494888bc6">getNumRegisters</a>(Context, ValueVT);</span></CodeLine>
<Link id="l00863" /><CodeLine lineNumber="863"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/mvt">MVT</a> RegisterVT =</span></CodeLine>
<Link id="l00864" /><CodeLine lineNumber="864"><span class="doxyHighlight">        <a href="/docs/api/structs/llvm/regsforvalue/#a1f8aefe8349b8f445625f678b051e16c">isABIMangled</a>()</span></CodeLine>
<Link id="l00865" /><CodeLine lineNumber="865"><span class="doxyHighlight">            ? TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a347d293012b5070f6833926f3d2e50d7">getRegisterTypeForCallingConv</a>(Context, &#42;<a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a77c69067ae8279bc00ab8757731e90d7">CC</a>, ValueVT)</span></CodeLine>
<Link id="l00866" /><CodeLine lineNumber="866"><span class="doxyHighlight">            : TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#af344c6bd2d070c999525df85be7688cf">getRegisterType</a>(Context, ValueVT);</span></CodeLine>
<Link id="l00867" /><CodeLine lineNumber="867"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> i = 0; i != NumRegs; ++i)</span></CodeLine>
<Link id="l00868" /><CodeLine lineNumber="868"><span class="doxyHighlight">      <a href="/docs/api/structs/llvm/regsforvalue/#a70d3f48e8c5cf69454cd80e7a5224970">Regs</a>.push&#95;back(Reg + i);</span></CodeLine>
<Link id="l00869" /><CodeLine lineNumber="869"><span class="doxyHighlight">    <a href="/docs/api/structs/llvm/regsforvalue/#adc3cf865d5a653cfae070a5a64d2b3a9">RegVTs</a>.push&#95;back(RegisterVT);</span></CodeLine>
<Link id="l00870" /><CodeLine lineNumber="870"><span class="doxyHighlight">    <a href="/docs/api/structs/llvm/regsforvalue/#a1c16254f02fe53dec13cd46773ded1f3">RegCount</a>.push&#95;back(NumRegs);</span></CodeLine>
<Link id="l00871" /><CodeLine lineNumber="871"><span class="doxyHighlight">    Reg = Reg.id() + NumRegs;</span></CodeLine>
<Link id="l00872" /><CodeLine lineNumber="872"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00873" /><CodeLine lineNumber="873"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l00874" /><CodeLine lineNumber="874"></CodeLine>
<Link id="l00875" /><CodeLine lineNumber="875" lineLink="/docs/api/structs/llvm/regsforvalue/#ad782fe84b36a1c379ac9f1ac367706e1"><span class="doxyHighlight"><a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="/docs/api/structs/llvm/regsforvalue/#ad782fe84b36a1c379ac9f1ac367706e1">RegsForValue::getCopyFromRegs</a>(<a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp;DAG,</span></CodeLine>
<Link id="l00876" /><CodeLine lineNumber="876"><span class="doxyHighlight">                                      <a href="/docs/api/classes/llvm/functionloweringinfo">FunctionLoweringInfo</a> &amp;FuncInfo,</span></CodeLine>
<Link id="l00877" /><CodeLine lineNumber="877"><span class="doxyHighlight">                                      </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> &amp;dl, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> &amp;Chain,</span></CodeLine>
<Link id="l00878" /><CodeLine lineNumber="878"><span class="doxyHighlight">                                      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> &#42;Glue, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/value">Value</a> &#42;V)</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123;</span></CodeLine>
<Link id="l00879" /><CodeLine lineNumber="879"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// A Value with type &#123;&#125; or &#91;0 x %t&#93; needs no registers.</span></CodeLine>
<Link id="l00880" /><CodeLine lineNumber="880"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/structs/llvm/regsforvalue/#a285fe7c1651ad46e272fbe0d4ef59189">ValueVTs</a>.empty())</span></CodeLine>
<Link id="l00881" /><CodeLine lineNumber="881"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a>();</span></CodeLine>
<Link id="l00882" /><CodeLine lineNumber="882"></CodeLine>
<Link id="l00883" /><CodeLine lineNumber="883"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetlowering">TargetLowering</a> &amp;TLI = DAG.<a href="/docs/api/classes/llvm/selectiondag/#a4c20c587f89ae2926f9e8a99093e8419">getTargetLoweringInfo</a>();</span></CodeLine>
<Link id="l00884" /><CodeLine lineNumber="884"></CodeLine>
<Link id="l00885" /><CodeLine lineNumber="885"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Assemble the legal parts into the final values.</span></CodeLine>
<Link id="l00886" /><CodeLine lineNumber="886"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/smallvector">SmallVector&lt;SDValue, 4&gt;</a> Values(<a href="/docs/api/structs/llvm/regsforvalue/#a285fe7c1651ad46e272fbe0d4ef59189">ValueVTs</a>.size());</span></CodeLine>
<Link id="l00887" /><CodeLine lineNumber="887"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/smallvector">SmallVector&lt;SDValue, 8&gt;</a> Parts;</span></CodeLine>
<Link id="l00888" /><CodeLine lineNumber="888"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/value">Value</a> = 0, Part = 0, e = <a href="/docs/api/structs/llvm/regsforvalue/#a285fe7c1651ad46e272fbe0d4ef59189">ValueVTs</a>.size(); <a href="/docs/api/classes/llvm/value">Value</a> != e; ++<a href="/docs/api/classes/llvm/value">Value</a>) &#123;</span></CodeLine>
<Link id="l00889" /><CodeLine lineNumber="889"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Copy the legal parts from the registers.</span></CodeLine>
<Link id="l00890" /><CodeLine lineNumber="890"><span class="doxyHighlight">    <a href="/docs/api/structs/llvm/evt">EVT</a> ValueVT = <a href="/docs/api/structs/llvm/regsforvalue/#a285fe7c1651ad46e272fbe0d4ef59189">ValueVTs</a>&#91;<a href="/docs/api/classes/llvm/value">Value</a>&#93;;</span></CodeLine>
<Link id="l00891" /><CodeLine lineNumber="891"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumRegs = <a href="/docs/api/structs/llvm/regsforvalue/#a1c16254f02fe53dec13cd46773ded1f3">RegCount</a>&#91;<a href="/docs/api/classes/llvm/value">Value</a>&#93;;</span></CodeLine>
<Link id="l00892" /><CodeLine lineNumber="892"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/mvt">MVT</a> RegisterVT = <a href="/docs/api/structs/llvm/regsforvalue/#a1f8aefe8349b8f445625f678b051e16c">isABIMangled</a>()</span></CodeLine>
<Link id="l00893" /><CodeLine lineNumber="893"><span class="doxyHighlight">                         ? TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a347d293012b5070f6833926f3d2e50d7">getRegisterTypeForCallingConv</a>(</span></CodeLine>
<Link id="l00894" /><CodeLine lineNumber="894"><span class="doxyHighlight">                               &#42;DAG.<a href="/docs/api/classes/llvm/selectiondag/#adecf615928faed0c8a082ffdb65dfea0">getContext</a>(), &#42;<a href="/docs/api/structs/llvm/regsforvalue/#ae0896c435305536fccf78b4fd263eae0">CallConv</a>, <a href="/docs/api/structs/llvm/regsforvalue/#adc3cf865d5a653cfae070a5a64d2b3a9">RegVTs</a>&#91;<a href="/docs/api/classes/llvm/value">Value</a>&#93;)</span></CodeLine>
<Link id="l00895" /><CodeLine lineNumber="895"><span class="doxyHighlight">                         : <a href="/docs/api/structs/llvm/regsforvalue/#adc3cf865d5a653cfae070a5a64d2b3a9">RegVTs</a>&#91;<a href="/docs/api/classes/llvm/value">Value</a>&#93;;</span></CodeLine>
<Link id="l00896" /><CodeLine lineNumber="896"></CodeLine>
<Link id="l00897" /><CodeLine lineNumber="897"><span class="doxyHighlight">    Parts.<a href="/docs/api/classes/llvm/smallvectorimpl/#ad0b3d8447f88377b62d9c019f3c4e118">resize</a>(NumRegs);</span></CodeLine>
<Link id="l00898" /><CodeLine lineNumber="898"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> i = 0; i != NumRegs; ++i) &#123;</span></CodeLine>
<Link id="l00899" /><CodeLine lineNumber="899"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="/docs/api/files/lib/lib/option/option-cpp/#a04665169063c8ca1f2ea96c27fc7c2b2">P</a>;</span></CodeLine>
<Link id="l00900" /><CodeLine lineNumber="900"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!Glue) &#123;</span></CodeLine>
<Link id="l00901" /><CodeLine lineNumber="901"><span class="doxyHighlight">        <a href="/docs/api/files/lib/lib/option/option-cpp/#a04665169063c8ca1f2ea96c27fc7c2b2">P</a> = DAG.<a href="/docs/api/classes/llvm/selectiondag/#a6551350658729b36c93362fcff19abab">getCopyFromReg</a>(Chain, dl, <a href="/docs/api/structs/llvm/regsforvalue/#a70d3f48e8c5cf69454cd80e7a5224970">Regs</a>&#91;Part+i&#93;, RegisterVT);</span></CodeLine>
<Link id="l00902" /><CodeLine lineNumber="902"><span class="doxyHighlight">      &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l00903" /><CodeLine lineNumber="903"><span class="doxyHighlight">        <a href="/docs/api/files/lib/lib/option/option-cpp/#a04665169063c8ca1f2ea96c27fc7c2b2">P</a> = DAG.<a href="/docs/api/classes/llvm/selectiondag/#a6551350658729b36c93362fcff19abab">getCopyFromReg</a>(Chain, dl, <a href="/docs/api/structs/llvm/regsforvalue/#a70d3f48e8c5cf69454cd80e7a5224970">Regs</a>&#91;Part+i&#93;, RegisterVT, &#42;Glue);</span></CodeLine>
<Link id="l00904" /><CodeLine lineNumber="904"><span class="doxyHighlight">        &#42;Glue = <a href="/docs/api/files/lib/lib/option/option-cpp/#a04665169063c8ca1f2ea96c27fc7c2b2">P</a>.getValue(2);</span></CodeLine>
<Link id="l00905" /><CodeLine lineNumber="905"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l00906" /><CodeLine lineNumber="906"></CodeLine>
<Link id="l00907" /><CodeLine lineNumber="907"><span class="doxyHighlight">      Chain = <a href="/docs/api/files/lib/lib/option/option-cpp/#a04665169063c8ca1f2ea96c27fc7c2b2">P</a>.getValue(1);</span></CodeLine>
<Link id="l00908" /><CodeLine lineNumber="908"><span class="doxyHighlight">      Parts&#91;i&#93; = <a href="/docs/api/files/lib/lib/option/option-cpp/#a04665169063c8ca1f2ea96c27fc7c2b2">P</a>;</span></CodeLine>
<Link id="l00909" /><CodeLine lineNumber="909"></CodeLine>
<Link id="l00910" /><CodeLine lineNumber="910"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// If the source register was virtual and if we know something about it,</span></CodeLine>
<Link id="l00911" /><CodeLine lineNumber="911"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// add an assert node.</span></CodeLine>
<Link id="l00912" /><CodeLine lineNumber="912"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="/docs/api/classes/llvm/register/#ac6bf744f357352cde7578931007c0b6f">Register::isVirtualRegister</a>(<a href="/docs/api/structs/llvm/regsforvalue/#a70d3f48e8c5cf69454cd80e7a5224970">Regs</a>&#91;Part + i&#93;) ||</span></CodeLine>
<Link id="l00913" /><CodeLine lineNumber="913"><span class="doxyHighlight">          !RegisterVT.<a href="/docs/api/classes/llvm/mvt/#a437cf7bc875369cbe0ea62f949626f0b">isInteger</a>())</span></CodeLine>
<Link id="l00914" /><CodeLine lineNumber="914"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">continue</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00915" /><CodeLine lineNumber="915"></CodeLine>
<Link id="l00916" /><CodeLine lineNumber="916"><span class="doxyHighlight">      </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/structs/llvm/functionloweringinfo/liveoutinfo">FunctionLoweringInfo::LiveOutInfo</a> &#42;LOI =</span></CodeLine>
<Link id="l00917" /><CodeLine lineNumber="917"><span class="doxyHighlight">        FuncInfo.GetLiveOutRegInfo(<a href="/docs/api/structs/llvm/regsforvalue/#a70d3f48e8c5cf69454cd80e7a5224970">Regs</a>&#91;Part+i&#93;);</span></CodeLine>
<Link id="l00918" /><CodeLine lineNumber="918"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!LOI)</span></CodeLine>
<Link id="l00919" /><CodeLine lineNumber="919"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">continue</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00920" /><CodeLine lineNumber="920"></CodeLine>
<Link id="l00921" /><CodeLine lineNumber="921"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64mipeepholeopt-cpp/#a9c374320ed4e895f9afa199987182bd2">RegSize</a> = RegisterVT.<a href="/docs/api/classes/llvm/mvt/#a2e101ce5736aa0643639fd3adae18088">getScalarSizeInBits</a>();</span></CodeLine>
<Link id="l00922" /><CodeLine lineNumber="922"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumSignBits = LOI-&gt;<a href="/docs/api/structs/llvm/functionloweringinfo/liveoutinfo/#a651904591143e71c02a94dca2659fc8e">NumSignBits</a>;</span></CodeLine>
<Link id="l00923" /><CodeLine lineNumber="923"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumZeroBits = LOI-&gt;<a href="/docs/api/structs/llvm/functionloweringinfo/liveoutinfo/#ac49dfd777da8c8caee8f3d6370ef14ea">Known</a>.<a href="/docs/api/structs/llvm/knownbits/#a7f47812e8e75b0616a97d7004e5fb909">countMinLeadingZeros</a>();</span></CodeLine>
<Link id="l00924" /><CodeLine lineNumber="924"></CodeLine>
<Link id="l00925" /><CodeLine lineNumber="925"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (NumZeroBits == <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64mipeepholeopt-cpp/#a9c374320ed4e895f9afa199987182bd2">RegSize</a>) &#123;</span></CodeLine>
<Link id="l00926" /><CodeLine lineNumber="926"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// The current value is a zero.</span></CodeLine>
<Link id="l00927" /><CodeLine lineNumber="927"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// Explicitly express that as it would be easier for</span></CodeLine>
<Link id="l00928" /><CodeLine lineNumber="928"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// optimizations to kick in.</span></CodeLine>
<Link id="l00929" /><CodeLine lineNumber="929"><span class="doxyHighlight">        Parts&#91;i&#93; = DAG.<a href="/docs/api/classes/llvm/selectiondag/#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, dl, RegisterVT);</span></CodeLine>
<Link id="l00930" /><CodeLine lineNumber="930"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">continue</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00931" /><CodeLine lineNumber="931"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l00932" /><CodeLine lineNumber="932"></CodeLine>
<Link id="l00933" /><CodeLine lineNumber="933"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// FIXME: We capture more information than the dag can represent.  For</span></CodeLine>
<Link id="l00934" /><CodeLine lineNumber="934"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// now, just use the tightest assertzext/assertsext possible.</span></CodeLine>
<Link id="l00935" /><CodeLine lineNumber="935"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> isSExt;</span></CodeLine>
<Link id="l00936" /><CodeLine lineNumber="936"><span class="doxyHighlight">      <a href="/docs/api/structs/llvm/evt">EVT</a> FromVT(MVT::Other);</span></CodeLine>
<Link id="l00937" /><CodeLine lineNumber="937"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (NumZeroBits) &#123;</span></CodeLine>
<Link id="l00938" /><CodeLine lineNumber="938"><span class="doxyHighlight">        FromVT = <a href="/docs/api/structs/llvm/evt/#a752372e170e4e7c595bf8810bb52adf2">EVT::getIntegerVT</a>(&#42;DAG.<a href="/docs/api/classes/llvm/selectiondag/#adecf615928faed0c8a082ffdb65dfea0">getContext</a>(), <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64mipeepholeopt-cpp/#a9c374320ed4e895f9afa199987182bd2">RegSize</a> - NumZeroBits);</span></CodeLine>
<Link id="l00939" /><CodeLine lineNumber="939"><span class="doxyHighlight">        isSExt = </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00940" /><CodeLine lineNumber="940"><span class="doxyHighlight">      &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (NumSignBits &gt; 1) &#123;</span></CodeLine>
<Link id="l00941" /><CodeLine lineNumber="941"><span class="doxyHighlight">        FromVT =</span></CodeLine>
<Link id="l00942" /><CodeLine lineNumber="942"><span class="doxyHighlight">            <a href="/docs/api/structs/llvm/evt/#a752372e170e4e7c595bf8810bb52adf2">EVT::getIntegerVT</a>(&#42;DAG.<a href="/docs/api/classes/llvm/selectiondag/#adecf615928faed0c8a082ffdb65dfea0">getContext</a>(), <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64mipeepholeopt-cpp/#a9c374320ed4e895f9afa199987182bd2">RegSize</a> - NumSignBits + 1);</span></CodeLine>
<Link id="l00943" /><CodeLine lineNumber="943"><span class="doxyHighlight">        isSExt = </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00944" /><CodeLine lineNumber="944"><span class="doxyHighlight">      &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l00945" /><CodeLine lineNumber="945"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">continue</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00946" /><CodeLine lineNumber="946"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l00947" /><CodeLine lineNumber="947"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Add an assertion node.</span></CodeLine>
<Link id="l00948" /><CodeLine lineNumber="948"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(FromVT != MVT::Other);</span></CodeLine>
<Link id="l00949" /><CodeLine lineNumber="949"><span class="doxyHighlight">      Parts&#91;i&#93; = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(isSExt ? <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110aee4f13218bdbb5c5697f7e786618ecb2">ISD::AssertSext</a> : <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110af23301e60475124fd80a2cb51f6ba863">ISD::AssertZext</a>, dl,</span></CodeLine>
<Link id="l00950" /><CodeLine lineNumber="950"><span class="doxyHighlight">                             RegisterVT, <a href="/docs/api/files/lib/lib/option/option-cpp/#a04665169063c8ca1f2ea96c27fc7c2b2">P</a>, DAG.<a href="/docs/api/classes/llvm/selectiondag/#ab8ba6b05ad4fa7517f2e23b26f84ae1b">getValueType</a>(FromVT));</span></CodeLine>
<Link id="l00951" /><CodeLine lineNumber="951"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l00952" /><CodeLine lineNumber="952"></CodeLine>
<Link id="l00953" /><CodeLine lineNumber="953"><span class="doxyHighlight">    Values&#91;<a href="/docs/api/classes/llvm/value">Value</a>&#93; = <a href="#acb8cf9e50c3979193572ea36f327d0a4">getCopyFromParts</a>(DAG, dl, Parts.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#a8a045d250952c0867382a9840ee18fdf">begin</a>(), NumRegs,</span></CodeLine>
<Link id="l00954" /><CodeLine lineNumber="954"><span class="doxyHighlight">                                     RegisterVT, ValueVT, V, Chain, <a href="/docs/api/structs/llvm/regsforvalue/#ae0896c435305536fccf78b4fd263eae0">CallConv</a>);</span></CodeLine>
<Link id="l00955" /><CodeLine lineNumber="955"><span class="doxyHighlight">    Part += NumRegs;</span></CodeLine>
<Link id="l00956" /><CodeLine lineNumber="956"><span class="doxyHighlight">    Parts.<a href="/docs/api/classes/llvm/smallvectorimpl/#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</span></CodeLine>
<Link id="l00957" /><CodeLine lineNumber="957"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00958" /><CodeLine lineNumber="958"></CodeLine>
<Link id="l00959" /><CodeLine lineNumber="959"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a01c94937492f3ac3fb1e0be8eb0b9ef1">ISD::MERGE&#95;VALUES</a>, dl, DAG.<a href="/docs/api/classes/llvm/selectiondag/#a196c23d6cb4d768d037970f1f35bbf66">getVTList</a>(<a href="/docs/api/structs/llvm/regsforvalue/#a285fe7c1651ad46e272fbe0d4ef59189">ValueVTs</a>), Values);</span></CodeLine>
<Link id="l00960" /><CodeLine lineNumber="960"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l00961" /><CodeLine lineNumber="961"></CodeLine>
<Link id="l00962" /><CodeLine lineNumber="962" lineLink="/docs/api/structs/llvm/regsforvalue/#adf93dd21d49c19700e980b15f19cb7d7"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/structs/llvm/regsforvalue/#adf93dd21d49c19700e980b15f19cb7d7">RegsForValue::getCopyToRegs</a>(<a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Val, <a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp;DAG,</span></CodeLine>
<Link id="l00963" /><CodeLine lineNumber="963"><span class="doxyHighlight">                                 </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> &amp;dl, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> &amp;Chain, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> &#42;Glue,</span></CodeLine>
<Link id="l00964" /><CodeLine lineNumber="964"><span class="doxyHighlight">                                 </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/value">Value</a> &#42;V,</span></CodeLine>
<Link id="l00965" /><CodeLine lineNumber="965"><span class="doxyHighlight">                                 <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110">ISD::NodeType</a> PreferredExtendType)</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123;</span></CodeLine>
<Link id="l00966" /><CodeLine lineNumber="966"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetlowering">TargetLowering</a> &amp;TLI = DAG.<a href="/docs/api/classes/llvm/selectiondag/#a4c20c587f89ae2926f9e8a99093e8419">getTargetLoweringInfo</a>();</span></CodeLine>
<Link id="l00967" /><CodeLine lineNumber="967"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110">ISD::NodeType</a> ExtendKind = PreferredExtendType;</span></CodeLine>
<Link id="l00968" /><CodeLine lineNumber="968"></CodeLine>
<Link id="l00969" /><CodeLine lineNumber="969"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Get the list of the values&#39;s legal parts.</span></CodeLine>
<Link id="l00970" /><CodeLine lineNumber="970"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumRegs = <a href="/docs/api/structs/llvm/regsforvalue/#a70d3f48e8c5cf69454cd80e7a5224970">Regs</a>.size();</span></CodeLine>
<Link id="l00971" /><CodeLine lineNumber="971"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/smallvector">SmallVector&lt;SDValue, 8&gt;</a> Parts(NumRegs);</span></CodeLine>
<Link id="l00972" /><CodeLine lineNumber="972"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/value">Value</a> = 0, Part = 0, e = <a href="/docs/api/structs/llvm/regsforvalue/#a285fe7c1651ad46e272fbe0d4ef59189">ValueVTs</a>.size(); <a href="/docs/api/classes/llvm/value">Value</a> != e; ++<a href="/docs/api/classes/llvm/value">Value</a>) &#123;</span></CodeLine>
<Link id="l00973" /><CodeLine lineNumber="973"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumParts = <a href="/docs/api/structs/llvm/regsforvalue/#a1c16254f02fe53dec13cd46773ded1f3">RegCount</a>&#91;<a href="/docs/api/classes/llvm/value">Value</a>&#93;;</span></CodeLine>
<Link id="l00974" /><CodeLine lineNumber="974"></CodeLine>
<Link id="l00975" /><CodeLine lineNumber="975"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/mvt">MVT</a> RegisterVT = <a href="/docs/api/structs/llvm/regsforvalue/#a1f8aefe8349b8f445625f678b051e16c">isABIMangled</a>()</span></CodeLine>
<Link id="l00976" /><CodeLine lineNumber="976"><span class="doxyHighlight">                         ? TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a347d293012b5070f6833926f3d2e50d7">getRegisterTypeForCallingConv</a>(</span></CodeLine>
<Link id="l00977" /><CodeLine lineNumber="977"><span class="doxyHighlight">                               &#42;DAG.<a href="/docs/api/classes/llvm/selectiondag/#adecf615928faed0c8a082ffdb65dfea0">getContext</a>(), &#42;<a href="/docs/api/structs/llvm/regsforvalue/#ae0896c435305536fccf78b4fd263eae0">CallConv</a>, <a href="/docs/api/structs/llvm/regsforvalue/#adc3cf865d5a653cfae070a5a64d2b3a9">RegVTs</a>&#91;<a href="/docs/api/classes/llvm/value">Value</a>&#93;)</span></CodeLine>
<Link id="l00978" /><CodeLine lineNumber="978"><span class="doxyHighlight">                         : <a href="/docs/api/structs/llvm/regsforvalue/#adc3cf865d5a653cfae070a5a64d2b3a9">RegVTs</a>&#91;<a href="/docs/api/classes/llvm/value">Value</a>&#93;;</span></CodeLine>
<Link id="l00979" /><CodeLine lineNumber="979"></CodeLine>
<Link id="l00980" /><CodeLine lineNumber="980"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (ExtendKind == <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a27d5d8ef82302b739ba3ca8be1a5513d">ISD::ANY&#95;EXTEND</a> &amp;&amp; TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a342be90695496b88a8854a775dfd030f">isZExtFree</a>(Val, RegisterVT))</span></CodeLine>
<Link id="l00981" /><CodeLine lineNumber="981"><span class="doxyHighlight">      ExtendKind = <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">ISD::ZERO&#95;EXTEND</a>;</span></CodeLine>
<Link id="l00982" /><CodeLine lineNumber="982"></CodeLine>
<Link id="l00983" /><CodeLine lineNumber="983"><span class="doxyHighlight">    <a href="#a8910923e28ba24c5abedb60c66c86cc5">getCopyToParts</a>(DAG, dl, Val.<a href="/docs/api/classes/llvm/sdvalue/#a64932427432abeb61241e98bea167580">getValue</a>(Val.<a href="/docs/api/classes/llvm/sdvalue/#ac476ca9c302b9ba8d47ea7b02f6149f5">getResNo</a>() + <a href="/docs/api/classes/llvm/value">Value</a>), &amp;Parts&#91;Part&#93;,</span></CodeLine>
<Link id="l00984" /><CodeLine lineNumber="984"><span class="doxyHighlight">                   NumParts, RegisterVT, V, <a href="/docs/api/structs/llvm/regsforvalue/#ae0896c435305536fccf78b4fd263eae0">CallConv</a>, ExtendKind);</span></CodeLine>
<Link id="l00985" /><CodeLine lineNumber="985"><span class="doxyHighlight">    Part += NumParts;</span></CodeLine>
<Link id="l00986" /><CodeLine lineNumber="986"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00987" /><CodeLine lineNumber="987"></CodeLine>
<Link id="l00988" /><CodeLine lineNumber="988"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Copy the parts into the registers.</span></CodeLine>
<Link id="l00989" /><CodeLine lineNumber="989"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/smallvector">SmallVector&lt;SDValue, 8&gt;</a> Chains(NumRegs);</span></CodeLine>
<Link id="l00990" /><CodeLine lineNumber="990"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> i = 0; i != NumRegs; ++i) &#123;</span></CodeLine>
<Link id="l00991" /><CodeLine lineNumber="991"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Part;</span></CodeLine>
<Link id="l00992" /><CodeLine lineNumber="992"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!Glue) &#123;</span></CodeLine>
<Link id="l00993" /><CodeLine lineNumber="993"><span class="doxyHighlight">      Part = DAG.<a href="/docs/api/classes/llvm/selectiondag/#a155ffe05aa8e1991b486a7f96ff2e828">getCopyToReg</a>(Chain, dl, <a href="/docs/api/structs/llvm/regsforvalue/#a70d3f48e8c5cf69454cd80e7a5224970">Regs</a>&#91;i&#93;, Parts&#91;i&#93;);</span></CodeLine>
<Link id="l00994" /><CodeLine lineNumber="994"><span class="doxyHighlight">    &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l00995" /><CodeLine lineNumber="995"><span class="doxyHighlight">      Part = DAG.<a href="/docs/api/classes/llvm/selectiondag/#a155ffe05aa8e1991b486a7f96ff2e828">getCopyToReg</a>(Chain, dl, <a href="/docs/api/structs/llvm/regsforvalue/#a70d3f48e8c5cf69454cd80e7a5224970">Regs</a>&#91;i&#93;, Parts&#91;i&#93;, &#42;Glue);</span></CodeLine>
<Link id="l00996" /><CodeLine lineNumber="996"><span class="doxyHighlight">      &#42;Glue = Part.<a href="/docs/api/classes/llvm/sdvalue/#a64932427432abeb61241e98bea167580">getValue</a>(1);</span></CodeLine>
<Link id="l00997" /><CodeLine lineNumber="997"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l00998" /><CodeLine lineNumber="998"></CodeLine>
<Link id="l00999" /><CodeLine lineNumber="999"><span class="doxyHighlight">    Chains&#91;i&#93; = Part.<a href="/docs/api/classes/llvm/sdvalue/#a64932427432abeb61241e98bea167580">getValue</a>(0);</span></CodeLine>
<Link id="l01000" /><CodeLine lineNumber="1000"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l01001" /><CodeLine lineNumber="1001"></CodeLine>
<Link id="l01002" /><CodeLine lineNumber="1002"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (NumRegs == 1 || Glue)</span></CodeLine>
<Link id="l01003" /><CodeLine lineNumber="1003"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// If NumRegs &gt; 1 &amp;&amp; Glue is used then the use of the last CopyToReg is</span></CodeLine>
<Link id="l01004" /><CodeLine lineNumber="1004"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// flagged to it. That is the CopyToReg nodes and the user are considered</span></CodeLine>
<Link id="l01005" /><CodeLine lineNumber="1005"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// a single scheduling unit. If we create a TokenFactor and return it as</span></CodeLine>
<Link id="l01006" /><CodeLine lineNumber="1006"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// chain, then the TokenFactor is both a predecessor (operand) of the</span></CodeLine>
<Link id="l01007" /><CodeLine lineNumber="1007"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// user as well as a successor (the TF operands are flagged to the user).</span></CodeLine>
<Link id="l01008" /><CodeLine lineNumber="1008"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// c1, f1 = CopyToReg</span></CodeLine>
<Link id="l01009" /><CodeLine lineNumber="1009"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// c2, f2 = CopyToReg</span></CodeLine>
<Link id="l01010" /><CodeLine lineNumber="1010"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// c3     = TokenFactor c1, c2</span></CodeLine>
<Link id="l01011" /><CodeLine lineNumber="1011"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// ...</span></CodeLine>
<Link id="l01012" /><CodeLine lineNumber="1012"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//        = op c3, ..., f2</span></CodeLine>
<Link id="l01013" /><CodeLine lineNumber="1013"><span class="doxyHighlight">    Chain = Chains&#91;NumRegs-1&#93;;</span></CodeLine>
<Link id="l01014" /><CodeLine lineNumber="1014"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">else</span></CodeLine>
<Link id="l01015" /><CodeLine lineNumber="1015"><span class="doxyHighlight">    Chain = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110ad469508535ce2082a1ab1f0e429187b8">ISD::TokenFactor</a>, dl, MVT::Other, Chains);</span></CodeLine>
<Link id="l01016" /><CodeLine lineNumber="1016"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l01017" /><CodeLine lineNumber="1017"></CodeLine>
<Link id="l01018" /><CodeLine lineNumber="1018" lineLink="/docs/api/structs/llvm/regsforvalue/#a73e723a22ad556552ca99f7e7a90a780"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/structs/llvm/regsforvalue/#a73e723a22ad556552ca99f7e7a90a780">RegsForValue::AddInlineAsmOperands</a>(<a href="/docs/api/classes/llvm/inlineasm/#a49585056d1d7051dd2bd6f012e5b5e94">InlineAsm::Kind</a> Code, </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> HasMatching,</span></CodeLine>
<Link id="l01019" /><CodeLine lineNumber="1019"><span class="doxyHighlight">                                        </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> MatchingIdx, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> &amp;dl,</span></CodeLine>
<Link id="l01020" /><CodeLine lineNumber="1020"><span class="doxyHighlight">                                        <a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp;DAG,</span></CodeLine>
<Link id="l01021" /><CodeLine lineNumber="1021"><span class="doxyHighlight">                                        std::vector&lt;SDValue&gt; &amp;<a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>)</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123;</span></CodeLine>
<Link id="l01022" /><CodeLine lineNumber="1022"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetlowering">TargetLowering</a> &amp;TLI = DAG.<a href="/docs/api/classes/llvm/selectiondag/#a4c20c587f89ae2926f9e8a99093e8419">getTargetLoweringInfo</a>();</span></CodeLine>
<Link id="l01023" /><CodeLine lineNumber="1023"></CodeLine>
<Link id="l01024" /><CodeLine lineNumber="1024"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/inlineasm/flag">InlineAsm::Flag</a> Flag(Code, <a href="/docs/api/structs/llvm/regsforvalue/#a70d3f48e8c5cf69454cd80e7a5224970">Regs</a>.size());</span></CodeLine>
<Link id="l01025" /><CodeLine lineNumber="1025"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (HasMatching)</span></CodeLine>
<Link id="l01026" /><CodeLine lineNumber="1026"><span class="doxyHighlight">    Flag.setMatchingOp(MatchingIdx);</span></CodeLine>
<Link id="l01027" /><CodeLine lineNumber="1027"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="/docs/api/structs/llvm/regsforvalue/#a70d3f48e8c5cf69454cd80e7a5224970">Regs</a>.empty() &amp;&amp; <a href="/docs/api/classes/llvm/register/#ac6bf744f357352cde7578931007c0b6f">Register::isVirtualRegister</a>(<a href="/docs/api/structs/llvm/regsforvalue/#a70d3f48e8c5cf69454cd80e7a5224970">Regs</a>.front())) &#123;</span></CodeLine>
<Link id="l01028" /><CodeLine lineNumber="1028"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Put the register class of the virtual registers in the flag word.  That</span></CodeLine>
<Link id="l01029" /><CodeLine lineNumber="1029"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// way, later passes can recompute register class constraints for inline</span></CodeLine>
<Link id="l01030" /><CodeLine lineNumber="1030"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// assembly as well as normal instructions.</span></CodeLine>
<Link id="l01031" /><CodeLine lineNumber="1031"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Don&#39;t do this for tied operands that can use the regclass information</span></CodeLine>
<Link id="l01032" /><CodeLine lineNumber="1032"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// from the def.</span></CodeLine>
<Link id="l01033" /><CodeLine lineNumber="1033"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/machineregisterinfo">MachineRegisterInfo</a> &amp;<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64advsimdscalarpass-cpp/#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = DAG.<a href="/docs/api/classes/llvm/selectiondag/#ac64ec73b0617befef1fb2eae78d12b5f">getMachineFunction</a>().<a href="/docs/api/classes/llvm/machinefunction/#a810234b6b3d223b7c74a4253fcc5ea5e">getRegInfo</a>();</span></CodeLine>
<Link id="l01034" /><CodeLine lineNumber="1034"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetregisterclass">TargetRegisterClass</a> &#42;RC = <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64advsimdscalarpass-cpp/#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.getRegClass(<a href="/docs/api/structs/llvm/regsforvalue/#a70d3f48e8c5cf69454cd80e7a5224970">Regs</a>.front());</span></CodeLine>
<Link id="l01035" /><CodeLine lineNumber="1035"><span class="doxyHighlight">    Flag.setRegClass(RC-&gt;<a href="/docs/api/classes/llvm/targetregisterclass/#a32a8b65536822d50171455a6baa81da7">getID</a>());</span></CodeLine>
<Link id="l01036" /><CodeLine lineNumber="1036"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l01037" /><CodeLine lineNumber="1037"></CodeLine>
<Link id="l01038" /><CodeLine lineNumber="1038"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Res = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(Flag, dl, MVT::i32);</span></CodeLine>
<Link id="l01039" /><CodeLine lineNumber="1039"><span class="doxyHighlight">  <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.push&#95;back(Res);</span></CodeLine>
<Link id="l01040" /><CodeLine lineNumber="1040"></CodeLine>
<Link id="l01041" /><CodeLine lineNumber="1041"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Code == <a href="/docs/api/classes/llvm/inlineasm/#a49585056d1d7051dd2bd6f012e5b5e94ac50132234eb8c934e71b7f2f0fa5099c">InlineAsm::Kind::Clobber</a>) &#123;</span></CodeLine>
<Link id="l01042" /><CodeLine lineNumber="1042"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Clobbers should always have a 1:1 mapping with registers, and may</span></CodeLine>
<Link id="l01043" /><CodeLine lineNumber="1043"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// reference registers that have illegal (e.g. vector) types. Hence, we</span></CodeLine>
<Link id="l01044" /><CodeLine lineNumber="1044"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// shouldn&#39;t try to apply any sort of splitting logic to them.</span></CodeLine>
<Link id="l01045" /><CodeLine lineNumber="1045"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a href="/docs/api/structs/llvm/regsforvalue/#a70d3f48e8c5cf69454cd80e7a5224970">Regs</a>.size() == <a href="/docs/api/structs/llvm/regsforvalue/#adc3cf865d5a653cfae070a5a64d2b3a9">RegVTs</a>.size() &amp;&amp; <a href="/docs/api/structs/llvm/regsforvalue/#a70d3f48e8c5cf69454cd80e7a5224970">Regs</a>.size() == <a href="/docs/api/structs/llvm/regsforvalue/#a285fe7c1651ad46e272fbe0d4ef59189">ValueVTs</a>.size() &amp;&amp;</span></CodeLine>
<Link id="l01046" /><CodeLine lineNumber="1046"><span class="doxyHighlight">           </span><span class="doxyHighlightStringLiteral">&quot;No 1:1 mapping from clobbers to regs?&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l01047" /><CodeLine lineNumber="1047"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/register">Register</a> SP = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a5de0162fac7c57cab62e5bb81f0b5542">getStackPointerRegisterToSaveRestore</a>();</span></CodeLine>
<Link id="l01048" /><CodeLine lineNumber="1048"><span class="doxyHighlight">    (void)SP;</span></CodeLine>
<Link id="l01049" /><CodeLine lineNumber="1049"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0, E = <a href="/docs/api/structs/llvm/regsforvalue/#a285fe7c1651ad46e272fbe0d4ef59189">ValueVTs</a>.size(); <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l01050" /><CodeLine lineNumber="1050"><span class="doxyHighlight">      <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.push&#95;back(DAG.<a href="/docs/api/classes/llvm/selectiondag/#a3963ce0b1b988776399447f21df86b15">getRegister</a>(<a href="/docs/api/structs/llvm/regsforvalue/#a70d3f48e8c5cf69454cd80e7a5224970">Regs</a>&#91;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>&#93;, <a href="/docs/api/structs/llvm/regsforvalue/#adc3cf865d5a653cfae070a5a64d2b3a9">RegVTs</a>&#91;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>&#93;));</span></CodeLine>
<Link id="l01051" /><CodeLine lineNumber="1051"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(</span></CodeLine>
<Link id="l01052" /><CodeLine lineNumber="1052"><span class="doxyHighlight">          (<a href="/docs/api/structs/llvm/regsforvalue/#a70d3f48e8c5cf69454cd80e7a5224970">Regs</a>&#91;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>&#93; != SP ||</span></CodeLine>
<Link id="l01053" /><CodeLine lineNumber="1053"><span class="doxyHighlight">           DAG.<a href="/docs/api/classes/llvm/selectiondag/#ac64ec73b0617befef1fb2eae78d12b5f">getMachineFunction</a>().<a href="/docs/api/classes/llvm/machinefunction/#a54f334a9c8ca6d105eae383ae87e4524">getFrameInfo</a>().<a href="/docs/api/classes/llvm/machineframeinfo/#a51773b6c05f392988bf6395ccd1788ce">hasOpaqueSPAdjustment</a>()) &amp;&amp;</span></CodeLine>
<Link id="l01054" /><CodeLine lineNumber="1054"><span class="doxyHighlight">          </span><span class="doxyHighlightStringLiteral">&quot;If we clobbered the stack pointer, MFI should know about it.&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l01055" /><CodeLine lineNumber="1055"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l01056" /><CodeLine lineNumber="1056"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l01057" /><CodeLine lineNumber="1057"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l01058" /><CodeLine lineNumber="1058"></CodeLine>
<Link id="l01059" /><CodeLine lineNumber="1059"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/value">Value</a> = 0, Reg = 0, e = <a href="/docs/api/structs/llvm/regsforvalue/#a285fe7c1651ad46e272fbe0d4ef59189">ValueVTs</a>.size(); <a href="/docs/api/classes/llvm/value">Value</a> != e; ++<a href="/docs/api/classes/llvm/value">Value</a>) &#123;</span></CodeLine>
<Link id="l01060" /><CodeLine lineNumber="1060"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/mvt">MVT</a> RegisterVT = <a href="/docs/api/structs/llvm/regsforvalue/#adc3cf865d5a653cfae070a5a64d2b3a9">RegVTs</a>&#91;<a href="/docs/api/classes/llvm/value">Value</a>&#93;;</span></CodeLine>
<Link id="l01061" /><CodeLine lineNumber="1061"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumRegs = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a42bf7ed3daec395fe644414494888bc6">getNumRegisters</a>(&#42;DAG.<a href="/docs/api/classes/llvm/selectiondag/#adecf615928faed0c8a082ffdb65dfea0">getContext</a>(), <a href="/docs/api/structs/llvm/regsforvalue/#a285fe7c1651ad46e272fbe0d4ef59189">ValueVTs</a>&#91;<a href="/docs/api/classes/llvm/value">Value</a>&#93;,</span></CodeLine>
<Link id="l01062" /><CodeLine lineNumber="1062"><span class="doxyHighlight">                                           RegisterVT);</span></CodeLine>
<Link id="l01063" /><CodeLine lineNumber="1063"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> i = 0; i != NumRegs; ++i) &#123;</span></CodeLine>
<Link id="l01064" /><CodeLine lineNumber="1064"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Reg &lt; <a href="/docs/api/structs/llvm/regsforvalue/#a70d3f48e8c5cf69454cd80e7a5224970">Regs</a>.size() &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Mismatch in # registers expected&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l01065" /><CodeLine lineNumber="1065"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> TheReg = <a href="/docs/api/structs/llvm/regsforvalue/#a70d3f48e8c5cf69454cd80e7a5224970">Regs</a>&#91;Reg++&#93;;</span></CodeLine>
<Link id="l01066" /><CodeLine lineNumber="1066"><span class="doxyHighlight">      <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.push&#95;back(DAG.<a href="/docs/api/classes/llvm/selectiondag/#a3963ce0b1b988776399447f21df86b15">getRegister</a>(TheReg, RegisterVT));</span></CodeLine>
<Link id="l01067" /><CodeLine lineNumber="1067"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l01068" /><CodeLine lineNumber="1068"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l01069" /><CodeLine lineNumber="1069"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l01070" /><CodeLine lineNumber="1070"></CodeLine>
<Link id="l01071" /><CodeLine lineNumber="1071"><span class="doxyHighlight"><a href="/docs/api/classes/llvm/smallvector">SmallVector&lt;std::pair&lt;Register, TypeSize&gt;</a>, 4&gt;</span></CodeLine>
<Link id="l01072" /><CodeLine lineNumber="1072" lineLink="/docs/api/structs/llvm/regsforvalue/#a03813938f6c7ea6b7e94965a27491ddc"><span class="doxyHighlight"><a href="/docs/api/structs/llvm/regsforvalue/#a03813938f6c7ea6b7e94965a27491ddc">RegsForValue::getRegsAndSizes</a>()</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123;</span></CodeLine>
<Link id="l01073" /><CodeLine lineNumber="1073"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/smallvector">SmallVector&lt;std::pair&lt;Register, TypeSize&gt;</a>, 4&gt; OutVec;</span></CodeLine>
<Link id="l01074" /><CodeLine lineNumber="1074"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0;</span></CodeLine>
<Link id="l01075" /><CodeLine lineNumber="1075"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> CountAndVT : <a href="/docs/api/namespaces/llvm/#a740d35e0d3e2f7601f845b641fe58971">zip&#95;first</a>(<a href="/docs/api/structs/llvm/regsforvalue/#a1c16254f02fe53dec13cd46773ded1f3">RegCount</a>, <a href="/docs/api/structs/llvm/regsforvalue/#adc3cf865d5a653cfae070a5a64d2b3a9">RegVTs</a>)) &#123;</span></CodeLine>
<Link id="l01076" /><CodeLine lineNumber="1076"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> <a href="/docs/api/structs/llvm/regsforvalue/#a1c16254f02fe53dec13cd46773ded1f3">RegCount</a> = std::get&lt;0&gt;(CountAndVT);</span></CodeLine>
<Link id="l01077" /><CodeLine lineNumber="1077"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/mvt">MVT</a> RegisterVT = std::get&lt;1&gt;(CountAndVT);</span></CodeLine>
<Link id="l01078" /><CodeLine lineNumber="1078"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/typesize">TypeSize</a> RegisterSize = RegisterVT.<a href="/docs/api/classes/llvm/mvt/#a7be7c6dd92efc0d6f866d4a3b433eed0">getSizeInBits</a>();</span></CodeLine>
<Link id="l01079" /><CodeLine lineNumber="1079"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> E = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a> + <a href="/docs/api/structs/llvm/regsforvalue/#a1c16254f02fe53dec13cd46773ded1f3">RegCount</a>; <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</span></CodeLine>
<Link id="l01080" /><CodeLine lineNumber="1080"><span class="doxyHighlight">      OutVec.<a href="/docs/api/classes/llvm/smallvectortemplatebase/#af42bfbc067df27c19ee2fc859df58799">push&#95;back</a>(std::make&#95;pair(<a href="/docs/api/structs/llvm/regsforvalue/#a70d3f48e8c5cf69454cd80e7a5224970">Regs</a>&#91;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>&#93;, RegisterSize));</span></CodeLine>
<Link id="l01081" /><CodeLine lineNumber="1081"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l01082" /><CodeLine lineNumber="1082"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> OutVec;</span></CodeLine>
<Link id="l01083" /><CodeLine lineNumber="1083"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l01084" /><CodeLine lineNumber="1084"></CodeLine>
<Link id="l01085" /><CodeLine lineNumber="1085" lineLink="/docs/api/classes/llvm/selectiondagbuilder/#aadd87a22e72622eccf46ce5525d1976c"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#aadd87a22e72622eccf46ce5525d1976c">SelectionDAGBuilder::init</a>(<a href="/docs/api/classes/llvm/gcfunctioninfo">GCFunctionInfo</a> &#42;gfi, <a href="/docs/api/classes/llvm/batchaaresults">BatchAAResults</a> &#42;<a href="/docs/api/files/lib/lib/analysis/aliasanalysis-cpp/#a74b87337454200d4d33f80c4663dc5e5">aa</a>,</span></CodeLine>
<Link id="l01086" /><CodeLine lineNumber="1086"><span class="doxyHighlight">                               <a href="/docs/api/classes/llvm/assumptioncache">AssumptionCache</a> &#42;ac,</span></CodeLine>
<Link id="l01087" /><CodeLine lineNumber="1087"><span class="doxyHighlight">                               </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetlibraryinfo">TargetLibraryInfo</a> &#42;li) &#123;</span></CodeLine>
<Link id="l01088" /><CodeLine lineNumber="1088"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#a23f8a52e7e457d67b67aa86541f55c17">BatchAA</a> = <a href="/docs/api/files/lib/lib/analysis/aliasanalysis-cpp/#a74b87337454200d4d33f80c4663dc5e5">aa</a>;</span></CodeLine>
<Link id="l01089" /><CodeLine lineNumber="1089"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#acb6015cccbf35f2e27ca3367cda3cdec">AC</a> = ac;</span></CodeLine>
<Link id="l01090" /><CodeLine lineNumber="1090"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#a9b4db8b8082660004fda0c282da0ff0a">GFI</a> = gfi;</span></CodeLine>
<Link id="l01091" /><CodeLine lineNumber="1091"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ae283c81e2135fac41f1896dd39c4cc40">LibInfo</a> = li;</span></CodeLine>
<Link id="l01092" /><CodeLine lineNumber="1092"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ac536e4b59b1e85317cea0b32d47752ef">Context</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getContext();</span></CodeLine>
<Link id="l01093" /><CodeLine lineNumber="1093"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#a53319e45ea515329480adf13f0098b4b">LPadToCallSiteMap</a>.clear();</span></CodeLine>
<Link id="l01094" /><CodeLine lineNumber="1094"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#a346bf6c4d7fca3ebce554ec2cdd80e87">SL</a>-&gt;init(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo(), TM, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout());</span></CodeLine>
<Link id="l01095" /><CodeLine lineNumber="1095"><span class="doxyHighlight">  AssignmentTrackingEnabled = <a href="/docs/api/namespaces/llvm/#aa9ef2dbd1b7ce921093f7d4a7bd4cc5c">isAssignmentTrackingEnabled</a>(</span></CodeLine>
<Link id="l01096" /><CodeLine lineNumber="1096"><span class="doxyHighlight">      &#42;<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMachineFunction().getFunction().getParent());</span></CodeLine>
<Link id="l01097" /><CodeLine lineNumber="1097"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l01098" /><CodeLine lineNumber="1098"></CodeLine>
<Link id="l01099" /><CodeLine lineNumber="1099" lineLink="/docs/api/classes/llvm/selectiondagbuilder/#a2c224fcb5175ab1e842dd2a1371eb3d8"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#a2c224fcb5175ab1e842dd2a1371eb3d8">SelectionDAGBuilder::clear</a>() &#123;</span></CodeLine>
<Link id="l01100" /><CodeLine lineNumber="1100"><span class="doxyHighlight">  NodeMap.clear();</span></CodeLine>
<Link id="l01101" /><CodeLine lineNumber="1101"><span class="doxyHighlight">  UnusedArgNodeMap.clear();</span></CodeLine>
<Link id="l01102" /><CodeLine lineNumber="1102"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#a9a1381eb77fac8d57f54f7bf25919a4e">PendingLoads</a>.clear();</span></CodeLine>
<Link id="l01103" /><CodeLine lineNumber="1103"><span class="doxyHighlight">  PendingExports.clear();</span></CodeLine>
<Link id="l01104" /><CodeLine lineNumber="1104"><span class="doxyHighlight">  PendingConstrainedFP.clear();</span></CodeLine>
<Link id="l01105" /><CodeLine lineNumber="1105"><span class="doxyHighlight">  PendingConstrainedFPStrict.clear();</span></CodeLine>
<Link id="l01106" /><CodeLine lineNumber="1106"><span class="doxyHighlight">  CurInst = </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l01107" /><CodeLine lineNumber="1107"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#a39e446f1647e793791c33d0d2412d088">HasTailCall</a> = </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l01108" /><CodeLine lineNumber="1108"><span class="doxyHighlight">  SDNodeOrder = <a href="/docs/api/classes/llvm/selectiondagbuilder/#accb23e3bb8c3fddd1fc7a18025b1ec0d">LowestSDNodeOrder</a>;</span></CodeLine>
<Link id="l01109" /><CodeLine lineNumber="1109"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#a77cbbcab1440ac5ef835e1a3d3f6c74e">StatepointLowering</a>.clear();</span></CodeLine>
<Link id="l01110" /><CodeLine lineNumber="1110"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l01111" /><CodeLine lineNumber="1111"></CodeLine>
<Link id="l01112" /><CodeLine lineNumber="1112" lineLink="/docs/api/classes/llvm/selectiondagbuilder/#a1b90604db120716e786d9d33babc3edd"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#a1b90604db120716e786d9d33babc3edd">SelectionDAGBuilder::clearDanglingDebugInfo</a>() &#123;</span></CodeLine>
<Link id="l01113" /><CodeLine lineNumber="1113"><span class="doxyHighlight">  DanglingDebugInfoMap.clear();</span></CodeLine>
<Link id="l01114" /><CodeLine lineNumber="1114"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l01115" /><CodeLine lineNumber="1115"></CodeLine>
<Link id="l01116" /><CodeLine lineNumber="1116"><span class="doxyHighlightComment">// Update DAG root to include dependencies on Pending chains.</span></CodeLine>
<Link id="l01117" /><CodeLine lineNumber="1117"><span class="doxyHighlight"><a href="/docs/api/classes/llvm/sdvalue">SDValue</a> SelectionDAGBuilder::updateRoot(<a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl&lt;SDValue&gt;</a> &amp;Pending) &#123;</span></CodeLine>
<Link id="l01118" /><CodeLine lineNumber="1118"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Root = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.<a href="/docs/api/classes/llvm/selectiondag/#a0b02716fe6bb52c384caec3a1f8268be">getRoot</a>();</span></CodeLine>
<Link id="l01119" /><CodeLine lineNumber="1119"></CodeLine>
<Link id="l01120" /><CodeLine lineNumber="1120"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Pending.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#ad9a3c7bc26b130377bbafc170b5f88a2">empty</a>())</span></CodeLine>
<Link id="l01121" /><CodeLine lineNumber="1121"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> Root;</span></CodeLine>
<Link id="l01122" /><CodeLine lineNumber="1122"></CodeLine>
<Link id="l01123" /><CodeLine lineNumber="1123"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Add current root to PendingChains, unless we already indirectly</span></CodeLine>
<Link id="l01124" /><CodeLine lineNumber="1124"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// depend on it.</span></CodeLine>
<Link id="l01125" /><CodeLine lineNumber="1125"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Root.<a href="/docs/api/classes/llvm/sdvalue/#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() != <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a926013f6dca240eca95aca66c8d3e74b">ISD::EntryToken</a>) &#123;</span></CodeLine>
<Link id="l01126" /><CodeLine lineNumber="1126"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> i = 0, e = Pending.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#a1c479a8c434377c2b8cb056bdfdfc201">size</a>();</span></CodeLine>
<Link id="l01127" /><CodeLine lineNumber="1127"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (; i != e; ++i) &#123;</span></CodeLine>
<Link id="l01128" /><CodeLine lineNumber="1128"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Pending&#91;i&#93;.<a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/lib/target/amdgpu/utils/amdgpudelayedmcexpr-cpp/#a3b9e43a5529fa7d4adb2bad70198c9bd">getNode</a>()-&gt;getNumOperands() &gt; 1);</span></CodeLine>
<Link id="l01129" /><CodeLine lineNumber="1129"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Pending&#91;i&#93;.<a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/lib/target/amdgpu/utils/amdgpudelayedmcexpr-cpp/#a3b9e43a5529fa7d4adb2bad70198c9bd">getNode</a>()-&gt;getOperand(0) == Root)</span></CodeLine>
<Link id="l01130" /><CodeLine lineNumber="1130"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;  </span><span class="doxyHighlightComment">// Don&#39;t add the root if we already indirectly depend on it.</span></CodeLine>
<Link id="l01131" /><CodeLine lineNumber="1131"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l01132" /><CodeLine lineNumber="1132"></CodeLine>
<Link id="l01133" /><CodeLine lineNumber="1133"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (i == e)</span></CodeLine>
<Link id="l01134" /><CodeLine lineNumber="1134"><span class="doxyHighlight">      Pending.<a href="/docs/api/classes/llvm/smallvectortemplatebase/#af42bfbc067df27c19ee2fc859df58799">push&#95;back</a>(Root);</span></CodeLine>
<Link id="l01135" /><CodeLine lineNumber="1135"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l01136" /><CodeLine lineNumber="1136"></CodeLine>
<Link id="l01137" /><CodeLine lineNumber="1137"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Pending.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#a1c479a8c434377c2b8cb056bdfdfc201">size</a>() == 1)</span></CodeLine>
<Link id="l01138" /><CodeLine lineNumber="1138"><span class="doxyHighlight">    Root = Pending&#91;0&#93;;</span></CodeLine>
<Link id="l01139" /><CodeLine lineNumber="1139"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">else</span></CodeLine>
<Link id="l01140" /><CodeLine lineNumber="1140"><span class="doxyHighlight">    Root = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTokenFactor(<a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), Pending);</span></CodeLine>
<Link id="l01141" /><CodeLine lineNumber="1141"></CodeLine>
<Link id="l01142" /><CodeLine lineNumber="1142"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(Root);</span></CodeLine>
<Link id="l01143" /><CodeLine lineNumber="1143"><span class="doxyHighlight">  Pending.<a href="/docs/api/classes/llvm/smallvectorimpl/#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</span></CodeLine>
<Link id="l01144" /><CodeLine lineNumber="1144"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> Root;</span></CodeLine>
<Link id="l01145" /><CodeLine lineNumber="1145"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l01146" /><CodeLine lineNumber="1146"></CodeLine>
<Link id="l01147" /><CodeLine lineNumber="1147" lineLink="/docs/api/classes/llvm/selectiondagbuilder/#ab41a8476a0c74bcf1a2bf665eeececd8"><span class="doxyHighlight"><a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="/docs/api/classes/llvm/selectiondagbuilder/#ab41a8476a0c74bcf1a2bf665eeececd8">SelectionDAGBuilder::getMemoryRoot</a>() &#123;</span></CodeLine>
<Link id="l01148" /><CodeLine lineNumber="1148"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> updateRoot(<a href="/docs/api/classes/llvm/selectiondagbuilder/#a9a1381eb77fac8d57f54f7bf25919a4e">PendingLoads</a>);</span></CodeLine>
<Link id="l01149" /><CodeLine lineNumber="1149"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l01150" /><CodeLine lineNumber="1150"></CodeLine>
<Link id="l01151" /><CodeLine lineNumber="1151" lineLink="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a"><span class="doxyHighlight"><a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">SelectionDAGBuilder::getRoot</a>() &#123;</span></CodeLine>
<Link id="l01152" /><CodeLine lineNumber="1152"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Chain up all pending constrained intrinsics together with all</span></CodeLine>
<Link id="l01153" /><CodeLine lineNumber="1153"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// pending loads, by simply appending them to PendingLoads and</span></CodeLine>
<Link id="l01154" /><CodeLine lineNumber="1154"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// then calling getMemoryRoot().</span></CodeLine>
<Link id="l01155" /><CodeLine lineNumber="1155"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#a9a1381eb77fac8d57f54f7bf25919a4e">PendingLoads</a>.reserve(<a href="/docs/api/classes/llvm/selectiondagbuilder/#a9a1381eb77fac8d57f54f7bf25919a4e">PendingLoads</a>.size() +</span></CodeLine>
<Link id="l01156" /><CodeLine lineNumber="1156"><span class="doxyHighlight">                       PendingConstrainedFP.size() +</span></CodeLine>
<Link id="l01157" /><CodeLine lineNumber="1157"><span class="doxyHighlight">                       PendingConstrainedFPStrict.size());</span></CodeLine>
<Link id="l01158" /><CodeLine lineNumber="1158"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#a9a1381eb77fac8d57f54f7bf25919a4e">PendingLoads</a>.append(PendingConstrainedFP.begin(),</span></CodeLine>
<Link id="l01159" /><CodeLine lineNumber="1159"><span class="doxyHighlight">                      PendingConstrainedFP.end());</span></CodeLine>
<Link id="l01160" /><CodeLine lineNumber="1160"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#a9a1381eb77fac8d57f54f7bf25919a4e">PendingLoads</a>.append(PendingConstrainedFPStrict.begin(),</span></CodeLine>
<Link id="l01161" /><CodeLine lineNumber="1161"><span class="doxyHighlight">                      PendingConstrainedFPStrict.end());</span></CodeLine>
<Link id="l01162" /><CodeLine lineNumber="1162"><span class="doxyHighlight">  PendingConstrainedFP.clear();</span></CodeLine>
<Link id="l01163" /><CodeLine lineNumber="1163"><span class="doxyHighlight">  PendingConstrainedFPStrict.clear();</span></CodeLine>
<Link id="l01164" /><CodeLine lineNumber="1164"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#ab41a8476a0c74bcf1a2bf665eeececd8">getMemoryRoot</a>();</span></CodeLine>
<Link id="l01165" /><CodeLine lineNumber="1165"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l01166" /><CodeLine lineNumber="1166"></CodeLine>
<Link id="l01167" /><CodeLine lineNumber="1167" lineLink="/docs/api/classes/llvm/selectiondagbuilder/#aef34360e8bb4bdecf3fd6345ff504f81"><span class="doxyHighlight"><a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="/docs/api/classes/llvm/selectiondagbuilder/#aef34360e8bb4bdecf3fd6345ff504f81">SelectionDAGBuilder::getControlRoot</a>() &#123;</span></CodeLine>
<Link id="l01168" /><CodeLine lineNumber="1168"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// We need to emit pending fpexcept.strict constrained intrinsics,</span></CodeLine>
<Link id="l01169" /><CodeLine lineNumber="1169"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// so append them to the PendingExports list.</span></CodeLine>
<Link id="l01170" /><CodeLine lineNumber="1170"><span class="doxyHighlight">  PendingExports.append(PendingConstrainedFPStrict.begin(),</span></CodeLine>
<Link id="l01171" /><CodeLine lineNumber="1171"><span class="doxyHighlight">                        PendingConstrainedFPStrict.end());</span></CodeLine>
<Link id="l01172" /><CodeLine lineNumber="1172"><span class="doxyHighlight">  PendingConstrainedFPStrict.clear();</span></CodeLine>
<Link id="l01173" /><CodeLine lineNumber="1173"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> updateRoot(PendingExports);</span></CodeLine>
<Link id="l01174" /><CodeLine lineNumber="1174"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l01175" /><CodeLine lineNumber="1175"></CodeLine>
<Link id="l01176" /><CodeLine lineNumber="1176" lineLink="/docs/api/classes/llvm/selectiondagbuilder/#a6571e1b07bfb1d4c5b1e832fdac355a1"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#a6571e1b07bfb1d4c5b1e832fdac355a1">SelectionDAGBuilder::handleDebugDeclare</a>(Value &#42;<a href="/docs/api/namespaces/llvm/#a8e02bbea14c70bab55fbc1384e1472d9add7bf230fde8d4836917806aff6a6b27">Address</a>,</span></CodeLine>
<Link id="l01177" /><CodeLine lineNumber="1177"><span class="doxyHighlight">                                             <a href="/docs/api/classes/llvm/dilocalvariable">DILocalVariable</a> &#42;Variable,</span></CodeLine>
<Link id="l01178" /><CodeLine lineNumber="1178"><span class="doxyHighlight">                                             <a href="/docs/api/classes/llvm/diexpression">DIExpression</a> &#42;<a href="/docs/api/classes/llvm/expression">Expression</a>,</span></CodeLine>
<Link id="l01179" /><CodeLine lineNumber="1179"><span class="doxyHighlight">                                             <a href="/docs/api/classes/llvm/debugloc">DebugLoc</a> <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>) &#123;</span></CodeLine>
<Link id="l01180" /><CodeLine lineNumber="1180"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Variable &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Missing variable&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l01181" /><CodeLine lineNumber="1181"></CodeLine>
<Link id="l01182" /><CodeLine lineNumber="1182"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Check if address has undef value.</span></CodeLine>
<Link id="l01183" /><CodeLine lineNumber="1183"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="/docs/api/namespaces/llvm/#a8e02bbea14c70bab55fbc1384e1472d9add7bf230fde8d4836917806aff6a6b27">Address</a> || <a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;UndefValue&gt;</a>(<a href="/docs/api/namespaces/llvm/#a8e02bbea14c70bab55fbc1384e1472d9add7bf230fde8d4836917806aff6a6b27">Address</a>) ||</span></CodeLine>
<Link id="l01184" /><CodeLine lineNumber="1184"><span class="doxyHighlight">      (<a href="/docs/api/namespaces/llvm/#a8e02bbea14c70bab55fbc1384e1472d9add7bf230fde8d4836917806aff6a6b27">Address</a>-&gt;use&#95;empty() &amp;&amp; !<a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;Argument&gt;</a>(<a href="/docs/api/namespaces/llvm/#a8e02bbea14c70bab55fbc1384e1472d9add7bf230fde8d4836917806aff6a6b27">Address</a>))) &#123;</span></CodeLine>
<Link id="l01185" /><CodeLine lineNumber="1185"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/support/debug-h/#a196897517069dda1bdb549e24468f7d7">LLVM&#95;DEBUG</a>(</span></CodeLine>
<Link id="l01186" /><CodeLine lineNumber="1186"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/#a7c46c742c31be54870e2038048e6b391">dbgs</a>()</span></CodeLine>
<Link id="l01187" /><CodeLine lineNumber="1187"><span class="doxyHighlight">        &lt;&lt; </span><span class="doxyHighlightStringLiteral">&quot;dbg&#95;declare: Dropping debug info (bad/undef/unused-arg address)\\n&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l01188" /><CodeLine lineNumber="1188"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l01189" /><CodeLine lineNumber="1189"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l01190" /><CodeLine lineNumber="1190"></CodeLine>
<Link id="l01191" /><CodeLine lineNumber="1191"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> IsParameter = Variable-&gt;<a href="/docs/api/classes/llvm/dilocalvariable/#a45c267092569766aa684c6ba3bae9634">isParameter</a>() || <a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;Argument&gt;</a>(<a href="/docs/api/namespaces/llvm/#a8e02bbea14c70bab55fbc1384e1472d9add7bf230fde8d4836917806aff6a6b27">Address</a>);</span></CodeLine>
<Link id="l01192" /><CodeLine lineNumber="1192"></CodeLine>
<Link id="l01193" /><CodeLine lineNumber="1193"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> &amp;<a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a> = NodeMap&#91;<a href="/docs/api/namespaces/llvm/#a8e02bbea14c70bab55fbc1384e1472d9add7bf230fde8d4836917806aff6a6b27">Address</a>&#93;;</span></CodeLine>
<Link id="l01194" /><CodeLine lineNumber="1194"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>.getNode() &amp;&amp; <a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;Argument&gt;</a>(<a href="/docs/api/namespaces/llvm/#a8e02bbea14c70bab55fbc1384e1472d9add7bf230fde8d4836917806aff6a6b27">Address</a>))</span></CodeLine>
<Link id="l01195" /><CodeLine lineNumber="1195"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Check unused arguments map.</span></CodeLine>
<Link id="l01196" /><CodeLine lineNumber="1196"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a> = UnusedArgNodeMap&#91;<a href="/docs/api/namespaces/llvm/#a8e02bbea14c70bab55fbc1384e1472d9add7bf230fde8d4836917806aff6a6b27">Address</a>&#93;;</span></CodeLine>
<Link id="l01197" /><CodeLine lineNumber="1197"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sddbgvalue">SDDbgValue</a> &#42;SDV;</span></CodeLine>
<Link id="l01198" /><CodeLine lineNumber="1198"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>.getNode()) &#123;</span></CodeLine>
<Link id="l01199" /><CodeLine lineNumber="1199"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/bitcastinst">BitCastInst</a> &#42;BCI = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;BitCastInst&gt;</a>(<a href="/docs/api/namespaces/llvm/#a8e02bbea14c70bab55fbc1384e1472d9add7bf230fde8d4836917806aff6a6b27">Address</a>))</span></CodeLine>
<Link id="l01200" /><CodeLine lineNumber="1200"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/#a8e02bbea14c70bab55fbc1384e1472d9add7bf230fde8d4836917806aff6a6b27">Address</a> = BCI-&gt;getOperand(0);</span></CodeLine>
<Link id="l01201" /><CodeLine lineNumber="1201"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Parameters are handled specially.</span></CodeLine>
<Link id="l01202" /><CodeLine lineNumber="1202"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;FINode = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;FrameIndexSDNode&gt;</a>(<a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>.getNode());</span></CodeLine>
<Link id="l01203" /><CodeLine lineNumber="1203"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (IsParameter &amp;&amp; FINode) &#123;</span></CodeLine>
<Link id="l01204" /><CodeLine lineNumber="1204"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Byval parameter. We have a frame index at this point.</span></CodeLine>
<Link id="l01205" /><CodeLine lineNumber="1205"><span class="doxyHighlight">      SDV = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getFrameIndexDbgValue(Variable, <a href="/docs/api/classes/llvm/expression">Expression</a>, FINode-&gt;getIndex(),</span></CodeLine>
<Link id="l01206" /><CodeLine lineNumber="1206"><span class="doxyHighlight">                                      </span><span class="doxyHighlightComment">/&#42;IsIndirect&#42;/</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, SDNodeOrder);</span></CodeLine>
<Link id="l01207" /><CodeLine lineNumber="1207"><span class="doxyHighlight">    &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;Argument&gt;</a>(<a href="/docs/api/namespaces/llvm/#a8e02bbea14c70bab55fbc1384e1472d9add7bf230fde8d4836917806aff6a6b27">Address</a>)) &#123;</span></CodeLine>
<Link id="l01208" /><CodeLine lineNumber="1208"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Address is an argument, so try to emit its dbg value using</span></CodeLine>
<Link id="l01209" /><CodeLine lineNumber="1209"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// virtual register info from the FuncInfo.ValueMap.</span></CodeLine>
<Link id="l01210" /><CodeLine lineNumber="1210"><span class="doxyHighlight">      EmitFuncArgumentDbgValue(<a href="/docs/api/namespaces/llvm/#a8e02bbea14c70bab55fbc1384e1472d9add7bf230fde8d4836917806aff6a6b27">Address</a>, Variable, <a href="/docs/api/classes/llvm/expression">Expression</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</span></CodeLine>
<Link id="l01211" /><CodeLine lineNumber="1211"><span class="doxyHighlight">                               FuncArgumentDbgValueKind::Declare, <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>);</span></CodeLine>
<Link id="l01212" /><CodeLine lineNumber="1212"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l01213" /><CodeLine lineNumber="1213"><span class="doxyHighlight">    &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l01214" /><CodeLine lineNumber="1214"><span class="doxyHighlight">      SDV = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDbgValue(Variable, <a href="/docs/api/classes/llvm/expression">Expression</a>, <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>.getNode(), <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>.getResNo(),</span></CodeLine>
<Link id="l01215" /><CodeLine lineNumber="1215"><span class="doxyHighlight">                            </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, SDNodeOrder);</span></CodeLine>
<Link id="l01216" /><CodeLine lineNumber="1216"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l01217" /><CodeLine lineNumber="1217"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.AddDbgValue(SDV, IsParameter);</span></CodeLine>
<Link id="l01218" /><CodeLine lineNumber="1218"><span class="doxyHighlight">  &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l01219" /><CodeLine lineNumber="1219"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// If Address is an argument then try to emit its dbg value using</span></CodeLine>
<Link id="l01220" /><CodeLine lineNumber="1220"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// virtual register info from the FuncInfo.ValueMap.</span></CodeLine>
<Link id="l01221" /><CodeLine lineNumber="1221"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!EmitFuncArgumentDbgValue(<a href="/docs/api/namespaces/llvm/#a8e02bbea14c70bab55fbc1384e1472d9add7bf230fde8d4836917806aff6a6b27">Address</a>, Variable, <a href="/docs/api/classes/llvm/expression">Expression</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</span></CodeLine>
<Link id="l01222" /><CodeLine lineNumber="1222"><span class="doxyHighlight">                                  FuncArgumentDbgValueKind::Declare, <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>)) &#123;</span></CodeLine>
<Link id="l01223" /><CodeLine lineNumber="1223"><span class="doxyHighlight">      <a href="/docs/api/files/include/include/llvm/include/llvm/support/debug-h/#a196897517069dda1bdb549e24468f7d7">LLVM&#95;DEBUG</a>(<a href="/docs/api/namespaces/llvm/#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; </span><span class="doxyHighlightStringLiteral">&quot;dbg&#95;declare: Dropping debug info&quot;</span></CodeLine>
<Link id="l01224" /><CodeLine lineNumber="1224"><span class="doxyHighlight">                        &lt;&lt; </span><span class="doxyHighlightStringLiteral">&quot; (could not emit func-arg dbg&#95;value)\\n&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l01225" /><CodeLine lineNumber="1225"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l01226" /><CodeLine lineNumber="1226"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l01227" /><CodeLine lineNumber="1227"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l01228" /><CodeLine lineNumber="1228"></CodeLine>
<Link id="l01229" /><CodeLine lineNumber="1229" lineLink="/docs/api/classes/llvm/selectiondagbuilder/#a196df57d98a1307c0ced654a8e1d202b"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#a196df57d98a1307c0ced654a8e1d202b">SelectionDAGBuilder::visitDbgInfo</a>(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/instruction">Instruction</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l01230" /><CodeLine lineNumber="1230"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Add SDDbgValue nodes for any var locs here. Do so before updating</span></CodeLine>
<Link id="l01231" /><CodeLine lineNumber="1231"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// SDNodeOrder, as this mapping is &#123;Inst -&gt; Locs BEFORE Inst&#125;.</span></CodeLine>
<Link id="l01232" /><CodeLine lineNumber="1232"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/classes/llvm/functionvarlocs">FunctionVarLocs</a> </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> &#42;FnVarLocs = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getFunctionVarLocs()) &#123;</span></CodeLine>
<Link id="l01233" /><CodeLine lineNumber="1233"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Add SDDbgValue nodes for any var locs here. Do so before updating</span></CodeLine>
<Link id="l01234" /><CodeLine lineNumber="1234"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// SDNodeOrder, as this mapping is &#123;Inst -&gt; Locs BEFORE Inst&#125;.</span></CodeLine>
<Link id="l01235" /><CodeLine lineNumber="1235"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> It = FnVarLocs-&gt;locs&#95;begin(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>), End = FnVarLocs-&gt;locs&#95;end(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</span></CodeLine>
<Link id="l01236" /><CodeLine lineNumber="1236"><span class="doxyHighlight">         It != End; ++It) &#123;</span></CodeLine>
<Link id="l01237" /><CodeLine lineNumber="1237"><span class="doxyHighlight">      </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;Var = FnVarLocs-&gt;getDILocalVariable(It-&gt;VariableID);</span></CodeLine>
<Link id="l01238" /><CodeLine lineNumber="1238"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ac08d1b312ae9756038394d6b9568f383">dropDanglingDebugInfo</a>(Var, It-&gt;Expr);</span></CodeLine>
<Link id="l01239" /><CodeLine lineNumber="1239"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (It-&gt;Values.isKillLocation(It-&gt;Expr)) &#123;</span></CodeLine>
<Link id="l01240" /><CodeLine lineNumber="1240"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagbuilder/#ac42eef26cc4185a8932bc59a94dc5d16">handleKillDebugValue</a>(Var, It-&gt;Expr, It-&gt;DL, SDNodeOrder);</span></CodeLine>
<Link id="l01241" /><CodeLine lineNumber="1241"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">continue</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l01242" /><CodeLine lineNumber="1242"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l01243" /><CodeLine lineNumber="1243"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/smallvector">SmallVector&lt;Value &#42;&gt;</a> Values(It-&gt;Values.location&#95;ops());</span></CodeLine>
<Link id="l01244" /><CodeLine lineNumber="1244"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="/docs/api/classes/llvm/selectiondagbuilder/#ae9748fb2e4d41aaa8ac80d00b2becc52">handleDebugValue</a>(Values, Var, It-&gt;Expr, It-&gt;DL, SDNodeOrder,</span></CodeLine>
<Link id="l01245" /><CodeLine lineNumber="1245"><span class="doxyHighlight">                            It-&gt;Values.hasArgList())) &#123;</span></CodeLine>
<Link id="l01246" /><CodeLine lineNumber="1246"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/smallvector">SmallVector&lt;Value &#42;, 4&gt;</a> Vals(It-&gt;Values.location&#95;ops());</span></CodeLine>
<Link id="l01247" /><CodeLine lineNumber="1247"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagbuilder/#a13b6c3ad0bdee051eda42dc7c8a1f12b">addDanglingDebugInfo</a>(Vals,</span></CodeLine>
<Link id="l01248" /><CodeLine lineNumber="1248"><span class="doxyHighlight">                             FnVarLocs-&gt;getDILocalVariable(It-&gt;VariableID),</span></CodeLine>
<Link id="l01249" /><CodeLine lineNumber="1249"><span class="doxyHighlight">                             It-&gt;Expr, Vals.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#a1c479a8c434377c2b8cb056bdfdfc201">size</a>() &gt; 1, It-&gt;DL, SDNodeOrder);</span></CodeLine>
<Link id="l01250" /><CodeLine lineNumber="1250"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l01251" /><CodeLine lineNumber="1251"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l01252" /><CodeLine lineNumber="1252"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l01253" /><CodeLine lineNumber="1253"></CodeLine>
<Link id="l01254" /><CodeLine lineNumber="1254"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// We must skip DbgVariableRecords if they&#39;ve already been processed above as</span></CodeLine>
<Link id="l01255" /><CodeLine lineNumber="1255"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// we have just emitted the debug values resulting from assignment tracking</span></CodeLine>
<Link id="l01256" /><CodeLine lineNumber="1256"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// analysis, making any existing DbgVariableRecords redundant (and probably</span></CodeLine>
<Link id="l01257" /><CodeLine lineNumber="1257"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// less correct). We still need to process DbgLabelRecords. This does sink</span></CodeLine>
<Link id="l01258" /><CodeLine lineNumber="1258"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// DbgLabelRecords to the bottom of the group of debug records. That sholdn&#39;t</span></CodeLine>
<Link id="l01259" /><CodeLine lineNumber="1259"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// be important as it does so deterministcally and ordering between</span></CodeLine>
<Link id="l01260" /><CodeLine lineNumber="1260"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// DbgLabelRecords and DbgVariableRecords is immaterial (other than for MIR/IR</span></CodeLine>
<Link id="l01261" /><CodeLine lineNumber="1261"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// printing).</span></CodeLine>
<Link id="l01262" /><CodeLine lineNumber="1262"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> SkipDbgVariableRecords = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getFunctionVarLocs();</span></CodeLine>
<Link id="l01263" /><CodeLine lineNumber="1263"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Is there is any debug-info attached to this instruction, in the form of</span></CodeLine>
<Link id="l01264" /><CodeLine lineNumber="1264"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// DbgRecord non-instruction debug-info records.</span></CodeLine>
<Link id="l01265" /><CodeLine lineNumber="1265"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (<a href="/docs/api/classes/llvm/dbgrecord">DbgRecord</a> &amp;DR : <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getDbgRecordRange()) &#123;</span></CodeLine>
<Link id="l01266" /><CodeLine lineNumber="1266"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/classes/llvm/dbglabelrecord">DbgLabelRecord</a> &#42;DLR = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;DbgLabelRecord&gt;</a>(&amp;DR)) &#123;</span></CodeLine>
<Link id="l01267" /><CodeLine lineNumber="1267"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DLR-&gt;getLabel() &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Missing label&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l01268" /><CodeLine lineNumber="1268"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sddbglabel">SDDbgLabel</a> &#42;SDV =</span></CodeLine>
<Link id="l01269" /><CodeLine lineNumber="1269"><span class="doxyHighlight">          <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDbgLabel(DLR-&gt;getLabel(), DLR-&gt;getDebugLoc(), SDNodeOrder);</span></CodeLine>
<Link id="l01270" /><CodeLine lineNumber="1270"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.AddDbgLabel(SDV);</span></CodeLine>
<Link id="l01271" /><CodeLine lineNumber="1271"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">continue</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l01272" /><CodeLine lineNumber="1272"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l01273" /><CodeLine lineNumber="1273"></CodeLine>
<Link id="l01274" /><CodeLine lineNumber="1274"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (SkipDbgVariableRecords)</span></CodeLine>
<Link id="l01275" /><CodeLine lineNumber="1275"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">continue</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l01276" /><CodeLine lineNumber="1276"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/dbgvariablerecord">DbgVariableRecord</a> &amp;DVR = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;DbgVariableRecord&gt;</a>(DR);</span></CodeLine>
<Link id="l01277" /><CodeLine lineNumber="1277"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/dilocalvariable">DILocalVariable</a> &#42;Variable = DVR.<a href="/docs/api/classes/llvm/dbgvariablerecord/#aa774c62045e74bb457b32713c0670696">getVariable</a>();</span></CodeLine>
<Link id="l01278" /><CodeLine lineNumber="1278"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/diexpression">DIExpression</a> &#42;<a href="/docs/api/classes/llvm/expression">Expression</a> = DVR.<a href="/docs/api/classes/llvm/dbgvariablerecord/#a8ec5a479378113fc24b647afa2f06ee5">getExpression</a>();</span></CodeLine>
<Link id="l01279" /><CodeLine lineNumber="1279"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ac08d1b312ae9756038394d6b9568f383">dropDanglingDebugInfo</a>(Variable, <a href="/docs/api/classes/llvm/expression">Expression</a>);</span></CodeLine>
<Link id="l01280" /><CodeLine lineNumber="1280"></CodeLine>
<Link id="l01281" /><CodeLine lineNumber="1281"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (DVR.<a href="/docs/api/classes/llvm/dbgvariablerecord/#a1adb590f8f0ceed777898888ed5db7ac">getType</a>() == <a href="/docs/api/classes/llvm/dbgvariablerecord/#ae2c3391c27b9fa4f64f9ed1bdbbdea4ca2709046ed364cc54b91f908e85e512ed">DbgVariableRecord::LocationType::Declare</a>) &#123;</span></CodeLine>
<Link id="l01282" /><CodeLine lineNumber="1282"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.PreprocessedDVRDeclares.contains(&amp;DVR))</span></CodeLine>
<Link id="l01283" /><CodeLine lineNumber="1283"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">continue</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l01284" /><CodeLine lineNumber="1284"><span class="doxyHighlight">      <a href="/docs/api/files/include/include/llvm/include/llvm/support/debug-h/#a196897517069dda1bdb549e24468f7d7">LLVM&#95;DEBUG</a>(<a href="/docs/api/namespaces/llvm/#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; </span><span class="doxyHighlightStringLiteral">&quot;SelectionDAG visiting dbg&#95;declare: &quot;</span><span class="doxyHighlight"> &lt;&lt; DVR</span></CodeLine>
<Link id="l01285" /><CodeLine lineNumber="1285"><span class="doxyHighlight">                        &lt;&lt; </span><span class="doxyHighlightStringLiteral">&quot;\\n&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l01286" /><CodeLine lineNumber="1286"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#a6571e1b07bfb1d4c5b1e832fdac355a1">handleDebugDeclare</a>(DVR.<a href="/docs/api/classes/llvm/dbgvariablerecord/#a99dac64e3a954ffbcbf1fc6726a743a2">getVariableLocationOp</a>(0), Variable, <a href="/docs/api/classes/llvm/expression">Expression</a>,</span></CodeLine>
<Link id="l01287" /><CodeLine lineNumber="1287"><span class="doxyHighlight">                         DVR.<a href="/docs/api/classes/llvm/dbgrecord/#a3a0f4e00c3f6345c52c6acd178b3fca3">getDebugLoc</a>());</span></CodeLine>
<Link id="l01288" /><CodeLine lineNumber="1288"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">continue</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l01289" /><CodeLine lineNumber="1289"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l01290" /><CodeLine lineNumber="1290"></CodeLine>
<Link id="l01291" /><CodeLine lineNumber="1291"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// A DbgVariableRecord with no locations is a kill location.</span></CodeLine>
<Link id="l01292" /><CodeLine lineNumber="1292"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/smallvector">SmallVector&lt;Value &#42;, 4&gt;</a> Values(DVR.<a href="/docs/api/classes/llvm/dbgvariablerecord/#afd3574da4a2a86d1540dbdfcef171dd8">location&#95;ops</a>());</span></CodeLine>
<Link id="l01293" /><CodeLine lineNumber="1293"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Values.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#ad9a3c7bc26b130377bbafc170b5f88a2">empty</a>()) &#123;</span></CodeLine>
<Link id="l01294" /><CodeLine lineNumber="1294"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ac42eef26cc4185a8932bc59a94dc5d16">handleKillDebugValue</a>(Variable, <a href="/docs/api/classes/llvm/expression">Expression</a>, DVR.<a href="/docs/api/classes/llvm/dbgrecord/#a3a0f4e00c3f6345c52c6acd178b3fca3">getDebugLoc</a>(),</span></CodeLine>
<Link id="l01295" /><CodeLine lineNumber="1295"><span class="doxyHighlight">                           SDNodeOrder);</span></CodeLine>
<Link id="l01296" /><CodeLine lineNumber="1296"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">continue</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l01297" /><CodeLine lineNumber="1297"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l01298" /><CodeLine lineNumber="1298"></CodeLine>
<Link id="l01299" /><CodeLine lineNumber="1299"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// A DbgVariableRecord with an undef or absent location is also a kill</span></CodeLine>
<Link id="l01300" /><CodeLine lineNumber="1300"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// location.</span></CodeLine>
<Link id="l01301" /><CodeLine lineNumber="1301"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/#a61d13d6824ec46c31260a4fd0997eda0">llvm::any&#95;of</a>(Values,</span></CodeLine>
<Link id="l01302" /><CodeLine lineNumber="1302"><span class="doxyHighlight">                     &#91;&#93;(Value &#42;V) &#123; </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> !V || <a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;UndefValue&gt;</a>(V); &#125;)) &#123;</span></CodeLine>
<Link id="l01303" /><CodeLine lineNumber="1303"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ac42eef26cc4185a8932bc59a94dc5d16">handleKillDebugValue</a>(Variable, <a href="/docs/api/classes/llvm/expression">Expression</a>, DVR.<a href="/docs/api/classes/llvm/dbgrecord/#a3a0f4e00c3f6345c52c6acd178b3fca3">getDebugLoc</a>(),</span></CodeLine>
<Link id="l01304" /><CodeLine lineNumber="1304"><span class="doxyHighlight">                           SDNodeOrder);</span></CodeLine>
<Link id="l01305" /><CodeLine lineNumber="1305"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">continue</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l01306" /><CodeLine lineNumber="1306"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l01307" /><CodeLine lineNumber="1307"></CodeLine>
<Link id="l01308" /><CodeLine lineNumber="1308"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> IsVariadic = DVR.<a href="/docs/api/classes/llvm/dbgvariablerecord/#af9c8103c773f2193dafee38239051d7b">hasArgList</a>();</span></CodeLine>
<Link id="l01309" /><CodeLine lineNumber="1309"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="/docs/api/classes/llvm/selectiondagbuilder/#ae9748fb2e4d41aaa8ac80d00b2becc52">handleDebugValue</a>(Values, Variable, <a href="/docs/api/classes/llvm/expression">Expression</a>, DVR.<a href="/docs/api/classes/llvm/dbgrecord/#a3a0f4e00c3f6345c52c6acd178b3fca3">getDebugLoc</a>(),</span></CodeLine>
<Link id="l01310" /><CodeLine lineNumber="1310"><span class="doxyHighlight">                          SDNodeOrder, IsVariadic)) &#123;</span></CodeLine>
<Link id="l01311" /><CodeLine lineNumber="1311"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#a13b6c3ad0bdee051eda42dc7c8a1f12b">addDanglingDebugInfo</a>(Values, Variable, <a href="/docs/api/classes/llvm/expression">Expression</a>, IsVariadic,</span></CodeLine>
<Link id="l01312" /><CodeLine lineNumber="1312"><span class="doxyHighlight">                           DVR.<a href="/docs/api/classes/llvm/dbgrecord/#a3a0f4e00c3f6345c52c6acd178b3fca3">getDebugLoc</a>(), SDNodeOrder);</span></CodeLine>
<Link id="l01313" /><CodeLine lineNumber="1313"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l01314" /><CodeLine lineNumber="1314"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l01315" /><CodeLine lineNumber="1315"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l01316" /><CodeLine lineNumber="1316"></CodeLine>
<Link id="l01317" /><CodeLine lineNumber="1317" lineLink="/docs/api/classes/llvm/selectiondagbuilder/#abbbfefd79a5b3d1b4ea8d8383fd01af5"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#abbbfefd79a5b3d1b4ea8d8383fd01af5">SelectionDAGBuilder::visit</a>(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/instruction">Instruction</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l01318" /><CodeLine lineNumber="1318"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#a196df57d98a1307c0ced654a8e1d202b">visitDbgInfo</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</span></CodeLine>
<Link id="l01319" /><CodeLine lineNumber="1319"></CodeLine>
<Link id="l01320" /><CodeLine lineNumber="1320"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Set up outgoing PHI node register values before emitting the terminator.</span></CodeLine>
<Link id="l01321" /><CodeLine lineNumber="1321"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.isTerminator()) &#123;</span></CodeLine>
<Link id="l01322" /><CodeLine lineNumber="1322"><span class="doxyHighlight">    HandlePHINodesInSuccessorBlocks(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getParent());</span></CodeLine>
<Link id="l01323" /><CodeLine lineNumber="1323"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l01324" /><CodeLine lineNumber="1324"></CodeLine>
<Link id="l01325" /><CodeLine lineNumber="1325"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Increase the SDNodeOrder if dealing with a non-debug instruction.</span></CodeLine>
<Link id="l01326" /><CodeLine lineNumber="1326"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;DbgInfoIntrinsic&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</span></CodeLine>
<Link id="l01327" /><CodeLine lineNumber="1327"><span class="doxyHighlight">    ++SDNodeOrder;</span></CodeLine>
<Link id="l01328" /><CodeLine lineNumber="1328"></CodeLine>
<Link id="l01329" /><CodeLine lineNumber="1329"><span class="doxyHighlight">  CurInst = &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</span></CodeLine>
<Link id="l01330" /><CodeLine lineNumber="1330"></CodeLine>
<Link id="l01331" /><CodeLine lineNumber="1331"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Set inserted listener only if required.</span></CodeLine>
<Link id="l01332" /><CodeLine lineNumber="1332"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> NodeInserted = </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l01333" /><CodeLine lineNumber="1333"><span class="doxyHighlight">  std::unique&#95;ptr&lt;SelectionDAG::DAGNodeInsertedListener&gt; InsertedListener;</span></CodeLine>
<Link id="l01334" /><CodeLine lineNumber="1334"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/mdnode">MDNode</a> &#42;PCSectionsMD = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getMetadata(LLVMContext::MD&#95;pcsections);</span></CodeLine>
<Link id="l01335" /><CodeLine lineNumber="1335"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/mdnode">MDNode</a> &#42;MMRA = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getMetadata(LLVMContext::MD&#95;mmra);</span></CodeLine>
<Link id="l01336" /><CodeLine lineNumber="1336"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (PCSectionsMD || MMRA) &#123;</span></CodeLine>
<Link id="l01337" /><CodeLine lineNumber="1337"><span class="doxyHighlight">    InsertedListener = std::make&#95;unique&lt;SelectionDAG::DAGNodeInsertedListener&gt;(</span></CodeLine>
<Link id="l01338" /><CodeLine lineNumber="1338"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>, &#91;&amp;&#93;(<a href="/docs/api/classes/llvm/sdnode">SDNode</a> &#42;) &#123; NodeInserted = </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">; &#125;);</span></CodeLine>
<Link id="l01339" /><CodeLine lineNumber="1339"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l01340" /><CodeLine lineNumber="1340"></CodeLine>
<Link id="l01341" /><CodeLine lineNumber="1341"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#abbbfefd79a5b3d1b4ea8d8383fd01af5">visit</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOpcode(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</span></CodeLine>
<Link id="l01342" /><CodeLine lineNumber="1342"></CodeLine>
<Link id="l01343" /><CodeLine lineNumber="1343"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.isTerminator() &amp;&amp; !<a href="/docs/api/classes/llvm/selectiondagbuilder/#a39e446f1647e793791c33d0d2412d088">HasTailCall</a> &amp;&amp;</span></CodeLine>
<Link id="l01344" /><CodeLine lineNumber="1344"><span class="doxyHighlight">      !<a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;GCStatepointInst&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) </span><span class="doxyHighlightComment">// statepoints handle their exports internally</span></CodeLine>
<Link id="l01345" /><CodeLine lineNumber="1345"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ac30ce0e7a5759d1e0bb5bf891e88662b">CopyToExportRegsIfNeeded</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</span></CodeLine>
<Link id="l01346" /><CodeLine lineNumber="1346"></CodeLine>
<Link id="l01347" /><CodeLine lineNumber="1347"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Handle metadata.</span></CodeLine>
<Link id="l01348" /><CodeLine lineNumber="1348"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (PCSectionsMD || MMRA) &#123;</span></CodeLine>
<Link id="l01349" /><CodeLine lineNumber="1349"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> It = NodeMap.find(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</span></CodeLine>
<Link id="l01350" /><CodeLine lineNumber="1350"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (It != NodeMap.end()) &#123;</span></CodeLine>
<Link id="l01351" /><CodeLine lineNumber="1351"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (PCSectionsMD)</span></CodeLine>
<Link id="l01352" /><CodeLine lineNumber="1352"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.addPCSections(It-&gt;second.getNode(), PCSectionsMD);</span></CodeLine>
<Link id="l01353" /><CodeLine lineNumber="1353"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (MMRA)</span></CodeLine>
<Link id="l01354" /><CodeLine lineNumber="1354"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.addMMRAMetadata(It-&gt;second.getNode(), MMRA);</span></CodeLine>
<Link id="l01355" /><CodeLine lineNumber="1355"><span class="doxyHighlight">    &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (NodeInserted) &#123;</span></CodeLine>
<Link id="l01356" /><CodeLine lineNumber="1356"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// This should not happen; if it does, don&#39;t let it go unnoticed so we can</span></CodeLine>
<Link id="l01357" /><CodeLine lineNumber="1357"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// fix it. Relevant visit&#42;() function is probably missing a setValue().</span></CodeLine>
<Link id="l01358" /><CodeLine lineNumber="1358"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/#a9a7b5c68c90f85baaedaa854cc5002cc">errs</a>() &lt;&lt; </span><span class="doxyHighlightStringLiteral">&quot;warning: loosing !pcsections and/or !mmra metadata &#91;&quot;</span></CodeLine>
<Link id="l01359" /><CodeLine lineNumber="1359"><span class="doxyHighlight">             &lt;&lt; <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getModule()-&gt;getName() &lt;&lt; </span><span class="doxyHighlightStringLiteral">&quot;&#93;\\n&quot;</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l01360" /><CodeLine lineNumber="1360"><span class="doxyHighlight">      <a href="/docs/api/files/include/include/llvm/include/llvm/support/debug-h/#a196897517069dda1bdb549e24468f7d7">LLVM&#95;DEBUG</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.dump());</span></CodeLine>
<Link id="l01361" /><CodeLine lineNumber="1361"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(</span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l01362" /><CodeLine lineNumber="1362"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l01363" /><CodeLine lineNumber="1363"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l01364" /><CodeLine lineNumber="1364"></CodeLine>
<Link id="l01365" /><CodeLine lineNumber="1365"><span class="doxyHighlight">  CurInst = </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l01366" /><CodeLine lineNumber="1366"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l01367" /><CodeLine lineNumber="1367"></CodeLine>
<Link id="l01368" /><CodeLine lineNumber="1368"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitPHI(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/phinode">PHINode</a> &amp;) &#123;</span></CodeLine>
<Link id="l01369" /><CodeLine lineNumber="1369"><span class="doxyHighlight">  <a href="/docs/api/files/include/include/llvm/include/llvm/support/errorhandling-h/#ace243f5c25697a1107cce46626b3dc94">llvm&#95;unreachable</a>(</span><span class="doxyHighlightStringLiteral">&quot;SelectionDAGBuilder shouldn&#39;t visit PHI nodes!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l01370" /><CodeLine lineNumber="1370"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l01371" /><CodeLine lineNumber="1371"></CodeLine>
<Link id="l01372" /><CodeLine lineNumber="1372" lineLink="/docs/api/classes/llvm/selectiondagbuilder/#afa8e93a6e743cba008f0aa78ab4c653c"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#abbbfefd79a5b3d1b4ea8d8383fd01af5">SelectionDAGBuilder::visit</a>(</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> Opcode, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/user">User</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l01373" /><CodeLine lineNumber="1373"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Note: this doesn&#39;t use InstVisitor, because it has to work with</span></CodeLine>
<Link id="l01374" /><CodeLine lineNumber="1374"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// ConstantExpr&#39;s in addition to instructions.</span></CodeLine>
<Link id="l01375" /><CodeLine lineNumber="1375"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">switch</span><span class="doxyHighlight"> (Opcode) &#123;</span></CodeLine>
<Link id="l01376" /><CodeLine lineNumber="1376"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">default</span><span class="doxyHighlight">: <a href="/docs/api/files/include/include/llvm/include/llvm/support/errorhandling-h/#ace243f5c25697a1107cce46626b3dc94">llvm&#95;unreachable</a>(</span><span class="doxyHighlightStringLiteral">&quot;Unknown instruction type encountered!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l01377" /><CodeLine lineNumber="1377"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Build the switch statement using the Instruction.def file.</span></CodeLine>
<Link id="l01378" /><CodeLine lineNumber="1378"><span class="doxyHighlightPreprocessor">#define HANDLE&#95;INST(NUM, OPCODE, CLASS) \\</span></CodeLine>
<Link id="l01379" /><CodeLine lineNumber="1379"><span class="doxyHighlightPreprocessor">    case Instruction::OPCODE: visit##OPCODE((const CLASS&amp;)I); break;</span></CodeLine>
<Link id="l01380" /><CodeLine lineNumber="1380"><span class="doxyHighlightPreprocessor">#include &quot;llvm/IR/Instruction.def&quot;</span></CodeLine>
<Link id="l01381" /><CodeLine lineNumber="1381"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l01382" /><CodeLine lineNumber="1382"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l01383" /><CodeLine lineNumber="1383"></CodeLine>
<Link id="l01384" /><CodeLine lineNumber="1384" lineLink="#a4e84a47e3ca9c1684a752533e2881cd7"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="#a4e84a47e3ca9c1684a752533e2881cd7">handleDanglingVariadicDebugInfo</a>(<a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp;DAG,</span></CodeLine>
<Link id="l01385" /><CodeLine lineNumber="1385"><span class="doxyHighlight">                                            <a href="/docs/api/classes/llvm/dilocalvariable">DILocalVariable</a> &#42;Variable,</span></CodeLine>
<Link id="l01386" /><CodeLine lineNumber="1386"><span class="doxyHighlight">                                            <a href="/docs/api/classes/llvm/debugloc">DebugLoc</a> <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> Order,</span></CodeLine>
<Link id="l01387" /><CodeLine lineNumber="1387"><span class="doxyHighlight">                                            <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl&lt;Value &#42;&gt;</a> &amp;Values,</span></CodeLine>
<Link id="l01388" /><CodeLine lineNumber="1388"><span class="doxyHighlight">                                            <a href="/docs/api/classes/llvm/diexpression">DIExpression</a> &#42;<a href="/docs/api/classes/llvm/expression">Expression</a>) &#123;</span></CodeLine>
<Link id="l01389" /><CodeLine lineNumber="1389"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// For variadic dbg&#95;values we will now insert an undef.</span></CodeLine>
<Link id="l01390" /><CodeLine lineNumber="1390"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// FIXME: We can potentially recover these!</span></CodeLine>
<Link id="l01391" /><CodeLine lineNumber="1391"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/smallvector">SmallVector&lt;SDDbgOperand, 2&gt;</a> Locs;</span></CodeLine>
<Link id="l01392" /><CodeLine lineNumber="1392"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/value">Value</a> &#42;V : Values) &#123;</span></CodeLine>
<Link id="l01393" /><CodeLine lineNumber="1393"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;Undef = <a href="/docs/api/classes/llvm/undefvalue/#a4ae5ff22b700a42bcc5d889233721335">UndefValue::get</a>(V-&gt;getType());</span></CodeLine>
<Link id="l01394" /><CodeLine lineNumber="1394"><span class="doxyHighlight">    Locs.<a href="/docs/api/classes/llvm/smallvectortemplatebase/#af42bfbc067df27c19ee2fc859df58799">push&#95;back</a>(<a href="/docs/api/classes/llvm/sddbgoperand/#a839c3f734c6a978e745998e5d7904beb">SDDbgOperand::fromConst</a>(Undef));</span></CodeLine>
<Link id="l01395" /><CodeLine lineNumber="1395"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l01396" /><CodeLine lineNumber="1396"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sddbgvalue">SDDbgValue</a> &#42;SDV = DAG.<a href="/docs/api/classes/llvm/selectiondag/#a652249fdf6759e9fe1c9e575e03c6896">getDbgValueList</a>(Variable, <a href="/docs/api/classes/llvm/expression">Expression</a>, Locs, &#123;&#125;,</span></CodeLine>
<Link id="l01397" /><CodeLine lineNumber="1397"><span class="doxyHighlight">                                        </span><span class="doxyHighlightComment">/&#42;IsIndirect=&#42;/</span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Order,</span></CodeLine>
<Link id="l01398" /><CodeLine lineNumber="1398"><span class="doxyHighlight">                                        </span><span class="doxyHighlightComment">/&#42;IsVariadic=&#42;/</span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l01399" /><CodeLine lineNumber="1399"><span class="doxyHighlight">  DAG.<a href="/docs/api/classes/llvm/selectiondag/#a56d8d1c058b852a67ae6ad24a4b8dca0">AddDbgValue</a>(SDV, </span><span class="doxyHighlightComment">/&#42;isParameter=&#42;/</span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l01400" /><CodeLine lineNumber="1400"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l01401" /><CodeLine lineNumber="1401"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l01402" /><CodeLine lineNumber="1402"></CodeLine>
<Link id="l01403" /><CodeLine lineNumber="1403" lineLink="/docs/api/classes/llvm/selectiondagbuilder/#a13b6c3ad0bdee051eda42dc7c8a1f12b"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#a13b6c3ad0bdee051eda42dc7c8a1f12b">SelectionDAGBuilder::addDanglingDebugInfo</a>(<a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl&lt;Value &#42;&gt;</a> &amp;Values,</span></CodeLine>
<Link id="l01404" /><CodeLine lineNumber="1404"><span class="doxyHighlight">                                               <a href="/docs/api/classes/llvm/dilocalvariable">DILocalVariable</a> &#42;Var,</span></CodeLine>
<Link id="l01405" /><CodeLine lineNumber="1405"><span class="doxyHighlight">                                               <a href="/docs/api/classes/llvm/diexpression">DIExpression</a> &#42;Expr,</span></CodeLine>
<Link id="l01406" /><CodeLine lineNumber="1406"><span class="doxyHighlight">                                               </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> IsVariadic, <a href="/docs/api/classes/llvm/debugloc">DebugLoc</a> <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</span></CodeLine>
<Link id="l01407" /><CodeLine lineNumber="1407"><span class="doxyHighlight">                                               </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> Order) &#123;</span></CodeLine>
<Link id="l01408" /><CodeLine lineNumber="1408"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (IsVariadic) &#123;</span></CodeLine>
<Link id="l01409" /><CodeLine lineNumber="1409"><span class="doxyHighlight">    <a href="#a4e84a47e3ca9c1684a752533e2881cd7">handleDanglingVariadicDebugInfo</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>, Var, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Order, Values, Expr);</span></CodeLine>
<Link id="l01410" /><CodeLine lineNumber="1410"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l01411" /><CodeLine lineNumber="1411"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l01412" /><CodeLine lineNumber="1412"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// TODO: Dangling debug info will eventually either be resolved or produce</span></CodeLine>
<Link id="l01413" /><CodeLine lineNumber="1413"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// an Undef DBG&#95;VALUE. However in the resolution case, a gap may appear</span></CodeLine>
<Link id="l01414" /><CodeLine lineNumber="1414"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// between the original dbg.value location and its resolved DBG&#95;VALUE,</span></CodeLine>
<Link id="l01415" /><CodeLine lineNumber="1415"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// which we should ideally fill with an extra Undef DBG&#95;VALUE.</span></CodeLine>
<Link id="l01416" /><CodeLine lineNumber="1416"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Values.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#a1c479a8c434377c2b8cb056bdfdfc201">size</a>() == 1);</span></CodeLine>
<Link id="l01417" /><CodeLine lineNumber="1417"><span class="doxyHighlight">  DanglingDebugInfoMap&#91;Values&#91;0&#93;&#93;.emplace&#95;back(Var, Expr, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Order);</span></CodeLine>
<Link id="l01418" /><CodeLine lineNumber="1418"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l01419" /><CodeLine lineNumber="1419"></CodeLine>
<Link id="l01420" /><CodeLine lineNumber="1420" lineLink="/docs/api/classes/llvm/selectiondagbuilder/#ac08d1b312ae9756038394d6b9568f383"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#ac08d1b312ae9756038394d6b9568f383">SelectionDAGBuilder::dropDanglingDebugInfo</a>(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/dilocalvariable">DILocalVariable</a> &#42;Variable,</span></CodeLine>
<Link id="l01421" /><CodeLine lineNumber="1421"><span class="doxyHighlight">                                                </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/diexpression">DIExpression</a> &#42;Expr) &#123;</span></CodeLine>
<Link id="l01422" /><CodeLine lineNumber="1422"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> isMatchingDbgValue = &#91;&amp;&#93;(DanglingDebugInfo &amp;DDI) &#123;</span></CodeLine>
<Link id="l01423" /><CodeLine lineNumber="1423"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/divariable">DIVariable</a> &#42;DanglingVariable = DDI.getVariable();</span></CodeLine>
<Link id="l01424" /><CodeLine lineNumber="1424"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/diexpression">DIExpression</a> &#42;DanglingExpr = DDI.getExpression();</span></CodeLine>
<Link id="l01425" /><CodeLine lineNumber="1425"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (DanglingVariable == Variable &amp;&amp; Expr-&gt;<a href="/docs/api/classes/llvm/diexpression/#a46d29699ee79b3a3d7359278f6bab01c">fragmentsOverlap</a>(DanglingExpr)) &#123;</span></CodeLine>
<Link id="l01426" /><CodeLine lineNumber="1426"><span class="doxyHighlight">      <a href="/docs/api/files/include/include/llvm/include/llvm/support/debug-h/#a196897517069dda1bdb549e24468f7d7">LLVM&#95;DEBUG</a>(<a href="/docs/api/namespaces/llvm/#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; </span><span class="doxyHighlightStringLiteral">&quot;Dropping dangling debug info for &quot;</span></CodeLine>
<Link id="l01427" /><CodeLine lineNumber="1427"><span class="doxyHighlight">                        &lt;&lt; printDDI(</span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">, DDI) &lt;&lt; </span><span class="doxyHighlightStringLiteral">&quot;\\n&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l01428" /><CodeLine lineNumber="1428"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l01429" /><CodeLine lineNumber="1429"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l01430" /><CodeLine lineNumber="1430"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l01431" /><CodeLine lineNumber="1431"><span class="doxyHighlight">  &#125;;</span></CodeLine>
<Link id="l01432" /><CodeLine lineNumber="1432"></CodeLine>
<Link id="l01433" /><CodeLine lineNumber="1433"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;DDIMI : DanglingDebugInfoMap) &#123;</span></CodeLine>
<Link id="l01434" /><CodeLine lineNumber="1434"><span class="doxyHighlight">    DanglingDebugInfoVector &amp;DDIV = DDIMI.second;</span></CodeLine>
<Link id="l01435" /><CodeLine lineNumber="1435"></CodeLine>
<Link id="l01436" /><CodeLine lineNumber="1436"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// If debug info is to be dropped, run it through final checks to see</span></CodeLine>
<Link id="l01437" /><CodeLine lineNumber="1437"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// whether it can be salvaged.</span></CodeLine>
<Link id="l01438" /><CodeLine lineNumber="1438"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;DDI : DDIV)</span></CodeLine>
<Link id="l01439" /><CodeLine lineNumber="1439"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (isMatchingDbgValue(DDI))</span></CodeLine>
<Link id="l01440" /><CodeLine lineNumber="1440"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagbuilder/#a8cf671ed90e3e80717aaa6318b24794c">salvageUnresolvedDbgValue</a>(DDIMI.first, DDI);</span></CodeLine>
<Link id="l01441" /><CodeLine lineNumber="1441"></CodeLine>
<Link id="l01442" /><CodeLine lineNumber="1442"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/#ac9a7de5a04920954ac964059cfc428ad">erase&#95;if</a>(DDIV, isMatchingDbgValue);</span></CodeLine>
<Link id="l01443" /><CodeLine lineNumber="1443"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l01444" /><CodeLine lineNumber="1444"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l01445" /><CodeLine lineNumber="1445"></CodeLine>
<Link id="l01446" /><CodeLine lineNumber="1446"><span class="doxyHighlightComment">// resolveDanglingDebugInfo - if we saw an earlier dbg&#95;value referring to V,</span></CodeLine>
<Link id="l01447" /><CodeLine lineNumber="1447"><span class="doxyHighlightComment">// generate the debug data structures now that we&#39;ve seen its definition.</span></CodeLine>
<Link id="l01448" /><CodeLine lineNumber="1448" lineLink="/docs/api/classes/llvm/selectiondagbuilder/#ab898c0fc6a2159b032a398271add3927"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#ab898c0fc6a2159b032a398271add3927">SelectionDAGBuilder::resolveDanglingDebugInfo</a>(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;V,</span></CodeLine>
<Link id="l01449" /><CodeLine lineNumber="1449"><span class="doxyHighlight">                                                   <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Val) &#123;</span></CodeLine>
<Link id="l01450" /><CodeLine lineNumber="1450"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> DanglingDbgInfoIt = DanglingDebugInfoMap.find(V);</span></CodeLine>
<Link id="l01451" /><CodeLine lineNumber="1451"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (DanglingDbgInfoIt == DanglingDebugInfoMap.end())</span></CodeLine>
<Link id="l01452" /><CodeLine lineNumber="1452"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l01453" /><CodeLine lineNumber="1453"></CodeLine>
<Link id="l01454" /><CodeLine lineNumber="1454"><span class="doxyHighlight">  DanglingDebugInfoVector &amp;DDIV = DanglingDbgInfoIt-&gt;second;</span></CodeLine>
<Link id="l01455" /><CodeLine lineNumber="1455"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;DDI : DDIV) &#123;</span></CodeLine>
<Link id="l01456" /><CodeLine lineNumber="1456"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/debugloc">DebugLoc</a> <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a> = DDI.getDebugLoc();</span></CodeLine>
<Link id="l01457" /><CodeLine lineNumber="1457"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> ValSDNodeOrder = Val.<a href="/docs/api/classes/llvm/sdvalue/#a2b08aa629a6326d1a0444ee6d477c39d">getNode</a>()-&gt;<a href="/docs/api/classes/llvm/sdnode/#a2c7563253850e555f36f44d91157e5bb">getIROrder</a>();</span></CodeLine>
<Link id="l01458" /><CodeLine lineNumber="1458"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> DbgSDNodeOrder = DDI.getSDNodeOrder();</span></CodeLine>
<Link id="l01459" /><CodeLine lineNumber="1459"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/dilocalvariable">DILocalVariable</a> &#42;Variable = DDI.getVariable();</span></CodeLine>
<Link id="l01460" /><CodeLine lineNumber="1460"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/diexpression">DIExpression</a> &#42;Expr = DDI.getExpression();</span></CodeLine>
<Link id="l01461" /><CodeLine lineNumber="1461"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Variable-&gt;<a href="/docs/api/classes/llvm/dilocalvariable/#ac8c4cb4dde7067286d3e3ce80bf77224">isValidLocationForIntrinsic</a>(<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>) &amp;&amp;</span></CodeLine>
<Link id="l01462" /><CodeLine lineNumber="1462"><span class="doxyHighlight">           </span><span class="doxyHighlightStringLiteral">&quot;Expected inlined-at fields to agree&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l01463" /><CodeLine lineNumber="1463"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sddbgvalue">SDDbgValue</a> &#42;SDV;</span></CodeLine>
<Link id="l01464" /><CodeLine lineNumber="1464"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Val.<a href="/docs/api/classes/llvm/sdvalue/#a2b08aa629a6326d1a0444ee6d477c39d">getNode</a>()) &#123;</span></CodeLine>
<Link id="l01465" /><CodeLine lineNumber="1465"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// FIXME: I doubt that it is correct to resolve a dangling DbgValue as a</span></CodeLine>
<Link id="l01466" /><CodeLine lineNumber="1466"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// FuncArgumentDbgValue (it would be hoisted to the function entry, and if</span></CodeLine>
<Link id="l01467" /><CodeLine lineNumber="1467"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// we couldn&#39;t resolve it directly when examining the DbgValue intrinsic</span></CodeLine>
<Link id="l01468" /><CodeLine lineNumber="1468"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// in the first place we should not be more successful here). Unless we</span></CodeLine>
<Link id="l01469" /><CodeLine lineNumber="1469"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// have some test case that prove this to be correct we should avoid</span></CodeLine>
<Link id="l01470" /><CodeLine lineNumber="1470"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// calling EmitFuncArgumentDbgValue here.</span></CodeLine>
<Link id="l01471" /><CodeLine lineNumber="1471"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!EmitFuncArgumentDbgValue(V, Variable, Expr, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</span></CodeLine>
<Link id="l01472" /><CodeLine lineNumber="1472"><span class="doxyHighlight">                                    FuncArgumentDbgValueKind::Value, Val)) &#123;</span></CodeLine>
<Link id="l01473" /><CodeLine lineNumber="1473"><span class="doxyHighlight">        <a href="/docs/api/files/include/include/llvm/include/llvm/support/debug-h/#a196897517069dda1bdb549e24468f7d7">LLVM&#95;DEBUG</a>(<a href="/docs/api/namespaces/llvm/#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; </span><span class="doxyHighlightStringLiteral">&quot;Resolve dangling debug info for &quot;</span></CodeLine>
<Link id="l01474" /><CodeLine lineNumber="1474"><span class="doxyHighlight">                          &lt;&lt; printDDI(V, DDI) &lt;&lt; </span><span class="doxyHighlightStringLiteral">&quot;\\n&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l01475" /><CodeLine lineNumber="1475"><span class="doxyHighlight">        <a href="/docs/api/files/include/include/llvm/include/llvm/support/debug-h/#a196897517069dda1bdb549e24468f7d7">LLVM&#95;DEBUG</a>(<a href="/docs/api/namespaces/llvm/#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; </span><span class="doxyHighlightStringLiteral">&quot;  By mapping to:\\n    &quot;</span><span class="doxyHighlight">; Val.<a href="/docs/api/classes/llvm/sdvalue/#a68cdc2666693dffb9173a9dffee11ab8">dump</a>());</span></CodeLine>
<Link id="l01476" /><CodeLine lineNumber="1476"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// Increase the SDNodeOrder for the DbgValue here to make sure it is</span></CodeLine>
<Link id="l01477" /><CodeLine lineNumber="1477"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// inserted after the definition of Val when emitting the instructions</span></CodeLine>
<Link id="l01478" /><CodeLine lineNumber="1478"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// after ISel. An alternative could be to teach</span></CodeLine>
<Link id="l01479" /><CodeLine lineNumber="1479"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// ScheduleDAGSDNodes::EmitSchedule to delay the insertion properly.</span></CodeLine>
<Link id="l01480" /><CodeLine lineNumber="1480"><span class="doxyHighlight">        <a href="/docs/api/files/include/include/llvm/include/llvm/support/debug-h/#a196897517069dda1bdb549e24468f7d7">LLVM&#95;DEBUG</a>(</span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (ValSDNodeOrder &gt; DbgSDNodeOrder) <a href="/docs/api/namespaces/llvm/#a7c46c742c31be54870e2038048e6b391">dbgs</a>()</span></CodeLine>
<Link id="l01481" /><CodeLine lineNumber="1481"><span class="doxyHighlight">                   &lt;&lt; </span><span class="doxyHighlightStringLiteral">&quot;changing SDNodeOrder from &quot;</span><span class="doxyHighlight"> &lt;&lt; DbgSDNodeOrder &lt;&lt; </span><span class="doxyHighlightStringLiteral">&quot; to &quot;</span></CodeLine>
<Link id="l01482" /><CodeLine lineNumber="1482"><span class="doxyHighlight">                   &lt;&lt; ValSDNodeOrder &lt;&lt; </span><span class="doxyHighlightStringLiteral">&quot;\\n&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l01483" /><CodeLine lineNumber="1483"><span class="doxyHighlight">        SDV = getDbgValue(Val, Variable, Expr, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</span></CodeLine>
<Link id="l01484" /><CodeLine lineNumber="1484"><span class="doxyHighlight">                          std::max(DbgSDNodeOrder, ValSDNodeOrder));</span></CodeLine>
<Link id="l01485" /><CodeLine lineNumber="1485"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.AddDbgValue(SDV, </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l01486" /><CodeLine lineNumber="1486"><span class="doxyHighlight">      &#125; </span><span class="doxyHighlightKeywordFlow">else</span></CodeLine>
<Link id="l01487" /><CodeLine lineNumber="1487"><span class="doxyHighlight">        <a href="/docs/api/files/include/include/llvm/include/llvm/support/debug-h/#a196897517069dda1bdb549e24468f7d7">LLVM&#95;DEBUG</a>(<a href="/docs/api/namespaces/llvm/#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; </span><span class="doxyHighlightStringLiteral">&quot;Resolved dangling debug info for &quot;</span></CodeLine>
<Link id="l01488" /><CodeLine lineNumber="1488"><span class="doxyHighlight">                          &lt;&lt; printDDI(V, DDI)</span></CodeLine>
<Link id="l01489" /><CodeLine lineNumber="1489"><span class="doxyHighlight">                          &lt;&lt; </span><span class="doxyHighlightStringLiteral">&quot; in EmitFuncArgumentDbgValue\\n&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l01490" /><CodeLine lineNumber="1490"><span class="doxyHighlight">    &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l01491" /><CodeLine lineNumber="1491"><span class="doxyHighlight">      <a href="/docs/api/files/include/include/llvm/include/llvm/support/debug-h/#a196897517069dda1bdb549e24468f7d7">LLVM&#95;DEBUG</a>(<a href="/docs/api/namespaces/llvm/#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; </span><span class="doxyHighlightStringLiteral">&quot;Dropping debug info for &quot;</span><span class="doxyHighlight"> &lt;&lt; printDDI(V, DDI)</span></CodeLine>
<Link id="l01492" /><CodeLine lineNumber="1492"><span class="doxyHighlight">                        &lt;&lt; </span><span class="doxyHighlightStringLiteral">&quot;\\n&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l01493" /><CodeLine lineNumber="1493"><span class="doxyHighlight">      </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> Undef = <a href="/docs/api/classes/llvm/undefvalue/#a4ae5ff22b700a42bcc5d889233721335">UndefValue::get</a>(V-&gt;getType());</span></CodeLine>
<Link id="l01494" /><CodeLine lineNumber="1494"><span class="doxyHighlight">      </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> SDV =</span></CodeLine>
<Link id="l01495" /><CodeLine lineNumber="1495"><span class="doxyHighlight">          <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getConstantDbgValue(Variable, Expr, Undef, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, DbgSDNodeOrder);</span></CodeLine>
<Link id="l01496" /><CodeLine lineNumber="1496"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.AddDbgValue(SDV, </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l01497" /><CodeLine lineNumber="1497"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l01498" /><CodeLine lineNumber="1498"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l01499" /><CodeLine lineNumber="1499"><span class="doxyHighlight">  DDIV.clear();</span></CodeLine>
<Link id="l01500" /><CodeLine lineNumber="1500"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l01501" /><CodeLine lineNumber="1501"></CodeLine>
<Link id="l01502" /><CodeLine lineNumber="1502" lineLink="/docs/api/classes/llvm/selectiondagbuilder/#a8cf671ed90e3e80717aaa6318b24794c"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#a8cf671ed90e3e80717aaa6318b24794c">SelectionDAGBuilder::salvageUnresolvedDbgValue</a>(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;V,</span></CodeLine>
<Link id="l01503" /><CodeLine lineNumber="1503"><span class="doxyHighlight">                                                    DanglingDebugInfo &amp;DDI) &#123;</span></CodeLine>
<Link id="l01504" /><CodeLine lineNumber="1504"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// TODO: For the variadic implementation, instead of only checking the fail</span></CodeLine>
<Link id="l01505" /><CodeLine lineNumber="1505"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// state of &#96;handleDebugValue&#96;, we need know specifically which values were</span></CodeLine>
<Link id="l01506" /><CodeLine lineNumber="1506"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// invalid, so that we attempt to salvage only those values when processing</span></CodeLine>
<Link id="l01507" /><CodeLine lineNumber="1507"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// a DIArgList.</span></CodeLine>
<Link id="l01508" /><CodeLine lineNumber="1508"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;OrigV = V;</span></CodeLine>
<Link id="l01509" /><CodeLine lineNumber="1509"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/dilocalvariable">DILocalVariable</a> &#42;Var = DDI.getVariable();</span></CodeLine>
<Link id="l01510" /><CodeLine lineNumber="1510"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/diexpression">DIExpression</a> &#42;Expr = DDI.getExpression();</span></CodeLine>
<Link id="l01511" /><CodeLine lineNumber="1511"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/debugloc">DebugLoc</a> <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a> = DDI.getDebugLoc();</span></CodeLine>
<Link id="l01512" /><CodeLine lineNumber="1512"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> SDOrder = DDI.getSDNodeOrder();</span></CodeLine>
<Link id="l01513" /><CodeLine lineNumber="1513"></CodeLine>
<Link id="l01514" /><CodeLine lineNumber="1514"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Currently we consider only dbg.value intrinsics -- we tell the salvager</span></CodeLine>
<Link id="l01515" /><CodeLine lineNumber="1515"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// that DW&#95;OP&#95;stack&#95;value is desired.</span></CodeLine>
<Link id="l01516" /><CodeLine lineNumber="1516"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> StackValue = </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l01517" /><CodeLine lineNumber="1517"></CodeLine>
<Link id="l01518" /><CodeLine lineNumber="1518"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Can this Value can be encoded without any further work?</span></CodeLine>
<Link id="l01519" /><CodeLine lineNumber="1519"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/classes/llvm/selectiondagbuilder/#ae9748fb2e4d41aaa8ac80d00b2becc52">handleDebugValue</a>(V, Var, Expr, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, SDOrder, </span><span class="doxyHighlightComment">/&#42;IsVariadic=&#42;/</span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">))</span></CodeLine>
<Link id="l01520" /><CodeLine lineNumber="1520"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l01521" /><CodeLine lineNumber="1521"></CodeLine>
<Link id="l01522" /><CodeLine lineNumber="1522"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Attempt to salvage back through as many instructions as possible. Bail if</span></CodeLine>
<Link id="l01523" /><CodeLine lineNumber="1523"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// a non-instruction is seen, such as a constant expression or global</span></CodeLine>
<Link id="l01524" /><CodeLine lineNumber="1524"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// variable. FIXME: Further work could recover those too.</span></CodeLine>
<Link id="l01525" /><CodeLine lineNumber="1525"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">while</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;Instruction&gt;</a>(V)) &#123;</span></CodeLine>
<Link id="l01526" /><CodeLine lineNumber="1526"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/instruction">Instruction</a> &amp;VAsInst = &#42;<a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;const Instruction&gt;</a>(V);</span></CodeLine>
<Link id="l01527" /><CodeLine lineNumber="1527"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Temporary &quot;0&quot;, awaiting real implementation.</span></CodeLine>
<Link id="l01528" /><CodeLine lineNumber="1528"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/smallvector">SmallVector&lt;uint64&#95;t, 16&gt;</a> <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>;</span></CodeLine>
<Link id="l01529" /><CodeLine lineNumber="1529"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/smallvector">SmallVector&lt;Value &#42;, 4&gt;</a> AdditionalValues;</span></CodeLine>
<Link id="l01530" /><CodeLine lineNumber="1530"><span class="doxyHighlight">    V = <a href="/docs/api/namespaces/llvm/#a99356c6b92999b95181b5d79c03868ee">salvageDebugInfoImpl</a>(</span><span class="doxyHighlightKeyword">const&#95;cast&lt;</span><span class="doxyHighlight"><a href="/docs/api/classes/llvm/instruction">Instruction</a> &amp;</span><span class="doxyHighlightKeyword">&gt;</span><span class="doxyHighlight">(VAsInst),</span></CodeLine>
<Link id="l01531" /><CodeLine lineNumber="1531"><span class="doxyHighlight">                             Expr-&gt;<a href="/docs/api/classes/llvm/diexpression/#a9aef6cbb464a57070a26cf422b979df9">getNumLocationOperands</a>(), <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>,</span></CodeLine>
<Link id="l01532" /><CodeLine lineNumber="1532"><span class="doxyHighlight">                             AdditionalValues);</span></CodeLine>
<Link id="l01533" /><CodeLine lineNumber="1533"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// If we cannot salvage any further, and haven&#39;t yet found a suitable debug</span></CodeLine>
<Link id="l01534" /><CodeLine lineNumber="1534"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// expression, bail out.</span></CodeLine>
<Link id="l01535" /><CodeLine lineNumber="1535"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!V)</span></CodeLine>
<Link id="l01536" /><CodeLine lineNumber="1536"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l01537" /><CodeLine lineNumber="1537"></CodeLine>
<Link id="l01538" /><CodeLine lineNumber="1538"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// TODO: If AdditionalValues isn&#39;t empty, then the salvage can only be</span></CodeLine>
<Link id="l01539" /><CodeLine lineNumber="1539"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// represented with a DBG&#95;VALUE&#95;LIST, so we give up. When we have support</span></CodeLine>
<Link id="l01540" /><CodeLine lineNumber="1540"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// here for variadic dbg&#95;values, remove that condition.</span></CodeLine>
<Link id="l01541" /><CodeLine lineNumber="1541"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!AdditionalValues.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#ad9a3c7bc26b130377bbafc170b5f88a2">empty</a>())</span></CodeLine>
<Link id="l01542" /><CodeLine lineNumber="1542"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l01543" /><CodeLine lineNumber="1543"></CodeLine>
<Link id="l01544" /><CodeLine lineNumber="1544"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// New value and expr now represent this debuginfo.</span></CodeLine>
<Link id="l01545" /><CodeLine lineNumber="1545"><span class="doxyHighlight">    Expr = <a href="/docs/api/classes/llvm/diexpression/#a5f48305fa7d23161515c94bca7c2beb6">DIExpression::appendOpsToArg</a>(Expr, <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>, 0, StackValue);</span></CodeLine>
<Link id="l01546" /><CodeLine lineNumber="1546"></CodeLine>
<Link id="l01547" /><CodeLine lineNumber="1547"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Some kind of simplification occurred: check whether the operand of the</span></CodeLine>
<Link id="l01548" /><CodeLine lineNumber="1548"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// salvaged debug expression can be encoded in this DAG.</span></CodeLine>
<Link id="l01549" /><CodeLine lineNumber="1549"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/classes/llvm/selectiondagbuilder/#ae9748fb2e4d41aaa8ac80d00b2becc52">handleDebugValue</a>(V, Var, Expr, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, SDOrder, </span><span class="doxyHighlightComment">/&#42;IsVariadic=&#42;/</span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">)) &#123;</span></CodeLine>
<Link id="l01550" /><CodeLine lineNumber="1550"><span class="doxyHighlight">      <a href="/docs/api/files/include/include/llvm/include/llvm/support/debug-h/#a196897517069dda1bdb549e24468f7d7">LLVM&#95;DEBUG</a>(</span></CodeLine>
<Link id="l01551" /><CodeLine lineNumber="1551"><span class="doxyHighlight">          <a href="/docs/api/namespaces/llvm/#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; </span><span class="doxyHighlightStringLiteral">&quot;Salvaged debug location info for:\\n  &quot;</span><span class="doxyHighlight"> &lt;&lt; &#42;Var &lt;&lt; </span><span class="doxyHighlightStringLiteral">&quot;\\n&quot;</span></CodeLine>
<Link id="l01552" /><CodeLine lineNumber="1552"><span class="doxyHighlight">                 &lt;&lt; &#42;OrigV &lt;&lt; </span><span class="doxyHighlightStringLiteral">&quot;\\nBy stripping back to:\\n  &quot;</span><span class="doxyHighlight"> &lt;&lt; &#42;V &lt;&lt; </span><span class="doxyHighlightStringLiteral">&quot;\\n&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l01553" /><CodeLine lineNumber="1553"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l01554" /><CodeLine lineNumber="1554"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l01555" /><CodeLine lineNumber="1555"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l01556" /><CodeLine lineNumber="1556"></CodeLine>
<Link id="l01557" /><CodeLine lineNumber="1557"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// This was the final opportunity to salvage this debug information, and it</span></CodeLine>
<Link id="l01558" /><CodeLine lineNumber="1558"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// couldn&#39;t be done. Place an undef DBG&#95;VALUE at this location to terminate</span></CodeLine>
<Link id="l01559" /><CodeLine lineNumber="1559"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// any earlier variable location.</span></CodeLine>
<Link id="l01560" /><CodeLine lineNumber="1560"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(OrigV &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;V shouldn&#39;t be null&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l01561" /><CodeLine lineNumber="1561"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;Undef = <a href="/docs/api/classes/llvm/undefvalue/#a4ae5ff22b700a42bcc5d889233721335">UndefValue::get</a>(OrigV-&gt;<a href="/docs/api/classes/llvm/value/#a0344a49526443edf90cc0aef3abd3337">getType</a>());</span></CodeLine>
<Link id="l01562" /><CodeLine lineNumber="1562"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;SDV = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getConstantDbgValue(Var, Expr, Undef, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, SDNodeOrder);</span></CodeLine>
<Link id="l01563" /><CodeLine lineNumber="1563"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.AddDbgValue(SDV, </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l01564" /><CodeLine lineNumber="1564"><span class="doxyHighlight">  <a href="/docs/api/files/include/include/llvm/include/llvm/support/debug-h/#a196897517069dda1bdb549e24468f7d7">LLVM&#95;DEBUG</a>(<a href="/docs/api/namespaces/llvm/#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; </span><span class="doxyHighlightStringLiteral">&quot;Dropping debug value info for:\\n  &quot;</span></CodeLine>
<Link id="l01565" /><CodeLine lineNumber="1565"><span class="doxyHighlight">                    &lt;&lt; printDDI(OrigV, DDI) &lt;&lt; </span><span class="doxyHighlightStringLiteral">&quot;\\n&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l01566" /><CodeLine lineNumber="1566"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l01567" /><CodeLine lineNumber="1567"></CodeLine>
<Link id="l01568" /><CodeLine lineNumber="1568" lineLink="/docs/api/classes/llvm/selectiondagbuilder/#ac42eef26cc4185a8932bc59a94dc5d16"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#ac42eef26cc4185a8932bc59a94dc5d16">SelectionDAGBuilder::handleKillDebugValue</a>(<a href="/docs/api/classes/llvm/dilocalvariable">DILocalVariable</a> &#42;Var,</span></CodeLine>
<Link id="l01569" /><CodeLine lineNumber="1569"><span class="doxyHighlight">                                               <a href="/docs/api/classes/llvm/diexpression">DIExpression</a> &#42;Expr,</span></CodeLine>
<Link id="l01570" /><CodeLine lineNumber="1570"><span class="doxyHighlight">                                               <a href="/docs/api/classes/llvm/debugloc">DebugLoc</a> DbgLoc,</span></CodeLine>
<Link id="l01571" /><CodeLine lineNumber="1571"><span class="doxyHighlight">                                               </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> Order) &#123;</span></CodeLine>
<Link id="l01572" /><CodeLine lineNumber="1572"><span class="doxyHighlight">  Value &#42;<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64asmprinter-cpp/#a434449d5a0f4b334aca9163b13b6286ba02b848adda8d7d33a2b25d87dbef1d75">Poison</a> = <a href="/docs/api/classes/llvm/poisonvalue/#a1bf08613fb664a2e377a9a72c59a6b66">PoisonValue::get</a>(<a href="/docs/api/classes/llvm/type/#aa75984a442f2379de0c66018201fa628">Type::getInt1Ty</a>(&#42;<a href="/docs/api/classes/llvm/selectiondagbuilder/#ac536e4b59b1e85317cea0b32d47752ef">Context</a>));</span></CodeLine>
<Link id="l01573" /><CodeLine lineNumber="1573"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/diexpression">DIExpression</a> &#42;<a href="/docs/api/classes/newexpr">NewExpr</a> =</span></CodeLine>
<Link id="l01574" /><CodeLine lineNumber="1574"><span class="doxyHighlight">      </span><span class="doxyHighlightKeyword">const&#95;cast&lt;</span><span class="doxyHighlight"><a href="/docs/api/classes/llvm/diexpression">DIExpression</a> &#42;</span><span class="doxyHighlightKeyword">&gt;</span><span class="doxyHighlight">(<a href="/docs/api/classes/llvm/diexpression/#ab420b672954fd0fc80a22da36dd9cc52">DIExpression::convertToUndefExpression</a>(Expr));</span></CodeLine>
<Link id="l01575" /><CodeLine lineNumber="1575"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ae9748fb2e4d41aaa8ac80d00b2becc52">handleDebugValue</a>(<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64asmprinter-cpp/#a434449d5a0f4b334aca9163b13b6286ba02b848adda8d7d33a2b25d87dbef1d75">Poison</a>, Var, <a href="/docs/api/classes/newexpr">NewExpr</a>, DbgLoc, Order,</span></CodeLine>
<Link id="l01576" /><CodeLine lineNumber="1576"><span class="doxyHighlight">                   </span><span class="doxyHighlightComment">/&#42;IsVariadic&#42;/</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l01577" /><CodeLine lineNumber="1577"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l01578" /><CodeLine lineNumber="1578"></CodeLine>
<Link id="l01579" /><CodeLine lineNumber="1579" lineLink="/docs/api/classes/llvm/selectiondagbuilder/#ae9748fb2e4d41aaa8ac80d00b2becc52"><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#ae9748fb2e4d41aaa8ac80d00b2becc52">SelectionDAGBuilder::handleDebugValue</a>(<a href="/docs/api/classes/llvm/arrayref">ArrayRef&lt;const Value &#42;&gt;</a> Values,</span></CodeLine>
<Link id="l01580" /><CodeLine lineNumber="1580"><span class="doxyHighlight">                                           <a href="/docs/api/classes/llvm/dilocalvariable">DILocalVariable</a> &#42;Var,</span></CodeLine>
<Link id="l01581" /><CodeLine lineNumber="1581"><span class="doxyHighlight">                                           <a href="/docs/api/classes/llvm/diexpression">DIExpression</a> &#42;Expr, <a href="/docs/api/classes/llvm/debugloc">DebugLoc</a> DbgLoc,</span></CodeLine>
<Link id="l01582" /><CodeLine lineNumber="1582"><span class="doxyHighlight">                                           </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> Order, </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> IsVariadic) &#123;</span></CodeLine>
<Link id="l01583" /><CodeLine lineNumber="1583"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Values.<a href="/docs/api/classes/llvm/arrayref/#ac835b8735b1b2faec0efdca236e37d94">empty</a>())</span></CodeLine>
<Link id="l01584" /><CodeLine lineNumber="1584"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l01585" /><CodeLine lineNumber="1585"></CodeLine>
<Link id="l01586" /><CodeLine lineNumber="1586"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Filter EntryValue locations out early.</span></CodeLine>
<Link id="l01587" /><CodeLine lineNumber="1587"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (visitEntryValueDbgValue(Values, Var, Expr, DbgLoc))</span></CodeLine>
<Link id="l01588" /><CodeLine lineNumber="1588"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l01589" /><CodeLine lineNumber="1589"></CodeLine>
<Link id="l01590" /><CodeLine lineNumber="1590"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/smallvector">SmallVector&lt;SDDbgOperand&gt;</a> LocationOps;</span></CodeLine>
<Link id="l01591" /><CodeLine lineNumber="1591"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/smallvector">SmallVector&lt;SDNode &#42;&gt;</a> Dependencies;</span></CodeLine>
<Link id="l01592" /><CodeLine lineNumber="1592"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;V : Values) &#123;</span></CodeLine>
<Link id="l01593" /><CodeLine lineNumber="1593"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Constant value.</span></CodeLine>
<Link id="l01594" /><CodeLine lineNumber="1594"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;ConstantInt&gt;</a>(V) || <a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;ConstantFP&gt;</a>(V) || <a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;UndefValue&gt;</a>(V) ||</span></CodeLine>
<Link id="l01595" /><CodeLine lineNumber="1595"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;ConstantPointerNull&gt;</a>(V)) &#123;</span></CodeLine>
<Link id="l01596" /><CodeLine lineNumber="1596"><span class="doxyHighlight">      LocationOps.<a href="/docs/api/classes/llvm/smallvectorimpl/#a396fcfee6914c76974b73c3d203da6a5">emplace&#95;back</a>(<a href="/docs/api/classes/llvm/sddbgoperand/#a839c3f734c6a978e745998e5d7904beb">SDDbgOperand::fromConst</a>(V));</span></CodeLine>
<Link id="l01597" /><CodeLine lineNumber="1597"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">continue</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l01598" /><CodeLine lineNumber="1598"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l01599" /><CodeLine lineNumber="1599"></CodeLine>
<Link id="l01600" /><CodeLine lineNumber="1600"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Look through IntToPtr constants.</span></CodeLine>
<Link id="l01601" /><CodeLine lineNumber="1601"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;CE = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;ConstantExpr&gt;</a>(V))</span></CodeLine>
<Link id="l01602" /><CodeLine lineNumber="1602"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (CE-&gt;getOpcode() == Instruction::IntToPtr) &#123;</span></CodeLine>
<Link id="l01603" /><CodeLine lineNumber="1603"><span class="doxyHighlight">        LocationOps.<a href="/docs/api/classes/llvm/smallvectorimpl/#a396fcfee6914c76974b73c3d203da6a5">emplace&#95;back</a>(<a href="/docs/api/classes/llvm/sddbgoperand/#a839c3f734c6a978e745998e5d7904beb">SDDbgOperand::fromConst</a>(CE-&gt;getOperand(0)));</span></CodeLine>
<Link id="l01604" /><CodeLine lineNumber="1604"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">continue</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l01605" /><CodeLine lineNumber="1605"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l01606" /><CodeLine lineNumber="1606"></CodeLine>
<Link id="l01607" /><CodeLine lineNumber="1607"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// If the Value is a frame index, we can create a FrameIndex debug value</span></CodeLine>
<Link id="l01608" /><CodeLine lineNumber="1608"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// without relying on the DAG at all.</span></CodeLine>
<Link id="l01609" /><CodeLine lineNumber="1609"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/allocainst">AllocaInst</a> &#42;AI = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;AllocaInst&gt;</a>(V)) &#123;</span></CodeLine>
<Link id="l01610" /><CodeLine lineNumber="1610"><span class="doxyHighlight">      </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/si">SI</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.StaticAllocaMap.find(AI);</span></CodeLine>
<Link id="l01611" /><CodeLine lineNumber="1611"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/si">SI</a> != <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.StaticAllocaMap.end()) &#123;</span></CodeLine>
<Link id="l01612" /><CodeLine lineNumber="1612"><span class="doxyHighlight">        LocationOps.<a href="/docs/api/classes/llvm/smallvectorimpl/#a396fcfee6914c76974b73c3d203da6a5">emplace&#95;back</a>(<a href="/docs/api/classes/llvm/sddbgoperand/#a1ee3253416c1e239c9b70848aa4c4266">SDDbgOperand::fromFrameIdx</a>(<a href="/docs/api/namespaces/llvm/si">SI</a>-&gt;second));</span></CodeLine>
<Link id="l01613" /><CodeLine lineNumber="1613"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">continue</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l01614" /><CodeLine lineNumber="1614"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l01615" /><CodeLine lineNumber="1615"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l01616" /><CodeLine lineNumber="1616"></CodeLine>
<Link id="l01617" /><CodeLine lineNumber="1617"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Do not use getValue() in here; we don&#39;t want to generate code at</span></CodeLine>
<Link id="l01618" /><CodeLine lineNumber="1618"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// this point if it hasn&#39;t been done yet.</span></CodeLine>
<Link id="l01619" /><CodeLine lineNumber="1619"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a> = NodeMap&#91;V&#93;;</span></CodeLine>
<Link id="l01620" /><CodeLine lineNumber="1620"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>.getNode() &amp;&amp; <a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;Argument&gt;</a>(V)) </span><span class="doxyHighlightComment">// Check unused arguments map.</span></CodeLine>
<Link id="l01621" /><CodeLine lineNumber="1621"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a> = UnusedArgNodeMap&#91;V&#93;;</span></CodeLine>
<Link id="l01622" /><CodeLine lineNumber="1622"></CodeLine>
<Link id="l01623" /><CodeLine lineNumber="1623"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>.getNode()) &#123;</span></CodeLine>
<Link id="l01624" /><CodeLine lineNumber="1624"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Only emit func arg dbg value for non-variadic dbg.values for now.</span></CodeLine>
<Link id="l01625" /><CodeLine lineNumber="1625"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!IsVariadic &amp;&amp;</span></CodeLine>
<Link id="l01626" /><CodeLine lineNumber="1626"><span class="doxyHighlight">          EmitFuncArgumentDbgValue(V, Var, Expr, DbgLoc,</span></CodeLine>
<Link id="l01627" /><CodeLine lineNumber="1627"><span class="doxyHighlight">                                   FuncArgumentDbgValueKind::Value, <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>))</span></CodeLine>
<Link id="l01628" /><CodeLine lineNumber="1628"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l01629" /><CodeLine lineNumber="1629"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;FISDN = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;FrameIndexSDNode&gt;</a>(<a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>.getNode())) &#123;</span></CodeLine>
<Link id="l01630" /><CodeLine lineNumber="1630"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// Construct a FrameIndexDbgValue for FrameIndexSDNodes so we can</span></CodeLine>
<Link id="l01631" /><CodeLine lineNumber="1631"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// describe stack slot locations.</span></CodeLine>
<Link id="l01632" /><CodeLine lineNumber="1632"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l01633" /><CodeLine lineNumber="1633"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// Consider &quot;int x = 0; int &#42;px = &amp;x;&quot;. There are two kinds of</span></CodeLine>
<Link id="l01634" /><CodeLine lineNumber="1634"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// interesting debug values here after optimization:</span></CodeLine>
<Link id="l01635" /><CodeLine lineNumber="1635"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l01636" /><CodeLine lineNumber="1636"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">//   dbg.value(i32&#42; %px, !&quot;int &#42;px&quot;, !DIExpression()), and</span></CodeLine>
<Link id="l01637" /><CodeLine lineNumber="1637"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">//   dbg.value(i32&#42; %px, !&quot;int x&quot;, !DIExpression(DW&#95;OP&#95;deref))</span></CodeLine>
<Link id="l01638" /><CodeLine lineNumber="1638"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l01639" /><CodeLine lineNumber="1639"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// Both describe the direct values of their associated variables.</span></CodeLine>
<Link id="l01640" /><CodeLine lineNumber="1640"><span class="doxyHighlight">        Dependencies.<a href="/docs/api/classes/llvm/smallvectortemplatebase/#af42bfbc067df27c19ee2fc859df58799">push&#95;back</a>(<a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>.getNode());</span></CodeLine>
<Link id="l01641" /><CodeLine lineNumber="1641"><span class="doxyHighlight">        LocationOps.<a href="/docs/api/classes/llvm/smallvectorimpl/#a396fcfee6914c76974b73c3d203da6a5">emplace&#95;back</a>(<a href="/docs/api/classes/llvm/sddbgoperand/#a1ee3253416c1e239c9b70848aa4c4266">SDDbgOperand::fromFrameIdx</a>(FISDN-&gt;getIndex()));</span></CodeLine>
<Link id="l01642" /><CodeLine lineNumber="1642"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">continue</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l01643" /><CodeLine lineNumber="1643"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l01644" /><CodeLine lineNumber="1644"><span class="doxyHighlight">      LocationOps.<a href="/docs/api/classes/llvm/smallvectorimpl/#a396fcfee6914c76974b73c3d203da6a5">emplace&#95;back</a>(</span></CodeLine>
<Link id="l01645" /><CodeLine lineNumber="1645"><span class="doxyHighlight">          <a href="/docs/api/classes/llvm/sddbgoperand/#a064ee6a43b2dc34747bda1d194922773">SDDbgOperand::fromNode</a>(<a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>.getNode(), <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>.getResNo()));</span></CodeLine>
<Link id="l01646" /><CodeLine lineNumber="1646"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">continue</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l01647" /><CodeLine lineNumber="1647"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l01648" /><CodeLine lineNumber="1648"></CodeLine>
<Link id="l01649" /><CodeLine lineNumber="1649"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetlowering">TargetLowering</a> &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l01650" /><CodeLine lineNumber="1650"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Special rules apply for the first dbg.values of parameter variables in a</span></CodeLine>
<Link id="l01651" /><CodeLine lineNumber="1651"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// function. Identify them by the fact they reference Argument Values, that</span></CodeLine>
<Link id="l01652" /><CodeLine lineNumber="1652"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// they&#39;re parameters, and they are parameters of the current function. We</span></CodeLine>
<Link id="l01653" /><CodeLine lineNumber="1653"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// need to let them dangle until they get an SDNode.</span></CodeLine>
<Link id="l01654" /><CodeLine lineNumber="1654"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> IsParamOfFunc =</span></CodeLine>
<Link id="l01655" /><CodeLine lineNumber="1655"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;Argument&gt;</a>(V) &amp;&amp; Var-&gt;<a href="/docs/api/classes/llvm/dilocalvariable/#a45c267092569766aa684c6ba3bae9634">isParameter</a>() &amp;&amp; !DbgLoc.<a href="/docs/api/classes/llvm/debugloc/#ada0b6f3c53a53b7274e7aeb23eeab5a8">getInlinedAt</a>();</span></CodeLine>
<Link id="l01656" /><CodeLine lineNumber="1656"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (IsParamOfFunc)</span></CodeLine>
<Link id="l01657" /><CodeLine lineNumber="1657"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l01658" /><CodeLine lineNumber="1658"></CodeLine>
<Link id="l01659" /><CodeLine lineNumber="1659"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// The value is not used in this block yet (or it would have an SDNode).</span></CodeLine>
<Link id="l01660" /><CodeLine lineNumber="1660"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// We still want the value to appear for the user if possible -- if it has</span></CodeLine>
<Link id="l01661" /><CodeLine lineNumber="1661"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// an associated VReg, we can refer to that instead.</span></CodeLine>
<Link id="l01662" /><CodeLine lineNumber="1662"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> VMI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.ValueMap.find(V);</span></CodeLine>
<Link id="l01663" /><CodeLine lineNumber="1663"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (VMI != <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.ValueMap.end()) &#123;</span></CodeLine>
<Link id="l01664" /><CodeLine lineNumber="1664"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> Reg = VMI-&gt;second;</span></CodeLine>
<Link id="l01665" /><CodeLine lineNumber="1665"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// If this is a PHI node, it may be split up into several MI PHI nodes</span></CodeLine>
<Link id="l01666" /><CodeLine lineNumber="1666"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// (in FunctionLoweringInfo::set).</span></CodeLine>
<Link id="l01667" /><CodeLine lineNumber="1667"><span class="doxyHighlight">      <a href="/docs/api/structs/llvm/regsforvalue">RegsForValue</a> RFV(V-&gt;getContext(), TLI, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), Reg,</span></CodeLine>
<Link id="l01668" /><CodeLine lineNumber="1668"><span class="doxyHighlight">                       V-&gt;getType(), std::nullopt);</span></CodeLine>
<Link id="l01669" /><CodeLine lineNumber="1669"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (RFV.<a href="/docs/api/structs/llvm/regsforvalue/#aed4c3ed13d5c82a825cb533010000347">occupiesMultipleRegs</a>()) &#123;</span></CodeLine>
<Link id="l01670" /><CodeLine lineNumber="1670"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// FIXME: We could potentially support variadic dbg&#95;values here.</span></CodeLine>
<Link id="l01671" /><CodeLine lineNumber="1671"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (IsVariadic)</span></CodeLine>
<Link id="l01672" /><CodeLine lineNumber="1672"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l01673" /><CodeLine lineNumber="1673"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = 0;</span></CodeLine>
<Link id="l01674" /><CodeLine lineNumber="1674"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> BitsToDescribe = 0;</span></CodeLine>
<Link id="l01675" /><CodeLine lineNumber="1675"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> VarSize = Var-&gt;<a href="/docs/api/classes/llvm/divariable/#a6b5977deeb9f99e156685e190de78403">getSizeInBits</a>())</span></CodeLine>
<Link id="l01676" /><CodeLine lineNumber="1676"><span class="doxyHighlight">          BitsToDescribe = &#42;VarSize;</span></CodeLine>
<Link id="l01677" /><CodeLine lineNumber="1677"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> Fragment = Expr-&gt;<a href="/docs/api/classes/llvm/diexpression/#a7cc5f1632a4c520497898439c17dc026">getFragmentInfo</a>())</span></CodeLine>
<Link id="l01678" /><CodeLine lineNumber="1678"><span class="doxyHighlight">          BitsToDescribe = Fragment-&gt;SizeInBits;</span></CodeLine>
<Link id="l01679" /><CodeLine lineNumber="1679"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;RegAndSize : RFV.<a href="/docs/api/structs/llvm/regsforvalue/#a03813938f6c7ea6b7e94965a27491ddc">getRegsAndSizes</a>()) &#123;</span></CodeLine>
<Link id="l01680" /><CodeLine lineNumber="1680"><span class="doxyHighlight">          </span><span class="doxyHighlightComment">// Bail out if all bits are described already.</span></CodeLine>
<Link id="l01681" /><CodeLine lineNumber="1681"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> &gt;= BitsToDescribe)</span></CodeLine>
<Link id="l01682" /><CodeLine lineNumber="1682"><span class="doxyHighlight">            </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l01683" /><CodeLine lineNumber="1683"><span class="doxyHighlight">          </span><span class="doxyHighlightComment">// TODO: handle scalable vectors.</span></CodeLine>
<Link id="l01684" /><CodeLine lineNumber="1684"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> RegisterSize = RegAndSize.second;</span></CodeLine>
<Link id="l01685" /><CodeLine lineNumber="1685"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> FragmentSize = (<a href="/docs/api/namespaces/llvm/#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> + RegisterSize &gt; BitsToDescribe)</span></CodeLine>
<Link id="l01686" /><CodeLine lineNumber="1686"><span class="doxyHighlight">                                      ? BitsToDescribe - <a href="/docs/api/namespaces/llvm/#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a></span></CodeLine>
<Link id="l01687" /><CodeLine lineNumber="1687"><span class="doxyHighlight">                                      : RegisterSize;</span></CodeLine>
<Link id="l01688" /><CodeLine lineNumber="1688"><span class="doxyHighlight">          </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> FragmentExpr = <a href="/docs/api/classes/llvm/diexpression/#ab2fc167f75191e1d22e12e8e382605bb">DIExpression::createFragmentExpression</a>(</span></CodeLine>
<Link id="l01689" /><CodeLine lineNumber="1689"><span class="doxyHighlight">              Expr, <a href="/docs/api/namespaces/llvm/#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, FragmentSize);</span></CodeLine>
<Link id="l01690" /><CodeLine lineNumber="1690"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!FragmentExpr)</span></CodeLine>
<Link id="l01691" /><CodeLine lineNumber="1691"><span class="doxyHighlight">            </span><span class="doxyHighlightKeywordFlow">continue</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l01692" /><CodeLine lineNumber="1692"><span class="doxyHighlight">          <a href="/docs/api/classes/llvm/sddbgvalue">SDDbgValue</a> &#42;SDV = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVRegDbgValue(</span></CodeLine>
<Link id="l01693" /><CodeLine lineNumber="1693"><span class="doxyHighlight">              Var, &#42;FragmentExpr, RegAndSize.first, </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">, DbgLoc, Order);</span></CodeLine>
<Link id="l01694" /><CodeLine lineNumber="1694"><span class="doxyHighlight">          <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.AddDbgValue(SDV, </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l01695" /><CodeLine lineNumber="1695"><span class="doxyHighlight">          <a href="/docs/api/namespaces/llvm/#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> += RegisterSize;</span></CodeLine>
<Link id="l01696" /><CodeLine lineNumber="1696"><span class="doxyHighlight">        &#125;</span></CodeLine>
<Link id="l01697" /><CodeLine lineNumber="1697"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l01698" /><CodeLine lineNumber="1698"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l01699" /><CodeLine lineNumber="1699"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// We can use simple vreg locations for variadic dbg&#95;values as well.</span></CodeLine>
<Link id="l01700" /><CodeLine lineNumber="1700"><span class="doxyHighlight">      LocationOps.<a href="/docs/api/classes/llvm/smallvectorimpl/#a396fcfee6914c76974b73c3d203da6a5">emplace&#95;back</a>(<a href="/docs/api/classes/llvm/sddbgoperand/#a6e8946c426e13b7a8eac5f89fe1e8aca">SDDbgOperand::fromVReg</a>(Reg));</span></CodeLine>
<Link id="l01701" /><CodeLine lineNumber="1701"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">continue</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l01702" /><CodeLine lineNumber="1702"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l01703" /><CodeLine lineNumber="1703"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// We failed to create a SDDbgOperand for V.</span></CodeLine>
<Link id="l01704" /><CodeLine lineNumber="1704"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l01705" /><CodeLine lineNumber="1705"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l01706" /><CodeLine lineNumber="1706"></CodeLine>
<Link id="l01707" /><CodeLine lineNumber="1707"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// We have created a SDDbgOperand for each Value in Values.</span></CodeLine>
<Link id="l01708" /><CodeLine lineNumber="1708"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!LocationOps.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#ad9a3c7bc26b130377bbafc170b5f88a2">empty</a>());</span></CodeLine>
<Link id="l01709" /><CodeLine lineNumber="1709"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sddbgvalue">SDDbgValue</a> &#42;SDV =</span></CodeLine>
<Link id="l01710" /><CodeLine lineNumber="1710"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDbgValueList(Var, Expr, LocationOps, Dependencies,</span></CodeLine>
<Link id="l01711" /><CodeLine lineNumber="1711"><span class="doxyHighlight">                          </span><span class="doxyHighlightComment">/&#42;IsIndirect=&#42;/</span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">, DbgLoc, Order, IsVariadic);</span></CodeLine>
<Link id="l01712" /><CodeLine lineNumber="1712"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.AddDbgValue(SDV, </span><span class="doxyHighlightComment">/&#42;isParameter=&#42;/</span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l01713" /><CodeLine lineNumber="1713"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l01714" /><CodeLine lineNumber="1714"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l01715" /><CodeLine lineNumber="1715"></CodeLine>
<Link id="l01716" /><CodeLine lineNumber="1716" lineLink="/docs/api/classes/llvm/selectiondagbuilder/#ab0535176e89ed7e0647a533aa033bb34"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#ab0535176e89ed7e0647a533aa033bb34">SelectionDAGBuilder::resolveOrClearDbgInfo</a>() &#123;</span></CodeLine>
<Link id="l01717" /><CodeLine lineNumber="1717"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Try to fixup any remaining dangling debug info -- and drop it if we can&#39;t.</span></CodeLine>
<Link id="l01718" /><CodeLine lineNumber="1718"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;Pair : DanglingDebugInfoMap)</span></CodeLine>
<Link id="l01719" /><CodeLine lineNumber="1719"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;DDI : Pair.second)</span></CodeLine>
<Link id="l01720" /><CodeLine lineNumber="1720"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#a8cf671ed90e3e80717aaa6318b24794c">salvageUnresolvedDbgValue</a>(</span><span class="doxyHighlightKeyword">const&#95;cast&lt;</span><span class="doxyHighlight">Value &#42;</span><span class="doxyHighlightKeyword">&gt;</span><span class="doxyHighlight">(Pair.first), DDI);</span></CodeLine>
<Link id="l01721" /><CodeLine lineNumber="1721"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#a1b90604db120716e786d9d33babc3edd">clearDanglingDebugInfo</a>();</span></CodeLine>
<Link id="l01722" /><CodeLine lineNumber="1722"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l01723" /><CodeLine lineNumber="1723"></CodeLine>
<Link id="l01724" /><CodeLine lineNumber="1724"><span class="doxyHighlightComment">/// getCopyFromRegs - If there was virtual register allocated for the value V</span></CodeLine>
<Link id="l01725" /><CodeLine lineNumber="1725"><span class="doxyHighlightComment">/// emit CopyFromReg of the specified type Ty. Return empty SDValue() otherwise.</span></CodeLine>
<Link id="l01726" /><CodeLine lineNumber="1726" lineLink="/docs/api/classes/llvm/selectiondagbuilder/#ac0b87e85b015d15077a7d9432c500df3"><span class="doxyHighlight"><a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="/docs/api/classes/llvm/selectiondagbuilder/#ac0b87e85b015d15077a7d9432c500df3">SelectionDAGBuilder::getCopyFromRegs</a>(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;V, <a href="/docs/api/classes/llvm/type">Type</a> &#42;Ty) &#123;</span></CodeLine>
<Link id="l01727" /><CodeLine lineNumber="1727"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/densemapbase/#a214e872d61db2ea8cb023f127cafd0b9">DenseMap&lt;const Value &#42;, Register&gt;::iterator</a> It = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.ValueMap.find(V);</span></CodeLine>
<Link id="l01728" /><CodeLine lineNumber="1728"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Result;</span></CodeLine>
<Link id="l01729" /><CodeLine lineNumber="1729"></CodeLine>
<Link id="l01730" /><CodeLine lineNumber="1730"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (It != <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.ValueMap.end()) &#123;</span></CodeLine>
<Link id="l01731" /><CodeLine lineNumber="1731"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/register">Register</a> InReg = It-&gt;second;</span></CodeLine>
<Link id="l01732" /><CodeLine lineNumber="1732"></CodeLine>
<Link id="l01733" /><CodeLine lineNumber="1733"><span class="doxyHighlight">    <a href="/docs/api/structs/llvm/regsforvalue">RegsForValue</a> RFV(&#42;<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getContext(), <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo(),</span></CodeLine>
<Link id="l01734" /><CodeLine lineNumber="1734"><span class="doxyHighlight">                     <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), InReg, Ty,</span></CodeLine>
<Link id="l01735" /><CodeLine lineNumber="1735"><span class="doxyHighlight">                     std::nullopt); </span><span class="doxyHighlightComment">// This is not an ABI copy.</span></CodeLine>
<Link id="l01736" /><CodeLine lineNumber="1736"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Chain = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getEntryNode();</span></CodeLine>
<Link id="l01737" /><CodeLine lineNumber="1737"><span class="doxyHighlight">    Result = RFV.<a href="/docs/api/structs/llvm/regsforvalue/#ad782fe84b36a1c379ac9f1ac367706e1">getCopyFromRegs</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), Chain, </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">,</span></CodeLine>
<Link id="l01738" /><CodeLine lineNumber="1738"><span class="doxyHighlight">                                 V);</span></CodeLine>
<Link id="l01739" /><CodeLine lineNumber="1739"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ab898c0fc6a2159b032a398271add3927">resolveDanglingDebugInfo</a>(V, Result);</span></CodeLine>
<Link id="l01740" /><CodeLine lineNumber="1740"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l01741" /><CodeLine lineNumber="1741"></CodeLine>
<Link id="l01742" /><CodeLine lineNumber="1742"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> Result;</span></CodeLine>
<Link id="l01743" /><CodeLine lineNumber="1743"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l01744" /><CodeLine lineNumber="1744"></CodeLine>
<Link id="l01745" /><CodeLine lineNumber="1745"><span class="doxyHighlightComment">/// getValue - Return an SDValue for the given Value.</span></CodeLine>
<Link id="l01746" /><CodeLine lineNumber="1746" lineLink="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d"><span class="doxyHighlight"><a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">SelectionDAGBuilder::getValue</a>(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;V) &#123;</span></CodeLine>
<Link id="l01747" /><CodeLine lineNumber="1747"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// If we already have an SDValue for this value, use it. It&#39;s important</span></CodeLine>
<Link id="l01748" /><CodeLine lineNumber="1748"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// to do this first, so that we don&#39;t create a CopyFromReg if we already</span></CodeLine>
<Link id="l01749" /><CodeLine lineNumber="1749"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// have a regular SDValue.</span></CodeLine>
<Link id="l01750" /><CodeLine lineNumber="1750"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> &amp;<a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a> = NodeMap&#91;V&#93;;</span></CodeLine>
<Link id="l01751" /><CodeLine lineNumber="1751"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>.getNode()) </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>;</span></CodeLine>
<Link id="l01752" /><CodeLine lineNumber="1752"></CodeLine>
<Link id="l01753" /><CodeLine lineNumber="1753"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// If there&#39;s a virtual register allocated and initialized for this</span></CodeLine>
<Link id="l01754" /><CodeLine lineNumber="1754"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// value, use it.</span></CodeLine>
<Link id="l01755" /><CodeLine lineNumber="1755"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/classes/llvm/sdvalue">SDValue</a> copyFromReg = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ac0b87e85b015d15077a7d9432c500df3">getCopyFromRegs</a>(V, V-&gt;getType()))</span></CodeLine>
<Link id="l01756" /><CodeLine lineNumber="1756"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> copyFromReg;</span></CodeLine>
<Link id="l01757" /><CodeLine lineNumber="1757"></CodeLine>
<Link id="l01758" /><CodeLine lineNumber="1758"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Otherwise create a new SDValue and remember it.</span></CodeLine>
<Link id="l01759" /><CodeLine lineNumber="1759"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Val = <a href="/docs/api/classes/llvm/selectiondagbuilder/#afe3b2bbac4396d088da5c91f77754843">getValueImpl</a>(V);</span></CodeLine>
<Link id="l01760" /><CodeLine lineNumber="1760"><span class="doxyHighlight">  NodeMap&#91;V&#93; = Val;</span></CodeLine>
<Link id="l01761" /><CodeLine lineNumber="1761"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ab898c0fc6a2159b032a398271add3927">resolveDanglingDebugInfo</a>(V, Val);</span></CodeLine>
<Link id="l01762" /><CodeLine lineNumber="1762"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> Val;</span></CodeLine>
<Link id="l01763" /><CodeLine lineNumber="1763"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l01764" /><CodeLine lineNumber="1764"></CodeLine>
<Link id="l01765" /><CodeLine lineNumber="1765"><span class="doxyHighlightComment">/// getNonRegisterValue - Return an SDValue for the given Value, but</span></CodeLine>
<Link id="l01766" /><CodeLine lineNumber="1766"><span class="doxyHighlightComment">/// don&#39;t look in FuncInfo.ValueMap for a virtual register.</span></CodeLine>
<Link id="l01767" /><CodeLine lineNumber="1767" lineLink="/docs/api/classes/llvm/selectiondagbuilder/#a4ad02593716678add54090c344959750"><span class="doxyHighlight"><a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="/docs/api/classes/llvm/selectiondagbuilder/#a4ad02593716678add54090c344959750">SelectionDAGBuilder::getNonRegisterValue</a>(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;V) &#123;</span></CodeLine>
<Link id="l01768" /><CodeLine lineNumber="1768"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// If we already have an SDValue for this value, use it.</span></CodeLine>
<Link id="l01769" /><CodeLine lineNumber="1769"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> &amp;<a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a> = NodeMap&#91;V&#93;;</span></CodeLine>
<Link id="l01770" /><CodeLine lineNumber="1770"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>.getNode()) &#123;</span></CodeLine>
<Link id="l01771" /><CodeLine lineNumber="1771"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/#a2e392c596f41ac56b67f31c2e4b33dd1">isIntOrFPConstant</a>(<a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>)) &#123;</span></CodeLine>
<Link id="l01772" /><CodeLine lineNumber="1772"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Remove the debug location from the node as the node is about to be used</span></CodeLine>
<Link id="l01773" /><CodeLine lineNumber="1773"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// in a location which may differ from the original debug location.  This</span></CodeLine>
<Link id="l01774" /><CodeLine lineNumber="1774"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// is relevant to Constant and ConstantFP nodes because they can appear</span></CodeLine>
<Link id="l01775" /><CodeLine lineNumber="1775"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// as constant expressions inside PHI nodes.</span></CodeLine>
<Link id="l01776" /><CodeLine lineNumber="1776"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;setDebugLoc(<a href="/docs/api/namespaces/llvm/dwarf-linker/#a463a58e257d5f6fb2c39eb9a2474fc24ac2e06fc138163b7095fa483616a0a47a">DebugLoc</a>());</span></CodeLine>
<Link id="l01777" /><CodeLine lineNumber="1777"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l01778" /><CodeLine lineNumber="1778"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>;</span></CodeLine>
<Link id="l01779" /><CodeLine lineNumber="1779"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l01780" /><CodeLine lineNumber="1780"></CodeLine>
<Link id="l01781" /><CodeLine lineNumber="1781"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Otherwise create a new SDValue and remember it.</span></CodeLine>
<Link id="l01782" /><CodeLine lineNumber="1782"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Val = <a href="/docs/api/classes/llvm/selectiondagbuilder/#afe3b2bbac4396d088da5c91f77754843">getValueImpl</a>(V);</span></CodeLine>
<Link id="l01783" /><CodeLine lineNumber="1783"><span class="doxyHighlight">  NodeMap&#91;V&#93; = Val;</span></CodeLine>
<Link id="l01784" /><CodeLine lineNumber="1784"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ab898c0fc6a2159b032a398271add3927">resolveDanglingDebugInfo</a>(V, Val);</span></CodeLine>
<Link id="l01785" /><CodeLine lineNumber="1785"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> Val;</span></CodeLine>
<Link id="l01786" /><CodeLine lineNumber="1786"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l01787" /><CodeLine lineNumber="1787"></CodeLine>
<Link id="l01788" /><CodeLine lineNumber="1788"><span class="doxyHighlightComment">/// getValueImpl - Helper function for getValue and getNonRegisterValue.</span></CodeLine>
<Link id="l01789" /><CodeLine lineNumber="1789"><span class="doxyHighlightComment">/// Create an SDValue for the given value.</span></CodeLine>
<Link id="l01790" /><CodeLine lineNumber="1790" lineLink="/docs/api/classes/llvm/selectiondagbuilder/#afe3b2bbac4396d088da5c91f77754843"><span class="doxyHighlight"><a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="/docs/api/classes/llvm/selectiondagbuilder/#afe3b2bbac4396d088da5c91f77754843">SelectionDAGBuilder::getValueImpl</a>(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;V) &#123;</span></CodeLine>
<Link id="l01791" /><CodeLine lineNumber="1791"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetlowering">TargetLowering</a> &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l01792" /><CodeLine lineNumber="1792"></CodeLine>
<Link id="l01793" /><CodeLine lineNumber="1793"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/constant">Constant</a> &#42;<a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a> = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;Constant&gt;</a>(V)) &#123;</span></CodeLine>
<Link id="l01794" /><CodeLine lineNumber="1794"><span class="doxyHighlight">    <a href="/docs/api/structs/llvm/evt">EVT</a> VT = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), V-&gt;getType(), </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l01795" /><CodeLine lineNumber="1795"></CodeLine>
<Link id="l01796" /><CodeLine lineNumber="1796"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/constantint">ConstantInt</a> &#42;CI = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;ConstantInt&gt;</a>(<a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a>))</span></CodeLine>
<Link id="l01797" /><CodeLine lineNumber="1797"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getConstant(&#42;CI, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), VT);</span></CodeLine>
<Link id="l01798" /><CodeLine lineNumber="1798"></CodeLine>
<Link id="l01799" /><CodeLine lineNumber="1799"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/globalvalue">GlobalValue</a> &#42;GV = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;GlobalValue&gt;</a>(<a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a>))</span></CodeLine>
<Link id="l01800" /><CodeLine lineNumber="1800"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getGlobalAddress(GV, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), VT);</span></CodeLine>
<Link id="l01801" /><CodeLine lineNumber="1801"></CodeLine>
<Link id="l01802" /><CodeLine lineNumber="1802"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/constantptrauth">ConstantPtrAuth</a> &#42;CPA = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;ConstantPtrAuth&gt;</a>(<a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a>)) &#123;</span></CodeLine>
<Link id="l01803" /><CodeLine lineNumber="1803"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a8df1b84ea64ad5048f27873205c8ab89">ISD::PtrAuthGlobalAddress</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), VT,</span></CodeLine>
<Link id="l01804" /><CodeLine lineNumber="1804"><span class="doxyHighlight">                         <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(CPA-&gt;getPointer()), <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(CPA-&gt;getKey()),</span></CodeLine>
<Link id="l01805" /><CodeLine lineNumber="1805"><span class="doxyHighlight">                         <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(CPA-&gt;getAddrDiscriminator()),</span></CodeLine>
<Link id="l01806" /><CodeLine lineNumber="1806"><span class="doxyHighlight">                         <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(CPA-&gt;getDiscriminator()));</span></CodeLine>
<Link id="l01807" /><CodeLine lineNumber="1807"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l01808" /><CodeLine lineNumber="1808"></CodeLine>
<Link id="l01809" /><CodeLine lineNumber="1809"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;ConstantPointerNull&gt;</a>(<a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a>)) &#123;</span></CodeLine>
<Link id="l01810" /><CodeLine lineNumber="1810"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> AS = V-&gt;getType()-&gt;getPointerAddressSpace();</span></CodeLine>
<Link id="l01811" /><CodeLine lineNumber="1811"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getConstant(0, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(),</span></CodeLine>
<Link id="l01812" /><CodeLine lineNumber="1812"><span class="doxyHighlight">                             TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), AS));</span></CodeLine>
<Link id="l01813" /><CodeLine lineNumber="1813"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l01814" /><CodeLine lineNumber="1814"></CodeLine>
<Link id="l01815" /><CodeLine lineNumber="1815"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/patternmatch/#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a>, <a href="/docs/api/namespaces/llvm/patternmatch/#aa16d8f8fe394a4a8a2fd9c0a97c616d2">m&#95;VScale</a>()))</span></CodeLine>
<Link id="l01816" /><CodeLine lineNumber="1816"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVScale(<a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), VT, <a href="/docs/api/classes/llvm/apint">APInt</a>(VT.<a href="/docs/api/structs/llvm/evt/#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>(), 1));</span></CodeLine>
<Link id="l01817" /><CodeLine lineNumber="1817"></CodeLine>
<Link id="l01818" /><CodeLine lineNumber="1818"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/constantfp">ConstantFP</a> &#42;CFP = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;ConstantFP&gt;</a>(<a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a>))</span></CodeLine>
<Link id="l01819" /><CodeLine lineNumber="1819"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getConstantFP(&#42;CFP, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), VT);</span></CodeLine>
<Link id="l01820" /><CodeLine lineNumber="1820"></CodeLine>
<Link id="l01821" /><CodeLine lineNumber="1821"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;UndefValue&gt;</a>(<a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a>) &amp;&amp; !V-&gt;getType()-&gt;isAggregateType())</span></CodeLine>
<Link id="l01822" /><CodeLine lineNumber="1822"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getUNDEF(VT);</span></CodeLine>
<Link id="l01823" /><CodeLine lineNumber="1823"></CodeLine>
<Link id="l01824" /><CodeLine lineNumber="1824"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/constantexpr">ConstantExpr</a> &#42;CE = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;ConstantExpr&gt;</a>(<a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a>)) &#123;</span></CodeLine>
<Link id="l01825" /><CodeLine lineNumber="1825"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#abbbfefd79a5b3d1b4ea8d8383fd01af5">visit</a>(CE-&gt;getOpcode(), &#42;CE);</span></CodeLine>
<Link id="l01826" /><CodeLine lineNumber="1826"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> N1 = NodeMap&#91;V&#93;;</span></CodeLine>
<Link id="l01827" /><CodeLine lineNumber="1827"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(N1.<a href="/docs/api/classes/llvm/sdvalue/#a2b08aa629a6326d1a0444ee6d477c39d">getNode</a>() &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;visit didn&#39;t populate the NodeMap!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l01828" /><CodeLine lineNumber="1828"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> N1;</span></CodeLine>
<Link id="l01829" /><CodeLine lineNumber="1829"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l01830" /><CodeLine lineNumber="1830"></CodeLine>
<Link id="l01831" /><CodeLine lineNumber="1831"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;ConstantStruct&gt;</a>(<a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a>) || <a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;ConstantArray&gt;</a>(<a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a>)) &#123;</span></CodeLine>
<Link id="l01832" /><CodeLine lineNumber="1832"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/smallvector">SmallVector&lt;SDValue, 4&gt;</a> Constants;</span></CodeLine>
<Link id="l01833" /><CodeLine lineNumber="1833"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/use">Use</a> &amp;U : <a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a>-&gt;operands()) &#123;</span></CodeLine>
<Link id="l01834" /><CodeLine lineNumber="1834"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/sdnode">SDNode</a> &#42;Val = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(U).<a href="/docs/api/classes/llvm/sdvalue/#a2b08aa629a6326d1a0444ee6d477c39d">getNode</a>();</span></CodeLine>
<Link id="l01835" /><CodeLine lineNumber="1835"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// If the operand is an empty aggregate, there are no values.</span></CodeLine>
<Link id="l01836" /><CodeLine lineNumber="1836"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!Val) </span><span class="doxyHighlightKeywordFlow">continue</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l01837" /><CodeLine lineNumber="1837"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// Add each leaf value from the operand to the Constants list</span></CodeLine>
<Link id="l01838" /><CodeLine lineNumber="1838"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// to form a flattened list of all the values.</span></CodeLine>
<Link id="l01839" /><CodeLine lineNumber="1839"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> i = 0, e = Val-&gt;<a href="/docs/api/classes/llvm/sdnode/#a7f06dbaee5fa2b239de548d0a775b25b">getNumValues</a>(); i != e; ++i)</span></CodeLine>
<Link id="l01840" /><CodeLine lineNumber="1840"><span class="doxyHighlight">          Constants.push&#95;back(<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a>(Val, i));</span></CodeLine>
<Link id="l01841" /><CodeLine lineNumber="1841"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l01842" /><CodeLine lineNumber="1842"></CodeLine>
<Link id="l01843" /><CodeLine lineNumber="1843"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMergeValues(Constants, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>());</span></CodeLine>
<Link id="l01844" /><CodeLine lineNumber="1844"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l01845" /><CodeLine lineNumber="1845"></CodeLine>
<Link id="l01846" /><CodeLine lineNumber="1846"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/constantdatasequential">ConstantDataSequential</a> &#42;CDS =</span></CodeLine>
<Link id="l01847" /><CodeLine lineNumber="1847"><span class="doxyHighlight">          <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;ConstantDataSequential&gt;</a>(<a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a>)) &#123;</span></CodeLine>
<Link id="l01848" /><CodeLine lineNumber="1848"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/smallvector">SmallVector&lt;SDValue, 4&gt;</a> <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>;</span></CodeLine>
<Link id="l01849" /><CodeLine lineNumber="1849"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> i = 0, e = CDS-&gt;getNumElements(); i != e; ++i) &#123;</span></CodeLine>
<Link id="l01850" /><CodeLine lineNumber="1850"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/sdnode">SDNode</a> &#42;Val = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(CDS-&gt;getElementAsConstant(i)).<a href="/docs/api/classes/llvm/sdvalue/#a2b08aa629a6326d1a0444ee6d477c39d">getNode</a>();</span></CodeLine>
<Link id="l01851" /><CodeLine lineNumber="1851"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// Add each leaf value from the operand to the Constants list</span></CodeLine>
<Link id="l01852" /><CodeLine lineNumber="1852"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// to form a flattened list of all the values.</span></CodeLine>
<Link id="l01853" /><CodeLine lineNumber="1853"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> i = 0, e = Val-&gt;<a href="/docs/api/classes/llvm/sdnode/#a7f06dbaee5fa2b239de548d0a775b25b">getNumValues</a>(); i != e; ++i)</span></CodeLine>
<Link id="l01854" /><CodeLine lineNumber="1854"><span class="doxyHighlight">          <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.push&#95;back(<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a>(Val, i));</span></CodeLine>
<Link id="l01855" /><CodeLine lineNumber="1855"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l01856" /><CodeLine lineNumber="1856"></CodeLine>
<Link id="l01857" /><CodeLine lineNumber="1857"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;ArrayType&gt;</a>(CDS-&gt;getType()))</span></CodeLine>
<Link id="l01858" /><CodeLine lineNumber="1858"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMergeValues(<a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>());</span></CodeLine>
<Link id="l01859" /><CodeLine lineNumber="1859"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> NodeMap&#91;V&#93; = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getBuildVector(VT, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>);</span></CodeLine>
<Link id="l01860" /><CodeLine lineNumber="1860"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l01861" /><CodeLine lineNumber="1861"></CodeLine>
<Link id="l01862" /><CodeLine lineNumber="1862"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a>-&gt;getType()-&gt;isStructTy() || <a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a>-&gt;getType()-&gt;isArrayTy()) &#123;</span></CodeLine>
<Link id="l01863" /><CodeLine lineNumber="1863"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((<a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;ConstantAggregateZero&gt;</a>(<a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a>) || <a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;UndefValue&gt;</a>(<a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a>)) &amp;&amp;</span></CodeLine>
<Link id="l01864" /><CodeLine lineNumber="1864"><span class="doxyHighlight">             </span><span class="doxyHighlightStringLiteral">&quot;Unknown struct or array constant!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l01865" /><CodeLine lineNumber="1865"></CodeLine>
<Link id="l01866" /><CodeLine lineNumber="1866"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/smallvector">SmallVector&lt;EVT, 4&gt;</a> ValueVTs;</span></CodeLine>
<Link id="l01867" /><CodeLine lineNumber="1867"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/#ab99618b3d8988b758a67f5a1a6071095">ComputeValueVTs</a>(TLI, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a>-&gt;getType(), ValueVTs);</span></CodeLine>
<Link id="l01868" /><CodeLine lineNumber="1868"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumElts = ValueVTs.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#a1c479a8c434377c2b8cb056bdfdfc201">size</a>();</span></CodeLine>
<Link id="l01869" /><CodeLine lineNumber="1869"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (NumElts == 0)</span></CodeLine>
<Link id="l01870" /><CodeLine lineNumber="1870"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a>(); </span><span class="doxyHighlightComment">// empty struct</span></CodeLine>
<Link id="l01871" /><CodeLine lineNumber="1871"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/smallvector">SmallVector&lt;SDValue, 4&gt;</a> Constants(NumElts);</span></CodeLine>
<Link id="l01872" /><CodeLine lineNumber="1872"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> i = 0; i != NumElts; ++i) &#123;</span></CodeLine>
<Link id="l01873" /><CodeLine lineNumber="1873"><span class="doxyHighlight">        <a href="/docs/api/structs/llvm/evt">EVT</a> EltVT = ValueVTs&#91;i&#93;;</span></CodeLine>
<Link id="l01874" /><CodeLine lineNumber="1874"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;UndefValue&gt;</a>(<a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a>))</span></CodeLine>
<Link id="l01875" /><CodeLine lineNumber="1875"><span class="doxyHighlight">          Constants&#91;i&#93; = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getUNDEF(EltVT);</span></CodeLine>
<Link id="l01876" /><CodeLine lineNumber="1876"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (EltVT.<a href="/docs/api/structs/llvm/evt/#a3cb888a2ce8e95e0d9769687a5e2f7d8">isFloatingPoint</a>())</span></CodeLine>
<Link id="l01877" /><CodeLine lineNumber="1877"><span class="doxyHighlight">          Constants&#91;i&#93; = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getConstantFP(0, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), EltVT);</span></CodeLine>
<Link id="l01878" /><CodeLine lineNumber="1878"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">else</span></CodeLine>
<Link id="l01879" /><CodeLine lineNumber="1879"><span class="doxyHighlight">          Constants&#91;i&#93; = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getConstant(0, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), EltVT);</span></CodeLine>
<Link id="l01880" /><CodeLine lineNumber="1880"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l01881" /><CodeLine lineNumber="1881"></CodeLine>
<Link id="l01882" /><CodeLine lineNumber="1882"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMergeValues(Constants, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>());</span></CodeLine>
<Link id="l01883" /><CodeLine lineNumber="1883"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l01884" /><CodeLine lineNumber="1884"></CodeLine>
<Link id="l01885" /><CodeLine lineNumber="1885"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/blockaddress">BlockAddress</a> &#42;BA = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;BlockAddress&gt;</a>(<a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a>))</span></CodeLine>
<Link id="l01886" /><CodeLine lineNumber="1886"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getBlockAddress(BA, VT);</span></CodeLine>
<Link id="l01887" /><CodeLine lineNumber="1887"></CodeLine>
<Link id="l01888" /><CodeLine lineNumber="1888"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;Equiv = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;DSOLocalEquivalent&gt;</a>(<a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a>))</span></CodeLine>
<Link id="l01889" /><CodeLine lineNumber="1889"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(Equiv-&gt;getGlobalValue());</span></CodeLine>
<Link id="l01890" /><CodeLine lineNumber="1890"></CodeLine>
<Link id="l01891" /><CodeLine lineNumber="1891"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;<a href="/docs/api/files/lib/lib/support/regutils-h/#a1fa2460e32327ade49189c95740bc1b5">NC</a> = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;NoCFIValue&gt;</a>(<a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a>))</span></CodeLine>
<Link id="l01892" /><CodeLine lineNumber="1892"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/regutils-h/#a1fa2460e32327ade49189c95740bc1b5">NC</a>-&gt;getGlobalValue());</span></CodeLine>
<Link id="l01893" /><CodeLine lineNumber="1893"></CodeLine>
<Link id="l01894" /><CodeLine lineNumber="1894"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (VT == MVT::aarch64svcount) &#123;</span></CodeLine>
<Link id="l01895" /><CodeLine lineNumber="1895"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a>-&gt;isNullValue() &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Can only zero this target type!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l01896" /><CodeLine lineNumber="1896"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::BITCAST, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), VT,</span></CodeLine>
<Link id="l01897" /><CodeLine lineNumber="1897"><span class="doxyHighlight">                         <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getConstant(0, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), MVT::nxv16i1));</span></CodeLine>
<Link id="l01898" /><CodeLine lineNumber="1898"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l01899" /><CodeLine lineNumber="1899"></CodeLine>
<Link id="l01900" /><CodeLine lineNumber="1900"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (VT.<a href="/docs/api/structs/llvm/evt/#a7687d0ddaf12046ae258432e98ad083e">isRISCVVectorTuple</a>()) &#123;</span></CodeLine>
<Link id="l01901" /><CodeLine lineNumber="1901"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a>-&gt;isNullValue() &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Can only zero this target type!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l01902" /><CodeLine lineNumber="1902"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> NodeMap&#91;V&#93; = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(</span></CodeLine>
<Link id="l01903" /><CodeLine lineNumber="1903"><span class="doxyHighlight">                 ISD::BITCAST, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), VT,</span></CodeLine>
<Link id="l01904" /><CodeLine lineNumber="1904"><span class="doxyHighlight">                 <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(</span></CodeLine>
<Link id="l01905" /><CodeLine lineNumber="1905"><span class="doxyHighlight">                     <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a7f864031b6fb691b1525cbea92542ef1">ISD::SPLAT&#95;VECTOR</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(),</span></CodeLine>
<Link id="l01906" /><CodeLine lineNumber="1906"><span class="doxyHighlight">                     <a href="/docs/api/structs/llvm/evt/#a210ba6b43ba451b698857dd9de71bd15">EVT::getVectorVT</a>(&#42;<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getContext(), MVT::i8,</span></CodeLine>
<Link id="l01907" /><CodeLine lineNumber="1907"><span class="doxyHighlight">                                      VT.<a href="/docs/api/structs/llvm/evt/#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>().<a href="/docs/api/classes/llvm/details/fixedorscalablequantity/#ac4ab9dd9440c55bee1aa4a1195cee759">getKnownMinValue</a>() / 8,</span></CodeLine>
<Link id="l01908" /><CodeLine lineNumber="1908"><span class="doxyHighlight">                                      </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">),</span></CodeLine>
<Link id="l01909" /><CodeLine lineNumber="1909"><span class="doxyHighlight">                     <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getConstant(0, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), <a href="/docs/api/classes/llvm/mvt/#aded931e298cfa08b5038ca2b63c06bb8">MVT::getIntegerVT</a>(8))));</span></CodeLine>
<Link id="l01910" /><CodeLine lineNumber="1910"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l01911" /><CodeLine lineNumber="1911"></CodeLine>
<Link id="l01912" /><CodeLine lineNumber="1912"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/vectortype">VectorType</a> &#42;VecTy = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;VectorType&gt;</a>(V-&gt;getType());</span></CodeLine>
<Link id="l01913" /><CodeLine lineNumber="1913"></CodeLine>
<Link id="l01914" /><CodeLine lineNumber="1914"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Now that we know the number and type of the elements, get that number of</span></CodeLine>
<Link id="l01915" /><CodeLine lineNumber="1915"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// elements into the Ops array based on what kind of constant it is.</span></CodeLine>
<Link id="l01916" /><CodeLine lineNumber="1916"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/constantvector">ConstantVector</a> &#42;CV = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;ConstantVector&gt;</a>(<a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a>)) &#123;</span></CodeLine>
<Link id="l01917" /><CodeLine lineNumber="1917"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/smallvector">SmallVector&lt;SDValue, 16&gt;</a> <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>;</span></CodeLine>
<Link id="l01918" /><CodeLine lineNumber="1918"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumElements = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;FixedVectorType&gt;</a>(VecTy)-&gt;getNumElements();</span></CodeLine>
<Link id="l01919" /><CodeLine lineNumber="1919"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> i = 0; i != NumElements; ++i)</span></CodeLine>
<Link id="l01920" /><CodeLine lineNumber="1920"><span class="doxyHighlight">        <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.push&#95;back(<a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(CV-&gt;getOperand(i)));</span></CodeLine>
<Link id="l01921" /><CodeLine lineNumber="1921"></CodeLine>
<Link id="l01922" /><CodeLine lineNumber="1922"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> NodeMap&#91;V&#93; = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getBuildVector(VT, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>);</span></CodeLine>
<Link id="l01923" /><CodeLine lineNumber="1923"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l01924" /><CodeLine lineNumber="1924"></CodeLine>
<Link id="l01925" /><CodeLine lineNumber="1925"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;ConstantAggregateZero&gt;</a>(<a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a>)) &#123;</span></CodeLine>
<Link id="l01926" /><CodeLine lineNumber="1926"><span class="doxyHighlight">      <a href="/docs/api/structs/llvm/evt">EVT</a> EltVT =</span></CodeLine>
<Link id="l01927" /><CodeLine lineNumber="1927"><span class="doxyHighlight">          TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), VecTy-&gt;<a href="/docs/api/classes/llvm/vectortype/#afdce715c901d62e2c1367a0ff5248175">getElementType</a>());</span></CodeLine>
<Link id="l01928" /><CodeLine lineNumber="1928"></CodeLine>
<Link id="l01929" /><CodeLine lineNumber="1929"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>;</span></CodeLine>
<Link id="l01930" /><CodeLine lineNumber="1930"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (EltVT.<a href="/docs/api/structs/llvm/evt/#a3cb888a2ce8e95e0d9769687a5e2f7d8">isFloatingPoint</a>())</span></CodeLine>
<Link id="l01931" /><CodeLine lineNumber="1931"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getConstantFP(0, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), EltVT);</span></CodeLine>
<Link id="l01932" /><CodeLine lineNumber="1932"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">else</span></CodeLine>
<Link id="l01933" /><CodeLine lineNumber="1933"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getConstant(0, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), EltVT);</span></CodeLine>
<Link id="l01934" /><CodeLine lineNumber="1934"></CodeLine>
<Link id="l01935" /><CodeLine lineNumber="1935"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> NodeMap&#91;V&#93; = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSplat(VT, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>);</span></CodeLine>
<Link id="l01936" /><CodeLine lineNumber="1936"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l01937" /><CodeLine lineNumber="1937"></CodeLine>
<Link id="l01938" /><CodeLine lineNumber="1938"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/support/errorhandling-h/#ace243f5c25697a1107cce46626b3dc94">llvm&#95;unreachable</a>(</span><span class="doxyHighlightStringLiteral">&quot;Unknown vector constant&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l01939" /><CodeLine lineNumber="1939"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l01940" /><CodeLine lineNumber="1940"></CodeLine>
<Link id="l01941" /><CodeLine lineNumber="1941"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// If this is a static alloca, generate it as the frameindex instead of</span></CodeLine>
<Link id="l01942" /><CodeLine lineNumber="1942"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// computation.</span></CodeLine>
<Link id="l01943" /><CodeLine lineNumber="1943"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/allocainst">AllocaInst</a> &#42;AI = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;AllocaInst&gt;</a>(V)) &#123;</span></CodeLine>
<Link id="l01944" /><CodeLine lineNumber="1944"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/densemapbase/#a214e872d61db2ea8cb023f127cafd0b9">DenseMap&lt;const AllocaInst&#42;, int&gt;::iterator</a> <a href="/docs/api/namespaces/llvm/si">SI</a> =</span></CodeLine>
<Link id="l01945" /><CodeLine lineNumber="1945"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.StaticAllocaMap.find(AI);</span></CodeLine>
<Link id="l01946" /><CodeLine lineNumber="1946"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/si">SI</a> != <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.StaticAllocaMap.end())</span></CodeLine>
<Link id="l01947" /><CodeLine lineNumber="1947"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getFrameIndex(</span></CodeLine>
<Link id="l01948" /><CodeLine lineNumber="1948"><span class="doxyHighlight">          <a href="/docs/api/namespaces/llvm/si">SI</a>-&gt;second, TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), AI-&gt;getType()));</span></CodeLine>
<Link id="l01949" /><CodeLine lineNumber="1949"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l01950" /><CodeLine lineNumber="1950"></CodeLine>
<Link id="l01951" /><CodeLine lineNumber="1951"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// If this is an instruction which fast-isel has deferred, select it now.</span></CodeLine>
<Link id="l01952" /><CodeLine lineNumber="1952"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42;Inst = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;Instruction&gt;</a>(V)) &#123;</span></CodeLine>
<Link id="l01953" /><CodeLine lineNumber="1953"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/register">Register</a> InReg = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.InitializeRegForValue(Inst);</span></CodeLine>
<Link id="l01954" /><CodeLine lineNumber="1954"></CodeLine>
<Link id="l01955" /><CodeLine lineNumber="1955"><span class="doxyHighlight">    <a href="/docs/api/structs/llvm/regsforvalue">RegsForValue</a> RFV(&#42;<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getContext(), TLI, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), InReg,</span></CodeLine>
<Link id="l01956" /><CodeLine lineNumber="1956"><span class="doxyHighlight">                     Inst-&gt;getType(), std::nullopt);</span></CodeLine>
<Link id="l01957" /><CodeLine lineNumber="1957"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Chain = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getEntryNode();</span></CodeLine>
<Link id="l01958" /><CodeLine lineNumber="1958"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> RFV.<a href="/docs/api/structs/llvm/regsforvalue/#ad782fe84b36a1c379ac9f1ac367706e1">getCopyFromRegs</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), Chain, </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">, V);</span></CodeLine>
<Link id="l01959" /><CodeLine lineNumber="1959"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l01960" /><CodeLine lineNumber="1960"></CodeLine>
<Link id="l01961" /><CodeLine lineNumber="1961"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/metadataasvalue">MetadataAsValue</a> &#42;MD = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;MetadataAsValue&gt;</a>(V))</span></CodeLine>
<Link id="l01962" /><CodeLine lineNumber="1962"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMDNode(<a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;MDNode&gt;</a>(MD-&gt;getMetadata()));</span></CodeLine>
<Link id="l01963" /><CodeLine lineNumber="1963"></CodeLine>
<Link id="l01964" /><CodeLine lineNumber="1964"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;BB = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;BasicBlock&gt;</a>(V))</span></CodeLine>
<Link id="l01965" /><CodeLine lineNumber="1965"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getBasicBlock(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.getMBB(BB));</span></CodeLine>
<Link id="l01966" /><CodeLine lineNumber="1966"></CodeLine>
<Link id="l01967" /><CodeLine lineNumber="1967"><span class="doxyHighlight">  <a href="/docs/api/files/include/include/llvm/include/llvm/support/errorhandling-h/#ace243f5c25697a1107cce46626b3dc94">llvm&#95;unreachable</a>(</span><span class="doxyHighlightStringLiteral">&quot;Can&#39;t get register for value!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l01968" /><CodeLine lineNumber="1968"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l01969" /><CodeLine lineNumber="1969"></CodeLine>
<Link id="l01970" /><CodeLine lineNumber="1970"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitCatchPad(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/catchpadinst">CatchPadInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l01971" /><CodeLine lineNumber="1971"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> Pers = <a href="/docs/api/namespaces/llvm/#a8d508f23e2580095561902c39911fb9b">classifyEHPersonality</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.<a href="/docs/api/classes/llvm/functionloweringinfo/#aa6af88ef964b6f03824a35fa0081efa9">Fn</a>-&gt;<a href="/docs/api/classes/llvm/function/#a6f77e4e800ba4dffd63e8ddb330062aa">getPersonalityFn</a>());</span></CodeLine>
<Link id="l01972" /><CodeLine lineNumber="1972"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> IsMSVCCXX = Pers == <a href="/docs/api/namespaces/llvm/#a5d56157a385f8cd7d3e54ed87da1ba6aab34bedfd8d86f0adbefe4ae0e708f428">EHPersonality::MSVC&#95;CXX</a>;</span></CodeLine>
<Link id="l01973" /><CodeLine lineNumber="1973"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> IsCoreCLR = Pers == <a href="/docs/api/namespaces/llvm/#a5d56157a385f8cd7d3e54ed87da1ba6aa05b0e25c98ba4300ca28989a35dab72a">EHPersonality::CoreCLR</a>;</span></CodeLine>
<Link id="l01974" /><CodeLine lineNumber="1974"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> IsSEH = <a href="/docs/api/namespaces/llvm/#ab9c9fb92464f96c0e0f326d624e82eab">isAsynchronousEHPersonality</a>(Pers);</span></CodeLine>
<Link id="l01975" /><CodeLine lineNumber="1975"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;CatchPadMBB = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.<a href="/docs/api/classes/llvm/functionloweringinfo/#a9893077f1825192ca0f3d173afefb573">MBB</a>;</span></CodeLine>
<Link id="l01976" /><CodeLine lineNumber="1976"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!IsSEH)</span></CodeLine>
<Link id="l01977" /><CodeLine lineNumber="1977"><span class="doxyHighlight">    CatchPadMBB-&gt;<a href="/docs/api/classes/llvm/machinebasicblock/#af296bb7eb6fea94d49bfbc434cf3bf3c">setIsEHScopeEntry</a>();</span></CodeLine>
<Link id="l01978" /><CodeLine lineNumber="1978"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// In MSVC C++ and CoreCLR, catchblocks are funclets and need prologues.</span></CodeLine>
<Link id="l01979" /><CodeLine lineNumber="1979"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (IsMSVCCXX || IsCoreCLR)</span></CodeLine>
<Link id="l01980" /><CodeLine lineNumber="1980"><span class="doxyHighlight">    CatchPadMBB-&gt;<a href="/docs/api/classes/llvm/machinebasicblock/#ad6a02ab1681cddfb6a5991ad2a5fff88">setIsEHFuncletEntry</a>();</span></CodeLine>
<Link id="l01981" /><CodeLine lineNumber="1981"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l01982" /><CodeLine lineNumber="1982"></CodeLine>
<Link id="l01983" /><CodeLine lineNumber="1983"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitCatchRet(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/catchreturninst">CatchReturnInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l01984" /><CodeLine lineNumber="1984"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Update machine-CFG edge.</span></CodeLine>
<Link id="l01985" /><CodeLine lineNumber="1985"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;TargetMBB = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.<a href="/docs/api/classes/llvm/functionloweringinfo/#a14a2bf30885cc5b91b86a564759980bb">getMBB</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getSuccessor());</span></CodeLine>
<Link id="l01986" /><CodeLine lineNumber="1986"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.<a href="/docs/api/classes/llvm/functionloweringinfo/#a9893077f1825192ca0f3d173afefb573">MBB</a>-&gt;<a href="/docs/api/classes/llvm/machinebasicblock/#a935e2a8884592189d8f261634a0b24c5">addSuccessor</a>(TargetMBB);</span></CodeLine>
<Link id="l01987" /><CodeLine lineNumber="1987"><span class="doxyHighlight">  TargetMBB-&gt;<a href="/docs/api/classes/llvm/machinebasicblock/#a148fa7c12ad7679341d884e0f8295d39">setIsEHCatchretTarget</a>(</span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l01988" /><CodeLine lineNumber="1988"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.<a href="/docs/api/classes/llvm/selectiondag/#ac64ec73b0617befef1fb2eae78d12b5f">getMachineFunction</a>().<a href="/docs/api/classes/llvm/machinefunction/#a3d4a88a04d48c381b5e9d9ea93c515e5">setHasEHCatchret</a>(</span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l01989" /><CodeLine lineNumber="1989"></CodeLine>
<Link id="l01990" /><CodeLine lineNumber="1990"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> Pers = <a href="/docs/api/namespaces/llvm/#a8d508f23e2580095561902c39911fb9b">classifyEHPersonality</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.<a href="/docs/api/classes/llvm/functionloweringinfo/#aa6af88ef964b6f03824a35fa0081efa9">Fn</a>-&gt;<a href="/docs/api/classes/llvm/function/#a6f77e4e800ba4dffd63e8ddb330062aa">getPersonalityFn</a>());</span></CodeLine>
<Link id="l01991" /><CodeLine lineNumber="1991"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> IsSEH = <a href="/docs/api/namespaces/llvm/#ab9c9fb92464f96c0e0f326d624e82eab">isAsynchronousEHPersonality</a>(Pers);</span></CodeLine>
<Link id="l01992" /><CodeLine lineNumber="1992"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (IsSEH) &#123;</span></CodeLine>
<Link id="l01993" /><CodeLine lineNumber="1993"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// If this is not a fall-through branch or optimizations are switched off,</span></CodeLine>
<Link id="l01994" /><CodeLine lineNumber="1994"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// emit the branch.</span></CodeLine>
<Link id="l01995" /><CodeLine lineNumber="1995"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (TargetMBB != NextBlock(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.<a href="/docs/api/classes/llvm/functionloweringinfo/#a9893077f1825192ca0f3d173afefb573">MBB</a>) ||</span></CodeLine>
<Link id="l01996" /><CodeLine lineNumber="1996"><span class="doxyHighlight">        TM.<a href="/docs/api/classes/llvm/targetmachine/#a030edbec5a50c887caf3ec95c7c50c44">getOptLevel</a>() == <a href="/docs/api/namespaces/llvm/#a8ec1bf8d7b792ca9fac56f8514db18d2a6adf97f83acf6453d4a6a4b1070f3754">CodeGenOptLevel::None</a>)</span></CodeLine>
<Link id="l01997" /><CodeLine lineNumber="1997"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.<a href="/docs/api/classes/llvm/selectiondag/#ae0fc3f54d06d2230bf93a19d45f51706">setRoot</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::BR, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), MVT::Other,</span></CodeLine>
<Link id="l01998" /><CodeLine lineNumber="1998"><span class="doxyHighlight">                              <a href="/docs/api/classes/llvm/selectiondagbuilder/#aef34360e8bb4bdecf3fd6345ff504f81">getControlRoot</a>(), <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.<a href="/docs/api/classes/llvm/selectiondag/#a9bcd28463c35c990c4bc354b0ec70fb8">getBasicBlock</a>(TargetMBB)));</span></CodeLine>
<Link id="l01999" /><CodeLine lineNumber="1999"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l02000" /><CodeLine lineNumber="2000"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l02001" /><CodeLine lineNumber="2001"></CodeLine>
<Link id="l02002" /><CodeLine lineNumber="2002"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Figure out the funclet membership for the catchret&#39;s successor.</span></CodeLine>
<Link id="l02003" /><CodeLine lineNumber="2003"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// This will be used by the FuncletLayout pass to determine how to order the</span></CodeLine>
<Link id="l02004" /><CodeLine lineNumber="2004"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// BB&#39;s.</span></CodeLine>
<Link id="l02005" /><CodeLine lineNumber="2005"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// A &#39;catchret&#39; returns to the outer scope&#39;s color.</span></CodeLine>
<Link id="l02006" /><CodeLine lineNumber="2006"><span class="doxyHighlight">  Value &#42;ParentPad = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getCatchSwitchParentPad();</span></CodeLine>
<Link id="l02007" /><CodeLine lineNumber="2007"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a8472e46f9e4db168c5610ecdfb05dbaf">BasicBlock</a> &#42;SuccessorColor;</span></CodeLine>
<Link id="l02008" /><CodeLine lineNumber="2008"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;ConstantTokenNone&gt;</a>(ParentPad))</span></CodeLine>
<Link id="l02009" /><CodeLine lineNumber="2009"><span class="doxyHighlight">    SuccessorColor = &amp;<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.Fn-&gt;getEntryBlock();</span></CodeLine>
<Link id="l02010" /><CodeLine lineNumber="2010"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">else</span></CodeLine>
<Link id="l02011" /><CodeLine lineNumber="2011"><span class="doxyHighlight">    SuccessorColor = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;Instruction&gt;</a>(ParentPad)-&gt;<a href="/docs/api/classes/llvm/basicblock/#a1b4bf7c97cdc8159fd73d48063f0b250">getParent</a>();</span></CodeLine>
<Link id="l02012" /><CodeLine lineNumber="2012"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(SuccessorColor &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;No parent funclet for catchret!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l02013" /><CodeLine lineNumber="2013"><span class="doxyHighlight">  MachineBasicBlock &#42;SuccessorColorMBB = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.getMBB(SuccessorColor);</span></CodeLine>
<Link id="l02014" /><CodeLine lineNumber="2014"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(SuccessorColorMBB &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;No MBB for SuccessorColor!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l02015" /><CodeLine lineNumber="2015"></CodeLine>
<Link id="l02016" /><CodeLine lineNumber="2016"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Create the terminator node.</span></CodeLine>
<Link id="l02017" /><CodeLine lineNumber="2017"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/mipsisd/#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">Ret</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::CATCHRET, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), MVT::Other,</span></CodeLine>
<Link id="l02018" /><CodeLine lineNumber="2018"><span class="doxyHighlight">                            <a href="/docs/api/classes/llvm/selectiondagbuilder/#aef34360e8bb4bdecf3fd6345ff504f81">getControlRoot</a>(), <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getBasicBlock(TargetMBB),</span></CodeLine>
<Link id="l02019" /><CodeLine lineNumber="2019"><span class="doxyHighlight">                            <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getBasicBlock(SuccessorColorMBB));</span></CodeLine>
<Link id="l02020" /><CodeLine lineNumber="2020"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(Ret);</span></CodeLine>
<Link id="l02021" /><CodeLine lineNumber="2021"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l02022" /><CodeLine lineNumber="2022"></CodeLine>
<Link id="l02023" /><CodeLine lineNumber="2023"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitCleanupPad(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/cleanuppadinst">CleanupPadInst</a> &amp;CPI) &#123;</span></CodeLine>
<Link id="l02024" /><CodeLine lineNumber="2024"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Don&#39;t emit any special code for the cleanuppad instruction. It just marks</span></CodeLine>
<Link id="l02025" /><CodeLine lineNumber="2025"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// the start of an EH scope/funclet.</span></CodeLine>
<Link id="l02026" /><CodeLine lineNumber="2026"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.MBB-&gt;setIsEHScopeEntry();</span></CodeLine>
<Link id="l02027" /><CodeLine lineNumber="2027"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> Pers = <a href="/docs/api/namespaces/llvm/#a8d508f23e2580095561902c39911fb9b">classifyEHPersonality</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.Fn-&gt;getPersonalityFn());</span></CodeLine>
<Link id="l02028" /><CodeLine lineNumber="2028"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Pers != <a href="/docs/api/namespaces/llvm/#a5d56157a385f8cd7d3e54ed87da1ba6aa7939c43653700c52daa7a68a575c3ec5">EHPersonality::Wasm&#95;CXX</a>) &#123;</span></CodeLine>
<Link id="l02029" /><CodeLine lineNumber="2029"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.MBB-&gt;setIsEHFuncletEntry();</span></CodeLine>
<Link id="l02030" /><CodeLine lineNumber="2030"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.MBB-&gt;setIsCleanupFuncletEntry();</span></CodeLine>
<Link id="l02031" /><CodeLine lineNumber="2031"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l02032" /><CodeLine lineNumber="2032"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l02033" /><CodeLine lineNumber="2033"></CodeLine>
<Link id="l02034" /><CodeLine lineNumber="2034"><span class="doxyHighlightComment">// In wasm EH, even though a catchpad may not catch an exception if a tag does</span></CodeLine>
<Link id="l02035" /><CodeLine lineNumber="2035"><span class="doxyHighlightComment">// not match, it is OK to add only the first unwind destination catchpad to the</span></CodeLine>
<Link id="l02036" /><CodeLine lineNumber="2036"><span class="doxyHighlightComment">// successors, because there will be at least one invoke instruction within the</span></CodeLine>
<Link id="l02037" /><CodeLine lineNumber="2037"><span class="doxyHighlightComment">// catch scope that points to the next unwind destination, if one exists, so</span></CodeLine>
<Link id="l02038" /><CodeLine lineNumber="2038"><span class="doxyHighlightComment">// CFGSort cannot mess up with BB sorting order.</span></CodeLine>
<Link id="l02039" /><CodeLine lineNumber="2039"><span class="doxyHighlightComment">// (All catchpads with &#39;catch (type)&#39; clauses have a &#39;llvm.rethrow&#39; intrinsic</span></CodeLine>
<Link id="l02040" /><CodeLine lineNumber="2040"><span class="doxyHighlightComment">// call within them, and catchpads only consisting of &#39;catch (...)&#39; have a</span></CodeLine>
<Link id="l02041" /><CodeLine lineNumber="2041"><span class="doxyHighlightComment">// &#39;&#95;&#95;cxa&#95;end&#95;catch&#39; call within them, both of which generate invokes in case</span></CodeLine>
<Link id="l02042" /><CodeLine lineNumber="2042"><span class="doxyHighlightComment">// the next unwind destination exists, i.e., the next unwind destination is not</span></CodeLine>
<Link id="l02043" /><CodeLine lineNumber="2043"><span class="doxyHighlightComment">// the caller.)</span></CodeLine>
<Link id="l02044" /><CodeLine lineNumber="2044"><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l02045" /><CodeLine lineNumber="2045"><span class="doxyHighlightComment">// Having at most one EH pad successor is also simpler and helps later</span></CodeLine>
<Link id="l02046" /><CodeLine lineNumber="2046"><span class="doxyHighlightComment">// transformations.</span></CodeLine>
<Link id="l02047" /><CodeLine lineNumber="2047"><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l02048" /><CodeLine lineNumber="2048"><span class="doxyHighlightComment">// For example,</span></CodeLine>
<Link id="l02049" /><CodeLine lineNumber="2049"><span class="doxyHighlightComment">// current:</span></CodeLine>
<Link id="l02050" /><CodeLine lineNumber="2050"><span class="doxyHighlightComment">//   invoke void @foo to ... unwind label %catch.dispatch</span></CodeLine>
<Link id="l02051" /><CodeLine lineNumber="2051"><span class="doxyHighlightComment">// catch.dispatch:</span></CodeLine>
<Link id="l02052" /><CodeLine lineNumber="2052"><span class="doxyHighlightComment">//   %0 = catchswitch within ... &#91;label %catch.start&#93; unwind label %next</span></CodeLine>
<Link id="l02053" /><CodeLine lineNumber="2053"><span class="doxyHighlightComment">// catch.start:</span></CodeLine>
<Link id="l02054" /><CodeLine lineNumber="2054"><span class="doxyHighlightComment">//   ...</span></CodeLine>
<Link id="l02055" /><CodeLine lineNumber="2055"><span class="doxyHighlightComment">//   ... in this BB or some other child BB dominated by this BB there will be an</span></CodeLine>
<Link id="l02056" /><CodeLine lineNumber="2056"><span class="doxyHighlightComment">//   invoke that points to &#39;next&#39; BB as an unwind destination</span></CodeLine>
<Link id="l02057" /><CodeLine lineNumber="2057"><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l02058" /><CodeLine lineNumber="2058"><span class="doxyHighlightComment">// next: ; We don&#39;t need to add this to &#39;current&#39; BB&#39;s successor</span></CodeLine>
<Link id="l02059" /><CodeLine lineNumber="2059"><span class="doxyHighlightComment">//   ...</span></CodeLine>
<Link id="l02060" /><CodeLine lineNumber="2060" lineLink="#ac48ad402cb64f4c6bd6bb7158013a7be"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="#ac48ad402cb64f4c6bd6bb7158013a7be">findWasmUnwindDestinations</a>(</span></CodeLine>
<Link id="l02061" /><CodeLine lineNumber="2061"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/functionloweringinfo">FunctionLoweringInfo</a> &amp;FuncInfo, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42;EHPadBB,</span></CodeLine>
<Link id="l02062" /><CodeLine lineNumber="2062"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/branchprobability">BranchProbability</a> Prob,</span></CodeLine>
<Link id="l02063" /><CodeLine lineNumber="2063"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt;std::pair&lt;MachineBasicBlock &#42;, BranchProbability&gt;&gt;</span></CodeLine>
<Link id="l02064" /><CodeLine lineNumber="2064"><span class="doxyHighlight">        &amp;UnwindDests) &#123;</span></CodeLine>
<Link id="l02065" /><CodeLine lineNumber="2065"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">while</span><span class="doxyHighlight"> (EHPadBB) &#123;</span></CodeLine>
<Link id="l02066" /><CodeLine lineNumber="2066"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/basicblock/#a42a7d51fdde6913db72d098356c2c019">BasicBlock::const&#95;iterator</a> Pad = EHPadBB-&gt;<a href="/docs/api/classes/llvm/basicblock/#a362b5e6097732cbc0d2fb555a1f73400">getFirstNonPHIIt</a>();</span></CodeLine>
<Link id="l02067" /><CodeLine lineNumber="2067"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;CleanupPadInst&gt;</a>(Pad)) &#123;</span></CodeLine>
<Link id="l02068" /><CodeLine lineNumber="2068"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Stop on cleanup pads.</span></CodeLine>
<Link id="l02069" /><CodeLine lineNumber="2069"><span class="doxyHighlight">      UnwindDests.emplace&#95;back(FuncInfo.getMBB(EHPadBB), Prob);</span></CodeLine>
<Link id="l02070" /><CodeLine lineNumber="2070"><span class="doxyHighlight">      UnwindDests.back().first-&gt;setIsEHScopeEntry();</span></CodeLine>
<Link id="l02071" /><CodeLine lineNumber="2071"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l02072" /><CodeLine lineNumber="2072"><span class="doxyHighlight">    &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;CatchSwitch = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;CatchSwitchInst&gt;</a>(Pad)) &#123;</span></CodeLine>
<Link id="l02073" /><CodeLine lineNumber="2073"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Add the catchpad handlers to the possible destinations. We don&#39;t</span></CodeLine>
<Link id="l02074" /><CodeLine lineNumber="2074"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// continue to the unwind destination of the catchswitch for wasm.</span></CodeLine>
<Link id="l02075" /><CodeLine lineNumber="2075"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42;CatchPadBB : CatchSwitch-&gt;handlers()) &#123;</span></CodeLine>
<Link id="l02076" /><CodeLine lineNumber="2076"><span class="doxyHighlight">        UnwindDests.emplace&#95;back(FuncInfo.getMBB(CatchPadBB), Prob);</span></CodeLine>
<Link id="l02077" /><CodeLine lineNumber="2077"><span class="doxyHighlight">        UnwindDests.back().first-&gt;setIsEHScopeEntry();</span></CodeLine>
<Link id="l02078" /><CodeLine lineNumber="2078"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l02079" /><CodeLine lineNumber="2079"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l02080" /><CodeLine lineNumber="2080"><span class="doxyHighlight">    &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l02081" /><CodeLine lineNumber="2081"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">continue</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l02082" /><CodeLine lineNumber="2082"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l02083" /><CodeLine lineNumber="2083"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l02084" /><CodeLine lineNumber="2084"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l02085" /><CodeLine lineNumber="2085"></CodeLine>
<Link id="l02086" /><CodeLine lineNumber="2086"><span class="doxyHighlightComment">/// When an invoke or a cleanupret unwinds to the next EH pad, there are</span></CodeLine>
<Link id="l02087" /><CodeLine lineNumber="2087"><span class="doxyHighlightComment">/// many places it could ultimately go. In the IR, we have a single unwind</span></CodeLine>
<Link id="l02088" /><CodeLine lineNumber="2088"><span class="doxyHighlightComment">/// destination, but in the machine CFG, we enumerate all the possible blocks.</span></CodeLine>
<Link id="l02089" /><CodeLine lineNumber="2089"><span class="doxyHighlightComment">/// This function skips over imaginary basic blocks that hold catchswitch</span></CodeLine>
<Link id="l02090" /><CodeLine lineNumber="2090"><span class="doxyHighlightComment">/// instructions, and finds all the &quot;real&quot; machine</span></CodeLine>
<Link id="l02091" /><CodeLine lineNumber="2091"><span class="doxyHighlightComment">/// basic block destinations. As those destinations may not be successors of</span></CodeLine>
<Link id="l02092" /><CodeLine lineNumber="2092"><span class="doxyHighlightComment">/// EHPadBB, here we also calculate the edge probability to those destinations.</span></CodeLine>
<Link id="l02093" /><CodeLine lineNumber="2093"><span class="doxyHighlightComment">/// The passed-in Prob is the edge probability to EHPadBB.</span></CodeLine>
<Link id="l02094" /><CodeLine lineNumber="2094" lineLink="#a6289e8af46c9783382b346baa020087c"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="#a6289e8af46c9783382b346baa020087c">findUnwindDestinations</a>(</span></CodeLine>
<Link id="l02095" /><CodeLine lineNumber="2095"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/functionloweringinfo">FunctionLoweringInfo</a> &amp;FuncInfo, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42;EHPadBB,</span></CodeLine>
<Link id="l02096" /><CodeLine lineNumber="2096"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/branchprobability">BranchProbability</a> Prob,</span></CodeLine>
<Link id="l02097" /><CodeLine lineNumber="2097"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt;std::pair&lt;MachineBasicBlock &#42;, BranchProbability&gt;&gt;</span></CodeLine>
<Link id="l02098" /><CodeLine lineNumber="2098"><span class="doxyHighlight">        &amp;UnwindDests) &#123;</span></CodeLine>
<Link id="l02099" /><CodeLine lineNumber="2099"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#a5d56157a385f8cd7d3e54ed87da1ba6a">EHPersonality</a> Personality =</span></CodeLine>
<Link id="l02100" /><CodeLine lineNumber="2100"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/#a8d508f23e2580095561902c39911fb9b">classifyEHPersonality</a>(FuncInfo.Fn-&gt;getPersonalityFn());</span></CodeLine>
<Link id="l02101" /><CodeLine lineNumber="2101"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> IsMSVCCXX = Personality == <a href="/docs/api/namespaces/llvm/#a5d56157a385f8cd7d3e54ed87da1ba6aab34bedfd8d86f0adbefe4ae0e708f428">EHPersonality::MSVC&#95;CXX</a>;</span></CodeLine>
<Link id="l02102" /><CodeLine lineNumber="2102"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> IsCoreCLR = Personality == <a href="/docs/api/namespaces/llvm/#a5d56157a385f8cd7d3e54ed87da1ba6aa05b0e25c98ba4300ca28989a35dab72a">EHPersonality::CoreCLR</a>;</span></CodeLine>
<Link id="l02103" /><CodeLine lineNumber="2103"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> IsWasmCXX = Personality == <a href="/docs/api/namespaces/llvm/#a5d56157a385f8cd7d3e54ed87da1ba6aa7939c43653700c52daa7a68a575c3ec5">EHPersonality::Wasm&#95;CXX</a>;</span></CodeLine>
<Link id="l02104" /><CodeLine lineNumber="2104"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> IsSEH = <a href="/docs/api/namespaces/llvm/#ab9c9fb92464f96c0e0f326d624e82eab">isAsynchronousEHPersonality</a>(Personality);</span></CodeLine>
<Link id="l02105" /><CodeLine lineNumber="2105"></CodeLine>
<Link id="l02106" /><CodeLine lineNumber="2106"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (IsWasmCXX) &#123;</span></CodeLine>
<Link id="l02107" /><CodeLine lineNumber="2107"><span class="doxyHighlight">    <a href="#ac48ad402cb64f4c6bd6bb7158013a7be">findWasmUnwindDestinations</a>(FuncInfo, EHPadBB, Prob, UnwindDests);</span></CodeLine>
<Link id="l02108" /><CodeLine lineNumber="2108"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(UnwindDests.size() &lt;= 1 &amp;&amp;</span></CodeLine>
<Link id="l02109" /><CodeLine lineNumber="2109"><span class="doxyHighlight">           </span><span class="doxyHighlightStringLiteral">&quot;There should be at most one unwind destination for wasm&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l02110" /><CodeLine lineNumber="2110"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l02111" /><CodeLine lineNumber="2111"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l02112" /><CodeLine lineNumber="2112"></CodeLine>
<Link id="l02113" /><CodeLine lineNumber="2113"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">while</span><span class="doxyHighlight"> (EHPadBB) &#123;</span></CodeLine>
<Link id="l02114" /><CodeLine lineNumber="2114"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/basicblock/#a42a7d51fdde6913db72d098356c2c019">BasicBlock::const&#95;iterator</a> Pad = EHPadBB-&gt;<a href="/docs/api/classes/llvm/basicblock/#a362b5e6097732cbc0d2fb555a1f73400">getFirstNonPHIIt</a>();</span></CodeLine>
<Link id="l02115" /><CodeLine lineNumber="2115"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42;NewEHPadBB = </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l02116" /><CodeLine lineNumber="2116"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;LandingPadInst&gt;</a>(Pad)) &#123;</span></CodeLine>
<Link id="l02117" /><CodeLine lineNumber="2117"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Stop on landingpads. They are not funclets.</span></CodeLine>
<Link id="l02118" /><CodeLine lineNumber="2118"><span class="doxyHighlight">      UnwindDests.emplace&#95;back(FuncInfo.getMBB(EHPadBB), Prob);</span></CodeLine>
<Link id="l02119" /><CodeLine lineNumber="2119"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l02120" /><CodeLine lineNumber="2120"><span class="doxyHighlight">    &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;CleanupPadInst&gt;</a>(Pad)) &#123;</span></CodeLine>
<Link id="l02121" /><CodeLine lineNumber="2121"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Stop on cleanup pads. Cleanups are always funclet entries for all known</span></CodeLine>
<Link id="l02122" /><CodeLine lineNumber="2122"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// personalities.</span></CodeLine>
<Link id="l02123" /><CodeLine lineNumber="2123"><span class="doxyHighlight">      UnwindDests.emplace&#95;back(FuncInfo.getMBB(EHPadBB), Prob);</span></CodeLine>
<Link id="l02124" /><CodeLine lineNumber="2124"><span class="doxyHighlight">      UnwindDests.back().first-&gt;setIsEHScopeEntry();</span></CodeLine>
<Link id="l02125" /><CodeLine lineNumber="2125"><span class="doxyHighlight">      UnwindDests.back().first-&gt;setIsEHFuncletEntry();</span></CodeLine>
<Link id="l02126" /><CodeLine lineNumber="2126"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l02127" /><CodeLine lineNumber="2127"><span class="doxyHighlight">    &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;CatchSwitch = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;CatchSwitchInst&gt;</a>(Pad)) &#123;</span></CodeLine>
<Link id="l02128" /><CodeLine lineNumber="2128"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Add the catchpad handlers to the possible destinations.</span></CodeLine>
<Link id="l02129" /><CodeLine lineNumber="2129"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42;CatchPadBB : CatchSwitch-&gt;handlers()) &#123;</span></CodeLine>
<Link id="l02130" /><CodeLine lineNumber="2130"><span class="doxyHighlight">        UnwindDests.emplace&#95;back(FuncInfo.getMBB(CatchPadBB), Prob);</span></CodeLine>
<Link id="l02131" /><CodeLine lineNumber="2131"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// For MSVC++ and the CLR, catchblocks are funclets and need prologues.</span></CodeLine>
<Link id="l02132" /><CodeLine lineNumber="2132"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (IsMSVCCXX || IsCoreCLR)</span></CodeLine>
<Link id="l02133" /><CodeLine lineNumber="2133"><span class="doxyHighlight">          UnwindDests.back().first-&gt;setIsEHFuncletEntry();</span></CodeLine>
<Link id="l02134" /><CodeLine lineNumber="2134"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!IsSEH)</span></CodeLine>
<Link id="l02135" /><CodeLine lineNumber="2135"><span class="doxyHighlight">          UnwindDests.back().first-&gt;setIsEHScopeEntry();</span></CodeLine>
<Link id="l02136" /><CodeLine lineNumber="2136"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l02137" /><CodeLine lineNumber="2137"><span class="doxyHighlight">      NewEHPadBB = CatchSwitch-&gt;getUnwindDest();</span></CodeLine>
<Link id="l02138" /><CodeLine lineNumber="2138"><span class="doxyHighlight">    &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l02139" /><CodeLine lineNumber="2139"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">continue</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l02140" /><CodeLine lineNumber="2140"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l02141" /><CodeLine lineNumber="2141"></CodeLine>
<Link id="l02142" /><CodeLine lineNumber="2142"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/branchprobabilityinfo">BranchProbabilityInfo</a> &#42;BPI = FuncInfo.BPI;</span></CodeLine>
<Link id="l02143" /><CodeLine lineNumber="2143"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (BPI &amp;&amp; NewEHPadBB)</span></CodeLine>
<Link id="l02144" /><CodeLine lineNumber="2144"><span class="doxyHighlight">      Prob &#42;= BPI-&gt;<a href="/docs/api/classes/llvm/branchprobabilityinfo/#a46502d648608aa13cb485ed4af447d88">getEdgeProbability</a>(EHPadBB, NewEHPadBB);</span></CodeLine>
<Link id="l02145" /><CodeLine lineNumber="2145"><span class="doxyHighlight">    EHPadBB = NewEHPadBB;</span></CodeLine>
<Link id="l02146" /><CodeLine lineNumber="2146"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l02147" /><CodeLine lineNumber="2147"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l02148" /><CodeLine lineNumber="2148"></CodeLine>
<Link id="l02149" /><CodeLine lineNumber="2149"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitCleanupRet(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/cleanupreturninst">CleanupReturnInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l02150" /><CodeLine lineNumber="2150"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Update successor info.</span></CodeLine>
<Link id="l02151" /><CodeLine lineNumber="2151"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;std::pair&lt;MachineBasicBlock &#42;, BranchProbability&gt;</a>, 1&gt; UnwindDests;</span></CodeLine>
<Link id="l02152" /><CodeLine lineNumber="2152"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> UnwindDest = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getUnwindDest();</span></CodeLine>
<Link id="l02153" /><CodeLine lineNumber="2153"><span class="doxyHighlight">  BranchProbabilityInfo &#42;BPI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.BPI;</span></CodeLine>
<Link id="l02154" /><CodeLine lineNumber="2154"><span class="doxyHighlight">  BranchProbability UnwindDestProb =</span></CodeLine>
<Link id="l02155" /><CodeLine lineNumber="2155"><span class="doxyHighlight">      (BPI &amp;&amp; UnwindDest)</span></CodeLine>
<Link id="l02156" /><CodeLine lineNumber="2156"><span class="doxyHighlight">          ? BPI-&gt;<a href="/docs/api/classes/llvm/branchprobabilityinfo/#a46502d648608aa13cb485ed4af447d88">getEdgeProbability</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.MBB-&gt;getBasicBlock(), UnwindDest)</span></CodeLine>
<Link id="l02157" /><CodeLine lineNumber="2157"><span class="doxyHighlight">          : <a href="/docs/api/classes/llvm/branchprobability/#afd00958cba7080048a84cccfcef55d71">BranchProbability::getZero</a>();</span></CodeLine>
<Link id="l02158" /><CodeLine lineNumber="2158"><span class="doxyHighlight">  <a href="#a6289e8af46c9783382b346baa020087c">findUnwindDestinations</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>, UnwindDest, UnwindDestProb, UnwindDests);</span></CodeLine>
<Link id="l02159" /><CodeLine lineNumber="2159"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;UnwindDest : UnwindDests) &#123;</span></CodeLine>
<Link id="l02160" /><CodeLine lineNumber="2160"><span class="doxyHighlight">    UnwindDest.first-&gt;setIsEHPad();</span></CodeLine>
<Link id="l02161" /><CodeLine lineNumber="2161"><span class="doxyHighlight">    addSuccessorWithProb(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.MBB, UnwindDest.first, UnwindDest.second);</span></CodeLine>
<Link id="l02162" /><CodeLine lineNumber="2162"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l02163" /><CodeLine lineNumber="2163"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.MBB-&gt;normalizeSuccProbs();</span></CodeLine>
<Link id="l02164" /><CodeLine lineNumber="2164"></CodeLine>
<Link id="l02165" /><CodeLine lineNumber="2165"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Create the terminator node.</span></CodeLine>
<Link id="l02166" /><CodeLine lineNumber="2166"><span class="doxyHighlight">  MachineBasicBlock &#42;CleanupPadMBB =</span></CodeLine>
<Link id="l02167" /><CodeLine lineNumber="2167"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.getMBB(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getCleanupPad()-&gt;getParent());</span></CodeLine>
<Link id="l02168" /><CodeLine lineNumber="2168"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/mipsisd/#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">Ret</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::CLEANUPRET, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), MVT::Other,</span></CodeLine>
<Link id="l02169" /><CodeLine lineNumber="2169"><span class="doxyHighlight">                            <a href="/docs/api/classes/llvm/selectiondagbuilder/#aef34360e8bb4bdecf3fd6345ff504f81">getControlRoot</a>(), <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getBasicBlock(CleanupPadMBB));</span></CodeLine>
<Link id="l02170" /><CodeLine lineNumber="2170"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(Ret);</span></CodeLine>
<Link id="l02171" /><CodeLine lineNumber="2171"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l02172" /><CodeLine lineNumber="2172"></CodeLine>
<Link id="l02173" /><CodeLine lineNumber="2173"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitCatchSwitch(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/catchswitchinst">CatchSwitchInst</a> &amp;CSI) &#123;</span></CodeLine>
<Link id="l02174" /><CodeLine lineNumber="2174"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#a7f2a3d4dcfee70225988aec53ff1e173">report&#95;fatal&#95;error</a>(</span><span class="doxyHighlightStringLiteral">&quot;visitCatchSwitch not yet implemented!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l02175" /><CodeLine lineNumber="2175"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l02176" /><CodeLine lineNumber="2176"></CodeLine>
<Link id="l02177" /><CodeLine lineNumber="2177"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitRet(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/returninst">ReturnInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l02178" /><CodeLine lineNumber="2178"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> TargetLowering &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l02179" /><CodeLine lineNumber="2179"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout();</span></CodeLine>
<Link id="l02180" /><CodeLine lineNumber="2180"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/anonymous-loadstorevectorizer-cpp-/#afd1adfcbfce320e6265935ce4d6299a3">Chain</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#aef34360e8bb4bdecf3fd6345ff504f81">getControlRoot</a>();</span></CodeLine>
<Link id="l02181" /><CodeLine lineNumber="2181"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;ISD::OutputArg, 8&gt;</a> Outs;</span></CodeLine>
<Link id="l02182" /><CodeLine lineNumber="2182"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;SDValue, 8&gt;</a> OutVals;</span></CodeLine>
<Link id="l02183" /><CodeLine lineNumber="2183"></CodeLine>
<Link id="l02184" /><CodeLine lineNumber="2184"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Calls to @llvm.experimental.deoptimize don&#39;t generate a return value, so</span></CodeLine>
<Link id="l02185" /><CodeLine lineNumber="2185"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// lower</span></CodeLine>
<Link id="l02186" /><CodeLine lineNumber="2186"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l02187" /><CodeLine lineNumber="2187"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">//   %val = call &lt;ty&gt; @llvm.experimental.deoptimize()</span></CodeLine>
<Link id="l02188" /><CodeLine lineNumber="2188"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">//   ret &lt;ty&gt; %val</span></CodeLine>
<Link id="l02189" /><CodeLine lineNumber="2189"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l02190" /><CodeLine lineNumber="2190"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// differently.</span></CodeLine>
<Link id="l02191" /><CodeLine lineNumber="2191"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getParent()-&gt;getTerminatingDeoptimizeCall()) &#123;</span></CodeLine>
<Link id="l02192" /><CodeLine lineNumber="2192"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#acf29bbf079b2610d2c8481212261fc49">LowerDeoptimizingReturn</a>();</span></CodeLine>
<Link id="l02193" /><CodeLine lineNumber="2193"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l02194" /><CodeLine lineNumber="2194"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l02195" /><CodeLine lineNumber="2195"></CodeLine>
<Link id="l02196" /><CodeLine lineNumber="2196"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.CanLowerReturn) &#123;</span></CodeLine>
<Link id="l02197" /><CodeLine lineNumber="2197"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/mem2reg-cpp/#a6fde3eb6ca09ddf2fd76432176d817bb">Register</a> DemoteReg = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.DemoteRegister;</span></CodeLine>
<Link id="l02198" /><CodeLine lineNumber="2198"></CodeLine>
<Link id="l02199" /><CodeLine lineNumber="2199"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Emit a store of the return value through the virtual register.</span></CodeLine>
<Link id="l02200" /><CodeLine lineNumber="2200"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Leave Outs empty so that LowerReturn won&#39;t try to load return</span></CodeLine>
<Link id="l02201" /><CodeLine lineNumber="2201"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// registers the usual way.</span></CodeLine>
<Link id="l02202" /><CodeLine lineNumber="2202"><span class="doxyHighlight">    MVT PtrValueVT = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getAllocaAddrSpace());</span></CodeLine>
<Link id="l02203" /><CodeLine lineNumber="2203"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> RetPtr =</span></CodeLine>
<Link id="l02204" /><CodeLine lineNumber="2204"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getCopyFromReg(Chain, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), DemoteReg, PtrValueVT);</span></CodeLine>
<Link id="l02205" /><CodeLine lineNumber="2205"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> RetOp = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0));</span></CodeLine>
<Link id="l02206" /><CodeLine lineNumber="2206"></CodeLine>
<Link id="l02207" /><CodeLine lineNumber="2207"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;EVT, 4&gt;</a> ValueVTs, MemVTs;</span></CodeLine>
<Link id="l02208" /><CodeLine lineNumber="2208"><span class="doxyHighlight">    SmallVector&lt;uint64&#95;t, 4&gt; <a href="/docs/api/namespaces/llvm/si/kernelinputoffsets/#a58b4eae4b0a45d478c7c0f3959b04612">Offsets</a>;</span></CodeLine>
<Link id="l02209" /><CodeLine lineNumber="2209"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/#ab99618b3d8988b758a67f5a1a6071095">ComputeValueVTs</a>(TLI, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0)-&gt;getType(), ValueVTs, &amp;MemVTs,</span></CodeLine>
<Link id="l02210" /><CodeLine lineNumber="2210"><span class="doxyHighlight">                    &amp;Offsets, 0);</span></CodeLine>
<Link id="l02211" /><CodeLine lineNumber="2211"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumValues = ValueVTs.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#a1c479a8c434377c2b8cb056bdfdfc201">size</a>();</span></CodeLine>
<Link id="l02212" /><CodeLine lineNumber="2212"></CodeLine>
<Link id="l02213" /><CodeLine lineNumber="2213"><span class="doxyHighlight">    SmallVector&lt;SDValue, 4&gt; Chains(NumValues);</span></CodeLine>
<Link id="l02214" /><CodeLine lineNumber="2214"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/arg/key/#a6b334a5f83504ebc99cc59f4f333ff98">Align</a> BaseAlign = <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getPrefTypeAlign(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0)-&gt;getType());</span></CodeLine>
<Link id="l02215" /><CodeLine lineNumber="2215"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> i = 0; i != NumValues; ++i) &#123;</span></CodeLine>
<Link id="l02216" /><CodeLine lineNumber="2216"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// An aggregate return value cannot wrap around the address space, so</span></CodeLine>
<Link id="l02217" /><CodeLine lineNumber="2217"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// offsets to its parts don&#39;t wrap either.</span></CodeLine>
<Link id="l02218" /><CodeLine lineNumber="2218"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getObjectPtrOffset(<a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), RetPtr,</span></CodeLine>
<Link id="l02219" /><CodeLine lineNumber="2219"><span class="doxyHighlight">                                           <a href="/docs/api/classes/llvm/typesize/#a003b4369b4130e669dc9139798e0193c">TypeSize::getFixed</a>(Offsets&#91;i&#93;));</span></CodeLine>
<Link id="l02220" /><CodeLine lineNumber="2220"></CodeLine>
<Link id="l02221" /><CodeLine lineNumber="2221"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Val = RetOp.<a href="/docs/api/classes/llvm/sdvalue/#a64932427432abeb61241e98bea167580">getValue</a>(RetOp.<a href="/docs/api/classes/llvm/sdvalue/#ac476ca9c302b9ba8d47ea7b02f6149f5">getResNo</a>() + i);</span></CodeLine>
<Link id="l02222" /><CodeLine lineNumber="2222"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (MemVTs&#91;i&#93; != ValueVTs&#91;i&#93;)</span></CodeLine>
<Link id="l02223" /><CodeLine lineNumber="2223"><span class="doxyHighlight">        Val = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getPtrExtOrTrunc(Val, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), MemVTs&#91;i&#93;);</span></CodeLine>
<Link id="l02224" /><CodeLine lineNumber="2224"><span class="doxyHighlight">      Chains&#91;i&#93; = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getStore(</span></CodeLine>
<Link id="l02225" /><CodeLine lineNumber="2225"><span class="doxyHighlight">          Chain, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), Val,</span></CodeLine>
<Link id="l02226" /><CodeLine lineNumber="2226"><span class="doxyHighlight">          </span><span class="doxyHighlightComment">// FIXME: better loc info would be nice.</span></CodeLine>
<Link id="l02227" /><CodeLine lineNumber="2227"><span class="doxyHighlight">          <a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, <a href="/docs/api/structs/llvm/machinepointerinfo/#aa5f0f4a7de5def1c9d9f6a750a9b1aa1">MachinePointerInfo::getUnknownStack</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMachineFunction()),</span></CodeLine>
<Link id="l02228" /><CodeLine lineNumber="2228"><span class="doxyHighlight">          <a href="/docs/api/namespaces/llvm/#acd6aa057934751aaac54e5c18bcc18eb">commonAlignment</a>(BaseAlign, Offsets&#91;i&#93;));</span></CodeLine>
<Link id="l02229" /><CodeLine lineNumber="2229"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l02230" /><CodeLine lineNumber="2230"></CodeLine>
<Link id="l02231" /><CodeLine lineNumber="2231"><span class="doxyHighlight">    <a href="/docs/api/namespaces/anonymous-loadstorevectorizer-cpp-/#afd1adfcbfce320e6265935ce4d6299a3">Chain</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110ad469508535ce2082a1ab1f0e429187b8">ISD::TokenFactor</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(),</span></CodeLine>
<Link id="l02232" /><CodeLine lineNumber="2232"><span class="doxyHighlight">                        MVT::Other, Chains);</span></CodeLine>
<Link id="l02233" /><CodeLine lineNumber="2233"><span class="doxyHighlight">  &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getNumOperands() != 0) &#123;</span></CodeLine>
<Link id="l02234" /><CodeLine lineNumber="2234"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;EVT, 4&gt;</a> ValueVTs;</span></CodeLine>
<Link id="l02235" /><CodeLine lineNumber="2235"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/#ab99618b3d8988b758a67f5a1a6071095">ComputeValueVTs</a>(TLI, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0)-&gt;getType(), ValueVTs);</span></CodeLine>
<Link id="l02236" /><CodeLine lineNumber="2236"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumValues = ValueVTs.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#a1c479a8c434377c2b8cb056bdfdfc201">size</a>();</span></CodeLine>
<Link id="l02237" /><CodeLine lineNumber="2237"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (NumValues) &#123;</span></CodeLine>
<Link id="l02238" /><CodeLine lineNumber="2238"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> RetOp = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0));</span></CodeLine>
<Link id="l02239" /><CodeLine lineNumber="2239"></CodeLine>
<Link id="l02240" /><CodeLine lineNumber="2240"><span class="doxyHighlight">      </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/codeview/#adfebd8c4ae29ccd84c600c1e65d6b807a86408593c34af77fdd90df932f8b5261">Function</a> &#42;<a href="/docs/api/files/lib/lib/support/md5-cpp/#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getParent()-&gt;getParent();</span></CodeLine>
<Link id="l02241" /><CodeLine lineNumber="2241"></CodeLine>
<Link id="l02242" /><CodeLine lineNumber="2242"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> NeedsRegBlock = TLI.<a href="/docs/api/classes/llvm/targetlowering/#ac9df75d2d0cb54ed147aaf46cd2b1e84">functionArgumentNeedsConsecutiveRegisters</a>(</span></CodeLine>
<Link id="l02243" /><CodeLine lineNumber="2243"><span class="doxyHighlight">          <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0)-&gt;getType(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getCallingConv(),</span></CodeLine>
<Link id="l02244" /><CodeLine lineNumber="2244"><span class="doxyHighlight">          </span><span class="doxyHighlightComment">/&#42;IsVarArg&#42;/</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>);</span></CodeLine>
<Link id="l02245" /><CodeLine lineNumber="2245"></CodeLine>
<Link id="l02246" /><CodeLine lineNumber="2246"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110">ISD::NodeType</a> ExtendKind = <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a27d5d8ef82302b739ba3ca8be1a5513d">ISD::ANY&#95;EXTEND</a>;</span></CodeLine>
<Link id="l02247" /><CodeLine lineNumber="2247"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/support/md5-cpp/#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getAttributes().hasRetAttr(Attribute::SExt))</span></CodeLine>
<Link id="l02248" /><CodeLine lineNumber="2248"><span class="doxyHighlight">        ExtendKind = <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a5183f3d72924bc7c77ba8d3f5de9f602">ISD::SIGN&#95;EXTEND</a>;</span></CodeLine>
<Link id="l02249" /><CodeLine lineNumber="2249"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/support/md5-cpp/#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getAttributes().hasRetAttr(Attribute::ZExt))</span></CodeLine>
<Link id="l02250" /><CodeLine lineNumber="2250"><span class="doxyHighlight">        ExtendKind = <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">ISD::ZERO&#95;EXTEND</a>;</span></CodeLine>
<Link id="l02251" /><CodeLine lineNumber="2251"></CodeLine>
<Link id="l02252" /><CodeLine lineNumber="2252"><span class="doxyHighlight">      LLVMContext &amp;<a href="/docs/api/classes/llvm/selectiondagbuilder/#ac536e4b59b1e85317cea0b32d47752ef">Context</a> = <a href="/docs/api/files/lib/lib/support/md5-cpp/#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getContext();</span></CodeLine>
<Link id="l02253" /><CodeLine lineNumber="2253"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> RetInReg = <a href="/docs/api/files/lib/lib/support/md5-cpp/#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getAttributes().hasRetAttr(Attribute::InReg);</span></CodeLine>
<Link id="l02254" /><CodeLine lineNumber="2254"></CodeLine>
<Link id="l02255" /><CodeLine lineNumber="2255"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> j = 0; <a href="/docs/api/namespaces/llvm/m68k/#ab3a288f2953d8eca3e363959fc2cf38ea363b122c528f54df4a0446b6bab05515">j</a> != NumValues; ++<a href="/docs/api/namespaces/llvm/m68k/#ab3a288f2953d8eca3e363959fc2cf38ea363b122c528f54df4a0446b6bab05515">j</a>) &#123;</span></CodeLine>
<Link id="l02256" /><CodeLine lineNumber="2256"><span class="doxyHighlight">        EVT VT = ValueVTs&#91;<a href="/docs/api/namespaces/llvm/m68k/#ab3a288f2953d8eca3e363959fc2cf38ea363b122c528f54df4a0446b6bab05515">j</a>&#93;;</span></CodeLine>
<Link id="l02257" /><CodeLine lineNumber="2257"></CodeLine>
<Link id="l02258" /><CodeLine lineNumber="2258"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (ExtendKind != <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a27d5d8ef82302b739ba3ca8be1a5513d">ISD::ANY&#95;EXTEND</a> &amp;&amp; VT.<a href="/docs/api/structs/llvm/evt/#af975bf04c49cc895cfe38e7dc126a2f1">isInteger</a>())</span></CodeLine>
<Link id="l02259" /><CodeLine lineNumber="2259"><span class="doxyHighlight">          VT = TLI.<a href="/docs/api/classes/llvm/targetlowering/#a2b10a312e4ab7eb05f1b88f6e5eb8e56">getTypeForExtReturn</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ac536e4b59b1e85317cea0b32d47752ef">Context</a>, VT, ExtendKind);</span></CodeLine>
<Link id="l02260" /><CodeLine lineNumber="2260"></CodeLine>
<Link id="l02261" /><CodeLine lineNumber="2261"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/callingconv/#abdf8cf606905c10634e831390981b0ed">CallingConv::ID</a> <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a77c69067ae8279bc00ab8757731e90d7">CC</a> = <a href="/docs/api/files/lib/lib/support/md5-cpp/#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getCallingConv();</span></CodeLine>
<Link id="l02262" /><CodeLine lineNumber="2262"></CodeLine>
<Link id="l02263" /><CodeLine lineNumber="2263"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumParts = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a315b23c0819f55fa9e7473c21992fc12">getNumRegistersForCallingConv</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ac536e4b59b1e85317cea0b32d47752ef">Context</a>, <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a77c69067ae8279bc00ab8757731e90d7">CC</a>, VT);</span></CodeLine>
<Link id="l02264" /><CodeLine lineNumber="2264"><span class="doxyHighlight">        MVT PartVT = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a347d293012b5070f6833926f3d2e50d7">getRegisterTypeForCallingConv</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ac536e4b59b1e85317cea0b32d47752ef">Context</a>, <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a77c69067ae8279bc00ab8757731e90d7">CC</a>, VT);</span></CodeLine>
<Link id="l02265" /><CodeLine lineNumber="2265"><span class="doxyHighlight">        SmallVector&lt;SDValue, 4&gt; Parts(NumParts);</span></CodeLine>
<Link id="l02266" /><CodeLine lineNumber="2266"><span class="doxyHighlight">        <a href="#a8910923e28ba24c5abedb60c66c86cc5">getCopyToParts</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(),</span></CodeLine>
<Link id="l02267" /><CodeLine lineNumber="2267"><span class="doxyHighlight">                       <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a>(RetOp.<a href="/docs/api/classes/llvm/sdvalue/#a2b08aa629a6326d1a0444ee6d477c39d">getNode</a>(), RetOp.<a href="/docs/api/classes/llvm/sdvalue/#ac476ca9c302b9ba8d47ea7b02f6149f5">getResNo</a>() + j),</span></CodeLine>
<Link id="l02268" /><CodeLine lineNumber="2268"><span class="doxyHighlight">                       &amp;Parts&#91;0&#93;, NumParts, PartVT, &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a77c69067ae8279bc00ab8757731e90d7">CC</a>, ExtendKind);</span></CodeLine>
<Link id="l02269" /><CodeLine lineNumber="2269"></CodeLine>
<Link id="l02270" /><CodeLine lineNumber="2270"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// &#39;inreg&#39; on function refers to return value</span></CodeLine>
<Link id="l02271" /><CodeLine lineNumber="2271"><span class="doxyHighlight">        ISD::ArgFlagsTy <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a> = ISD::ArgFlagsTy();</span></CodeLine>
<Link id="l02272" /><CodeLine lineNumber="2272"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (RetInReg)</span></CodeLine>
<Link id="l02273" /><CodeLine lineNumber="2273"><span class="doxyHighlight">          <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setInReg();</span></CodeLine>
<Link id="l02274" /><CodeLine lineNumber="2274"></CodeLine>
<Link id="l02275" /><CodeLine lineNumber="2275"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0)-&gt;getType()-&gt;isPointerTy()) &#123;</span></CodeLine>
<Link id="l02276" /><CodeLine lineNumber="2276"><span class="doxyHighlight">          <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setPointer();</span></CodeLine>
<Link id="l02277" /><CodeLine lineNumber="2277"><span class="doxyHighlight">          <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setPointerAddrSpace(</span></CodeLine>
<Link id="l02278" /><CodeLine lineNumber="2278"><span class="doxyHighlight">              <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;PointerType&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0)-&gt;getType())-&gt;getAddressSpace());</span></CodeLine>
<Link id="l02279" /><CodeLine lineNumber="2279"><span class="doxyHighlight">        &#125;</span></CodeLine>
<Link id="l02280" /><CodeLine lineNumber="2280"></CodeLine>
<Link id="l02281" /><CodeLine lineNumber="2281"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (NeedsRegBlock) &#123;</span></CodeLine>
<Link id="l02282" /><CodeLine lineNumber="2282"><span class="doxyHighlight">          <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setInConsecutiveRegs();</span></CodeLine>
<Link id="l02283" /><CodeLine lineNumber="2283"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (j == NumValues - 1)</span></CodeLine>
<Link id="l02284" /><CodeLine lineNumber="2284"><span class="doxyHighlight">            <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setInConsecutiveRegsLast();</span></CodeLine>
<Link id="l02285" /><CodeLine lineNumber="2285"><span class="doxyHighlight">        &#125;</span></CodeLine>
<Link id="l02286" /><CodeLine lineNumber="2286"></CodeLine>
<Link id="l02287" /><CodeLine lineNumber="2287"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// Propagate extension type if any</span></CodeLine>
<Link id="l02288" /><CodeLine lineNumber="2288"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (ExtendKind == <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a5183f3d72924bc7c77ba8d3f5de9f602">ISD::SIGN&#95;EXTEND</a>)</span></CodeLine>
<Link id="l02289" /><CodeLine lineNumber="2289"><span class="doxyHighlight">          <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setSExt();</span></CodeLine>
<Link id="l02290" /><CodeLine lineNumber="2290"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (ExtendKind == <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">ISD::ZERO&#95;EXTEND</a>)</span></CodeLine>
<Link id="l02291" /><CodeLine lineNumber="2291"><span class="doxyHighlight">          <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setZExt();</span></CodeLine>
<Link id="l02292" /><CodeLine lineNumber="2292"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/support/md5-cpp/#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getAttributes().hasRetAttr(Attribute::NoExt))</span></CodeLine>
<Link id="l02293" /><CodeLine lineNumber="2293"><span class="doxyHighlight">          <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setNoExt();</span></CodeLine>
<Link id="l02294" /><CodeLine lineNumber="2294"></CodeLine>
<Link id="l02295" /><CodeLine lineNumber="2295"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> i = 0; i &lt; NumParts; ++i) &#123;</span></CodeLine>
<Link id="l02296" /><CodeLine lineNumber="2296"><span class="doxyHighlight">          Outs.<a href="/docs/api/classes/llvm/smallvectortemplatebase/#af42bfbc067df27c19ee2fc859df58799">push&#95;back</a>(ISD::OutputArg(Flags,</span></CodeLine>
<Link id="l02297" /><CodeLine lineNumber="2297"><span class="doxyHighlight">                                        Parts&#91;i&#93;.<a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp/#a9df55d50aee24118cfdc34ecb32db484">getValueType</a>().<a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagisel-cpp/#a4ee68bef4d94f4873f75267990914ac6">getSimpleVT</a>(),</span></CodeLine>
<Link id="l02298" /><CodeLine lineNumber="2298"><span class="doxyHighlight">                                        VT, </span><span class="doxyHighlightComment">/&#42;isfixed=&#42;/</span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">, 0, 0));</span></CodeLine>
<Link id="l02299" /><CodeLine lineNumber="2299"><span class="doxyHighlight">          OutVals.<a href="/docs/api/classes/llvm/smallvectortemplatebase/#af42bfbc067df27c19ee2fc859df58799">push&#95;back</a>(Parts&#91;i&#93;);</span></CodeLine>
<Link id="l02300" /><CodeLine lineNumber="2300"><span class="doxyHighlight">        &#125;</span></CodeLine>
<Link id="l02301" /><CodeLine lineNumber="2301"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l02302" /><CodeLine lineNumber="2302"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l02303" /><CodeLine lineNumber="2303"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l02304" /><CodeLine lineNumber="2304"></CodeLine>
<Link id="l02305" /><CodeLine lineNumber="2305"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Push in swifterror virtual register as the last element of Outs. This makes</span></CodeLine>
<Link id="l02306" /><CodeLine lineNumber="2306"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// sure swifterror virtual register will be returned in the swifterror</span></CodeLine>
<Link id="l02307" /><CodeLine lineNumber="2307"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// physical register.</span></CodeLine>
<Link id="l02308" /><CodeLine lineNumber="2308"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/codeview/#adfebd8c4ae29ccd84c600c1e65d6b807a86408593c34af77fdd90df932f8b5261">Function</a> &#42;<a href="/docs/api/files/lib/lib/support/md5-cpp/#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getParent()-&gt;getParent();</span></CodeLine>
<Link id="l02309" /><CodeLine lineNumber="2309"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (TLI.<a href="/docs/api/classes/llvm/targetlowering/#a17694ad399c24aae0d2c0ecfbecfea5a">supportSwiftError</a>() &amp;&amp;</span></CodeLine>
<Link id="l02310" /><CodeLine lineNumber="2310"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/support/md5-cpp/#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getAttributes().hasAttrSomewhere(Attribute::SwiftError)) &#123;</span></CodeLine>
<Link id="l02311" /><CodeLine lineNumber="2311"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#a4ac2cfd1783912207570d7cce74a3ea2">SwiftError</a>.getFunctionArg() &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Need a swift error argument&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l02312" /><CodeLine lineNumber="2312"><span class="doxyHighlight">    ISD::ArgFlagsTy <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a> = ISD::ArgFlagsTy();</span></CodeLine>
<Link id="l02313" /><CodeLine lineNumber="2313"><span class="doxyHighlight">    <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setSwiftError();</span></CodeLine>
<Link id="l02314" /><CodeLine lineNumber="2314"><span class="doxyHighlight">    Outs.<a href="/docs/api/classes/llvm/smallvectortemplatebase/#af42bfbc067df27c19ee2fc859df58799">push&#95;back</a>(ISD::OutputArg(</span></CodeLine>
<Link id="l02315" /><CodeLine lineNumber="2315"><span class="doxyHighlight">        Flags, </span><span class="doxyHighlightComment">/&#42;vt=&#42;/</span><span class="doxyHighlight">TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>), </span><span class="doxyHighlightComment">/&#42;argvt=&#42;/</span><span class="doxyHighlight">EVT(TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>)),</span></CodeLine>
<Link id="l02316" /><CodeLine lineNumber="2316"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">/&#42;isfixed=&#42;/</span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">, </span><span class="doxyHighlightComment">/&#42;origidx=&#42;/</span><span class="doxyHighlight">1, </span><span class="doxyHighlightComment">/&#42;partOffs=&#42;/</span><span class="doxyHighlight">0));</span></CodeLine>
<Link id="l02317" /><CodeLine lineNumber="2317"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Create SDNode for the swifterror virtual register.</span></CodeLine>
<Link id="l02318" /><CodeLine lineNumber="2318"><span class="doxyHighlight">    OutVals.<a href="/docs/api/classes/llvm/smallvectortemplatebase/#af42bfbc067df27c19ee2fc859df58799">push&#95;back</a>(</span></CodeLine>
<Link id="l02319" /><CodeLine lineNumber="2319"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getRegister(<a href="/docs/api/classes/llvm/selectiondagbuilder/#a4ac2cfd1783912207570d7cce74a3ea2">SwiftError</a>.getOrCreateVRegUseAt(</span></CodeLine>
<Link id="l02320" /><CodeLine lineNumber="2320"><span class="doxyHighlight">                            &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.MBB, <a href="/docs/api/classes/llvm/selectiondagbuilder/#a4ac2cfd1783912207570d7cce74a3ea2">SwiftError</a>.getFunctionArg()),</span></CodeLine>
<Link id="l02321" /><CodeLine lineNumber="2321"><span class="doxyHighlight">                        EVT(TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>))));</span></CodeLine>
<Link id="l02322" /><CodeLine lineNumber="2322"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l02323" /><CodeLine lineNumber="2323"></CodeLine>
<Link id="l02324" /><CodeLine lineNumber="2324"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> isVarArg = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMachineFunction().getFunction().isVarArg();</span></CodeLine>
<Link id="l02325" /><CodeLine lineNumber="2325"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/callingconv/#abdf8cf606905c10634e831390981b0ed">CallingConv::ID</a> CallConv =</span></CodeLine>
<Link id="l02326" /><CodeLine lineNumber="2326"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMachineFunction().getFunction().getCallingConv();</span></CodeLine>
<Link id="l02327" /><CodeLine lineNumber="2327"><span class="doxyHighlight">  <a href="/docs/api/namespaces/anonymous-loadstorevectorizer-cpp-/#afd1adfcbfce320e6265935ce4d6299a3">Chain</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo().LowerReturn(</span></CodeLine>
<Link id="l02328" /><CodeLine lineNumber="2328"><span class="doxyHighlight">      Chain, CallConv, isVarArg, Outs, OutVals, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>);</span></CodeLine>
<Link id="l02329" /><CodeLine lineNumber="2329"></CodeLine>
<Link id="l02330" /><CodeLine lineNumber="2330"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Verify that the target&#39;s LowerReturn behaved as expected.</span></CodeLine>
<Link id="l02331" /><CodeLine lineNumber="2331"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a href="/docs/api/namespaces/anonymous-loadstorevectorizer-cpp-/#afd1adfcbfce320e6265935ce4d6299a3">Chain</a>.getNode() &amp;&amp; <a href="/docs/api/namespaces/anonymous-loadstorevectorizer-cpp-/#afd1adfcbfce320e6265935ce4d6299a3">Chain</a>.getValueType() == MVT::Other &amp;&amp;</span></CodeLine>
<Link id="l02332" /><CodeLine lineNumber="2332"><span class="doxyHighlight">         </span><span class="doxyHighlightStringLiteral">&quot;LowerReturn didn&#39;t return a valid chain!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l02333" /><CodeLine lineNumber="2333"></CodeLine>
<Link id="l02334" /><CodeLine lineNumber="2334"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Update the DAG with the new chain value resulting from return lowering.</span></CodeLine>
<Link id="l02335" /><CodeLine lineNumber="2335"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(Chain);</span></CodeLine>
<Link id="l02336" /><CodeLine lineNumber="2336"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l02337" /><CodeLine lineNumber="2337"></CodeLine>
<Link id="l02338" /><CodeLine lineNumber="2338"><span class="doxyHighlightComment">/// CopyToExportRegsIfNeeded - If the given value has virtual registers</span></CodeLine>
<Link id="l02339" /><CodeLine lineNumber="2339"><span class="doxyHighlightComment">/// created for it, emit nodes to copy the value into the virtual</span></CodeLine>
<Link id="l02340" /><CodeLine lineNumber="2340"><span class="doxyHighlightComment">/// registers.</span></CodeLine>
<Link id="l02341" /><CodeLine lineNumber="2341" lineLink="/docs/api/classes/llvm/selectiondagbuilder/#ac30ce0e7a5759d1e0bb5bf891e88662b"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#ac30ce0e7a5759d1e0bb5bf891e88662b">SelectionDAGBuilder::CopyToExportRegsIfNeeded</a>(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;V) &#123;</span></CodeLine>
<Link id="l02342" /><CodeLine lineNumber="2342"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Skip empty types</span></CodeLine>
<Link id="l02343" /><CodeLine lineNumber="2343"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (V-&gt;getType()-&gt;isEmptyTy())</span></CodeLine>
<Link id="l02344" /><CodeLine lineNumber="2344"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l02345" /><CodeLine lineNumber="2345"></CodeLine>
<Link id="l02346" /><CodeLine lineNumber="2346"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/densemapbase/#a214e872d61db2ea8cb023f127cafd0b9">DenseMap&lt;const Value &#42;, Register&gt;::iterator</a> VMI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.ValueMap.find(V);</span></CodeLine>
<Link id="l02347" /><CodeLine lineNumber="2347"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (VMI != <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.ValueMap.end()) &#123;</span></CodeLine>
<Link id="l02348" /><CodeLine lineNumber="2348"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((!V-&gt;use&#95;empty() || <a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;CallBrInst&gt;</a>(V)) &amp;&amp;</span></CodeLine>
<Link id="l02349" /><CodeLine lineNumber="2349"><span class="doxyHighlight">           </span><span class="doxyHighlightStringLiteral">&quot;Unused value assigned virtual registers!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l02350" /><CodeLine lineNumber="2350"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#a5184df56e270750a839acad50a1b8501">CopyValueToVirtualRegister</a>(V, VMI-&gt;second);</span></CodeLine>
<Link id="l02351" /><CodeLine lineNumber="2351"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l02352" /><CodeLine lineNumber="2352"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l02353" /><CodeLine lineNumber="2353"></CodeLine>
<Link id="l02354" /><CodeLine lineNumber="2354"><span class="doxyHighlightComment">/// ExportFromCurrentBlock - If this condition isn&#39;t known to be exported from</span></CodeLine>
<Link id="l02355" /><CodeLine lineNumber="2355"><span class="doxyHighlightComment">/// the current basic block, add it to ValueMap now so that we&#39;ll get a</span></CodeLine>
<Link id="l02356" /><CodeLine lineNumber="2356"><span class="doxyHighlightComment">/// CopyTo/FromReg.</span></CodeLine>
<Link id="l02357" /><CodeLine lineNumber="2357" lineLink="/docs/api/classes/llvm/selectiondagbuilder/#aa5254258c6a479f86e6ecfc4dcdd7a5e"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa5254258c6a479f86e6ecfc4dcdd7a5e">SelectionDAGBuilder::ExportFromCurrentBlock</a>(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;V) &#123;</span></CodeLine>
<Link id="l02358" /><CodeLine lineNumber="2358"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// No need to export constants.</span></CodeLine>
<Link id="l02359" /><CodeLine lineNumber="2359"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;Instruction&gt;</a>(V) &amp;&amp; !<a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;Argument&gt;</a>(V)) </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l02360" /><CodeLine lineNumber="2360"></CodeLine>
<Link id="l02361" /><CodeLine lineNumber="2361"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Already exported?</span></CodeLine>
<Link id="l02362" /><CodeLine lineNumber="2362"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.isExportedInst(V)) </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l02363" /><CodeLine lineNumber="2363"></CodeLine>
<Link id="l02364" /><CodeLine lineNumber="2364"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/register">Register</a> Reg = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.InitializeRegForValue(V);</span></CodeLine>
<Link id="l02365" /><CodeLine lineNumber="2365"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#a5184df56e270750a839acad50a1b8501">CopyValueToVirtualRegister</a>(V, Reg);</span></CodeLine>
<Link id="l02366" /><CodeLine lineNumber="2366"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l02367" /><CodeLine lineNumber="2367"></CodeLine>
<Link id="l02368" /><CodeLine lineNumber="2368" lineLink="/docs/api/classes/llvm/selectiondagbuilder/#ae3df768f340538afba57a5eaeb0ba277"><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#ae3df768f340538afba57a5eaeb0ba277">SelectionDAGBuilder::isExportableFromCurrentBlock</a>(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;V,</span></CodeLine>
<Link id="l02369" /><CodeLine lineNumber="2369"><span class="doxyHighlight">                                                     </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42;FromBB) &#123;</span></CodeLine>
<Link id="l02370" /><CodeLine lineNumber="2370"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// The operands of the setcc have to be in this block.  We don&#39;t know</span></CodeLine>
<Link id="l02371" /><CodeLine lineNumber="2371"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// how to export them from some other block.</span></CodeLine>
<Link id="l02372" /><CodeLine lineNumber="2372"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42;VI = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;Instruction&gt;</a>(V)) &#123;</span></CodeLine>
<Link id="l02373" /><CodeLine lineNumber="2373"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Can export from current BB.</span></CodeLine>
<Link id="l02374" /><CodeLine lineNumber="2374"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (VI-&gt;getParent() == FromBB)</span></CodeLine>
<Link id="l02375" /><CodeLine lineNumber="2375"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l02376" /><CodeLine lineNumber="2376"></CodeLine>
<Link id="l02377" /><CodeLine lineNumber="2377"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Is already exported, noop.</span></CodeLine>
<Link id="l02378" /><CodeLine lineNumber="2378"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.isExportedInst(V);</span></CodeLine>
<Link id="l02379" /><CodeLine lineNumber="2379"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l02380" /><CodeLine lineNumber="2380"></CodeLine>
<Link id="l02381" /><CodeLine lineNumber="2381"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// If this is an argument, we can export it if the BB is the entry block or</span></CodeLine>
<Link id="l02382" /><CodeLine lineNumber="2382"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// if it is already exported.</span></CodeLine>
<Link id="l02383" /><CodeLine lineNumber="2383"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;Argument&gt;</a>(V)) &#123;</span></CodeLine>
<Link id="l02384" /><CodeLine lineNumber="2384"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (FromBB-&gt;<a href="/docs/api/classes/llvm/basicblock/#a4ec05121d4b54b3691ad6203e78ff54e">isEntryBlock</a>())</span></CodeLine>
<Link id="l02385" /><CodeLine lineNumber="2385"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l02386" /><CodeLine lineNumber="2386"></CodeLine>
<Link id="l02387" /><CodeLine lineNumber="2387"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Otherwise, can only export this if it is already exported.</span></CodeLine>
<Link id="l02388" /><CodeLine lineNumber="2388"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.isExportedInst(V);</span></CodeLine>
<Link id="l02389" /><CodeLine lineNumber="2389"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l02390" /><CodeLine lineNumber="2390"></CodeLine>
<Link id="l02391" /><CodeLine lineNumber="2391"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Otherwise, constants can always be exported.</span></CodeLine>
<Link id="l02392" /><CodeLine lineNumber="2392"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l02393" /><CodeLine lineNumber="2393"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l02394" /><CodeLine lineNumber="2394"></CodeLine>
<Link id="l02395" /><CodeLine lineNumber="2395"><span class="doxyHighlightComment">/// Return branch probability calculated by BranchProbabilityInfo for IR blocks.</span></CodeLine>
<Link id="l02396" /><CodeLine lineNumber="2396"><span class="doxyHighlight"><a href="/docs/api/classes/llvm/branchprobability">BranchProbability</a></span></CodeLine>
<Link id="l02397" /><CodeLine lineNumber="2397"><span class="doxyHighlight">SelectionDAGBuilder::getEdgeProbability(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;Src,</span></CodeLine>
<Link id="l02398" /><CodeLine lineNumber="2398"><span class="doxyHighlight">                                        </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;Dst)</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123;</span></CodeLine>
<Link id="l02399" /><CodeLine lineNumber="2399"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/branchprobabilityinfo">BranchProbabilityInfo</a> &#42;BPI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.<a href="/docs/api/classes/llvm/functionloweringinfo/#a021952a3b657f6321d050112563886c4">BPI</a>;</span></CodeLine>
<Link id="l02400" /><CodeLine lineNumber="2400"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42;SrcBB = Src-&gt;getBasicBlock();</span></CodeLine>
<Link id="l02401" /><CodeLine lineNumber="2401"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42;DstBB = Dst-&gt;getBasicBlock();</span></CodeLine>
<Link id="l02402" /><CodeLine lineNumber="2402"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!BPI) &#123;</span></CodeLine>
<Link id="l02403" /><CodeLine lineNumber="2403"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// If BPI is not available, set the default probability as 1 / N, where N is</span></CodeLine>
<Link id="l02404" /><CodeLine lineNumber="2404"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// the number of successors.</span></CodeLine>
<Link id="l02405" /><CodeLine lineNumber="2405"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> SuccSize = std::max&lt;uint32&#95;t&gt;(<a href="/docs/api/namespaces/llvm/#a85da2bdebeeed0bf7fdccfdfc5f1b92c">succ&#95;size</a>(SrcBB), 1);</span></CodeLine>
<Link id="l02406" /><CodeLine lineNumber="2406"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/branchprobability">BranchProbability</a>(1, SuccSize);</span></CodeLine>
<Link id="l02407" /><CodeLine lineNumber="2407"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l02408" /><CodeLine lineNumber="2408"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> BPI-&gt;<a href="/docs/api/classes/llvm/branchprobabilityinfo/#a46502d648608aa13cb485ed4af447d88">getEdgeProbability</a>(SrcBB, DstBB);</span></CodeLine>
<Link id="l02409" /><CodeLine lineNumber="2409"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l02410" /><CodeLine lineNumber="2410"></CodeLine>
<Link id="l02411" /><CodeLine lineNumber="2411"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::addSuccessorWithProb(<a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;Src,</span></CodeLine>
<Link id="l02412" /><CodeLine lineNumber="2412"><span class="doxyHighlight">                                               <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;Dst,</span></CodeLine>
<Link id="l02413" /><CodeLine lineNumber="2413"><span class="doxyHighlight">                                               <a href="/docs/api/classes/llvm/branchprobability">BranchProbability</a> Prob) &#123;</span></CodeLine>
<Link id="l02414" /><CodeLine lineNumber="2414"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.BPI)</span></CodeLine>
<Link id="l02415" /><CodeLine lineNumber="2415"><span class="doxyHighlight">    <a href="/docs/api/namespaces/anonymous-linkmodules-cpp-/#ab56eb2027bc9c069aa696e54de8b4298a276e79316561733d64abdf00f8e8ae48">Src</a>-&gt;addSuccessorWithoutProb(Dst);</span></CodeLine>
<Link id="l02416" /><CodeLine lineNumber="2416"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l02417" /><CodeLine lineNumber="2417"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Prob.<a href="/docs/api/classes/llvm/branchprobability/#a7f41716b68c197b7cd7582d7a66201a3">isUnknown</a>())</span></CodeLine>
<Link id="l02418" /><CodeLine lineNumber="2418"><span class="doxyHighlight">      Prob = getEdgeProbability(Src, Dst);</span></CodeLine>
<Link id="l02419" /><CodeLine lineNumber="2419"><span class="doxyHighlight">    <a href="/docs/api/namespaces/anonymous-linkmodules-cpp-/#ab56eb2027bc9c069aa696e54de8b4298a276e79316561733d64abdf00f8e8ae48">Src</a>-&gt;addSuccessor(Dst, Prob);</span></CodeLine>
<Link id="l02420" /><CodeLine lineNumber="2420"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l02421" /><CodeLine lineNumber="2421"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l02422" /><CodeLine lineNumber="2422"></CodeLine>
<Link id="l02423" /><CodeLine lineNumber="2423" lineLink="#afcd7ba772e220bcd0907ee2f1aa61323"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="#afcd7ba772e220bcd0907ee2f1aa61323">InBlock</a>(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/value">Value</a> &#42;V, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42;BB) &#123;</span></CodeLine>
<Link id="l02424" /><CodeLine lineNumber="2424"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;Instruction&gt;</a>(V))</span></CodeLine>
<Link id="l02425" /><CodeLine lineNumber="2425"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getParent() == BB;</span></CodeLine>
<Link id="l02426" /><CodeLine lineNumber="2426"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l02427" /><CodeLine lineNumber="2427"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l02428" /><CodeLine lineNumber="2428"></CodeLine>
<Link id="l02429" /><CodeLine lineNumber="2429"><span class="doxyHighlightComment">/// EmitBranchForMergedCondition - Helper method for FindMergedConditions.</span></CodeLine>
<Link id="l02430" /><CodeLine lineNumber="2430"><span class="doxyHighlightComment">/// This function emits a branch and is used at the leaves of an OR or an</span></CodeLine>
<Link id="l02431" /><CodeLine lineNumber="2431"><span class="doxyHighlightComment">/// AND operator tree.</span></CodeLine>
<Link id="l02432" /><CodeLine lineNumber="2432"><span class="doxyHighlightKeywordType">void</span></CodeLine>
<Link id="l02433" /><CodeLine lineNumber="2433" lineLink="/docs/api/classes/llvm/selectiondagbuilder/#a41a8f459a2dcfcfc624394df6b432689"><span class="doxyHighlight"><a href="/docs/api/classes/llvm/selectiondagbuilder/#a41a8f459a2dcfcfc624394df6b432689">SelectionDAGBuilder::EmitBranchForMergedCondition</a>(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;<a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a193847098793cdbab306803186676899">Cond</a>,</span></CodeLine>
<Link id="l02434" /><CodeLine lineNumber="2434"><span class="doxyHighlight">                                                  <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;<a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a1441f79530bc7f3a89118bb8067eac69">TBB</a>,</span></CodeLine>
<Link id="l02435" /><CodeLine lineNumber="2435"><span class="doxyHighlight">                                                  <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;FBB,</span></CodeLine>
<Link id="l02436" /><CodeLine lineNumber="2436"><span class="doxyHighlight">                                                  <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;CurBB,</span></CodeLine>
<Link id="l02437" /><CodeLine lineNumber="2437"><span class="doxyHighlight">                                                  <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;SwitchBB,</span></CodeLine>
<Link id="l02438" /><CodeLine lineNumber="2438"><span class="doxyHighlight">                                                  <a href="/docs/api/classes/llvm/branchprobability">BranchProbability</a> TProb,</span></CodeLine>
<Link id="l02439" /><CodeLine lineNumber="2439"><span class="doxyHighlight">                                                  <a href="/docs/api/classes/llvm/branchprobability">BranchProbability</a> FProb,</span></CodeLine>
<Link id="l02440" /><CodeLine lineNumber="2440"><span class="doxyHighlight">                                                  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> InvertCond) &#123;</span></CodeLine>
<Link id="l02441" /><CodeLine lineNumber="2441"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42;BB = CurBB-&gt;<a href="/docs/api/classes/llvm/machinebasicblock/#a4874816314c3308be0bf1e71de2078d8">getBasicBlock</a>();</span></CodeLine>
<Link id="l02442" /><CodeLine lineNumber="2442"></CodeLine>
<Link id="l02443" /><CodeLine lineNumber="2443"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// If the leaf of the tree is a comparison, merge the condition into</span></CodeLine>
<Link id="l02444" /><CodeLine lineNumber="2444"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// the caseblock.</span></CodeLine>
<Link id="l02445" /><CodeLine lineNumber="2445"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/cmpinst">CmpInst</a> &#42;BOp = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;CmpInst&gt;</a>(<a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a193847098793cdbab306803186676899">Cond</a>)) &#123;</span></CodeLine>
<Link id="l02446" /><CodeLine lineNumber="2446"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// The operands of the cmp have to be in this block.  We don&#39;t know</span></CodeLine>
<Link id="l02447" /><CodeLine lineNumber="2447"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// how to export them from some other block.  If this is the first block</span></CodeLine>
<Link id="l02448" /><CodeLine lineNumber="2448"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// of the sequence, no exporting is needed.</span></CodeLine>
<Link id="l02449" /><CodeLine lineNumber="2449"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (CurBB == SwitchBB ||</span></CodeLine>
<Link id="l02450" /><CodeLine lineNumber="2450"><span class="doxyHighlight">        (<a href="/docs/api/classes/llvm/selectiondagbuilder/#ae3df768f340538afba57a5eaeb0ba277">isExportableFromCurrentBlock</a>(BOp-&gt;getOperand(0), BB) &amp;&amp;</span></CodeLine>
<Link id="l02451" /><CodeLine lineNumber="2451"><span class="doxyHighlight">         <a href="/docs/api/classes/llvm/selectiondagbuilder/#ae3df768f340538afba57a5eaeb0ba277">isExportableFromCurrentBlock</a>(BOp-&gt;getOperand(1), BB))) &#123;</span></CodeLine>
<Link id="l02452" /><CodeLine lineNumber="2452"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/isd/#ac3c3cf58d6d631af6a172457304d3d07">ISD::CondCode</a> Condition;</span></CodeLine>
<Link id="l02453" /><CodeLine lineNumber="2453"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/icmpinst">ICmpInst</a> &#42;IC = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;ICmpInst&gt;</a>(<a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a193847098793cdbab306803186676899">Cond</a>)) &#123;</span></CodeLine>
<Link id="l02454" /><CodeLine lineNumber="2454"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/cmpinst/#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> Pred =</span></CodeLine>
<Link id="l02455" /><CodeLine lineNumber="2455"><span class="doxyHighlight">            InvertCond ? IC-&gt;getInversePredicate() : IC-&gt;getPredicate();</span></CodeLine>
<Link id="l02456" /><CodeLine lineNumber="2456"><span class="doxyHighlight">        Condition = <a href="/docs/api/namespaces/llvm/#a0724f162df94451d626d918e992fe123">getICmpCondCode</a>(Pred);</span></CodeLine>
<Link id="l02457" /><CodeLine lineNumber="2457"><span class="doxyHighlight">      &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l02458" /><CodeLine lineNumber="2458"><span class="doxyHighlight">        </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/fcmpinst">FCmpInst</a> &#42;FC = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;FCmpInst&gt;</a>(<a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a193847098793cdbab306803186676899">Cond</a>);</span></CodeLine>
<Link id="l02459" /><CodeLine lineNumber="2459"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/cmpinst/#a2be3583dac92a031fa1458d4d992c78b">FCmpInst::Predicate</a> Pred =</span></CodeLine>
<Link id="l02460" /><CodeLine lineNumber="2460"><span class="doxyHighlight">            InvertCond ? FC-&gt;getInversePredicate() : FC-&gt;getPredicate();</span></CodeLine>
<Link id="l02461" /><CodeLine lineNumber="2461"><span class="doxyHighlight">        Condition = <a href="/docs/api/namespaces/llvm/#a8b3a8b47a5344da71953bc4eb38c5179">getFCmpCondCode</a>(Pred);</span></CodeLine>
<Link id="l02462" /><CodeLine lineNumber="2462"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (TM.Options.NoNaNsFPMath)</span></CodeLine>
<Link id="l02463" /><CodeLine lineNumber="2463"><span class="doxyHighlight">          Condition = <a href="/docs/api/namespaces/llvm/#ab85a42eddf5fd6beac822af946d5b1e2">getFCmpCodeWithoutNaN</a>(Condition);</span></CodeLine>
<Link id="l02464" /><CodeLine lineNumber="2464"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l02465" /><CodeLine lineNumber="2465"></CodeLine>
<Link id="l02466" /><CodeLine lineNumber="2466"><span class="doxyHighlight">      <a href="/docs/api/structs/llvm/switchcg/caseblock">CaseBlock</a> CB(Condition, BOp-&gt;getOperand(0), BOp-&gt;getOperand(1), </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">,</span></CodeLine>
<Link id="l02467" /><CodeLine lineNumber="2467"><span class="doxyHighlight">                   <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a1441f79530bc7f3a89118bb8067eac69">TBB</a>, FBB, CurBB, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), TProb, FProb);</span></CodeLine>
<Link id="l02468" /><CodeLine lineNumber="2468"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#a346bf6c4d7fca3ebce554ec2cdd80e87">SL</a>-&gt;SwitchCases.push&#95;back(CB);</span></CodeLine>
<Link id="l02469" /><CodeLine lineNumber="2469"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l02470" /><CodeLine lineNumber="2470"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l02471" /><CodeLine lineNumber="2471"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l02472" /><CodeLine lineNumber="2472"></CodeLine>
<Link id="l02473" /><CodeLine lineNumber="2473"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Create a CaseBlock record representing this branch.</span></CodeLine>
<Link id="l02474" /><CodeLine lineNumber="2474"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/isd/#ac3c3cf58d6d631af6a172457304d3d07">ISD::CondCode</a> Opc = InvertCond ? <a href="/docs/api/namespaces/llvm/isd/#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a> : <a href="/docs/api/namespaces/llvm/isd/#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a>;</span></CodeLine>
<Link id="l02475" /><CodeLine lineNumber="2475"><span class="doxyHighlight">  <a href="/docs/api/structs/llvm/switchcg/caseblock">CaseBlock</a> CB(Opc, <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a193847098793cdbab306803186676899">Cond</a>, <a href="/docs/api/classes/llvm/constantint/#a82dbbd8e3688b0bc1eedb338864d0d0c">ConstantInt::getTrue</a>(&#42;<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getContext()),</span></CodeLine>
<Link id="l02476" /><CodeLine lineNumber="2476"><span class="doxyHighlight">               </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">, <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a1441f79530bc7f3a89118bb8067eac69">TBB</a>, FBB, CurBB, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), TProb, FProb);</span></CodeLine>
<Link id="l02477" /><CodeLine lineNumber="2477"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#a346bf6c4d7fca3ebce554ec2cdd80e87">SL</a>-&gt;SwitchCases.push&#95;back(CB);</span></CodeLine>
<Link id="l02478" /><CodeLine lineNumber="2478"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l02479" /><CodeLine lineNumber="2479"></CodeLine>
<Link id="l02480" /><CodeLine lineNumber="2480"><span class="doxyHighlightComment">// Collect dependencies on V recursively. This is used for the cost analysis in</span></CodeLine>
<Link id="l02481" /><CodeLine lineNumber="2481"><span class="doxyHighlightComment">// &#96;shouldKeepJumpConditionsTogether&#96;.</span></CodeLine>
<Link id="l02482" /><CodeLine lineNumber="2482" lineLink="#a9e90083bd35fdc6271e1c0060a6290d5"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="#a9e90083bd35fdc6271e1c0060a6290d5">collectInstructionDeps</a>(</span></CodeLine>
<Link id="l02483" /><CodeLine lineNumber="2483"><span class="doxyHighlight">    <a href="/docs/api/structs/llvm/smallmapvector">SmallMapVector&lt;const Instruction &#42;, bool, 8&gt;</a> &#42;Deps, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/value">Value</a> &#42;V,</span></CodeLine>
<Link id="l02484" /><CodeLine lineNumber="2484"><span class="doxyHighlight">    <a href="/docs/api/structs/llvm/smallmapvector">SmallMapVector&lt;const Instruction &#42;, bool, 8&gt;</a> &#42;Necessary = </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">,</span></CodeLine>
<Link id="l02485" /><CodeLine lineNumber="2485"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> = 0) &#123;</span></CodeLine>
<Link id="l02486" /><CodeLine lineNumber="2486"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Return false if we have an incomplete count.</span></CodeLine>
<Link id="l02487" /><CodeLine lineNumber="2487"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> &gt;= <a href="/docs/api/classes/llvm/selectiondag/#a4d5e16cbde22f5e6f007940d57a428fd">SelectionDAG::MaxRecursionDepth</a>)</span></CodeLine>
<Link id="l02488" /><CodeLine lineNumber="2488"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l02489" /><CodeLine lineNumber="2489"></CodeLine>
<Link id="l02490" /><CodeLine lineNumber="2490"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;Instruction&gt;</a>(V);</span></CodeLine>
<Link id="l02491" /><CodeLine lineNumber="2491"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a> == </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">)</span></CodeLine>
<Link id="l02492" /><CodeLine lineNumber="2492"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l02493" /><CodeLine lineNumber="2493"></CodeLine>
<Link id="l02494" /><CodeLine lineNumber="2494"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Necessary != </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">) &#123;</span></CodeLine>
<Link id="l02495" /><CodeLine lineNumber="2495"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// This instruction is necessary for the other side of the condition so</span></CodeLine>
<Link id="l02496" /><CodeLine lineNumber="2496"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// don&#39;t count it.</span></CodeLine>
<Link id="l02497" /><CodeLine lineNumber="2497"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Necessary-&gt;contains(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</span></CodeLine>
<Link id="l02498" /><CodeLine lineNumber="2498"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l02499" /><CodeLine lineNumber="2499"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l02500" /><CodeLine lineNumber="2500"></CodeLine>
<Link id="l02501" /><CodeLine lineNumber="2501"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Already added this dep.</span></CodeLine>
<Link id="l02502" /><CodeLine lineNumber="2502"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!Deps-&gt;<a href="/docs/api/classes/llvm/mapvector/#ab23f183e7947aaf3caad7960217f843c">try&#95;emplace</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">).second)</span></CodeLine>
<Link id="l02503" /><CodeLine lineNumber="2503"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l02504" /><CodeLine lineNumber="2504"></CodeLine>
<Link id="l02505" /><CodeLine lineNumber="2505"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> OpIdx = 0, <a href="/docs/api/files/lib/lib/ir/builtingcs-cpp/#abb2b3a60ccc38a28239e19a1646e0c8a">E</a> = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getNumOperands(); OpIdx &lt; <a href="/docs/api/files/lib/lib/ir/builtingcs-cpp/#abb2b3a60ccc38a28239e19a1646e0c8a">E</a>; ++OpIdx)</span></CodeLine>
<Link id="l02506" /><CodeLine lineNumber="2506"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="#a9e90083bd35fdc6271e1c0060a6290d5">collectInstructionDeps</a>(Deps, <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOperand(OpIdx), Necessary,</span></CodeLine>
<Link id="l02507" /><CodeLine lineNumber="2507"><span class="doxyHighlight">                                <a href="/docs/api/namespaces/llvm/#a1eb5609345b906d024fbf9e4bc1adc06afe578efb7ca235af77fb0eef7edcf639">Depth</a> + 1))</span></CodeLine>
<Link id="l02508" /><CodeLine lineNumber="2508"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l02509" /><CodeLine lineNumber="2509"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l02510" /><CodeLine lineNumber="2510"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l02511" /><CodeLine lineNumber="2511"></CodeLine>
<Link id="l02512" /><CodeLine lineNumber="2512" lineLink="/docs/api/classes/llvm/selectiondagbuilder/#a732bd4cf41862afa6092c1648c02e256"><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#a732bd4cf41862afa6092c1648c02e256">SelectionDAGBuilder::shouldKeepJumpConditionsTogether</a>(</span></CodeLine>
<Link id="l02513" /><CodeLine lineNumber="2513"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/functionloweringinfo">FunctionLoweringInfo</a> &amp;<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/branchinst">BranchInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</span></CodeLine>
<Link id="l02514" /><CodeLine lineNumber="2514"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/instruction/#ac26154a24f393f523c87cc5f8239f36c">Instruction::BinaryOps</a> Opc, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;Lhs, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;Rhs,</span></CodeLine>
<Link id="l02515" /><CodeLine lineNumber="2515"><span class="doxyHighlight">    <a href="/docs/api/structs/llvm/targetloweringbase/condmergingparams">TargetLoweringBase::CondMergingParams</a> Params)</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123;</span></CodeLine>
<Link id="l02516" /><CodeLine lineNumber="2516"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getNumSuccessors() != 2)</span></CodeLine>
<Link id="l02517" /><CodeLine lineNumber="2517"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l02518" /><CodeLine lineNumber="2518"></CodeLine>
<Link id="l02519" /><CodeLine lineNumber="2519"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.isConditional())</span></CodeLine>
<Link id="l02520" /><CodeLine lineNumber="2520"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l02521" /><CodeLine lineNumber="2521"></CodeLine>
<Link id="l02522" /><CodeLine lineNumber="2522"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Params.<a href="/docs/api/structs/llvm/targetloweringbase/condmergingparams/#a11b4b370b808f19228d93c4e8b6dc78f">BaseCost</a> &lt; 0)</span></CodeLine>
<Link id="l02523" /><CodeLine lineNumber="2523"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l02524" /><CodeLine lineNumber="2524"></CodeLine>
<Link id="l02525" /><CodeLine lineNumber="2525"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Baseline cost.</span></CodeLine>
<Link id="l02526" /><CodeLine lineNumber="2526"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/instructioncost">InstructionCost</a> CostThresh = Params.<a href="/docs/api/structs/llvm/targetloweringbase/condmergingparams/#a11b4b370b808f19228d93c4e8b6dc78f">BaseCost</a>;</span></CodeLine>
<Link id="l02527" /><CodeLine lineNumber="2527"></CodeLine>
<Link id="l02528" /><CodeLine lineNumber="2528"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/branchprobabilityinfo">BranchProbabilityInfo</a> &#42;BPI = </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l02529" /><CodeLine lineNumber="2529"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Params.<a href="/docs/api/structs/llvm/targetloweringbase/condmergingparams/#a1faa2635f447e7af00d39324d5fbb099">LikelyBias</a> || Params.<a href="/docs/api/structs/llvm/targetloweringbase/condmergingparams/#a53271697575a0d9c0739b723521c4125">UnlikelyBias</a>)</span></CodeLine>
<Link id="l02530" /><CodeLine lineNumber="2530"><span class="doxyHighlight">    BPI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.BPI;</span></CodeLine>
<Link id="l02531" /><CodeLine lineNumber="2531"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (BPI != </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">) &#123;</span></CodeLine>
<Link id="l02532" /><CodeLine lineNumber="2532"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// See if we are either likely to get an early out or compute both lhs/rhs</span></CodeLine>
<Link id="l02533" /><CodeLine lineNumber="2533"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// of the condition.</span></CodeLine>
<Link id="l02534" /><CodeLine lineNumber="2534"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42;IfFalse = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getSuccessor(0);</span></CodeLine>
<Link id="l02535" /><CodeLine lineNumber="2535"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42;IfTrue = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getSuccessor(1);</span></CodeLine>
<Link id="l02536" /><CodeLine lineNumber="2536"></CodeLine>
<Link id="l02537" /><CodeLine lineNumber="2537"><span class="doxyHighlight">    std::optional&lt;bool&gt; Likely;</span></CodeLine>
<Link id="l02538" /><CodeLine lineNumber="2538"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (BPI-&gt;<a href="/docs/api/classes/llvm/branchprobabilityinfo/#aa2da8547348736e285afd8af9093a83d">isEdgeHot</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getParent(), IfTrue))</span></CodeLine>
<Link id="l02539" /><CodeLine lineNumber="2539"><span class="doxyHighlight">      Likely = </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l02540" /><CodeLine lineNumber="2540"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (BPI-&gt;<a href="/docs/api/classes/llvm/branchprobabilityinfo/#aa2da8547348736e285afd8af9093a83d">isEdgeHot</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getParent(), IfFalse))</span></CodeLine>
<Link id="l02541" /><CodeLine lineNumber="2541"><span class="doxyHighlight">      Likely = </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l02542" /><CodeLine lineNumber="2542"></CodeLine>
<Link id="l02543" /><CodeLine lineNumber="2543"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Likely) &#123;</span></CodeLine>
<Link id="l02544" /><CodeLine lineNumber="2544"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Opc == (&#42;Likely ? Instruction::And : Instruction::Or))</span></CodeLine>
<Link id="l02545" /><CodeLine lineNumber="2545"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// Its likely we will have to compute both lhs and rhs of condition</span></CodeLine>
<Link id="l02546" /><CodeLine lineNumber="2546"><span class="doxyHighlight">        CostThresh += Params.<a href="/docs/api/structs/llvm/targetloweringbase/condmergingparams/#a1faa2635f447e7af00d39324d5fbb099">LikelyBias</a>;</span></CodeLine>
<Link id="l02547" /><CodeLine lineNumber="2547"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l02548" /><CodeLine lineNumber="2548"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Params.<a href="/docs/api/structs/llvm/targetloweringbase/condmergingparams/#a53271697575a0d9c0739b723521c4125">UnlikelyBias</a> &lt; 0)</span></CodeLine>
<Link id="l02549" /><CodeLine lineNumber="2549"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l02550" /><CodeLine lineNumber="2550"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// Its likely we will get an early out.</span></CodeLine>
<Link id="l02551" /><CodeLine lineNumber="2551"><span class="doxyHighlight">        CostThresh -= Params.<a href="/docs/api/structs/llvm/targetloweringbase/condmergingparams/#a53271697575a0d9c0739b723521c4125">UnlikelyBias</a>;</span></CodeLine>
<Link id="l02552" /><CodeLine lineNumber="2552"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l02553" /><CodeLine lineNumber="2553"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l02554" /><CodeLine lineNumber="2554"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l02555" /><CodeLine lineNumber="2555"></CodeLine>
<Link id="l02556" /><CodeLine lineNumber="2556"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (CostThresh &lt;= 0)</span></CodeLine>
<Link id="l02557" /><CodeLine lineNumber="2557"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l02558" /><CodeLine lineNumber="2558"></CodeLine>
<Link id="l02559" /><CodeLine lineNumber="2559"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Collect &quot;all&quot; instructions that lhs condition is dependent on.</span></CodeLine>
<Link id="l02560" /><CodeLine lineNumber="2560"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Use map for stable iteration (to avoid non-determanism of iteration of</span></CodeLine>
<Link id="l02561" /><CodeLine lineNumber="2561"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// SmallPtrSet). The &#96;bool&#96; value is just a dummy.</span></CodeLine>
<Link id="l02562" /><CodeLine lineNumber="2562"><span class="doxyHighlight">  <a href="/docs/api/structs/llvm/smallmapvector">SmallMapVector&lt;const Instruction &#42;, bool, 8&gt;</a> LhsDeps, RhsDeps;</span></CodeLine>
<Link id="l02563" /><CodeLine lineNumber="2563"><span class="doxyHighlight">  <a href="#a9e90083bd35fdc6271e1c0060a6290d5">collectInstructionDeps</a>(&amp;LhsDeps, Lhs);</span></CodeLine>
<Link id="l02564" /><CodeLine lineNumber="2564"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Collect &quot;all&quot; instructions that rhs condition is dependent on AND are</span></CodeLine>
<Link id="l02565" /><CodeLine lineNumber="2565"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// dependencies of lhs. This gives us an estimate on which instructions we</span></CodeLine>
<Link id="l02566" /><CodeLine lineNumber="2566"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// stand to save by splitting the condition.</span></CodeLine>
<Link id="l02567" /><CodeLine lineNumber="2567"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="#a9e90083bd35fdc6271e1c0060a6290d5">collectInstructionDeps</a>(&amp;RhsDeps, Rhs, &amp;LhsDeps))</span></CodeLine>
<Link id="l02568" /><CodeLine lineNumber="2568"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l02569" /><CodeLine lineNumber="2569"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Add the compare instruction itself unless its a dependency on the LHS.</span></CodeLine>
<Link id="l02570" /><CodeLine lineNumber="2570"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;RhsI = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;Instruction&gt;</a>(Rhs))</span></CodeLine>
<Link id="l02571" /><CodeLine lineNumber="2571"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!LhsDeps.<a href="/docs/api/classes/llvm/mapvector/#a8757ce7071547a0410c82cc096b1ec9a">contains</a>(RhsI))</span></CodeLine>
<Link id="l02572" /><CodeLine lineNumber="2572"><span class="doxyHighlight">      RhsDeps.<a href="/docs/api/classes/llvm/mapvector/#ab23f183e7947aaf3caad7960217f843c">try&#95;emplace</a>(RhsI, </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l02573" /><CodeLine lineNumber="2573"></CodeLine>
<Link id="l02574" /><CodeLine lineNumber="2574"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l02575" /><CodeLine lineNumber="2575"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;<a href="/docs/api/namespaces/llvm/#aa0d69e81725c10fa5407f0bf34462068">TTI</a> =</span></CodeLine>
<Link id="l02576" /><CodeLine lineNumber="2576"><span class="doxyHighlight">      TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a30aa4a06549273240892d58449b8d268">getTargetMachine</a>().<a href="/docs/api/classes/llvm/targetmachine/#a89d17091515cc3617c0901a05308f27b">getTargetTransformInfo</a>(&#42;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getFunction());</span></CodeLine>
<Link id="l02577" /><CodeLine lineNumber="2577"></CodeLine>
<Link id="l02578" /><CodeLine lineNumber="2578"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/instructioncost">InstructionCost</a> CostOfIncluding = 0;</span></CodeLine>
<Link id="l02579" /><CodeLine lineNumber="2579"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// See if this instruction will need to computed independently of whether RHS</span></CodeLine>
<Link id="l02580" /><CodeLine lineNumber="2580"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// is.</span></CodeLine>
<Link id="l02581" /><CodeLine lineNumber="2581"><span class="doxyHighlight">  Value &#42;BrCond = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getCondition();</span></CodeLine>
<Link id="l02582" /><CodeLine lineNumber="2582"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> ShouldCountInsn = &#91;&amp;RhsDeps, &amp;BrCond&#93;(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42;Ins) &#123;</span></CodeLine>
<Link id="l02583" /><CodeLine lineNumber="2583"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;U : Ins-&gt;users()) &#123;</span></CodeLine>
<Link id="l02584" /><CodeLine lineNumber="2584"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// If user is independent of RHS calculation we don&#39;t need to count it.</span></CodeLine>
<Link id="l02585" /><CodeLine lineNumber="2585"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;UIns = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;Instruction&gt;</a>(U))</span></CodeLine>
<Link id="l02586" /><CodeLine lineNumber="2586"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (UIns != BrCond &amp;&amp; !RhsDeps.<a href="/docs/api/classes/llvm/mapvector/#a8757ce7071547a0410c82cc096b1ec9a">contains</a>(UIns))</span></CodeLine>
<Link id="l02587" /><CodeLine lineNumber="2587"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l02588" /><CodeLine lineNumber="2588"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l02589" /><CodeLine lineNumber="2589"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l02590" /><CodeLine lineNumber="2590"><span class="doxyHighlight">  &#125;;</span></CodeLine>
<Link id="l02591" /><CodeLine lineNumber="2591"></CodeLine>
<Link id="l02592" /><CodeLine lineNumber="2592"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Prune instructions from RHS Deps that are dependencies of unrelated</span></CodeLine>
<Link id="l02593" /><CodeLine lineNumber="2593"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// instructions. The value (SelectionDAG::MaxRecursionDepth) is fairly</span></CodeLine>
<Link id="l02594" /><CodeLine lineNumber="2594"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// arbitrary and just meant to cap the how much time we spend in the pruning</span></CodeLine>
<Link id="l02595" /><CodeLine lineNumber="2595"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// loop. Its highly unlikely to come into affect.</span></CodeLine>
<Link id="l02596" /><CodeLine lineNumber="2596"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> MaxPruneIters = <a href="/docs/api/classes/llvm/selectiondag/#a4d5e16cbde22f5e6f007940d57a428fd">SelectionDAG::MaxRecursionDepth</a>;</span></CodeLine>
<Link id="l02597" /><CodeLine lineNumber="2597"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Stop after a certain point. No incorrectness from including too many</span></CodeLine>
<Link id="l02598" /><CodeLine lineNumber="2598"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// instructions.</span></CodeLine>
<Link id="l02599" /><CodeLine lineNumber="2599"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> PruneIters = 0; PruneIters &lt; MaxPruneIters; ++PruneIters) &#123;</span></CodeLine>
<Link id="l02600" /><CodeLine lineNumber="2600"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42;ToDrop = </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l02601" /><CodeLine lineNumber="2601"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;InsPair : RhsDeps) &#123;</span></CodeLine>
<Link id="l02602" /><CodeLine lineNumber="2602"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!ShouldCountInsn(InsPair.first)) &#123;</span></CodeLine>
<Link id="l02603" /><CodeLine lineNumber="2603"><span class="doxyHighlight">        ToDrop = InsPair.first;</span></CodeLine>
<Link id="l02604" /><CodeLine lineNumber="2604"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l02605" /><CodeLine lineNumber="2605"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l02606" /><CodeLine lineNumber="2606"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l02607" /><CodeLine lineNumber="2607"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (ToDrop == </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">)</span></CodeLine>
<Link id="l02608" /><CodeLine lineNumber="2608"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l02609" /><CodeLine lineNumber="2609"><span class="doxyHighlight">    RhsDeps.erase(ToDrop);</span></CodeLine>
<Link id="l02610" /><CodeLine lineNumber="2610"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l02611" /><CodeLine lineNumber="2611"></CodeLine>
<Link id="l02612" /><CodeLine lineNumber="2612"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;InsPair : RhsDeps) &#123;</span></CodeLine>
<Link id="l02613" /><CodeLine lineNumber="2613"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Finally accumulate latency that we can only attribute to computing the</span></CodeLine>
<Link id="l02614" /><CodeLine lineNumber="2614"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// RHS condition. Use latency because we are essentially trying to calculate</span></CodeLine>
<Link id="l02615" /><CodeLine lineNumber="2615"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// the cost of the dependency chain.</span></CodeLine>
<Link id="l02616" /><CodeLine lineNumber="2616"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Possible TODO: We could try to estimate ILP and make this more precise.</span></CodeLine>
<Link id="l02617" /><CodeLine lineNumber="2617"><span class="doxyHighlight">    CostOfIncluding +=</span></CodeLine>
<Link id="l02618" /><CodeLine lineNumber="2618"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/#aa0d69e81725c10fa5407f0bf34462068">TTI</a>.getInstructionCost(InsPair.first, <a href="/docs/api/classes/llvm/targettransforminfo/#a706f223f760b55668fbae74202b816bba81b2c6f1f1e13e4a575e6d1c8b29b6e1">TargetTransformInfo::TCK&#95;Latency</a>);</span></CodeLine>
<Link id="l02619" /><CodeLine lineNumber="2619"></CodeLine>
<Link id="l02620" /><CodeLine lineNumber="2620"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (CostOfIncluding &gt; CostThresh)</span></CodeLine>
<Link id="l02621" /><CodeLine lineNumber="2621"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l02622" /><CodeLine lineNumber="2622"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l02623" /><CodeLine lineNumber="2623"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l02624" /><CodeLine lineNumber="2624"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l02625" /><CodeLine lineNumber="2625"></CodeLine>
<Link id="l02626" /><CodeLine lineNumber="2626" lineLink="/docs/api/classes/llvm/selectiondagbuilder/#ae17b24216f27d8266c87b9fa9a70f533"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#ae17b24216f27d8266c87b9fa9a70f533">SelectionDAGBuilder::FindMergedConditions</a>(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;<a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a193847098793cdbab306803186676899">Cond</a>,</span></CodeLine>
<Link id="l02627" /><CodeLine lineNumber="2627"><span class="doxyHighlight">                                               <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;<a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a1441f79530bc7f3a89118bb8067eac69">TBB</a>,</span></CodeLine>
<Link id="l02628" /><CodeLine lineNumber="2628"><span class="doxyHighlight">                                               <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;FBB,</span></CodeLine>
<Link id="l02629" /><CodeLine lineNumber="2629"><span class="doxyHighlight">                                               <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;CurBB,</span></CodeLine>
<Link id="l02630" /><CodeLine lineNumber="2630"><span class="doxyHighlight">                                               <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;SwitchBB,</span></CodeLine>
<Link id="l02631" /><CodeLine lineNumber="2631"><span class="doxyHighlight">                                               <a href="/docs/api/classes/llvm/instruction/#ac26154a24f393f523c87cc5f8239f36c">Instruction::BinaryOps</a> Opc,</span></CodeLine>
<Link id="l02632" /><CodeLine lineNumber="2632"><span class="doxyHighlight">                                               <a href="/docs/api/classes/llvm/branchprobability">BranchProbability</a> TProb,</span></CodeLine>
<Link id="l02633" /><CodeLine lineNumber="2633"><span class="doxyHighlight">                                               <a href="/docs/api/classes/llvm/branchprobability">BranchProbability</a> FProb,</span></CodeLine>
<Link id="l02634" /><CodeLine lineNumber="2634"><span class="doxyHighlight">                                               </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> InvertCond) &#123;</span></CodeLine>
<Link id="l02635" /><CodeLine lineNumber="2635"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Skip over not part of the tree and remember to invert op and operands at</span></CodeLine>
<Link id="l02636" /><CodeLine lineNumber="2636"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// next level.</span></CodeLine>
<Link id="l02637" /><CodeLine lineNumber="2637"><span class="doxyHighlight">  Value &#42;NotCond;</span></CodeLine>
<Link id="l02638" /><CodeLine lineNumber="2638"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/patternmatch/#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a193847098793cdbab306803186676899">Cond</a>, <a href="/docs/api/namespaces/llvm/patternmatch/#a5be13f3abb6bddf7ad9747b077da5a0e">m&#95;OneUse</a>(<a href="/docs/api/namespaces/llvm/patternmatch/#ae28f9cbf5b5e3fbeb69d1414285c1760">m&#95;Not</a>(<a href="/docs/api/namespaces/llvm/patternmatch/#aaf522908fe903018eb9b087dd6e49296">m&#95;Value</a>(NotCond)))) &amp;&amp;</span></CodeLine>
<Link id="l02639" /><CodeLine lineNumber="2639"><span class="doxyHighlight">      <a href="#afcd7ba772e220bcd0907ee2f1aa61323">InBlock</a>(NotCond, CurBB-&gt;<a href="/docs/api/classes/llvm/machinebasicblock/#a4874816314c3308be0bf1e71de2078d8">getBasicBlock</a>())) &#123;</span></CodeLine>
<Link id="l02640" /><CodeLine lineNumber="2640"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ae17b24216f27d8266c87b9fa9a70f533">FindMergedConditions</a>(NotCond, <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a1441f79530bc7f3a89118bb8067eac69">TBB</a>, FBB, CurBB, SwitchBB, Opc, TProb, FProb,</span></CodeLine>
<Link id="l02641" /><CodeLine lineNumber="2641"><span class="doxyHighlight">                         !InvertCond);</span></CodeLine>
<Link id="l02642" /><CodeLine lineNumber="2642"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l02643" /><CodeLine lineNumber="2643"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l02644" /><CodeLine lineNumber="2644"></CodeLine>
<Link id="l02645" /><CodeLine lineNumber="2645"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42;BOp = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;Instruction&gt;</a>(<a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a193847098793cdbab306803186676899">Cond</a>);</span></CodeLine>
<Link id="l02646" /><CodeLine lineNumber="2646"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;BOpOp0, &#42;BOpOp1;</span></CodeLine>
<Link id="l02647" /><CodeLine lineNumber="2647"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Compute the effective opcode for Cond, taking into account whether it needs</span></CodeLine>
<Link id="l02648" /><CodeLine lineNumber="2648"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// to be inverted, e.g.</span></CodeLine>
<Link id="l02649" /><CodeLine lineNumber="2649"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">//   and (not (or A, B)), C</span></CodeLine>
<Link id="l02650" /><CodeLine lineNumber="2650"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// gets lowered as</span></CodeLine>
<Link id="l02651" /><CodeLine lineNumber="2651"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">//   and (and (not A, not B), C)</span></CodeLine>
<Link id="l02652" /><CodeLine lineNumber="2652"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/instruction/#ac26154a24f393f523c87cc5f8239f36c">Instruction::BinaryOps</a> BOpc = (<a href="/docs/api/classes/llvm/instruction/#ac26154a24f393f523c87cc5f8239f36c">Instruction::BinaryOps</a>)0;</span></CodeLine>
<Link id="l02653" /><CodeLine lineNumber="2653"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (BOp) &#123;</span></CodeLine>
<Link id="l02654" /><CodeLine lineNumber="2654"><span class="doxyHighlight">    BOpc = <a href="/docs/api/namespaces/llvm/patternmatch/#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(BOp, <a href="/docs/api/namespaces/llvm/patternmatch/#acf8c16eed89e5ee1a10b6dfc08a33b3a">m&#95;LogicalAnd</a>(<a href="/docs/api/namespaces/llvm/patternmatch/#aaf522908fe903018eb9b087dd6e49296">m&#95;Value</a>(BOpOp0), <a href="/docs/api/namespaces/llvm/patternmatch/#aaf522908fe903018eb9b087dd6e49296">m&#95;Value</a>(BOpOp1)))</span></CodeLine>
<Link id="l02655" /><CodeLine lineNumber="2655"><span class="doxyHighlight">               ? Instruction::And</span></CodeLine>
<Link id="l02656" /><CodeLine lineNumber="2656"><span class="doxyHighlight">               : (<a href="/docs/api/namespaces/llvm/patternmatch/#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(BOp, <a href="/docs/api/namespaces/llvm/patternmatch/#a5cce7a41c7581ff15a23ab90eb3b403a">m&#95;LogicalOr</a>(<a href="/docs/api/namespaces/llvm/patternmatch/#aaf522908fe903018eb9b087dd6e49296">m&#95;Value</a>(BOpOp0), <a href="/docs/api/namespaces/llvm/patternmatch/#aaf522908fe903018eb9b087dd6e49296">m&#95;Value</a>(BOpOp1)))</span></CodeLine>
<Link id="l02657" /><CodeLine lineNumber="2657"><span class="doxyHighlight">                      ? Instruction::Or</span></CodeLine>
<Link id="l02658" /><CodeLine lineNumber="2658"><span class="doxyHighlight">                      : (<a href="/docs/api/classes/llvm/instruction/#ac26154a24f393f523c87cc5f8239f36c">Instruction::BinaryOps</a>)0);</span></CodeLine>
<Link id="l02659" /><CodeLine lineNumber="2659"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (InvertCond) &#123;</span></CodeLine>
<Link id="l02660" /><CodeLine lineNumber="2660"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (BOpc == Instruction::And)</span></CodeLine>
<Link id="l02661" /><CodeLine lineNumber="2661"><span class="doxyHighlight">        BOpc = Instruction::Or;</span></CodeLine>
<Link id="l02662" /><CodeLine lineNumber="2662"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (BOpc == Instruction::Or)</span></CodeLine>
<Link id="l02663" /><CodeLine lineNumber="2663"><span class="doxyHighlight">        BOpc = Instruction::And;</span></CodeLine>
<Link id="l02664" /><CodeLine lineNumber="2664"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l02665" /><CodeLine lineNumber="2665"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l02666" /><CodeLine lineNumber="2666"></CodeLine>
<Link id="l02667" /><CodeLine lineNumber="2667"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// If this node is not part of the or/and tree, emit it as a branch.</span></CodeLine>
<Link id="l02668" /><CodeLine lineNumber="2668"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Note that all nodes in the tree should have same opcode.</span></CodeLine>
<Link id="l02669" /><CodeLine lineNumber="2669"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> BOpIsInOrAndTree = BOpc &amp;&amp; BOpc == Opc &amp;&amp; BOp-&gt;<a href="/docs/api/classes/llvm/value/#a3a402430a1bbe70a9282dcb0e0b6a2cd">hasOneUse</a>();</span></CodeLine>
<Link id="l02670" /><CodeLine lineNumber="2670"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!BOpIsInOrAndTree || BOp-&gt;<a href="/docs/api/classes/llvm/ilist-detail/node-parent-access/#a7e19e7508415378ad9523e0339b23e22">getParent</a>() != CurBB-&gt;<a href="/docs/api/classes/llvm/machinebasicblock/#a4874816314c3308be0bf1e71de2078d8">getBasicBlock</a>() ||</span></CodeLine>
<Link id="l02671" /><CodeLine lineNumber="2671"><span class="doxyHighlight">      !<a href="#afcd7ba772e220bcd0907ee2f1aa61323">InBlock</a>(BOpOp0, CurBB-&gt;<a href="/docs/api/classes/llvm/machinebasicblock/#a4874816314c3308be0bf1e71de2078d8">getBasicBlock</a>()) ||</span></CodeLine>
<Link id="l02672" /><CodeLine lineNumber="2672"><span class="doxyHighlight">      !<a href="#afcd7ba772e220bcd0907ee2f1aa61323">InBlock</a>(BOpOp1, CurBB-&gt;<a href="/docs/api/classes/llvm/machinebasicblock/#a4874816314c3308be0bf1e71de2078d8">getBasicBlock</a>())) &#123;</span></CodeLine>
<Link id="l02673" /><CodeLine lineNumber="2673"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#a41a8f459a2dcfcfc624394df6b432689">EmitBranchForMergedCondition</a>(<a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a193847098793cdbab306803186676899">Cond</a>, <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a1441f79530bc7f3a89118bb8067eac69">TBB</a>, FBB, CurBB, SwitchBB,</span></CodeLine>
<Link id="l02674" /><CodeLine lineNumber="2674"><span class="doxyHighlight">                                 TProb, FProb, InvertCond);</span></CodeLine>
<Link id="l02675" /><CodeLine lineNumber="2675"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l02676" /><CodeLine lineNumber="2676"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l02677" /><CodeLine lineNumber="2677"></CodeLine>
<Link id="l02678" /><CodeLine lineNumber="2678"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">//  Create TmpBB after CurBB.</span></CodeLine>
<Link id="l02679" /><CodeLine lineNumber="2679"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/machinefunction/#aaba82c71ffdca966cad10eae0992fff9">MachineFunction::iterator</a> BBI(CurBB);</span></CodeLine>
<Link id="l02680" /><CodeLine lineNumber="2680"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/machinefunction">MachineFunction</a> &amp;MF = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMachineFunction();</span></CodeLine>
<Link id="l02681" /><CodeLine lineNumber="2681"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;TmpBB = MF.<a href="/docs/api/classes/llvm/machinefunction/#adfc62ee16549afaac5bde30156ddc989">CreateMachineBasicBlock</a>(CurBB-&gt;<a href="/docs/api/classes/llvm/machinebasicblock/#a4874816314c3308be0bf1e71de2078d8">getBasicBlock</a>());</span></CodeLine>
<Link id="l02682" /><CodeLine lineNumber="2682"><span class="doxyHighlight">  CurBB-&gt;<a href="/docs/api/classes/llvm/machinebasicblock/#acf6442108e21e7e5379feb8962de65b7">getParent</a>()-&gt;<a href="/docs/api/classes/llvm/machinefunction/#af4c0db6d503e0ba3b8e44067023ffbba">insert</a>(++BBI, TmpBB);</span></CodeLine>
<Link id="l02683" /><CodeLine lineNumber="2683"></CodeLine>
<Link id="l02684" /><CodeLine lineNumber="2684"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Opc == Instruction::Or) &#123;</span></CodeLine>
<Link id="l02685" /><CodeLine lineNumber="2685"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Codegen X | Y as:</span></CodeLine>
<Link id="l02686" /><CodeLine lineNumber="2686"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// BB1:</span></CodeLine>
<Link id="l02687" /><CodeLine lineNumber="2687"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//   jmp&#95;if&#95;X TBB</span></CodeLine>
<Link id="l02688" /><CodeLine lineNumber="2688"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//   jmp TmpBB</span></CodeLine>
<Link id="l02689" /><CodeLine lineNumber="2689"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// TmpBB:</span></CodeLine>
<Link id="l02690" /><CodeLine lineNumber="2690"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//   jmp&#95;if&#95;Y TBB</span></CodeLine>
<Link id="l02691" /><CodeLine lineNumber="2691"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//   jmp FBB</span></CodeLine>
<Link id="l02692" /><CodeLine lineNumber="2692"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l02693" /><CodeLine lineNumber="2693"></CodeLine>
<Link id="l02694" /><CodeLine lineNumber="2694"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// We have flexibility in setting Prob for BB1 and Prob for TmpBB.</span></CodeLine>
<Link id="l02695" /><CodeLine lineNumber="2695"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// The requirement is that</span></CodeLine>
<Link id="l02696" /><CodeLine lineNumber="2696"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//   TrueProb for BB1 + (FalseProb for BB1 &#42; TrueProb for TmpBB)</span></CodeLine>
<Link id="l02697" /><CodeLine lineNumber="2697"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//     = TrueProb for original BB.</span></CodeLine>
<Link id="l02698" /><CodeLine lineNumber="2698"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Assuming the original probabilities are A and B, one choice is to set</span></CodeLine>
<Link id="l02699" /><CodeLine lineNumber="2699"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// BB1&#39;s probabilities to A/2 and A/2+B, and set TmpBB&#39;s probabilities to</span></CodeLine>
<Link id="l02700" /><CodeLine lineNumber="2700"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// A/(1+B) and 2B/(1+B). This choice assumes that</span></CodeLine>
<Link id="l02701" /><CodeLine lineNumber="2701"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//   TrueProb for BB1 == FalseProb for BB1 &#42; TrueProb for TmpBB.</span></CodeLine>
<Link id="l02702" /><CodeLine lineNumber="2702"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Another choice is to assume TrueProb for BB1 equals to TrueProb for</span></CodeLine>
<Link id="l02703" /><CodeLine lineNumber="2703"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// TmpBB, but the math is more complicated.</span></CodeLine>
<Link id="l02704" /><CodeLine lineNumber="2704"></CodeLine>
<Link id="l02705" /><CodeLine lineNumber="2705"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> NewTrueProb = TProb / 2;</span></CodeLine>
<Link id="l02706" /><CodeLine lineNumber="2706"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> NewFalseProb = TProb / 2 + FProb;</span></CodeLine>
<Link id="l02707" /><CodeLine lineNumber="2707"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Emit the LHS condition.</span></CodeLine>
<Link id="l02708" /><CodeLine lineNumber="2708"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ae17b24216f27d8266c87b9fa9a70f533">FindMergedConditions</a>(BOpOp0, <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a1441f79530bc7f3a89118bb8067eac69">TBB</a>, TmpBB, CurBB, SwitchBB, Opc, NewTrueProb,</span></CodeLine>
<Link id="l02709" /><CodeLine lineNumber="2709"><span class="doxyHighlight">                         NewFalseProb, InvertCond);</span></CodeLine>
<Link id="l02710" /><CodeLine lineNumber="2710"></CodeLine>
<Link id="l02711" /><CodeLine lineNumber="2711"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Normalize A/2 and B to get A/(1+B) and 2B/(1+B).</span></CodeLine>
<Link id="l02712" /><CodeLine lineNumber="2712"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/smallvector">SmallVector&lt;BranchProbability, 2&gt;</a> Probs&#123;TProb / 2, FProb&#125;;</span></CodeLine>
<Link id="l02713" /><CodeLine lineNumber="2713"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/branchprobability/#afff2bab6bb7f206bbacad5dd589a6186">BranchProbability::normalizeProbabilities</a>(Probs.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#a8a045d250952c0867382a9840ee18fdf">begin</a>(), Probs.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#a075e34e98605d0e7c289763a104869ac">end</a>());</span></CodeLine>
<Link id="l02714" /><CodeLine lineNumber="2714"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Emit the RHS condition into TmpBB.</span></CodeLine>
<Link id="l02715" /><CodeLine lineNumber="2715"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ae17b24216f27d8266c87b9fa9a70f533">FindMergedConditions</a>(BOpOp1, <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a1441f79530bc7f3a89118bb8067eac69">TBB</a>, FBB, TmpBB, SwitchBB, Opc, Probs&#91;0&#93;,</span></CodeLine>
<Link id="l02716" /><CodeLine lineNumber="2716"><span class="doxyHighlight">                         Probs&#91;1&#93;, InvertCond);</span></CodeLine>
<Link id="l02717" /><CodeLine lineNumber="2717"><span class="doxyHighlight">  &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l02718" /><CodeLine lineNumber="2718"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Opc == Instruction::And &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Unknown merge op!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l02719" /><CodeLine lineNumber="2719"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Codegen X &amp; Y as:</span></CodeLine>
<Link id="l02720" /><CodeLine lineNumber="2720"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// BB1:</span></CodeLine>
<Link id="l02721" /><CodeLine lineNumber="2721"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//   jmp&#95;if&#95;X TmpBB</span></CodeLine>
<Link id="l02722" /><CodeLine lineNumber="2722"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//   jmp FBB</span></CodeLine>
<Link id="l02723" /><CodeLine lineNumber="2723"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// TmpBB:</span></CodeLine>
<Link id="l02724" /><CodeLine lineNumber="2724"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//   jmp&#95;if&#95;Y TBB</span></CodeLine>
<Link id="l02725" /><CodeLine lineNumber="2725"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//   jmp FBB</span></CodeLine>
<Link id="l02726" /><CodeLine lineNumber="2726"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l02727" /><CodeLine lineNumber="2727"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//  This requires creation of TmpBB after CurBB.</span></CodeLine>
<Link id="l02728" /><CodeLine lineNumber="2728"></CodeLine>
<Link id="l02729" /><CodeLine lineNumber="2729"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// We have flexibility in setting Prob for BB1 and Prob for TmpBB.</span></CodeLine>
<Link id="l02730" /><CodeLine lineNumber="2730"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// The requirement is that</span></CodeLine>
<Link id="l02731" /><CodeLine lineNumber="2731"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//   FalseProb for BB1 + (TrueProb for BB1 &#42; FalseProb for TmpBB)</span></CodeLine>
<Link id="l02732" /><CodeLine lineNumber="2732"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//     = FalseProb for original BB.</span></CodeLine>
<Link id="l02733" /><CodeLine lineNumber="2733"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Assuming the original probabilities are A and B, one choice is to set</span></CodeLine>
<Link id="l02734" /><CodeLine lineNumber="2734"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// BB1&#39;s probabilities to A+B/2 and B/2, and set TmpBB&#39;s probabilities to</span></CodeLine>
<Link id="l02735" /><CodeLine lineNumber="2735"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// 2A/(1+A) and B/(1+A). This choice assumes that FalseProb for BB1 ==</span></CodeLine>
<Link id="l02736" /><CodeLine lineNumber="2736"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// TrueProb for BB1 &#42; FalseProb for TmpBB.</span></CodeLine>
<Link id="l02737" /><CodeLine lineNumber="2737"></CodeLine>
<Link id="l02738" /><CodeLine lineNumber="2738"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> NewTrueProb = TProb + FProb / 2;</span></CodeLine>
<Link id="l02739" /><CodeLine lineNumber="2739"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> NewFalseProb = FProb / 2;</span></CodeLine>
<Link id="l02740" /><CodeLine lineNumber="2740"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Emit the LHS condition.</span></CodeLine>
<Link id="l02741" /><CodeLine lineNumber="2741"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ae17b24216f27d8266c87b9fa9a70f533">FindMergedConditions</a>(BOpOp0, TmpBB, FBB, CurBB, SwitchBB, Opc, NewTrueProb,</span></CodeLine>
<Link id="l02742" /><CodeLine lineNumber="2742"><span class="doxyHighlight">                         NewFalseProb, InvertCond);</span></CodeLine>
<Link id="l02743" /><CodeLine lineNumber="2743"></CodeLine>
<Link id="l02744" /><CodeLine lineNumber="2744"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Normalize A and B/2 to get 2A/(1+A) and B/(1+A).</span></CodeLine>
<Link id="l02745" /><CodeLine lineNumber="2745"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/smallvector">SmallVector&lt;BranchProbability, 2&gt;</a> Probs&#123;TProb, FProb / 2&#125;;</span></CodeLine>
<Link id="l02746" /><CodeLine lineNumber="2746"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/branchprobability/#afff2bab6bb7f206bbacad5dd589a6186">BranchProbability::normalizeProbabilities</a>(Probs.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#a8a045d250952c0867382a9840ee18fdf">begin</a>(), Probs.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#a075e34e98605d0e7c289763a104869ac">end</a>());</span></CodeLine>
<Link id="l02747" /><CodeLine lineNumber="2747"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Emit the RHS condition into TmpBB.</span></CodeLine>
<Link id="l02748" /><CodeLine lineNumber="2748"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ae17b24216f27d8266c87b9fa9a70f533">FindMergedConditions</a>(BOpOp1, <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a1441f79530bc7f3a89118bb8067eac69">TBB</a>, FBB, TmpBB, SwitchBB, Opc, Probs&#91;0&#93;,</span></CodeLine>
<Link id="l02749" /><CodeLine lineNumber="2749"><span class="doxyHighlight">                         Probs&#91;1&#93;, InvertCond);</span></CodeLine>
<Link id="l02750" /><CodeLine lineNumber="2750"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l02751" /><CodeLine lineNumber="2751"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l02752" /><CodeLine lineNumber="2752"></CodeLine>
<Link id="l02753" /><CodeLine lineNumber="2753"><span class="doxyHighlightComment">/// If the set of cases should be emitted as a series of branches, return true.</span></CodeLine>
<Link id="l02754" /><CodeLine lineNumber="2754"><span class="doxyHighlightComment">/// If we should emit this as a bunch of and/or&#39;d together conditions, return</span></CodeLine>
<Link id="l02755" /><CodeLine lineNumber="2755"><span class="doxyHighlightComment">/// false.</span></CodeLine>
<Link id="l02756" /><CodeLine lineNumber="2756"><span class="doxyHighlightKeywordType">bool</span></CodeLine>
<Link id="l02757" /><CodeLine lineNumber="2757" lineLink="/docs/api/classes/llvm/selectiondagbuilder/#a3b3bd2c89ff35a733d365b34c2dca4fb"><span class="doxyHighlight"><a href="/docs/api/classes/llvm/selectiondagbuilder/#a3b3bd2c89ff35a733d365b34c2dca4fb">SelectionDAGBuilder::ShouldEmitAsBranches</a>(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> std::vector&lt;CaseBlock&gt; &amp;Cases) &#123;</span></CodeLine>
<Link id="l02758" /><CodeLine lineNumber="2758"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Cases.size() != 2) </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l02759" /><CodeLine lineNumber="2759"></CodeLine>
<Link id="l02760" /><CodeLine lineNumber="2760"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// If this is two comparisons of the same values or&#39;d or and&#39;d together, they</span></CodeLine>
<Link id="l02761" /><CodeLine lineNumber="2761"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// will get folded into a single comparison, so don&#39;t emit two blocks.</span></CodeLine>
<Link id="l02762" /><CodeLine lineNumber="2762"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> ((Cases&#91;0&#93;.CmpLHS == Cases&#91;1&#93;.CmpLHS &amp;&amp;</span></CodeLine>
<Link id="l02763" /><CodeLine lineNumber="2763"><span class="doxyHighlight">       Cases&#91;0&#93;.CmpRHS == Cases&#91;1&#93;.CmpRHS) ||</span></CodeLine>
<Link id="l02764" /><CodeLine lineNumber="2764"><span class="doxyHighlight">      (Cases&#91;0&#93;.CmpRHS == Cases&#91;1&#93;.CmpLHS &amp;&amp;</span></CodeLine>
<Link id="l02765" /><CodeLine lineNumber="2765"><span class="doxyHighlight">       Cases&#91;0&#93;.CmpLHS == Cases&#91;1&#93;.CmpRHS)) &#123;</span></CodeLine>
<Link id="l02766" /><CodeLine lineNumber="2766"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l02767" /><CodeLine lineNumber="2767"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l02768" /><CodeLine lineNumber="2768"></CodeLine>
<Link id="l02769" /><CodeLine lineNumber="2769"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Handle: (X != null) | (Y != null) --&gt; (X|Y) != 0</span></CodeLine>
<Link id="l02770" /><CodeLine lineNumber="2770"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Handle: (X == null) &amp; (Y == null) --&gt; (X|Y) == 0</span></CodeLine>
<Link id="l02771" /><CodeLine lineNumber="2771"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Cases&#91;0&#93;.CmpRHS == Cases&#91;1&#93;.CmpRHS &amp;&amp;</span></CodeLine>
<Link id="l02772" /><CodeLine lineNumber="2772"><span class="doxyHighlight">      Cases&#91;0&#93;.<a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a77c69067ae8279bc00ab8757731e90d7">CC</a> == Cases&#91;1&#93;.<a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a77c69067ae8279bc00ab8757731e90d7">CC</a> &amp;&amp;</span></CodeLine>
<Link id="l02773" /><CodeLine lineNumber="2773"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;Constant&gt;</a>(Cases&#91;0&#93;.CmpRHS) &amp;&amp;</span></CodeLine>
<Link id="l02774" /><CodeLine lineNumber="2774"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;Constant&gt;</a>(Cases&#91;0&#93;.CmpRHS)-&gt;isNullValue()) &#123;</span></CodeLine>
<Link id="l02775" /><CodeLine lineNumber="2775"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Cases&#91;0&#93;.<a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a77c69067ae8279bc00ab8757731e90d7">CC</a> == <a href="/docs/api/namespaces/llvm/isd/#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a> &amp;&amp; Cases&#91;0&#93;.TrueBB == Cases&#91;1&#93;.ThisBB)</span></CodeLine>
<Link id="l02776" /><CodeLine lineNumber="2776"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l02777" /><CodeLine lineNumber="2777"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Cases&#91;0&#93;.<a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a77c69067ae8279bc00ab8757731e90d7">CC</a> == <a href="/docs/api/namespaces/llvm/isd/#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a> &amp;&amp; Cases&#91;0&#93;.FalseBB == Cases&#91;1&#93;.ThisBB)</span></CodeLine>
<Link id="l02778" /><CodeLine lineNumber="2778"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l02779" /><CodeLine lineNumber="2779"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l02780" /><CodeLine lineNumber="2780"></CodeLine>
<Link id="l02781" /><CodeLine lineNumber="2781"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l02782" /><CodeLine lineNumber="2782"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l02783" /><CodeLine lineNumber="2783"></CodeLine>
<Link id="l02784" /><CodeLine lineNumber="2784"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitBr(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/branchinst">BranchInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l02785" /><CodeLine lineNumber="2785"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;BrMBB = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.<a href="/docs/api/classes/llvm/functionloweringinfo/#a9893077f1825192ca0f3d173afefb573">MBB</a>;</span></CodeLine>
<Link id="l02786" /><CodeLine lineNumber="2786"></CodeLine>
<Link id="l02787" /><CodeLine lineNumber="2787"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Update machine-CFG edges.</span></CodeLine>
<Link id="l02788" /><CodeLine lineNumber="2788"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;Succ0MBB = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.<a href="/docs/api/classes/llvm/functionloweringinfo/#a14a2bf30885cc5b91b86a564759980bb">getMBB</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getSuccessor(0));</span></CodeLine>
<Link id="l02789" /><CodeLine lineNumber="2789"></CodeLine>
<Link id="l02790" /><CodeLine lineNumber="2790"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.isUnconditional()) &#123;</span></CodeLine>
<Link id="l02791" /><CodeLine lineNumber="2791"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Update machine-CFG edges.</span></CodeLine>
<Link id="l02792" /><CodeLine lineNumber="2792"><span class="doxyHighlight">    BrMBB-&gt;<a href="/docs/api/classes/llvm/machinebasicblock/#a935e2a8884592189d8f261634a0b24c5">addSuccessor</a>(Succ0MBB);</span></CodeLine>
<Link id="l02793" /><CodeLine lineNumber="2793"></CodeLine>
<Link id="l02794" /><CodeLine lineNumber="2794"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// If this is not a fall-through branch or optimizations are switched off,</span></CodeLine>
<Link id="l02795" /><CodeLine lineNumber="2795"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// emit the branch.</span></CodeLine>
<Link id="l02796" /><CodeLine lineNumber="2796"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Succ0MBB != NextBlock(BrMBB) ||</span></CodeLine>
<Link id="l02797" /><CodeLine lineNumber="2797"><span class="doxyHighlight">        TM.<a href="/docs/api/classes/llvm/targetmachine/#a030edbec5a50c887caf3ec95c7c50c44">getOptLevel</a>() == <a href="/docs/api/namespaces/llvm/#a8ec1bf8d7b792ca9fac56f8514db18d2a6adf97f83acf6453d4a6a4b1070f3754">CodeGenOptLevel::None</a>) &#123;</span></CodeLine>
<Link id="l02798" /><CodeLine lineNumber="2798"><span class="doxyHighlight">      </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> Br = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::BR, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), MVT::Other,</span></CodeLine>
<Link id="l02799" /><CodeLine lineNumber="2799"><span class="doxyHighlight">                            <a href="/docs/api/classes/llvm/selectiondagbuilder/#aef34360e8bb4bdecf3fd6345ff504f81">getControlRoot</a>(), <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.<a href="/docs/api/classes/llvm/selectiondag/#a9bcd28463c35c990c4bc354b0ec70fb8">getBasicBlock</a>(Succ0MBB));</span></CodeLine>
<Link id="l02800" /><CodeLine lineNumber="2800"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Br);</span></CodeLine>
<Link id="l02801" /><CodeLine lineNumber="2801"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.<a href="/docs/api/classes/llvm/selectiondag/#ae0fc3f54d06d2230bf93a19d45f51706">setRoot</a>(Br);</span></CodeLine>
<Link id="l02802" /><CodeLine lineNumber="2802"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l02803" /><CodeLine lineNumber="2803"></CodeLine>
<Link id="l02804" /><CodeLine lineNumber="2804"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l02805" /><CodeLine lineNumber="2805"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l02806" /><CodeLine lineNumber="2806"></CodeLine>
<Link id="l02807" /><CodeLine lineNumber="2807"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// If this condition is one of the special cases we handle, do special stuff</span></CodeLine>
<Link id="l02808" /><CodeLine lineNumber="2808"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// now.</span></CodeLine>
<Link id="l02809" /><CodeLine lineNumber="2809"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;CondVal = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getCondition();</span></CodeLine>
<Link id="l02810" /><CodeLine lineNumber="2810"><span class="doxyHighlight">  MachineBasicBlock &#42;Succ1MBB = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.getMBB(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getSuccessor(1));</span></CodeLine>
<Link id="l02811" /><CodeLine lineNumber="2811"></CodeLine>
<Link id="l02812" /><CodeLine lineNumber="2812"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// If this is a series of conditions that are or&#39;d or and&#39;d together, emit</span></CodeLine>
<Link id="l02813" /><CodeLine lineNumber="2813"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// this as a sequence of branches instead of setcc&#39;s with and/or operations.</span></CodeLine>
<Link id="l02814" /><CodeLine lineNumber="2814"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// As long as jumps are not expensive (exceptions for multi-use logic ops,</span></CodeLine>
<Link id="l02815" /><CodeLine lineNumber="2815"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// unpredictable branches, and vector extracts because those jumps are likely</span></CodeLine>
<Link id="l02816" /><CodeLine lineNumber="2816"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// expensive for any target), this should improve performance.</span></CodeLine>
<Link id="l02817" /><CodeLine lineNumber="2817"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// For example, instead of something like:</span></CodeLine>
<Link id="l02818" /><CodeLine lineNumber="2818"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">//     cmp A, B</span></CodeLine>
<Link id="l02819" /><CodeLine lineNumber="2819"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">//     C = seteq</span></CodeLine>
<Link id="l02820" /><CodeLine lineNumber="2820"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">//     cmp D, E</span></CodeLine>
<Link id="l02821" /><CodeLine lineNumber="2821"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">//     F = setle</span></CodeLine>
<Link id="l02822" /><CodeLine lineNumber="2822"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">//     or C, F</span></CodeLine>
<Link id="l02823" /><CodeLine lineNumber="2823"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">//     jnz foo</span></CodeLine>
<Link id="l02824" /><CodeLine lineNumber="2824"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Emit:</span></CodeLine>
<Link id="l02825" /><CodeLine lineNumber="2825"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">//     cmp A, B</span></CodeLine>
<Link id="l02826" /><CodeLine lineNumber="2826"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">//     je foo</span></CodeLine>
<Link id="l02827" /><CodeLine lineNumber="2827"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">//     cmp D, E</span></CodeLine>
<Link id="l02828" /><CodeLine lineNumber="2828"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">//     jle foo</span></CodeLine>
<Link id="l02829" /><CodeLine lineNumber="2829"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> IsUnpredictable = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.hasMetadata(LLVMContext::MD&#95;unpredictable);</span></CodeLine>
<Link id="l02830" /><CodeLine lineNumber="2830"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/sandboxir/#a75d3582b0f0bc7a5123de92ada301e97">Instruction</a> &#42;BOp = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;Instruction&gt;</a>(CondVal);</span></CodeLine>
<Link id="l02831" /><CodeLine lineNumber="2831"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo().isJumpExpensive() &amp;&amp; BOp &amp;&amp;</span></CodeLine>
<Link id="l02832" /><CodeLine lineNumber="2832"><span class="doxyHighlight">      BOp-&gt;<a href="/docs/api/classes/llvm/value/#a3a402430a1bbe70a9282dcb0e0b6a2cd">hasOneUse</a>() &amp;&amp; !IsUnpredictable) &#123;</span></CodeLine>
<Link id="l02833" /><CodeLine lineNumber="2833"><span class="doxyHighlight">    Value &#42;Vec;</span></CodeLine>
<Link id="l02834" /><CodeLine lineNumber="2834"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;BOp0, &#42;BOp1;</span></CodeLine>
<Link id="l02835" /><CodeLine lineNumber="2835"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/instruction/#ac26154a24f393f523c87cc5f8239f36c">Instruction::BinaryOps</a> Opcode = (<a href="/docs/api/classes/llvm/instruction/#ac26154a24f393f523c87cc5f8239f36c">Instruction::BinaryOps</a>)0;</span></CodeLine>
<Link id="l02836" /><CodeLine lineNumber="2836"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/patternmatch/#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(BOp, <a href="/docs/api/namespaces/llvm/patternmatch/#acf8c16eed89e5ee1a10b6dfc08a33b3a">m&#95;LogicalAnd</a>(<a href="/docs/api/namespaces/llvm/patternmatch/#aaf522908fe903018eb9b087dd6e49296">m&#95;Value</a>(BOp0), <a href="/docs/api/namespaces/llvm/patternmatch/#aaf522908fe903018eb9b087dd6e49296">m&#95;Value</a>(BOp1))))</span></CodeLine>
<Link id="l02837" /><CodeLine lineNumber="2837"><span class="doxyHighlight">      Opcode = Instruction::And;</span></CodeLine>
<Link id="l02838" /><CodeLine lineNumber="2838"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/patternmatch/#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(BOp, <a href="/docs/api/namespaces/llvm/patternmatch/#a5cce7a41c7581ff15a23ab90eb3b403a">m&#95;LogicalOr</a>(<a href="/docs/api/namespaces/llvm/patternmatch/#aaf522908fe903018eb9b087dd6e49296">m&#95;Value</a>(BOp0), <a href="/docs/api/namespaces/llvm/patternmatch/#aaf522908fe903018eb9b087dd6e49296">m&#95;Value</a>(BOp1))))</span></CodeLine>
<Link id="l02839" /><CodeLine lineNumber="2839"><span class="doxyHighlight">      Opcode = Instruction::Or;</span></CodeLine>
<Link id="l02840" /><CodeLine lineNumber="2840"></CodeLine>
<Link id="l02841" /><CodeLine lineNumber="2841"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Opcode &amp;&amp;</span></CodeLine>
<Link id="l02842" /><CodeLine lineNumber="2842"><span class="doxyHighlight">        !(<a href="/docs/api/namespaces/llvm/patternmatch/#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(BOp0, <a href="/docs/api/namespaces/llvm/patternmatch/#a36633f71df7e81c6155619890e65a8b2">m&#95;ExtractElt</a>(<a href="/docs/api/namespaces/llvm/patternmatch/#aaf522908fe903018eb9b087dd6e49296">m&#95;Value</a>(Vec), <a href="/docs/api/namespaces/llvm/patternmatch/#aaf522908fe903018eb9b087dd6e49296">m&#95;Value</a>())) &amp;&amp;</span></CodeLine>
<Link id="l02843" /><CodeLine lineNumber="2843"><span class="doxyHighlight">          <a href="/docs/api/namespaces/llvm/patternmatch/#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(BOp1, <a href="/docs/api/namespaces/llvm/patternmatch/#a36633f71df7e81c6155619890e65a8b2">m&#95;ExtractElt</a>(<a href="/docs/api/namespaces/llvm/patternmatch/#a2d9861feadd3a09792967a012559e7b2">m&#95;Specific</a>(Vec), <a href="/docs/api/namespaces/llvm/patternmatch/#aaf522908fe903018eb9b087dd6e49296">m&#95;Value</a>()))) &amp;&amp;</span></CodeLine>
<Link id="l02844" /><CodeLine lineNumber="2844"><span class="doxyHighlight">        !<a href="/docs/api/classes/llvm/selectiondagbuilder/#a732bd4cf41862afa6092c1648c02e256">shouldKeepJumpConditionsTogether</a>(</span></CodeLine>
<Link id="l02845" /><CodeLine lineNumber="2845"><span class="doxyHighlight">            <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>, <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Opcode, BOp0, BOp1,</span></CodeLine>
<Link id="l02846" /><CodeLine lineNumber="2846"><span class="doxyHighlight">            <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo().getJumpConditionMergingParams(</span></CodeLine>
<Link id="l02847" /><CodeLine lineNumber="2847"><span class="doxyHighlight">                Opcode, BOp0, BOp1))) &#123;</span></CodeLine>
<Link id="l02848" /><CodeLine lineNumber="2848"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ae17b24216f27d8266c87b9fa9a70f533">FindMergedConditions</a>(BOp, Succ0MBB, Succ1MBB, BrMBB, BrMBB, Opcode,</span></CodeLine>
<Link id="l02849" /><CodeLine lineNumber="2849"><span class="doxyHighlight">                           getEdgeProbability(BrMBB, Succ0MBB),</span></CodeLine>
<Link id="l02850" /><CodeLine lineNumber="2850"><span class="doxyHighlight">                           getEdgeProbability(BrMBB, Succ1MBB),</span></CodeLine>
<Link id="l02851" /><CodeLine lineNumber="2851"><span class="doxyHighlight">                           </span><span class="doxyHighlightComment">/&#42;InvertCond=&#42;/</span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l02852" /><CodeLine lineNumber="2852"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// If the compares in later blocks need to use values not currently</span></CodeLine>
<Link id="l02853" /><CodeLine lineNumber="2853"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// exported from this block, export them now.  This block should always</span></CodeLine>
<Link id="l02854" /><CodeLine lineNumber="2854"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// be the first entry.</span></CodeLine>
<Link id="l02855" /><CodeLine lineNumber="2855"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#a346bf6c4d7fca3ebce554ec2cdd80e87">SL</a>-&gt;SwitchCases&#91;0&#93;.ThisBB == BrMBB &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Unexpected lowering!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l02856" /><CodeLine lineNumber="2856"></CodeLine>
<Link id="l02857" /><CodeLine lineNumber="2857"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Allow some cases to be rejected.</span></CodeLine>
<Link id="l02858" /><CodeLine lineNumber="2858"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/classes/llvm/selectiondagbuilder/#a3b3bd2c89ff35a733d365b34c2dca4fb">ShouldEmitAsBranches</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#a346bf6c4d7fca3ebce554ec2cdd80e87">SL</a>-&gt;SwitchCases)) &#123;</span></CodeLine>
<Link id="l02859" /><CodeLine lineNumber="2859"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> i = 1, e = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a346bf6c4d7fca3ebce554ec2cdd80e87">SL</a>-&gt;SwitchCases.size(); i != e; ++i) &#123;</span></CodeLine>
<Link id="l02860" /><CodeLine lineNumber="2860"><span class="doxyHighlight">          <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa5254258c6a479f86e6ecfc4dcdd7a5e">ExportFromCurrentBlock</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#a346bf6c4d7fca3ebce554ec2cdd80e87">SL</a>-&gt;SwitchCases&#91;i&#93;.CmpLHS);</span></CodeLine>
<Link id="l02861" /><CodeLine lineNumber="2861"><span class="doxyHighlight">          <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa5254258c6a479f86e6ecfc4dcdd7a5e">ExportFromCurrentBlock</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#a346bf6c4d7fca3ebce554ec2cdd80e87">SL</a>-&gt;SwitchCases&#91;i&#93;.CmpRHS);</span></CodeLine>
<Link id="l02862" /><CodeLine lineNumber="2862"><span class="doxyHighlight">        &#125;</span></CodeLine>
<Link id="l02863" /><CodeLine lineNumber="2863"></CodeLine>
<Link id="l02864" /><CodeLine lineNumber="2864"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// Emit the branch for this block.</span></CodeLine>
<Link id="l02865" /><CodeLine lineNumber="2865"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagbuilder/#afe7d9f31d3030277242731ccf43478c0">visitSwitchCase</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#a346bf6c4d7fca3ebce554ec2cdd80e87">SL</a>-&gt;SwitchCases&#91;0&#93;, BrMBB);</span></CodeLine>
<Link id="l02866" /><CodeLine lineNumber="2866"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagbuilder/#a346bf6c4d7fca3ebce554ec2cdd80e87">SL</a>-&gt;SwitchCases.erase(<a href="/docs/api/classes/llvm/selectiondagbuilder/#a346bf6c4d7fca3ebce554ec2cdd80e87">SL</a>-&gt;SwitchCases.begin());</span></CodeLine>
<Link id="l02867" /><CodeLine lineNumber="2867"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l02868" /><CodeLine lineNumber="2868"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l02869" /><CodeLine lineNumber="2869"></CodeLine>
<Link id="l02870" /><CodeLine lineNumber="2870"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Okay, we decided not to do this, remove any inserted MBB&#39;s and clear</span></CodeLine>
<Link id="l02871" /><CodeLine lineNumber="2871"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// SwitchCases.</span></CodeLine>
<Link id="l02872" /><CodeLine lineNumber="2872"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> i = 1, e = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a346bf6c4d7fca3ebce554ec2cdd80e87">SL</a>-&gt;SwitchCases.size(); i != e; ++i)</span></CodeLine>
<Link id="l02873" /><CodeLine lineNumber="2873"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.MF-&gt;erase(<a href="/docs/api/classes/llvm/selectiondagbuilder/#a346bf6c4d7fca3ebce554ec2cdd80e87">SL</a>-&gt;SwitchCases&#91;i&#93;.ThisBB);</span></CodeLine>
<Link id="l02874" /><CodeLine lineNumber="2874"></CodeLine>
<Link id="l02875" /><CodeLine lineNumber="2875"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#a346bf6c4d7fca3ebce554ec2cdd80e87">SL</a>-&gt;SwitchCases.clear();</span></CodeLine>
<Link id="l02876" /><CodeLine lineNumber="2876"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l02877" /><CodeLine lineNumber="2877"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l02878" /><CodeLine lineNumber="2878"></CodeLine>
<Link id="l02879" /><CodeLine lineNumber="2879"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Create a CaseBlock record representing this branch.</span></CodeLine>
<Link id="l02880" /><CodeLine lineNumber="2880"><span class="doxyHighlight">  CaseBlock CB(<a href="/docs/api/namespaces/llvm/isd/#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a>, CondVal, <a href="/docs/api/classes/llvm/constantint/#a82dbbd8e3688b0bc1eedb338864d0d0c">ConstantInt::getTrue</a>(&#42;<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getContext()),</span></CodeLine>
<Link id="l02881" /><CodeLine lineNumber="2881"><span class="doxyHighlight">               </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">, Succ0MBB, Succ1MBB, BrMBB, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(),</span></CodeLine>
<Link id="l02882" /><CodeLine lineNumber="2882"><span class="doxyHighlight">               <a href="/docs/api/classes/llvm/branchprobability/#a76e4454abb329dee28e8f525ddd1a210">BranchProbability::getUnknown</a>(), <a href="/docs/api/classes/llvm/branchprobability/#a76e4454abb329dee28e8f525ddd1a210">BranchProbability::getUnknown</a>(),</span></CodeLine>
<Link id="l02883" /><CodeLine lineNumber="2883"><span class="doxyHighlight">               IsUnpredictable);</span></CodeLine>
<Link id="l02884" /><CodeLine lineNumber="2884"></CodeLine>
<Link id="l02885" /><CodeLine lineNumber="2885"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Use visitSwitchCase to actually insert the fast branch sequence for this</span></CodeLine>
<Link id="l02886" /><CodeLine lineNumber="2886"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// cond branch.</span></CodeLine>
<Link id="l02887" /><CodeLine lineNumber="2887"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#afe7d9f31d3030277242731ccf43478c0">visitSwitchCase</a>(CB, BrMBB);</span></CodeLine>
<Link id="l02888" /><CodeLine lineNumber="2888"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l02889" /><CodeLine lineNumber="2889"></CodeLine>
<Link id="l02890" /><CodeLine lineNumber="2890"><span class="doxyHighlightComment">/// visitSwitchCase - Emits the necessary code to represent a single node in</span></CodeLine>
<Link id="l02891" /><CodeLine lineNumber="2891"><span class="doxyHighlightComment">/// the binary search tree resulting from lowering a switch instruction.</span></CodeLine>
<Link id="l02892" /><CodeLine lineNumber="2892" lineLink="/docs/api/classes/llvm/selectiondagbuilder/#afe7d9f31d3030277242731ccf43478c0"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#afe7d9f31d3030277242731ccf43478c0">SelectionDAGBuilder::visitSwitchCase</a>(<a href="/docs/api/structs/llvm/switchcg/caseblock">CaseBlock</a> &amp;CB,</span></CodeLine>
<Link id="l02893" /><CodeLine lineNumber="2893"><span class="doxyHighlight">                                          <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;SwitchBB) &#123;</span></CodeLine>
<Link id="l02894" /><CodeLine lineNumber="2894"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a193847098793cdbab306803186676899">Cond</a>;</span></CodeLine>
<Link id="l02895" /><CodeLine lineNumber="2895"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> CondLHS = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(CB.<a href="/docs/api/structs/llvm/switchcg/caseblock/#a8c69b42db9fbec24257dd3f4991dcc45">CmpLHS</a>);</span></CodeLine>
<Link id="l02896" /><CodeLine lineNumber="2896"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> dl = CB.<a href="/docs/api/structs/llvm/switchcg/caseblock/#afa78f50d45ebf96fcdafc6566a3d4951">DL</a>;</span></CodeLine>
<Link id="l02897" /><CodeLine lineNumber="2897"></CodeLine>
<Link id="l02898" /><CodeLine lineNumber="2898"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (CB.<a href="/docs/api/structs/llvm/switchcg/caseblock/#aed88926c7c267de324ad1fb3849711da">CC</a> == <a href="/docs/api/namespaces/llvm/isd/#ac3c3cf58d6d631af6a172457304d3d07a8e273eab0623ea5713aa5bcbdac2b16b">ISD::SETTRUE</a>) &#123;</span></CodeLine>
<Link id="l02899" /><CodeLine lineNumber="2899"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Branch or fall through to TrueBB.</span></CodeLine>
<Link id="l02900" /><CodeLine lineNumber="2900"><span class="doxyHighlight">    addSuccessorWithProb(SwitchBB, CB.<a href="/docs/api/structs/llvm/switchcg/caseblock/#a85dee301aa78d53f5a80ec7f8739bb00">TrueBB</a>, CB.<a href="/docs/api/structs/llvm/switchcg/caseblock/#a11ec00a8f98caffafaae61f79580d2ec">TrueProb</a>);</span></CodeLine>
<Link id="l02901" /><CodeLine lineNumber="2901"><span class="doxyHighlight">    SwitchBB-&gt;<a href="/docs/api/classes/llvm/machinebasicblock/#a0c54da24de983d197068425e718fb607">normalizeSuccProbs</a>();</span></CodeLine>
<Link id="l02902" /><CodeLine lineNumber="2902"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (CB.<a href="/docs/api/structs/llvm/switchcg/caseblock/#a85dee301aa78d53f5a80ec7f8739bb00">TrueBB</a> != NextBlock(SwitchBB)) &#123;</span></CodeLine>
<Link id="l02903" /><CodeLine lineNumber="2903"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::BR, dl, MVT::Other, <a href="/docs/api/classes/llvm/selectiondagbuilder/#aef34360e8bb4bdecf3fd6345ff504f81">getControlRoot</a>(),</span></CodeLine>
<Link id="l02904" /><CodeLine lineNumber="2904"><span class="doxyHighlight">                              <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getBasicBlock(CB.<a href="/docs/api/structs/llvm/switchcg/caseblock/#a85dee301aa78d53f5a80ec7f8739bb00">TrueBB</a>)));</span></CodeLine>
<Link id="l02905" /><CodeLine lineNumber="2905"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l02906" /><CodeLine lineNumber="2906"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l02907" /><CodeLine lineNumber="2907"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l02908" /><CodeLine lineNumber="2908"></CodeLine>
<Link id="l02909" /><CodeLine lineNumber="2909"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l02910" /><CodeLine lineNumber="2910"><span class="doxyHighlight">  <a href="/docs/api/structs/llvm/evt">EVT</a> MemVT = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a02b5aaf4357ae931647439e312a034bc">getMemValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), CB.<a href="/docs/api/structs/llvm/switchcg/caseblock/#a8c69b42db9fbec24257dd3f4991dcc45">CmpLHS</a>-&gt;<a href="/docs/api/classes/llvm/value/#a0344a49526443edf90cc0aef3abd3337">getType</a>());</span></CodeLine>
<Link id="l02911" /><CodeLine lineNumber="2911"></CodeLine>
<Link id="l02912" /><CodeLine lineNumber="2912"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Build the setcc now.</span></CodeLine>
<Link id="l02913" /><CodeLine lineNumber="2913"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!CB.<a href="/docs/api/structs/llvm/switchcg/caseblock/#aac82e73a81c735151477cce79e665ded">CmpMHS</a>) &#123;</span></CodeLine>
<Link id="l02914" /><CodeLine lineNumber="2914"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Fold &quot;(X == true)&quot; to X and &quot;(X == false)&quot; to !X to</span></CodeLine>
<Link id="l02915" /><CodeLine lineNumber="2915"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// handle common cases produced by branch lowering.</span></CodeLine>
<Link id="l02916" /><CodeLine lineNumber="2916"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (CB.<a href="/docs/api/structs/llvm/switchcg/caseblock/#a38cbab750fe1c9367b0b60d1fc5b93b3">CmpRHS</a> == <a href="/docs/api/classes/llvm/constantint/#a82dbbd8e3688b0bc1eedb338864d0d0c">ConstantInt::getTrue</a>(&#42;<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getContext()) &amp;&amp;</span></CodeLine>
<Link id="l02917" /><CodeLine lineNumber="2917"><span class="doxyHighlight">        CB.<a href="/docs/api/structs/llvm/switchcg/caseblock/#aed88926c7c267de324ad1fb3849711da">CC</a> == <a href="/docs/api/namespaces/llvm/isd/#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a>)</span></CodeLine>
<Link id="l02918" /><CodeLine lineNumber="2918"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a193847098793cdbab306803186676899">Cond</a> = CondLHS;</span></CodeLine>
<Link id="l02919" /><CodeLine lineNumber="2919"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (CB.<a href="/docs/api/structs/llvm/switchcg/caseblock/#a38cbab750fe1c9367b0b60d1fc5b93b3">CmpRHS</a> == <a href="/docs/api/classes/llvm/constantint/#aa7cce62ac5cc6df09cce0535874336b7">ConstantInt::getFalse</a>(&#42;<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getContext()) &amp;&amp;</span></CodeLine>
<Link id="l02920" /><CodeLine lineNumber="2920"><span class="doxyHighlight">             CB.<a href="/docs/api/structs/llvm/switchcg/caseblock/#aed88926c7c267de324ad1fb3849711da">CC</a> == <a href="/docs/api/namespaces/llvm/isd/#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a>) &#123;</span></CodeLine>
<Link id="l02921" /><CodeLine lineNumber="2921"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> True = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getConstant(1, dl, CondLHS.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>());</span></CodeLine>
<Link id="l02922" /><CodeLine lineNumber="2922"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a193847098793cdbab306803186676899">Cond</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">ISD::XOR</a>, dl, CondLHS.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>(), CondLHS, True);</span></CodeLine>
<Link id="l02923" /><CodeLine lineNumber="2923"><span class="doxyHighlight">    &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l02924" /><CodeLine lineNumber="2924"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> CondRHS = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(CB.<a href="/docs/api/structs/llvm/switchcg/caseblock/#a38cbab750fe1c9367b0b60d1fc5b93b3">CmpRHS</a>);</span></CodeLine>
<Link id="l02925" /><CodeLine lineNumber="2925"></CodeLine>
<Link id="l02926" /><CodeLine lineNumber="2926"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// If a pointer&#39;s DAG type is larger than its memory type then the DAG</span></CodeLine>
<Link id="l02927" /><CodeLine lineNumber="2927"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// values are zero-extended. This breaks signed comparisons so truncate</span></CodeLine>
<Link id="l02928" /><CodeLine lineNumber="2928"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// back to the underlying type before doing the compare.</span></CodeLine>
<Link id="l02929" /><CodeLine lineNumber="2929"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (CondLHS.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>() != MemVT) &#123;</span></CodeLine>
<Link id="l02930" /><CodeLine lineNumber="2930"><span class="doxyHighlight">        CondLHS = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getPtrExtOrTrunc(CondLHS, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), MemVT);</span></CodeLine>
<Link id="l02931" /><CodeLine lineNumber="2931"><span class="doxyHighlight">        CondRHS = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getPtrExtOrTrunc(CondRHS, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), MemVT);</span></CodeLine>
<Link id="l02932" /><CodeLine lineNumber="2932"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l02933" /><CodeLine lineNumber="2933"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a193847098793cdbab306803186676899">Cond</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSetCC(dl, MVT::i1, CondLHS, CondRHS, CB.<a href="/docs/api/structs/llvm/switchcg/caseblock/#aed88926c7c267de324ad1fb3849711da">CC</a>);</span></CodeLine>
<Link id="l02934" /><CodeLine lineNumber="2934"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l02935" /><CodeLine lineNumber="2935"><span class="doxyHighlight">  &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l02936" /><CodeLine lineNumber="2936"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(CB.<a href="/docs/api/structs/llvm/switchcg/caseblock/#aed88926c7c267de324ad1fb3849711da">CC</a> == <a href="/docs/api/namespaces/llvm/isd/#ac3c3cf58d6d631af6a172457304d3d07ab49f81c2ecbbff3d0fbe55dd46353774">ISD::SETLE</a> &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Can handle only LE ranges now&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l02937" /><CodeLine lineNumber="2937"></CodeLine>
<Link id="l02938" /><CodeLine lineNumber="2938"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/apint">APInt</a>&amp; <a href="/docs/api/namespaces/llvm/#a05609d049bfe3c5c2f64711566131a86a28d0edd045e05cf5af64e35ae0c4c6ef">Low</a> = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;ConstantInt&gt;</a>(CB.<a href="/docs/api/structs/llvm/switchcg/caseblock/#a8c69b42db9fbec24257dd3f4991dcc45">CmpLHS</a>)-&gt;getValue();</span></CodeLine>
<Link id="l02939" /><CodeLine lineNumber="2939"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/apint">APInt</a>&amp; <a href="/docs/api/files/lib/lib/target/lib/target/nvptx/nvvmintrrange-cpp/#a7df34dbf636f2fbbb00f2b86eccdb1eb">High</a> = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;ConstantInt&gt;</a>(CB.<a href="/docs/api/structs/llvm/switchcg/caseblock/#a38cbab750fe1c9367b0b60d1fc5b93b3">CmpRHS</a>)-&gt;getValue();</span></CodeLine>
<Link id="l02940" /><CodeLine lineNumber="2940"></CodeLine>
<Link id="l02941" /><CodeLine lineNumber="2941"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> CmpOp = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(CB.<a href="/docs/api/structs/llvm/switchcg/caseblock/#aac82e73a81c735151477cce79e665ded">CmpMHS</a>);</span></CodeLine>
<Link id="l02942" /><CodeLine lineNumber="2942"><span class="doxyHighlight">    <a href="/docs/api/structs/llvm/evt">EVT</a> VT = CmpOp.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>();</span></CodeLine>
<Link id="l02943" /><CodeLine lineNumber="2943"></CodeLine>
<Link id="l02944" /><CodeLine lineNumber="2944"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;ConstantInt&gt;</a>(CB.<a href="/docs/api/structs/llvm/switchcg/caseblock/#a8c69b42db9fbec24257dd3f4991dcc45">CmpLHS</a>)-&gt;isMinValue(</span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">)) &#123;</span></CodeLine>
<Link id="l02945" /><CodeLine lineNumber="2945"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a193847098793cdbab306803186676899">Cond</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSetCC(dl, MVT::i1, CmpOp, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getConstant(<a href="/docs/api/files/lib/lib/target/lib/target/nvptx/nvvmintrrange-cpp/#a7df34dbf636f2fbbb00f2b86eccdb1eb">High</a>, dl, VT),</span></CodeLine>
<Link id="l02946" /><CodeLine lineNumber="2946"><span class="doxyHighlight">                          <a href="/docs/api/namespaces/llvm/isd/#ac3c3cf58d6d631af6a172457304d3d07ab49f81c2ecbbff3d0fbe55dd46353774">ISD::SETLE</a>);</span></CodeLine>
<Link id="l02947" /><CodeLine lineNumber="2947"><span class="doxyHighlight">    &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l02948" /><CodeLine lineNumber="2948"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> SUB = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, dl,</span></CodeLine>
<Link id="l02949" /><CodeLine lineNumber="2949"><span class="doxyHighlight">                                VT, CmpOp, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getConstant(<a href="/docs/api/namespaces/llvm/#a05609d049bfe3c5c2f64711566131a86a28d0edd045e05cf5af64e35ae0c4c6ef">Low</a>, dl, VT));</span></CodeLine>
<Link id="l02950" /><CodeLine lineNumber="2950"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a193847098793cdbab306803186676899">Cond</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSetCC(dl, MVT::i1, SUB,</span></CodeLine>
<Link id="l02951" /><CodeLine lineNumber="2951"><span class="doxyHighlight">                          <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getConstant(<a href="/docs/api/files/lib/lib/target/lib/target/nvptx/nvvmintrrange-cpp/#a7df34dbf636f2fbbb00f2b86eccdb1eb">High</a>-<a href="/docs/api/namespaces/llvm/#a05609d049bfe3c5c2f64711566131a86a28d0edd045e05cf5af64e35ae0c4c6ef">Low</a>, dl, VT), <a href="/docs/api/namespaces/llvm/isd/#ac3c3cf58d6d631af6a172457304d3d07ac538f0b432df970cbaaf6b81d777c6a7">ISD::SETULE</a>);</span></CodeLine>
<Link id="l02952" /><CodeLine lineNumber="2952"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l02953" /><CodeLine lineNumber="2953"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l02954" /><CodeLine lineNumber="2954"></CodeLine>
<Link id="l02955" /><CodeLine lineNumber="2955"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Update successor info</span></CodeLine>
<Link id="l02956" /><CodeLine lineNumber="2956"><span class="doxyHighlight">  addSuccessorWithProb(SwitchBB, CB.<a href="/docs/api/structs/llvm/switchcg/caseblock/#a85dee301aa78d53f5a80ec7f8739bb00">TrueBB</a>, CB.<a href="/docs/api/structs/llvm/switchcg/caseblock/#a11ec00a8f98caffafaae61f79580d2ec">TrueProb</a>);</span></CodeLine>
<Link id="l02957" /><CodeLine lineNumber="2957"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// TrueBB and FalseBB are always different unless the incoming IR is</span></CodeLine>
<Link id="l02958" /><CodeLine lineNumber="2958"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// degenerate. This only happens when running llc on weird IR.</span></CodeLine>
<Link id="l02959" /><CodeLine lineNumber="2959"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (CB.<a href="/docs/api/structs/llvm/switchcg/caseblock/#a85dee301aa78d53f5a80ec7f8739bb00">TrueBB</a> != CB.<a href="/docs/api/structs/llvm/switchcg/caseblock/#a8b3b98f6c3852ce830744ceed0aafd63">FalseBB</a>)</span></CodeLine>
<Link id="l02960" /><CodeLine lineNumber="2960"><span class="doxyHighlight">    addSuccessorWithProb(SwitchBB, CB.<a href="/docs/api/structs/llvm/switchcg/caseblock/#a8b3b98f6c3852ce830744ceed0aafd63">FalseBB</a>, CB.<a href="/docs/api/structs/llvm/switchcg/caseblock/#a3cab00e92ff09b90369ee038ef5149cf">FalseProb</a>);</span></CodeLine>
<Link id="l02961" /><CodeLine lineNumber="2961"><span class="doxyHighlight">  SwitchBB-&gt;<a href="/docs/api/classes/llvm/machinebasicblock/#a0c54da24de983d197068425e718fb607">normalizeSuccProbs</a>();</span></CodeLine>
<Link id="l02962" /><CodeLine lineNumber="2962"></CodeLine>
<Link id="l02963" /><CodeLine lineNumber="2963"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// If the lhs block is the next block, invert the condition so that we can</span></CodeLine>
<Link id="l02964" /><CodeLine lineNumber="2964"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// fall through to the lhs instead of the rhs block.</span></CodeLine>
<Link id="l02965" /><CodeLine lineNumber="2965"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (CB.<a href="/docs/api/structs/llvm/switchcg/caseblock/#a85dee301aa78d53f5a80ec7f8739bb00">TrueBB</a> == NextBlock(SwitchBB)) &#123;</span></CodeLine>
<Link id="l02966" /><CodeLine lineNumber="2966"><span class="doxyHighlight">    <a href="/docs/api/namespaces/std/#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(CB.<a href="/docs/api/structs/llvm/switchcg/caseblock/#a85dee301aa78d53f5a80ec7f8739bb00">TrueBB</a>, CB.<a href="/docs/api/structs/llvm/switchcg/caseblock/#a8b3b98f6c3852ce830744ceed0aafd63">FalseBB</a>);</span></CodeLine>
<Link id="l02967" /><CodeLine lineNumber="2967"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> True = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getConstant(1, dl, <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a193847098793cdbab306803186676899">Cond</a>.getValueType());</span></CodeLine>
<Link id="l02968" /><CodeLine lineNumber="2968"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a193847098793cdbab306803186676899">Cond</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">ISD::XOR</a>, dl, <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a193847098793cdbab306803186676899">Cond</a>.getValueType(), <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a193847098793cdbab306803186676899">Cond</a>, True);</span></CodeLine>
<Link id="l02969" /><CodeLine lineNumber="2969"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l02970" /><CodeLine lineNumber="2970"></CodeLine>
<Link id="l02971" /><CodeLine lineNumber="2971"><span class="doxyHighlight">  <a href="/docs/api/structs/llvm/sdnodeflags">SDNodeFlags</a> Flags;</span></CodeLine>
<Link id="l02972" /><CodeLine lineNumber="2972"><span class="doxyHighlight">  Flags.<a href="/docs/api/structs/llvm/sdnodeflags/#a86f6742ee604f29556fb4b0b41131be2">setUnpredictable</a>(CB.<a href="/docs/api/structs/llvm/switchcg/caseblock/#aa7e0d0a0add71615292568516d513794">IsUnpredictable</a>);</span></CodeLine>
<Link id="l02973" /><CodeLine lineNumber="2973"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> BrCond = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::BRCOND, dl, MVT::Other, <a href="/docs/api/classes/llvm/selectiondagbuilder/#aef34360e8bb4bdecf3fd6345ff504f81">getControlRoot</a>(),</span></CodeLine>
<Link id="l02974" /><CodeLine lineNumber="2974"><span class="doxyHighlight">                               <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a193847098793cdbab306803186676899">Cond</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getBasicBlock(CB.<a href="/docs/api/structs/llvm/switchcg/caseblock/#a85dee301aa78d53f5a80ec7f8739bb00">TrueBB</a>), Flags);</span></CodeLine>
<Link id="l02975" /><CodeLine lineNumber="2975"></CodeLine>
<Link id="l02976" /><CodeLine lineNumber="2976"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(CurInst, BrCond);</span></CodeLine>
<Link id="l02977" /><CodeLine lineNumber="2977"></CodeLine>
<Link id="l02978" /><CodeLine lineNumber="2978"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Insert the false branch. Do this even if it&#39;s a fall through branch,</span></CodeLine>
<Link id="l02979" /><CodeLine lineNumber="2979"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// this makes it easier to do DAG optimizations which require inverting</span></CodeLine>
<Link id="l02980" /><CodeLine lineNumber="2980"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// the branch condition.</span></CodeLine>
<Link id="l02981" /><CodeLine lineNumber="2981"><span class="doxyHighlight">  BrCond = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::BR, dl, MVT::Other, BrCond,</span></CodeLine>
<Link id="l02982" /><CodeLine lineNumber="2982"><span class="doxyHighlight">                       <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getBasicBlock(CB.<a href="/docs/api/structs/llvm/switchcg/caseblock/#a8b3b98f6c3852ce830744ceed0aafd63">FalseBB</a>));</span></CodeLine>
<Link id="l02983" /><CodeLine lineNumber="2983"></CodeLine>
<Link id="l02984" /><CodeLine lineNumber="2984"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(BrCond);</span></CodeLine>
<Link id="l02985" /><CodeLine lineNumber="2985"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l02986" /><CodeLine lineNumber="2986"></CodeLine>
<Link id="l02987" /><CodeLine lineNumber="2987"><span class="doxyHighlightComment">/// visitJumpTable - Emit JumpTable node in the current MBB</span></CodeLine>
<Link id="l02988" /><CodeLine lineNumber="2988" lineLink="/docs/api/classes/llvm/selectiondagbuilder/#ac730a866bfd17ffc004cc3a0e85c3770"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#ac730a866bfd17ffc004cc3a0e85c3770">SelectionDAGBuilder::visitJumpTable</a>(<a href="/docs/api/structs/llvm/switchcg/jumptable">SwitchCG::JumpTable</a> &amp;JT) &#123;</span></CodeLine>
<Link id="l02989" /><CodeLine lineNumber="2989"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Emit the code for the jump table</span></CodeLine>
<Link id="l02990" /><CodeLine lineNumber="2990"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(JT.SL &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Should set SDLoc for SelectionDAG!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l02991" /><CodeLine lineNumber="2991"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(JT.Reg &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Should lower JT Header first!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l02992" /><CodeLine lineNumber="2992"><span class="doxyHighlight">  <a href="/docs/api/structs/llvm/evt">EVT</a> PTy = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo().getJumpTableRegTy(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout());</span></CodeLine>
<Link id="l02993" /><CodeLine lineNumber="2993"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Index = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getCopyFromReg(<a href="/docs/api/classes/llvm/selectiondagbuilder/#aef34360e8bb4bdecf3fd6345ff504f81">getControlRoot</a>(), &#42;JT.SL, JT.Reg, PTy);</span></CodeLine>
<Link id="l02994" /><CodeLine lineNumber="2994"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Table = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getJumpTable(JT.JTI, PTy);</span></CodeLine>
<Link id="l02995" /><CodeLine lineNumber="2995"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> BrJumpTable = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::BR&#95;JT, &#42;JT.SL, MVT::Other,</span></CodeLine>
<Link id="l02996" /><CodeLine lineNumber="2996"><span class="doxyHighlight">                                    Index.getValue(1), Table, Index);</span></CodeLine>
<Link id="l02997" /><CodeLine lineNumber="2997"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(BrJumpTable);</span></CodeLine>
<Link id="l02998" /><CodeLine lineNumber="2998"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l02999" /><CodeLine lineNumber="2999"></CodeLine>
<Link id="l03000" /><CodeLine lineNumber="3000"><span class="doxyHighlightComment">/// visitJumpTableHeader - This function emits necessary code to produce index</span></CodeLine>
<Link id="l03001" /><CodeLine lineNumber="3001"><span class="doxyHighlightComment">/// in the JumpTable from switch case.</span></CodeLine>
<Link id="l03002" /><CodeLine lineNumber="3002" lineLink="/docs/api/classes/llvm/selectiondagbuilder/#ac85aa2ebc935e3c87ec7f9e54183cddf"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#ac85aa2ebc935e3c87ec7f9e54183cddf">SelectionDAGBuilder::visitJumpTableHeader</a>(<a href="/docs/api/structs/llvm/switchcg/jumptable">SwitchCG::JumpTable</a> &amp;JT,</span></CodeLine>
<Link id="l03003" /><CodeLine lineNumber="3003"><span class="doxyHighlight">                                               <a href="/docs/api/structs/llvm/switchcg/jumptableheader">JumpTableHeader</a> &amp;JTH,</span></CodeLine>
<Link id="l03004" /><CodeLine lineNumber="3004"><span class="doxyHighlight">                                               <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;SwitchBB) &#123;</span></CodeLine>
<Link id="l03005" /><CodeLine lineNumber="3005"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(JT.SL &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Should set SDLoc for SelectionDAG!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l03006" /><CodeLine lineNumber="3006"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> &amp;dl = &#42;JT.SL;</span></CodeLine>
<Link id="l03007" /><CodeLine lineNumber="3007"></CodeLine>
<Link id="l03008" /><CodeLine lineNumber="3008"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Subtract the lowest switch case value from the value being switched on.</span></CodeLine>
<Link id="l03009" /><CodeLine lineNumber="3009"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> SwitchOp = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(JTH.<a href="/docs/api/structs/llvm/switchcg/jumptableheader/#a743a893761acac5015cc238c259bd5ca">SValue</a>);</span></CodeLine>
<Link id="l03010" /><CodeLine lineNumber="3010"><span class="doxyHighlight">  <a href="/docs/api/structs/llvm/evt">EVT</a> VT = SwitchOp.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>();</span></CodeLine>
<Link id="l03011" /><CodeLine lineNumber="3011"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Sub = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, dl, VT, SwitchOp,</span></CodeLine>
<Link id="l03012" /><CodeLine lineNumber="3012"><span class="doxyHighlight">                            <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getConstant(JTH.<a href="/docs/api/structs/llvm/switchcg/jumptableheader/#aa26ad8f7cc9ed4d3050176cc117fe152">First</a>, dl, VT));</span></CodeLine>
<Link id="l03013" /><CodeLine lineNumber="3013"></CodeLine>
<Link id="l03014" /><CodeLine lineNumber="3014"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// The SDNode we just created, which holds the value being switched on minus</span></CodeLine>
<Link id="l03015" /><CodeLine lineNumber="3015"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// the smallest case value, needs to be copied to a virtual register so it</span></CodeLine>
<Link id="l03016" /><CodeLine lineNumber="3016"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// can be used as an index into the jump table in a subsequent basic block.</span></CodeLine>
<Link id="l03017" /><CodeLine lineNumber="3017"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// This value may be smaller or larger than the target&#39;s pointer type, and</span></CodeLine>
<Link id="l03018" /><CodeLine lineNumber="3018"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// therefore require extension or truncating.</span></CodeLine>
<Link id="l03019" /><CodeLine lineNumber="3019"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetlowering">TargetLowering</a> &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l03020" /><CodeLine lineNumber="3020"><span class="doxyHighlight">  SwitchOp =</span></CodeLine>
<Link id="l03021" /><CodeLine lineNumber="3021"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getZExtOrTrunc(Sub, dl, TLI.<a href="/docs/api/classes/llvm/targetlowering/#af2c7c474fbd3717354a6297baa84a478">getJumpTableRegTy</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout()));</span></CodeLine>
<Link id="l03022" /><CodeLine lineNumber="3022"></CodeLine>
<Link id="l03023" /><CodeLine lineNumber="3023"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/register">Register</a> JumpTableReg =</span></CodeLine>
<Link id="l03024" /><CodeLine lineNumber="3024"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.CreateReg(TLI.<a href="/docs/api/classes/llvm/targetlowering/#af2c7c474fbd3717354a6297baa84a478">getJumpTableRegTy</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout()));</span></CodeLine>
<Link id="l03025" /><CodeLine lineNumber="3025"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> CopyTo =</span></CodeLine>
<Link id="l03026" /><CodeLine lineNumber="3026"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getCopyToReg(<a href="/docs/api/classes/llvm/selectiondagbuilder/#aef34360e8bb4bdecf3fd6345ff504f81">getControlRoot</a>(), dl, JumpTableReg, SwitchOp);</span></CodeLine>
<Link id="l03027" /><CodeLine lineNumber="3027"><span class="doxyHighlight">  JT.Reg = JumpTableReg;</span></CodeLine>
<Link id="l03028" /><CodeLine lineNumber="3028"></CodeLine>
<Link id="l03029" /><CodeLine lineNumber="3029"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!JTH.<a href="/docs/api/structs/llvm/switchcg/jumptableheader/#ad62543fa4b455b7b44115597b3f44e45">FallthroughUnreachable</a>) &#123;</span></CodeLine>
<Link id="l03030" /><CodeLine lineNumber="3030"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Emit the range check for the jump table, and branch to the default block</span></CodeLine>
<Link id="l03031" /><CodeLine lineNumber="3031"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// for the switch statement if the value being switched on exceeds the</span></CodeLine>
<Link id="l03032" /><CodeLine lineNumber="3032"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// largest case in the switch.</span></CodeLine>
<Link id="l03033" /><CodeLine lineNumber="3033"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> CMP = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSetCC(</span></CodeLine>
<Link id="l03034" /><CodeLine lineNumber="3034"><span class="doxyHighlight">        dl, TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a76483b2b4498079d3778c57326c39e99">getSetCCResultType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), &#42;<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getContext(),</span></CodeLine>
<Link id="l03035" /><CodeLine lineNumber="3035"><span class="doxyHighlight">                                   Sub.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>()),</span></CodeLine>
<Link id="l03036" /><CodeLine lineNumber="3036"><span class="doxyHighlight">        Sub, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getConstant(JTH.<a href="/docs/api/structs/llvm/switchcg/jumptableheader/#a1d65c943871802d749447457ab95fc04">Last</a> - JTH.<a href="/docs/api/structs/llvm/switchcg/jumptableheader/#aa26ad8f7cc9ed4d3050176cc117fe152">First</a>, dl, VT), <a href="/docs/api/namespaces/llvm/isd/#ac3c3cf58d6d631af6a172457304d3d07a292be4a9782030bfad637581d25a5897">ISD::SETUGT</a>);</span></CodeLine>
<Link id="l03037" /><CodeLine lineNumber="3037"></CodeLine>
<Link id="l03038" /><CodeLine lineNumber="3038"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> BrCond = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::BRCOND, dl,</span></CodeLine>
<Link id="l03039" /><CodeLine lineNumber="3039"><span class="doxyHighlight">                                 MVT::Other, CopyTo, CMP,</span></CodeLine>
<Link id="l03040" /><CodeLine lineNumber="3040"><span class="doxyHighlight">                                 <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getBasicBlock(JT.Default));</span></CodeLine>
<Link id="l03041" /><CodeLine lineNumber="3041"></CodeLine>
<Link id="l03042" /><CodeLine lineNumber="3042"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Avoid emitting unnecessary branches to the next block.</span></CodeLine>
<Link id="l03043" /><CodeLine lineNumber="3043"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (JT.MBB != NextBlock(SwitchBB))</span></CodeLine>
<Link id="l03044" /><CodeLine lineNumber="3044"><span class="doxyHighlight">      BrCond = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::BR, dl, MVT::Other, BrCond,</span></CodeLine>
<Link id="l03045" /><CodeLine lineNumber="3045"><span class="doxyHighlight">                           <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getBasicBlock(JT.MBB));</span></CodeLine>
<Link id="l03046" /><CodeLine lineNumber="3046"></CodeLine>
<Link id="l03047" /><CodeLine lineNumber="3047"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(BrCond);</span></CodeLine>
<Link id="l03048" /><CodeLine lineNumber="3048"><span class="doxyHighlight">  &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l03049" /><CodeLine lineNumber="3049"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Avoid emitting unnecessary branches to the next block.</span></CodeLine>
<Link id="l03050" /><CodeLine lineNumber="3050"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (JT.MBB != NextBlock(SwitchBB))</span></CodeLine>
<Link id="l03051" /><CodeLine lineNumber="3051"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::BR, dl, MVT::Other, CopyTo,</span></CodeLine>
<Link id="l03052" /><CodeLine lineNumber="3052"><span class="doxyHighlight">                              <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getBasicBlock(JT.MBB)));</span></CodeLine>
<Link id="l03053" /><CodeLine lineNumber="3053"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">else</span></CodeLine>
<Link id="l03054" /><CodeLine lineNumber="3054"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(CopyTo);</span></CodeLine>
<Link id="l03055" /><CodeLine lineNumber="3055"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l03056" /><CodeLine lineNumber="3056"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l03057" /><CodeLine lineNumber="3057"></CodeLine>
<Link id="l03058" /><CodeLine lineNumber="3058"><span class="doxyHighlightComment">/// Create a LOAD&#95;STACK&#95;GUARD node, and let it carry the target specific global</span></CodeLine>
<Link id="l03059" /><CodeLine lineNumber="3059"><span class="doxyHighlightComment">/// variable if there exists one.</span></CodeLine>
<Link id="l03060" /><CodeLine lineNumber="3060" lineLink="#a0f49cd7f0f28bd9b7aaed4b5a0df02d6"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="#a0f49cd7f0f28bd9b7aaed4b5a0df02d6">getLoadStackGuard</a>(<a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp;DAG, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> &amp;<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</span></CodeLine>
<Link id="l03061" /><CodeLine lineNumber="3061"><span class="doxyHighlight">                                 <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> &amp;Chain) &#123;</span></CodeLine>
<Link id="l03062" /><CodeLine lineNumber="3062"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetlowering">TargetLowering</a> &amp;TLI = DAG.<a href="/docs/api/classes/llvm/selectiondag/#a4c20c587f89ae2926f9e8a99093e8419">getTargetLoweringInfo</a>();</span></CodeLine>
<Link id="l03063" /><CodeLine lineNumber="3063"><span class="doxyHighlight">  <a href="/docs/api/structs/llvm/evt">EVT</a> PtrTy = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(DAG.<a href="/docs/api/classes/llvm/selectiondag/#a6b442ac8a9fc6147b95ccfb2c3322121">getDataLayout</a>());</span></CodeLine>
<Link id="l03064" /><CodeLine lineNumber="3064"><span class="doxyHighlight">  <a href="/docs/api/structs/llvm/evt">EVT</a> PtrMemTy = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#af0eff80945c732f4d52c764744d69f1a">getPointerMemTy</a>(DAG.<a href="/docs/api/classes/llvm/selectiondag/#a6b442ac8a9fc6147b95ccfb2c3322121">getDataLayout</a>());</span></CodeLine>
<Link id="l03065" /><CodeLine lineNumber="3065"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/machinefunction">MachineFunction</a> &amp;MF = DAG.<a href="/docs/api/classes/llvm/selectiondag/#ac64ec73b0617befef1fb2eae78d12b5f">getMachineFunction</a>();</span></CodeLine>
<Link id="l03066" /><CodeLine lineNumber="3066"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/value">Value</a> &#42;<a href="/docs/api/namespaces/llvm/#a9aa6dce3613309b3509522a00d6569bfa4cc6684df7b4a92b1dec6fce3264fac8">Global</a> = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a40e9675119de3bcd2fd05b549994a17d">getSDagStackGuard</a>(&#42;MF.<a href="/docs/api/classes/llvm/machinefunction/#a977ddce262de45c645be23d951066351">getFunction</a>().<a href="/docs/api/classes/llvm/globalvalue/#a739b30c811f1eece61b05320ddf44e5b">getParent</a>());</span></CodeLine>
<Link id="l03067" /><CodeLine lineNumber="3067"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/machinesdnode">MachineSDNode</a> &#42;<a href="/docs/api/classes/node">Node</a> =</span></CodeLine>
<Link id="l03068" /><CodeLine lineNumber="3068"><span class="doxyHighlight">      DAG.<a href="/docs/api/classes/llvm/selectiondag/#a1c04c72abd24de2572a03ef686a36dd6">getMachineNode</a>(TargetOpcode::LOAD&#95;STACK&#95;GUARD, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, PtrTy, Chain);</span></CodeLine>
<Link id="l03069" /><CodeLine lineNumber="3069"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/#a9aa6dce3613309b3509522a00d6569bfa4cc6684df7b4a92b1dec6fce3264fac8">Global</a>) &#123;</span></CodeLine>
<Link id="l03070" /><CodeLine lineNumber="3070"><span class="doxyHighlight">    <a href="/docs/api/structs/llvm/machinepointerinfo">MachinePointerInfo</a> MPInfo(<a href="/docs/api/namespaces/llvm/#a9aa6dce3613309b3509522a00d6569bfa4cc6684df7b4a92b1dec6fce3264fac8">Global</a>);</span></CodeLine>
<Link id="l03071" /><CodeLine lineNumber="3071"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> Flags = <a href="/docs/api/classes/llvm/machinememoperand/#aaa2020e47e35179234b9ea27d555b2dda7d12be6206e5b0026c71bbcd5cb76494">MachineMemOperand::MOLoad</a> | <a href="/docs/api/classes/llvm/machinememoperand/#aaa2020e47e35179234b9ea27d555b2ddac63dd9c4fe69bfeaac7a363fda846ac6">MachineMemOperand::MOInvariant</a> |</span></CodeLine>
<Link id="l03072" /><CodeLine lineNumber="3072"><span class="doxyHighlight">                 <a href="/docs/api/classes/llvm/machinememoperand/#aaa2020e47e35179234b9ea27d555b2dda7b999a936bc7a4d45dfadbe356e77b3f">MachineMemOperand::MODereferenceable</a>;</span></CodeLine>
<Link id="l03073" /><CodeLine lineNumber="3073"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/machinememoperand">MachineMemOperand</a> &#42;MemRef = MF.<a href="/docs/api/classes/llvm/machinefunction/#a453ae3052b4f5b14cb4c184243ce5027">getMachineMemOperand</a>(</span></CodeLine>
<Link id="l03074" /><CodeLine lineNumber="3074"><span class="doxyHighlight">        MPInfo, Flags, <a href="/docs/api/classes/llvm/locationsize/#a131715ceeb92fb803a329d6b76d14e0d">LocationSize::precise</a>(PtrTy.<a href="/docs/api/structs/llvm/evt/#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>() / 8),</span></CodeLine>
<Link id="l03075" /><CodeLine lineNumber="3075"><span class="doxyHighlight">        DAG.<a href="/docs/api/classes/llvm/selectiondag/#a467226658bbb3854ea3e1f625a73a128">getEVTAlign</a>(PtrTy));</span></CodeLine>
<Link id="l03076" /><CodeLine lineNumber="3076"><span class="doxyHighlight">    DAG.<a href="/docs/api/classes/llvm/selectiondag/#a66ebc3ec1c8816b16a5f239a8631c780">setNodeMemRefs</a>(<a href="/docs/api/classes/node">Node</a>, &#123;MemRef&#125;);</span></CodeLine>
<Link id="l03077" /><CodeLine lineNumber="3077"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l03078" /><CodeLine lineNumber="3078"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (PtrTy != PtrMemTy)</span></CodeLine>
<Link id="l03079" /><CodeLine lineNumber="3079"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> DAG.<a href="/docs/api/classes/llvm/selectiondag/#aac4eec84b5ddc3599eb63bfb8278d85c">getPtrExtOrTrunc</a>(<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a>(<a href="/docs/api/classes/node">Node</a>, 0), <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, PtrMemTy);</span></CodeLine>
<Link id="l03080" /><CodeLine lineNumber="3080"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a>(<a href="/docs/api/classes/node">Node</a>, 0);</span></CodeLine>
<Link id="l03081" /><CodeLine lineNumber="3081"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l03082" /><CodeLine lineNumber="3082"></CodeLine>
<Link id="l03083" /><CodeLine lineNumber="3083"><span class="doxyHighlightComment">/// Codegen a new tail for a stack protector check ParentMBB which has had its</span></CodeLine>
<Link id="l03084" /><CodeLine lineNumber="3084"><span class="doxyHighlightComment">/// tail spliced into a stack protector check success bb.</span></CodeLine>
<Link id="l03085" /><CodeLine lineNumber="3085"><span class="doxyHighlightComment">///</span></CodeLine>
<Link id="l03086" /><CodeLine lineNumber="3086"><span class="doxyHighlightComment">/// For a high level explanation of how this fits into the stack protector</span></CodeLine>
<Link id="l03087" /><CodeLine lineNumber="3087"><span class="doxyHighlightComment">/// generation see the comment on the declaration of class</span></CodeLine>
<Link id="l03088" /><CodeLine lineNumber="3088"><span class="doxyHighlightComment">/// StackProtectorDescriptor.</span></CodeLine>
<Link id="l03089" /><CodeLine lineNumber="3089" lineLink="/docs/api/classes/llvm/selectiondagbuilder/#ae8662f747218aee8ddeb4cdfbd1435a7"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#ae8662f747218aee8ddeb4cdfbd1435a7">SelectionDAGBuilder::visitSPDescriptorParent</a>(<a href="/docs/api/classes/llvm/stackprotectordescriptor">StackProtectorDescriptor</a> &amp;SPD,</span></CodeLine>
<Link id="l03090" /><CodeLine lineNumber="3090"><span class="doxyHighlight">                                                  <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;ParentBB) &#123;</span></CodeLine>
<Link id="l03091" /><CodeLine lineNumber="3091"></CodeLine>
<Link id="l03092" /><CodeLine lineNumber="3092"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// First create the loads to the guard/stack slot for the comparison.</span></CodeLine>
<Link id="l03093" /><CodeLine lineNumber="3093"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetlowering">TargetLowering</a> &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l03094" /><CodeLine lineNumber="3094"><span class="doxyHighlight">  <a href="/docs/api/structs/llvm/evt">EVT</a> PtrTy = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout());</span></CodeLine>
<Link id="l03095" /><CodeLine lineNumber="3095"><span class="doxyHighlight">  <a href="/docs/api/structs/llvm/evt">EVT</a> PtrMemTy = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#af0eff80945c732f4d52c764744d69f1a">getPointerMemTy</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout());</span></CodeLine>
<Link id="l03096" /><CodeLine lineNumber="3096"></CodeLine>
<Link id="l03097" /><CodeLine lineNumber="3097"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/machineframeinfo">MachineFrameInfo</a> &amp;MFI = ParentBB-&gt;<a href="/docs/api/classes/llvm/machinebasicblock/#acf6442108e21e7e5379feb8962de65b7">getParent</a>()-&gt;<a href="/docs/api/classes/llvm/machinefunction/#a54f334a9c8ca6d105eae383ae87e4524">getFrameInfo</a>();</span></CodeLine>
<Link id="l03098" /><CodeLine lineNumber="3098"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">int</span><span class="doxyHighlight"> FI = MFI.<a href="/docs/api/classes/llvm/machineframeinfo/#a5ee88eb786413b2cf541122aa749392c">getStackProtectorIndex</a>();</span></CodeLine>
<Link id="l03099" /><CodeLine lineNumber="3099"></CodeLine>
<Link id="l03100" /><CodeLine lineNumber="3100"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Guard;</span></CodeLine>
<Link id="l03101" /><CodeLine lineNumber="3101"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> dl = <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>();</span></CodeLine>
<Link id="l03102" /><CodeLine lineNumber="3102"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> StackSlotPtr = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getFrameIndex(FI, PtrTy);</span></CodeLine>
<Link id="l03103" /><CodeLine lineNumber="3103"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/module">Module</a> &amp;M = &#42;ParentBB-&gt;<a href="/docs/api/classes/llvm/machinebasicblock/#acf6442108e21e7e5379feb8962de65b7">getParent</a>()-&gt;<a href="/docs/api/classes/llvm/machinefunction/#a977ddce262de45c645be23d951066351">getFunction</a>().<a href="/docs/api/classes/llvm/globalvalue/#a739b30c811f1eece61b05320ddf44e5b">getParent</a>();</span></CodeLine>
<Link id="l03104" /><CodeLine lineNumber="3104"><span class="doxyHighlight">  <a href="/docs/api/structs/llvm/align">Align</a> <a href="/docs/api/structs/llvm/align">Align</a> =</span></CodeLine>
<Link id="l03105" /><CodeLine lineNumber="3105"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout().getPrefTypeAlign(<a href="/docs/api/classes/llvm/pointertype/#a8d7f800be5fd53dcfcdcbdc6fd9ccfe3">PointerType::get</a>(M.getContext(), 0));</span></CodeLine>
<Link id="l03106" /><CodeLine lineNumber="3106"></CodeLine>
<Link id="l03107" /><CodeLine lineNumber="3107"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Generate code to load the content of the guard slot.</span></CodeLine>
<Link id="l03108" /><CodeLine lineNumber="3108"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> GuardVal = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getLoad(</span></CodeLine>
<Link id="l03109" /><CodeLine lineNumber="3109"><span class="doxyHighlight">      PtrMemTy, dl, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getEntryNode(), StackSlotPtr,</span></CodeLine>
<Link id="l03110" /><CodeLine lineNumber="3110"><span class="doxyHighlight">      <a href="/docs/api/structs/llvm/machinepointerinfo/#ad8ce1aee13dbdcc05d20284a30e83170">MachinePointerInfo::getFixedStack</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMachineFunction(), FI), <a href="/docs/api/structs/llvm/align">Align</a>,</span></CodeLine>
<Link id="l03111" /><CodeLine lineNumber="3111"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/machinememoperand/#aaa2020e47e35179234b9ea27d555b2dda796891d6ca349b671fce24b6d01d77a8">MachineMemOperand::MOVolatile</a>);</span></CodeLine>
<Link id="l03112" /><CodeLine lineNumber="3112"></CodeLine>
<Link id="l03113" /><CodeLine lineNumber="3113"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a190effd8532e35fa84618634c54edc38">useStackGuardXorFP</a>())</span></CodeLine>
<Link id="l03114" /><CodeLine lineNumber="3114"><span class="doxyHighlight">    GuardVal = TLI.<a href="/docs/api/classes/llvm/targetlowering/#a1ee0110a687cf5a9bdb9e8596d9ca3fb">emitStackGuardXorFP</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>, GuardVal, dl);</span></CodeLine>
<Link id="l03115" /><CodeLine lineNumber="3115"></CodeLine>
<Link id="l03116" /><CodeLine lineNumber="3116"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Retrieve guard check function, nullptr if instrumentation is inlined.</span></CodeLine>
<Link id="l03117" /><CodeLine lineNumber="3117"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/function">Function</a> &#42;GuardCheckFn = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a5cc7ede2e4ce0498c628270ca97ed75c">getSSPStackGuardCheck</a>(M)) &#123;</span></CodeLine>
<Link id="l03118" /><CodeLine lineNumber="3118"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// The target provides a guard check function to validate the guard value.</span></CodeLine>
<Link id="l03119" /><CodeLine lineNumber="3119"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Generate a call to that function with the content of the guard slot as</span></CodeLine>
<Link id="l03120" /><CodeLine lineNumber="3120"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// argument.</span></CodeLine>
<Link id="l03121" /><CodeLine lineNumber="3121"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/functiontype">FunctionType</a> &#42;FnTy = GuardCheckFn-&gt;getFunctionType();</span></CodeLine>
<Link id="l03122" /><CodeLine lineNumber="3122"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(FnTy-&gt;<a href="/docs/api/classes/llvm/functiontype/#a104d6154321899b53e40455e71d8e83a">getNumParams</a>() == 1 &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Invalid function signature&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l03123" /><CodeLine lineNumber="3123"></CodeLine>
<Link id="l03124" /><CodeLine lineNumber="3124"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/targetloweringbase/#ae4ac6bc14db22dbd7b94a3b1bd276796">TargetLowering::ArgListTy</a> Args;</span></CodeLine>
<Link id="l03125" /><CodeLine lineNumber="3125"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/targetloweringbase/arglistentry">TargetLowering::ArgListEntry</a> Entry;</span></CodeLine>
<Link id="l03126" /><CodeLine lineNumber="3126"><span class="doxyHighlight">    Entry.Node = GuardVal;</span></CodeLine>
<Link id="l03127" /><CodeLine lineNumber="3127"><span class="doxyHighlight">    Entry.Ty = FnTy-&gt;<a href="/docs/api/classes/llvm/functiontype/#a1e415dc42f391c1d0cfcc1c28c00b2f4">getParamType</a>(0);</span></CodeLine>
<Link id="l03128" /><CodeLine lineNumber="3128"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (GuardCheckFn-&gt;hasParamAttribute(0, Attribute::AttrKind::InReg))</span></CodeLine>
<Link id="l03129" /><CodeLine lineNumber="3129"><span class="doxyHighlight">      Entry.IsInReg = </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l03130" /><CodeLine lineNumber="3130"><span class="doxyHighlight">    Args.push&#95;back(Entry);</span></CodeLine>
<Link id="l03131" /><CodeLine lineNumber="3131"></CodeLine>
<Link id="l03132" /><CodeLine lineNumber="3132"><span class="doxyHighlight">    <a href="/docs/api/structs/llvm/targetlowering/callloweringinfo">TargetLowering::CallLoweringInfo</a> CLI(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>);</span></CodeLine>
<Link id="l03133" /><CodeLine lineNumber="3133"><span class="doxyHighlight">    CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#aa05efb86ccf079a618d7ccc2d0984510">setDebugLoc</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>())</span></CodeLine>
<Link id="l03134" /><CodeLine lineNumber="3134"><span class="doxyHighlight">        .<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#ae8c9a19c4e49854df72efd6a33299ca6">setChain</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getEntryNode())</span></CodeLine>
<Link id="l03135" /><CodeLine lineNumber="3135"><span class="doxyHighlight">        .<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#af85f2971df75297dfac1455dc7211b11">setCallee</a>(GuardCheckFn-&gt;getCallingConv(), FnTy-&gt;<a href="/docs/api/classes/llvm/functiontype/#ad65790aa94dd4678a1d339d8304e1965">getReturnType</a>(),</span></CodeLine>
<Link id="l03136" /><CodeLine lineNumber="3136"><span class="doxyHighlight">                   <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(GuardCheckFn), std::move(Args));</span></CodeLine>
<Link id="l03137" /><CodeLine lineNumber="3137"></CodeLine>
<Link id="l03138" /><CodeLine lineNumber="3138"><span class="doxyHighlight">    std::pair&lt;SDValue, SDValue&gt; Result = TLI.<a href="/docs/api/classes/llvm/targetlowering/#aabd42a6eddc3daec9153679b54f79300">LowerCallTo</a>(CLI);</span></CodeLine>
<Link id="l03139" /><CodeLine lineNumber="3139"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(Result.second);</span></CodeLine>
<Link id="l03140" /><CodeLine lineNumber="3140"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l03141" /><CodeLine lineNumber="3141"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l03142" /><CodeLine lineNumber="3142"></CodeLine>
<Link id="l03143" /><CodeLine lineNumber="3143"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// If useLoadStackGuardNode returns true, generate LOAD&#95;STACK&#95;GUARD.</span></CodeLine>
<Link id="l03144" /><CodeLine lineNumber="3144"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Otherwise, emit a volatile load to retrieve the stack guard value.</span></CodeLine>
<Link id="l03145" /><CodeLine lineNumber="3145"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Chain = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getEntryNode();</span></CodeLine>
<Link id="l03146" /><CodeLine lineNumber="3146"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (TLI.<a href="/docs/api/classes/llvm/targetlowering/#ad2b27b633b21a362571660ad09273d52">useLoadStackGuardNode</a>(M)) &#123;</span></CodeLine>
<Link id="l03147" /><CodeLine lineNumber="3147"><span class="doxyHighlight">    Guard = <a href="#a0f49cd7f0f28bd9b7aaed4b5a0df02d6">getLoadStackGuard</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>, dl, Chain);</span></CodeLine>
<Link id="l03148" /><CodeLine lineNumber="3148"><span class="doxyHighlight">  &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l03149" /><CodeLine lineNumber="3149"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;IRGuard = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a40e9675119de3bcd2fd05b549994a17d">getSDagStackGuard</a>(M);</span></CodeLine>
<Link id="l03150" /><CodeLine lineNumber="3150"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> GuardPtr = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(IRGuard);</span></CodeLine>
<Link id="l03151" /><CodeLine lineNumber="3151"></CodeLine>
<Link id="l03152" /><CodeLine lineNumber="3152"><span class="doxyHighlight">    Guard = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getLoad(PtrMemTy, dl, Chain, GuardPtr,</span></CodeLine>
<Link id="l03153" /><CodeLine lineNumber="3153"><span class="doxyHighlight">                        <a href="/docs/api/structs/llvm/machinepointerinfo">MachinePointerInfo</a>(IRGuard, 0), <a href="/docs/api/structs/llvm/align">Align</a>,</span></CodeLine>
<Link id="l03154" /><CodeLine lineNumber="3154"><span class="doxyHighlight">                        <a href="/docs/api/classes/llvm/machinememoperand/#aaa2020e47e35179234b9ea27d555b2dda796891d6ca349b671fce24b6d01d77a8">MachineMemOperand::MOVolatile</a>);</span></CodeLine>
<Link id="l03155" /><CodeLine lineNumber="3155"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l03156" /><CodeLine lineNumber="3156"></CodeLine>
<Link id="l03157" /><CodeLine lineNumber="3157"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Perform the comparison via a getsetcc.</span></CodeLine>
<Link id="l03158" /><CodeLine lineNumber="3158"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Cmp = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSetCC(dl, TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a76483b2b4498079d3778c57326c39e99">getSetCCResultType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(),</span></CodeLine>
<Link id="l03159" /><CodeLine lineNumber="3159"><span class="doxyHighlight">                                                        &#42;<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getContext(),</span></CodeLine>
<Link id="l03160" /><CodeLine lineNumber="3160"><span class="doxyHighlight">                                                        Guard.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>()),</span></CodeLine>
<Link id="l03161" /><CodeLine lineNumber="3161"><span class="doxyHighlight">                             Guard, GuardVal, <a href="/docs/api/namespaces/llvm/isd/#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>);</span></CodeLine>
<Link id="l03162" /><CodeLine lineNumber="3162"></CodeLine>
<Link id="l03163" /><CodeLine lineNumber="3163"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// If the guard/stackslot do not equal, branch to failure MBB.</span></CodeLine>
<Link id="l03164" /><CodeLine lineNumber="3164"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> BrCond = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::BRCOND, dl,</span></CodeLine>
<Link id="l03165" /><CodeLine lineNumber="3165"><span class="doxyHighlight">                               MVT::Other, GuardVal.<a href="/docs/api/classes/llvm/sdvalue/#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0),</span></CodeLine>
<Link id="l03166" /><CodeLine lineNumber="3166"><span class="doxyHighlight">                               Cmp, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getBasicBlock(SPD.<a href="/docs/api/classes/llvm/stackprotectordescriptor/#a6dca6975019bcf560ab04e7756cbe3a2">getFailureMBB</a>()));</span></CodeLine>
<Link id="l03167" /><CodeLine lineNumber="3167"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Otherwise branch to success MBB.</span></CodeLine>
<Link id="l03168" /><CodeLine lineNumber="3168"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Br = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::BR, dl,</span></CodeLine>
<Link id="l03169" /><CodeLine lineNumber="3169"><span class="doxyHighlight">                           MVT::Other, BrCond,</span></CodeLine>
<Link id="l03170" /><CodeLine lineNumber="3170"><span class="doxyHighlight">                           <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getBasicBlock(SPD.<a href="/docs/api/classes/llvm/stackprotectordescriptor/#a2aa77282a145eb011d595a554810d367">getSuccessMBB</a>()));</span></CodeLine>
<Link id="l03171" /><CodeLine lineNumber="3171"></CodeLine>
<Link id="l03172" /><CodeLine lineNumber="3172"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(Br);</span></CodeLine>
<Link id="l03173" /><CodeLine lineNumber="3173"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l03174" /><CodeLine lineNumber="3174"></CodeLine>
<Link id="l03175" /><CodeLine lineNumber="3175"><span class="doxyHighlightComment">/// Codegen the failure basic block for a stack protector check.</span></CodeLine>
<Link id="l03176" /><CodeLine lineNumber="3176"><span class="doxyHighlightComment">///</span></CodeLine>
<Link id="l03177" /><CodeLine lineNumber="3177"><span class="doxyHighlightComment">/// A failure stack protector machine basic block consists simply of a call to</span></CodeLine>
<Link id="l03178" /><CodeLine lineNumber="3178"><span class="doxyHighlightComment">/// &#95;&#95;stack&#95;chk&#95;fail().</span></CodeLine>
<Link id="l03179" /><CodeLine lineNumber="3179"><span class="doxyHighlightComment">///</span></CodeLine>
<Link id="l03180" /><CodeLine lineNumber="3180"><span class="doxyHighlightComment">/// For a high level explanation of how this fits into the stack protector</span></CodeLine>
<Link id="l03181" /><CodeLine lineNumber="3181"><span class="doxyHighlightComment">/// generation see the comment on the declaration of class</span></CodeLine>
<Link id="l03182" /><CodeLine lineNumber="3182"><span class="doxyHighlightComment">/// StackProtectorDescriptor.</span></CodeLine>
<Link id="l03183" /><CodeLine lineNumber="3183"><span class="doxyHighlightKeywordType">void</span></CodeLine>
<Link id="l03184" /><CodeLine lineNumber="3184" lineLink="/docs/api/classes/llvm/selectiondagbuilder/#afff13ac7b2e92fc0ad596603592298bd"><span class="doxyHighlight"><a href="/docs/api/classes/llvm/selectiondagbuilder/#afff13ac7b2e92fc0ad596603592298bd">SelectionDAGBuilder::visitSPDescriptorFailure</a>(<a href="/docs/api/classes/llvm/stackprotectordescriptor">StackProtectorDescriptor</a> &amp;SPD) &#123;</span></CodeLine>
<Link id="l03185" /><CodeLine lineNumber="3185"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetlowering">TargetLowering</a> &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l03186" /><CodeLine lineNumber="3186"><span class="doxyHighlight">  <a href="/docs/api/structs/llvm/targetlowering/makelibcalloptions">TargetLowering::MakeLibCallOptions</a> CallOptions;</span></CodeLine>
<Link id="l03187" /><CodeLine lineNumber="3187"><span class="doxyHighlight">  CallOptions.<a href="/docs/api/structs/llvm/targetlowering/makelibcalloptions/#a30d29fa3a2769f2ef75455683d7af795">setDiscardResult</a>(</span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l03188" /><CodeLine lineNumber="3188"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Chain = TLI.<a href="/docs/api/classes/llvm/targetlowering/#ad4a2abb087afa577d8f4239b01acbea0">makeLibCall</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>, RTLIB::STACKPROTECTOR&#95;CHECK&#95;FAIL,</span></CodeLine>
<Link id="l03189" /><CodeLine lineNumber="3189"><span class="doxyHighlight">                                  MVT::isVoid, &#123;&#125;, CallOptions, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>())</span></CodeLine>
<Link id="l03190" /><CodeLine lineNumber="3190"><span class="doxyHighlight">                      .second;</span></CodeLine>
<Link id="l03191" /><CodeLine lineNumber="3191"></CodeLine>
<Link id="l03192" /><CodeLine lineNumber="3192"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Emit a trap instruction if we are required to do so.</span></CodeLine>
<Link id="l03193" /><CodeLine lineNumber="3193"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetoptions">TargetOptions</a> &amp;TargetOpts = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTarget().Options;</span></CodeLine>
<Link id="l03194" /><CodeLine lineNumber="3194"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (TargetOpts.<a href="/docs/api/classes/llvm/targetoptions/#ae511cb5018c52294bcff10ccde3f6789">TrapUnreachable</a> &amp;&amp; !TargetOpts.<a href="/docs/api/classes/llvm/targetoptions/#acd83fce25de1ac9f6c975135a8235c22">NoTrapAfterNoreturn</a>)</span></CodeLine>
<Link id="l03195" /><CodeLine lineNumber="3195"><span class="doxyHighlight">    Chain = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::TRAP, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), MVT::Other, Chain);</span></CodeLine>
<Link id="l03196" /><CodeLine lineNumber="3196"></CodeLine>
<Link id="l03197" /><CodeLine lineNumber="3197"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(Chain);</span></CodeLine>
<Link id="l03198" /><CodeLine lineNumber="3198"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l03199" /><CodeLine lineNumber="3199"></CodeLine>
<Link id="l03200" /><CodeLine lineNumber="3200"><span class="doxyHighlightComment">/// visitBitTestHeader - This function emits necessary code to produce value</span></CodeLine>
<Link id="l03201" /><CodeLine lineNumber="3201"><span class="doxyHighlightComment">/// suitable for &quot;bit tests&quot;</span></CodeLine>
<Link id="l03202" /><CodeLine lineNumber="3202" lineLink="/docs/api/classes/llvm/selectiondagbuilder/#a31f9f0db1bb0b321286db70b58fb001e"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#a31f9f0db1bb0b321286db70b58fb001e">SelectionDAGBuilder::visitBitTestHeader</a>(<a href="/docs/api/structs/llvm/switchcg/bittestblock">BitTestBlock</a> &amp;<a href="/docs/api/files/lib/lib/ir/builtingcs-cpp/#ae76959fe811ba090de4cba69ac00f1da">B</a>,</span></CodeLine>
<Link id="l03203" /><CodeLine lineNumber="3203"><span class="doxyHighlight">                                             <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;SwitchBB) &#123;</span></CodeLine>
<Link id="l03204" /><CodeLine lineNumber="3204"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> dl = <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>();</span></CodeLine>
<Link id="l03205" /><CodeLine lineNumber="3205"></CodeLine>
<Link id="l03206" /><CodeLine lineNumber="3206"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Subtract the minimum value.</span></CodeLine>
<Link id="l03207" /><CodeLine lineNumber="3207"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> SwitchOp = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/ir/builtingcs-cpp/#ae76959fe811ba090de4cba69ac00f1da">B</a>.SValue);</span></CodeLine>
<Link id="l03208" /><CodeLine lineNumber="3208"><span class="doxyHighlight">  <a href="/docs/api/structs/llvm/evt">EVT</a> VT = SwitchOp.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>();</span></CodeLine>
<Link id="l03209" /><CodeLine lineNumber="3209"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> RangeSub =</span></CodeLine>
<Link id="l03210" /><CodeLine lineNumber="3210"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, dl, VT, SwitchOp, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getConstant(<a href="/docs/api/files/lib/lib/ir/builtingcs-cpp/#ae76959fe811ba090de4cba69ac00f1da">B</a>.First, dl, VT));</span></CodeLine>
<Link id="l03211" /><CodeLine lineNumber="3211"></CodeLine>
<Link id="l03212" /><CodeLine lineNumber="3212"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Determine the type of the test operands.</span></CodeLine>
<Link id="l03213" /><CodeLine lineNumber="3213"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetlowering">TargetLowering</a> &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l03214" /><CodeLine lineNumber="3214"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> UsePtrType = </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l03215" /><CodeLine lineNumber="3215"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a80b305b278aa0e04f80312e15b2b6d54">isTypeLegal</a>(VT)) &#123;</span></CodeLine>
<Link id="l03216" /><CodeLine lineNumber="3216"><span class="doxyHighlight">    UsePtrType = </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l03217" /><CodeLine lineNumber="3217"><span class="doxyHighlight">  &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l03218" /><CodeLine lineNumber="3218"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> i = 0, e = <a href="/docs/api/files/lib/lib/ir/builtingcs-cpp/#ae76959fe811ba090de4cba69ac00f1da">B</a>.Cases.size(); i != e; ++i)</span></CodeLine>
<Link id="l03219" /><CodeLine lineNumber="3219"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="/docs/api/namespaces/llvm/#a1a995470163b6d76695cba5bc8dfb529">isUIntN</a>(VT.<a href="/docs/api/structs/llvm/evt/#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>(), <a href="/docs/api/files/lib/lib/ir/builtingcs-cpp/#ae76959fe811ba090de4cba69ac00f1da">B</a>.Cases&#91;i&#93;.Mask)) &#123;</span></CodeLine>
<Link id="l03220" /><CodeLine lineNumber="3220"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// Switch table case range are encoded into series of masks.</span></CodeLine>
<Link id="l03221" /><CodeLine lineNumber="3221"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// Just use pointer type, it&#39;s guaranteed to fit.</span></CodeLine>
<Link id="l03222" /><CodeLine lineNumber="3222"><span class="doxyHighlight">        UsePtrType = </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l03223" /><CodeLine lineNumber="3223"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l03224" /><CodeLine lineNumber="3224"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l03225" /><CodeLine lineNumber="3225"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l03226" /><CodeLine lineNumber="3226"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Sub = RangeSub;</span></CodeLine>
<Link id="l03227" /><CodeLine lineNumber="3227"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (UsePtrType) &#123;</span></CodeLine>
<Link id="l03228" /><CodeLine lineNumber="3228"><span class="doxyHighlight">    VT = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout());</span></CodeLine>
<Link id="l03229" /><CodeLine lineNumber="3229"><span class="doxyHighlight">    Sub = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getZExtOrTrunc(Sub, dl, VT);</span></CodeLine>
<Link id="l03230" /><CodeLine lineNumber="3230"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l03231" /><CodeLine lineNumber="3231"></CodeLine>
<Link id="l03232" /><CodeLine lineNumber="3232"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/ir/builtingcs-cpp/#ae76959fe811ba090de4cba69ac00f1da">B</a>.RegVT = VT.<a href="/docs/api/structs/llvm/evt/#a6a81c1cc06a00a0096d839032b5984e9">getSimpleVT</a>();</span></CodeLine>
<Link id="l03233" /><CodeLine lineNumber="3233"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/ir/builtingcs-cpp/#ae76959fe811ba090de4cba69ac00f1da">B</a>.Reg = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.CreateReg(<a href="/docs/api/files/lib/lib/ir/builtingcs-cpp/#ae76959fe811ba090de4cba69ac00f1da">B</a>.RegVT);</span></CodeLine>
<Link id="l03234" /><CodeLine lineNumber="3234"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> CopyTo = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getCopyToReg(<a href="/docs/api/classes/llvm/selectiondagbuilder/#aef34360e8bb4bdecf3fd6345ff504f81">getControlRoot</a>(), dl, <a href="/docs/api/files/lib/lib/ir/builtingcs-cpp/#ae76959fe811ba090de4cba69ac00f1da">B</a>.Reg, Sub);</span></CodeLine>
<Link id="l03235" /><CodeLine lineNumber="3235"></CodeLine>
<Link id="l03236" /><CodeLine lineNumber="3236"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a>&#42; <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#a5958512eae2979bd2eb383977996a600">MBB</a> = <a href="/docs/api/files/lib/lib/ir/builtingcs-cpp/#ae76959fe811ba090de4cba69ac00f1da">B</a>.Cases&#91;0&#93;.ThisBB;</span></CodeLine>
<Link id="l03237" /><CodeLine lineNumber="3237"></CodeLine>
<Link id="l03238" /><CodeLine lineNumber="3238"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="/docs/api/files/lib/lib/ir/builtingcs-cpp/#ae76959fe811ba090de4cba69ac00f1da">B</a>.FallthroughUnreachable)</span></CodeLine>
<Link id="l03239" /><CodeLine lineNumber="3239"><span class="doxyHighlight">    addSuccessorWithProb(SwitchBB, <a href="/docs/api/files/lib/lib/ir/builtingcs-cpp/#ae76959fe811ba090de4cba69ac00f1da">B</a>.Default, <a href="/docs/api/files/lib/lib/ir/builtingcs-cpp/#ae76959fe811ba090de4cba69ac00f1da">B</a>.DefaultProb);</span></CodeLine>
<Link id="l03240" /><CodeLine lineNumber="3240"><span class="doxyHighlight">  addSuccessorWithProb(SwitchBB, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#a5958512eae2979bd2eb383977996a600">MBB</a>, <a href="/docs/api/files/lib/lib/ir/builtingcs-cpp/#ae76959fe811ba090de4cba69ac00f1da">B</a>.Prob);</span></CodeLine>
<Link id="l03241" /><CodeLine lineNumber="3241"><span class="doxyHighlight">  SwitchBB-&gt;<a href="/docs/api/classes/llvm/machinebasicblock/#a0c54da24de983d197068425e718fb607">normalizeSuccProbs</a>();</span></CodeLine>
<Link id="l03242" /><CodeLine lineNumber="3242"></CodeLine>
<Link id="l03243" /><CodeLine lineNumber="3243"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Root = CopyTo;</span></CodeLine>
<Link id="l03244" /><CodeLine lineNumber="3244"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="/docs/api/files/lib/lib/ir/builtingcs-cpp/#ae76959fe811ba090de4cba69ac00f1da">B</a>.FallthroughUnreachable) &#123;</span></CodeLine>
<Link id="l03245" /><CodeLine lineNumber="3245"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Conditional branch to the default block.</span></CodeLine>
<Link id="l03246" /><CodeLine lineNumber="3246"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> RangeCmp = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSetCC(dl,</span></CodeLine>
<Link id="l03247" /><CodeLine lineNumber="3247"><span class="doxyHighlight">        TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a76483b2b4498079d3778c57326c39e99">getSetCCResultType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), &#42;<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getContext(),</span></CodeLine>
<Link id="l03248" /><CodeLine lineNumber="3248"><span class="doxyHighlight">                               RangeSub.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>()),</span></CodeLine>
<Link id="l03249" /><CodeLine lineNumber="3249"><span class="doxyHighlight">        RangeSub, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getConstant(<a href="/docs/api/files/lib/lib/ir/builtingcs-cpp/#ae76959fe811ba090de4cba69ac00f1da">B</a>.Range, dl, RangeSub.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>()),</span></CodeLine>
<Link id="l03250" /><CodeLine lineNumber="3250"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/isd/#ac3c3cf58d6d631af6a172457304d3d07a292be4a9782030bfad637581d25a5897">ISD::SETUGT</a>);</span></CodeLine>
<Link id="l03251" /><CodeLine lineNumber="3251"></CodeLine>
<Link id="l03252" /><CodeLine lineNumber="3252"><span class="doxyHighlight">    Root = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::BRCOND, dl, MVT::Other, Root, RangeCmp,</span></CodeLine>
<Link id="l03253" /><CodeLine lineNumber="3253"><span class="doxyHighlight">                       <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getBasicBlock(<a href="/docs/api/files/lib/lib/ir/builtingcs-cpp/#ae76959fe811ba090de4cba69ac00f1da">B</a>.Default));</span></CodeLine>
<Link id="l03254" /><CodeLine lineNumber="3254"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l03255" /><CodeLine lineNumber="3255"></CodeLine>
<Link id="l03256" /><CodeLine lineNumber="3256"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Avoid emitting unnecessary branches to the next block.</span></CodeLine>
<Link id="l03257" /><CodeLine lineNumber="3257"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#a5958512eae2979bd2eb383977996a600">MBB</a> != NextBlock(SwitchBB))</span></CodeLine>
<Link id="l03258" /><CodeLine lineNumber="3258"><span class="doxyHighlight">    Root = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::BR, dl, MVT::Other, Root, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getBasicBlock(<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#a5958512eae2979bd2eb383977996a600">MBB</a>));</span></CodeLine>
<Link id="l03259" /><CodeLine lineNumber="3259"></CodeLine>
<Link id="l03260" /><CodeLine lineNumber="3260"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(Root);</span></CodeLine>
<Link id="l03261" /><CodeLine lineNumber="3261"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l03262" /><CodeLine lineNumber="3262"></CodeLine>
<Link id="l03263" /><CodeLine lineNumber="3263"><span class="doxyHighlightComment">/// visitBitTestCase - this function produces one &quot;bit test&quot;</span></CodeLine>
<Link id="l03264" /><CodeLine lineNumber="3264" lineLink="/docs/api/classes/llvm/selectiondagbuilder/#a7a7b439d546506d56e2cdc61a1ac1d06"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#a7a7b439d546506d56e2cdc61a1ac1d06">SelectionDAGBuilder::visitBitTestCase</a>(<a href="/docs/api/structs/llvm/switchcg/bittestblock">BitTestBlock</a> &amp;BB,</span></CodeLine>
<Link id="l03265" /><CodeLine lineNumber="3265"><span class="doxyHighlight">                                           <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;NextMBB,</span></CodeLine>
<Link id="l03266" /><CodeLine lineNumber="3266"><span class="doxyHighlight">                                           <a href="/docs/api/classes/llvm/branchprobability">BranchProbability</a> BranchProbToNext,</span></CodeLine>
<Link id="l03267" /><CodeLine lineNumber="3267"><span class="doxyHighlight">                                           <a href="/docs/api/classes/llvm/register">Register</a> Reg, <a href="/docs/api/structs/llvm/switchcg/bittestcase">BitTestCase</a> &amp;<a href="/docs/api/files/lib/lib/ir/builtingcs-cpp/#ae76959fe811ba090de4cba69ac00f1da">B</a>,</span></CodeLine>
<Link id="l03268" /><CodeLine lineNumber="3268"><span class="doxyHighlight">                                           <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;SwitchBB) &#123;</span></CodeLine>
<Link id="l03269" /><CodeLine lineNumber="3269"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> dl = <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>();</span></CodeLine>
<Link id="l03270" /><CodeLine lineNumber="3270"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/mvt">MVT</a> VT = BB.<a href="/docs/api/structs/llvm/switchcg/bittestblock/#a4279ed956f8d18d3db442c32edeacbbc">RegVT</a>;</span></CodeLine>
<Link id="l03271" /><CodeLine lineNumber="3271"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> ShiftOp = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getCopyFromReg(<a href="/docs/api/classes/llvm/selectiondagbuilder/#aef34360e8bb4bdecf3fd6345ff504f81">getControlRoot</a>(), dl, Reg, VT);</span></CodeLine>
<Link id="l03272" /><CodeLine lineNumber="3272"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Cmp;</span></CodeLine>
<Link id="l03273" /><CodeLine lineNumber="3273"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> PopCount = <a href="/docs/api/namespaces/llvm/#a0eea77e7bfa82e0219d2ec7b4efbc94f">llvm::popcount</a>(<a href="/docs/api/files/lib/lib/ir/builtingcs-cpp/#ae76959fe811ba090de4cba69ac00f1da">B</a>.Mask);</span></CodeLine>
<Link id="l03274" /><CodeLine lineNumber="3274"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetlowering">TargetLowering</a> &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l03275" /><CodeLine lineNumber="3275"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (PopCount == 1) &#123;</span></CodeLine>
<Link id="l03276" /><CodeLine lineNumber="3276"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Testing for a single bit; just compare the shift count with what it</span></CodeLine>
<Link id="l03277" /><CodeLine lineNumber="3277"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// would need to be to shift a 1 bit in that position.</span></CodeLine>
<Link id="l03278" /><CodeLine lineNumber="3278"><span class="doxyHighlight">    Cmp = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSetCC(</span></CodeLine>
<Link id="l03279" /><CodeLine lineNumber="3279"><span class="doxyHighlight">        dl, TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a76483b2b4498079d3778c57326c39e99">getSetCCResultType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), &#42;<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getContext(), VT),</span></CodeLine>
<Link id="l03280" /><CodeLine lineNumber="3280"><span class="doxyHighlight">        ShiftOp, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getConstant(<a href="/docs/api/namespaces/llvm/#a57d2f9ee99e9e68cff564d0d579c8163">llvm::countr&#95;zero</a>(<a href="/docs/api/files/lib/lib/ir/builtingcs-cpp/#ae76959fe811ba090de4cba69ac00f1da">B</a>.Mask), dl, VT),</span></CodeLine>
<Link id="l03281" /><CodeLine lineNumber="3281"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/isd/#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a>);</span></CodeLine>
<Link id="l03282" /><CodeLine lineNumber="3282"><span class="doxyHighlight">  &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (PopCount == BB.<a href="/docs/api/structs/llvm/switchcg/bittestblock/#af7189e175bd7c3bc39ab17be9cd91a4c">Range</a>) &#123;</span></CodeLine>
<Link id="l03283" /><CodeLine lineNumber="3283"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// There is only one zero bit in the range, test for it directly.</span></CodeLine>
<Link id="l03284" /><CodeLine lineNumber="3284"><span class="doxyHighlight">    Cmp = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSetCC(</span></CodeLine>
<Link id="l03285" /><CodeLine lineNumber="3285"><span class="doxyHighlight">        dl, TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a76483b2b4498079d3778c57326c39e99">getSetCCResultType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), &#42;<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getContext(), VT),</span></CodeLine>
<Link id="l03286" /><CodeLine lineNumber="3286"><span class="doxyHighlight">        ShiftOp, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getConstant(<a href="/docs/api/namespaces/llvm/#a239abca11deebf2731206dd41cf43c0e">llvm::countr&#95;one</a>(<a href="/docs/api/files/lib/lib/ir/builtingcs-cpp/#ae76959fe811ba090de4cba69ac00f1da">B</a>.Mask), dl, VT), <a href="/docs/api/namespaces/llvm/isd/#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>);</span></CodeLine>
<Link id="l03287" /><CodeLine lineNumber="3287"><span class="doxyHighlight">  &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l03288" /><CodeLine lineNumber="3288"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Make desired shift</span></CodeLine>
<Link id="l03289" /><CodeLine lineNumber="3289"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> SwitchVal = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>, dl, VT,</span></CodeLine>
<Link id="l03290" /><CodeLine lineNumber="3290"><span class="doxyHighlight">                                    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getConstant(1, dl, VT), ShiftOp);</span></CodeLine>
<Link id="l03291" /><CodeLine lineNumber="3291"></CodeLine>
<Link id="l03292" /><CodeLine lineNumber="3292"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Emit bit tests and jumps</span></CodeLine>
<Link id="l03293" /><CodeLine lineNumber="3293"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> AndOp = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl,</span></CodeLine>
<Link id="l03294" /><CodeLine lineNumber="3294"><span class="doxyHighlight">                                VT, SwitchVal, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getConstant(<a href="/docs/api/files/lib/lib/ir/builtingcs-cpp/#ae76959fe811ba090de4cba69ac00f1da">B</a>.Mask, dl, VT));</span></CodeLine>
<Link id="l03295" /><CodeLine lineNumber="3295"><span class="doxyHighlight">    Cmp = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSetCC(</span></CodeLine>
<Link id="l03296" /><CodeLine lineNumber="3296"><span class="doxyHighlight">        dl, TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a76483b2b4498079d3778c57326c39e99">getSetCCResultType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), &#42;<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getContext(), VT),</span></CodeLine>
<Link id="l03297" /><CodeLine lineNumber="3297"><span class="doxyHighlight">        AndOp, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getConstant(0, dl, VT), <a href="/docs/api/namespaces/llvm/isd/#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>);</span></CodeLine>
<Link id="l03298" /><CodeLine lineNumber="3298"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l03299" /><CodeLine lineNumber="3299"></CodeLine>
<Link id="l03300" /><CodeLine lineNumber="3300"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// The branch probability from SwitchBB to B.TargetBB is B.ExtraProb.</span></CodeLine>
<Link id="l03301" /><CodeLine lineNumber="3301"><span class="doxyHighlight">  addSuccessorWithProb(SwitchBB, <a href="/docs/api/files/lib/lib/ir/builtingcs-cpp/#ae76959fe811ba090de4cba69ac00f1da">B</a>.TargetBB, <a href="/docs/api/files/lib/lib/ir/builtingcs-cpp/#ae76959fe811ba090de4cba69ac00f1da">B</a>.ExtraProb);</span></CodeLine>
<Link id="l03302" /><CodeLine lineNumber="3302"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// The branch probability from SwitchBB to NextMBB is BranchProbToNext.</span></CodeLine>
<Link id="l03303" /><CodeLine lineNumber="3303"><span class="doxyHighlight">  addSuccessorWithProb(SwitchBB, NextMBB, BranchProbToNext);</span></CodeLine>
<Link id="l03304" /><CodeLine lineNumber="3304"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// It is not guaranteed that the sum of B.ExtraProb and BranchProbToNext is</span></CodeLine>
<Link id="l03305" /><CodeLine lineNumber="3305"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// one as they are relative probabilities (and thus work more like weights),</span></CodeLine>
<Link id="l03306" /><CodeLine lineNumber="3306"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// and hence we need to normalize them to let the sum of them become one.</span></CodeLine>
<Link id="l03307" /><CodeLine lineNumber="3307"><span class="doxyHighlight">  SwitchBB-&gt;<a href="/docs/api/classes/llvm/machinebasicblock/#a0c54da24de983d197068425e718fb607">normalizeSuccProbs</a>();</span></CodeLine>
<Link id="l03308" /><CodeLine lineNumber="3308"></CodeLine>
<Link id="l03309" /><CodeLine lineNumber="3309"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> BrAnd = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::BRCOND, dl,</span></CodeLine>
<Link id="l03310" /><CodeLine lineNumber="3310"><span class="doxyHighlight">                              MVT::Other, <a href="/docs/api/classes/llvm/selectiondagbuilder/#aef34360e8bb4bdecf3fd6345ff504f81">getControlRoot</a>(),</span></CodeLine>
<Link id="l03311" /><CodeLine lineNumber="3311"><span class="doxyHighlight">                              Cmp, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getBasicBlock(<a href="/docs/api/files/lib/lib/ir/builtingcs-cpp/#ae76959fe811ba090de4cba69ac00f1da">B</a>.TargetBB));</span></CodeLine>
<Link id="l03312" /><CodeLine lineNumber="3312"></CodeLine>
<Link id="l03313" /><CodeLine lineNumber="3313"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Avoid emitting unnecessary branches to the next block.</span></CodeLine>
<Link id="l03314" /><CodeLine lineNumber="3314"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (NextMBB != NextBlock(SwitchBB))</span></CodeLine>
<Link id="l03315" /><CodeLine lineNumber="3315"><span class="doxyHighlight">    BrAnd = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::BR, dl, MVT::Other, BrAnd,</span></CodeLine>
<Link id="l03316" /><CodeLine lineNumber="3316"><span class="doxyHighlight">                        <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getBasicBlock(NextMBB));</span></CodeLine>
<Link id="l03317" /><CodeLine lineNumber="3317"></CodeLine>
<Link id="l03318" /><CodeLine lineNumber="3318"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(BrAnd);</span></CodeLine>
<Link id="l03319" /><CodeLine lineNumber="3319"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l03320" /><CodeLine lineNumber="3320"></CodeLine>
<Link id="l03321" /><CodeLine lineNumber="3321"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitInvoke(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/invokeinst">InvokeInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l03322" /><CodeLine lineNumber="3322"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;InvokeMBB = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.<a href="/docs/api/classes/llvm/functionloweringinfo/#a9893077f1825192ca0f3d173afefb573">MBB</a>;</span></CodeLine>
<Link id="l03323" /><CodeLine lineNumber="3323"></CodeLine>
<Link id="l03324" /><CodeLine lineNumber="3324"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Retrieve successors. Look through artificial IR level blocks like</span></CodeLine>
<Link id="l03325" /><CodeLine lineNumber="3325"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// catchswitch for successors.</span></CodeLine>
<Link id="l03326" /><CodeLine lineNumber="3326"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;Return = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.<a href="/docs/api/classes/llvm/functionloweringinfo/#a14a2bf30885cc5b91b86a564759980bb">getMBB</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getSuccessor(0));</span></CodeLine>
<Link id="l03327" /><CodeLine lineNumber="3327"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42;EHPadBB = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getSuccessor(1);</span></CodeLine>
<Link id="l03328" /><CodeLine lineNumber="3328"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;EHPadMBB = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.<a href="/docs/api/classes/llvm/functionloweringinfo/#a14a2bf30885cc5b91b86a564759980bb">getMBB</a>(EHPadBB);</span></CodeLine>
<Link id="l03329" /><CodeLine lineNumber="3329"></CodeLine>
<Link id="l03330" /><CodeLine lineNumber="3330"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Deopt and ptrauth bundles are lowered in helper functions, and we don&#39;t</span></CodeLine>
<Link id="l03331" /><CodeLine lineNumber="3331"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// have to do anything here to lower funclet bundles.</span></CodeLine>
<Link id="l03332" /><CodeLine lineNumber="3332"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.hasOperandBundlesOtherThan(</span></CodeLine>
<Link id="l03333" /><CodeLine lineNumber="3333"><span class="doxyHighlight">             &#123;LLVMContext::OB&#95;deopt, LLVMContext::OB&#95;gc&#95;transition,</span></CodeLine>
<Link id="l03334" /><CodeLine lineNumber="3334"><span class="doxyHighlight">              LLVMContext::OB&#95;gc&#95;live, LLVMContext::OB&#95;funclet,</span></CodeLine>
<Link id="l03335" /><CodeLine lineNumber="3335"><span class="doxyHighlight">              LLVMContext::OB&#95;cfguardtarget, LLVMContext::OB&#95;ptrauth,</span></CodeLine>
<Link id="l03336" /><CodeLine lineNumber="3336"><span class="doxyHighlight">              LLVMContext::OB&#95;clang&#95;arc&#95;attachedcall&#125;) &amp;&amp;</span></CodeLine>
<Link id="l03337" /><CodeLine lineNumber="3337"><span class="doxyHighlight">         </span><span class="doxyHighlightStringLiteral">&quot;Cannot lower invokes with arbitrary operand bundles yet!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l03338" /><CodeLine lineNumber="3338"></CodeLine>
<Link id="l03339" /><CodeLine lineNumber="3339"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/value">Value</a> &#42;Callee(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getCalledOperand());</span></CodeLine>
<Link id="l03340" /><CodeLine lineNumber="3340"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/function">Function</a> &#42;Fn = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;Function&gt;</a>(Callee);</span></CodeLine>
<Link id="l03341" /><CodeLine lineNumber="3341"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;InlineAsm&gt;</a>(Callee))</span></CodeLine>
<Link id="l03342" /><CodeLine lineNumber="3342"><span class="doxyHighlight">    visitInlineAsm(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, EHPadBB);</span></CodeLine>
<Link id="l03343" /><CodeLine lineNumber="3343"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Fn &amp;&amp; Fn-&gt;<a href="/docs/api/classes/llvm/function/#a900a32da3983469187b1848189681705">isIntrinsic</a>()) &#123;</span></CodeLine>
<Link id="l03344" /><CodeLine lineNumber="3344"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">switch</span><span class="doxyHighlight"> (Fn-&gt;<a href="/docs/api/classes/llvm/function/#a4d0a7baab8d078065b2de10e3460892a">getIntrinsicID</a>()) &#123;</span></CodeLine>
<Link id="l03345" /><CodeLine lineNumber="3345"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">default</span><span class="doxyHighlight">:</span></CodeLine>
<Link id="l03346" /><CodeLine lineNumber="3346"><span class="doxyHighlight">      <a href="/docs/api/files/include/include/llvm/include/llvm/support/errorhandling-h/#ace243f5c25697a1107cce46626b3dc94">llvm&#95;unreachable</a>(</span><span class="doxyHighlightStringLiteral">&quot;Cannot invoke this intrinsic&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l03347" /><CodeLine lineNumber="3347"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::donothing:</span></CodeLine>
<Link id="l03348" /><CodeLine lineNumber="3348"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Ignore invokes to @llvm.donothing: jump directly to the next BB.</span></CodeLine>
<Link id="l03349" /><CodeLine lineNumber="3349"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::seh&#95;try&#95;begin:</span></CodeLine>
<Link id="l03350" /><CodeLine lineNumber="3350"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::seh&#95;scope&#95;begin:</span></CodeLine>
<Link id="l03351" /><CodeLine lineNumber="3351"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::seh&#95;try&#95;end:</span></CodeLine>
<Link id="l03352" /><CodeLine lineNumber="3352"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::seh&#95;scope&#95;end:</span></CodeLine>
<Link id="l03353" /><CodeLine lineNumber="3353"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (EHPadMBB)</span></CodeLine>
<Link id="l03354" /><CodeLine lineNumber="3354"><span class="doxyHighlight">          </span><span class="doxyHighlightComment">// a block referenced by EH table</span></CodeLine>
<Link id="l03355" /><CodeLine lineNumber="3355"><span class="doxyHighlight">          </span><span class="doxyHighlightComment">// so dtor-funclet not removed by opts</span></CodeLine>
<Link id="l03356" /><CodeLine lineNumber="3356"><span class="doxyHighlight">          EHPadMBB-&gt;<a href="/docs/api/classes/llvm/machinebasicblock/#af4236a9c3c028303d301f49c7ee9a868">setMachineBlockAddressTaken</a>();</span></CodeLine>
<Link id="l03357" /><CodeLine lineNumber="3357"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l03358" /><CodeLine lineNumber="3358"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::experimental&#95;patchpoint&#95;void:</span></CodeLine>
<Link id="l03359" /><CodeLine lineNumber="3359"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::experimental&#95;patchpoint:</span></CodeLine>
<Link id="l03360" /><CodeLine lineNumber="3360"><span class="doxyHighlight">      visitPatchpoint(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, EHPadBB);</span></CodeLine>
<Link id="l03361" /><CodeLine lineNumber="3361"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l03362" /><CodeLine lineNumber="3362"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::experimental&#95;gc&#95;statepoint:</span></CodeLine>
<Link id="l03363" /><CodeLine lineNumber="3363"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#a32cff45e4cfd323ecc3896adcb08c2a9">LowerStatepoint</a>(<a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;GCStatepointInst&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>), EHPadBB);</span></CodeLine>
<Link id="l03364" /><CodeLine lineNumber="3364"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l03365" /><CodeLine lineNumber="3365"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::wasm&#95;rethrow: &#123;</span></CodeLine>
<Link id="l03366" /><CodeLine lineNumber="3366"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// This is usually done in visitTargetIntrinsic, but this intrinsic is</span></CodeLine>
<Link id="l03367" /><CodeLine lineNumber="3367"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// special because it can be invoked, so we manually lower it to a DAG</span></CodeLine>
<Link id="l03368" /><CodeLine lineNumber="3368"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// node here.</span></CodeLine>
<Link id="l03369" /><CodeLine lineNumber="3369"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/smallvector">SmallVector&lt;SDValue, 8&gt;</a> <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>;</span></CodeLine>
<Link id="l03370" /><CodeLine lineNumber="3370"><span class="doxyHighlight">      <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.push&#95;back(<a href="/docs/api/classes/llvm/selectiondagbuilder/#aef34360e8bb4bdecf3fd6345ff504f81">getControlRoot</a>()); </span><span class="doxyHighlightComment">// inchain for the terminator node</span></CodeLine>
<Link id="l03371" /><CodeLine lineNumber="3371"><span class="doxyHighlight">      </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetlowering">TargetLowering</a> &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.<a href="/docs/api/classes/llvm/selectiondag/#a4c20c587f89ae2926f9e8a99093e8419">getTargetLoweringInfo</a>();</span></CodeLine>
<Link id="l03372" /><CodeLine lineNumber="3372"><span class="doxyHighlight">      <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.push&#95;back(</span></CodeLine>
<Link id="l03373" /><CodeLine lineNumber="3373"><span class="doxyHighlight">          <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.<a href="/docs/api/classes/llvm/selectiondag/#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(Intrinsic::wasm&#95;rethrow, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(),</span></CodeLine>
<Link id="l03374" /><CodeLine lineNumber="3374"><span class="doxyHighlight">                                TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.<a href="/docs/api/classes/llvm/selectiondag/#a6b442ac8a9fc6147b95ccfb2c3322121">getDataLayout</a>())));</span></CodeLine>
<Link id="l03375" /><CodeLine lineNumber="3375"><span class="doxyHighlight">      <a href="/docs/api/structs/llvm/sdvtlist">SDVTList</a> VTs = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.<a href="/docs/api/classes/llvm/selectiondag/#a196c23d6cb4d768d037970f1f35bbf66">getVTList</a>(<a href="/docs/api/classes/llvm/arrayref">ArrayRef&lt;EVT&gt;</a>(&#123;MVT::Other&#125;)); </span><span class="doxyHighlightComment">// outchain</span></CodeLine>
<Link id="l03376" /><CodeLine lineNumber="3376"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.<a href="/docs/api/classes/llvm/selectiondag/#ae0fc3f54d06d2230bf93a19d45f51706">setRoot</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a2df96794a99f5d3b4415c4a84e616140">ISD::INTRINSIC&#95;VOID</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), VTs, <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>));</span></CodeLine>
<Link id="l03377" /><CodeLine lineNumber="3377"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l03378" /><CodeLine lineNumber="3378"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l03379" /><CodeLine lineNumber="3379"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l03380" /><CodeLine lineNumber="3380"><span class="doxyHighlight">  &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.hasDeoptState()) &#123;</span></CodeLine>
<Link id="l03381" /><CodeLine lineNumber="3381"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Currently we do not lower any intrinsic calls with deopt operand bundles.</span></CodeLine>
<Link id="l03382" /><CodeLine lineNumber="3382"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Eventually we will support lowering the @llvm.experimental.deoptimize</span></CodeLine>
<Link id="l03383" /><CodeLine lineNumber="3383"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// intrinsic, and right now there are no plans to support other intrinsics</span></CodeLine>
<Link id="l03384" /><CodeLine lineNumber="3384"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// with deopt state.</span></CodeLine>
<Link id="l03385" /><CodeLine lineNumber="3385"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#a475d759da0893604f08519960a12d297">LowerCallSiteWithDeoptBundle</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(Callee), EHPadBB);</span></CodeLine>
<Link id="l03386" /><CodeLine lineNumber="3386"><span class="doxyHighlight">  &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.countOperandBundlesOfType(<a href="/docs/api/classes/llvm/llvmcontext/#a44d727ac5fccf852bfb2bae3e06adc9cadd4d7ff61cc637f50c78417fc8e67c15">LLVMContext::OB&#95;ptrauth</a>)) &#123;</span></CodeLine>
<Link id="l03387" /><CodeLine lineNumber="3387"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ac9742261cd7ee88cb99ec122fc61f5e8">LowerCallSiteWithPtrAuthBundle</a>(<a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;CallBase&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>), EHPadBB);</span></CodeLine>
<Link id="l03388" /><CodeLine lineNumber="3388"><span class="doxyHighlight">  &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l03389" /><CodeLine lineNumber="3389"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#a2b4653fa0c302d9cbe4e7839d711e76a">LowerCallTo</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(Callee), </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">, </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">, EHPadBB);</span></CodeLine>
<Link id="l03390" /><CodeLine lineNumber="3390"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l03391" /><CodeLine lineNumber="3391"></CodeLine>
<Link id="l03392" /><CodeLine lineNumber="3392"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// If the value of the invoke is used outside of its defining block, make it</span></CodeLine>
<Link id="l03393" /><CodeLine lineNumber="3393"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// available as a virtual register.</span></CodeLine>
<Link id="l03394" /><CodeLine lineNumber="3394"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// We already took care of the exported value for the statepoint instruction</span></CodeLine>
<Link id="l03395" /><CodeLine lineNumber="3395"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// during call to the LowerStatepoint.</span></CodeLine>
<Link id="l03396" /><CodeLine lineNumber="3396"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;GCStatepointInst&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) &#123;</span></CodeLine>
<Link id="l03397" /><CodeLine lineNumber="3397"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ac30ce0e7a5759d1e0bb5bf891e88662b">CopyToExportRegsIfNeeded</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</span></CodeLine>
<Link id="l03398" /><CodeLine lineNumber="3398"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l03399" /><CodeLine lineNumber="3399"></CodeLine>
<Link id="l03400" /><CodeLine lineNumber="3400"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;std::pair&lt;MachineBasicBlock &#42;, BranchProbability&gt;</a>, 1&gt; UnwindDests;</span></CodeLine>
<Link id="l03401" /><CodeLine lineNumber="3401"><span class="doxyHighlight">  BranchProbabilityInfo &#42;BPI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.BPI;</span></CodeLine>
<Link id="l03402" /><CodeLine lineNumber="3402"><span class="doxyHighlight">  BranchProbability EHPadBBProb =</span></CodeLine>
<Link id="l03403" /><CodeLine lineNumber="3403"><span class="doxyHighlight">      BPI ? BPI-&gt;<a href="/docs/api/classes/llvm/branchprobabilityinfo/#a46502d648608aa13cb485ed4af447d88">getEdgeProbability</a>(InvokeMBB-&gt;<a href="/docs/api/classes/llvm/machinebasicblock/#a4874816314c3308be0bf1e71de2078d8">getBasicBlock</a>(), EHPadBB)</span></CodeLine>
<Link id="l03404" /><CodeLine lineNumber="3404"><span class="doxyHighlight">          : <a href="/docs/api/classes/llvm/branchprobability/#afd00958cba7080048a84cccfcef55d71">BranchProbability::getZero</a>();</span></CodeLine>
<Link id="l03405" /><CodeLine lineNumber="3405"><span class="doxyHighlight">  <a href="#a6289e8af46c9783382b346baa020087c">findUnwindDestinations</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>, EHPadBB, EHPadBBProb, UnwindDests);</span></CodeLine>
<Link id="l03406" /><CodeLine lineNumber="3406"></CodeLine>
<Link id="l03407" /><CodeLine lineNumber="3407"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Update successor info.</span></CodeLine>
<Link id="l03408" /><CodeLine lineNumber="3408"><span class="doxyHighlight">  addSuccessorWithProb(InvokeMBB, Return);</span></CodeLine>
<Link id="l03409" /><CodeLine lineNumber="3409"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;UnwindDest : UnwindDests) &#123;</span></CodeLine>
<Link id="l03410" /><CodeLine lineNumber="3410"><span class="doxyHighlight">    UnwindDest.first-&gt;setIsEHPad();</span></CodeLine>
<Link id="l03411" /><CodeLine lineNumber="3411"><span class="doxyHighlight">    addSuccessorWithProb(InvokeMBB, UnwindDest.first, UnwindDest.second);</span></CodeLine>
<Link id="l03412" /><CodeLine lineNumber="3412"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l03413" /><CodeLine lineNumber="3413"><span class="doxyHighlight">  InvokeMBB-&gt;<a href="/docs/api/classes/llvm/machinebasicblock/#a0c54da24de983d197068425e718fb607">normalizeSuccProbs</a>();</span></CodeLine>
<Link id="l03414" /><CodeLine lineNumber="3414"></CodeLine>
<Link id="l03415" /><CodeLine lineNumber="3415"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Drop into normal successor.</span></CodeLine>
<Link id="l03416" /><CodeLine lineNumber="3416"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::BR, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), MVT::Other, <a href="/docs/api/classes/llvm/selectiondagbuilder/#aef34360e8bb4bdecf3fd6345ff504f81">getControlRoot</a>(),</span></CodeLine>
<Link id="l03417" /><CodeLine lineNumber="3417"><span class="doxyHighlight">                          <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getBasicBlock(Return)));</span></CodeLine>
<Link id="l03418" /><CodeLine lineNumber="3418"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l03419" /><CodeLine lineNumber="3419"></CodeLine>
<Link id="l03420" /><CodeLine lineNumber="3420"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitCallBr(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/callbrinst">CallBrInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l03421" /><CodeLine lineNumber="3421"><span class="doxyHighlight">  MachineBasicBlock &#42;CallBrMBB = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.MBB;</span></CodeLine>
<Link id="l03422" /><CodeLine lineNumber="3422"></CodeLine>
<Link id="l03423" /><CodeLine lineNumber="3423"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Deopt bundles are lowered in LowerCallSiteWithDeoptBundle, and we don&#39;t</span></CodeLine>
<Link id="l03424" /><CodeLine lineNumber="3424"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// have to do anything here to lower funclet bundles.</span></CodeLine>
<Link id="l03425" /><CodeLine lineNumber="3425"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.hasOperandBundlesOtherThan(</span></CodeLine>
<Link id="l03426" /><CodeLine lineNumber="3426"><span class="doxyHighlight">             &#123;LLVMContext::OB&#95;deopt, LLVMContext::OB&#95;funclet&#125;) &amp;&amp;</span></CodeLine>
<Link id="l03427" /><CodeLine lineNumber="3427"><span class="doxyHighlight">         </span><span class="doxyHighlightStringLiteral">&quot;Cannot lower callbrs with arbitrary operand bundles yet!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l03428" /><CodeLine lineNumber="3428"></CodeLine>
<Link id="l03429" /><CodeLine lineNumber="3429"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.isInlineAsm() &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Only know how to handle inlineasm callbr&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l03430" /><CodeLine lineNumber="3430"><span class="doxyHighlight">  visitInlineAsm(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</span></CodeLine>
<Link id="l03431" /><CodeLine lineNumber="3431"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ac30ce0e7a5759d1e0bb5bf891e88662b">CopyToExportRegsIfNeeded</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</span></CodeLine>
<Link id="l03432" /><CodeLine lineNumber="3432"></CodeLine>
<Link id="l03433" /><CodeLine lineNumber="3433"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Retrieve successors.</span></CodeLine>
<Link id="l03434" /><CodeLine lineNumber="3434"><span class="doxyHighlight">  SmallPtrSet&lt;BasicBlock &#42;, 8&gt; Dests;</span></CodeLine>
<Link id="l03435" /><CodeLine lineNumber="3435"><span class="doxyHighlight">  Dests.<a href="/docs/api/classes/llvm/smallptrsetimpl/#a9d834ae3da8c62c2b668dada51335eb0">insert</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getDefaultDest());</span></CodeLine>
<Link id="l03436" /><CodeLine lineNumber="3436"><span class="doxyHighlight">  MachineBasicBlock &#42;<a href="/docs/api/namespaces/llvm/mcid/#ab357441fcd1ea1f9b0d27c12700f6023a5416d9f1bd5f533efddadf17d713e469">Return</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.getMBB(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getDefaultDest());</span></CodeLine>
<Link id="l03437" /><CodeLine lineNumber="3437"></CodeLine>
<Link id="l03438" /><CodeLine lineNumber="3438"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Update successor info.</span></CodeLine>
<Link id="l03439" /><CodeLine lineNumber="3439"><span class="doxyHighlight">  addSuccessorWithProb(CallBrMBB, Return, <a href="/docs/api/classes/llvm/branchprobability/#a56e1b2d1999aadf4c513caee1ce5275b">BranchProbability::getOne</a>());</span></CodeLine>
<Link id="l03440" /><CodeLine lineNumber="3440"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> i = 0, e = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getNumIndirectDests(); i &lt; e; ++i) &#123;</span></CodeLine>
<Link id="l03441" /><CodeLine lineNumber="3441"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a8472e46f9e4db168c5610ecdfb05dbaf">BasicBlock</a> &#42;Dest = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getIndirectDest(i);</span></CodeLine>
<Link id="l03442" /><CodeLine lineNumber="3442"><span class="doxyHighlight">    MachineBasicBlock &#42;<a href="/docs/api/namespaces/llvm/amdgpu/exp/#af7592dc94276d1958420bcfb414b6998">Target</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.getMBB(Dest);</span></CodeLine>
<Link id="l03443" /><CodeLine lineNumber="3443"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/amdgpu/exp/#af7592dc94276d1958420bcfb414b6998">Target</a>-&gt;setIsInlineAsmBrIndirectTarget();</span></CodeLine>
<Link id="l03444" /><CodeLine lineNumber="3444"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/amdgpu/exp/#af7592dc94276d1958420bcfb414b6998">Target</a>-&gt;setMachineBlockAddressTaken();</span></CodeLine>
<Link id="l03445" /><CodeLine lineNumber="3445"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/amdgpu/exp/#af7592dc94276d1958420bcfb414b6998">Target</a>-&gt;setLabelMustBeEmitted();</span></CodeLine>
<Link id="l03446" /><CodeLine lineNumber="3446"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Don&#39;t add duplicate machine successors.</span></CodeLine>
<Link id="l03447" /><CodeLine lineNumber="3447"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Dests.<a href="/docs/api/classes/llvm/smallptrsetimpl/#a9d834ae3da8c62c2b668dada51335eb0">insert</a>(Dest).second)</span></CodeLine>
<Link id="l03448" /><CodeLine lineNumber="3448"><span class="doxyHighlight">      addSuccessorWithProb(CallBrMBB, Target, <a href="/docs/api/classes/llvm/branchprobability/#afd00958cba7080048a84cccfcef55d71">BranchProbability::getZero</a>());</span></CodeLine>
<Link id="l03449" /><CodeLine lineNumber="3449"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l03450" /><CodeLine lineNumber="3450"><span class="doxyHighlight">  CallBrMBB-&gt;<a href="/docs/api/classes/llvm/machinebasicblock/#a0c54da24de983d197068425e718fb607">normalizeSuccProbs</a>();</span></CodeLine>
<Link id="l03451" /><CodeLine lineNumber="3451"></CodeLine>
<Link id="l03452" /><CodeLine lineNumber="3452"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Drop into default successor.</span></CodeLine>
<Link id="l03453" /><CodeLine lineNumber="3453"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::BR, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(),</span></CodeLine>
<Link id="l03454" /><CodeLine lineNumber="3454"><span class="doxyHighlight">                          MVT::Other, <a href="/docs/api/classes/llvm/selectiondagbuilder/#aef34360e8bb4bdecf3fd6345ff504f81">getControlRoot</a>(),</span></CodeLine>
<Link id="l03455" /><CodeLine lineNumber="3455"><span class="doxyHighlight">                          <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getBasicBlock(Return)));</span></CodeLine>
<Link id="l03456" /><CodeLine lineNumber="3456"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l03457" /><CodeLine lineNumber="3457"></CodeLine>
<Link id="l03458" /><CodeLine lineNumber="3458"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitResume(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/resumeinst">ResumeInst</a> &amp;RI) &#123;</span></CodeLine>
<Link id="l03459" /><CodeLine lineNumber="3459"><span class="doxyHighlight">  <a href="/docs/api/files/include/include/llvm/include/llvm/support/errorhandling-h/#ace243f5c25697a1107cce46626b3dc94">llvm&#95;unreachable</a>(</span><span class="doxyHighlightStringLiteral">&quot;SelectionDAGBuilder shouldn&#39;t visit resume instructions!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l03460" /><CodeLine lineNumber="3460"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l03461" /><CodeLine lineNumber="3461"></CodeLine>
<Link id="l03462" /><CodeLine lineNumber="3462"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitLandingPad(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/landingpadinst">LandingPadInst</a> &amp;LP) &#123;</span></CodeLine>
<Link id="l03463" /><CodeLine lineNumber="3463"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.MBB-&gt;isEHPad() &amp;&amp;</span></CodeLine>
<Link id="l03464" /><CodeLine lineNumber="3464"><span class="doxyHighlight">         </span><span class="doxyHighlightStringLiteral">&quot;Call to landingpad not in landing pad!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l03465" /><CodeLine lineNumber="3465"></CodeLine>
<Link id="l03466" /><CodeLine lineNumber="3466"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// If there aren&#39;t registers to copy the values into (e.g., during SjLj</span></CodeLine>
<Link id="l03467" /><CodeLine lineNumber="3467"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// exceptions), then don&#39;t bother to create these DAG nodes.</span></CodeLine>
<Link id="l03468" /><CodeLine lineNumber="3468"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> TargetLowering &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l03469" /><CodeLine lineNumber="3469"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110aac2f0a84dd2aa5ee4c3f1385e9565f5e">Constant</a> &#42;PersonalityFn = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.Fn-&gt;getPersonalityFn();</span></CodeLine>
<Link id="l03470" /><CodeLine lineNumber="3470"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#ade4c9edab20f271644c8678ae6764c69">getExceptionPointerRegister</a>(PersonalityFn) == 0 &amp;&amp;</span></CodeLine>
<Link id="l03471" /><CodeLine lineNumber="3471"><span class="doxyHighlight">      TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#af00cd85bb1e2d2286212e74352c0a191">getExceptionSelectorRegister</a>(PersonalityFn) == 0)</span></CodeLine>
<Link id="l03472" /><CodeLine lineNumber="3472"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l03473" /><CodeLine lineNumber="3473"></CodeLine>
<Link id="l03474" /><CodeLine lineNumber="3474"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// If landingpad&#39;s return type is token type, we don&#39;t create DAG nodes</span></CodeLine>
<Link id="l03475" /><CodeLine lineNumber="3475"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// for its exception pointer and selector value. The extraction of exception</span></CodeLine>
<Link id="l03476" /><CodeLine lineNumber="3476"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// pointer or selector value from token type landingpads is not currently</span></CodeLine>
<Link id="l03477" /><CodeLine lineNumber="3477"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// supported.</span></CodeLine>
<Link id="l03478" /><CodeLine lineNumber="3478"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (LP.<a href="/docs/api/classes/llvm/value/#a0344a49526443edf90cc0aef3abd3337">getType</a>()-&gt;<a href="/docs/api/classes/llvm/type/#ac9542ee3a689ae9574b7807c96107d89">isTokenTy</a>())</span></CodeLine>
<Link id="l03479" /><CodeLine lineNumber="3479"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l03480" /><CodeLine lineNumber="3480"></CodeLine>
<Link id="l03481" /><CodeLine lineNumber="3481"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;EVT, 2&gt;</a> ValueVTs;</span></CodeLine>
<Link id="l03482" /><CodeLine lineNumber="3482"><span class="doxyHighlight">  SDLoc dl = <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>();</span></CodeLine>
<Link id="l03483" /><CodeLine lineNumber="3483"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#ab99618b3d8988b758a67f5a1a6071095">ComputeValueVTs</a>(TLI, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), LP.<a href="/docs/api/classes/llvm/value/#a0344a49526443edf90cc0aef3abd3337">getType</a>(), ValueVTs);</span></CodeLine>
<Link id="l03484" /><CodeLine lineNumber="3484"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ValueVTs.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#a1c479a8c434377c2b8cb056bdfdfc201">size</a>() == 2 &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Only two-valued landingpads are supported&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l03485" /><CodeLine lineNumber="3485"></CodeLine>
<Link id="l03486" /><CodeLine lineNumber="3486"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Get the two live-in registers as SDValues. The physregs have already been</span></CodeLine>
<Link id="l03487" /><CodeLine lineNumber="3487"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// copied into virtual registers.</span></CodeLine>
<Link id="l03488" /><CodeLine lineNumber="3488"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>&#91;2&#93;;</span></CodeLine>
<Link id="l03489" /><CodeLine lineNumber="3489"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.ExceptionPointerVirtReg) &#123;</span></CodeLine>
<Link id="l03490" /><CodeLine lineNumber="3490"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>&#91;0&#93; = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getZExtOrTrunc(</span></CodeLine>
<Link id="l03491" /><CodeLine lineNumber="3491"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getCopyFromReg(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getEntryNode(), dl,</span></CodeLine>
<Link id="l03492" /><CodeLine lineNumber="3492"><span class="doxyHighlight">                           <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.ExceptionPointerVirtReg,</span></CodeLine>
<Link id="l03493" /><CodeLine lineNumber="3493"><span class="doxyHighlight">                           TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout())),</span></CodeLine>
<Link id="l03494" /><CodeLine lineNumber="3494"><span class="doxyHighlight">        dl, ValueVTs&#91;0&#93;);</span></CodeLine>
<Link id="l03495" /><CodeLine lineNumber="3495"><span class="doxyHighlight">  &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l03496" /><CodeLine lineNumber="3496"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>&#91;0&#93; = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getConstant(0, dl, TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout()));</span></CodeLine>
<Link id="l03497" /><CodeLine lineNumber="3497"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l03498" /><CodeLine lineNumber="3498"><span class="doxyHighlight">  <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>&#91;1&#93; = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getZExtOrTrunc(</span></CodeLine>
<Link id="l03499" /><CodeLine lineNumber="3499"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getCopyFromReg(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getEntryNode(), dl,</span></CodeLine>
<Link id="l03500" /><CodeLine lineNumber="3500"><span class="doxyHighlight">                         <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.ExceptionSelectorVirtReg,</span></CodeLine>
<Link id="l03501" /><CodeLine lineNumber="3501"><span class="doxyHighlight">                         TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout())),</span></CodeLine>
<Link id="l03502" /><CodeLine lineNumber="3502"><span class="doxyHighlight">      dl, ValueVTs&#91;1&#93;);</span></CodeLine>
<Link id="l03503" /><CodeLine lineNumber="3503"></CodeLine>
<Link id="l03504" /><CodeLine lineNumber="3504"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Merge into one.</span></CodeLine>
<Link id="l03505" /><CodeLine lineNumber="3505"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Res = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a01c94937492f3ac3fb1e0be8eb0b9ef1">ISD::MERGE&#95;VALUES</a>, dl,</span></CodeLine>
<Link id="l03506" /><CodeLine lineNumber="3506"><span class="doxyHighlight">                            <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVTList(ValueVTs), <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>);</span></CodeLine>
<Link id="l03507" /><CodeLine lineNumber="3507"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;LP, Res);</span></CodeLine>
<Link id="l03508" /><CodeLine lineNumber="3508"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l03509" /><CodeLine lineNumber="3509"></CodeLine>
<Link id="l03510" /><CodeLine lineNumber="3510" lineLink="/docs/api/classes/llvm/selectiondagbuilder/#af6e9499206c6a56801d70a567fc8862a"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#af6e9499206c6a56801d70a567fc8862a">SelectionDAGBuilder::UpdateSplitBlock</a>(<a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;<a href="/docs/api/namespaces/llvm/#a9eb4f5b98b70ee4fab9614ed58282c1fa7fb55ed0b7a30342ba6da306428cae04">First</a>,</span></CodeLine>
<Link id="l03511" /><CodeLine lineNumber="3511"><span class="doxyHighlight">                                           <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;<a href="/docs/api/namespaces/llvm/#ac10d13c57a7adf4a1f140afd5321309bad55b30607c2a9a2616347d6edb789f6b">Last</a>) &#123;</span></CodeLine>
<Link id="l03512" /><CodeLine lineNumber="3512"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Update JTCases.</span></CodeLine>
<Link id="l03513" /><CodeLine lineNumber="3513"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/switchcg/#a09bb92997495ee27f5689b48fabdb4c1">JumpTableBlock</a> &amp;JTB : <a href="/docs/api/classes/llvm/selectiondagbuilder/#a346bf6c4d7fca3ebce554ec2cdd80e87">SL</a>-&gt;JTCases)</span></CodeLine>
<Link id="l03514" /><CodeLine lineNumber="3514"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (JTB.first.HeaderBB == <a href="/docs/api/namespaces/llvm/#a9eb4f5b98b70ee4fab9614ed58282c1fa7fb55ed0b7a30342ba6da306428cae04">First</a>)</span></CodeLine>
<Link id="l03515" /><CodeLine lineNumber="3515"><span class="doxyHighlight">      JTB.first.HeaderBB = <a href="/docs/api/namespaces/llvm/#ac10d13c57a7adf4a1f140afd5321309bad55b30607c2a9a2616347d6edb789f6b">Last</a>;</span></CodeLine>
<Link id="l03516" /><CodeLine lineNumber="3516"></CodeLine>
<Link id="l03517" /><CodeLine lineNumber="3517"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Update BitTestCases.</span></CodeLine>
<Link id="l03518" /><CodeLine lineNumber="3518"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (<a href="/docs/api/structs/llvm/switchcg/bittestblock">BitTestBlock</a> &amp;BTB : <a href="/docs/api/classes/llvm/selectiondagbuilder/#a346bf6c4d7fca3ebce554ec2cdd80e87">SL</a>-&gt;BitTestCases)</span></CodeLine>
<Link id="l03519" /><CodeLine lineNumber="3519"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (BTB.<a href="/docs/api/structs/llvm/switchcg/bittestblock/#aa7fe2ac4f88fa09c19520aa9323be2f7">Parent</a> == <a href="/docs/api/namespaces/llvm/#a9eb4f5b98b70ee4fab9614ed58282c1fa7fb55ed0b7a30342ba6da306428cae04">First</a>)</span></CodeLine>
<Link id="l03520" /><CodeLine lineNumber="3520"><span class="doxyHighlight">      BTB.<a href="/docs/api/structs/llvm/switchcg/bittestblock/#aa7fe2ac4f88fa09c19520aa9323be2f7">Parent</a> = <a href="/docs/api/namespaces/llvm/#ac10d13c57a7adf4a1f140afd5321309bad55b30607c2a9a2616347d6edb789f6b">Last</a>;</span></CodeLine>
<Link id="l03521" /><CodeLine lineNumber="3521"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l03522" /><CodeLine lineNumber="3522"></CodeLine>
<Link id="l03523" /><CodeLine lineNumber="3523"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitIndirectBr(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/indirectbrinst">IndirectBrInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l03524" /><CodeLine lineNumber="3524"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;IndirectBrMBB = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.<a href="/docs/api/classes/llvm/functionloweringinfo/#a9893077f1825192ca0f3d173afefb573">MBB</a>;</span></CodeLine>
<Link id="l03525" /><CodeLine lineNumber="3525"></CodeLine>
<Link id="l03526" /><CodeLine lineNumber="3526"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Update machine-CFG edges with unique successors.</span></CodeLine>
<Link id="l03527" /><CodeLine lineNumber="3527"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/smallset">SmallSet&lt;BasicBlock&#42;, 32&gt;</a> <a href="/docs/api/namespaces/llvm/#a233737223c9a3dba810df5b91bc91d1fabbb9957d8adae962b153273c16bce571">Done</a>;</span></CodeLine>
<Link id="l03528" /><CodeLine lineNumber="3528"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> i = 0, e = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getNumSuccessors(); i != e; ++i) &#123;</span></CodeLine>
<Link id="l03529" /><CodeLine lineNumber="3529"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42;BB = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getSuccessor(i);</span></CodeLine>
<Link id="l03530" /><CodeLine lineNumber="3530"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> Inserted = <a href="/docs/api/namespaces/llvm/#a233737223c9a3dba810df5b91bc91d1fabbb9957d8adae962b153273c16bce571">Done</a>.insert(BB).second;</span></CodeLine>
<Link id="l03531" /><CodeLine lineNumber="3531"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!Inserted)</span></CodeLine>
<Link id="l03532" /><CodeLine lineNumber="3532"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">continue</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l03533" /><CodeLine lineNumber="3533"></CodeLine>
<Link id="l03534" /><CodeLine lineNumber="3534"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;Succ = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.<a href="/docs/api/classes/llvm/functionloweringinfo/#a14a2bf30885cc5b91b86a564759980bb">getMBB</a>(BB);</span></CodeLine>
<Link id="l03535" /><CodeLine lineNumber="3535"><span class="doxyHighlight">    addSuccessorWithProb(IndirectBrMBB, Succ);</span></CodeLine>
<Link id="l03536" /><CodeLine lineNumber="3536"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l03537" /><CodeLine lineNumber="3537"><span class="doxyHighlight">  IndirectBrMBB-&gt;<a href="/docs/api/classes/llvm/machinebasicblock/#a0c54da24de983d197068425e718fb607">normalizeSuccProbs</a>();</span></CodeLine>
<Link id="l03538" /><CodeLine lineNumber="3538"></CodeLine>
<Link id="l03539" /><CodeLine lineNumber="3539"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.<a href="/docs/api/classes/llvm/selectiondag/#ae0fc3f54d06d2230bf93a19d45f51706">setRoot</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::BRIND, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(),</span></CodeLine>
<Link id="l03540" /><CodeLine lineNumber="3540"><span class="doxyHighlight">                          MVT::Other, <a href="/docs/api/classes/llvm/selectiondagbuilder/#aef34360e8bb4bdecf3fd6345ff504f81">getControlRoot</a>(),</span></CodeLine>
<Link id="l03541" /><CodeLine lineNumber="3541"><span class="doxyHighlight">                          <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getAddress())));</span></CodeLine>
<Link id="l03542" /><CodeLine lineNumber="3542"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l03543" /><CodeLine lineNumber="3543"></CodeLine>
<Link id="l03544" /><CodeLine lineNumber="3544"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitUnreachable(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/unreachableinst">UnreachableInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l03545" /><CodeLine lineNumber="3545"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTarget().Options.TrapUnreachable)</span></CodeLine>
<Link id="l03546" /><CodeLine lineNumber="3546"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l03547" /><CodeLine lineNumber="3547"></CodeLine>
<Link id="l03548" /><CodeLine lineNumber="3548"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// We may be able to ignore unreachable behind a noreturn call.</span></CodeLine>
<Link id="l03549" /><CodeLine lineNumber="3549"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> CallInst &#42;<a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a> = <a href="/docs/api/namespaces/llvm/#a5f6182886dc2f96c204299e92c1565d5">dyn&#95;cast&#95;or&#95;null&lt;CallInst&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getPrevNode());</span></CodeLine>
<Link id="l03550" /><CodeLine lineNumber="3550"><span class="doxyHighlight">      <a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a> &amp;&amp; <a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>-&gt;<a href="/docs/api/classes/llvm/callbase/#ad8b80c508197d6dcbe67e082426a8026">doesNotReturn</a>()) &#123;</span></CodeLine>
<Link id="l03551" /><CodeLine lineNumber="3551"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTarget().Options.NoTrapAfterNoreturn)</span></CodeLine>
<Link id="l03552" /><CodeLine lineNumber="3552"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l03553" /><CodeLine lineNumber="3553"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Do not emit an additional trap instruction.</span></CodeLine>
<Link id="l03554" /><CodeLine lineNumber="3554"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>-&gt;<a href="/docs/api/classes/llvm/callinst/#ae47d97e1c5c07ee94c968058e19acb98">isNonContinuableTrap</a>())</span></CodeLine>
<Link id="l03555" /><CodeLine lineNumber="3555"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l03556" /><CodeLine lineNumber="3556"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l03557" /><CodeLine lineNumber="3557"></CodeLine>
<Link id="l03558" /><CodeLine lineNumber="3558"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::TRAP, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), MVT::Other, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getRoot()));</span></CodeLine>
<Link id="l03559" /><CodeLine lineNumber="3559"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l03560" /><CodeLine lineNumber="3560"></CodeLine>
<Link id="l03561" /><CodeLine lineNumber="3561"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitUnary(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/user">User</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> Opcode) &#123;</span></CodeLine>
<Link id="l03562" /><CodeLine lineNumber="3562"><span class="doxyHighlight">  SDNodeFlags <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>;</span></CodeLine>
<Link id="l03563" /><CodeLine lineNumber="3563"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;FPOp = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;FPMathOperator&gt;</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</span></CodeLine>
<Link id="l03564" /><CodeLine lineNumber="3564"><span class="doxyHighlight">    <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.copyFMF(&#42;FPOp);</span></CodeLine>
<Link id="l03565" /><CodeLine lineNumber="3565"></CodeLine>
<Link id="l03566" /><CodeLine lineNumber="3566"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0));</span></CodeLine>
<Link id="l03567" /><CodeLine lineNumber="3567"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> UnNodeValue = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(Opcode, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>.getValueType(),</span></CodeLine>
<Link id="l03568" /><CodeLine lineNumber="3568"><span class="doxyHighlight">                                    <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>, Flags);</span></CodeLine>
<Link id="l03569" /><CodeLine lineNumber="3569"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, UnNodeValue);</span></CodeLine>
<Link id="l03570" /><CodeLine lineNumber="3570"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l03571" /><CodeLine lineNumber="3571"></CodeLine>
<Link id="l03572" /><CodeLine lineNumber="3572"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitBinary(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/user">User</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> Opcode) &#123;</span></CodeLine>
<Link id="l03573" /><CodeLine lineNumber="3573"><span class="doxyHighlight">  SDNodeFlags <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>;</span></CodeLine>
<Link id="l03574" /><CodeLine lineNumber="3574"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;OFBinOp = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;OverflowingBinaryOperator&gt;</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) &#123;</span></CodeLine>
<Link id="l03575" /><CodeLine lineNumber="3575"><span class="doxyHighlight">    <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setNoSignedWrap(OFBinOp-&gt;hasNoSignedWrap());</span></CodeLine>
<Link id="l03576" /><CodeLine lineNumber="3576"><span class="doxyHighlight">    <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setNoUnsignedWrap(OFBinOp-&gt;hasNoUnsignedWrap());</span></CodeLine>
<Link id="l03577" /><CodeLine lineNumber="3577"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l03578" /><CodeLine lineNumber="3578"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;ExactOp = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;PossiblyExactOperator&gt;</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</span></CodeLine>
<Link id="l03579" /><CodeLine lineNumber="3579"><span class="doxyHighlight">    <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setExact(ExactOp-&gt;isExact());</span></CodeLine>
<Link id="l03580" /><CodeLine lineNumber="3580"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;DisjointOp = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;PossiblyDisjointInst&gt;</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</span></CodeLine>
<Link id="l03581" /><CodeLine lineNumber="3581"><span class="doxyHighlight">    <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setDisjoint(DisjointOp-&gt;isDisjoint());</span></CodeLine>
<Link id="l03582" /><CodeLine lineNumber="3582"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;FPOp = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;FPMathOperator&gt;</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</span></CodeLine>
<Link id="l03583" /><CodeLine lineNumber="3583"><span class="doxyHighlight">    <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.copyFMF(&#42;FPOp);</span></CodeLine>
<Link id="l03584" /><CodeLine lineNumber="3584"></CodeLine>
<Link id="l03585" /><CodeLine lineNumber="3585"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op1 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0));</span></CodeLine>
<Link id="l03586" /><CodeLine lineNumber="3586"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op2 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(1));</span></CodeLine>
<Link id="l03587" /><CodeLine lineNumber="3587"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> BinNodeValue = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(Opcode, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), Op1.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>(),</span></CodeLine>
<Link id="l03588" /><CodeLine lineNumber="3588"><span class="doxyHighlight">                                     Op1, Op2, Flags);</span></CodeLine>
<Link id="l03589" /><CodeLine lineNumber="3589"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, BinNodeValue);</span></CodeLine>
<Link id="l03590" /><CodeLine lineNumber="3590"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l03591" /><CodeLine lineNumber="3591"></CodeLine>
<Link id="l03592" /><CodeLine lineNumber="3592"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitShift(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/user">User</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> Opcode) &#123;</span></CodeLine>
<Link id="l03593" /><CodeLine lineNumber="3593"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op1 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0));</span></CodeLine>
<Link id="l03594" /><CodeLine lineNumber="3594"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op2 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(1));</span></CodeLine>
<Link id="l03595" /><CodeLine lineNumber="3595"></CodeLine>
<Link id="l03596" /><CodeLine lineNumber="3596"><span class="doxyHighlight">  EVT ShiftTy = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo().getShiftAmountTy(</span></CodeLine>
<Link id="l03597" /><CodeLine lineNumber="3597"><span class="doxyHighlight">      Op1.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>(), <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout());</span></CodeLine>
<Link id="l03598" /><CodeLine lineNumber="3598"></CodeLine>
<Link id="l03599" /><CodeLine lineNumber="3599"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Coerce the shift amount to the right type if we can. This exposes the</span></CodeLine>
<Link id="l03600" /><CodeLine lineNumber="3600"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// truncate or zext to optimization early.</span></CodeLine>
<Link id="l03601" /><CodeLine lineNumber="3601"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType()-&gt;isVectorTy() &amp;&amp; Op2.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>() != ShiftTy) &#123;</span></CodeLine>
<Link id="l03602" /><CodeLine lineNumber="3602"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ShiftTy.<a href="/docs/api/structs/llvm/evt/#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>() &gt;= <a href="/docs/api/namespaces/llvm/#a058782b98991f0719657d9008d3df41b">Log2&#95;32&#95;Ceil</a>(Op1.<a href="/docs/api/classes/llvm/sdvalue/#a8915297f72f1020167562805827f7160">getValueSizeInBits</a>()) &amp;&amp;</span></CodeLine>
<Link id="l03603" /><CodeLine lineNumber="3603"><span class="doxyHighlight">           </span><span class="doxyHighlightStringLiteral">&quot;Unexpected shift type&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l03604" /><CodeLine lineNumber="3604"><span class="doxyHighlight">    Op2 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getZExtOrTrunc(Op2, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), ShiftTy);</span></CodeLine>
<Link id="l03605" /><CodeLine lineNumber="3605"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l03606" /><CodeLine lineNumber="3606"></CodeLine>
<Link id="l03607" /><CodeLine lineNumber="3607"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> nuw = </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l03608" /><CodeLine lineNumber="3608"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> nsw = </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l03609" /><CodeLine lineNumber="3609"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> exact = </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l03610" /><CodeLine lineNumber="3610"></CodeLine>
<Link id="l03611" /><CodeLine lineNumber="3611"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Opcode == <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a> || Opcode == <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a4a055321c361a0f6ee77ed764730ffc1">ISD::SRA</a> || Opcode == <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>) &#123;</span></CodeLine>
<Link id="l03612" /><CodeLine lineNumber="3612"></CodeLine>
<Link id="l03613" /><CodeLine lineNumber="3613"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> OverflowingBinaryOperator &#42;OFBinOp =</span></CodeLine>
<Link id="l03614" /><CodeLine lineNumber="3614"><span class="doxyHighlight">            <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;const OverflowingBinaryOperator&gt;</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) &#123;</span></CodeLine>
<Link id="l03615" /><CodeLine lineNumber="3615"><span class="doxyHighlight">      nuw = OFBinOp-&gt;hasNoUnsignedWrap();</span></CodeLine>
<Link id="l03616" /><CodeLine lineNumber="3616"><span class="doxyHighlight">      nsw = OFBinOp-&gt;hasNoSignedWrap();</span></CodeLine>
<Link id="l03617" /><CodeLine lineNumber="3617"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l03618" /><CodeLine lineNumber="3618"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> PossiblyExactOperator &#42;ExactOp =</span></CodeLine>
<Link id="l03619" /><CodeLine lineNumber="3619"><span class="doxyHighlight">            <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;const PossiblyExactOperator&gt;</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</span></CodeLine>
<Link id="l03620" /><CodeLine lineNumber="3620"><span class="doxyHighlight">      exact = ExactOp-&gt;isExact();</span></CodeLine>
<Link id="l03621" /><CodeLine lineNumber="3621"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l03622" /><CodeLine lineNumber="3622"><span class="doxyHighlight">  SDNodeFlags <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>;</span></CodeLine>
<Link id="l03623" /><CodeLine lineNumber="3623"><span class="doxyHighlight">  <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setExact(exact);</span></CodeLine>
<Link id="l03624" /><CodeLine lineNumber="3624"><span class="doxyHighlight">  <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setNoSignedWrap(nsw);</span></CodeLine>
<Link id="l03625" /><CodeLine lineNumber="3625"><span class="doxyHighlight">  <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setNoUnsignedWrap(nuw);</span></CodeLine>
<Link id="l03626" /><CodeLine lineNumber="3626"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Res = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(Opcode, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), Op1.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>(), Op1, Op2,</span></CodeLine>
<Link id="l03627" /><CodeLine lineNumber="3627"><span class="doxyHighlight">                            Flags);</span></CodeLine>
<Link id="l03628" /><CodeLine lineNumber="3628"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Res);</span></CodeLine>
<Link id="l03629" /><CodeLine lineNumber="3629"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l03630" /><CodeLine lineNumber="3630"></CodeLine>
<Link id="l03631" /><CodeLine lineNumber="3631"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitSDiv(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/user">User</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l03632" /><CodeLine lineNumber="3632"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op1 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0));</span></CodeLine>
<Link id="l03633" /><CodeLine lineNumber="3633"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op2 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(1));</span></CodeLine>
<Link id="l03634" /><CodeLine lineNumber="3634"></CodeLine>
<Link id="l03635" /><CodeLine lineNumber="3635"><span class="doxyHighlight">  SDNodeFlags <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>;</span></CodeLine>
<Link id="l03636" /><CodeLine lineNumber="3636"><span class="doxyHighlight">  <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setExact(<a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;PossiblyExactOperator&gt;</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &amp;&amp;</span></CodeLine>
<Link id="l03637" /><CodeLine lineNumber="3637"><span class="doxyHighlight">                 <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;PossiblyExactOperator&gt;</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>)-&gt;isExact());</span></CodeLine>
<Link id="l03638" /><CodeLine lineNumber="3638"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a1f61c2422057e10403b2f6003543c300">ISD::SDIV</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), Op1.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>(), Op1,</span></CodeLine>
<Link id="l03639" /><CodeLine lineNumber="3639"><span class="doxyHighlight">                           Op2, Flags));</span></CodeLine>
<Link id="l03640" /><CodeLine lineNumber="3640"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l03641" /><CodeLine lineNumber="3641"></CodeLine>
<Link id="l03642" /><CodeLine lineNumber="3642"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitICmp(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/icmpinst">ICmpInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l03643" /><CodeLine lineNumber="3643"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/cmpinst/#a2be3583dac92a031fa1458d4d992c78b">ICmpInst::Predicate</a> predicate = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getPredicate();</span></CodeLine>
<Link id="l03644" /><CodeLine lineNumber="3644"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op1 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0));</span></CodeLine>
<Link id="l03645" /><CodeLine lineNumber="3645"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op2 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(1));</span></CodeLine>
<Link id="l03646" /><CodeLine lineNumber="3646"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/isd/#ac3c3cf58d6d631af6a172457304d3d07">ISD::CondCode</a> Opcode = <a href="/docs/api/namespaces/llvm/#a0724f162df94451d626d918e992fe123">getICmpCondCode</a>(predicate);</span></CodeLine>
<Link id="l03647" /><CodeLine lineNumber="3647"></CodeLine>
<Link id="l03648" /><CodeLine lineNumber="3648"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l03649" /><CodeLine lineNumber="3649"><span class="doxyHighlight">  EVT MemVT =</span></CodeLine>
<Link id="l03650" /><CodeLine lineNumber="3650"><span class="doxyHighlight">      TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a02b5aaf4357ae931647439e312a034bc">getMemValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0)-&gt;getType());</span></CodeLine>
<Link id="l03651" /><CodeLine lineNumber="3651"></CodeLine>
<Link id="l03652" /><CodeLine lineNumber="3652"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// If a pointer&#39;s DAG type is larger than its memory type then the DAG values</span></CodeLine>
<Link id="l03653" /><CodeLine lineNumber="3653"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// are zero-extended. This breaks signed comparisons so truncate back to the</span></CodeLine>
<Link id="l03654" /><CodeLine lineNumber="3654"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// underlying type before doing the compare.</span></CodeLine>
<Link id="l03655" /><CodeLine lineNumber="3655"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Op1.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>() != MemVT) &#123;</span></CodeLine>
<Link id="l03656" /><CodeLine lineNumber="3656"><span class="doxyHighlight">    Op1 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getPtrExtOrTrunc(Op1, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), MemVT);</span></CodeLine>
<Link id="l03657" /><CodeLine lineNumber="3657"><span class="doxyHighlight">    Op2 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getPtrExtOrTrunc(Op2, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), MemVT);</span></CodeLine>
<Link id="l03658" /><CodeLine lineNumber="3658"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l03659" /><CodeLine lineNumber="3659"></CodeLine>
<Link id="l03660" /><CodeLine lineNumber="3660"><span class="doxyHighlight">  SDNodeFlags <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>;</span></CodeLine>
<Link id="l03661" /><CodeLine lineNumber="3661"><span class="doxyHighlight">  <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setSameSign(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.hasSameSign());</span></CodeLine>
<Link id="l03662" /><CodeLine lineNumber="3662"><span class="doxyHighlight">  SelectionDAG::FlagInserter FlagsInserter(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>, Flags);</span></CodeLine>
<Link id="l03663" /><CodeLine lineNumber="3663"></CodeLine>
<Link id="l03664" /><CodeLine lineNumber="3664"><span class="doxyHighlight">  EVT DestVT = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo().getValueType(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(),</span></CodeLine>
<Link id="l03665" /><CodeLine lineNumber="3665"><span class="doxyHighlight">                                                        <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType());</span></CodeLine>
<Link id="l03666" /><CodeLine lineNumber="3666"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSetCC(<a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), DestVT, Op1, Op2, Opcode));</span></CodeLine>
<Link id="l03667" /><CodeLine lineNumber="3667"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l03668" /><CodeLine lineNumber="3668"></CodeLine>
<Link id="l03669" /><CodeLine lineNumber="3669"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitFCmp(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/fcmpinst">FCmpInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l03670" /><CodeLine lineNumber="3670"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/cmpinst/#a2be3583dac92a031fa1458d4d992c78b">FCmpInst::Predicate</a> predicate = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getPredicate();</span></CodeLine>
<Link id="l03671" /><CodeLine lineNumber="3671"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op1 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0));</span></CodeLine>
<Link id="l03672" /><CodeLine lineNumber="3672"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op2 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(1));</span></CodeLine>
<Link id="l03673" /><CodeLine lineNumber="3673"></CodeLine>
<Link id="l03674" /><CodeLine lineNumber="3674"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/isd/#ac3c3cf58d6d631af6a172457304d3d07">ISD::CondCode</a> Condition = <a href="/docs/api/namespaces/llvm/#a8b3a8b47a5344da71953bc4eb38c5179">getFCmpCondCode</a>(predicate);</span></CodeLine>
<Link id="l03675" /><CodeLine lineNumber="3675"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;FPMO = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;FPMathOperator&gt;</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</span></CodeLine>
<Link id="l03676" /><CodeLine lineNumber="3676"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (FPMO-&gt;hasNoNaNs() || TM.Options.NoNaNsFPMath)</span></CodeLine>
<Link id="l03677" /><CodeLine lineNumber="3677"><span class="doxyHighlight">    Condition = <a href="/docs/api/namespaces/llvm/#ab85a42eddf5fd6beac822af946d5b1e2">getFCmpCodeWithoutNaN</a>(Condition);</span></CodeLine>
<Link id="l03678" /><CodeLine lineNumber="3678"></CodeLine>
<Link id="l03679" /><CodeLine lineNumber="3679"><span class="doxyHighlight">  SDNodeFlags <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>;</span></CodeLine>
<Link id="l03680" /><CodeLine lineNumber="3680"><span class="doxyHighlight">  <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.copyFMF(&#42;FPMO);</span></CodeLine>
<Link id="l03681" /><CodeLine lineNumber="3681"><span class="doxyHighlight">  SelectionDAG::FlagInserter FlagsInserter(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>, Flags);</span></CodeLine>
<Link id="l03682" /><CodeLine lineNumber="3682"></CodeLine>
<Link id="l03683" /><CodeLine lineNumber="3683"><span class="doxyHighlight">  EVT DestVT = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo().getValueType(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(),</span></CodeLine>
<Link id="l03684" /><CodeLine lineNumber="3684"><span class="doxyHighlight">                                                        <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType());</span></CodeLine>
<Link id="l03685" /><CodeLine lineNumber="3685"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSetCC(<a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), DestVT, Op1, Op2, Condition));</span></CodeLine>
<Link id="l03686" /><CodeLine lineNumber="3686"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l03687" /><CodeLine lineNumber="3687"></CodeLine>
<Link id="l03688" /><CodeLine lineNumber="3688"><span class="doxyHighlightComment">// Check if the condition of the select has one use or two users that are both</span></CodeLine>
<Link id="l03689" /><CodeLine lineNumber="3689"><span class="doxyHighlightComment">// selects with the same condition.</span></CodeLine>
<Link id="l03690" /><CodeLine lineNumber="3690" lineLink="#a0be0474aded73a7b9b444c883f3bb760"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="#a0be0474aded73a7b9b444c883f3bb760">hasOnlySelectUsers</a>(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/value">Value</a> &#42;<a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a193847098793cdbab306803186676899">Cond</a>) &#123;</span></CodeLine>
<Link id="l03691" /><CodeLine lineNumber="3691"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/#a0d10fe510ced2849a8074fe81e5d04ce">llvm::all&#95;of</a>(<a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a193847098793cdbab306803186676899">Cond</a>-&gt;users(), &#91;&#93;(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/value">Value</a> &#42;V) &#123;</span></CodeLine>
<Link id="l03692" /><CodeLine lineNumber="3692"><span class="doxyHighlight">    return isa&lt;SelectInst&gt;(V);</span></CodeLine>
<Link id="l03693" /><CodeLine lineNumber="3693"><span class="doxyHighlight">  &#125;);</span></CodeLine>
<Link id="l03694" /><CodeLine lineNumber="3694"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l03695" /><CodeLine lineNumber="3695"></CodeLine>
<Link id="l03696" /><CodeLine lineNumber="3696"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitSelect(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/user">User</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l03697" /><CodeLine lineNumber="3697"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;EVT, 4&gt;</a> ValueVTs;</span></CodeLine>
<Link id="l03698" /><CodeLine lineNumber="3698"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#ab99618b3d8988b758a67f5a1a6071095">ComputeValueVTs</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo(), <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType(),</span></CodeLine>
<Link id="l03699" /><CodeLine lineNumber="3699"><span class="doxyHighlight">                  ValueVTs);</span></CodeLine>
<Link id="l03700" /><CodeLine lineNumber="3700"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumValues = ValueVTs.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#a1c479a8c434377c2b8cb056bdfdfc201">size</a>();</span></CodeLine>
<Link id="l03701" /><CodeLine lineNumber="3701"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (NumValues == 0) </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l03702" /><CodeLine lineNumber="3702"></CodeLine>
<Link id="l03703" /><CodeLine lineNumber="3703"><span class="doxyHighlight">  SmallVector&lt;SDValue, 4&gt; Values(NumValues);</span></CodeLine>
<Link id="l03704" /><CodeLine lineNumber="3704"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a193847098793cdbab306803186676899">Cond</a>     = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0));</span></CodeLine>
<Link id="l03705" /><CodeLine lineNumber="3705"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> LHSVal   = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(1));</span></CodeLine>
<Link id="l03706" /><CodeLine lineNumber="3706"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> RHSVal   = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(2));</span></CodeLine>
<Link id="l03707" /><CodeLine lineNumber="3707"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;SDValue, 1&gt;</a> BaseOps(1, <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a193847098793cdbab306803186676899">Cond</a>);</span></CodeLine>
<Link id="l03708" /><CodeLine lineNumber="3708"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110">ISD::NodeType</a> <a href="/docs/api/namespaces/llvm/dxil/#ac64683c1985c78d81b50819a0b733f48">OpCode</a> =</span></CodeLine>
<Link id="l03709" /><CodeLine lineNumber="3709"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a193847098793cdbab306803186676899">Cond</a>.getValueType().isVector() ? <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110ab0b7d2c769fd0fbaab3c4a2fc8e7ea0c">ISD::VSELECT</a> : <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a78d0f198115bfe3331ab7cfcf7a40a97">ISD::SELECT</a>;</span></CodeLine>
<Link id="l03710" /><CodeLine lineNumber="3710"></CodeLine>
<Link id="l03711" /><CodeLine lineNumber="3711"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> IsUnaryAbs = </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l03712" /><CodeLine lineNumber="3712"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> Negate = </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l03713" /><CodeLine lineNumber="3713"></CodeLine>
<Link id="l03714" /><CodeLine lineNumber="3714"><span class="doxyHighlight">  SDNodeFlags <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>;</span></CodeLine>
<Link id="l03715" /><CodeLine lineNumber="3715"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;FPOp = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;FPMathOperator&gt;</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</span></CodeLine>
<Link id="l03716" /><CodeLine lineNumber="3716"><span class="doxyHighlight">    <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.copyFMF(&#42;FPOp);</span></CodeLine>
<Link id="l03717" /><CodeLine lineNumber="3717"></CodeLine>
<Link id="l03718" /><CodeLine lineNumber="3718"><span class="doxyHighlight">  <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setUnpredictable(</span></CodeLine>
<Link id="l03719" /><CodeLine lineNumber="3719"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;SelectInst&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>).getMetadata(LLVMContext::MD&#95;unpredictable));</span></CodeLine>
<Link id="l03720" /><CodeLine lineNumber="3720"></CodeLine>
<Link id="l03721" /><CodeLine lineNumber="3721"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Min/max matching is only viable if all output VTs are the same.</span></CodeLine>
<Link id="l03722" /><CodeLine lineNumber="3722"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/#ad78da75bd1f157e72100f97d1ecdc756">all&#95;equal</a>(ValueVTs)) &#123;</span></CodeLine>
<Link id="l03723" /><CodeLine lineNumber="3723"><span class="doxyHighlight">    EVT VT = ValueVTs&#91;0&#93;;</span></CodeLine>
<Link id="l03724" /><CodeLine lineNumber="3724"><span class="doxyHighlight">    LLVMContext &amp;Ctx = &#42;<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getContext();</span></CodeLine>
<Link id="l03725" /><CodeLine lineNumber="3725"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l03726" /><CodeLine lineNumber="3726"></CodeLine>
<Link id="l03727" /><CodeLine lineNumber="3727"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// We care about the legality of the operation after it has been type</span></CodeLine>
<Link id="l03728" /><CodeLine lineNumber="3728"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// legalized.</span></CodeLine>
<Link id="l03729" /><CodeLine lineNumber="3729"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">while</span><span class="doxyHighlight"> (TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#ad859786d7e54bdc5c568ac20c69816e0">getTypeAction</a>(Ctx, VT) != <a href="/docs/api/classes/llvm/targetloweringbase/#a35dc101b509721ffbfb58aba316de681af54ec6880362512f9fec982cd4ce39fb">TargetLoweringBase::TypeLegal</a>)</span></CodeLine>
<Link id="l03730" /><CodeLine lineNumber="3730"><span class="doxyHighlight">      VT = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a77f7add8733417370a56154e8b560617">getTypeToTransformTo</a>(Ctx, VT);</span></CodeLine>
<Link id="l03731" /><CodeLine lineNumber="3731"></CodeLine>
<Link id="l03732" /><CodeLine lineNumber="3732"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// If the vselect is legal, assume we want to leave this as a vector setcc +</span></CodeLine>
<Link id="l03733" /><CodeLine lineNumber="3733"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// vselect. Otherwise, if this is going to be scalarized, we want to see if</span></CodeLine>
<Link id="l03734" /><CodeLine lineNumber="3734"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// min/max is legal on the scalar type.</span></CodeLine>
<Link id="l03735" /><CodeLine lineNumber="3735"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> UseScalarMinMax = VT.<a href="/docs/api/structs/llvm/evt/#aa54976197fff266f4143beb44fc9764c">isVector</a>() &amp;&amp;</span></CodeLine>
<Link id="l03736" /><CodeLine lineNumber="3736"><span class="doxyHighlight">      !TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110ab0b7d2c769fd0fbaab3c4a2fc8e7ea0c">ISD::VSELECT</a>, VT);</span></CodeLine>
<Link id="l03737" /><CodeLine lineNumber="3737"></CodeLine>
<Link id="l03738" /><CodeLine lineNumber="3738"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// ValueTracking&#39;s select pattern matching does not account for -0.0,</span></CodeLine>
<Link id="l03739" /><CodeLine lineNumber="3739"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// so we can&#39;t lower to FMINIMUM/FMAXIMUM because those nodes specify that</span></CodeLine>
<Link id="l03740" /><CodeLine lineNumber="3740"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// 0 is less than +0.0.</span></CodeLine>
<Link id="l03741" /><CodeLine lineNumber="3741"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;<a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, &#42;<a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>;</span></CodeLine>
<Link id="l03742" /><CodeLine lineNumber="3742"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> SPR = <a href="/docs/api/namespaces/llvm/#a7aad5a0e62a54747f455651ee2dd08ed">matchSelectPattern</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</span></CodeLine>
<Link id="l03743" /><CodeLine lineNumber="3743"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110">ISD::NodeType</a> Opc = <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a062083eb3ff8c441c73d3bf42ca09bba">ISD::DELETED&#95;NODE</a>;</span></CodeLine>
<Link id="l03744" /><CodeLine lineNumber="3744"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">switch</span><span class="doxyHighlight"> (SPR.Flavor) &#123;</span></CodeLine>
<Link id="l03745" /><CodeLine lineNumber="3745"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/#a6bf471c1030973649c2e426afc212097a7d51d0dcfc2cc79738c77f8f5fa37138">SPF&#95;UMAX</a>:    Opc = <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110af675e759c0ffff8d48ea14a60fe3517b">ISD::UMAX</a>; </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l03746" /><CodeLine lineNumber="3746"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/#a6bf471c1030973649c2e426afc212097a6afb3549f5028760be1bbf8ae7c04d73">SPF&#95;UMIN</a>:    Opc = <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a17126302da6199930e55e841ca1b082d">ISD::UMIN</a>; </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l03747" /><CodeLine lineNumber="3747"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/#a6bf471c1030973649c2e426afc212097ac8062350ff8114c3ffe79a339f2a1ece">SPF&#95;SMAX</a>:    Opc = <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110af3b59179b6fcbc89463181015ace8e9b">ISD::SMAX</a>; </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l03748" /><CodeLine lineNumber="3748"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/#a6bf471c1030973649c2e426afc212097abfed1bd97e2e6b014cbe76e02930d54b">SPF&#95;SMIN</a>:    Opc = <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110aaac895215ecbb3c411c957c8beb39b70">ISD::SMIN</a>; </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l03749" /><CodeLine lineNumber="3749"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/#a6bf471c1030973649c2e426afc212097af8501f966f0a266e7b59b4deded487b2">SPF&#95;FMINNUM</a>:</span></CodeLine>
<Link id="l03750" /><CodeLine lineNumber="3750"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">switch</span><span class="doxyHighlight"> (SPR.NaNBehavior) &#123;</span></CodeLine>
<Link id="l03751" /><CodeLine lineNumber="3751"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/#ab1ec0705ee0a9265c1533bad94aae26fae6c7ef1308ad90f95d225833ec25c20a">SPNB&#95;NA</a>: <a href="/docs/api/files/include/include/llvm/include/llvm/support/errorhandling-h/#ace243f5c25697a1107cce46626b3dc94">llvm&#95;unreachable</a>(</span><span class="doxyHighlightStringLiteral">&quot;No NaN behavior for FP op?&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l03752" /><CodeLine lineNumber="3752"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/#ab1ec0705ee0a9265c1533bad94aae26fa2610effcbc2615f0fcfbe0ee747c3330">SPNB&#95;RETURNS&#95;NAN</a>: </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l03753" /><CodeLine lineNumber="3753"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/#ab1ec0705ee0a9265c1533bad94aae26fa5cd1411c63760bbac408465c8d441b35">SPNB&#95;RETURNS&#95;OTHER</a>: Opc = ISD::FMINNUM; </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l03754" /><CodeLine lineNumber="3754"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/#ab1ec0705ee0a9265c1533bad94aae26fac2ebfba0cc0df319e24facde2e888726">SPNB&#95;RETURNS&#95;ANY</a>:</span></CodeLine>
<Link id="l03755" /><CodeLine lineNumber="3755"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(ISD::FMINNUM, VT) ||</span></CodeLine>
<Link id="l03756" /><CodeLine lineNumber="3756"><span class="doxyHighlight">            (UseScalarMinMax &amp;&amp;</span></CodeLine>
<Link id="l03757" /><CodeLine lineNumber="3757"><span class="doxyHighlight">             TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(ISD::FMINNUM, VT.<a href="/docs/api/structs/llvm/evt/#aa85c75e8eb097f02caeb5b9119eebfef">getScalarType</a>())))</span></CodeLine>
<Link id="l03758" /><CodeLine lineNumber="3758"><span class="doxyHighlight">          Opc = ISD::FMINNUM;</span></CodeLine>
<Link id="l03759" /><CodeLine lineNumber="3759"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l03760" /><CodeLine lineNumber="3760"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l03761" /><CodeLine lineNumber="3761"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l03762" /><CodeLine lineNumber="3762"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/#a6bf471c1030973649c2e426afc212097a116eaa2ed0eed4cedf6f4cd1a47d02c4">SPF&#95;FMAXNUM</a>:</span></CodeLine>
<Link id="l03763" /><CodeLine lineNumber="3763"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">switch</span><span class="doxyHighlight"> (SPR.NaNBehavior) &#123;</span></CodeLine>
<Link id="l03764" /><CodeLine lineNumber="3764"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/#ab1ec0705ee0a9265c1533bad94aae26fae6c7ef1308ad90f95d225833ec25c20a">SPNB&#95;NA</a>: <a href="/docs/api/files/include/include/llvm/include/llvm/support/errorhandling-h/#ace243f5c25697a1107cce46626b3dc94">llvm&#95;unreachable</a>(</span><span class="doxyHighlightStringLiteral">&quot;No NaN behavior for FP op?&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l03765" /><CodeLine lineNumber="3765"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/#ab1ec0705ee0a9265c1533bad94aae26fa2610effcbc2615f0fcfbe0ee747c3330">SPNB&#95;RETURNS&#95;NAN</a>: </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l03766" /><CodeLine lineNumber="3766"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/#ab1ec0705ee0a9265c1533bad94aae26fa5cd1411c63760bbac408465c8d441b35">SPNB&#95;RETURNS&#95;OTHER</a>: Opc = ISD::FMAXNUM; </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l03767" /><CodeLine lineNumber="3767"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/#ab1ec0705ee0a9265c1533bad94aae26fac2ebfba0cc0df319e24facde2e888726">SPNB&#95;RETURNS&#95;ANY</a>:</span></CodeLine>
<Link id="l03768" /><CodeLine lineNumber="3768"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(ISD::FMAXNUM, VT) ||</span></CodeLine>
<Link id="l03769" /><CodeLine lineNumber="3769"><span class="doxyHighlight">            (UseScalarMinMax &amp;&amp;</span></CodeLine>
<Link id="l03770" /><CodeLine lineNumber="3770"><span class="doxyHighlight">             TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(ISD::FMAXNUM, VT.<a href="/docs/api/structs/llvm/evt/#aa85c75e8eb097f02caeb5b9119eebfef">getScalarType</a>())))</span></CodeLine>
<Link id="l03771" /><CodeLine lineNumber="3771"><span class="doxyHighlight">          Opc = ISD::FMAXNUM;</span></CodeLine>
<Link id="l03772" /><CodeLine lineNumber="3772"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l03773" /><CodeLine lineNumber="3773"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l03774" /><CodeLine lineNumber="3774"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l03775" /><CodeLine lineNumber="3775"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/#a6bf471c1030973649c2e426afc212097a08658871fecea100ad724bd8b1c3ae56">SPF&#95;NABS</a>:</span></CodeLine>
<Link id="l03776" /><CodeLine lineNumber="3776"><span class="doxyHighlight">      Negate = </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l03777" /><CodeLine lineNumber="3777"><span class="doxyHighlight">      &#91;&#91;fallthrough&#93;&#93;;</span></CodeLine>
<Link id="l03778" /><CodeLine lineNumber="3778"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/#a6bf471c1030973649c2e426afc212097a07d293fd946951d9655259c5e9b93356">SPF&#95;ABS</a>:</span></CodeLine>
<Link id="l03779" /><CodeLine lineNumber="3779"><span class="doxyHighlight">      IsUnaryAbs = </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l03780" /><CodeLine lineNumber="3780"><span class="doxyHighlight">      Opc = <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a35c1cf0dd553444732dba8e8b9be0f6b">ISD::ABS</a>;</span></CodeLine>
<Link id="l03781" /><CodeLine lineNumber="3781"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l03782" /><CodeLine lineNumber="3782"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">default</span><span class="doxyHighlight">: </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l03783" /><CodeLine lineNumber="3783"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l03784" /><CodeLine lineNumber="3784"></CodeLine>
<Link id="l03785" /><CodeLine lineNumber="3785"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!IsUnaryAbs &amp;&amp; Opc != <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a062083eb3ff8c441c73d3bf42ca09bba">ISD::DELETED&#95;NODE</a> &amp;&amp;</span></CodeLine>
<Link id="l03786" /><CodeLine lineNumber="3786"><span class="doxyHighlight">        (TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(Opc, VT) ||</span></CodeLine>
<Link id="l03787" /><CodeLine lineNumber="3787"><span class="doxyHighlight">         (UseScalarMinMax &amp;&amp;</span></CodeLine>
<Link id="l03788" /><CodeLine lineNumber="3788"><span class="doxyHighlight">          TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(Opc, VT.<a href="/docs/api/structs/llvm/evt/#aa85c75e8eb097f02caeb5b9119eebfef">getScalarType</a>()))) &amp;&amp;</span></CodeLine>
<Link id="l03789" /><CodeLine lineNumber="3789"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// If the underlying comparison instruction is used by any other</span></CodeLine>
<Link id="l03790" /><CodeLine lineNumber="3790"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// instruction, the consumed instructions won&#39;t be destroyed, so it is</span></CodeLine>
<Link id="l03791" /><CodeLine lineNumber="3791"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// not profitable to convert to a min/max.</span></CodeLine>
<Link id="l03792" /><CodeLine lineNumber="3792"><span class="doxyHighlight">        <a href="#a0be0474aded73a7b9b444c883f3bb760">hasOnlySelectUsers</a>(<a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;SelectInst&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>).getCondition())) &#123;</span></CodeLine>
<Link id="l03793" /><CodeLine lineNumber="3793"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/dxil/#ac64683c1985c78d81b50819a0b733f48">OpCode</a> = Opc;</span></CodeLine>
<Link id="l03794" /><CodeLine lineNumber="3794"><span class="doxyHighlight">      LHSVal = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</span></CodeLine>
<Link id="l03795" /><CodeLine lineNumber="3795"><span class="doxyHighlight">      RHSVal = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</span></CodeLine>
<Link id="l03796" /><CodeLine lineNumber="3796"><span class="doxyHighlight">      BaseOps.clear();</span></CodeLine>
<Link id="l03797" /><CodeLine lineNumber="3797"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l03798" /><CodeLine lineNumber="3798"></CodeLine>
<Link id="l03799" /><CodeLine lineNumber="3799"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (IsUnaryAbs) &#123;</span></CodeLine>
<Link id="l03800" /><CodeLine lineNumber="3800"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/dxil/#ac64683c1985c78d81b50819a0b733f48">OpCode</a> = Opc;</span></CodeLine>
<Link id="l03801" /><CodeLine lineNumber="3801"><span class="doxyHighlight">      LHSVal = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>);</span></CodeLine>
<Link id="l03802" /><CodeLine lineNumber="3802"><span class="doxyHighlight">      BaseOps.clear();</span></CodeLine>
<Link id="l03803" /><CodeLine lineNumber="3803"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l03804" /><CodeLine lineNumber="3804"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l03805" /><CodeLine lineNumber="3805"></CodeLine>
<Link id="l03806" /><CodeLine lineNumber="3806"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (IsUnaryAbs) &#123;</span></CodeLine>
<Link id="l03807" /><CodeLine lineNumber="3807"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> i = 0; i != NumValues; ++i) &#123;</span></CodeLine>
<Link id="l03808" /><CodeLine lineNumber="3808"><span class="doxyHighlight">      SDLoc dl = <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>();</span></CodeLine>
<Link id="l03809" /><CodeLine lineNumber="3809"><span class="doxyHighlight">      EVT VT = LHSVal.<a href="/docs/api/classes/llvm/sdvalue/#a2b08aa629a6326d1a0444ee6d477c39d">getNode</a>()-&gt;<a href="/docs/api/classes/llvm/sdnode/#ac0a534d63ac5c5b87f36acdade953fbe">getValueType</a>(LHSVal.<a href="/docs/api/classes/llvm/sdvalue/#ac476ca9c302b9ba8d47ea7b02f6149f5">getResNo</a>() + i);</span></CodeLine>
<Link id="l03810" /><CodeLine lineNumber="3810"><span class="doxyHighlight">      Values&#91;i&#93; =</span></CodeLine>
<Link id="l03811" /><CodeLine lineNumber="3811"><span class="doxyHighlight">          <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(OpCode, dl, VT, LHSVal.<a href="/docs/api/classes/llvm/sdvalue/#a64932427432abeb61241e98bea167580">getValue</a>(LHSVal.<a href="/docs/api/classes/llvm/sdvalue/#ac476ca9c302b9ba8d47ea7b02f6149f5">getResNo</a>() + i));</span></CodeLine>
<Link id="l03812" /><CodeLine lineNumber="3812"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Negate)</span></CodeLine>
<Link id="l03813" /><CodeLine lineNumber="3813"><span class="doxyHighlight">        Values&#91;i&#93; = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNegative(Values&#91;i&#93;, dl, VT);</span></CodeLine>
<Link id="l03814" /><CodeLine lineNumber="3814"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l03815" /><CodeLine lineNumber="3815"><span class="doxyHighlight">  &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l03816" /><CodeLine lineNumber="3816"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> i = 0; i != NumValues; ++i) &#123;</span></CodeLine>
<Link id="l03817" /><CodeLine lineNumber="3817"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;SDValue, 3&gt;</a> <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>(BaseOps.begin(), BaseOps.end());</span></CodeLine>
<Link id="l03818" /><CodeLine lineNumber="3818"><span class="doxyHighlight">      <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.push&#95;back(<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a>(LHSVal.<a href="/docs/api/classes/llvm/sdvalue/#a2b08aa629a6326d1a0444ee6d477c39d">getNode</a>(), LHSVal.<a href="/docs/api/classes/llvm/sdvalue/#ac476ca9c302b9ba8d47ea7b02f6149f5">getResNo</a>() + i));</span></CodeLine>
<Link id="l03819" /><CodeLine lineNumber="3819"><span class="doxyHighlight">      <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.push&#95;back(<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a>(RHSVal.<a href="/docs/api/classes/llvm/sdvalue/#a2b08aa629a6326d1a0444ee6d477c39d">getNode</a>(), RHSVal.<a href="/docs/api/classes/llvm/sdvalue/#ac476ca9c302b9ba8d47ea7b02f6149f5">getResNo</a>() + i));</span></CodeLine>
<Link id="l03820" /><CodeLine lineNumber="3820"><span class="doxyHighlight">      Values&#91;i&#93; = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(</span></CodeLine>
<Link id="l03821" /><CodeLine lineNumber="3821"><span class="doxyHighlight">          OpCode, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(),</span></CodeLine>
<Link id="l03822" /><CodeLine lineNumber="3822"><span class="doxyHighlight">          LHSVal.<a href="/docs/api/classes/llvm/sdvalue/#a2b08aa629a6326d1a0444ee6d477c39d">getNode</a>()-&gt;<a href="/docs/api/classes/llvm/sdnode/#ac0a534d63ac5c5b87f36acdade953fbe">getValueType</a>(LHSVal.<a href="/docs/api/classes/llvm/sdvalue/#ac476ca9c302b9ba8d47ea7b02f6149f5">getResNo</a>() + i), <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>, Flags);</span></CodeLine>
<Link id="l03823" /><CodeLine lineNumber="3823"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l03824" /><CodeLine lineNumber="3824"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l03825" /><CodeLine lineNumber="3825"></CodeLine>
<Link id="l03826" /><CodeLine lineNumber="3826"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a01c94937492f3ac3fb1e0be8eb0b9ef1">ISD::MERGE&#95;VALUES</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(),</span></CodeLine>
<Link id="l03827" /><CodeLine lineNumber="3827"><span class="doxyHighlight">                           <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVTList(ValueVTs), Values));</span></CodeLine>
<Link id="l03828" /><CodeLine lineNumber="3828"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l03829" /><CodeLine lineNumber="3829"></CodeLine>
<Link id="l03830" /><CodeLine lineNumber="3830"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitTrunc(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/user">User</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l03831" /><CodeLine lineNumber="3831"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// TruncInst cannot be a no-op cast because sizeof(src) &gt; sizeof(dest).</span></CodeLine>
<Link id="l03832" /><CodeLine lineNumber="3832"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0));</span></CodeLine>
<Link id="l03833" /><CodeLine lineNumber="3833"><span class="doxyHighlight">  EVT DestVT = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo().getValueType(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(),</span></CodeLine>
<Link id="l03834" /><CodeLine lineNumber="3834"><span class="doxyHighlight">                                                        <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType());</span></CodeLine>
<Link id="l03835" /><CodeLine lineNumber="3835"><span class="doxyHighlight">  SDNodeFlags <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>;</span></CodeLine>
<Link id="l03836" /><CodeLine lineNumber="3836"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;Trunc = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;TruncInst&gt;</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) &#123;</span></CodeLine>
<Link id="l03837" /><CodeLine lineNumber="3837"><span class="doxyHighlight">    <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setNoSignedWrap(Trunc-&gt;hasNoSignedWrap());</span></CodeLine>
<Link id="l03838" /><CodeLine lineNumber="3838"><span class="doxyHighlight">    <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setNoUnsignedWrap(Trunc-&gt;hasNoUnsignedWrap());</span></CodeLine>
<Link id="l03839" /><CodeLine lineNumber="3839"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l03840" /><CodeLine lineNumber="3840"></CodeLine>
<Link id="l03841" /><CodeLine lineNumber="3841"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), DestVT, <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>, Flags));</span></CodeLine>
<Link id="l03842" /><CodeLine lineNumber="3842"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l03843" /><CodeLine lineNumber="3843"></CodeLine>
<Link id="l03844" /><CodeLine lineNumber="3844"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitZExt(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/user">User</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l03845" /><CodeLine lineNumber="3845"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// ZExt cannot be a no-op cast because sizeof(src) &lt; sizeof(dest).</span></CodeLine>
<Link id="l03846" /><CodeLine lineNumber="3846"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// ZExt also can&#39;t be a cast to bool for same reason. So, nothing much to do</span></CodeLine>
<Link id="l03847" /><CodeLine lineNumber="3847"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0));</span></CodeLine>
<Link id="l03848" /><CodeLine lineNumber="3848"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l03849" /><CodeLine lineNumber="3849"><span class="doxyHighlight">  EVT DestVT = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType());</span></CodeLine>
<Link id="l03850" /><CodeLine lineNumber="3850"></CodeLine>
<Link id="l03851" /><CodeLine lineNumber="3851"><span class="doxyHighlight">  SDNodeFlags <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>;</span></CodeLine>
<Link id="l03852" /><CodeLine lineNumber="3852"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;PNI = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;PossiblyNonNegInst&gt;</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</span></CodeLine>
<Link id="l03853" /><CodeLine lineNumber="3853"><span class="doxyHighlight">    <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setNonNeg(PNI-&gt;hasNonNeg());</span></CodeLine>
<Link id="l03854" /><CodeLine lineNumber="3854"></CodeLine>
<Link id="l03855" /><CodeLine lineNumber="3855"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Eagerly use nonneg information to canonicalize towards sign&#95;extend if</span></CodeLine>
<Link id="l03856" /><CodeLine lineNumber="3856"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// that is the target&#39;s preference.</span></CodeLine>
<Link id="l03857" /><CodeLine lineNumber="3857"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// TODO: Let the target do this later.</span></CodeLine>
<Link id="l03858" /><CodeLine lineNumber="3858"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.hasNonNeg() &amp;&amp;</span></CodeLine>
<Link id="l03859" /><CodeLine lineNumber="3859"><span class="doxyHighlight">      TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a29366507d51536f380af3c2184bfe374">isSExtCheaperThanZExt</a>(<a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>.getValueType(), DestVT)) &#123;</span></CodeLine>
<Link id="l03860" /><CodeLine lineNumber="3860"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a5183f3d72924bc7c77ba8d3f5de9f602">ISD::SIGN&#95;EXTEND</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), DestVT, <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>));</span></CodeLine>
<Link id="l03861" /><CodeLine lineNumber="3861"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l03862" /><CodeLine lineNumber="3862"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l03863" /><CodeLine lineNumber="3863"></CodeLine>
<Link id="l03864" /><CodeLine lineNumber="3864"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">ISD::ZERO&#95;EXTEND</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), DestVT, <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>, Flags));</span></CodeLine>
<Link id="l03865" /><CodeLine lineNumber="3865"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l03866" /><CodeLine lineNumber="3866"></CodeLine>
<Link id="l03867" /><CodeLine lineNumber="3867"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitSExt(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/user">User</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l03868" /><CodeLine lineNumber="3868"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// SExt cannot be a no-op cast because sizeof(src) &lt; sizeof(dest).</span></CodeLine>
<Link id="l03869" /><CodeLine lineNumber="3869"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// SExt also can&#39;t be a cast to bool for same reason. So, nothing much to do</span></CodeLine>
<Link id="l03870" /><CodeLine lineNumber="3870"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0));</span></CodeLine>
<Link id="l03871" /><CodeLine lineNumber="3871"><span class="doxyHighlight">  EVT DestVT = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo().getValueType(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(),</span></CodeLine>
<Link id="l03872" /><CodeLine lineNumber="3872"><span class="doxyHighlight">                                                        <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType());</span></CodeLine>
<Link id="l03873" /><CodeLine lineNumber="3873"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a5183f3d72924bc7c77ba8d3f5de9f602">ISD::SIGN&#95;EXTEND</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), DestVT, <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>));</span></CodeLine>
<Link id="l03874" /><CodeLine lineNumber="3874"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l03875" /><CodeLine lineNumber="3875"></CodeLine>
<Link id="l03876" /><CodeLine lineNumber="3876"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitFPTrunc(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/user">User</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l03877" /><CodeLine lineNumber="3877"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// FPTrunc is never a no-op cast, no need to check</span></CodeLine>
<Link id="l03878" /><CodeLine lineNumber="3878"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0));</span></CodeLine>
<Link id="l03879" /><CodeLine lineNumber="3879"><span class="doxyHighlight">  SDLoc dl = <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>();</span></CodeLine>
<Link id="l03880" /><CodeLine lineNumber="3880"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> TargetLowering &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l03881" /><CodeLine lineNumber="3881"><span class="doxyHighlight">  EVT DestVT = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType());</span></CodeLine>
<Link id="l03882" /><CodeLine lineNumber="3882"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110adaf9a3cb5c2ef5eb713bd6bf4ae23aeb">ISD::FP&#95;ROUND</a>, dl, DestVT, <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>,</span></CodeLine>
<Link id="l03883" /><CodeLine lineNumber="3883"><span class="doxyHighlight">                           <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetConstant(</span></CodeLine>
<Link id="l03884" /><CodeLine lineNumber="3884"><span class="doxyHighlight">                               0, dl, TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout()))));</span></CodeLine>
<Link id="l03885" /><CodeLine lineNumber="3885"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l03886" /><CodeLine lineNumber="3886"></CodeLine>
<Link id="l03887" /><CodeLine lineNumber="3887"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitFPExt(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/user">User</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l03888" /><CodeLine lineNumber="3888"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// FPExt is never a no-op cast, no need to check</span></CodeLine>
<Link id="l03889" /><CodeLine lineNumber="3889"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0));</span></CodeLine>
<Link id="l03890" /><CodeLine lineNumber="3890"><span class="doxyHighlight">  EVT DestVT = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo().getValueType(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(),</span></CodeLine>
<Link id="l03891" /><CodeLine lineNumber="3891"><span class="doxyHighlight">                                                        <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType());</span></CodeLine>
<Link id="l03892" /><CodeLine lineNumber="3892"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::FP&#95;EXTEND, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), DestVT, <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>));</span></CodeLine>
<Link id="l03893" /><CodeLine lineNumber="3893"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l03894" /><CodeLine lineNumber="3894"></CodeLine>
<Link id="l03895" /><CodeLine lineNumber="3895"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitFPToUI(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/user">User</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l03896" /><CodeLine lineNumber="3896"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// FPToUI is never a no-op cast, no need to check</span></CodeLine>
<Link id="l03897" /><CodeLine lineNumber="3897"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0));</span></CodeLine>
<Link id="l03898" /><CodeLine lineNumber="3898"><span class="doxyHighlight">  EVT DestVT = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo().getValueType(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(),</span></CodeLine>
<Link id="l03899" /><CodeLine lineNumber="3899"><span class="doxyHighlight">                                                        <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType());</span></CodeLine>
<Link id="l03900" /><CodeLine lineNumber="3900"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a71640703ec096a8b07111e85cfff6987">ISD::FP&#95;TO&#95;UINT</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), DestVT, <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>));</span></CodeLine>
<Link id="l03901" /><CodeLine lineNumber="3901"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l03902" /><CodeLine lineNumber="3902"></CodeLine>
<Link id="l03903" /><CodeLine lineNumber="3903"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitFPToSI(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/user">User</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l03904" /><CodeLine lineNumber="3904"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// FPToSI is never a no-op cast, no need to check</span></CodeLine>
<Link id="l03905" /><CodeLine lineNumber="3905"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0));</span></CodeLine>
<Link id="l03906" /><CodeLine lineNumber="3906"><span class="doxyHighlight">  EVT DestVT = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo().getValueType(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(),</span></CodeLine>
<Link id="l03907" /><CodeLine lineNumber="3907"><span class="doxyHighlight">                                                        <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType());</span></CodeLine>
<Link id="l03908" /><CodeLine lineNumber="3908"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110ac3f8f8d8437c64b2e2e9f978e2707210">ISD::FP&#95;TO&#95;SINT</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), DestVT, <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>));</span></CodeLine>
<Link id="l03909" /><CodeLine lineNumber="3909"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l03910" /><CodeLine lineNumber="3910"></CodeLine>
<Link id="l03911" /><CodeLine lineNumber="3911"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitUIToFP(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/user">User</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l03912" /><CodeLine lineNumber="3912"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// UIToFP is never a no-op cast, no need to check</span></CodeLine>
<Link id="l03913" /><CodeLine lineNumber="3913"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0));</span></CodeLine>
<Link id="l03914" /><CodeLine lineNumber="3914"><span class="doxyHighlight">  EVT DestVT = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo().getValueType(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(),</span></CodeLine>
<Link id="l03915" /><CodeLine lineNumber="3915"><span class="doxyHighlight">                                                        <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType());</span></CodeLine>
<Link id="l03916" /><CodeLine lineNumber="3916"><span class="doxyHighlight">  SDNodeFlags <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>;</span></CodeLine>
<Link id="l03917" /><CodeLine lineNumber="3917"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;PNI = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;PossiblyNonNegInst&gt;</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</span></CodeLine>
<Link id="l03918" /><CodeLine lineNumber="3918"><span class="doxyHighlight">    <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setNonNeg(PNI-&gt;hasNonNeg());</span></CodeLine>
<Link id="l03919" /><CodeLine lineNumber="3919"></CodeLine>
<Link id="l03920" /><CodeLine lineNumber="3920"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a169032eecd015d4eeb869c457202a6c8">ISD::UINT&#95;TO&#95;FP</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), DestVT, <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>, Flags));</span></CodeLine>
<Link id="l03921" /><CodeLine lineNumber="3921"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l03922" /><CodeLine lineNumber="3922"></CodeLine>
<Link id="l03923" /><CodeLine lineNumber="3923"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitSIToFP(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/user">User</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l03924" /><CodeLine lineNumber="3924"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// SIToFP is never a no-op cast, no need to check</span></CodeLine>
<Link id="l03925" /><CodeLine lineNumber="3925"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0));</span></CodeLine>
<Link id="l03926" /><CodeLine lineNumber="3926"><span class="doxyHighlight">  EVT DestVT = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo().getValueType(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(),</span></CodeLine>
<Link id="l03927" /><CodeLine lineNumber="3927"><span class="doxyHighlight">                                                        <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType());</span></CodeLine>
<Link id="l03928" /><CodeLine lineNumber="3928"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a315004656a75a3c3a9d7294f105a8da2">ISD::SINT&#95;TO&#95;FP</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), DestVT, <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>));</span></CodeLine>
<Link id="l03929" /><CodeLine lineNumber="3929"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l03930" /><CodeLine lineNumber="3930"></CodeLine>
<Link id="l03931" /><CodeLine lineNumber="3931"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitPtrToInt(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/user">User</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l03932" /><CodeLine lineNumber="3932"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// What to do depends on the size of the integer and the size of the pointer.</span></CodeLine>
<Link id="l03933" /><CodeLine lineNumber="3933"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// We can either truncate, zero extend, or no-op, accordingly.</span></CodeLine>
<Link id="l03934" /><CodeLine lineNumber="3934"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0));</span></CodeLine>
<Link id="l03935" /><CodeLine lineNumber="3935"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l03936" /><CodeLine lineNumber="3936"><span class="doxyHighlight">  EVT DestVT = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo().getValueType(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(),</span></CodeLine>
<Link id="l03937" /><CodeLine lineNumber="3937"><span class="doxyHighlight">                                                        <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType());</span></CodeLine>
<Link id="l03938" /><CodeLine lineNumber="3938"><span class="doxyHighlight">  EVT PtrMemVT =</span></CodeLine>
<Link id="l03939" /><CodeLine lineNumber="3939"><span class="doxyHighlight">      TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a02b5aaf4357ae931647439e312a034bc">getMemValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0)-&gt;getType());</span></CodeLine>
<Link id="l03940" /><CodeLine lineNumber="3940"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getPtrExtOrTrunc(<a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), PtrMemVT);</span></CodeLine>
<Link id="l03941" /><CodeLine lineNumber="3941"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getZExtOrTrunc(<a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), DestVT);</span></CodeLine>
<Link id="l03942" /><CodeLine lineNumber="3942"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>);</span></CodeLine>
<Link id="l03943" /><CodeLine lineNumber="3943"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l03944" /><CodeLine lineNumber="3944"></CodeLine>
<Link id="l03945" /><CodeLine lineNumber="3945"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitIntToPtr(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/user">User</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l03946" /><CodeLine lineNumber="3946"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// What to do depends on the size of the integer and the size of the pointer.</span></CodeLine>
<Link id="l03947" /><CodeLine lineNumber="3947"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// We can either truncate, zero extend, or no-op, accordingly.</span></CodeLine>
<Link id="l03948" /><CodeLine lineNumber="3948"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0));</span></CodeLine>
<Link id="l03949" /><CodeLine lineNumber="3949"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l03950" /><CodeLine lineNumber="3950"><span class="doxyHighlight">  EVT DestVT = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType());</span></CodeLine>
<Link id="l03951" /><CodeLine lineNumber="3951"><span class="doxyHighlight">  EVT PtrMemVT = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a02b5aaf4357ae931647439e312a034bc">getMemValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType());</span></CodeLine>
<Link id="l03952" /><CodeLine lineNumber="3952"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getZExtOrTrunc(<a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), PtrMemVT);</span></CodeLine>
<Link id="l03953" /><CodeLine lineNumber="3953"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getPtrExtOrTrunc(<a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), DestVT);</span></CodeLine>
<Link id="l03954" /><CodeLine lineNumber="3954"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>);</span></CodeLine>
<Link id="l03955" /><CodeLine lineNumber="3955"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l03956" /><CodeLine lineNumber="3956"></CodeLine>
<Link id="l03957" /><CodeLine lineNumber="3957"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitBitCast(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/user">User</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l03958" /><CodeLine lineNumber="3958"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0));</span></CodeLine>
<Link id="l03959" /><CodeLine lineNumber="3959"><span class="doxyHighlight">  SDLoc dl = <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>();</span></CodeLine>
<Link id="l03960" /><CodeLine lineNumber="3960"><span class="doxyHighlight">  EVT DestVT = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo().getValueType(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(),</span></CodeLine>
<Link id="l03961" /><CodeLine lineNumber="3961"><span class="doxyHighlight">                                                        <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType());</span></CodeLine>
<Link id="l03962" /><CodeLine lineNumber="3962"></CodeLine>
<Link id="l03963" /><CodeLine lineNumber="3963"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// BitCast assures us that source and destination are the same size so this is</span></CodeLine>
<Link id="l03964" /><CodeLine lineNumber="3964"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// either a BITCAST or a no-op.</span></CodeLine>
<Link id="l03965" /><CodeLine lineNumber="3965"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (DestVT != <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>.getValueType())</span></CodeLine>
<Link id="l03966" /><CodeLine lineNumber="3966"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::BITCAST, dl,</span></CodeLine>
<Link id="l03967" /><CodeLine lineNumber="3967"><span class="doxyHighlight">                             DestVT, <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>)); </span><span class="doxyHighlightComment">// convert types.</span></CodeLine>
<Link id="l03968" /><CodeLine lineNumber="3968"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Check if the original LLVM IR Operand was a ConstantInt, because getValue()</span></CodeLine>
<Link id="l03969" /><CodeLine lineNumber="3969"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// might fold any kind of constant expression to an integer constant and that</span></CodeLine>
<Link id="l03970" /><CodeLine lineNumber="3970"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// is not what we are looking for. Only recognize a bitcast of a genuine</span></CodeLine>
<Link id="l03971" /><CodeLine lineNumber="3971"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// constant integer as an opaque constant.</span></CodeLine>
<Link id="l03972" /><CodeLine lineNumber="3972"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight">(ConstantInt &#42;<a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a> = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;ConstantInt&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0)))</span></CodeLine>
<Link id="l03973" /><CodeLine lineNumber="3973"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getConstant(<a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a>-&gt;getValue(), dl, DestVT, </span><span class="doxyHighlightComment">/&#42;isTarget=&#42;/</span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">,</span></CodeLine>
<Link id="l03974" /><CodeLine lineNumber="3974"><span class="doxyHighlight">                                 </span><span class="doxyHighlightComment">/&#42;isOpaque&#42;/</span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">));</span></CodeLine>
<Link id="l03975" /><CodeLine lineNumber="3975"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">else</span></CodeLine>
<Link id="l03976" /><CodeLine lineNumber="3976"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>);            </span><span class="doxyHighlightComment">// noop cast.</span></CodeLine>
<Link id="l03977" /><CodeLine lineNumber="3977"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l03978" /><CodeLine lineNumber="3978"></CodeLine>
<Link id="l03979" /><CodeLine lineNumber="3979"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitAddrSpaceCast(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/user">User</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l03980" /><CodeLine lineNumber="3980"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> TargetLowering &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l03981" /><CodeLine lineNumber="3981"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;SV = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0);</span></CodeLine>
<Link id="l03982" /><CodeLine lineNumber="3982"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(SV);</span></CodeLine>
<Link id="l03983" /><CodeLine lineNumber="3983"><span class="doxyHighlight">  EVT DestVT = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType());</span></CodeLine>
<Link id="l03984" /><CodeLine lineNumber="3984"></CodeLine>
<Link id="l03985" /><CodeLine lineNumber="3985"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> SrcAS = SV-&gt;<a href="/docs/api/classes/llvm/value/#a0344a49526443edf90cc0aef3abd3337">getType</a>()-&gt;<a href="/docs/api/classes/llvm/type/#a5ab2d0b0f0b8ceec3b907184e7567197">getPointerAddressSpace</a>();</span></CodeLine>
<Link id="l03986" /><CodeLine lineNumber="3986"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> DestAS = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType()-&gt;getPointerAddressSpace();</span></CodeLine>
<Link id="l03987" /><CodeLine lineNumber="3987"></CodeLine>
<Link id="l03988" /><CodeLine lineNumber="3988"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!TM.isNoopAddrSpaceCast(SrcAS, DestAS))</span></CodeLine>
<Link id="l03989" /><CodeLine lineNumber="3989"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getAddrSpaceCast(<a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), DestVT, <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>, SrcAS, DestAS);</span></CodeLine>
<Link id="l03990" /><CodeLine lineNumber="3990"></CodeLine>
<Link id="l03991" /><CodeLine lineNumber="3991"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>);</span></CodeLine>
<Link id="l03992" /><CodeLine lineNumber="3992"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l03993" /><CodeLine lineNumber="3993"></CodeLine>
<Link id="l03994" /><CodeLine lineNumber="3994"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitInsertElement(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/user">User</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l03995" /><CodeLine lineNumber="3995"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> TargetLowering &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l03996" /><CodeLine lineNumber="3996"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> InVec = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0));</span></CodeLine>
<Link id="l03997" /><CodeLine lineNumber="3997"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> InVal = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(1));</span></CodeLine>
<Link id="l03998" /><CodeLine lineNumber="3998"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> InIdx = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getZExtOrTrunc(<a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(2)), <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(),</span></CodeLine>
<Link id="l03999" /><CodeLine lineNumber="3999"><span class="doxyHighlight">                                     TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a2dd702dca28f51ec1137faed5d0e5837">getVectorIdxTy</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout()));</span></CodeLine>
<Link id="l04000" /><CodeLine lineNumber="4000"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110ad3bc7c2d379fbfdc2f8eaca038690ec9">ISD::INSERT&#95;VECTOR&#95;ELT</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(),</span></CodeLine>
<Link id="l04001" /><CodeLine lineNumber="4001"><span class="doxyHighlight">                           TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType()),</span></CodeLine>
<Link id="l04002" /><CodeLine lineNumber="4002"><span class="doxyHighlight">                           InVec, InVal, InIdx));</span></CodeLine>
<Link id="l04003" /><CodeLine lineNumber="4003"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l04004" /><CodeLine lineNumber="4004"></CodeLine>
<Link id="l04005" /><CodeLine lineNumber="4005"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitExtractElement(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/user">User</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l04006" /><CodeLine lineNumber="4006"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> TargetLowering &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l04007" /><CodeLine lineNumber="4007"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> InVec = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0));</span></CodeLine>
<Link id="l04008" /><CodeLine lineNumber="4008"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> InIdx = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getZExtOrTrunc(<a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(1)), <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(),</span></CodeLine>
<Link id="l04009" /><CodeLine lineNumber="4009"><span class="doxyHighlight">                                     TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a2dd702dca28f51ec1137faed5d0e5837">getVectorIdxTy</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout()));</span></CodeLine>
<Link id="l04010" /><CodeLine lineNumber="4010"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9329e79f62e9ab9b41cfbcafd314bcbd">ISD::EXTRACT&#95;VECTOR&#95;ELT</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(),</span></CodeLine>
<Link id="l04011" /><CodeLine lineNumber="4011"><span class="doxyHighlight">                           TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType()),</span></CodeLine>
<Link id="l04012" /><CodeLine lineNumber="4012"><span class="doxyHighlight">                           InVec, InIdx));</span></CodeLine>
<Link id="l04013" /><CodeLine lineNumber="4013"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l04014" /><CodeLine lineNumber="4014"></CodeLine>
<Link id="l04015" /><CodeLine lineNumber="4015"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitShuffleVector(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/user">User</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l04016" /><CodeLine lineNumber="4016"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Src1 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0));</span></CodeLine>
<Link id="l04017" /><CodeLine lineNumber="4017"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Src2 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(1));</span></CodeLine>
<Link id="l04018" /><CodeLine lineNumber="4018"><span class="doxyHighlight">  ArrayRef&lt;int&gt; <a href="/docs/api/namespaces/llvm/bitmaskenumdetail/#a4562904154aff9698a612bc7f6086a4c">Mask</a>;</span></CodeLine>
<Link id="l04019" /><CodeLine lineNumber="4019"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;SVI = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;ShuffleVectorInst&gt;</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</span></CodeLine>
<Link id="l04020" /><CodeLine lineNumber="4020"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/bitmaskenumdetail/#a4562904154aff9698a612bc7f6086a4c">Mask</a> = SVI-&gt;getShuffleMask();</span></CodeLine>
<Link id="l04021" /><CodeLine lineNumber="4021"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">else</span></CodeLine>
<Link id="l04022" /><CodeLine lineNumber="4022"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/bitmaskenumdetail/#a4562904154aff9698a612bc7f6086a4c">Mask</a> = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;ConstantExpr&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>).getShuffleMask();</span></CodeLine>
<Link id="l04023" /><CodeLine lineNumber="4023"><span class="doxyHighlight">  SDLoc <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>();</span></CodeLine>
<Link id="l04024" /><CodeLine lineNumber="4024"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> TargetLowering &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l04025" /><CodeLine lineNumber="4025"><span class="doxyHighlight">  EVT VT = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType());</span></CodeLine>
<Link id="l04026" /><CodeLine lineNumber="4026"><span class="doxyHighlight">  EVT SrcVT = Src1.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>();</span></CodeLine>
<Link id="l04027" /><CodeLine lineNumber="4027"></CodeLine>
<Link id="l04028" /><CodeLine lineNumber="4028"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/#a0d10fe510ced2849a8074fe81e5d04ce">all&#95;of</a>(Mask, &#91;&#93;(</span><span class="doxyHighlightKeywordType">int</span><span class="doxyHighlight"> Elem) &#123; </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> Elem == 0; &#125;) &amp;&amp;</span></CodeLine>
<Link id="l04029" /><CodeLine lineNumber="4029"><span class="doxyHighlight">      VT.<a href="/docs/api/structs/llvm/evt/#ab8967b7214f38cdea9c0158dbe2ffa31">isScalableVector</a>()) &#123;</span></CodeLine>
<Link id="l04030" /><CodeLine lineNumber="4030"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Canonical splat form of first element of first input vector.</span></CodeLine>
<Link id="l04031" /><CodeLine lineNumber="4031"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> FirstElt =</span></CodeLine>
<Link id="l04032" /><CodeLine lineNumber="4032"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9329e79f62e9ab9b41cfbcafd314bcbd">ISD::EXTRACT&#95;VECTOR&#95;ELT</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, SrcVT.<a href="/docs/api/structs/llvm/evt/#aa85c75e8eb097f02caeb5b9119eebfef">getScalarType</a>(), Src1,</span></CodeLine>
<Link id="l04033" /><CodeLine lineNumber="4033"><span class="doxyHighlight">                    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVectorIdxConstant(0, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>));</span></CodeLine>
<Link id="l04034" /><CodeLine lineNumber="4034"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a7f864031b6fb691b1525cbea92542ef1">ISD::SPLAT&#95;VECTOR</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, FirstElt));</span></CodeLine>
<Link id="l04035" /><CodeLine lineNumber="4035"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l04036" /><CodeLine lineNumber="4036"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l04037" /><CodeLine lineNumber="4037"></CodeLine>
<Link id="l04038" /><CodeLine lineNumber="4038"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// For now, we only handle splats for scalable vectors.</span></CodeLine>
<Link id="l04039" /><CodeLine lineNumber="4039"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// The DAGCombiner will perform a BUILD&#95;VECTOR -&gt; SPLAT&#95;VECTOR transformation</span></CodeLine>
<Link id="l04040" /><CodeLine lineNumber="4040"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// for targets that support a SPLAT&#95;VECTOR for non-scalable vector types.</span></CodeLine>
<Link id="l04041" /><CodeLine lineNumber="4041"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!VT.<a href="/docs/api/structs/llvm/evt/#ab8967b7214f38cdea9c0158dbe2ffa31">isScalableVector</a>() &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Unsupported scalable vector shuffle&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l04042" /><CodeLine lineNumber="4042"></CodeLine>
<Link id="l04043" /><CodeLine lineNumber="4043"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> SrcNumElts = SrcVT.<a href="/docs/api/structs/llvm/evt/#ae245d70802e4ebe1cae2b6122c62a22a">getVectorNumElements</a>();</span></CodeLine>
<Link id="l04044" /><CodeLine lineNumber="4044"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> MaskNumElts = <a href="/docs/api/namespaces/llvm/bitmaskenumdetail/#a4562904154aff9698a612bc7f6086a4c">Mask</a>.size();</span></CodeLine>
<Link id="l04045" /><CodeLine lineNumber="4045"></CodeLine>
<Link id="l04046" /><CodeLine lineNumber="4046"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (SrcNumElts == MaskNumElts) &#123;</span></CodeLine>
<Link id="l04047" /><CodeLine lineNumber="4047"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVectorShuffle(VT, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Src1, Src2, Mask));</span></CodeLine>
<Link id="l04048" /><CodeLine lineNumber="4048"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l04049" /><CodeLine lineNumber="4049"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l04050" /><CodeLine lineNumber="4050"></CodeLine>
<Link id="l04051" /><CodeLine lineNumber="4051"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Normalize the shuffle vector since mask and vector length don&#39;t match.</span></CodeLine>
<Link id="l04052" /><CodeLine lineNumber="4052"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (SrcNumElts &lt; MaskNumElts) &#123;</span></CodeLine>
<Link id="l04053" /><CodeLine lineNumber="4053"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Mask is longer than the source vectors. We can use concatenate vector to</span></CodeLine>
<Link id="l04054" /><CodeLine lineNumber="4054"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// make the mask and vectors lengths match.</span></CodeLine>
<Link id="l04055" /><CodeLine lineNumber="4055"></CodeLine>
<Link id="l04056" /><CodeLine lineNumber="4056"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (MaskNumElts % SrcNumElts == 0) &#123;</span></CodeLine>
<Link id="l04057" /><CodeLine lineNumber="4057"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Mask length is a multiple of the source vector length.</span></CodeLine>
<Link id="l04058" /><CodeLine lineNumber="4058"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Check if the shuffle is some kind of concatenation of the input</span></CodeLine>
<Link id="l04059" /><CodeLine lineNumber="4059"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// vectors.</span></CodeLine>
<Link id="l04060" /><CodeLine lineNumber="4060"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumConcat = MaskNumElts / SrcNumElts;</span></CodeLine>
<Link id="l04061" /><CodeLine lineNumber="4061"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> IsConcat = </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l04062" /><CodeLine lineNumber="4062"><span class="doxyHighlight">      SmallVector&lt;int, 8&gt; ConcatSrcs(NumConcat, -1);</span></CodeLine>
<Link id="l04063" /><CodeLine lineNumber="4063"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> i = 0; i != MaskNumElts; ++i) &#123;</span></CodeLine>
<Link id="l04064" /><CodeLine lineNumber="4064"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordType">int</span><span class="doxyHighlight"> Idx = <a href="/docs/api/namespaces/llvm/bitmaskenumdetail/#a4562904154aff9698a612bc7f6086a4c">Mask</a>&#91;i&#93;;</span></CodeLine>
<Link id="l04065" /><CodeLine lineNumber="4065"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Idx &lt; 0)</span></CodeLine>
<Link id="l04066" /><CodeLine lineNumber="4066"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">continue</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l04067" /><CodeLine lineNumber="4067"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// Ensure the indices in each SrcVT sized piece are sequential and that</span></CodeLine>
<Link id="l04068" /><CodeLine lineNumber="4068"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// the same source is used for the whole piece.</span></CodeLine>
<Link id="l04069" /><CodeLine lineNumber="4069"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> ((Idx % SrcNumElts != (i % SrcNumElts)) ||</span></CodeLine>
<Link id="l04070" /><CodeLine lineNumber="4070"><span class="doxyHighlight">            (ConcatSrcs&#91;i / SrcNumElts&#93; &gt;= 0 &amp;&amp;</span></CodeLine>
<Link id="l04071" /><CodeLine lineNumber="4071"><span class="doxyHighlight">             ConcatSrcs&#91;i / SrcNumElts&#93; != (</span><span class="doxyHighlightKeywordType">int</span><span class="doxyHighlight">)(Idx / SrcNumElts))) &#123;</span></CodeLine>
<Link id="l04072" /><CodeLine lineNumber="4072"><span class="doxyHighlight">          IsConcat = </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l04073" /><CodeLine lineNumber="4073"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l04074" /><CodeLine lineNumber="4074"><span class="doxyHighlight">        &#125;</span></CodeLine>
<Link id="l04075" /><CodeLine lineNumber="4075"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// Remember which source this index came from.</span></CodeLine>
<Link id="l04076" /><CodeLine lineNumber="4076"><span class="doxyHighlight">        ConcatSrcs&#91;i / SrcNumElts&#93; = Idx / SrcNumElts;</span></CodeLine>
<Link id="l04077" /><CodeLine lineNumber="4077"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l04078" /><CodeLine lineNumber="4078"></CodeLine>
<Link id="l04079" /><CodeLine lineNumber="4079"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// The shuffle is concatenating multiple vectors together. Just emit</span></CodeLine>
<Link id="l04080" /><CodeLine lineNumber="4080"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// a CONCAT&#95;VECTORS operation.</span></CodeLine>
<Link id="l04081" /><CodeLine lineNumber="4081"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (IsConcat) &#123;</span></CodeLine>
<Link id="l04082" /><CodeLine lineNumber="4082"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;SDValue, 8&gt;</a> ConcatOps;</span></CodeLine>
<Link id="l04083" /><CodeLine lineNumber="4083"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> Src : ConcatSrcs) &#123;</span></CodeLine>
<Link id="l04084" /><CodeLine lineNumber="4084"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Src &lt; 0)</span></CodeLine>
<Link id="l04085" /><CodeLine lineNumber="4085"><span class="doxyHighlight">            ConcatOps.<a href="/docs/api/classes/llvm/smallvectortemplatebase/#af42bfbc067df27c19ee2fc859df58799">push&#95;back</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getUNDEF(SrcVT));</span></CodeLine>
<Link id="l04086" /><CodeLine lineNumber="4086"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Src == 0)</span></CodeLine>
<Link id="l04087" /><CodeLine lineNumber="4087"><span class="doxyHighlight">            ConcatOps.<a href="/docs/api/classes/llvm/smallvectortemplatebase/#af42bfbc067df27c19ee2fc859df58799">push&#95;back</a>(Src1);</span></CodeLine>
<Link id="l04088" /><CodeLine lineNumber="4088"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">else</span></CodeLine>
<Link id="l04089" /><CodeLine lineNumber="4089"><span class="doxyHighlight">            ConcatOps.<a href="/docs/api/classes/llvm/smallvectortemplatebase/#af42bfbc067df27c19ee2fc859df58799">push&#95;back</a>(Src2);</span></CodeLine>
<Link id="l04090" /><CodeLine lineNumber="4090"><span class="doxyHighlight">        &#125;</span></CodeLine>
<Link id="l04091" /><CodeLine lineNumber="4091"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a320898056eadc3254fc601e1362eb9f5">ISD::CONCAT&#95;VECTORS</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, ConcatOps));</span></CodeLine>
<Link id="l04092" /><CodeLine lineNumber="4092"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l04093" /><CodeLine lineNumber="4093"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l04094" /><CodeLine lineNumber="4094"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l04095" /><CodeLine lineNumber="4095"></CodeLine>
<Link id="l04096" /><CodeLine lineNumber="4096"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> PaddedMaskNumElts = <a href="/docs/api/namespaces/llvm/#ab102f0f12dd38aeea5906b1d80c792ff">alignTo</a>(MaskNumElts, SrcNumElts);</span></CodeLine>
<Link id="l04097" /><CodeLine lineNumber="4097"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumConcat = PaddedMaskNumElts / SrcNumElts;</span></CodeLine>
<Link id="l04098" /><CodeLine lineNumber="4098"><span class="doxyHighlight">    EVT PaddedVT = <a href="/docs/api/structs/llvm/evt/#a210ba6b43ba451b698857dd9de71bd15">EVT::getVectorVT</a>(&#42;<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getContext(), VT.<a href="/docs/api/structs/llvm/evt/#aa85c75e8eb097f02caeb5b9119eebfef">getScalarType</a>(),</span></CodeLine>
<Link id="l04099" /><CodeLine lineNumber="4099"><span class="doxyHighlight">                                    PaddedMaskNumElts);</span></CodeLine>
<Link id="l04100" /><CodeLine lineNumber="4100"></CodeLine>
<Link id="l04101" /><CodeLine lineNumber="4101"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Pad both vectors with undefs to make them the same length as the mask.</span></CodeLine>
<Link id="l04102" /><CodeLine lineNumber="4102"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> UndefVal = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getUNDEF(SrcVT);</span></CodeLine>
<Link id="l04103" /><CodeLine lineNumber="4103"></CodeLine>
<Link id="l04104" /><CodeLine lineNumber="4104"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;SDValue, 8&gt;</a> MOps1(NumConcat, UndefVal);</span></CodeLine>
<Link id="l04105" /><CodeLine lineNumber="4105"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;SDValue, 8&gt;</a> MOps2(NumConcat, UndefVal);</span></CodeLine>
<Link id="l04106" /><CodeLine lineNumber="4106"><span class="doxyHighlight">    MOps1&#91;0&#93; = Src1;</span></CodeLine>
<Link id="l04107" /><CodeLine lineNumber="4107"><span class="doxyHighlight">    MOps2&#91;0&#93; = Src2;</span></CodeLine>
<Link id="l04108" /><CodeLine lineNumber="4108"></CodeLine>
<Link id="l04109" /><CodeLine lineNumber="4109"><span class="doxyHighlight">    Src1 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a320898056eadc3254fc601e1362eb9f5">ISD::CONCAT&#95;VECTORS</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, PaddedVT, MOps1);</span></CodeLine>
<Link id="l04110" /><CodeLine lineNumber="4110"><span class="doxyHighlight">    Src2 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a320898056eadc3254fc601e1362eb9f5">ISD::CONCAT&#95;VECTORS</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, PaddedVT, MOps2);</span></CodeLine>
<Link id="l04111" /><CodeLine lineNumber="4111"></CodeLine>
<Link id="l04112" /><CodeLine lineNumber="4112"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Readjust mask for new input vector length.</span></CodeLine>
<Link id="l04113" /><CodeLine lineNumber="4113"><span class="doxyHighlight">    SmallVector&lt;int, 8&gt; MappedOps(PaddedMaskNumElts, -1);</span></CodeLine>
<Link id="l04114" /><CodeLine lineNumber="4114"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> i = 0; i != MaskNumElts; ++i) &#123;</span></CodeLine>
<Link id="l04115" /><CodeLine lineNumber="4115"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordType">int</span><span class="doxyHighlight"> Idx = <a href="/docs/api/namespaces/llvm/bitmaskenumdetail/#a4562904154aff9698a612bc7f6086a4c">Mask</a>&#91;i&#93;;</span></CodeLine>
<Link id="l04116" /><CodeLine lineNumber="4116"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Idx &gt;= (</span><span class="doxyHighlightKeywordType">int</span><span class="doxyHighlight">)SrcNumElts)</span></CodeLine>
<Link id="l04117" /><CodeLine lineNumber="4117"><span class="doxyHighlight">        Idx -= SrcNumElts - PaddedMaskNumElts;</span></CodeLine>
<Link id="l04118" /><CodeLine lineNumber="4118"><span class="doxyHighlight">      MappedOps&#91;i&#93; = Idx;</span></CodeLine>
<Link id="l04119" /><CodeLine lineNumber="4119"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l04120" /><CodeLine lineNumber="4120"></CodeLine>
<Link id="l04121" /><CodeLine lineNumber="4121"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/ms-demangle/#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVectorShuffle(PaddedVT, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Src1, Src2, MappedOps);</span></CodeLine>
<Link id="l04122" /><CodeLine lineNumber="4122"></CodeLine>
<Link id="l04123" /><CodeLine lineNumber="4123"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// If the concatenated vector was padded, extract a subvector with the</span></CodeLine>
<Link id="l04124" /><CodeLine lineNumber="4124"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// correct number of elements.</span></CodeLine>
<Link id="l04125" /><CodeLine lineNumber="4125"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (MaskNumElts != PaddedMaskNumElts)</span></CodeLine>
<Link id="l04126" /><CodeLine lineNumber="4126"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/ms-demangle/#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9070de8a5c5b71851732c4c54e2ffedf">ISD::EXTRACT&#95;SUBVECTOR</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, Result,</span></CodeLine>
<Link id="l04127" /><CodeLine lineNumber="4127"><span class="doxyHighlight">                           <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVectorIdxConstant(0, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>));</span></CodeLine>
<Link id="l04128" /><CodeLine lineNumber="4128"></CodeLine>
<Link id="l04129" /><CodeLine lineNumber="4129"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Result);</span></CodeLine>
<Link id="l04130" /><CodeLine lineNumber="4130"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l04131" /><CodeLine lineNumber="4131"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l04132" /><CodeLine lineNumber="4132"></CodeLine>
<Link id="l04133" /><CodeLine lineNumber="4133"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(SrcNumElts &gt; MaskNumElts);</span></CodeLine>
<Link id="l04134" /><CodeLine lineNumber="4134"></CodeLine>
<Link id="l04135" /><CodeLine lineNumber="4135"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Analyze the access pattern of the vector to see if we can extract</span></CodeLine>
<Link id="l04136" /><CodeLine lineNumber="4136"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// two subvectors and do the shuffle.</span></CodeLine>
<Link id="l04137" /><CodeLine lineNumber="4137"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">int</span><span class="doxyHighlight"> StartIdx&#91;2&#93; = &#123;-1, -1&#125;; </span><span class="doxyHighlightComment">// StartIdx to extract from</span></CodeLine>
<Link id="l04138" /><CodeLine lineNumber="4138"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> CanExtract = </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l04139" /><CodeLine lineNumber="4139"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">int</span><span class="doxyHighlight"> Idx : Mask) &#123;</span></CodeLine>
<Link id="l04140" /><CodeLine lineNumber="4140"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> Input = 0;</span></CodeLine>
<Link id="l04141" /><CodeLine lineNumber="4141"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Idx &lt; 0)</span></CodeLine>
<Link id="l04142" /><CodeLine lineNumber="4142"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">continue</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l04143" /><CodeLine lineNumber="4143"></CodeLine>
<Link id="l04144" /><CodeLine lineNumber="4144"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Idx &gt;= (</span><span class="doxyHighlightKeywordType">int</span><span class="doxyHighlight">)SrcNumElts) &#123;</span></CodeLine>
<Link id="l04145" /><CodeLine lineNumber="4145"><span class="doxyHighlight">      Input = 1;</span></CodeLine>
<Link id="l04146" /><CodeLine lineNumber="4146"><span class="doxyHighlight">      Idx -= SrcNumElts;</span></CodeLine>
<Link id="l04147" /><CodeLine lineNumber="4147"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l04148" /><CodeLine lineNumber="4148"></CodeLine>
<Link id="l04149" /><CodeLine lineNumber="4149"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// If all the indices come from the same MaskNumElts sized portion of</span></CodeLine>
<Link id="l04150" /><CodeLine lineNumber="4150"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// the sources we can use extract. Also make sure the extract wouldn&#39;t</span></CodeLine>
<Link id="l04151" /><CodeLine lineNumber="4151"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// extract past the end of the source.</span></CodeLine>
<Link id="l04152" /><CodeLine lineNumber="4152"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">int</span><span class="doxyHighlight"> NewStartIdx = <a href="/docs/api/namespaces/llvm/#a41896492f62ee8d25cf8aaad70bd88aa">alignDown</a>(Idx, MaskNumElts);</span></CodeLine>
<Link id="l04153" /><CodeLine lineNumber="4153"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (NewStartIdx + MaskNumElts &gt; SrcNumElts ||</span></CodeLine>
<Link id="l04154" /><CodeLine lineNumber="4154"><span class="doxyHighlight">        (StartIdx&#91;Input&#93; &gt;= 0 &amp;&amp; StartIdx&#91;Input&#93; != NewStartIdx))</span></CodeLine>
<Link id="l04155" /><CodeLine lineNumber="4155"><span class="doxyHighlight">      CanExtract = </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l04156" /><CodeLine lineNumber="4156"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Make sure we always update StartIdx as we use it to track if all</span></CodeLine>
<Link id="l04157" /><CodeLine lineNumber="4157"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// elements are undef.</span></CodeLine>
<Link id="l04158" /><CodeLine lineNumber="4158"><span class="doxyHighlight">    StartIdx&#91;Input&#93; = NewStartIdx;</span></CodeLine>
<Link id="l04159" /><CodeLine lineNumber="4159"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l04160" /><CodeLine lineNumber="4160"></CodeLine>
<Link id="l04161" /><CodeLine lineNumber="4161"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (StartIdx&#91;0&#93; &lt; 0 &amp;&amp; StartIdx&#91;1&#93; &lt; 0) &#123;</span></CodeLine>
<Link id="l04162" /><CodeLine lineNumber="4162"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getUNDEF(VT)); </span><span class="doxyHighlightComment">// Vectors are not used.</span></CodeLine>
<Link id="l04163" /><CodeLine lineNumber="4163"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l04164" /><CodeLine lineNumber="4164"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l04165" /><CodeLine lineNumber="4165"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (CanExtract) &#123;</span></CodeLine>
<Link id="l04166" /><CodeLine lineNumber="4166"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Extract appropriate subvector and generate a vector shuffle</span></CodeLine>
<Link id="l04167" /><CodeLine lineNumber="4167"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> Input = 0; Input &lt; 2; ++Input) &#123;</span></CodeLine>
<Link id="l04168" /><CodeLine lineNumber="4168"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> &amp;<a href="/docs/api/namespaces/anonymous-linkmodules-cpp-/#ab56eb2027bc9c069aa696e54de8b4298a276e79316561733d64abdf00f8e8ae48">Src</a> = Input == 0 ? Src1 : Src2;</span></CodeLine>
<Link id="l04169" /><CodeLine lineNumber="4169"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (StartIdx&#91;Input&#93; &lt; 0)</span></CodeLine>
<Link id="l04170" /><CodeLine lineNumber="4170"><span class="doxyHighlight">        <a href="/docs/api/namespaces/anonymous-linkmodules-cpp-/#ab56eb2027bc9c069aa696e54de8b4298a276e79316561733d64abdf00f8e8ae48">Src</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getUNDEF(VT);</span></CodeLine>
<Link id="l04171" /><CodeLine lineNumber="4171"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l04172" /><CodeLine lineNumber="4172"><span class="doxyHighlight">        <a href="/docs/api/namespaces/anonymous-linkmodules-cpp-/#ab56eb2027bc9c069aa696e54de8b4298a276e79316561733d64abdf00f8e8ae48">Src</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9070de8a5c5b71851732c4c54e2ffedf">ISD::EXTRACT&#95;SUBVECTOR</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, Src,</span></CodeLine>
<Link id="l04173" /><CodeLine lineNumber="4173"><span class="doxyHighlight">                          <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVectorIdxConstant(StartIdx&#91;Input&#93;, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>));</span></CodeLine>
<Link id="l04174" /><CodeLine lineNumber="4174"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l04175" /><CodeLine lineNumber="4175"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l04176" /><CodeLine lineNumber="4176"></CodeLine>
<Link id="l04177" /><CodeLine lineNumber="4177"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Calculate new mask.</span></CodeLine>
<Link id="l04178" /><CodeLine lineNumber="4178"><span class="doxyHighlight">    SmallVector&lt;int, 8&gt; MappedOps(Mask);</span></CodeLine>
<Link id="l04179" /><CodeLine lineNumber="4179"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">int</span><span class="doxyHighlight"> &amp;Idx : MappedOps) &#123;</span></CodeLine>
<Link id="l04180" /><CodeLine lineNumber="4180"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Idx &gt;= (</span><span class="doxyHighlightKeywordType">int</span><span class="doxyHighlight">)SrcNumElts)</span></CodeLine>
<Link id="l04181" /><CodeLine lineNumber="4181"><span class="doxyHighlight">        Idx -= SrcNumElts + StartIdx&#91;1&#93; - MaskNumElts;</span></CodeLine>
<Link id="l04182" /><CodeLine lineNumber="4182"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Idx &gt;= 0)</span></CodeLine>
<Link id="l04183" /><CodeLine lineNumber="4183"><span class="doxyHighlight">        Idx -= StartIdx&#91;0&#93;;</span></CodeLine>
<Link id="l04184" /><CodeLine lineNumber="4184"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l04185" /><CodeLine lineNumber="4185"></CodeLine>
<Link id="l04186" /><CodeLine lineNumber="4186"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVectorShuffle(VT, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Src1, Src2, MappedOps));</span></CodeLine>
<Link id="l04187" /><CodeLine lineNumber="4187"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l04188" /><CodeLine lineNumber="4188"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l04189" /><CodeLine lineNumber="4189"></CodeLine>
<Link id="l04190" /><CodeLine lineNumber="4190"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// We can&#39;t use either concat vectors or extract subvectors so fall back to</span></CodeLine>
<Link id="l04191" /><CodeLine lineNumber="4191"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// replacing the shuffle with extract and build vector.</span></CodeLine>
<Link id="l04192" /><CodeLine lineNumber="4192"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// to insert and build vector.</span></CodeLine>
<Link id="l04193" /><CodeLine lineNumber="4193"><span class="doxyHighlight">  EVT EltVT = VT.<a href="/docs/api/structs/llvm/evt/#abc4c6365ade17ad4443ad0e381e7479d">getVectorElementType</a>();</span></CodeLine>
<Link id="l04194" /><CodeLine lineNumber="4194"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;SDValue,8&gt;</a> <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>;</span></CodeLine>
<Link id="l04195" /><CodeLine lineNumber="4195"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">int</span><span class="doxyHighlight"> Idx : Mask) &#123;</span></CodeLine>
<Link id="l04196" /><CodeLine lineNumber="4196"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Res;</span></CodeLine>
<Link id="l04197" /><CodeLine lineNumber="4197"></CodeLine>
<Link id="l04198" /><CodeLine lineNumber="4198"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Idx &lt; 0) &#123;</span></CodeLine>
<Link id="l04199" /><CodeLine lineNumber="4199"><span class="doxyHighlight">      Res = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getUNDEF(EltVT);</span></CodeLine>
<Link id="l04200" /><CodeLine lineNumber="4200"><span class="doxyHighlight">    &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l04201" /><CodeLine lineNumber="4201"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> &amp;<a href="/docs/api/namespaces/anonymous-linkmodules-cpp-/#ab56eb2027bc9c069aa696e54de8b4298a276e79316561733d64abdf00f8e8ae48">Src</a> = Idx &lt; (int)SrcNumElts ? Src1 : Src2;</span></CodeLine>
<Link id="l04202" /><CodeLine lineNumber="4202"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Idx &gt;= (</span><span class="doxyHighlightKeywordType">int</span><span class="doxyHighlight">)SrcNumElts) Idx -= SrcNumElts;</span></CodeLine>
<Link id="l04203" /><CodeLine lineNumber="4203"></CodeLine>
<Link id="l04204" /><CodeLine lineNumber="4204"><span class="doxyHighlight">      Res = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9329e79f62e9ab9b41cfbcafd314bcbd">ISD::EXTRACT&#95;VECTOR&#95;ELT</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, EltVT, Src,</span></CodeLine>
<Link id="l04205" /><CodeLine lineNumber="4205"><span class="doxyHighlight">                        <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVectorIdxConstant(Idx, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>));</span></CodeLine>
<Link id="l04206" /><CodeLine lineNumber="4206"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l04207" /><CodeLine lineNumber="4207"></CodeLine>
<Link id="l04208" /><CodeLine lineNumber="4208"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.push&#95;back(Res);</span></CodeLine>
<Link id="l04209" /><CodeLine lineNumber="4209"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l04210" /><CodeLine lineNumber="4210"></CodeLine>
<Link id="l04211" /><CodeLine lineNumber="4211"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getBuildVector(VT, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>));</span></CodeLine>
<Link id="l04212" /><CodeLine lineNumber="4212"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l04213" /><CodeLine lineNumber="4213"></CodeLine>
<Link id="l04214" /><CodeLine lineNumber="4214"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitInsertValue(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/insertvalueinst">InsertValueInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l04215" /><CodeLine lineNumber="4215"><span class="doxyHighlight">  ArrayRef&lt;unsigned&gt; Indices = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getIndices();</span></CodeLine>
<Link id="l04216" /><CodeLine lineNumber="4216"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;Op0 = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0);</span></CodeLine>
<Link id="l04217" /><CodeLine lineNumber="4217"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;Op1 = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.<a href="/docs/api/classes/llvm/sdvalue/#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1);</span></CodeLine>
<Link id="l04218" /><CodeLine lineNumber="4218"><span class="doxyHighlight">  <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a88ee8e4eea43084bd8964682683da88caa1fa27779242b4902f7ae3bdd5c6d508">Type</a> &#42;AggTy = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType();</span></CodeLine>
<Link id="l04219" /><CodeLine lineNumber="4219"><span class="doxyHighlight">  <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a88ee8e4eea43084bd8964682683da88caa1fa27779242b4902f7ae3bdd5c6d508">Type</a> &#42;ValTy = Op1-&gt;<a href="/docs/api/classes/llvm/value/#a0344a49526443edf90cc0aef3abd3337">getType</a>();</span></CodeLine>
<Link id="l04220" /><CodeLine lineNumber="4220"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> IntoUndef = <a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;UndefValue&gt;</a>(Op0);</span></CodeLine>
<Link id="l04221" /><CodeLine lineNumber="4221"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> FromUndef = <a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;UndefValue&gt;</a>(Op1);</span></CodeLine>
<Link id="l04222" /><CodeLine lineNumber="4222"></CodeLine>
<Link id="l04223" /><CodeLine lineNumber="4223"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> LinearIndex = <a href="/docs/api/namespaces/llvm/#adf1f21f92016bd1845de84892761714a">ComputeLinearIndex</a>(AggTy, Indices);</span></CodeLine>
<Link id="l04224" /><CodeLine lineNumber="4224"></CodeLine>
<Link id="l04225" /><CodeLine lineNumber="4225"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> TargetLowering &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l04226" /><CodeLine lineNumber="4226"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;EVT, 4&gt;</a> AggValueVTs;</span></CodeLine>
<Link id="l04227" /><CodeLine lineNumber="4227"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#ab99618b3d8988b758a67f5a1a6071095">ComputeValueVTs</a>(TLI, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), AggTy, AggValueVTs);</span></CodeLine>
<Link id="l04228" /><CodeLine lineNumber="4228"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;EVT, 4&gt;</a> ValValueVTs;</span></CodeLine>
<Link id="l04229" /><CodeLine lineNumber="4229"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#ab99618b3d8988b758a67f5a1a6071095">ComputeValueVTs</a>(TLI, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), ValTy, ValValueVTs);</span></CodeLine>
<Link id="l04230" /><CodeLine lineNumber="4230"></CodeLine>
<Link id="l04231" /><CodeLine lineNumber="4231"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumAggValues = AggValueVTs.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#a1c479a8c434377c2b8cb056bdfdfc201">size</a>();</span></CodeLine>
<Link id="l04232" /><CodeLine lineNumber="4232"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumValValues = ValValueVTs.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#a1c479a8c434377c2b8cb056bdfdfc201">size</a>();</span></CodeLine>
<Link id="l04233" /><CodeLine lineNumber="4233"><span class="doxyHighlight">  SmallVector&lt;SDValue, 4&gt; Values(NumAggValues);</span></CodeLine>
<Link id="l04234" /><CodeLine lineNumber="4234"></CodeLine>
<Link id="l04235" /><CodeLine lineNumber="4235"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Ignore an insertvalue that produces an empty object</span></CodeLine>
<Link id="l04236" /><CodeLine lineNumber="4236"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!NumAggValues) &#123;</span></CodeLine>
<Link id="l04237" /><CodeLine lineNumber="4237"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getUNDEF(MVT(MVT::Other)));</span></CodeLine>
<Link id="l04238" /><CodeLine lineNumber="4238"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l04239" /><CodeLine lineNumber="4239"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l04240" /><CodeLine lineNumber="4240"></CodeLine>
<Link id="l04241" /><CodeLine lineNumber="4241"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Agg = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(Op0);</span></CodeLine>
<Link id="l04242" /><CodeLine lineNumber="4242"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> i = 0;</span></CodeLine>
<Link id="l04243" /><CodeLine lineNumber="4243"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Copy the beginning value(s) from the original aggregate.</span></CodeLine>
<Link id="l04244" /><CodeLine lineNumber="4244"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (; i != LinearIndex; ++i)</span></CodeLine>
<Link id="l04245" /><CodeLine lineNumber="4245"><span class="doxyHighlight">    Values&#91;i&#93; = IntoUndef ? <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getUNDEF(AggValueVTs&#91;i&#93;) :</span></CodeLine>
<Link id="l04246" /><CodeLine lineNumber="4246"><span class="doxyHighlight">                <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a>(Agg.<a href="/docs/api/classes/llvm/sdvalue/#a2b08aa629a6326d1a0444ee6d477c39d">getNode</a>(), Agg.<a href="/docs/api/classes/llvm/sdvalue/#ac476ca9c302b9ba8d47ea7b02f6149f5">getResNo</a>() + i);</span></CodeLine>
<Link id="l04247" /><CodeLine lineNumber="4247"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Copy values from the inserted value(s).</span></CodeLine>
<Link id="l04248" /><CodeLine lineNumber="4248"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (NumValValues) &#123;</span></CodeLine>
<Link id="l04249" /><CodeLine lineNumber="4249"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Val = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(Op1);</span></CodeLine>
<Link id="l04250" /><CodeLine lineNumber="4250"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (; i != LinearIndex + NumValValues; ++i)</span></CodeLine>
<Link id="l04251" /><CodeLine lineNumber="4251"><span class="doxyHighlight">      Values&#91;i&#93; = FromUndef ? <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getUNDEF(AggValueVTs&#91;i&#93;) :</span></CodeLine>
<Link id="l04252" /><CodeLine lineNumber="4252"><span class="doxyHighlight">                  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a>(Val.<a href="/docs/api/classes/llvm/sdvalue/#a2b08aa629a6326d1a0444ee6d477c39d">getNode</a>(), Val.<a href="/docs/api/classes/llvm/sdvalue/#ac476ca9c302b9ba8d47ea7b02f6149f5">getResNo</a>() + i - LinearIndex);</span></CodeLine>
<Link id="l04253" /><CodeLine lineNumber="4253"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l04254" /><CodeLine lineNumber="4254"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Copy remaining value(s) from the original aggregate.</span></CodeLine>
<Link id="l04255" /><CodeLine lineNumber="4255"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (; i != NumAggValues; ++i)</span></CodeLine>
<Link id="l04256" /><CodeLine lineNumber="4256"><span class="doxyHighlight">    Values&#91;i&#93; = IntoUndef ? <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getUNDEF(AggValueVTs&#91;i&#93;) :</span></CodeLine>
<Link id="l04257" /><CodeLine lineNumber="4257"><span class="doxyHighlight">                <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a>(Agg.<a href="/docs/api/classes/llvm/sdvalue/#a2b08aa629a6326d1a0444ee6d477c39d">getNode</a>(), Agg.<a href="/docs/api/classes/llvm/sdvalue/#ac476ca9c302b9ba8d47ea7b02f6149f5">getResNo</a>() + i);</span></CodeLine>
<Link id="l04258" /><CodeLine lineNumber="4258"></CodeLine>
<Link id="l04259" /><CodeLine lineNumber="4259"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a01c94937492f3ac3fb1e0be8eb0b9ef1">ISD::MERGE&#95;VALUES</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(),</span></CodeLine>
<Link id="l04260" /><CodeLine lineNumber="4260"><span class="doxyHighlight">                           <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVTList(AggValueVTs), Values));</span></CodeLine>
<Link id="l04261" /><CodeLine lineNumber="4261"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l04262" /><CodeLine lineNumber="4262"></CodeLine>
<Link id="l04263" /><CodeLine lineNumber="4263"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitExtractValue(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/extractvalueinst">ExtractValueInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l04264" /><CodeLine lineNumber="4264"><span class="doxyHighlight">  ArrayRef&lt;unsigned&gt; Indices = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getIndices();</span></CodeLine>
<Link id="l04265" /><CodeLine lineNumber="4265"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;Op0 = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0);</span></CodeLine>
<Link id="l04266" /><CodeLine lineNumber="4266"><span class="doxyHighlight">  <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a88ee8e4eea43084bd8964682683da88caa1fa27779242b4902f7ae3bdd5c6d508">Type</a> &#42;AggTy = Op0-&gt;<a href="/docs/api/classes/llvm/value/#a0344a49526443edf90cc0aef3abd3337">getType</a>();</span></CodeLine>
<Link id="l04267" /><CodeLine lineNumber="4267"><span class="doxyHighlight">  <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a88ee8e4eea43084bd8964682683da88caa1fa27779242b4902f7ae3bdd5c6d508">Type</a> &#42;ValTy = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType();</span></CodeLine>
<Link id="l04268" /><CodeLine lineNumber="4268"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> OutOfUndef = <a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;UndefValue&gt;</a>(Op0);</span></CodeLine>
<Link id="l04269" /><CodeLine lineNumber="4269"></CodeLine>
<Link id="l04270" /><CodeLine lineNumber="4270"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> LinearIndex = <a href="/docs/api/namespaces/llvm/#adf1f21f92016bd1845de84892761714a">ComputeLinearIndex</a>(AggTy, Indices);</span></CodeLine>
<Link id="l04271" /><CodeLine lineNumber="4271"></CodeLine>
<Link id="l04272" /><CodeLine lineNumber="4272"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> TargetLowering &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l04273" /><CodeLine lineNumber="4273"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;EVT, 4&gt;</a> ValValueVTs;</span></CodeLine>
<Link id="l04274" /><CodeLine lineNumber="4274"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#ab99618b3d8988b758a67f5a1a6071095">ComputeValueVTs</a>(TLI, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), ValTy, ValValueVTs);</span></CodeLine>
<Link id="l04275" /><CodeLine lineNumber="4275"></CodeLine>
<Link id="l04276" /><CodeLine lineNumber="4276"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumValValues = ValValueVTs.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#a1c479a8c434377c2b8cb056bdfdfc201">size</a>();</span></CodeLine>
<Link id="l04277" /><CodeLine lineNumber="4277"></CodeLine>
<Link id="l04278" /><CodeLine lineNumber="4278"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Ignore a extractvalue that produces an empty object</span></CodeLine>
<Link id="l04279" /><CodeLine lineNumber="4279"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!NumValValues) &#123;</span></CodeLine>
<Link id="l04280" /><CodeLine lineNumber="4280"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getUNDEF(MVT(MVT::Other)));</span></CodeLine>
<Link id="l04281" /><CodeLine lineNumber="4281"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l04282" /><CodeLine lineNumber="4282"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l04283" /><CodeLine lineNumber="4283"></CodeLine>
<Link id="l04284" /><CodeLine lineNumber="4284"><span class="doxyHighlight">  SmallVector&lt;SDValue, 4&gt; Values(NumValValues);</span></CodeLine>
<Link id="l04285" /><CodeLine lineNumber="4285"></CodeLine>
<Link id="l04286" /><CodeLine lineNumber="4286"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Agg = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(Op0);</span></CodeLine>
<Link id="l04287" /><CodeLine lineNumber="4287"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Copy out the selected value(s).</span></CodeLine>
<Link id="l04288" /><CodeLine lineNumber="4288"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> i = LinearIndex; i != LinearIndex + NumValValues; ++i)</span></CodeLine>
<Link id="l04289" /><CodeLine lineNumber="4289"><span class="doxyHighlight">    Values&#91;i - LinearIndex&#93; =</span></CodeLine>
<Link id="l04290" /><CodeLine lineNumber="4290"><span class="doxyHighlight">      OutOfUndef ?</span></CodeLine>
<Link id="l04291" /><CodeLine lineNumber="4291"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getUNDEF(Agg.<a href="/docs/api/classes/llvm/sdvalue/#a2b08aa629a6326d1a0444ee6d477c39d">getNode</a>()-&gt;<a href="/docs/api/classes/llvm/sdnode/#ac0a534d63ac5c5b87f36acdade953fbe">getValueType</a>(Agg.<a href="/docs/api/classes/llvm/sdvalue/#ac476ca9c302b9ba8d47ea7b02f6149f5">getResNo</a>() + i)) :</span></CodeLine>
<Link id="l04292" /><CodeLine lineNumber="4292"><span class="doxyHighlight">        <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a>(Agg.<a href="/docs/api/classes/llvm/sdvalue/#a2b08aa629a6326d1a0444ee6d477c39d">getNode</a>(), Agg.<a href="/docs/api/classes/llvm/sdvalue/#ac476ca9c302b9ba8d47ea7b02f6149f5">getResNo</a>() + i);</span></CodeLine>
<Link id="l04293" /><CodeLine lineNumber="4293"></CodeLine>
<Link id="l04294" /><CodeLine lineNumber="4294"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a01c94937492f3ac3fb1e0be8eb0b9ef1">ISD::MERGE&#95;VALUES</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(),</span></CodeLine>
<Link id="l04295" /><CodeLine lineNumber="4295"><span class="doxyHighlight">                           <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVTList(ValValueVTs), Values));</span></CodeLine>
<Link id="l04296" /><CodeLine lineNumber="4296"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l04297" /><CodeLine lineNumber="4297"></CodeLine>
<Link id="l04298" /><CodeLine lineNumber="4298"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitGetElementPtr(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/user">User</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l04299" /><CodeLine lineNumber="4299"><span class="doxyHighlight">  Value &#42;Op0 = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0);</span></CodeLine>
<Link id="l04300" /><CodeLine lineNumber="4300"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Note that the pointer operand may be a vector of pointers. Take the scalar</span></CodeLine>
<Link id="l04301" /><CodeLine lineNumber="4301"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// element which holds a pointer.</span></CodeLine>
<Link id="l04302" /><CodeLine lineNumber="4302"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> AS = Op0-&gt;<a href="/docs/api/classes/llvm/value/#a0344a49526443edf90cc0aef3abd3337">getType</a>()-&gt;<a href="/docs/api/classes/llvm/type/#a7c742b32ebcd73d6dc851afac295b0f2">getScalarType</a>()-&gt;<a href="/docs/api/classes/llvm/type/#a5ab2d0b0f0b8ceec3b907184e7567197">getPointerAddressSpace</a>();</span></CodeLine>
<Link id="l04303" /><CodeLine lineNumber="4303"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(Op0);</span></CodeLine>
<Link id="l04304" /><CodeLine lineNumber="4304"><span class="doxyHighlight">  SDLoc dl = <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>();</span></CodeLine>
<Link id="l04305" /><CodeLine lineNumber="4305"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l04306" /><CodeLine lineNumber="4306"><span class="doxyHighlight">  GEPNoWrapFlags NW = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;GEPOperator&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>).getNoWrapFlags();</span></CodeLine>
<Link id="l04307" /><CodeLine lineNumber="4307"></CodeLine>
<Link id="l04308" /><CodeLine lineNumber="4308"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Normalize Vector GEP - all scalar operands should be converted to the</span></CodeLine>
<Link id="l04309" /><CodeLine lineNumber="4309"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// splat vector.</span></CodeLine>
<Link id="l04310" /><CodeLine lineNumber="4310"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> IsVectorGEP = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType()-&gt;isVectorTy();</span></CodeLine>
<Link id="l04311" /><CodeLine lineNumber="4311"><span class="doxyHighlight">  ElementCount VectorElementCount =</span></CodeLine>
<Link id="l04312" /><CodeLine lineNumber="4312"><span class="doxyHighlight">      IsVectorGEP ? <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;VectorType&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType())-&gt;getElementCount()</span></CodeLine>
<Link id="l04313" /><CodeLine lineNumber="4313"><span class="doxyHighlight">                  : <a href="/docs/api/classes/llvm/elementcount/#a584cb8dfa0090b33a969c4dda27337f6">ElementCount::getFixed</a>(0);</span></CodeLine>
<Link id="l04314" /><CodeLine lineNumber="4314"></CodeLine>
<Link id="l04315" /><CodeLine lineNumber="4315"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (IsVectorGEP &amp;&amp; !<a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>.getValueType().isVector()) &#123;</span></CodeLine>
<Link id="l04316" /><CodeLine lineNumber="4316"><span class="doxyHighlight">    LLVMContext &amp;<a href="/docs/api/classes/llvm/selectiondagbuilder/#ac536e4b59b1e85317cea0b32d47752ef">Context</a> = &#42;<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getContext();</span></CodeLine>
<Link id="l04317" /><CodeLine lineNumber="4317"><span class="doxyHighlight">    EVT VT = <a href="/docs/api/structs/llvm/evt/#a210ba6b43ba451b698857dd9de71bd15">EVT::getVectorVT</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ac536e4b59b1e85317cea0b32d47752ef">Context</a>, <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>.getValueType(), VectorElementCount);</span></CodeLine>
<Link id="l04318" /><CodeLine lineNumber="4318"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSplat(VT, dl, <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>);</span></CodeLine>
<Link id="l04319" /><CodeLine lineNumber="4319"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l04320" /><CodeLine lineNumber="4320"></CodeLine>
<Link id="l04321" /><CodeLine lineNumber="4321"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/#a81c0916829c13ba5279ca0e5480aef0c">gep&#95;type&#95;iterator</a> GTI = <a href="/docs/api/namespaces/llvm/#ac828b9b52935f87659a4adf237f820a3">gep&#95;type&#95;begin</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>), <a href="/docs/api/files/lib/lib/ir/builtingcs-cpp/#abb2b3a60ccc38a28239e19a1646e0c8a">E</a> = <a href="/docs/api/namespaces/llvm/#a43c6ebb4fd35ebd815d66a2df4eed0b9">gep&#95;type&#95;end</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</span></CodeLine>
<Link id="l04322" /><CodeLine lineNumber="4322"><span class="doxyHighlight">       GTI != <a href="/docs/api/files/lib/lib/ir/builtingcs-cpp/#abb2b3a60ccc38a28239e19a1646e0c8a">E</a>; ++GTI) &#123;</span></CodeLine>
<Link id="l04323" /><CodeLine lineNumber="4323"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;Idx = GTI.getOperand();</span></CodeLine>
<Link id="l04324" /><CodeLine lineNumber="4324"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (StructType &#42;StTy = GTI.getStructTypeOrNull()) &#123;</span></CodeLine>
<Link id="l04325" /><CodeLine lineNumber="4325"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> <a href="/docs/api/files/lib/lib/support/optimizedstructlayout-cpp/#a5208f2b0568d811c542f8d8097dbc035">Field</a> = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;Constant&gt;</a>(Idx)-&gt;getUniqueInteger().getZExtValue();</span></CodeLine>
<Link id="l04326" /><CodeLine lineNumber="4326"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/support/optimizedstructlayout-cpp/#a5208f2b0568d811c542f8d8097dbc035">Field</a>) &#123;</span></CodeLine>
<Link id="l04327" /><CodeLine lineNumber="4327"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// N = N + Offset</span></CodeLine>
<Link id="l04328" /><CodeLine lineNumber="4328"><span class="doxyHighlight">        uint64&#95;t <a href="/docs/api/namespaces/llvm/#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> =</span></CodeLine>
<Link id="l04329" /><CodeLine lineNumber="4329"><span class="doxyHighlight">            <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout().getStructLayout(StTy)-&gt;getElementOffset(<a href="/docs/api/files/lib/lib/support/optimizedstructlayout-cpp/#a5208f2b0568d811c542f8d8097dbc035">Field</a>);</span></CodeLine>
<Link id="l04330" /><CodeLine lineNumber="4330"></CodeLine>
<Link id="l04331" /><CodeLine lineNumber="4331"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// In an inbounds GEP with an offset that is nonnegative even when</span></CodeLine>
<Link id="l04332" /><CodeLine lineNumber="4332"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// interpreted as signed, assume there is no unsigned overflow.</span></CodeLine>
<Link id="l04333" /><CodeLine lineNumber="4333"><span class="doxyHighlight">        SDNodeFlags <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>;</span></CodeLine>
<Link id="l04334" /><CodeLine lineNumber="4334"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (NW.<a href="/docs/api/classes/llvm/gepnowrapflags/#a9f5326edaaa9f5ad4e786d473b7c000a">hasNoUnsignedWrap</a>() ||</span></CodeLine>
<Link id="l04335" /><CodeLine lineNumber="4335"><span class="doxyHighlight">            (int64&#95;t(<a href="/docs/api/namespaces/llvm/#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>) &gt;= 0 &amp;&amp; NW.<a href="/docs/api/classes/llvm/gepnowrapflags/#a992b9efb797f896ae2cc7f1d043eb68f">hasNoUnsignedSignedWrap</a>()))</span></CodeLine>
<Link id="l04336" /><CodeLine lineNumber="4336"><span class="doxyHighlight">          <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a> |= <a href="/docs/api/structs/llvm/sdnodeflags/#a19128eb1e6729dd3cf2afce783620adaac54b29c7131ff0e1b276b346d4b640d2">SDNodeFlags::NoUnsignedWrap</a>;</span></CodeLine>
<Link id="l04337" /><CodeLine lineNumber="4337"></CodeLine>
<Link id="l04338" /><CodeLine lineNumber="4338"><span class="doxyHighlight">        <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>.getValueType(), <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>,</span></CodeLine>
<Link id="l04339" /><CodeLine lineNumber="4339"><span class="doxyHighlight">                        <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getConstant(<a href="/docs/api/namespaces/llvm/#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, dl, <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>.getValueType()), Flags);</span></CodeLine>
<Link id="l04340" /><CodeLine lineNumber="4340"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l04341" /><CodeLine lineNumber="4341"><span class="doxyHighlight">    &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l04342" /><CodeLine lineNumber="4342"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// IdxSize is the width of the arithmetic according to IR semantics.</span></CodeLine>
<Link id="l04343" /><CodeLine lineNumber="4343"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// In SelectionDAG, we may prefer to do arithmetic in a wider bitwidth</span></CodeLine>
<Link id="l04344" /><CodeLine lineNumber="4344"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// (and fix up the result later).</span></CodeLine>
<Link id="l04345" /><CodeLine lineNumber="4345"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> IdxSize = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout().getIndexSizeInBits(AS);</span></CodeLine>
<Link id="l04346" /><CodeLine lineNumber="4346"><span class="doxyHighlight">      MVT IdxTy = <a href="/docs/api/classes/llvm/mvt/#aded931e298cfa08b5038ca2b63c06bb8">MVT::getIntegerVT</a>(IdxSize);</span></CodeLine>
<Link id="l04347" /><CodeLine lineNumber="4347"><span class="doxyHighlight">      TypeSize ElementSize =</span></CodeLine>
<Link id="l04348" /><CodeLine lineNumber="4348"><span class="doxyHighlight">          GTI.getSequentialElementStride(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout());</span></CodeLine>
<Link id="l04349" /><CodeLine lineNumber="4349"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// We intentionally mask away the high bits here; ElementSize may not</span></CodeLine>
<Link id="l04350" /><CodeLine lineNumber="4350"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// fit in IdxTy.</span></CodeLine>
<Link id="l04351" /><CodeLine lineNumber="4351"><span class="doxyHighlight">      APInt ElementMul(IdxSize, ElementSize.<a href="/docs/api/classes/llvm/details/fixedorscalablequantity/#ac4ab9dd9440c55bee1aa4a1195cee759">getKnownMinValue</a>(),</span></CodeLine>
<Link id="l04352" /><CodeLine lineNumber="4352"><span class="doxyHighlight">                       </span><span class="doxyHighlightComment">/&#42;isSigned=&#42;/</span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">, </span><span class="doxyHighlightComment">/&#42;implicitTrunc=&#42;/</span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l04353" /><CodeLine lineNumber="4353"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> ElementScalable = ElementSize.<a href="/docs/api/classes/llvm/details/fixedorscalablequantity/#a9188f84e1dd67530330dcab9cae787d7">isScalable</a>();</span></CodeLine>
<Link id="l04354" /><CodeLine lineNumber="4354"></CodeLine>
<Link id="l04355" /><CodeLine lineNumber="4355"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// If this is a scalar constant or a splat vector of constants,</span></CodeLine>
<Link id="l04356" /><CodeLine lineNumber="4356"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// handle it quickly.</span></CodeLine>
<Link id="l04357" /><CodeLine lineNumber="4357"><span class="doxyHighlight">      </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;<a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a> = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;Constant&gt;</a>(Idx);</span></CodeLine>
<Link id="l04358" /><CodeLine lineNumber="4358"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a> &amp;&amp; <a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;VectorType&gt;</a>(<a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a>-&gt;getType()))</span></CodeLine>
<Link id="l04359" /><CodeLine lineNumber="4359"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a> = <a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a>-&gt;getSplatValue();</span></CodeLine>
<Link id="l04360" /><CodeLine lineNumber="4360"></CodeLine>
<Link id="l04361" /><CodeLine lineNumber="4361"><span class="doxyHighlight">      </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;CI = <a href="/docs/api/namespaces/llvm/#a5f6182886dc2f96c204299e92c1565d5">dyn&#95;cast&#95;or&#95;null&lt;ConstantInt&gt;</a>(<a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a>);</span></CodeLine>
<Link id="l04362" /><CodeLine lineNumber="4362"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (CI &amp;&amp; CI-&gt;isZero())</span></CodeLine>
<Link id="l04363" /><CodeLine lineNumber="4363"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">continue</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l04364" /><CodeLine lineNumber="4364"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (CI &amp;&amp; !ElementScalable) &#123;</span></CodeLine>
<Link id="l04365" /><CodeLine lineNumber="4365"><span class="doxyHighlight">        APInt Offs = ElementMul &#42; CI-&gt;getValue().sextOrTrunc(IdxSize);</span></CodeLine>
<Link id="l04366" /><CodeLine lineNumber="4366"><span class="doxyHighlight">        LLVMContext &amp;<a href="/docs/api/classes/llvm/selectiondagbuilder/#ac536e4b59b1e85317cea0b32d47752ef">Context</a> = &#42;<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getContext();</span></CodeLine>
<Link id="l04367" /><CodeLine lineNumber="4367"><span class="doxyHighlight">        <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> OffsVal;</span></CodeLine>
<Link id="l04368" /><CodeLine lineNumber="4368"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (IsVectorGEP)</span></CodeLine>
<Link id="l04369" /><CodeLine lineNumber="4369"><span class="doxyHighlight">          OffsVal = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getConstant(</span></CodeLine>
<Link id="l04370" /><CodeLine lineNumber="4370"><span class="doxyHighlight">              Offs, dl, <a href="/docs/api/structs/llvm/evt/#a210ba6b43ba451b698857dd9de71bd15">EVT::getVectorVT</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ac536e4b59b1e85317cea0b32d47752ef">Context</a>, IdxTy, VectorElementCount));</span></CodeLine>
<Link id="l04371" /><CodeLine lineNumber="4371"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">else</span></CodeLine>
<Link id="l04372" /><CodeLine lineNumber="4372"><span class="doxyHighlight">          OffsVal = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getConstant(Offs, dl, IdxTy);</span></CodeLine>
<Link id="l04373" /><CodeLine lineNumber="4373"></CodeLine>
<Link id="l04374" /><CodeLine lineNumber="4374"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// In an inbounds GEP with an offset that is nonnegative even when</span></CodeLine>
<Link id="l04375" /><CodeLine lineNumber="4375"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// interpreted as signed, assume there is no unsigned overflow.</span></CodeLine>
<Link id="l04376" /><CodeLine lineNumber="4376"><span class="doxyHighlight">        SDNodeFlags <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>;</span></CodeLine>
<Link id="l04377" /><CodeLine lineNumber="4377"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (NW.<a href="/docs/api/classes/llvm/gepnowrapflags/#a9f5326edaaa9f5ad4e786d473b7c000a">hasNoUnsignedWrap</a>() ||</span></CodeLine>
<Link id="l04378" /><CodeLine lineNumber="4378"><span class="doxyHighlight">            (Offs.<a href="/docs/api/classes/llvm/apint/#ac8c0157adbe12649beac0009c2f6ad8d">isNonNegative</a>() &amp;&amp; NW.<a href="/docs/api/classes/llvm/gepnowrapflags/#a992b9efb797f896ae2cc7f1d043eb68f">hasNoUnsignedSignedWrap</a>()))</span></CodeLine>
<Link id="l04379" /><CodeLine lineNumber="4379"><span class="doxyHighlight">          <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setNoUnsignedWrap(</span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l04380" /><CodeLine lineNumber="4380"></CodeLine>
<Link id="l04381" /><CodeLine lineNumber="4381"><span class="doxyHighlight">        OffsVal = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSExtOrTrunc(OffsVal, dl, <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>.getValueType());</span></CodeLine>
<Link id="l04382" /><CodeLine lineNumber="4382"></CodeLine>
<Link id="l04383" /><CodeLine lineNumber="4383"><span class="doxyHighlight">        <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>.getValueType(), <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>, OffsVal, Flags);</span></CodeLine>
<Link id="l04384" /><CodeLine lineNumber="4384"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">continue</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l04385" /><CodeLine lineNumber="4385"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l04386" /><CodeLine lineNumber="4386"></CodeLine>
<Link id="l04387" /><CodeLine lineNumber="4387"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// N = N + Idx &#42; ElementMul;</span></CodeLine>
<Link id="l04388" /><CodeLine lineNumber="4388"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> IdxN = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(Idx);</span></CodeLine>
<Link id="l04389" /><CodeLine lineNumber="4389"></CodeLine>
<Link id="l04390" /><CodeLine lineNumber="4390"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!IdxN.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>().<a href="/docs/api/structs/llvm/evt/#aa54976197fff266f4143beb44fc9764c">isVector</a>() &amp;&amp; IsVectorGEP) &#123;</span></CodeLine>
<Link id="l04391" /><CodeLine lineNumber="4391"><span class="doxyHighlight">        EVT VT = <a href="/docs/api/structs/llvm/evt/#a210ba6b43ba451b698857dd9de71bd15">EVT::getVectorVT</a>(&#42;<a href="/docs/api/classes/llvm/selectiondagbuilder/#ac536e4b59b1e85317cea0b32d47752ef">Context</a>, IdxN.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>(),</span></CodeLine>
<Link id="l04392" /><CodeLine lineNumber="4392"><span class="doxyHighlight">                                  VectorElementCount);</span></CodeLine>
<Link id="l04393" /><CodeLine lineNumber="4393"><span class="doxyHighlight">        IdxN = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSplat(VT, dl, IdxN);</span></CodeLine>
<Link id="l04394" /><CodeLine lineNumber="4394"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l04395" /><CodeLine lineNumber="4395"></CodeLine>
<Link id="l04396" /><CodeLine lineNumber="4396"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// If the index is smaller or larger than intptr&#95;t, truncate or extend</span></CodeLine>
<Link id="l04397" /><CodeLine lineNumber="4397"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// it.</span></CodeLine>
<Link id="l04398" /><CodeLine lineNumber="4398"><span class="doxyHighlight">      IdxN = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSExtOrTrunc(IdxN, dl, <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>.getValueType());</span></CodeLine>
<Link id="l04399" /><CodeLine lineNumber="4399"></CodeLine>
<Link id="l04400" /><CodeLine lineNumber="4400"><span class="doxyHighlight">      SDNodeFlags ScaleFlags;</span></CodeLine>
<Link id="l04401" /><CodeLine lineNumber="4401"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// The multiplication of an index by the type size does not wrap the</span></CodeLine>
<Link id="l04402" /><CodeLine lineNumber="4402"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// pointer index type in a signed sense (mul nsw).</span></CodeLine>
<Link id="l04403" /><CodeLine lineNumber="4403"><span class="doxyHighlight">      ScaleFlags.<a href="/docs/api/structs/llvm/sdnodeflags/#afb0754381156e27286215d2f4dc3582a">setNoSignedWrap</a>(NW.<a href="/docs/api/classes/llvm/gepnowrapflags/#a992b9efb797f896ae2cc7f1d043eb68f">hasNoUnsignedSignedWrap</a>());</span></CodeLine>
<Link id="l04404" /><CodeLine lineNumber="4404"></CodeLine>
<Link id="l04405" /><CodeLine lineNumber="4405"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// The multiplication of an index by the type size does not wrap the</span></CodeLine>
<Link id="l04406" /><CodeLine lineNumber="4406"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// pointer index type in an unsigned sense (mul nuw).</span></CodeLine>
<Link id="l04407" /><CodeLine lineNumber="4407"><span class="doxyHighlight">      ScaleFlags.<a href="/docs/api/structs/llvm/sdnodeflags/#afa28559a8f663cbba63629e0773a3bbd">setNoUnsignedWrap</a>(NW.<a href="/docs/api/classes/llvm/gepnowrapflags/#a9f5326edaaa9f5ad4e786d473b7c000a">hasNoUnsignedWrap</a>());</span></CodeLine>
<Link id="l04408" /><CodeLine lineNumber="4408"></CodeLine>
<Link id="l04409" /><CodeLine lineNumber="4409"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (ElementScalable) &#123;</span></CodeLine>
<Link id="l04410" /><CodeLine lineNumber="4410"><span class="doxyHighlight">        EVT VScaleTy = <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>.getValueType().getScalarType();</span></CodeLine>
<Link id="l04411" /><CodeLine lineNumber="4411"><span class="doxyHighlight">        <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> VScale = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(</span></CodeLine>
<Link id="l04412" /><CodeLine lineNumber="4412"><span class="doxyHighlight">            ISD::VSCALE, dl, VScaleTy,</span></CodeLine>
<Link id="l04413" /><CodeLine lineNumber="4413"><span class="doxyHighlight">            <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getConstant(ElementMul.getZExtValue(), dl, VScaleTy));</span></CodeLine>
<Link id="l04414" /><CodeLine lineNumber="4414"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (IsVectorGEP)</span></CodeLine>
<Link id="l04415" /><CodeLine lineNumber="4415"><span class="doxyHighlight">          VScale = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSplatVector(<a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>.getValueType(), dl, VScale);</span></CodeLine>
<Link id="l04416" /><CodeLine lineNumber="4416"><span class="doxyHighlight">        IdxN = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">ISD::MUL</a>, dl, <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>.getValueType(), IdxN, VScale,</span></CodeLine>
<Link id="l04417" /><CodeLine lineNumber="4417"><span class="doxyHighlight">                           ScaleFlags);</span></CodeLine>
<Link id="l04418" /><CodeLine lineNumber="4418"><span class="doxyHighlight">      &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l04419" /><CodeLine lineNumber="4419"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// If this is a multiply by a power of two, turn it into a shl</span></CodeLine>
<Link id="l04420" /><CodeLine lineNumber="4420"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// immediately.  This is a very common case.</span></CodeLine>
<Link id="l04421" /><CodeLine lineNumber="4421"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (ElementMul != 1) &#123;</span></CodeLine>
<Link id="l04422" /><CodeLine lineNumber="4422"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (ElementMul.isPowerOf2()) &#123;</span></CodeLine>
<Link id="l04423" /><CodeLine lineNumber="4423"><span class="doxyHighlight">            </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> Amt = ElementMul.logBase2();</span></CodeLine>
<Link id="l04424" /><CodeLine lineNumber="4424"><span class="doxyHighlight">            IdxN = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>, dl, <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>.getValueType(), IdxN,</span></CodeLine>
<Link id="l04425" /><CodeLine lineNumber="4425"><span class="doxyHighlight">                               <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getConstant(Amt, dl, IdxN.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>()),</span></CodeLine>
<Link id="l04426" /><CodeLine lineNumber="4426"><span class="doxyHighlight">                               ScaleFlags);</span></CodeLine>
<Link id="l04427" /><CodeLine lineNumber="4427"><span class="doxyHighlight">          &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l04428" /><CodeLine lineNumber="4428"><span class="doxyHighlight">            <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Scale = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getConstant(ElementMul.getZExtValue(), dl,</span></CodeLine>
<Link id="l04429" /><CodeLine lineNumber="4429"><span class="doxyHighlight">                                            IdxN.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>());</span></CodeLine>
<Link id="l04430" /><CodeLine lineNumber="4430"><span class="doxyHighlight">            IdxN = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">ISD::MUL</a>, dl, <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>.getValueType(), IdxN, Scale,</span></CodeLine>
<Link id="l04431" /><CodeLine lineNumber="4431"><span class="doxyHighlight">                               ScaleFlags);</span></CodeLine>
<Link id="l04432" /><CodeLine lineNumber="4432"><span class="doxyHighlight">          &#125;</span></CodeLine>
<Link id="l04433" /><CodeLine lineNumber="4433"><span class="doxyHighlight">        &#125;</span></CodeLine>
<Link id="l04434" /><CodeLine lineNumber="4434"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l04435" /><CodeLine lineNumber="4435"></CodeLine>
<Link id="l04436" /><CodeLine lineNumber="4436"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// The successive addition of the current address, truncated to the</span></CodeLine>
<Link id="l04437" /><CodeLine lineNumber="4437"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// pointer index type and interpreted as an unsigned number, and each</span></CodeLine>
<Link id="l04438" /><CodeLine lineNumber="4438"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// offset, also interpreted as an unsigned number, does not wrap the</span></CodeLine>
<Link id="l04439" /><CodeLine lineNumber="4439"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// pointer index type (add nuw).</span></CodeLine>
<Link id="l04440" /><CodeLine lineNumber="4440"><span class="doxyHighlight">      SDNodeFlags AddFlags;</span></CodeLine>
<Link id="l04441" /><CodeLine lineNumber="4441"><span class="doxyHighlight">      AddFlags.<a href="/docs/api/structs/llvm/sdnodeflags/#afa28559a8f663cbba63629e0773a3bbd">setNoUnsignedWrap</a>(NW.<a href="/docs/api/classes/llvm/gepnowrapflags/#a9f5326edaaa9f5ad4e786d473b7c000a">hasNoUnsignedWrap</a>());</span></CodeLine>
<Link id="l04442" /><CodeLine lineNumber="4442"></CodeLine>
<Link id="l04443" /><CodeLine lineNumber="4443"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>.getValueType(), <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>, IdxN, AddFlags);</span></CodeLine>
<Link id="l04444" /><CodeLine lineNumber="4444"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l04445" /><CodeLine lineNumber="4445"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l04446" /><CodeLine lineNumber="4446"></CodeLine>
<Link id="l04447" /><CodeLine lineNumber="4447"><span class="doxyHighlight">  MVT PtrTy = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), AS);</span></CodeLine>
<Link id="l04448" /><CodeLine lineNumber="4448"><span class="doxyHighlight">  MVT PtrMemTy = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#af0eff80945c732f4d52c764744d69f1a">getPointerMemTy</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), AS);</span></CodeLine>
<Link id="l04449" /><CodeLine lineNumber="4449"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (IsVectorGEP) &#123;</span></CodeLine>
<Link id="l04450" /><CodeLine lineNumber="4450"><span class="doxyHighlight">    PtrTy = <a href="/docs/api/classes/llvm/mvt/#abf8d0055af4879a302268d3f834b2be5">MVT::getVectorVT</a>(PtrTy, VectorElementCount);</span></CodeLine>
<Link id="l04451" /><CodeLine lineNumber="4451"><span class="doxyHighlight">    PtrMemTy = <a href="/docs/api/classes/llvm/mvt/#abf8d0055af4879a302268d3f834b2be5">MVT::getVectorVT</a>(PtrMemTy, VectorElementCount);</span></CodeLine>
<Link id="l04452" /><CodeLine lineNumber="4452"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l04453" /><CodeLine lineNumber="4453"></CodeLine>
<Link id="l04454" /><CodeLine lineNumber="4454"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (PtrMemTy != PtrTy &amp;&amp; !<a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;GEPOperator&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>).isInBounds())</span></CodeLine>
<Link id="l04455" /><CodeLine lineNumber="4455"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getPtrExtendInReg(<a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>, dl, PtrMemTy);</span></CodeLine>
<Link id="l04456" /><CodeLine lineNumber="4456"></CodeLine>
<Link id="l04457" /><CodeLine lineNumber="4457"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>);</span></CodeLine>
<Link id="l04458" /><CodeLine lineNumber="4458"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l04459" /><CodeLine lineNumber="4459"></CodeLine>
<Link id="l04460" /><CodeLine lineNumber="4460"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitAlloca(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/allocainst">AllocaInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l04461" /><CodeLine lineNumber="4461"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// If this is a fixed sized alloca in the entry block of the function,</span></CodeLine>
<Link id="l04462" /><CodeLine lineNumber="4462"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// allocate it statically on the stack.</span></CodeLine>
<Link id="l04463" /><CodeLine lineNumber="4463"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.StaticAllocaMap.count(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</span></CodeLine>
<Link id="l04464" /><CodeLine lineNumber="4464"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;   </span><span class="doxyHighlightComment">// getValue will auto-populate this.</span></CodeLine>
<Link id="l04465" /><CodeLine lineNumber="4465"></CodeLine>
<Link id="l04466" /><CodeLine lineNumber="4466"><span class="doxyHighlight">  SDLoc dl = <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>();</span></CodeLine>
<Link id="l04467" /><CodeLine lineNumber="4467"><span class="doxyHighlight">  <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a88ee8e4eea43084bd8964682683da88caa1fa27779242b4902f7ae3bdd5c6d508">Type</a> &#42;Ty = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getAllocatedType();</span></CodeLine>
<Link id="l04468" /><CodeLine lineNumber="4468"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> TargetLowering &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l04469" /><CodeLine lineNumber="4469"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout();</span></CodeLine>
<Link id="l04470" /><CodeLine lineNumber="4470"><span class="doxyHighlight">  TypeSize TySize = <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getTypeAllocSize(Ty);</span></CodeLine>
<Link id="l04471" /><CodeLine lineNumber="4471"><span class="doxyHighlight">  MaybeAlign Alignment = std::max(<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getPrefTypeAlign(Ty), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getAlign());</span></CodeLine>
<Link id="l04472" /><CodeLine lineNumber="4472"></CodeLine>
<Link id="l04473" /><CodeLine lineNumber="4473"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> AllocSize = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArraySize());</span></CodeLine>
<Link id="l04474" /><CodeLine lineNumber="4474"></CodeLine>
<Link id="l04475" /><CodeLine lineNumber="4475"><span class="doxyHighlight">  EVT IntPtr = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getAddressSpace());</span></CodeLine>
<Link id="l04476" /><CodeLine lineNumber="4476"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (AllocSize.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>() != IntPtr)</span></CodeLine>
<Link id="l04477" /><CodeLine lineNumber="4477"><span class="doxyHighlight">    AllocSize = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getZExtOrTrunc(AllocSize, dl, IntPtr);</span></CodeLine>
<Link id="l04478" /><CodeLine lineNumber="4478"></CodeLine>
<Link id="l04479" /><CodeLine lineNumber="4479"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (TySize.<a href="/docs/api/classes/llvm/details/fixedorscalablequantity/#a9188f84e1dd67530330dcab9cae787d7">isScalable</a>())</span></CodeLine>
<Link id="l04480" /><CodeLine lineNumber="4480"><span class="doxyHighlight">    AllocSize = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">ISD::MUL</a>, dl, IntPtr, AllocSize,</span></CodeLine>
<Link id="l04481" /><CodeLine lineNumber="4481"><span class="doxyHighlight">                            <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVScale(dl, IntPtr,</span></CodeLine>
<Link id="l04482" /><CodeLine lineNumber="4482"><span class="doxyHighlight">                                          APInt(IntPtr.<a href="/docs/api/structs/llvm/evt/#a547a88964f1673c84410baa7a2a83f4d">getScalarSizeInBits</a>(),</span></CodeLine>
<Link id="l04483" /><CodeLine lineNumber="4483"><span class="doxyHighlight">                                                TySize.<a href="/docs/api/classes/llvm/details/fixedorscalablequantity/#ac4ab9dd9440c55bee1aa4a1195cee759">getKnownMinValue</a>())));</span></CodeLine>
<Link id="l04484" /><CodeLine lineNumber="4484"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l04485" /><CodeLine lineNumber="4485"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> TySizeValue =</span></CodeLine>
<Link id="l04486" /><CodeLine lineNumber="4486"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getConstant(TySize.<a href="/docs/api/classes/llvm/details/fixedorscalablequantity/#a33880aaca0ad05e5f1557f079305bde5">getFixedValue</a>(), dl, <a href="/docs/api/classes/llvm/mvt/#aded931e298cfa08b5038ca2b63c06bb8">MVT::getIntegerVT</a>(64));</span></CodeLine>
<Link id="l04487" /><CodeLine lineNumber="4487"><span class="doxyHighlight">    AllocSize = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">ISD::MUL</a>, dl, IntPtr, AllocSize,</span></CodeLine>
<Link id="l04488" /><CodeLine lineNumber="4488"><span class="doxyHighlight">                            <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getZExtOrTrunc(TySizeValue, dl, IntPtr));</span></CodeLine>
<Link id="l04489" /><CodeLine lineNumber="4489"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l04490" /><CodeLine lineNumber="4490"></CodeLine>
<Link id="l04491" /><CodeLine lineNumber="4491"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Handle alignment.  If the requested alignment is less than or equal to</span></CodeLine>
<Link id="l04492" /><CodeLine lineNumber="4492"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// the stack alignment, ignore it.  If the size is greater than or equal to</span></CodeLine>
<Link id="l04493" /><CodeLine lineNumber="4493"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// the stack alignment, we note this in the DYNAMIC&#95;STACKALLOC node.</span></CodeLine>
<Link id="l04494" /><CodeLine lineNumber="4494"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/arg/key/#a6b334a5f83504ebc99cc59f4f333ff98">Align</a> StackAlign = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSubtarget().getFrameLowering()-&gt;getStackAlign();</span></CodeLine>
<Link id="l04495" /><CodeLine lineNumber="4495"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (&#42;Alignment &lt;= StackAlign)</span></CodeLine>
<Link id="l04496" /><CodeLine lineNumber="4496"><span class="doxyHighlight">    Alignment = std::nullopt;</span></CodeLine>
<Link id="l04497" /><CodeLine lineNumber="4497"></CodeLine>
<Link id="l04498" /><CodeLine lineNumber="4498"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> uint64&#95;t StackAlignMask = StackAlign.<a href="/docs/api/structs/llvm/align/#a80735739b49cf97a491922c8f9af2cc1">value</a>() - 1U;</span></CodeLine>
<Link id="l04499" /><CodeLine lineNumber="4499"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Round the size of the allocation up to the stack alignment size</span></CodeLine>
<Link id="l04500" /><CodeLine lineNumber="4500"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// by add SA-1 to the size. This doesn&#39;t overflow because we&#39;re computing</span></CodeLine>
<Link id="l04501" /><CodeLine lineNumber="4501"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// an address inside an alloca.</span></CodeLine>
<Link id="l04502" /><CodeLine lineNumber="4502"><span class="doxyHighlight">  AllocSize = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, AllocSize.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>(), AllocSize,</span></CodeLine>
<Link id="l04503" /><CodeLine lineNumber="4503"><span class="doxyHighlight">                          <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getConstant(StackAlignMask, dl, IntPtr),</span></CodeLine>
<Link id="l04504" /><CodeLine lineNumber="4504"><span class="doxyHighlight">                          <a href="/docs/api/structs/llvm/sdnodeflags/#a19128eb1e6729dd3cf2afce783620adaac54b29c7131ff0e1b276b346d4b640d2">SDNodeFlags::NoUnsignedWrap</a>);</span></CodeLine>
<Link id="l04505" /><CodeLine lineNumber="4505"></CodeLine>
<Link id="l04506" /><CodeLine lineNumber="4506"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Mask out the low bits for alignment purposes.</span></CodeLine>
<Link id="l04507" /><CodeLine lineNumber="4507"><span class="doxyHighlight">  AllocSize = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, AllocSize.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>(), AllocSize,</span></CodeLine>
<Link id="l04508" /><CodeLine lineNumber="4508"><span class="doxyHighlight">                          <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSignedConstant(~StackAlignMask, dl, IntPtr));</span></CodeLine>
<Link id="l04509" /><CodeLine lineNumber="4509"></CodeLine>
<Link id="l04510" /><CodeLine lineNumber="4510"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>&#91;&#93; = &#123;</span></CodeLine>
<Link id="l04511" /><CodeLine lineNumber="4511"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>(), AllocSize,</span></CodeLine>
<Link id="l04512" /><CodeLine lineNumber="4512"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getConstant(Alignment ? Alignment-&gt;value() : 0, dl, IntPtr)&#125;;</span></CodeLine>
<Link id="l04513" /><CodeLine lineNumber="4513"><span class="doxyHighlight">  SDVTList VTs = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVTList(AllocSize.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>(), MVT::Other);</span></CodeLine>
<Link id="l04514" /><CodeLine lineNumber="4514"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> DSA = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::DYNAMIC&#95;STACKALLOC, dl, VTs, <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>);</span></CodeLine>
<Link id="l04515" /><CodeLine lineNumber="4515"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, DSA);</span></CodeLine>
<Link id="l04516" /><CodeLine lineNumber="4516"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(DSA.<a href="/docs/api/classes/llvm/sdvalue/#a64932427432abeb61241e98bea167580">getValue</a>(1));</span></CodeLine>
<Link id="l04517" /><CodeLine lineNumber="4517"></CodeLine>
<Link id="l04518" /><CodeLine lineNumber="4518"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.MF-&gt;getFrameInfo().hasVarSizedObjects());</span></CodeLine>
<Link id="l04519" /><CodeLine lineNumber="4519"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l04520" /><CodeLine lineNumber="4520"></CodeLine>
<Link id="l04521" /><CodeLine lineNumber="4521" lineLink="#ae1b80d5114dd1a73aacd01971f29d5ee"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/mdnode">MDNode</a> &#42;<a href="#ae1b80d5114dd1a73aacd01971f29d5ee">getRangeMetadata</a>(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/instruction">Instruction</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l04522" /><CodeLine lineNumber="4522"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// If !noundef is not present, then !range violation results in a poison</span></CodeLine>
<Link id="l04523" /><CodeLine lineNumber="4523"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// value rather than immediate undefined behavior. In theory, transferring</span></CodeLine>
<Link id="l04524" /><CodeLine lineNumber="4524"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// these annotations to SDAG is fine, but in practice there are key SDAG</span></CodeLine>
<Link id="l04525" /><CodeLine lineNumber="4525"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// transforms that are known not to be poison-safe, such as folding logical</span></CodeLine>
<Link id="l04526" /><CodeLine lineNumber="4526"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// and/or to bitwise and/or. For now, only transfer !range if !noundef is</span></CodeLine>
<Link id="l04527" /><CodeLine lineNumber="4527"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// also present.</span></CodeLine>
<Link id="l04528" /><CodeLine lineNumber="4528"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.hasMetadata(LLVMContext::MD&#95;noundef))</span></CodeLine>
<Link id="l04529" /><CodeLine lineNumber="4529"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l04530" /><CodeLine lineNumber="4530"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getMetadata(LLVMContext::MD&#95;range);</span></CodeLine>
<Link id="l04531" /><CodeLine lineNumber="4531"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l04532" /><CodeLine lineNumber="4532"></CodeLine>
<Link id="l04533" /><CodeLine lineNumber="4533" lineLink="#adf84d8fd2fcc4b918cb861c9836122c6"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> std::optional&lt;ConstantRange&gt; <a href="/docs/api/files/lib/lib/analysis/instructionsimplify-cpp/#a407852423447c9c318189650976659fb">getRange</a>(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/instruction">Instruction</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l04534" /><CodeLine lineNumber="4534"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;CB = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;CallBase&gt;</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) &#123;</span></CodeLine>
<Link id="l04535" /><CodeLine lineNumber="4535"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// see comment in getRangeMetadata about this check</span></CodeLine>
<Link id="l04536" /><CodeLine lineNumber="4536"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (CB-&gt;hasRetAttr(Attribute::NoUndef))</span></CodeLine>
<Link id="l04537" /><CodeLine lineNumber="4537"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> CB-&gt;getRange();</span></CodeLine>
<Link id="l04538" /><CodeLine lineNumber="4538"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l04539" /><CodeLine lineNumber="4539"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/mdnode">MDNode</a> &#42;<a href="/docs/api/files/lib/lib/target/lib/target/nvptx/nvvmintrrange-cpp/#a34bd74317e3f04bfc4318c2d1a470877">Range</a> = <a href="#ae1b80d5114dd1a73aacd01971f29d5ee">getRangeMetadata</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</span></CodeLine>
<Link id="l04540" /><CodeLine lineNumber="4540"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/#a5193c3535375c450b9430e5671cbeb2d">getConstantRangeFromMetadata</a>(&#42;<a href="/docs/api/files/lib/lib/target/lib/target/nvptx/nvvmintrrange-cpp/#a34bd74317e3f04bfc4318c2d1a470877">Range</a>);</span></CodeLine>
<Link id="l04541" /><CodeLine lineNumber="4541"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> std::nullopt;</span></CodeLine>
<Link id="l04542" /><CodeLine lineNumber="4542"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l04543" /><CodeLine lineNumber="4543"></CodeLine>
<Link id="l04544" /><CodeLine lineNumber="4544"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitLoad(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loadinst">LoadInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l04545" /><CodeLine lineNumber="4545"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.isAtomic())</span></CodeLine>
<Link id="l04546" /><CodeLine lineNumber="4546"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> visitAtomicLoad(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</span></CodeLine>
<Link id="l04547" /><CodeLine lineNumber="4547"></CodeLine>
<Link id="l04548" /><CodeLine lineNumber="4548"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> TargetLowering &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l04549" /><CodeLine lineNumber="4549"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;SV = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0);</span></CodeLine>
<Link id="l04550" /><CodeLine lineNumber="4550"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (TLI.<a href="/docs/api/classes/llvm/targetlowering/#a17694ad399c24aae0d2c0ecfbecfea5a">supportSwiftError</a>()) &#123;</span></CodeLine>
<Link id="l04551" /><CodeLine lineNumber="4551"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Swifterror values can come from either a function parameter with</span></CodeLine>
<Link id="l04552" /><CodeLine lineNumber="4552"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// swifterror attribute or an alloca with swifterror attribute.</span></CodeLine>
<Link id="l04553" /><CodeLine lineNumber="4553"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Argument &#42;Arg = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;Argument&gt;</a>(SV)) &#123;</span></CodeLine>
<Link id="l04554" /><CodeLine lineNumber="4554"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Arg-&gt;hasSwiftErrorAttr())</span></CodeLine>
<Link id="l04555" /><CodeLine lineNumber="4555"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> visitLoadFromSwiftError(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</span></CodeLine>
<Link id="l04556" /><CodeLine lineNumber="4556"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l04557" /><CodeLine lineNumber="4557"></CodeLine>
<Link id="l04558" /><CodeLine lineNumber="4558"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> AllocaInst &#42;Alloca = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;AllocaInst&gt;</a>(SV)) &#123;</span></CodeLine>
<Link id="l04559" /><CodeLine lineNumber="4559"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Alloca-&gt;isSwiftError())</span></CodeLine>
<Link id="l04560" /><CodeLine lineNumber="4560"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> visitLoadFromSwiftError(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</span></CodeLine>
<Link id="l04561" /><CodeLine lineNumber="4561"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l04562" /><CodeLine lineNumber="4562"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l04563" /><CodeLine lineNumber="4563"></CodeLine>
<Link id="l04564" /><CodeLine lineNumber="4564"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(SV);</span></CodeLine>
<Link id="l04565" /><CodeLine lineNumber="4565"></CodeLine>
<Link id="l04566" /><CodeLine lineNumber="4566"><span class="doxyHighlight">  <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a88ee8e4eea43084bd8964682683da88caa1fa27779242b4902f7ae3bdd5c6d508">Type</a> &#42;Ty = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType();</span></CodeLine>
<Link id="l04567" /><CodeLine lineNumber="4567"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;EVT, 4&gt;</a> ValueVTs, MemVTs;</span></CodeLine>
<Link id="l04568" /><CodeLine lineNumber="4568"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;TypeSize, 4&gt;</a> <a href="/docs/api/namespaces/llvm/si/kernelinputoffsets/#a58b4eae4b0a45d478c7c0f3959b04612">Offsets</a>;</span></CodeLine>
<Link id="l04569" /><CodeLine lineNumber="4569"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#ab99618b3d8988b758a67f5a1a6071095">ComputeValueVTs</a>(TLI, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), Ty, ValueVTs, &amp;MemVTs, &amp;Offsets);</span></CodeLine>
<Link id="l04570" /><CodeLine lineNumber="4570"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumValues = ValueVTs.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#a1c479a8c434377c2b8cb056bdfdfc201">size</a>();</span></CodeLine>
<Link id="l04571" /><CodeLine lineNumber="4571"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (NumValues == 0)</span></CodeLine>
<Link id="l04572" /><CodeLine lineNumber="4572"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l04573" /><CodeLine lineNumber="4573"></CodeLine>
<Link id="l04574" /><CodeLine lineNumber="4574"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/arg/key/#a6b334a5f83504ebc99cc59f4f333ff98">Align</a> Alignment = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getAlign();</span></CodeLine>
<Link id="l04575" /><CodeLine lineNumber="4575"><span class="doxyHighlight">  AAMDNodes AAInfo = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getAAMetadata();</span></CodeLine>
<Link id="l04576" /><CodeLine lineNumber="4576"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> MDNode &#42;<a href="/docs/api/namespaces/llvm/logicalview/#a8d4dd8d1ec9d9328d03bb2b99aa74744a92711ef5b0215a076fef4a3abbfc2258">Ranges</a> = <a href="#ae1b80d5114dd1a73aacd01971f29d5ee">getRangeMetadata</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</span></CodeLine>
<Link id="l04577" /><CodeLine lineNumber="4577"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> isVolatile = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.isVolatile();</span></CodeLine>
<Link id="l04578" /><CodeLine lineNumber="4578"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/machinememoperand/#aaa2020e47e35179234b9ea27d555b2dd">MachineMemOperand::Flags</a> MMOFlags =</span></CodeLine>
<Link id="l04579" /><CodeLine lineNumber="4579"><span class="doxyHighlight">      TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a76e90df9d2b35d9174077de99d909165">getLoadMemOperandFlags</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/classes/llvm/selectiondagbuilder/#acb6015cccbf35f2e27ca3367cda3cdec">AC</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ae283c81e2135fac41f1896dd39c4cc40">LibInfo</a>);</span></CodeLine>
<Link id="l04580" /><CodeLine lineNumber="4580"></CodeLine>
<Link id="l04581" /><CodeLine lineNumber="4581"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Root;</span></CodeLine>
<Link id="l04582" /><CodeLine lineNumber="4582"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> ConstantMemory = </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l04583" /><CodeLine lineNumber="4583"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (isVolatile)</span></CodeLine>
<Link id="l04584" /><CodeLine lineNumber="4584"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Serialize volatile loads with other side effects.</span></CodeLine>
<Link id="l04585" /><CodeLine lineNumber="4585"><span class="doxyHighlight">    Root = <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>();</span></CodeLine>
<Link id="l04586" /><CodeLine lineNumber="4586"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (NumValues &gt; <a href="#a227e50a8e0a5a0bac4f3409a83727e6e">MaxParallelChains</a>)</span></CodeLine>
<Link id="l04587" /><CodeLine lineNumber="4587"><span class="doxyHighlight">    Root = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ab41a8476a0c74bcf1a2bf665eeececd8">getMemoryRoot</a>();</span></CodeLine>
<Link id="l04588" /><CodeLine lineNumber="4588"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/classes/llvm/selectiondagbuilder/#a23f8a52e7e457d67b67aa86541f55c17">BatchAA</a> &amp;&amp;</span></CodeLine>
<Link id="l04589" /><CodeLine lineNumber="4589"><span class="doxyHighlight">           <a href="/docs/api/classes/llvm/selectiondagbuilder/#a23f8a52e7e457d67b67aa86541f55c17">BatchAA</a>-&gt;pointsToConstantMemory(MemoryLocation(</span></CodeLine>
<Link id="l04590" /><CodeLine lineNumber="4590"><span class="doxyHighlight">               SV,</span></CodeLine>
<Link id="l04591" /><CodeLine lineNumber="4591"><span class="doxyHighlight">               <a href="/docs/api/classes/llvm/locationsize/#a131715ceeb92fb803a329d6b76d14e0d">LocationSize::precise</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout().getTypeStoreSize(Ty)),</span></CodeLine>
<Link id="l04592" /><CodeLine lineNumber="4592"><span class="doxyHighlight">               AAInfo))) &#123;</span></CodeLine>
<Link id="l04593" /><CodeLine lineNumber="4593"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Do not serialize (non-volatile) loads of constant memory with anything.</span></CodeLine>
<Link id="l04594" /><CodeLine lineNumber="4594"><span class="doxyHighlight">    Root = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getEntryNode();</span></CodeLine>
<Link id="l04595" /><CodeLine lineNumber="4595"><span class="doxyHighlight">    ConstantMemory = </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l04596" /><CodeLine lineNumber="4596"><span class="doxyHighlight">    MMOFlags |= <a href="/docs/api/classes/llvm/machinememoperand/#aaa2020e47e35179234b9ea27d555b2ddac63dd9c4fe69bfeaac7a363fda846ac6">MachineMemOperand::MOInvariant</a>;</span></CodeLine>
<Link id="l04597" /><CodeLine lineNumber="4597"><span class="doxyHighlight">  &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l04598" /><CodeLine lineNumber="4598"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Do not serialize non-volatile loads against each other.</span></CodeLine>
<Link id="l04599" /><CodeLine lineNumber="4599"><span class="doxyHighlight">    Root = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getRoot();</span></CodeLine>
<Link id="l04600" /><CodeLine lineNumber="4600"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l04601" /><CodeLine lineNumber="4601"></CodeLine>
<Link id="l04602" /><CodeLine lineNumber="4602"><span class="doxyHighlight">  SDLoc dl = <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>();</span></CodeLine>
<Link id="l04603" /><CodeLine lineNumber="4603"></CodeLine>
<Link id="l04604" /><CodeLine lineNumber="4604"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (isVolatile)</span></CodeLine>
<Link id="l04605" /><CodeLine lineNumber="4605"><span class="doxyHighlight">    Root = TLI.<a href="/docs/api/classes/llvm/targetlowering/#a4c8ebb50f3043a4715d5a182288e8c82">prepareVolatileOrAtomicLoad</a>(Root, dl, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>);</span></CodeLine>
<Link id="l04606" /><CodeLine lineNumber="4606"></CodeLine>
<Link id="l04607" /><CodeLine lineNumber="4607"><span class="doxyHighlight">  SmallVector&lt;SDValue, 4&gt; Values(NumValues);</span></CodeLine>
<Link id="l04608" /><CodeLine lineNumber="4608"><span class="doxyHighlight">  SmallVector&lt;SDValue, 4&gt; Chains(std::min(<a href="#a227e50a8e0a5a0bac4f3409a83727e6e">MaxParallelChains</a>, NumValues));</span></CodeLine>
<Link id="l04609" /><CodeLine lineNumber="4609"></CodeLine>
<Link id="l04610" /><CodeLine lineNumber="4610"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> ChainI = 0;</span></CodeLine>
<Link id="l04611" /><CodeLine lineNumber="4611"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> i = 0; i != NumValues; ++i, ++ChainI) &#123;</span></CodeLine>
<Link id="l04612" /><CodeLine lineNumber="4612"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Serializing loads here may result in excessive register pressure, and</span></CodeLine>
<Link id="l04613" /><CodeLine lineNumber="4613"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// TokenFactor places arbitrary choke points on the scheduler. SD scheduling</span></CodeLine>
<Link id="l04614" /><CodeLine lineNumber="4614"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// could recover a bit by hoisting nodes upward in the chain by recognizing</span></CodeLine>
<Link id="l04615" /><CodeLine lineNumber="4615"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// they are side-effect free or do not alias. The optimizer should really</span></CodeLine>
<Link id="l04616" /><CodeLine lineNumber="4616"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// avoid this case by converting large object/array copies to llvm.memcpy</span></CodeLine>
<Link id="l04617" /><CodeLine lineNumber="4617"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// (MaxParallelChains should always remain as failsafe).</span></CodeLine>
<Link id="l04618" /><CodeLine lineNumber="4618"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (ChainI == <a href="#a227e50a8e0a5a0bac4f3409a83727e6e">MaxParallelChains</a>) &#123;</span></CodeLine>
<Link id="l04619" /><CodeLine lineNumber="4619"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#a9a1381eb77fac8d57f54f7bf25919a4e">PendingLoads</a>.empty() &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;PendingLoads must be serialized first&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l04620" /><CodeLine lineNumber="4620"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/anonymous-loadstorevectorizer-cpp-/#afd1adfcbfce320e6265935ce4d6299a3">Chain</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110ad469508535ce2082a1ab1f0e429187b8">ISD::TokenFactor</a>, dl, MVT::Other,</span></CodeLine>
<Link id="l04621" /><CodeLine lineNumber="4621"><span class="doxyHighlight">                                  <a href="/docs/api/namespaces/llvm/#ab9c6b351507d3c0730f4290919d43a12">ArrayRef</a>(Chains.data(), ChainI));</span></CodeLine>
<Link id="l04622" /><CodeLine lineNumber="4622"><span class="doxyHighlight">      Root = <a href="/docs/api/namespaces/anonymous-loadstorevectorizer-cpp-/#afd1adfcbfce320e6265935ce4d6299a3">Chain</a>;</span></CodeLine>
<Link id="l04623" /><CodeLine lineNumber="4623"><span class="doxyHighlight">      ChainI = 0;</span></CodeLine>
<Link id="l04624" /><CodeLine lineNumber="4624"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l04625" /><CodeLine lineNumber="4625"></CodeLine>
<Link id="l04626" /><CodeLine lineNumber="4626"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// TODO: MachinePointerInfo only supports a fixed length offset.</span></CodeLine>
<Link id="l04627" /><CodeLine lineNumber="4627"><span class="doxyHighlight">    MachinePointerInfo PtrInfo =</span></CodeLine>
<Link id="l04628" /><CodeLine lineNumber="4628"><span class="doxyHighlight">        !<a href="/docs/api/namespaces/llvm/si/kernelinputoffsets/#a58b4eae4b0a45d478c7c0f3959b04612">Offsets</a>&#91;i&#93;.isScalable() || <a href="/docs/api/namespaces/llvm/si/kernelinputoffsets/#a58b4eae4b0a45d478c7c0f3959b04612">Offsets</a>&#91;i&#93;.isZero()</span></CodeLine>
<Link id="l04629" /><CodeLine lineNumber="4629"><span class="doxyHighlight">            ? MachinePointerInfo(SV, Offsets&#91;i&#93;.getKnownMinValue())</span></CodeLine>
<Link id="l04630" /><CodeLine lineNumber="4630"><span class="doxyHighlight">            : MachinePointerInfo();</span></CodeLine>
<Link id="l04631" /><CodeLine lineNumber="4631"></CodeLine>
<Link id="l04632" /><CodeLine lineNumber="4632"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/lib/lib/ir/builtingcs-cpp/#a2e38c85003a042421cde1647632d0b72">A</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getObjectPtrOffset(dl, <a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, Offsets&#91;i&#93;);</span></CodeLine>
<Link id="l04633" /><CodeLine lineNumber="4633"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/m68k/#ab3a288f2953d8eca3e363959fc2cf38ead20caec3b48a1eef164cb4ca81ba2587">L</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getLoad(MemVTs&#91;i&#93;, dl, Root, <a href="/docs/api/files/lib/lib/ir/builtingcs-cpp/#a2e38c85003a042421cde1647632d0b72">A</a>, PtrInfo, Alignment,</span></CodeLine>
<Link id="l04634" /><CodeLine lineNumber="4634"><span class="doxyHighlight">                            MMOFlags, AAInfo, Ranges);</span></CodeLine>
<Link id="l04635" /><CodeLine lineNumber="4635"><span class="doxyHighlight">    Chains&#91;ChainI&#93; = <a href="/docs/api/namespaces/llvm/m68k/#ab3a288f2953d8eca3e363959fc2cf38ead20caec3b48a1eef164cb4ca81ba2587">L</a>.getValue(1);</span></CodeLine>
<Link id="l04636" /><CodeLine lineNumber="4636"></CodeLine>
<Link id="l04637" /><CodeLine lineNumber="4637"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (MemVTs&#91;i&#93; != ValueVTs&#91;i&#93;)</span></CodeLine>
<Link id="l04638" /><CodeLine lineNumber="4638"><span class="doxyHighlight">      L = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getPtrExtOrTrunc(L, dl, ValueVTs&#91;i&#93;);</span></CodeLine>
<Link id="l04639" /><CodeLine lineNumber="4639"></CodeLine>
<Link id="l04640" /><CodeLine lineNumber="4640"><span class="doxyHighlight">    Values&#91;i&#93; = L;</span></CodeLine>
<Link id="l04641" /><CodeLine lineNumber="4641"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l04642" /><CodeLine lineNumber="4642"></CodeLine>
<Link id="l04643" /><CodeLine lineNumber="4643"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!ConstantMemory) &#123;</span></CodeLine>
<Link id="l04644" /><CodeLine lineNumber="4644"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/anonymous-loadstorevectorizer-cpp-/#afd1adfcbfce320e6265935ce4d6299a3">Chain</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110ad469508535ce2082a1ab1f0e429187b8">ISD::TokenFactor</a>, dl, MVT::Other,</span></CodeLine>
<Link id="l04645" /><CodeLine lineNumber="4645"><span class="doxyHighlight">                                <a href="/docs/api/namespaces/llvm/#ab9c6b351507d3c0730f4290919d43a12">ArrayRef</a>(Chains.data(), ChainI));</span></CodeLine>
<Link id="l04646" /><CodeLine lineNumber="4646"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (isVolatile)</span></CodeLine>
<Link id="l04647" /><CodeLine lineNumber="4647"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(Chain);</span></CodeLine>
<Link id="l04648" /><CodeLine lineNumber="4648"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">else</span></CodeLine>
<Link id="l04649" /><CodeLine lineNumber="4649"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#a9a1381eb77fac8d57f54f7bf25919a4e">PendingLoads</a>.push&#95;back(Chain);</span></CodeLine>
<Link id="l04650" /><CodeLine lineNumber="4650"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l04651" /><CodeLine lineNumber="4651"></CodeLine>
<Link id="l04652" /><CodeLine lineNumber="4652"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a01c94937492f3ac3fb1e0be8eb0b9ef1">ISD::MERGE&#95;VALUES</a>, dl,</span></CodeLine>
<Link id="l04653" /><CodeLine lineNumber="4653"><span class="doxyHighlight">                           <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVTList(ValueVTs), Values));</span></CodeLine>
<Link id="l04654" /><CodeLine lineNumber="4654"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l04655" /><CodeLine lineNumber="4655"></CodeLine>
<Link id="l04656" /><CodeLine lineNumber="4656"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitStoreToSwiftError(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/storeinst">StoreInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l04657" /><CodeLine lineNumber="4657"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo().supportSwiftError() &amp;&amp;</span></CodeLine>
<Link id="l04658" /><CodeLine lineNumber="4658"><span class="doxyHighlight">         </span><span class="doxyHighlightStringLiteral">&quot;call visitStoreToSwiftError when backend supports swifterror&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l04659" /><CodeLine lineNumber="4659"></CodeLine>
<Link id="l04660" /><CodeLine lineNumber="4660"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;EVT, 4&gt;</a> ValueVTs;</span></CodeLine>
<Link id="l04661" /><CodeLine lineNumber="4661"><span class="doxyHighlight">  SmallVector&lt;uint64&#95;t, 4&gt; <a href="/docs/api/namespaces/llvm/si/kernelinputoffsets/#a58b4eae4b0a45d478c7c0f3959b04612">Offsets</a>;</span></CodeLine>
<Link id="l04662" /><CodeLine lineNumber="4662"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;SrcV = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0);</span></CodeLine>
<Link id="l04663" /><CodeLine lineNumber="4663"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#ab99618b3d8988b758a67f5a1a6071095">ComputeValueVTs</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo(), <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(),</span></CodeLine>
<Link id="l04664" /><CodeLine lineNumber="4664"><span class="doxyHighlight">                  SrcV-&gt;<a href="/docs/api/classes/llvm/value/#a0344a49526443edf90cc0aef3abd3337">getType</a>(), ValueVTs, &amp;Offsets, 0);</span></CodeLine>
<Link id="l04665" /><CodeLine lineNumber="4665"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ValueVTs.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#a1c479a8c434377c2b8cb056bdfdfc201">size</a>() == 1 &amp;&amp; Offsets&#91;0&#93; == 0 &amp;&amp;</span></CodeLine>
<Link id="l04666" /><CodeLine lineNumber="4666"><span class="doxyHighlight">         </span><span class="doxyHighlightStringLiteral">&quot;expect a single EVT for swifterror&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l04667" /><CodeLine lineNumber="4667"></CodeLine>
<Link id="l04668" /><CodeLine lineNumber="4668"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/anonymous-linkmodules-cpp-/#ab56eb2027bc9c069aa696e54de8b4298a276e79316561733d64abdf00f8e8ae48">Src</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(SrcV);</span></CodeLine>
<Link id="l04669" /><CodeLine lineNumber="4669"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Create a virtual register, then update the virtual register.</span></CodeLine>
<Link id="l04670" /><CodeLine lineNumber="4670"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/mem2reg-cpp/#a6fde3eb6ca09ddf2fd76432176d817bb">Register</a> VReg =</span></CodeLine>
<Link id="l04671" /><CodeLine lineNumber="4671"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#a4ac2cfd1783912207570d7cce74a3ea2">SwiftError</a>.getOrCreateVRegDefAt(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.MBB, <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getPointerOperand());</span></CodeLine>
<Link id="l04672" /><CodeLine lineNumber="4672"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Chain, DL, Reg, N or Chain, DL, Reg, N, Glue</span></CodeLine>
<Link id="l04673" /><CodeLine lineNumber="4673"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Chain can be getRoot or getControlRoot.</span></CodeLine>
<Link id="l04674" /><CodeLine lineNumber="4674"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> CopyNode = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getCopyToReg(<a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>(), <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), VReg,</span></CodeLine>
<Link id="l04675" /><CodeLine lineNumber="4675"><span class="doxyHighlight">                                      <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a>(<a href="/docs/api/namespaces/anonymous-linkmodules-cpp-/#ab56eb2027bc9c069aa696e54de8b4298a276e79316561733d64abdf00f8e8ae48">Src</a>.getNode(), <a href="/docs/api/namespaces/anonymous-linkmodules-cpp-/#ab56eb2027bc9c069aa696e54de8b4298a276e79316561733d64abdf00f8e8ae48">Src</a>.getResNo()));</span></CodeLine>
<Link id="l04676" /><CodeLine lineNumber="4676"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(CopyNode);</span></CodeLine>
<Link id="l04677" /><CodeLine lineNumber="4677"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l04678" /><CodeLine lineNumber="4678"></CodeLine>
<Link id="l04679" /><CodeLine lineNumber="4679"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitLoadFromSwiftError(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loadinst">LoadInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l04680" /><CodeLine lineNumber="4680"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo().supportSwiftError() &amp;&amp;</span></CodeLine>
<Link id="l04681" /><CodeLine lineNumber="4681"><span class="doxyHighlight">         </span><span class="doxyHighlightStringLiteral">&quot;call visitLoadFromSwiftError when backend supports swifterror&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l04682" /><CodeLine lineNumber="4682"></CodeLine>
<Link id="l04683" /><CodeLine lineNumber="4683"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.isVolatile() &amp;&amp;</span></CodeLine>
<Link id="l04684" /><CodeLine lineNumber="4684"><span class="doxyHighlight">         !<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.hasMetadata(LLVMContext::MD&#95;nontemporal) &amp;&amp;</span></CodeLine>
<Link id="l04685" /><CodeLine lineNumber="4685"><span class="doxyHighlight">         !<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.hasMetadata(LLVMContext::MD&#95;invariant&#95;load) &amp;&amp;</span></CodeLine>
<Link id="l04686" /><CodeLine lineNumber="4686"><span class="doxyHighlight">         </span><span class="doxyHighlightStringLiteral">&quot;Support volatile, non temporal, invariant for load&#95;from&#95;swift&#95;error&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l04687" /><CodeLine lineNumber="4687"></CodeLine>
<Link id="l04688" /><CodeLine lineNumber="4688"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;SV = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0);</span></CodeLine>
<Link id="l04689" /><CodeLine lineNumber="4689"><span class="doxyHighlight">  <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a88ee8e4eea43084bd8964682683da88caa1fa27779242b4902f7ae3bdd5c6d508">Type</a> &#42;Ty = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType();</span></CodeLine>
<Link id="l04690" /><CodeLine lineNumber="4690"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(</span></CodeLine>
<Link id="l04691" /><CodeLine lineNumber="4691"><span class="doxyHighlight">      (!<a href="/docs/api/classes/llvm/selectiondagbuilder/#a23f8a52e7e457d67b67aa86541f55c17">BatchAA</a> ||</span></CodeLine>
<Link id="l04692" /><CodeLine lineNumber="4692"><span class="doxyHighlight">       !<a href="/docs/api/classes/llvm/selectiondagbuilder/#a23f8a52e7e457d67b67aa86541f55c17">BatchAA</a>-&gt;pointsToConstantMemory(MemoryLocation(</span></CodeLine>
<Link id="l04693" /><CodeLine lineNumber="4693"><span class="doxyHighlight">           SV, <a href="/docs/api/classes/llvm/locationsize/#a131715ceeb92fb803a329d6b76d14e0d">LocationSize::precise</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout().getTypeStoreSize(Ty)),</span></CodeLine>
<Link id="l04694" /><CodeLine lineNumber="4694"><span class="doxyHighlight">           <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getAAMetadata()))) &amp;&amp;</span></CodeLine>
<Link id="l04695" /><CodeLine lineNumber="4695"><span class="doxyHighlight">      </span><span class="doxyHighlightStringLiteral">&quot;load&#95;from&#95;swift&#95;error should not be constant memory&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l04696" /><CodeLine lineNumber="4696"></CodeLine>
<Link id="l04697" /><CodeLine lineNumber="4697"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;EVT, 4&gt;</a> ValueVTs;</span></CodeLine>
<Link id="l04698" /><CodeLine lineNumber="4698"><span class="doxyHighlight">  SmallVector&lt;uint64&#95;t, 4&gt; <a href="/docs/api/namespaces/llvm/si/kernelinputoffsets/#a58b4eae4b0a45d478c7c0f3959b04612">Offsets</a>;</span></CodeLine>
<Link id="l04699" /><CodeLine lineNumber="4699"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#ab99618b3d8988b758a67f5a1a6071095">ComputeValueVTs</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo(), <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), Ty,</span></CodeLine>
<Link id="l04700" /><CodeLine lineNumber="4700"><span class="doxyHighlight">                  ValueVTs, &amp;Offsets, 0);</span></CodeLine>
<Link id="l04701" /><CodeLine lineNumber="4701"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ValueVTs.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#a1c479a8c434377c2b8cb056bdfdfc201">size</a>() == 1 &amp;&amp; Offsets&#91;0&#93; == 0 &amp;&amp;</span></CodeLine>
<Link id="l04702" /><CodeLine lineNumber="4702"><span class="doxyHighlight">         </span><span class="doxyHighlightStringLiteral">&quot;expect a single EVT for swifterror&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l04703" /><CodeLine lineNumber="4703"></CodeLine>
<Link id="l04704" /><CodeLine lineNumber="4704"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Chain, DL, Reg, VT, Glue or Chain, DL, Reg, VT</span></CodeLine>
<Link id="l04705" /><CodeLine lineNumber="4705"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/m68k/#ab3a288f2953d8eca3e363959fc2cf38ead20caec3b48a1eef164cb4ca81ba2587">L</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getCopyFromReg(</span></CodeLine>
<Link id="l04706" /><CodeLine lineNumber="4706"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>(), <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(),</span></CodeLine>
<Link id="l04707" /><CodeLine lineNumber="4707"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#a4ac2cfd1783912207570d7cce74a3ea2">SwiftError</a>.getOrCreateVRegUseAt(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.MBB, SV), ValueVTs&#91;0&#93;);</span></CodeLine>
<Link id="l04708" /><CodeLine lineNumber="4708"></CodeLine>
<Link id="l04709" /><CodeLine lineNumber="4709"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, L);</span></CodeLine>
<Link id="l04710" /><CodeLine lineNumber="4710"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l04711" /><CodeLine lineNumber="4711"></CodeLine>
<Link id="l04712" /><CodeLine lineNumber="4712"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitStore(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/storeinst">StoreInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l04713" /><CodeLine lineNumber="4713"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.isAtomic())</span></CodeLine>
<Link id="l04714" /><CodeLine lineNumber="4714"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> visitAtomicStore(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</span></CodeLine>
<Link id="l04715" /><CodeLine lineNumber="4715"></CodeLine>
<Link id="l04716" /><CodeLine lineNumber="4716"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;SrcV = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0);</span></CodeLine>
<Link id="l04717" /><CodeLine lineNumber="4717"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;PtrV = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(1);</span></CodeLine>
<Link id="l04718" /><CodeLine lineNumber="4718"></CodeLine>
<Link id="l04719" /><CodeLine lineNumber="4719"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> TargetLowering &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l04720" /><CodeLine lineNumber="4720"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (TLI.<a href="/docs/api/classes/llvm/targetlowering/#a17694ad399c24aae0d2c0ecfbecfea5a">supportSwiftError</a>()) &#123;</span></CodeLine>
<Link id="l04721" /><CodeLine lineNumber="4721"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Swifterror values can come from either a function parameter with</span></CodeLine>
<Link id="l04722" /><CodeLine lineNumber="4722"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// swifterror attribute or an alloca with swifterror attribute.</span></CodeLine>
<Link id="l04723" /><CodeLine lineNumber="4723"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Argument &#42;Arg = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;Argument&gt;</a>(PtrV)) &#123;</span></CodeLine>
<Link id="l04724" /><CodeLine lineNumber="4724"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Arg-&gt;hasSwiftErrorAttr())</span></CodeLine>
<Link id="l04725" /><CodeLine lineNumber="4725"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> visitStoreToSwiftError(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</span></CodeLine>
<Link id="l04726" /><CodeLine lineNumber="4726"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l04727" /><CodeLine lineNumber="4727"></CodeLine>
<Link id="l04728" /><CodeLine lineNumber="4728"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> AllocaInst &#42;Alloca = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;AllocaInst&gt;</a>(PtrV)) &#123;</span></CodeLine>
<Link id="l04729" /><CodeLine lineNumber="4729"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Alloca-&gt;isSwiftError())</span></CodeLine>
<Link id="l04730" /><CodeLine lineNumber="4730"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> visitStoreToSwiftError(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</span></CodeLine>
<Link id="l04731" /><CodeLine lineNumber="4731"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l04732" /><CodeLine lineNumber="4732"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l04733" /><CodeLine lineNumber="4733"></CodeLine>
<Link id="l04734" /><CodeLine lineNumber="4734"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;EVT, 4&gt;</a> ValueVTs, MemVTs;</span></CodeLine>
<Link id="l04735" /><CodeLine lineNumber="4735"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;TypeSize, 4&gt;</a> <a href="/docs/api/namespaces/llvm/si/kernelinputoffsets/#a58b4eae4b0a45d478c7c0f3959b04612">Offsets</a>;</span></CodeLine>
<Link id="l04736" /><CodeLine lineNumber="4736"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#ab99618b3d8988b758a67f5a1a6071095">ComputeValueVTs</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo(), <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(),</span></CodeLine>
<Link id="l04737" /><CodeLine lineNumber="4737"><span class="doxyHighlight">                  SrcV-&gt;<a href="/docs/api/classes/llvm/value/#a0344a49526443edf90cc0aef3abd3337">getType</a>(), ValueVTs, &amp;MemVTs, &amp;Offsets);</span></CodeLine>
<Link id="l04738" /><CodeLine lineNumber="4738"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumValues = ValueVTs.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#a1c479a8c434377c2b8cb056bdfdfc201">size</a>();</span></CodeLine>
<Link id="l04739" /><CodeLine lineNumber="4739"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (NumValues == 0)</span></CodeLine>
<Link id="l04740" /><CodeLine lineNumber="4740"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l04741" /><CodeLine lineNumber="4741"></CodeLine>
<Link id="l04742" /><CodeLine lineNumber="4742"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Get the lowered operands. Note that we do this after</span></CodeLine>
<Link id="l04743" /><CodeLine lineNumber="4743"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// checking if NumResults is zero, because with zero results</span></CodeLine>
<Link id="l04744" /><CodeLine lineNumber="4744"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// the operands won&#39;t have values in the map.</span></CodeLine>
<Link id="l04745" /><CodeLine lineNumber="4745"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/anonymous-linkmodules-cpp-/#ab56eb2027bc9c069aa696e54de8b4298a276e79316561733d64abdf00f8e8ae48">Src</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(SrcV);</span></CodeLine>
<Link id="l04746" /><CodeLine lineNumber="4746"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(PtrV);</span></CodeLine>
<Link id="l04747" /><CodeLine lineNumber="4747"></CodeLine>
<Link id="l04748" /><CodeLine lineNumber="4748"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Root = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.isVolatile() ? <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>() : <a href="/docs/api/classes/llvm/selectiondagbuilder/#ab41a8476a0c74bcf1a2bf665eeececd8">getMemoryRoot</a>();</span></CodeLine>
<Link id="l04749" /><CodeLine lineNumber="4749"><span class="doxyHighlight">  SmallVector&lt;SDValue, 4&gt; Chains(std::min(<a href="#a227e50a8e0a5a0bac4f3409a83727e6e">MaxParallelChains</a>, NumValues));</span></CodeLine>
<Link id="l04750" /><CodeLine lineNumber="4750"><span class="doxyHighlight">  SDLoc dl = <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>();</span></CodeLine>
<Link id="l04751" /><CodeLine lineNumber="4751"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/arg/key/#a6b334a5f83504ebc99cc59f4f333ff98">Align</a> Alignment = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getAlign();</span></CodeLine>
<Link id="l04752" /><CodeLine lineNumber="4752"><span class="doxyHighlight">  AAMDNodes AAInfo = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getAAMetadata();</span></CodeLine>
<Link id="l04753" /><CodeLine lineNumber="4753"></CodeLine>
<Link id="l04754" /><CodeLine lineNumber="4754"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> MMOFlags = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#aaf84f22dd51baf57a3ca66db0dbf035c">getStoreMemOperandFlags</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout());</span></CodeLine>
<Link id="l04755" /><CodeLine lineNumber="4755"></CodeLine>
<Link id="l04756" /><CodeLine lineNumber="4756"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> ChainI = 0;</span></CodeLine>
<Link id="l04757" /><CodeLine lineNumber="4757"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> i = 0; i != NumValues; ++i, ++ChainI) &#123;</span></CodeLine>
<Link id="l04758" /><CodeLine lineNumber="4758"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// See visitLoad comments.</span></CodeLine>
<Link id="l04759" /><CodeLine lineNumber="4759"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (ChainI == <a href="#a227e50a8e0a5a0bac4f3409a83727e6e">MaxParallelChains</a>) &#123;</span></CodeLine>
<Link id="l04760" /><CodeLine lineNumber="4760"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/anonymous-loadstorevectorizer-cpp-/#afd1adfcbfce320e6265935ce4d6299a3">Chain</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110ad469508535ce2082a1ab1f0e429187b8">ISD::TokenFactor</a>, dl, MVT::Other,</span></CodeLine>
<Link id="l04761" /><CodeLine lineNumber="4761"><span class="doxyHighlight">                                  <a href="/docs/api/namespaces/llvm/#ab9c6b351507d3c0730f4290919d43a12">ArrayRef</a>(Chains.data(), ChainI));</span></CodeLine>
<Link id="l04762" /><CodeLine lineNumber="4762"><span class="doxyHighlight">      Root = <a href="/docs/api/namespaces/anonymous-loadstorevectorizer-cpp-/#afd1adfcbfce320e6265935ce4d6299a3">Chain</a>;</span></CodeLine>
<Link id="l04763" /><CodeLine lineNumber="4763"><span class="doxyHighlight">      ChainI = 0;</span></CodeLine>
<Link id="l04764" /><CodeLine lineNumber="4764"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l04765" /><CodeLine lineNumber="4765"></CodeLine>
<Link id="l04766" /><CodeLine lineNumber="4766"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// TODO: MachinePointerInfo only supports a fixed length offset.</span></CodeLine>
<Link id="l04767" /><CodeLine lineNumber="4767"><span class="doxyHighlight">    MachinePointerInfo PtrInfo =</span></CodeLine>
<Link id="l04768" /><CodeLine lineNumber="4768"><span class="doxyHighlight">        !<a href="/docs/api/namespaces/llvm/si/kernelinputoffsets/#a58b4eae4b0a45d478c7c0f3959b04612">Offsets</a>&#91;i&#93;.isScalable() || <a href="/docs/api/namespaces/llvm/si/kernelinputoffsets/#a58b4eae4b0a45d478c7c0f3959b04612">Offsets</a>&#91;i&#93;.isZero()</span></CodeLine>
<Link id="l04769" /><CodeLine lineNumber="4769"><span class="doxyHighlight">            ? MachinePointerInfo(PtrV, Offsets&#91;i&#93;.getKnownMinValue())</span></CodeLine>
<Link id="l04770" /><CodeLine lineNumber="4770"><span class="doxyHighlight">            : MachinePointerInfo();</span></CodeLine>
<Link id="l04771" /><CodeLine lineNumber="4771"></CodeLine>
<Link id="l04772" /><CodeLine lineNumber="4772"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/#aac36edd0f1ce976f0025c98e88d3830eaec211f7c20af43e742bf2570c3cb84f9">Add</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getObjectPtrOffset(dl, <a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, Offsets&#91;i&#93;);</span></CodeLine>
<Link id="l04773" /><CodeLine lineNumber="4773"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Val = <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a>(<a href="/docs/api/namespaces/anonymous-linkmodules-cpp-/#ab56eb2027bc9c069aa696e54de8b4298a276e79316561733d64abdf00f8e8ae48">Src</a>.getNode(), <a href="/docs/api/namespaces/anonymous-linkmodules-cpp-/#ab56eb2027bc9c069aa696e54de8b4298a276e79316561733d64abdf00f8e8ae48">Src</a>.getResNo() + i);</span></CodeLine>
<Link id="l04774" /><CodeLine lineNumber="4774"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (MemVTs&#91;i&#93; != ValueVTs&#91;i&#93;)</span></CodeLine>
<Link id="l04775" /><CodeLine lineNumber="4775"><span class="doxyHighlight">      Val = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getPtrExtOrTrunc(Val, dl, MemVTs&#91;i&#93;);</span></CodeLine>
<Link id="l04776" /><CodeLine lineNumber="4776"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> St =</span></CodeLine>
<Link id="l04777" /><CodeLine lineNumber="4777"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getStore(Root, dl, Val, <a href="/docs/api/namespaces/llvm/#aac36edd0f1ce976f0025c98e88d3830eaec211f7c20af43e742bf2570c3cb84f9">Add</a>, PtrInfo, Alignment, MMOFlags, AAInfo);</span></CodeLine>
<Link id="l04778" /><CodeLine lineNumber="4778"><span class="doxyHighlight">    Chains&#91;ChainI&#93; = St;</span></CodeLine>
<Link id="l04779" /><CodeLine lineNumber="4779"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l04780" /><CodeLine lineNumber="4780"></CodeLine>
<Link id="l04781" /><CodeLine lineNumber="4781"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> StoreNode = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110ad469508535ce2082a1ab1f0e429187b8">ISD::TokenFactor</a>, dl, MVT::Other,</span></CodeLine>
<Link id="l04782" /><CodeLine lineNumber="4782"><span class="doxyHighlight">                                  <a href="/docs/api/namespaces/llvm/#ab9c6b351507d3c0730f4290919d43a12">ArrayRef</a>(Chains.data(), ChainI));</span></CodeLine>
<Link id="l04783" /><CodeLine lineNumber="4783"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, StoreNode);</span></CodeLine>
<Link id="l04784" /><CodeLine lineNumber="4784"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(StoreNode);</span></CodeLine>
<Link id="l04785" /><CodeLine lineNumber="4785"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l04786" /><CodeLine lineNumber="4786"></CodeLine>
<Link id="l04787" /><CodeLine lineNumber="4787"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitMaskedStore(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/callinst">CallInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</span></CodeLine>
<Link id="l04788" /><CodeLine lineNumber="4788"><span class="doxyHighlight">                                           </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> IsCompressing) &#123;</span></CodeLine>
<Link id="l04789" /><CodeLine lineNumber="4789"><span class="doxyHighlight">  SDLoc sdl = <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>();</span></CodeLine>
<Link id="l04790" /><CodeLine lineNumber="4790"></CodeLine>
<Link id="l04791" /><CodeLine lineNumber="4791"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> getMaskedStoreOps = &#91;&amp;&#93;(Value &#42;&amp;<a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, Value &#42;&amp;<a href="/docs/api/namespaces/llvm/bitmaskenumdetail/#a4562904154aff9698a612bc7f6086a4c">Mask</a>, Value &#42;&amp;Src0,</span></CodeLine>
<Link id="l04792" /><CodeLine lineNumber="4792"><span class="doxyHighlight">                               <a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/arg/key/#a6b334a5f83504ebc99cc59f4f333ff98">Align</a> &amp;Alignment) &#123;</span></CodeLine>
<Link id="l04793" /><CodeLine lineNumber="4793"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// llvm.masked.store.&#42;(Src0, Ptr, alignment, Mask)</span></CodeLine>
<Link id="l04794" /><CodeLine lineNumber="4794"><span class="doxyHighlight">    Src0 = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0);</span></CodeLine>
<Link id="l04795" /><CodeLine lineNumber="4795"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1);</span></CodeLine>
<Link id="l04796" /><CodeLine lineNumber="4796"><span class="doxyHighlight">    Alignment = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;ConstantInt&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(2))-&gt;getAlignValue();</span></CodeLine>
<Link id="l04797" /><CodeLine lineNumber="4797"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/bitmaskenumdetail/#a4562904154aff9698a612bc7f6086a4c">Mask</a> = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(3);</span></CodeLine>
<Link id="l04798" /><CodeLine lineNumber="4798"><span class="doxyHighlight">  &#125;;</span></CodeLine>
<Link id="l04799" /><CodeLine lineNumber="4799"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> getCompressingStoreOps = &#91;&amp;&#93;(Value &#42;&amp;<a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, Value &#42;&amp;<a href="/docs/api/namespaces/llvm/bitmaskenumdetail/#a4562904154aff9698a612bc7f6086a4c">Mask</a>, Value &#42;&amp;Src0,</span></CodeLine>
<Link id="l04800" /><CodeLine lineNumber="4800"><span class="doxyHighlight">                                    <a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/arg/key/#a6b334a5f83504ebc99cc59f4f333ff98">Align</a> &amp;Alignment) &#123;</span></CodeLine>
<Link id="l04801" /><CodeLine lineNumber="4801"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// llvm.masked.compressstore.&#42;(Src0, Ptr, Mask)</span></CodeLine>
<Link id="l04802" /><CodeLine lineNumber="4802"><span class="doxyHighlight">    Src0 = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0);</span></CodeLine>
<Link id="l04803" /><CodeLine lineNumber="4803"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1);</span></CodeLine>
<Link id="l04804" /><CodeLine lineNumber="4804"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/bitmaskenumdetail/#a4562904154aff9698a612bc7f6086a4c">Mask</a> = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(2);</span></CodeLine>
<Link id="l04805" /><CodeLine lineNumber="4805"><span class="doxyHighlight">    Alignment = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getParamAlign(1).valueOrOne();</span></CodeLine>
<Link id="l04806" /><CodeLine lineNumber="4806"><span class="doxyHighlight">  &#125;;</span></CodeLine>
<Link id="l04807" /><CodeLine lineNumber="4807"></CodeLine>
<Link id="l04808" /><CodeLine lineNumber="4808"><span class="doxyHighlight">  Value  &#42;PtrOperand, &#42;MaskOperand, &#42;Src0Operand;</span></CodeLine>
<Link id="l04809" /><CodeLine lineNumber="4809"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/arg/key/#a6b334a5f83504ebc99cc59f4f333ff98">Align</a> Alignment;</span></CodeLine>
<Link id="l04810" /><CodeLine lineNumber="4810"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (IsCompressing)</span></CodeLine>
<Link id="l04811" /><CodeLine lineNumber="4811"><span class="doxyHighlight">    getCompressingStoreOps(PtrOperand, MaskOperand, Src0Operand, Alignment);</span></CodeLine>
<Link id="l04812" /><CodeLine lineNumber="4812"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">else</span></CodeLine>
<Link id="l04813" /><CodeLine lineNumber="4813"><span class="doxyHighlight">    getMaskedStoreOps(PtrOperand, MaskOperand, Src0Operand, Alignment);</span></CodeLine>
<Link id="l04814" /><CodeLine lineNumber="4814"></CodeLine>
<Link id="l04815" /><CodeLine lineNumber="4815"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(PtrOperand);</span></CodeLine>
<Link id="l04816" /><CodeLine lineNumber="4816"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Src0 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(Src0Operand);</span></CodeLine>
<Link id="l04817" /><CodeLine lineNumber="4817"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/bitmaskenumdetail/#a4562904154aff9698a612bc7f6086a4c">Mask</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(MaskOperand);</span></CodeLine>
<Link id="l04818" /><CodeLine lineNumber="4818"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getUNDEF(<a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>.getValueType());</span></CodeLine>
<Link id="l04819" /><CodeLine lineNumber="4819"></CodeLine>
<Link id="l04820" /><CodeLine lineNumber="4820"><span class="doxyHighlight">  EVT VT = Src0.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>();</span></CodeLine>
<Link id="l04821" /><CodeLine lineNumber="4821"></CodeLine>
<Link id="l04822" /><CodeLine lineNumber="4822"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> MMOFlags = <a href="/docs/api/classes/llvm/machinememoperand/#aaa2020e47e35179234b9ea27d555b2ddaed357b1367bc90a56fefa4d1b0e17374">MachineMemOperand::MOStore</a>;</span></CodeLine>
<Link id="l04823" /><CodeLine lineNumber="4823"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.hasMetadata(LLVMContext::MD&#95;nontemporal))</span></CodeLine>
<Link id="l04824" /><CodeLine lineNumber="4824"><span class="doxyHighlight">    MMOFlags |= <a href="/docs/api/classes/llvm/machinememoperand/#aaa2020e47e35179234b9ea27d555b2dda8d09c51969b0954512ed65ee26551081">MachineMemOperand::MONonTemporal</a>;</span></CodeLine>
<Link id="l04825" /><CodeLine lineNumber="4825"></CodeLine>
<Link id="l04826" /><CodeLine lineNumber="4826"><span class="doxyHighlight">  MachineMemOperand &#42;MMO = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMachineFunction().getMachineMemOperand(</span></CodeLine>
<Link id="l04827" /><CodeLine lineNumber="4827"><span class="doxyHighlight">      MachinePointerInfo(PtrOperand), MMOFlags,</span></CodeLine>
<Link id="l04828" /><CodeLine lineNumber="4828"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/locationsize/#a837cf7f4d88580c0adb92afc6a3b08b0">LocationSize::beforeOrAfterPointer</a>(), Alignment, <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getAAMetadata());</span></CodeLine>
<Link id="l04829" /><CodeLine lineNumber="4829"></CodeLine>
<Link id="l04830" /><CodeLine lineNumber="4830"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l04831" /><CodeLine lineNumber="4831"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;<a href="/docs/api/namespaces/llvm/#aa0d69e81725c10fa5407f0bf34462068">TTI</a> =</span></CodeLine>
<Link id="l04832" /><CodeLine lineNumber="4832"><span class="doxyHighlight">      TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a30aa4a06549273240892d58449b8d268">getTargetMachine</a>().<a href="/docs/api/classes/llvm/targetmachine/#a89d17091515cc3617c0901a05308f27b">getTargetTransformInfo</a>(&#42;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getFunction());</span></CodeLine>
<Link id="l04833" /><CodeLine lineNumber="4833"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> StoreNode =</span></CodeLine>
<Link id="l04834" /><CodeLine lineNumber="4834"><span class="doxyHighlight">      !IsCompressing &amp;&amp;</span></CodeLine>
<Link id="l04835" /><CodeLine lineNumber="4835"><span class="doxyHighlight">              <a href="/docs/api/namespaces/llvm/#aa0d69e81725c10fa5407f0bf34462068">TTI</a>.<a href="/docs/api/classes/llvm/targettransforminfo/#ada0fe933e853c23312ff60304ce7e220">hasConditionalLoadStoreForType</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)-&gt;getType())</span></CodeLine>
<Link id="l04836" /><CodeLine lineNumber="4836"><span class="doxyHighlight">          ? TLI.<a href="/docs/api/classes/llvm/targetlowering/#ace423253c9f88eb6f6f395daa4bf02b7">visitMaskedStore</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>, sdl, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ab41a8476a0c74bcf1a2bf665eeececd8">getMemoryRoot</a>(), MMO, <a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, Src0,</span></CodeLine>
<Link id="l04837" /><CodeLine lineNumber="4837"><span class="doxyHighlight">                                 Mask)</span></CodeLine>
<Link id="l04838" /><CodeLine lineNumber="4838"><span class="doxyHighlight">          : <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMaskedStore(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ab41a8476a0c74bcf1a2bf665eeececd8">getMemoryRoot</a>(), sdl, Src0, <a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, <a href="/docs/api/namespaces/llvm/#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, Mask,</span></CodeLine>
<Link id="l04839" /><CodeLine lineNumber="4839"><span class="doxyHighlight">                               VT, MMO, <a href="/docs/api/namespaces/llvm/isd/#abee7ecb577fcade34eb16ccb7f503e31ade1c53e7b8a373e22ec53ff7bcbace9f">ISD::UNINDEXED</a>, </span><span class="doxyHighlightComment">/&#42;Truncating=&#42;/</span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">,</span></CodeLine>
<Link id="l04840" /><CodeLine lineNumber="4840"><span class="doxyHighlight">                               IsCompressing);</span></CodeLine>
<Link id="l04841" /><CodeLine lineNumber="4841"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(StoreNode);</span></CodeLine>
<Link id="l04842" /><CodeLine lineNumber="4842"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, StoreNode);</span></CodeLine>
<Link id="l04843" /><CodeLine lineNumber="4843"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l04844" /><CodeLine lineNumber="4844"></CodeLine>
<Link id="l04845" /><CodeLine lineNumber="4845"><span class="doxyHighlightComment">// Get a uniform base for the Gather/Scatter intrinsic.</span></CodeLine>
<Link id="l04846" /><CodeLine lineNumber="4846"><span class="doxyHighlightComment">// The first argument of the Gather/Scatter intrinsic is a vector of pointers.</span></CodeLine>
<Link id="l04847" /><CodeLine lineNumber="4847"><span class="doxyHighlightComment">// We try to represent it as a base pointer + vector of indices.</span></CodeLine>
<Link id="l04848" /><CodeLine lineNumber="4848"><span class="doxyHighlightComment">// Usually, the vector of pointers comes from a &#39;getelementptr&#39; instruction.</span></CodeLine>
<Link id="l04849" /><CodeLine lineNumber="4849"><span class="doxyHighlightComment">// The first operand of the GEP may be a single pointer or a vector of pointers</span></CodeLine>
<Link id="l04850" /><CodeLine lineNumber="4850"><span class="doxyHighlightComment">// Example:</span></CodeLine>
<Link id="l04851" /><CodeLine lineNumber="4851"><span class="doxyHighlightComment">//   %gep.ptr = getelementptr i32, &lt;8 x i32&#42;&gt; %vptr, &lt;8 x i32&gt; %ind</span></CodeLine>
<Link id="l04852" /><CodeLine lineNumber="4852"><span class="doxyHighlightComment">//  or</span></CodeLine>
<Link id="l04853" /><CodeLine lineNumber="4853"><span class="doxyHighlightComment">//   %gep.ptr = getelementptr i32, i32&#42; %ptr,        &lt;8 x i32&gt; %ind</span></CodeLine>
<Link id="l04854" /><CodeLine lineNumber="4854"><span class="doxyHighlightComment">// %res = call &lt;8 x i32&gt; @llvm.masked.gather.v8i32(&lt;8 x i32&#42;&gt; %gep.ptr, ..</span></CodeLine>
<Link id="l04855" /><CodeLine lineNumber="4855"><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l04856" /><CodeLine lineNumber="4856"><span class="doxyHighlightComment">// When the first GEP operand is a single pointer - it is the uniform base we</span></CodeLine>
<Link id="l04857" /><CodeLine lineNumber="4857"><span class="doxyHighlightComment">// are looking for. If first operand of the GEP is a splat vector - we</span></CodeLine>
<Link id="l04858" /><CodeLine lineNumber="4858"><span class="doxyHighlightComment">// extract the splat value and use it as a uniform base.</span></CodeLine>
<Link id="l04859" /><CodeLine lineNumber="4859"><span class="doxyHighlightComment">// In all other cases the function returns &#39;false&#39;.</span></CodeLine>
<Link id="l04860" /><CodeLine lineNumber="4860" lineLink="#a3e8b055fdb7e07479b83d69c15211d54"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="#a3e8b055fdb7e07479b83d69c15211d54">getUniformBase</a>(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/value">Value</a> &#42;<a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> &amp;<a href="/docs/api/namespaces/llvm/sampleprof/#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> &amp;Index,</span></CodeLine>
<Link id="l04861" /><CodeLine lineNumber="4861"><span class="doxyHighlight">                           <a href="/docs/api/namespaces/llvm/isd/#aa30bf48cd2a89f80c9c608adcabc53e3">ISD::MemIndexType</a> &amp;IndexType, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> &amp;Scale,</span></CodeLine>
<Link id="l04862" /><CodeLine lineNumber="4862"><span class="doxyHighlight">                           <a href="/docs/api/classes/llvm/selectiondagbuilder">SelectionDAGBuilder</a> &#42;SDB, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42;CurBB,</span></CodeLine>
<Link id="l04863" /><CodeLine lineNumber="4863"><span class="doxyHighlight">                           uint64&#95;t ElemSize) &#123;</span></CodeLine>
<Link id="l04864" /><CodeLine lineNumber="4864"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a>&amp; DAG = SDB-&gt;<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>;</span></CodeLine>
<Link id="l04865" /><CodeLine lineNumber="4865"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetlowering">TargetLowering</a> &amp;TLI = DAG.<a href="/docs/api/classes/llvm/selectiondag/#a4c20c587f89ae2926f9e8a99093e8419">getTargetLoweringInfo</a>();</span></CodeLine>
<Link id="l04866" /><CodeLine lineNumber="4866"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/datalayout">DataLayout</a> &amp;<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a> = DAG.<a href="/docs/api/classes/llvm/selectiondag/#a6b442ac8a9fc6147b95ccfb2c3322121">getDataLayout</a>();</span></CodeLine>
<Link id="l04867" /><CodeLine lineNumber="4867"></CodeLine>
<Link id="l04868" /><CodeLine lineNumber="4868"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>-&gt;getType()-&gt;isVectorTy() &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Unexpected pointer type&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l04869" /><CodeLine lineNumber="4869"></CodeLine>
<Link id="l04870" /><CodeLine lineNumber="4870"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Handle splat constant pointer.</span></CodeLine>
<Link id="l04871" /><CodeLine lineNumber="4871"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;<a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a> = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;Constant&gt;</a>(<a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>)) &#123;</span></CodeLine>
<Link id="l04872" /><CodeLine lineNumber="4872"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a> = <a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a>-&gt;getSplatValue();</span></CodeLine>
<Link id="l04873" /><CodeLine lineNumber="4873"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a>)</span></CodeLine>
<Link id="l04874" /><CodeLine lineNumber="4874"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l04875" /><CodeLine lineNumber="4875"></CodeLine>
<Link id="l04876" /><CodeLine lineNumber="4876"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/sampleprof/#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = SDB-&gt;<a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a>);</span></CodeLine>
<Link id="l04877" /><CodeLine lineNumber="4877"></CodeLine>
<Link id="l04878" /><CodeLine lineNumber="4878"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/elementcount">ElementCount</a> NumElts = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;VectorType&gt;</a>(<a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>-&gt;getType())-&gt;getElementCount();</span></CodeLine>
<Link id="l04879" /><CodeLine lineNumber="4879"><span class="doxyHighlight">    <a href="/docs/api/structs/llvm/evt">EVT</a> VT = <a href="/docs/api/structs/llvm/evt/#a210ba6b43ba451b698857dd9de71bd15">EVT::getVectorVT</a>(&#42;DAG.<a href="/docs/api/classes/llvm/selectiondag/#adecf615928faed0c8a082ffdb65dfea0">getContext</a>(), TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>), NumElts);</span></CodeLine>
<Link id="l04880" /><CodeLine lineNumber="4880"><span class="doxyHighlight">    Index = DAG.<a href="/docs/api/classes/llvm/selectiondag/#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0, SDB-&gt;<a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), VT);</span></CodeLine>
<Link id="l04881" /><CodeLine lineNumber="4881"><span class="doxyHighlight">    IndexType = <a href="/docs/api/namespaces/llvm/isd/#aa30bf48cd2a89f80c9c608adcabc53e3a0173acb50fe8c4337c23a98baab3f4db">ISD::SIGNED&#95;SCALED</a>;</span></CodeLine>
<Link id="l04882" /><CodeLine lineNumber="4882"><span class="doxyHighlight">    Scale = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(1, SDB-&gt;<a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>));</span></CodeLine>
<Link id="l04883" /><CodeLine lineNumber="4883"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l04884" /><CodeLine lineNumber="4884"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l04885" /><CodeLine lineNumber="4885"></CodeLine>
<Link id="l04886" /><CodeLine lineNumber="4886"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/getelementptrinst">GetElementPtrInst</a> &#42;<a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagoncommongep-cpp/#ad532e8710e50302e0a376b61c91fa91d">GEP</a> = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;GetElementPtrInst&gt;</a>(<a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>);</span></CodeLine>
<Link id="l04887" /><CodeLine lineNumber="4887"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagoncommongep-cpp/#ad532e8710e50302e0a376b61c91fa91d">GEP</a> || <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagoncommongep-cpp/#ad532e8710e50302e0a376b61c91fa91d">GEP</a>-&gt;getParent() != CurBB)</span></CodeLine>
<Link id="l04888" /><CodeLine lineNumber="4888"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l04889" /><CodeLine lineNumber="4889"></CodeLine>
<Link id="l04890" /><CodeLine lineNumber="4890"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagoncommongep-cpp/#ad532e8710e50302e0a376b61c91fa91d">GEP</a>-&gt;getNumOperands() != 2)</span></CodeLine>
<Link id="l04891" /><CodeLine lineNumber="4891"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l04892" /><CodeLine lineNumber="4892"></CodeLine>
<Link id="l04893" /><CodeLine lineNumber="4893"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/value">Value</a> &#42;BasePtr = <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagoncommongep-cpp/#ad532e8710e50302e0a376b61c91fa91d">GEP</a>-&gt;getPointerOperand();</span></CodeLine>
<Link id="l04894" /><CodeLine lineNumber="4894"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/value">Value</a> &#42;IndexVal = <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagoncommongep-cpp/#ad532e8710e50302e0a376b61c91fa91d">GEP</a>-&gt;getOperand(<a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagoncommongep-cpp/#ad532e8710e50302e0a376b61c91fa91d">GEP</a>-&gt;getNumOperands() - 1);</span></CodeLine>
<Link id="l04895" /><CodeLine lineNumber="4895"></CodeLine>
<Link id="l04896" /><CodeLine lineNumber="4896"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Make sure the base is scalar and the index is a vector.</span></CodeLine>
<Link id="l04897" /><CodeLine lineNumber="4897"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (BasePtr-&gt;getType()-&gt;isVectorTy() || !IndexVal-&gt;<a href="/docs/api/classes/llvm/value/#a0344a49526443edf90cc0aef3abd3337">getType</a>()-&gt;<a href="/docs/api/classes/llvm/type/#a1bc022868b23918efa44df511f4d5b61">isVectorTy</a>())</span></CodeLine>
<Link id="l04898" /><CodeLine lineNumber="4898"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l04899" /><CodeLine lineNumber="4899"></CodeLine>
<Link id="l04900" /><CodeLine lineNumber="4900"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/typesize">TypeSize</a> ScaleVal = <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getTypeAllocSize(<a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagoncommongep-cpp/#ad532e8710e50302e0a376b61c91fa91d">GEP</a>-&gt;getResultElementType());</span></CodeLine>
<Link id="l04901" /><CodeLine lineNumber="4901"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (ScaleVal.<a href="/docs/api/classes/llvm/details/fixedorscalablequantity/#a9188f84e1dd67530330dcab9cae787d7">isScalable</a>())</span></CodeLine>
<Link id="l04902" /><CodeLine lineNumber="4902"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l04903" /><CodeLine lineNumber="4903"></CodeLine>
<Link id="l04904" /><CodeLine lineNumber="4904"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Target may not support the required addressing mode.</span></CodeLine>
<Link id="l04905" /><CodeLine lineNumber="4905"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (ScaleVal != 1 &amp;&amp;</span></CodeLine>
<Link id="l04906" /><CodeLine lineNumber="4906"><span class="doxyHighlight">      !TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a2869d7549698a23a9c1f6944222b8f19">isLegalScaleForGatherScatter</a>(ScaleVal.<a href="/docs/api/classes/llvm/details/fixedorscalablequantity/#a33880aaca0ad05e5f1557f079305bde5">getFixedValue</a>(), ElemSize))</span></CodeLine>
<Link id="l04907" /><CodeLine lineNumber="4907"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l04908" /><CodeLine lineNumber="4908"></CodeLine>
<Link id="l04909" /><CodeLine lineNumber="4909"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/sampleprof/#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = SDB-&gt;<a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(BasePtr);</span></CodeLine>
<Link id="l04910" /><CodeLine lineNumber="4910"><span class="doxyHighlight">  Index = SDB-&gt;<a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(IndexVal);</span></CodeLine>
<Link id="l04911" /><CodeLine lineNumber="4911"><span class="doxyHighlight">  IndexType = <a href="/docs/api/namespaces/llvm/isd/#aa30bf48cd2a89f80c9c608adcabc53e3a0173acb50fe8c4337c23a98baab3f4db">ISD::SIGNED&#95;SCALED</a>;</span></CodeLine>
<Link id="l04912" /><CodeLine lineNumber="4912"></CodeLine>
<Link id="l04913" /><CodeLine lineNumber="4913"><span class="doxyHighlight">  Scale =</span></CodeLine>
<Link id="l04914" /><CodeLine lineNumber="4914"><span class="doxyHighlight">      DAG.<a href="/docs/api/classes/llvm/selectiondag/#abf892d1e00a3d79026c5ab518c187c45">getTargetConstant</a>(ScaleVal, SDB-&gt;<a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>));</span></CodeLine>
<Link id="l04915" /><CodeLine lineNumber="4915"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l04916" /><CodeLine lineNumber="4916"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l04917" /><CodeLine lineNumber="4917"></CodeLine>
<Link id="l04918" /><CodeLine lineNumber="4918"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitMaskedScatter(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/callinst">CallInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l04919" /><CodeLine lineNumber="4919"><span class="doxyHighlight">  SDLoc sdl = <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>();</span></CodeLine>
<Link id="l04920" /><CodeLine lineNumber="4920"></CodeLine>
<Link id="l04921" /><CodeLine lineNumber="4921"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// llvm.masked.scatter.&#42;(Src0, Ptrs, alignment, Mask)</span></CodeLine>
<Link id="l04922" /><CodeLine lineNumber="4922"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;<a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1);</span></CodeLine>
<Link id="l04923" /><CodeLine lineNumber="4923"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Src0 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0));</span></CodeLine>
<Link id="l04924" /><CodeLine lineNumber="4924"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/bitmaskenumdetail/#a4562904154aff9698a612bc7f6086a4c">Mask</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(3));</span></CodeLine>
<Link id="l04925" /><CodeLine lineNumber="4925"><span class="doxyHighlight">  EVT VT = Src0.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>();</span></CodeLine>
<Link id="l04926" /><CodeLine lineNumber="4926"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/arg/key/#a6b334a5f83504ebc99cc59f4f333ff98">Align</a> Alignment = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;ConstantInt&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(2))</span></CodeLine>
<Link id="l04927" /><CodeLine lineNumber="4927"><span class="doxyHighlight">                        -&gt;getMaybeAlignValue()</span></CodeLine>
<Link id="l04928" /><CodeLine lineNumber="4928"><span class="doxyHighlight">                        .value&#95;or(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getEVTAlign(VT.<a href="/docs/api/structs/llvm/evt/#aa85c75e8eb097f02caeb5b9119eebfef">getScalarType</a>()));</span></CodeLine>
<Link id="l04929" /><CodeLine lineNumber="4929"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> TargetLowering &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l04930" /><CodeLine lineNumber="4930"></CodeLine>
<Link id="l04931" /><CodeLine lineNumber="4931"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/sampleprof/#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>;</span></CodeLine>
<Link id="l04932" /><CodeLine lineNumber="4932"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/dwarf/#a5d3c920b66ea797d6adb243862fdf47a">Index</a>;</span></CodeLine>
<Link id="l04933" /><CodeLine lineNumber="4933"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/isd/#aa30bf48cd2a89f80c9c608adcabc53e3">ISD::MemIndexType</a> IndexType;</span></CodeLine>
<Link id="l04934" /><CodeLine lineNumber="4934"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Scale;</span></CodeLine>
<Link id="l04935" /><CodeLine lineNumber="4935"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> UniformBase = <a href="#a3e8b055fdb7e07479b83d69c15211d54">getUniformBase</a>(<a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, <a href="/docs/api/namespaces/llvm/sampleprof/#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>, Index, IndexType, Scale, </span><span class="doxyHighlightKeyword">this</span><span class="doxyHighlight">,</span></CodeLine>
<Link id="l04936" /><CodeLine lineNumber="4936"><span class="doxyHighlight">                                    <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getParent(), VT.<a href="/docs/api/structs/llvm/evt/#a2648fd0c9417e0aeb3e8b194c6509357">getScalarStoreSize</a>());</span></CodeLine>
<Link id="l04937" /><CodeLine lineNumber="4937"></CodeLine>
<Link id="l04938" /><CodeLine lineNumber="4938"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> AS = <a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>-&gt;getType()-&gt;getScalarType()-&gt;getPointerAddressSpace();</span></CodeLine>
<Link id="l04939" /><CodeLine lineNumber="4939"><span class="doxyHighlight">  MachineMemOperand &#42;MMO = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMachineFunction().getMachineMemOperand(</span></CodeLine>
<Link id="l04940" /><CodeLine lineNumber="4940"><span class="doxyHighlight">      MachinePointerInfo(AS), <a href="/docs/api/classes/llvm/machinememoperand/#aaa2020e47e35179234b9ea27d555b2ddaed357b1367bc90a56fefa4d1b0e17374">MachineMemOperand::MOStore</a>,</span></CodeLine>
<Link id="l04941" /><CodeLine lineNumber="4941"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/locationsize/#a837cf7f4d88580c0adb92afc6a3b08b0">LocationSize::beforeOrAfterPointer</a>(), Alignment, <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getAAMetadata());</span></CodeLine>
<Link id="l04942" /><CodeLine lineNumber="4942"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!UniformBase) &#123;</span></CodeLine>
<Link id="l04943" /><CodeLine lineNumber="4943"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/sampleprof/#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getConstant(0, sdl, TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout()));</span></CodeLine>
<Link id="l04944" /><CodeLine lineNumber="4944"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/dwarf/#a5d3c920b66ea797d6adb243862fdf47a">Index</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>);</span></CodeLine>
<Link id="l04945" /><CodeLine lineNumber="4945"><span class="doxyHighlight">    IndexType = <a href="/docs/api/namespaces/llvm/isd/#aa30bf48cd2a89f80c9c608adcabc53e3a0173acb50fe8c4337c23a98baab3f4db">ISD::SIGNED&#95;SCALED</a>;</span></CodeLine>
<Link id="l04946" /><CodeLine lineNumber="4946"><span class="doxyHighlight">    Scale = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetConstant(1, sdl, TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout()));</span></CodeLine>
<Link id="l04947" /><CodeLine lineNumber="4947"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l04948" /><CodeLine lineNumber="4948"></CodeLine>
<Link id="l04949" /><CodeLine lineNumber="4949"><span class="doxyHighlight">  EVT IdxVT = <a href="/docs/api/namespaces/llvm/dwarf/#a5d3c920b66ea797d6adb243862fdf47a">Index</a>.getValueType();</span></CodeLine>
<Link id="l04950" /><CodeLine lineNumber="4950"><span class="doxyHighlight">  EVT EltTy = IdxVT.<a href="/docs/api/structs/llvm/evt/#abc4c6365ade17ad4443ad0e381e7479d">getVectorElementType</a>();</span></CodeLine>
<Link id="l04951" /><CodeLine lineNumber="4951"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a5a5c0b8cc6da2f6db046ad5ca8e53163">shouldExtendGSIndex</a>(IdxVT, EltTy)) &#123;</span></CodeLine>
<Link id="l04952" /><CodeLine lineNumber="4952"><span class="doxyHighlight">    EVT NewIdxVT = IdxVT.<a href="/docs/api/structs/llvm/evt/#ad9d00ad929ec93255787f7f80c4659d9">changeVectorElementType</a>(EltTy);</span></CodeLine>
<Link id="l04953" /><CodeLine lineNumber="4953"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/dwarf/#a5d3c920b66ea797d6adb243862fdf47a">Index</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a5183f3d72924bc7c77ba8d3f5de9f602">ISD::SIGN&#95;EXTEND</a>, sdl, NewIdxVT, Index);</span></CodeLine>
<Link id="l04954" /><CodeLine lineNumber="4954"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l04955" /><CodeLine lineNumber="4955"></CodeLine>
<Link id="l04956" /><CodeLine lineNumber="4956"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>&#91;&#93; = &#123; <a href="/docs/api/classes/llvm/selectiondagbuilder/#ab41a8476a0c74bcf1a2bf665eeececd8">getMemoryRoot</a>(), Src0, <a href="/docs/api/namespaces/llvm/bitmaskenumdetail/#a4562904154aff9698a612bc7f6086a4c">Mask</a>, <a href="/docs/api/namespaces/llvm/sampleprof/#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>, <a href="/docs/api/namespaces/llvm/dwarf/#a5d3c920b66ea797d6adb243862fdf47a">Index</a>, Scale &#125;;</span></CodeLine>
<Link id="l04957" /><CodeLine lineNumber="4957"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Scatter = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMaskedScatter(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVTList(MVT::Other), VT, sdl,</span></CodeLine>
<Link id="l04958" /><CodeLine lineNumber="4958"><span class="doxyHighlight">                                         <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>, MMO, IndexType, </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l04959" /><CodeLine lineNumber="4959"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(Scatter);</span></CodeLine>
<Link id="l04960" /><CodeLine lineNumber="4960"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Scatter);</span></CodeLine>
<Link id="l04961" /><CodeLine lineNumber="4961"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l04962" /><CodeLine lineNumber="4962"></CodeLine>
<Link id="l04963" /><CodeLine lineNumber="4963"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitMaskedLoad(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/callinst">CallInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> IsExpanding) &#123;</span></CodeLine>
<Link id="l04964" /><CodeLine lineNumber="4964"><span class="doxyHighlight">  SDLoc sdl = <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>();</span></CodeLine>
<Link id="l04965" /><CodeLine lineNumber="4965"></CodeLine>
<Link id="l04966" /><CodeLine lineNumber="4966"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> getMaskedLoadOps = &#91;&amp;&#93;(Value &#42;&amp;<a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, Value &#42;&amp;<a href="/docs/api/namespaces/llvm/bitmaskenumdetail/#a4562904154aff9698a612bc7f6086a4c">Mask</a>, Value &#42;&amp;Src0,</span></CodeLine>
<Link id="l04967" /><CodeLine lineNumber="4967"><span class="doxyHighlight">                              <a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/arg/key/#a6b334a5f83504ebc99cc59f4f333ff98">Align</a> &amp;Alignment) &#123;</span></CodeLine>
<Link id="l04968" /><CodeLine lineNumber="4968"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// @llvm.masked.load.&#42;(Ptr, alignment, Mask, Src0)</span></CodeLine>
<Link id="l04969" /><CodeLine lineNumber="4969"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0);</span></CodeLine>
<Link id="l04970" /><CodeLine lineNumber="4970"><span class="doxyHighlight">    Alignment = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;ConstantInt&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1))-&gt;getAlignValue();</span></CodeLine>
<Link id="l04971" /><CodeLine lineNumber="4971"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/bitmaskenumdetail/#a4562904154aff9698a612bc7f6086a4c">Mask</a> = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(2);</span></CodeLine>
<Link id="l04972" /><CodeLine lineNumber="4972"><span class="doxyHighlight">    Src0 = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(3);</span></CodeLine>
<Link id="l04973" /><CodeLine lineNumber="4973"><span class="doxyHighlight">  &#125;;</span></CodeLine>
<Link id="l04974" /><CodeLine lineNumber="4974"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> getExpandingLoadOps = &#91;&amp;&#93;(Value &#42;&amp;<a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, Value &#42;&amp;<a href="/docs/api/namespaces/llvm/bitmaskenumdetail/#a4562904154aff9698a612bc7f6086a4c">Mask</a>, Value &#42;&amp;Src0,</span></CodeLine>
<Link id="l04975" /><CodeLine lineNumber="4975"><span class="doxyHighlight">                                 <a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/arg/key/#a6b334a5f83504ebc99cc59f4f333ff98">Align</a> &amp;Alignment) &#123;</span></CodeLine>
<Link id="l04976" /><CodeLine lineNumber="4976"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// @llvm.masked.expandload.&#42;(Ptr, Mask, Src0)</span></CodeLine>
<Link id="l04977" /><CodeLine lineNumber="4977"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0);</span></CodeLine>
<Link id="l04978" /><CodeLine lineNumber="4978"><span class="doxyHighlight">    Alignment = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getParamAlign(0).valueOrOne();</span></CodeLine>
<Link id="l04979" /><CodeLine lineNumber="4979"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/bitmaskenumdetail/#a4562904154aff9698a612bc7f6086a4c">Mask</a> = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1);</span></CodeLine>
<Link id="l04980" /><CodeLine lineNumber="4980"><span class="doxyHighlight">    Src0 = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(2);</span></CodeLine>
<Link id="l04981" /><CodeLine lineNumber="4981"><span class="doxyHighlight">  &#125;;</span></CodeLine>
<Link id="l04982" /><CodeLine lineNumber="4982"></CodeLine>
<Link id="l04983" /><CodeLine lineNumber="4983"><span class="doxyHighlight">  Value  &#42;PtrOperand, &#42;MaskOperand, &#42;Src0Operand;</span></CodeLine>
<Link id="l04984" /><CodeLine lineNumber="4984"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/arg/key/#a6b334a5f83504ebc99cc59f4f333ff98">Align</a> Alignment;</span></CodeLine>
<Link id="l04985" /><CodeLine lineNumber="4985"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (IsExpanding)</span></CodeLine>
<Link id="l04986" /><CodeLine lineNumber="4986"><span class="doxyHighlight">    getExpandingLoadOps(PtrOperand, MaskOperand, Src0Operand, Alignment);</span></CodeLine>
<Link id="l04987" /><CodeLine lineNumber="4987"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">else</span></CodeLine>
<Link id="l04988" /><CodeLine lineNumber="4988"><span class="doxyHighlight">    getMaskedLoadOps(PtrOperand, MaskOperand, Src0Operand, Alignment);</span></CodeLine>
<Link id="l04989" /><CodeLine lineNumber="4989"></CodeLine>
<Link id="l04990" /><CodeLine lineNumber="4990"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(PtrOperand);</span></CodeLine>
<Link id="l04991" /><CodeLine lineNumber="4991"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Src0 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(Src0Operand);</span></CodeLine>
<Link id="l04992" /><CodeLine lineNumber="4992"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/bitmaskenumdetail/#a4562904154aff9698a612bc7f6086a4c">Mask</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(MaskOperand);</span></CodeLine>
<Link id="l04993" /><CodeLine lineNumber="4993"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getUNDEF(<a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>.getValueType());</span></CodeLine>
<Link id="l04994" /><CodeLine lineNumber="4994"></CodeLine>
<Link id="l04995" /><CodeLine lineNumber="4995"><span class="doxyHighlight">  EVT VT = Src0.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>();</span></CodeLine>
<Link id="l04996" /><CodeLine lineNumber="4996"><span class="doxyHighlight">  AAMDNodes AAInfo = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getAAMetadata();</span></CodeLine>
<Link id="l04997" /><CodeLine lineNumber="4997"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> MDNode &#42;<a href="/docs/api/namespaces/llvm/logicalview/#a8d4dd8d1ec9d9328d03bb2b99aa74744a92711ef5b0215a076fef4a3abbfc2258">Ranges</a> = <a href="#ae1b80d5114dd1a73aacd01971f29d5ee">getRangeMetadata</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</span></CodeLine>
<Link id="l04998" /><CodeLine lineNumber="4998"></CodeLine>
<Link id="l04999" /><CodeLine lineNumber="4999"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Do not serialize masked loads of constant memory with anything.</span></CodeLine>
<Link id="l05000" /><CodeLine lineNumber="5000"><span class="doxyHighlight">  MemoryLocation <a href="/docs/api/files/lib/lib/analysis/inlineorder-cpp/#a7ee6f0cb51c3b9056199e9a0001fe8c3ad01fd9b01e9dde8bd3dc247afbfb7218">ML</a> = <a href="/docs/api/classes/llvm/memorylocation/#a49f776e0940cc5d63d17d85ff6dac257">MemoryLocation::getAfter</a>(PtrOperand, AAInfo);</span></CodeLine>
<Link id="l05001" /><CodeLine lineNumber="5001"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> AddToChain = !<a href="/docs/api/classes/llvm/selectiondagbuilder/#a23f8a52e7e457d67b67aa86541f55c17">BatchAA</a> || !<a href="/docs/api/classes/llvm/selectiondagbuilder/#a23f8a52e7e457d67b67aa86541f55c17">BatchAA</a>-&gt;pointsToConstantMemory(<a href="/docs/api/files/lib/lib/analysis/inlineorder-cpp/#a7ee6f0cb51c3b9056199e9a0001fe8c3ad01fd9b01e9dde8bd3dc247afbfb7218">ML</a>);</span></CodeLine>
<Link id="l05002" /><CodeLine lineNumber="5002"></CodeLine>
<Link id="l05003" /><CodeLine lineNumber="5003"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> InChain = AddToChain ? <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getRoot() : <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getEntryNode();</span></CodeLine>
<Link id="l05004" /><CodeLine lineNumber="5004"></CodeLine>
<Link id="l05005" /><CodeLine lineNumber="5005"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> MMOFlags = <a href="/docs/api/classes/llvm/machinememoperand/#aaa2020e47e35179234b9ea27d555b2dda7d12be6206e5b0026c71bbcd5cb76494">MachineMemOperand::MOLoad</a>;</span></CodeLine>
<Link id="l05006" /><CodeLine lineNumber="5006"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.hasMetadata(LLVMContext::MD&#95;nontemporal))</span></CodeLine>
<Link id="l05007" /><CodeLine lineNumber="5007"><span class="doxyHighlight">    MMOFlags |= <a href="/docs/api/classes/llvm/machinememoperand/#aaa2020e47e35179234b9ea27d555b2dda8d09c51969b0954512ed65ee26551081">MachineMemOperand::MONonTemporal</a>;</span></CodeLine>
<Link id="l05008" /><CodeLine lineNumber="5008"></CodeLine>
<Link id="l05009" /><CodeLine lineNumber="5009"><span class="doxyHighlight">  MachineMemOperand &#42;MMO = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMachineFunction().getMachineMemOperand(</span></CodeLine>
<Link id="l05010" /><CodeLine lineNumber="5010"><span class="doxyHighlight">      MachinePointerInfo(PtrOperand), MMOFlags,</span></CodeLine>
<Link id="l05011" /><CodeLine lineNumber="5011"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/locationsize/#a837cf7f4d88580c0adb92afc6a3b08b0">LocationSize::beforeOrAfterPointer</a>(), Alignment, AAInfo, Ranges);</span></CodeLine>
<Link id="l05012" /><CodeLine lineNumber="5012"></CodeLine>
<Link id="l05013" /><CodeLine lineNumber="5013"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l05014" /><CodeLine lineNumber="5014"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;<a href="/docs/api/namespaces/llvm/#aa0d69e81725c10fa5407f0bf34462068">TTI</a> =</span></CodeLine>
<Link id="l05015" /><CodeLine lineNumber="5015"><span class="doxyHighlight">      TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a30aa4a06549273240892d58449b8d268">getTargetMachine</a>().<a href="/docs/api/classes/llvm/targetmachine/#a89d17091515cc3617c0901a05308f27b">getTargetTransformInfo</a>(&#42;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getFunction());</span></CodeLine>
<Link id="l05016" /><CodeLine lineNumber="5016"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// The Load/Res may point to different values and both of them are output</span></CodeLine>
<Link id="l05017" /><CodeLine lineNumber="5017"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// variables.</span></CodeLine>
<Link id="l05018" /><CodeLine lineNumber="5018"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/spii/#ad2b7483c625986ac800ae1c31ae4cce7a5069619ca8fdce305534f3fe85091a0f">Load</a>;</span></CodeLine>
<Link id="l05019" /><CodeLine lineNumber="5019"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Res;</span></CodeLine>
<Link id="l05020" /><CodeLine lineNumber="5020"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!IsExpanding &amp;&amp;</span></CodeLine>
<Link id="l05021" /><CodeLine lineNumber="5021"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/#aa0d69e81725c10fa5407f0bf34462068">TTI</a>.<a href="/docs/api/classes/llvm/targettransforminfo/#ada0fe933e853c23312ff60304ce7e220">hasConditionalLoadStoreForType</a>(Src0Operand-&gt;<a href="/docs/api/classes/llvm/value/#a0344a49526443edf90cc0aef3abd3337">getType</a>()))</span></CodeLine>
<Link id="l05022" /><CodeLine lineNumber="5022"><span class="doxyHighlight">    Res = TLI.<a href="/docs/api/classes/llvm/targetlowering/#a18dbec68fb7d9eadbe98106caa943e51">visitMaskedLoad</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>, sdl, InChain, MMO, Load, <a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, Src0, Mask);</span></CodeLine>
<Link id="l05023" /><CodeLine lineNumber="5023"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">else</span></CodeLine>
<Link id="l05024" /><CodeLine lineNumber="5024"><span class="doxyHighlight">    Res = <a href="/docs/api/namespaces/llvm/spii/#ad2b7483c625986ac800ae1c31ae4cce7a5069619ca8fdce305534f3fe85091a0f">Load</a> =</span></CodeLine>
<Link id="l05025" /><CodeLine lineNumber="5025"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMaskedLoad(VT, sdl, InChain, <a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, <a href="/docs/api/namespaces/llvm/#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, Mask, Src0, VT, MMO,</span></CodeLine>
<Link id="l05026" /><CodeLine lineNumber="5026"><span class="doxyHighlight">                          <a href="/docs/api/namespaces/llvm/isd/#abee7ecb577fcade34eb16ccb7f503e31ade1c53e7b8a373e22ec53ff7bcbace9f">ISD::UNINDEXED</a>, <a href="/docs/api/namespaces/llvm/isd/#ad4d48171b87ca51ff54c10a436bac4d7a6aacde2c67988b43a261a7f7ceac4be3">ISD::NON&#95;EXTLOAD</a>, IsExpanding);</span></CodeLine>
<Link id="l05027" /><CodeLine lineNumber="5027"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (AddToChain)</span></CodeLine>
<Link id="l05028" /><CodeLine lineNumber="5028"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#a9a1381eb77fac8d57f54f7bf25919a4e">PendingLoads</a>.push&#95;back(<a href="/docs/api/namespaces/llvm/spii/#ad2b7483c625986ac800ae1c31ae4cce7a5069619ca8fdce305534f3fe85091a0f">Load</a>.getValue(1));</span></CodeLine>
<Link id="l05029" /><CodeLine lineNumber="5029"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Res);</span></CodeLine>
<Link id="l05030" /><CodeLine lineNumber="5030"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l05031" /><CodeLine lineNumber="5031"></CodeLine>
<Link id="l05032" /><CodeLine lineNumber="5032"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitMaskedGather(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/callinst">CallInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l05033" /><CodeLine lineNumber="5033"><span class="doxyHighlight">  SDLoc sdl = <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>();</span></CodeLine>
<Link id="l05034" /><CodeLine lineNumber="5034"></CodeLine>
<Link id="l05035" /><CodeLine lineNumber="5035"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// @llvm.masked.gather.&#42;(Ptrs, alignment, Mask, Src0)</span></CodeLine>
<Link id="l05036" /><CodeLine lineNumber="5036"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;<a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0);</span></CodeLine>
<Link id="l05037" /><CodeLine lineNumber="5037"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Src0 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(3));</span></CodeLine>
<Link id="l05038" /><CodeLine lineNumber="5038"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/bitmaskenumdetail/#a4562904154aff9698a612bc7f6086a4c">Mask</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(2));</span></CodeLine>
<Link id="l05039" /><CodeLine lineNumber="5039"></CodeLine>
<Link id="l05040" /><CodeLine lineNumber="5040"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> TargetLowering &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l05041" /><CodeLine lineNumber="5041"><span class="doxyHighlight">  EVT VT = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType());</span></CodeLine>
<Link id="l05042" /><CodeLine lineNumber="5042"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/arg/key/#a6b334a5f83504ebc99cc59f4f333ff98">Align</a> Alignment = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;ConstantInt&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1))</span></CodeLine>
<Link id="l05043" /><CodeLine lineNumber="5043"><span class="doxyHighlight">                        -&gt;getMaybeAlignValue()</span></CodeLine>
<Link id="l05044" /><CodeLine lineNumber="5044"><span class="doxyHighlight">                        .value&#95;or(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getEVTAlign(VT.<a href="/docs/api/structs/llvm/evt/#aa85c75e8eb097f02caeb5b9119eebfef">getScalarType</a>()));</span></CodeLine>
<Link id="l05045" /><CodeLine lineNumber="5045"></CodeLine>
<Link id="l05046" /><CodeLine lineNumber="5046"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> MDNode &#42;<a href="/docs/api/namespaces/llvm/logicalview/#a8d4dd8d1ec9d9328d03bb2b99aa74744a92711ef5b0215a076fef4a3abbfc2258">Ranges</a> = <a href="#ae1b80d5114dd1a73aacd01971f29d5ee">getRangeMetadata</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</span></CodeLine>
<Link id="l05047" /><CodeLine lineNumber="5047"></CodeLine>
<Link id="l05048" /><CodeLine lineNumber="5048"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Root = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getRoot();</span></CodeLine>
<Link id="l05049" /><CodeLine lineNumber="5049"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/sampleprof/#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>;</span></CodeLine>
<Link id="l05050" /><CodeLine lineNumber="5050"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/dwarf/#a5d3c920b66ea797d6adb243862fdf47a">Index</a>;</span></CodeLine>
<Link id="l05051" /><CodeLine lineNumber="5051"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/isd/#aa30bf48cd2a89f80c9c608adcabc53e3">ISD::MemIndexType</a> IndexType;</span></CodeLine>
<Link id="l05052" /><CodeLine lineNumber="5052"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Scale;</span></CodeLine>
<Link id="l05053" /><CodeLine lineNumber="5053"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> UniformBase = <a href="#a3e8b055fdb7e07479b83d69c15211d54">getUniformBase</a>(<a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, <a href="/docs/api/namespaces/llvm/sampleprof/#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>, Index, IndexType, Scale, </span><span class="doxyHighlightKeyword">this</span><span class="doxyHighlight">,</span></CodeLine>
<Link id="l05054" /><CodeLine lineNumber="5054"><span class="doxyHighlight">                                    <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getParent(), VT.<a href="/docs/api/structs/llvm/evt/#a2648fd0c9417e0aeb3e8b194c6509357">getScalarStoreSize</a>());</span></CodeLine>
<Link id="l05055" /><CodeLine lineNumber="5055"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> AS = <a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>-&gt;getType()-&gt;getScalarType()-&gt;getPointerAddressSpace();</span></CodeLine>
<Link id="l05056" /><CodeLine lineNumber="5056"><span class="doxyHighlight">  MachineMemOperand &#42;MMO = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMachineFunction().getMachineMemOperand(</span></CodeLine>
<Link id="l05057" /><CodeLine lineNumber="5057"><span class="doxyHighlight">      MachinePointerInfo(AS), <a href="/docs/api/classes/llvm/machinememoperand/#aaa2020e47e35179234b9ea27d555b2dda7d12be6206e5b0026c71bbcd5cb76494">MachineMemOperand::MOLoad</a>,</span></CodeLine>
<Link id="l05058" /><CodeLine lineNumber="5058"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/locationsize/#a837cf7f4d88580c0adb92afc6a3b08b0">LocationSize::beforeOrAfterPointer</a>(), Alignment, <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getAAMetadata(),</span></CodeLine>
<Link id="l05059" /><CodeLine lineNumber="5059"><span class="doxyHighlight">      Ranges);</span></CodeLine>
<Link id="l05060" /><CodeLine lineNumber="5060"></CodeLine>
<Link id="l05061" /><CodeLine lineNumber="5061"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!UniformBase) &#123;</span></CodeLine>
<Link id="l05062" /><CodeLine lineNumber="5062"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/sampleprof/#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getConstant(0, sdl, TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout()));</span></CodeLine>
<Link id="l05063" /><CodeLine lineNumber="5063"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/dwarf/#a5d3c920b66ea797d6adb243862fdf47a">Index</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>);</span></CodeLine>
<Link id="l05064" /><CodeLine lineNumber="5064"><span class="doxyHighlight">    IndexType = <a href="/docs/api/namespaces/llvm/isd/#aa30bf48cd2a89f80c9c608adcabc53e3a0173acb50fe8c4337c23a98baab3f4db">ISD::SIGNED&#95;SCALED</a>;</span></CodeLine>
<Link id="l05065" /><CodeLine lineNumber="5065"><span class="doxyHighlight">    Scale = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetConstant(1, sdl, TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout()));</span></CodeLine>
<Link id="l05066" /><CodeLine lineNumber="5066"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l05067" /><CodeLine lineNumber="5067"></CodeLine>
<Link id="l05068" /><CodeLine lineNumber="5068"><span class="doxyHighlight">  EVT IdxVT = <a href="/docs/api/namespaces/llvm/dwarf/#a5d3c920b66ea797d6adb243862fdf47a">Index</a>.getValueType();</span></CodeLine>
<Link id="l05069" /><CodeLine lineNumber="5069"><span class="doxyHighlight">  EVT EltTy = IdxVT.<a href="/docs/api/structs/llvm/evt/#abc4c6365ade17ad4443ad0e381e7479d">getVectorElementType</a>();</span></CodeLine>
<Link id="l05070" /><CodeLine lineNumber="5070"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a5a5c0b8cc6da2f6db046ad5ca8e53163">shouldExtendGSIndex</a>(IdxVT, EltTy)) &#123;</span></CodeLine>
<Link id="l05071" /><CodeLine lineNumber="5071"><span class="doxyHighlight">    EVT NewIdxVT = IdxVT.<a href="/docs/api/structs/llvm/evt/#ad9d00ad929ec93255787f7f80c4659d9">changeVectorElementType</a>(EltTy);</span></CodeLine>
<Link id="l05072" /><CodeLine lineNumber="5072"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/dwarf/#a5d3c920b66ea797d6adb243862fdf47a">Index</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a5183f3d72924bc7c77ba8d3f5de9f602">ISD::SIGN&#95;EXTEND</a>, sdl, NewIdxVT, Index);</span></CodeLine>
<Link id="l05073" /><CodeLine lineNumber="5073"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l05074" /><CodeLine lineNumber="5074"></CodeLine>
<Link id="l05075" /><CodeLine lineNumber="5075"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>&#91;&#93; = &#123; Root, Src0, <a href="/docs/api/namespaces/llvm/bitmaskenumdetail/#a4562904154aff9698a612bc7f6086a4c">Mask</a>, <a href="/docs/api/namespaces/llvm/sampleprof/#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>, <a href="/docs/api/namespaces/llvm/dwarf/#a5d3c920b66ea797d6adb243862fdf47a">Index</a>, Scale &#125;;</span></CodeLine>
<Link id="l05076" /><CodeLine lineNumber="5076"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Gather = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMaskedGather(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVTList(VT, MVT::Other), VT, sdl,</span></CodeLine>
<Link id="l05077" /><CodeLine lineNumber="5077"><span class="doxyHighlight">                                       <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>, MMO, IndexType, <a href="/docs/api/namespaces/llvm/isd/#ad4d48171b87ca51ff54c10a436bac4d7a6aacde2c67988b43a261a7f7ceac4be3">ISD::NON&#95;EXTLOAD</a>);</span></CodeLine>
<Link id="l05078" /><CodeLine lineNumber="5078"></CodeLine>
<Link id="l05079" /><CodeLine lineNumber="5079"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#a9a1381eb77fac8d57f54f7bf25919a4e">PendingLoads</a>.push&#95;back(Gather.<a href="/docs/api/classes/llvm/sdvalue/#a64932427432abeb61241e98bea167580">getValue</a>(1));</span></CodeLine>
<Link id="l05080" /><CodeLine lineNumber="5080"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Gather);</span></CodeLine>
<Link id="l05081" /><CodeLine lineNumber="5081"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l05082" /><CodeLine lineNumber="5082"></CodeLine>
<Link id="l05083" /><CodeLine lineNumber="5083"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitAtomicCmpXchg(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/atomiccmpxchginst">AtomicCmpXchgInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l05084" /><CodeLine lineNumber="5084"><span class="doxyHighlight">  SDLoc dl = <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>();</span></CodeLine>
<Link id="l05085" /><CodeLine lineNumber="5085"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#a9bccbe67aaab722783ca4e7c504aaaa7">AtomicOrdering</a> SuccessOrdering = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getSuccessOrdering();</span></CodeLine>
<Link id="l05086" /><CodeLine lineNumber="5086"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#a9bccbe67aaab722783ca4e7c504aaaa7">AtomicOrdering</a> FailureOrdering = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getFailureOrdering();</span></CodeLine>
<Link id="l05087" /><CodeLine lineNumber="5087"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/syncscope/#a80741d3f96133391b683effd8e5b77f0">SyncScope::ID</a> SSID = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getSyncScopeID();</span></CodeLine>
<Link id="l05088" /><CodeLine lineNumber="5088"></CodeLine>
<Link id="l05089" /><CodeLine lineNumber="5089"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> InChain = <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>();</span></CodeLine>
<Link id="l05090" /><CodeLine lineNumber="5090"></CodeLine>
<Link id="l05091" /><CodeLine lineNumber="5091"><span class="doxyHighlight">  MVT MemVT = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getCompareOperand()).<a href="/docs/api/classes/llvm/sdvalue/#acbcc973a299b6f8733774668210b5227">getSimpleValueType</a>();</span></CodeLine>
<Link id="l05092" /><CodeLine lineNumber="5092"><span class="doxyHighlight">  SDVTList VTs = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVTList(MemVT, MVT::i1, MVT::Other);</span></CodeLine>
<Link id="l05093" /><CodeLine lineNumber="5093"></CodeLine>
<Link id="l05094" /><CodeLine lineNumber="5094"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> TargetLowering &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l05095" /><CodeLine lineNumber="5095"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a> = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a60ea95d48cc9f428e13c77768d7d65bb">getAtomicMemOperandFlags</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout());</span></CodeLine>
<Link id="l05096" /><CodeLine lineNumber="5096"></CodeLine>
<Link id="l05097" /><CodeLine lineNumber="5097"><span class="doxyHighlight">  MachineFunction &amp;MF = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMachineFunction();</span></CodeLine>
<Link id="l05098" /><CodeLine lineNumber="5098"><span class="doxyHighlight">  MachineMemOperand &#42;MMO = MF.<a href="/docs/api/classes/llvm/machinefunction/#a453ae3052b4f5b14cb4c184243ce5027">getMachineMemOperand</a>(</span></CodeLine>
<Link id="l05099" /><CodeLine lineNumber="5099"><span class="doxyHighlight">      MachinePointerInfo(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getPointerOperand()), Flags,</span></CodeLine>
<Link id="l05100" /><CodeLine lineNumber="5100"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/locationsize/#a131715ceeb92fb803a329d6b76d14e0d">LocationSize::precise</a>(MemVT.<a href="/docs/api/classes/llvm/mvt/#ab8e1af73424a59a00656c9ffd505c03f">getStoreSize</a>()), <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getEVTAlign(MemVT),</span></CodeLine>
<Link id="l05101" /><CodeLine lineNumber="5101"><span class="doxyHighlight">      AAMDNodes(), </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">, SSID, SuccessOrdering, FailureOrdering);</span></CodeLine>
<Link id="l05102" /><CodeLine lineNumber="5102"></CodeLine>
<Link id="l05103" /><CodeLine lineNumber="5103"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/m68k/#ab3a288f2953d8eca3e363959fc2cf38ead20caec3b48a1eef164cb4ca81ba2587">L</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getAtomicCmpSwap(ISD::ATOMIC&#95;CMP&#95;SWAP&#95;WITH&#95;SUCCESS,</span></CodeLine>
<Link id="l05104" /><CodeLine lineNumber="5104"><span class="doxyHighlight">                                   dl, MemVT, VTs, InChain,</span></CodeLine>
<Link id="l05105" /><CodeLine lineNumber="5105"><span class="doxyHighlight">                                   <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getPointerOperand()),</span></CodeLine>
<Link id="l05106" /><CodeLine lineNumber="5106"><span class="doxyHighlight">                                   <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getCompareOperand()),</span></CodeLine>
<Link id="l05107" /><CodeLine lineNumber="5107"><span class="doxyHighlight">                                   <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getNewValOperand()), MMO);</span></CodeLine>
<Link id="l05108" /><CodeLine lineNumber="5108"></CodeLine>
<Link id="l05109" /><CodeLine lineNumber="5109"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> OutChain = <a href="/docs/api/namespaces/llvm/m68k/#ab3a288f2953d8eca3e363959fc2cf38ead20caec3b48a1eef164cb4ca81ba2587">L</a>.getValue(2);</span></CodeLine>
<Link id="l05110" /><CodeLine lineNumber="5110"></CodeLine>
<Link id="l05111" /><CodeLine lineNumber="5111"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, L);</span></CodeLine>
<Link id="l05112" /><CodeLine lineNumber="5112"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(OutChain);</span></CodeLine>
<Link id="l05113" /><CodeLine lineNumber="5113"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l05114" /><CodeLine lineNumber="5114"></CodeLine>
<Link id="l05115" /><CodeLine lineNumber="5115"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitAtomicRMW(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/atomicrmwinst">AtomicRMWInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l05116" /><CodeLine lineNumber="5116"><span class="doxyHighlight">  SDLoc dl = <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>();</span></CodeLine>
<Link id="l05117" /><CodeLine lineNumber="5117"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110">ISD::NodeType</a> <a href="/docs/api/namespaces/llvm/amdgpu/cpol/#a7d79a4b341da8ac60b91c1f4b1ea42c4a3795a38ac6eb8cb14191aaba99205a87">NT</a>;</span></CodeLine>
<Link id="l05118" /><CodeLine lineNumber="5118"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">switch</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperation()) &#123;</span></CodeLine>
<Link id="l05119" /><CodeLine lineNumber="5119"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">default</span><span class="doxyHighlight">: <a href="/docs/api/files/include/include/llvm/include/llvm/support/errorhandling-h/#ace243f5c25697a1107cce46626b3dc94">llvm&#95;unreachable</a>(</span><span class="doxyHighlightStringLiteral">&quot;Unknown atomicrmw operation&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l05120" /><CodeLine lineNumber="5120"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/atomicrmwinst/#a461cfbbb5c7a57ab73210498923cf615afc870a548088c5b7a93a34f648889d77">AtomicRMWInst::Xchg</a>: <a href="/docs/api/namespaces/llvm/amdgpu/cpol/#a7d79a4b341da8ac60b91c1f4b1ea42c4a3795a38ac6eb8cb14191aaba99205a87">NT</a> = ISD::ATOMIC&#95;SWAP; </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l05121" /><CodeLine lineNumber="5121"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/atomicrmwinst/#a461cfbbb5c7a57ab73210498923cf615a0794c42b44989f9d9f1454d79ca0dd88">AtomicRMWInst::Add</a>:  <a href="/docs/api/namespaces/llvm/amdgpu/cpol/#a7d79a4b341da8ac60b91c1f4b1ea42c4a3795a38ac6eb8cb14191aaba99205a87">NT</a> = ISD::ATOMIC&#95;LOAD&#95;ADD; </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l05122" /><CodeLine lineNumber="5122"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/atomicrmwinst/#a461cfbbb5c7a57ab73210498923cf615a5db6ca0c3e18acd87290f22ccb2ce564">AtomicRMWInst::Sub</a>:  <a href="/docs/api/namespaces/llvm/amdgpu/cpol/#a7d79a4b341da8ac60b91c1f4b1ea42c4a3795a38ac6eb8cb14191aaba99205a87">NT</a> = ISD::ATOMIC&#95;LOAD&#95;SUB; </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l05123" /><CodeLine lineNumber="5123"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/atomicrmwinst/#a461cfbbb5c7a57ab73210498923cf615a660a31179bfecd737a256372e5fd6122">AtomicRMWInst::And</a>:  <a href="/docs/api/namespaces/llvm/amdgpu/cpol/#a7d79a4b341da8ac60b91c1f4b1ea42c4a3795a38ac6eb8cb14191aaba99205a87">NT</a> = ISD::ATOMIC&#95;LOAD&#95;AND; </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l05124" /><CodeLine lineNumber="5124"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/atomicrmwinst/#a461cfbbb5c7a57ab73210498923cf615afdcdc631cf4fa6829fd7499cd06a306b">AtomicRMWInst::Nand</a>: <a href="/docs/api/namespaces/llvm/amdgpu/cpol/#a7d79a4b341da8ac60b91c1f4b1ea42c4a3795a38ac6eb8cb14191aaba99205a87">NT</a> = ISD::ATOMIC&#95;LOAD&#95;NAND; </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l05125" /><CodeLine lineNumber="5125"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/atomicrmwinst/#a461cfbbb5c7a57ab73210498923cf615a5954f59053121b87ebe0c5fe79942c6e">AtomicRMWInst::Or</a>:   <a href="/docs/api/namespaces/llvm/amdgpu/cpol/#a7d79a4b341da8ac60b91c1f4b1ea42c4a3795a38ac6eb8cb14191aaba99205a87">NT</a> = ISD::ATOMIC&#95;LOAD&#95;OR; </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l05126" /><CodeLine lineNumber="5126"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/atomicrmwinst/#a461cfbbb5c7a57ab73210498923cf615a71aab8ee954b6d71a4eed315e8f6556e">AtomicRMWInst::Xor</a>:  <a href="/docs/api/namespaces/llvm/amdgpu/cpol/#a7d79a4b341da8ac60b91c1f4b1ea42c4a3795a38ac6eb8cb14191aaba99205a87">NT</a> = ISD::ATOMIC&#95;LOAD&#95;XOR; </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l05127" /><CodeLine lineNumber="5127"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/atomicrmwinst/#a461cfbbb5c7a57ab73210498923cf615aa1184a7e35e94d162a2d40f2b11beeb2">AtomicRMWInst::Max</a>:  <a href="/docs/api/namespaces/llvm/amdgpu/cpol/#a7d79a4b341da8ac60b91c1f4b1ea42c4a3795a38ac6eb8cb14191aaba99205a87">NT</a> = ISD::ATOMIC&#95;LOAD&#95;MAX; </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l05128" /><CodeLine lineNumber="5128"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/atomicrmwinst/#a461cfbbb5c7a57ab73210498923cf615a39edb6e51c1ad37244e8b32a2af4077d">AtomicRMWInst::Min</a>:  <a href="/docs/api/namespaces/llvm/amdgpu/cpol/#a7d79a4b341da8ac60b91c1f4b1ea42c4a3795a38ac6eb8cb14191aaba99205a87">NT</a> = ISD::ATOMIC&#95;LOAD&#95;MIN; </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l05129" /><CodeLine lineNumber="5129"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/atomicrmwinst/#a461cfbbb5c7a57ab73210498923cf615abe171d96ba8de66fb30e08c00211591e">AtomicRMWInst::UMax</a>: <a href="/docs/api/namespaces/llvm/amdgpu/cpol/#a7d79a4b341da8ac60b91c1f4b1ea42c4a3795a38ac6eb8cb14191aaba99205a87">NT</a> = ISD::ATOMIC&#95;LOAD&#95;UMAX; </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l05130" /><CodeLine lineNumber="5130"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/atomicrmwinst/#a461cfbbb5c7a57ab73210498923cf615aa53854e09143f57d2ff2ad6ac89dc55d">AtomicRMWInst::UMin</a>: <a href="/docs/api/namespaces/llvm/amdgpu/cpol/#a7d79a4b341da8ac60b91c1f4b1ea42c4a3795a38ac6eb8cb14191aaba99205a87">NT</a> = ISD::ATOMIC&#95;LOAD&#95;UMIN; </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l05131" /><CodeLine lineNumber="5131"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/atomicrmwinst/#a461cfbbb5c7a57ab73210498923cf615a08ef06068dcd583c2476568dda59b324">AtomicRMWInst::FAdd</a>: <a href="/docs/api/namespaces/llvm/amdgpu/cpol/#a7d79a4b341da8ac60b91c1f4b1ea42c4a3795a38ac6eb8cb14191aaba99205a87">NT</a> = ISD::ATOMIC&#95;LOAD&#95;FADD; </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l05132" /><CodeLine lineNumber="5132"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/atomicrmwinst/#a461cfbbb5c7a57ab73210498923cf615a92f66d4bc04fc8514bee80509f3e78d4">AtomicRMWInst::FSub</a>: <a href="/docs/api/namespaces/llvm/amdgpu/cpol/#a7d79a4b341da8ac60b91c1f4b1ea42c4a3795a38ac6eb8cb14191aaba99205a87">NT</a> = ISD::ATOMIC&#95;LOAD&#95;FSUB; </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l05133" /><CodeLine lineNumber="5133"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/atomicrmwinst/#a461cfbbb5c7a57ab73210498923cf615acce124326ba87b0127b36c412bf555fd">AtomicRMWInst::FMax</a>: <a href="/docs/api/namespaces/llvm/amdgpu/cpol/#a7d79a4b341da8ac60b91c1f4b1ea42c4a3795a38ac6eb8cb14191aaba99205a87">NT</a> = ISD::ATOMIC&#95;LOAD&#95;FMAX; </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l05134" /><CodeLine lineNumber="5134"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/atomicrmwinst/#a461cfbbb5c7a57ab73210498923cf615abd5e733a10a36f3572105b1a67538e18">AtomicRMWInst::FMin</a>: <a href="/docs/api/namespaces/llvm/amdgpu/cpol/#a7d79a4b341da8ac60b91c1f4b1ea42c4a3795a38ac6eb8cb14191aaba99205a87">NT</a> = ISD::ATOMIC&#95;LOAD&#95;FMIN; </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l05135" /><CodeLine lineNumber="5135"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/atomicrmwinst/#a461cfbbb5c7a57ab73210498923cf615a9334c9815ddc2b25804c6c03b68cc39b">AtomicRMWInst::UIncWrap</a>:</span></CodeLine>
<Link id="l05136" /><CodeLine lineNumber="5136"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/amdgpu/cpol/#a7d79a4b341da8ac60b91c1f4b1ea42c4a3795a38ac6eb8cb14191aaba99205a87">NT</a> = ISD::ATOMIC&#95;LOAD&#95;UINC&#95;WRAP;</span></CodeLine>
<Link id="l05137" /><CodeLine lineNumber="5137"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l05138" /><CodeLine lineNumber="5138"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/atomicrmwinst/#a461cfbbb5c7a57ab73210498923cf615ad3ed1a8c334bc3a50d59aaa57ee9e9f3">AtomicRMWInst::UDecWrap</a>:</span></CodeLine>
<Link id="l05139" /><CodeLine lineNumber="5139"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/amdgpu/cpol/#a7d79a4b341da8ac60b91c1f4b1ea42c4a3795a38ac6eb8cb14191aaba99205a87">NT</a> = ISD::ATOMIC&#95;LOAD&#95;UDEC&#95;WRAP;</span></CodeLine>
<Link id="l05140" /><CodeLine lineNumber="5140"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l05141" /><CodeLine lineNumber="5141"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/atomicrmwinst/#a461cfbbb5c7a57ab73210498923cf615a0f94e2ef083268e45d22a220f92567a4">AtomicRMWInst::USubCond</a>:</span></CodeLine>
<Link id="l05142" /><CodeLine lineNumber="5142"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/amdgpu/cpol/#a7d79a4b341da8ac60b91c1f4b1ea42c4a3795a38ac6eb8cb14191aaba99205a87">NT</a> = ISD::ATOMIC&#95;LOAD&#95;USUB&#95;COND;</span></CodeLine>
<Link id="l05143" /><CodeLine lineNumber="5143"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l05144" /><CodeLine lineNumber="5144"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/atomicrmwinst/#a461cfbbb5c7a57ab73210498923cf615a7bf1abb23eccced685c706917aff605c">AtomicRMWInst::USubSat</a>:</span></CodeLine>
<Link id="l05145" /><CodeLine lineNumber="5145"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/amdgpu/cpol/#a7d79a4b341da8ac60b91c1f4b1ea42c4a3795a38ac6eb8cb14191aaba99205a87">NT</a> = ISD::ATOMIC&#95;LOAD&#95;USUB&#95;SAT;</span></CodeLine>
<Link id="l05146" /><CodeLine lineNumber="5146"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l05147" /><CodeLine lineNumber="5147"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l05148" /><CodeLine lineNumber="5148"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#a9bccbe67aaab722783ca4e7c504aaaa7">AtomicOrdering</a> <a href="/docs/api/namespaces/llvm/nvptx/#adcf87377f3df8d9008825b7fc46f4f01">Ordering</a> = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOrdering();</span></CodeLine>
<Link id="l05149" /><CodeLine lineNumber="5149"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/syncscope/#a80741d3f96133391b683effd8e5b77f0">SyncScope::ID</a> SSID = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getSyncScopeID();</span></CodeLine>
<Link id="l05150" /><CodeLine lineNumber="5150"></CodeLine>
<Link id="l05151" /><CodeLine lineNumber="5151"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> InChain = <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>();</span></CodeLine>
<Link id="l05152" /><CodeLine lineNumber="5152"></CodeLine>
<Link id="l05153" /><CodeLine lineNumber="5153"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> MemVT = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getValOperand()).<a href="/docs/api/classes/llvm/sdvalue/#acbcc973a299b6f8733774668210b5227">getSimpleValueType</a>();</span></CodeLine>
<Link id="l05154" /><CodeLine lineNumber="5154"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> TargetLowering &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l05155" /><CodeLine lineNumber="5155"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a> = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a60ea95d48cc9f428e13c77768d7d65bb">getAtomicMemOperandFlags</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout());</span></CodeLine>
<Link id="l05156" /><CodeLine lineNumber="5156"></CodeLine>
<Link id="l05157" /><CodeLine lineNumber="5157"><span class="doxyHighlight">  MachineFunction &amp;MF = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMachineFunction();</span></CodeLine>
<Link id="l05158" /><CodeLine lineNumber="5158"><span class="doxyHighlight">  MachineMemOperand &#42;MMO = MF.<a href="/docs/api/classes/llvm/machinefunction/#a453ae3052b4f5b14cb4c184243ce5027">getMachineMemOperand</a>(</span></CodeLine>
<Link id="l05159" /><CodeLine lineNumber="5159"><span class="doxyHighlight">      MachinePointerInfo(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getPointerOperand()), Flags,</span></CodeLine>
<Link id="l05160" /><CodeLine lineNumber="5160"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/locationsize/#a131715ceeb92fb803a329d6b76d14e0d">LocationSize::precise</a>(MemVT.<a href="/docs/api/classes/llvm/mvt/#ab8e1af73424a59a00656c9ffd505c03f">getStoreSize</a>()), <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getEVTAlign(MemVT),</span></CodeLine>
<Link id="l05161" /><CodeLine lineNumber="5161"><span class="doxyHighlight">      AAMDNodes(), </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">, SSID, Ordering);</span></CodeLine>
<Link id="l05162" /><CodeLine lineNumber="5162"></CodeLine>
<Link id="l05163" /><CodeLine lineNumber="5163"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/m68k/#ab3a288f2953d8eca3e363959fc2cf38ead20caec3b48a1eef164cb4ca81ba2587">L</a> =</span></CodeLine>
<Link id="l05164" /><CodeLine lineNumber="5164"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getAtomic(NT, dl, MemVT, InChain,</span></CodeLine>
<Link id="l05165" /><CodeLine lineNumber="5165"><span class="doxyHighlight">                  <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getPointerOperand()), <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getValOperand()),</span></CodeLine>
<Link id="l05166" /><CodeLine lineNumber="5166"><span class="doxyHighlight">                  MMO);</span></CodeLine>
<Link id="l05167" /><CodeLine lineNumber="5167"></CodeLine>
<Link id="l05168" /><CodeLine lineNumber="5168"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> OutChain = <a href="/docs/api/namespaces/llvm/m68k/#ab3a288f2953d8eca3e363959fc2cf38ead20caec3b48a1eef164cb4ca81ba2587">L</a>.getValue(1);</span></CodeLine>
<Link id="l05169" /><CodeLine lineNumber="5169"></CodeLine>
<Link id="l05170" /><CodeLine lineNumber="5170"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, L);</span></CodeLine>
<Link id="l05171" /><CodeLine lineNumber="5171"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(OutChain);</span></CodeLine>
<Link id="l05172" /><CodeLine lineNumber="5172"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l05173" /><CodeLine lineNumber="5173"></CodeLine>
<Link id="l05174" /><CodeLine lineNumber="5174"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitFence(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/fenceinst">FenceInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l05175" /><CodeLine lineNumber="5175"><span class="doxyHighlight">  SDLoc dl = <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>();</span></CodeLine>
<Link id="l05176" /><CodeLine lineNumber="5176"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> TargetLowering &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l05177" /><CodeLine lineNumber="5177"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>&#91;3&#93;;</span></CodeLine>
<Link id="l05178" /><CodeLine lineNumber="5178"><span class="doxyHighlight">  <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>&#91;0&#93; = <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>();</span></CodeLine>
<Link id="l05179" /><CodeLine lineNumber="5179"><span class="doxyHighlight">  <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>&#91;1&#93; = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetConstant((</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight">)<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOrdering(), dl,</span></CodeLine>
<Link id="l05180" /><CodeLine lineNumber="5180"><span class="doxyHighlight">                                 TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#aa466868465e34635e2db2ec6f7bd840a">getFenceOperandTy</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout()));</span></CodeLine>
<Link id="l05181" /><CodeLine lineNumber="5181"><span class="doxyHighlight">  <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>&#91;2&#93; = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetConstant(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getSyncScopeID(), dl,</span></CodeLine>
<Link id="l05182" /><CodeLine lineNumber="5182"><span class="doxyHighlight">                                 TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#aa466868465e34635e2db2ec6f7bd840a">getFenceOperandTy</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout()));</span></CodeLine>
<Link id="l05183" /><CodeLine lineNumber="5183"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::ATOMIC&#95;FENCE, dl, MVT::Other, <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>);</span></CodeLine>
<Link id="l05184" /><CodeLine lineNumber="5184"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>);</span></CodeLine>
<Link id="l05185" /><CodeLine lineNumber="5185"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(<a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>);</span></CodeLine>
<Link id="l05186" /><CodeLine lineNumber="5186"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l05187" /><CodeLine lineNumber="5187"></CodeLine>
<Link id="l05188" /><CodeLine lineNumber="5188"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitAtomicLoad(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/loadinst">LoadInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l05189" /><CodeLine lineNumber="5189"><span class="doxyHighlight">  SDLoc dl = <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>();</span></CodeLine>
<Link id="l05190" /><CodeLine lineNumber="5190"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#a9bccbe67aaab722783ca4e7c504aaaa7">AtomicOrdering</a> Order = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOrdering();</span></CodeLine>
<Link id="l05191" /><CodeLine lineNumber="5191"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/syncscope/#a80741d3f96133391b683effd8e5b77f0">SyncScope::ID</a> SSID = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getSyncScopeID();</span></CodeLine>
<Link id="l05192" /><CodeLine lineNumber="5192"></CodeLine>
<Link id="l05193" /><CodeLine lineNumber="5193"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> InChain = <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>();</span></CodeLine>
<Link id="l05194" /><CodeLine lineNumber="5194"></CodeLine>
<Link id="l05195" /><CodeLine lineNumber="5195"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> TargetLowering &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l05196" /><CodeLine lineNumber="5196"><span class="doxyHighlight">  EVT VT = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType());</span></CodeLine>
<Link id="l05197" /><CodeLine lineNumber="5197"><span class="doxyHighlight">  EVT MemVT = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a02b5aaf4357ae931647439e312a034bc">getMemValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType());</span></CodeLine>
<Link id="l05198" /><CodeLine lineNumber="5198"></CodeLine>
<Link id="l05199" /><CodeLine lineNumber="5199"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#ae209eef1c0fd4634eea3311501aa6c23">supportsUnalignedAtomics</a>() &amp;&amp;</span></CodeLine>
<Link id="l05200" /><CodeLine lineNumber="5200"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getAlign().value() &lt; MemVT.<a href="/docs/api/structs/llvm/evt/#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>() / 8)</span></CodeLine>
<Link id="l05201" /><CodeLine lineNumber="5201"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/#a7f2a3d4dcfee70225988aec53ff1e173">report&#95;fatal&#95;error</a>(</span><span class="doxyHighlightStringLiteral">&quot;Cannot generate unaligned atomic load&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l05202" /><CodeLine lineNumber="5202"></CodeLine>
<Link id="l05203" /><CodeLine lineNumber="5203"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a> = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a76e90df9d2b35d9174077de99d909165">getLoadMemOperandFlags</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/classes/llvm/selectiondagbuilder/#acb6015cccbf35f2e27ca3367cda3cdec">AC</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ae283c81e2135fac41f1896dd39c4cc40">LibInfo</a>);</span></CodeLine>
<Link id="l05204" /><CodeLine lineNumber="5204"></CodeLine>
<Link id="l05205" /><CodeLine lineNumber="5205"><span class="doxyHighlight">  MachineMemOperand &#42;MMO = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMachineFunction().getMachineMemOperand(</span></CodeLine>
<Link id="l05206" /><CodeLine lineNumber="5206"><span class="doxyHighlight">      MachinePointerInfo(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getPointerOperand()), Flags,</span></CodeLine>
<Link id="l05207" /><CodeLine lineNumber="5207"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/locationsize/#a131715ceeb92fb803a329d6b76d14e0d">LocationSize::precise</a>(MemVT.<a href="/docs/api/structs/llvm/evt/#a1572b31fadbd0d758314b8d35a050410">getStoreSize</a>()), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getAlign(), AAMDNodes(),</span></CodeLine>
<Link id="l05208" /><CodeLine lineNumber="5208"><span class="doxyHighlight">      </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">, SSID, Order);</span></CodeLine>
<Link id="l05209" /><CodeLine lineNumber="5209"></CodeLine>
<Link id="l05210" /><CodeLine lineNumber="5210"><span class="doxyHighlight">  InChain = TLI.<a href="/docs/api/classes/llvm/targetlowering/#a4c8ebb50f3043a4715d5a182288e8c82">prepareVolatileOrAtomicLoad</a>(InChain, dl, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>);</span></CodeLine>
<Link id="l05211" /><CodeLine lineNumber="5211"></CodeLine>
<Link id="l05212" /><CodeLine lineNumber="5212"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getPointerOperand());</span></CodeLine>
<Link id="l05213" /><CodeLine lineNumber="5213"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/m68k/#ab3a288f2953d8eca3e363959fc2cf38ead20caec3b48a1eef164cb4ca81ba2587">L</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getAtomic(ISD::ATOMIC&#95;LOAD, dl, MemVT, MemVT, InChain,</span></CodeLine>
<Link id="l05214" /><CodeLine lineNumber="5214"><span class="doxyHighlight">                            <a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, MMO);</span></CodeLine>
<Link id="l05215" /><CodeLine lineNumber="5215"></CodeLine>
<Link id="l05216" /><CodeLine lineNumber="5216"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> OutChain = <a href="/docs/api/namespaces/llvm/m68k/#ab3a288f2953d8eca3e363959fc2cf38ead20caec3b48a1eef164cb4ca81ba2587">L</a>.getValue(1);</span></CodeLine>
<Link id="l05217" /><CodeLine lineNumber="5217"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (MemVT != VT)</span></CodeLine>
<Link id="l05218" /><CodeLine lineNumber="5218"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/m68k/#ab3a288f2953d8eca3e363959fc2cf38ead20caec3b48a1eef164cb4ca81ba2587">L</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getPtrExtOrTrunc(L, dl, VT);</span></CodeLine>
<Link id="l05219" /><CodeLine lineNumber="5219"></CodeLine>
<Link id="l05220" /><CodeLine lineNumber="5220"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, L);</span></CodeLine>
<Link id="l05221" /><CodeLine lineNumber="5221"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(OutChain);</span></CodeLine>
<Link id="l05222" /><CodeLine lineNumber="5222"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l05223" /><CodeLine lineNumber="5223"></CodeLine>
<Link id="l05224" /><CodeLine lineNumber="5224"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitAtomicStore(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/storeinst">StoreInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l05225" /><CodeLine lineNumber="5225"><span class="doxyHighlight">  SDLoc dl = <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>();</span></CodeLine>
<Link id="l05226" /><CodeLine lineNumber="5226"></CodeLine>
<Link id="l05227" /><CodeLine lineNumber="5227"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#a9bccbe67aaab722783ca4e7c504aaaa7">AtomicOrdering</a> <a href="/docs/api/namespaces/llvm/nvptx/#adcf87377f3df8d9008825b7fc46f4f01">Ordering</a> = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOrdering();</span></CodeLine>
<Link id="l05228" /><CodeLine lineNumber="5228"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/syncscope/#a80741d3f96133391b683effd8e5b77f0">SyncScope::ID</a> SSID = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getSyncScopeID();</span></CodeLine>
<Link id="l05229" /><CodeLine lineNumber="5229"></CodeLine>
<Link id="l05230" /><CodeLine lineNumber="5230"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> InChain = <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>();</span></CodeLine>
<Link id="l05231" /><CodeLine lineNumber="5231"></CodeLine>
<Link id="l05232" /><CodeLine lineNumber="5232"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> TargetLowering &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l05233" /><CodeLine lineNumber="5233"><span class="doxyHighlight">  EVT MemVT =</span></CodeLine>
<Link id="l05234" /><CodeLine lineNumber="5234"><span class="doxyHighlight">      TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a02b5aaf4357ae931647439e312a034bc">getMemValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getValueOperand()-&gt;getType());</span></CodeLine>
<Link id="l05235" /><CodeLine lineNumber="5235"></CodeLine>
<Link id="l05236" /><CodeLine lineNumber="5236"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#ae209eef1c0fd4634eea3311501aa6c23">supportsUnalignedAtomics</a>() &amp;&amp;</span></CodeLine>
<Link id="l05237" /><CodeLine lineNumber="5237"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getAlign().value() &lt; MemVT.<a href="/docs/api/structs/llvm/evt/#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>() / 8)</span></CodeLine>
<Link id="l05238" /><CodeLine lineNumber="5238"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/#a7f2a3d4dcfee70225988aec53ff1e173">report&#95;fatal&#95;error</a>(</span><span class="doxyHighlightStringLiteral">&quot;Cannot generate unaligned atomic store&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l05239" /><CodeLine lineNumber="5239"></CodeLine>
<Link id="l05240" /><CodeLine lineNumber="5240"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a> = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#aaf84f22dd51baf57a3ca66db0dbf035c">getStoreMemOperandFlags</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout());</span></CodeLine>
<Link id="l05241" /><CodeLine lineNumber="5241"></CodeLine>
<Link id="l05242" /><CodeLine lineNumber="5242"><span class="doxyHighlight">  MachineFunction &amp;MF = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMachineFunction();</span></CodeLine>
<Link id="l05243" /><CodeLine lineNumber="5243"><span class="doxyHighlight">  MachineMemOperand &#42;MMO = MF.<a href="/docs/api/classes/llvm/machinefunction/#a453ae3052b4f5b14cb4c184243ce5027">getMachineMemOperand</a>(</span></CodeLine>
<Link id="l05244" /><CodeLine lineNumber="5244"><span class="doxyHighlight">      MachinePointerInfo(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getPointerOperand()), Flags,</span></CodeLine>
<Link id="l05245" /><CodeLine lineNumber="5245"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/locationsize/#a131715ceeb92fb803a329d6b76d14e0d">LocationSize::precise</a>(MemVT.<a href="/docs/api/structs/llvm/evt/#a1572b31fadbd0d758314b8d35a050410">getStoreSize</a>()), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getAlign(), AAMDNodes(),</span></CodeLine>
<Link id="l05246" /><CodeLine lineNumber="5246"><span class="doxyHighlight">      </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">, SSID, Ordering);</span></CodeLine>
<Link id="l05247" /><CodeLine lineNumber="5247"></CodeLine>
<Link id="l05248" /><CodeLine lineNumber="5248"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Val = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getValueOperand());</span></CodeLine>
<Link id="l05249" /><CodeLine lineNumber="5249"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Val.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>() != MemVT)</span></CodeLine>
<Link id="l05250" /><CodeLine lineNumber="5250"><span class="doxyHighlight">    Val = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getPtrExtOrTrunc(Val, dl, MemVT);</span></CodeLine>
<Link id="l05251" /><CodeLine lineNumber="5251"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getPointerOperand());</span></CodeLine>
<Link id="l05252" /><CodeLine lineNumber="5252"></CodeLine>
<Link id="l05253" /><CodeLine lineNumber="5253"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> OutChain =</span></CodeLine>
<Link id="l05254" /><CodeLine lineNumber="5254"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getAtomic(ISD::ATOMIC&#95;STORE, dl, MemVT, InChain, Val, <a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, MMO);</span></CodeLine>
<Link id="l05255" /><CodeLine lineNumber="5255"></CodeLine>
<Link id="l05256" /><CodeLine lineNumber="5256"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, OutChain);</span></CodeLine>
<Link id="l05257" /><CodeLine lineNumber="5257"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(OutChain);</span></CodeLine>
<Link id="l05258" /><CodeLine lineNumber="5258"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l05259" /><CodeLine lineNumber="5259"></CodeLine>
<Link id="l05260" /><CodeLine lineNumber="5260"><span class="doxyHighlightComment">/// visitTargetIntrinsic - Lower a call of a target intrinsic to an INTRINSIC</span></CodeLine>
<Link id="l05261" /><CodeLine lineNumber="5261"><span class="doxyHighlightComment">/// node.</span></CodeLine>
<Link id="l05262" /><CodeLine lineNumber="5262"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitTargetIntrinsic(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/callinst">CallInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</span></CodeLine>
<Link id="l05263" /><CodeLine lineNumber="5263"><span class="doxyHighlight">                                               </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/intrinsic">Intrinsic</a>) &#123;</span></CodeLine>
<Link id="l05264" /><CodeLine lineNumber="5264"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Ignore the callsite&#39;s attributes. A specific call site may be marked with</span></CodeLine>
<Link id="l05265" /><CodeLine lineNumber="5265"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// readnone, but the lowering code will expect the chain based on the</span></CodeLine>
<Link id="l05266" /><CodeLine lineNumber="5266"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// definition.</span></CodeLine>
<Link id="l05267" /><CodeLine lineNumber="5267"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/codeview/#adfebd8c4ae29ccd84c600c1e65d6b807a86408593c34af77fdd90df932f8b5261">Function</a> &#42;<a href="/docs/api/files/lib/lib/support/md5-cpp/#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getCalledFunction();</span></CodeLine>
<Link id="l05268" /><CodeLine lineNumber="5268"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> HasChain = !<a href="/docs/api/files/lib/lib/support/md5-cpp/#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;doesNotAccessMemory();</span></CodeLine>
<Link id="l05269" /><CodeLine lineNumber="5269"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> OnlyLoad =</span></CodeLine>
<Link id="l05270" /><CodeLine lineNumber="5270"><span class="doxyHighlight">      HasChain &amp;&amp; <a href="/docs/api/files/lib/lib/support/md5-cpp/#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;onlyReadsMemory() &amp;&amp; <a href="/docs/api/files/lib/lib/support/md5-cpp/#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;willReturn() &amp;&amp; <a href="/docs/api/files/lib/lib/support/md5-cpp/#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;doesNotThrow();</span></CodeLine>
<Link id="l05271" /><CodeLine lineNumber="5271"></CodeLine>
<Link id="l05272" /><CodeLine lineNumber="5272"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Build the operand list.</span></CodeLine>
<Link id="l05273" /><CodeLine lineNumber="5273"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;SDValue, 8&gt;</a> <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>;</span></CodeLine>
<Link id="l05274" /><CodeLine lineNumber="5274"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (HasChain) &#123;  </span><span class="doxyHighlightComment">// If this intrinsic has side-effects, chainify it.</span></CodeLine>
<Link id="l05275" /><CodeLine lineNumber="5275"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (OnlyLoad) &#123;</span></CodeLine>
<Link id="l05276" /><CodeLine lineNumber="5276"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// We don&#39;t need to serialize loads against other loads.</span></CodeLine>
<Link id="l05277" /><CodeLine lineNumber="5277"><span class="doxyHighlight">      <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.push&#95;back(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getRoot());</span></CodeLine>
<Link id="l05278" /><CodeLine lineNumber="5278"><span class="doxyHighlight">    &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l05279" /><CodeLine lineNumber="5279"><span class="doxyHighlight">      <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.push&#95;back(<a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>());</span></CodeLine>
<Link id="l05280" /><CodeLine lineNumber="5280"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l05281" /><CodeLine lineNumber="5281"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l05282" /><CodeLine lineNumber="5282"></CodeLine>
<Link id="l05283" /><CodeLine lineNumber="5283"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Info is set by getTgtMemIntrinsic</span></CodeLine>
<Link id="l05284" /><CodeLine lineNumber="5284"><span class="doxyHighlight">  TargetLowering::IntrinsicInfo <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp/#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>;</span></CodeLine>
<Link id="l05285" /><CodeLine lineNumber="5285"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> TargetLowering &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l05286" /><CodeLine lineNumber="5286"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> IsTgtIntrinsic = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a63b14c4f9e64a39b295555f72a3f2b36">getTgtMemIntrinsic</a>(<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp/#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>, <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</span></CodeLine>
<Link id="l05287" /><CodeLine lineNumber="5287"><span class="doxyHighlight">                                               <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMachineFunction(),</span></CodeLine>
<Link id="l05288" /><CodeLine lineNumber="5288"><span class="doxyHighlight">                                               Intrinsic);</span></CodeLine>
<Link id="l05289" /><CodeLine lineNumber="5289"></CodeLine>
<Link id="l05290" /><CodeLine lineNumber="5290"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Add the intrinsic ID as an integer operand if it&#39;s not a target intrinsic.</span></CodeLine>
<Link id="l05291" /><CodeLine lineNumber="5291"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!IsTgtIntrinsic || <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp/#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.opc == <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a2df96794a99f5d3b4415c4a84e616140">ISD::INTRINSIC&#95;VOID</a> ||</span></CodeLine>
<Link id="l05292" /><CodeLine lineNumber="5292"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp/#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.opc == <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110afc09e0bddd693dcf9923e4df42473bd9">ISD::INTRINSIC&#95;W&#95;CHAIN</a>)</span></CodeLine>
<Link id="l05293" /><CodeLine lineNumber="5293"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.push&#95;back(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetConstant(Intrinsic, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(),</span></CodeLine>
<Link id="l05294" /><CodeLine lineNumber="5294"><span class="doxyHighlight">                                        TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout())));</span></CodeLine>
<Link id="l05295" /><CodeLine lineNumber="5295"></CodeLine>
<Link id="l05296" /><CodeLine lineNumber="5296"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Add all operands of the call to the operand list.</span></CodeLine>
<Link id="l05297" /><CodeLine lineNumber="5297"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> i = 0, e = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.arg&#95;size(); i != e; ++i) &#123;</span></CodeLine>
<Link id="l05298" /><CodeLine lineNumber="5298"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;Arg = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(i);</span></CodeLine>
<Link id="l05299" /><CodeLine lineNumber="5299"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.paramHasAttr(i, Attribute::ImmArg)) &#123;</span></CodeLine>
<Link id="l05300" /><CodeLine lineNumber="5300"><span class="doxyHighlight">      <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.push&#95;back(<a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(Arg));</span></CodeLine>
<Link id="l05301" /><CodeLine lineNumber="5301"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">continue</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l05302" /><CodeLine lineNumber="5302"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l05303" /><CodeLine lineNumber="5303"></CodeLine>
<Link id="l05304" /><CodeLine lineNumber="5304"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Use TargetConstant instead of a regular constant for immarg.</span></CodeLine>
<Link id="l05305" /><CodeLine lineNumber="5305"><span class="doxyHighlight">    EVT VT = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), Arg-&gt;<a href="/docs/api/classes/llvm/value/#a0344a49526443edf90cc0aef3abd3337">getType</a>(), </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l05306" /><CodeLine lineNumber="5306"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> ConstantInt &#42;CI = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;ConstantInt&gt;</a>(Arg)) &#123;</span></CodeLine>
<Link id="l05307" /><CodeLine lineNumber="5307"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(CI-&gt;getBitWidth() &lt;= 64 &amp;&amp;</span></CodeLine>
<Link id="l05308" /><CodeLine lineNumber="5308"><span class="doxyHighlight">             </span><span class="doxyHighlightStringLiteral">&quot;large intrinsic immediates not handled&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l05309" /><CodeLine lineNumber="5309"><span class="doxyHighlight">      <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.push&#95;back(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetConstant(&#42;CI, SDLoc(), VT));</span></CodeLine>
<Link id="l05310" /><CodeLine lineNumber="5310"><span class="doxyHighlight">    &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l05311" /><CodeLine lineNumber="5311"><span class="doxyHighlight">      <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.push&#95;back(</span></CodeLine>
<Link id="l05312" /><CodeLine lineNumber="5312"><span class="doxyHighlight">          <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetConstantFP(&#42;<a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;ConstantFP&gt;</a>(Arg), SDLoc(), VT));</span></CodeLine>
<Link id="l05313" /><CodeLine lineNumber="5313"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l05314" /><CodeLine lineNumber="5314"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l05315" /><CodeLine lineNumber="5315"></CodeLine>
<Link id="l05316" /><CodeLine lineNumber="5316"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;EVT, 4&gt;</a> ValueVTs;</span></CodeLine>
<Link id="l05317" /><CodeLine lineNumber="5317"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#ab99618b3d8988b758a67f5a1a6071095">ComputeValueVTs</a>(TLI, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType(), ValueVTs);</span></CodeLine>
<Link id="l05318" /><CodeLine lineNumber="5318"></CodeLine>
<Link id="l05319" /><CodeLine lineNumber="5319"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (HasChain)</span></CodeLine>
<Link id="l05320" /><CodeLine lineNumber="5320"><span class="doxyHighlight">    ValueVTs.<a href="/docs/api/classes/llvm/smallvectortemplatebase/#af42bfbc067df27c19ee2fc859df58799">push&#95;back</a>(MVT::Other);</span></CodeLine>
<Link id="l05321" /><CodeLine lineNumber="5321"></CodeLine>
<Link id="l05322" /><CodeLine lineNumber="5322"><span class="doxyHighlight">  SDVTList VTs = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVTList(ValueVTs);</span></CodeLine>
<Link id="l05323" /><CodeLine lineNumber="5323"></CodeLine>
<Link id="l05324" /><CodeLine lineNumber="5324"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Propagate fast-math-flags from IR to node(s).</span></CodeLine>
<Link id="l05325" /><CodeLine lineNumber="5325"><span class="doxyHighlight">  SDNodeFlags <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>;</span></CodeLine>
<Link id="l05326" /><CodeLine lineNumber="5326"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;FPMO = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;FPMathOperator&gt;</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</span></CodeLine>
<Link id="l05327" /><CodeLine lineNumber="5327"><span class="doxyHighlight">    <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.copyFMF(&#42;FPMO);</span></CodeLine>
<Link id="l05328" /><CodeLine lineNumber="5328"><span class="doxyHighlight">  SelectionDAG::FlagInserter FlagsInserter(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>, Flags);</span></CodeLine>
<Link id="l05329" /><CodeLine lineNumber="5329"></CodeLine>
<Link id="l05330" /><CodeLine lineNumber="5330"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Create the node.</span></CodeLine>
<Link id="l05331" /><CodeLine lineNumber="5331"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/ms-demangle/#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>;</span></CodeLine>
<Link id="l05332" /><CodeLine lineNumber="5332"></CodeLine>
<Link id="l05333" /><CodeLine lineNumber="5333"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> Bundle = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperandBundle(<a href="/docs/api/classes/llvm/llvmcontext/#a44d727ac5fccf852bfb2bae3e06adc9cacdf8ff962c6163eb5fae1f9b2fb5142a">LLVMContext::OB&#95;convergencectrl</a>)) &#123;</span></CodeLine>
<Link id="l05334" /><CodeLine lineNumber="5334"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;Token = Bundle-&gt;Inputs&#91;0&#93;.get();</span></CodeLine>
<Link id="l05335" /><CodeLine lineNumber="5335"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> ConvControlToken = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(Token);</span></CodeLine>
<Link id="l05336" /><CodeLine lineNumber="5336"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.back().getValueType() != MVT::Glue &amp;&amp;</span></CodeLine>
<Link id="l05337" /><CodeLine lineNumber="5337"><span class="doxyHighlight">           </span><span class="doxyHighlightStringLiteral">&quot;Did not expected another glue node here.&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l05338" /><CodeLine lineNumber="5338"><span class="doxyHighlight">    ConvControlToken =</span></CodeLine>
<Link id="l05339" /><CodeLine lineNumber="5339"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a509e81081ec1935d3f4f0df758c60e0f">ISD::CONVERGENCECTRL&#95;GLUE</a>, &#123;&#125;, MVT::Glue, ConvControlToken);</span></CodeLine>
<Link id="l05340" /><CodeLine lineNumber="5340"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.push&#95;back(ConvControlToken);</span></CodeLine>
<Link id="l05341" /><CodeLine lineNumber="5341"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l05342" /><CodeLine lineNumber="5342"></CodeLine>
<Link id="l05343" /><CodeLine lineNumber="5343"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// In some cases, custom collection of operands from CallInst I may be needed.</span></CodeLine>
<Link id="l05344" /><CodeLine lineNumber="5344"><span class="doxyHighlight">  TLI.<a href="/docs/api/classes/llvm/targetlowering/#a79bdddcacb7e2e24a0ba20714b80c18a">CollectTargetIntrinsicOperands</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>);</span></CodeLine>
<Link id="l05345" /><CodeLine lineNumber="5345"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (IsTgtIntrinsic) &#123;</span></CodeLine>
<Link id="l05346" /><CodeLine lineNumber="5346"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// This is target intrinsic that touches memory</span></CodeLine>
<Link id="l05347" /><CodeLine lineNumber="5347"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l05348" /><CodeLine lineNumber="5348"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// TODO: We currently just fallback to address space 0 if getTgtMemIntrinsic</span></CodeLine>
<Link id="l05349" /><CodeLine lineNumber="5349"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//       didn&#39;t yield anything useful.</span></CodeLine>
<Link id="l05350" /><CodeLine lineNumber="5350"><span class="doxyHighlight">    MachinePointerInfo MPI;</span></CodeLine>
<Link id="l05351" /><CodeLine lineNumber="5351"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp/#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.ptrVal)</span></CodeLine>
<Link id="l05352" /><CodeLine lineNumber="5352"><span class="doxyHighlight">      MPI = MachinePointerInfo(<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp/#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.ptrVal, <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp/#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.offset);</span></CodeLine>
<Link id="l05353" /><CodeLine lineNumber="5353"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp/#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.fallbackAddressSpace)</span></CodeLine>
<Link id="l05354" /><CodeLine lineNumber="5354"><span class="doxyHighlight">      MPI = MachinePointerInfo(&#42;<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp/#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.fallbackAddressSpace);</span></CodeLine>
<Link id="l05355" /><CodeLine lineNumber="5355"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/ms-demangle/#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMemIntrinsicNode(<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp/#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.opc, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), VTs, <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>,</span></CodeLine>
<Link id="l05356" /><CodeLine lineNumber="5356"><span class="doxyHighlight">                                     <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp/#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.memVT, MPI, <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp/#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.align, <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp/#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.flags,</span></CodeLine>
<Link id="l05357" /><CodeLine lineNumber="5357"><span class="doxyHighlight">                                     <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp/#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.size, <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getAAMetadata());</span></CodeLine>
<Link id="l05358" /><CodeLine lineNumber="5358"><span class="doxyHighlight">  &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!HasChain) &#123;</span></CodeLine>
<Link id="l05359" /><CodeLine lineNumber="5359"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/ms-demangle/#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110ac771b9cda3b889242d457cc4d9b2159c">ISD::INTRINSIC&#95;WO&#95;CHAIN</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), VTs, <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>);</span></CodeLine>
<Link id="l05360" /><CodeLine lineNumber="5360"><span class="doxyHighlight">  &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType()-&gt;isVoidTy()) &#123;</span></CodeLine>
<Link id="l05361" /><CodeLine lineNumber="5361"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/ms-demangle/#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110afc09e0bddd693dcf9923e4df42473bd9">ISD::INTRINSIC&#95;W&#95;CHAIN</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), VTs, <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>);</span></CodeLine>
<Link id="l05362" /><CodeLine lineNumber="5362"><span class="doxyHighlight">  &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l05363" /><CodeLine lineNumber="5363"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/ms-demangle/#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a2df96794a99f5d3b4415c4a84e616140">ISD::INTRINSIC&#95;VOID</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), VTs, <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>);</span></CodeLine>
<Link id="l05364" /><CodeLine lineNumber="5364"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l05365" /><CodeLine lineNumber="5365"></CodeLine>
<Link id="l05366" /><CodeLine lineNumber="5366"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (HasChain) &#123;</span></CodeLine>
<Link id="l05367" /><CodeLine lineNumber="5367"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/anonymous-loadstorevectorizer-cpp-/#afd1adfcbfce320e6265935ce4d6299a3">Chain</a> = <a href="/docs/api/namespaces/llvm/ms-demangle/#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>.getValue(<a href="/docs/api/namespaces/llvm/ms-demangle/#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>.getNode()-&gt;getNumValues()-1);</span></CodeLine>
<Link id="l05368" /><CodeLine lineNumber="5368"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (OnlyLoad)</span></CodeLine>
<Link id="l05369" /><CodeLine lineNumber="5369"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#a9a1381eb77fac8d57f54f7bf25919a4e">PendingLoads</a>.push&#95;back(Chain);</span></CodeLine>
<Link id="l05370" /><CodeLine lineNumber="5370"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">else</span></CodeLine>
<Link id="l05371" /><CodeLine lineNumber="5371"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(Chain);</span></CodeLine>
<Link id="l05372" /><CodeLine lineNumber="5372"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l05373" /><CodeLine lineNumber="5373"></CodeLine>
<Link id="l05374" /><CodeLine lineNumber="5374"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType()-&gt;isVoidTy()) &#123;</span></CodeLine>
<Link id="l05375" /><CodeLine lineNumber="5375"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;VectorType&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType()))</span></CodeLine>
<Link id="l05376" /><CodeLine lineNumber="5376"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/ms-demangle/#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a3756185351596750edbb4790d9923eea">lowerRangeToAssertZExt</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>, <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Result);</span></CodeLine>
<Link id="l05377" /><CodeLine lineNumber="5377"></CodeLine>
<Link id="l05378" /><CodeLine lineNumber="5378"><span class="doxyHighlight">    MaybeAlign Alignment = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getRetAlign();</span></CodeLine>
<Link id="l05379" /><CodeLine lineNumber="5379"></CodeLine>
<Link id="l05380" /><CodeLine lineNumber="5380"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Insert &#96;assertalign&#96; node if there&#39;s an alignment.</span></CodeLine>
<Link id="l05381" /><CodeLine lineNumber="5381"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="#a49cd2aba4ceac5306ec590bc818e39d7">InsertAssertAlign</a> &amp;&amp; Alignment) &#123;</span></CodeLine>
<Link id="l05382" /><CodeLine lineNumber="5382"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/ms-demangle/#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> =</span></CodeLine>
<Link id="l05383" /><CodeLine lineNumber="5383"><span class="doxyHighlight">          <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getAssertAlign(<a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), Result, Alignment.<a href="/docs/api/structs/llvm/maybealign/#a06846474be3ab85f8d30c388faf3b116">valueOrOne</a>());</span></CodeLine>
<Link id="l05384" /><CodeLine lineNumber="5384"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l05385" /><CodeLine lineNumber="5385"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l05386" /><CodeLine lineNumber="5386"></CodeLine>
<Link id="l05387" /><CodeLine lineNumber="5387"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Result);</span></CodeLine>
<Link id="l05388" /><CodeLine lineNumber="5388"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l05389" /><CodeLine lineNumber="5389"></CodeLine>
<Link id="l05390" /><CodeLine lineNumber="5390"><span class="doxyHighlightComment">/// GetSignificand - Get the significand and build it into a floating-point</span></CodeLine>
<Link id="l05391" /><CodeLine lineNumber="5391"><span class="doxyHighlightComment">/// number with exponent of 1:</span></CodeLine>
<Link id="l05392" /><CodeLine lineNumber="5392"><span class="doxyHighlightComment">///</span></CodeLine>
<Link id="l05393" /><CodeLine lineNumber="5393"><span class="doxyHighlightComment">///   Op = (Op &amp; 0x007fffff) | 0x3f800000;</span></CodeLine>
<Link id="l05394" /><CodeLine lineNumber="5394"><span class="doxyHighlightComment">///</span></CodeLine>
<Link id="l05395" /><CodeLine lineNumber="5395"><span class="doxyHighlightComment">/// where Op is the hexadecimal representation of floating point value.</span></CodeLine>
<Link id="l05396" /><CodeLine lineNumber="5396" lineLink="#ad76e8a405ea9556685c854198b0b2488"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="#ad76e8a405ea9556685c854198b0b2488">GetSignificand</a>(<a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp;DAG, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> &amp;dl) &#123;</span></CodeLine>
<Link id="l05397" /><CodeLine lineNumber="5397"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t1 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, MVT::i32, <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>,</span></CodeLine>
<Link id="l05398" /><CodeLine lineNumber="5398"><span class="doxyHighlight">                           DAG.<a href="/docs/api/classes/llvm/selectiondag/#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0x007fffff, dl, MVT::i32));</span></CodeLine>
<Link id="l05399" /><CodeLine lineNumber="5399"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t2 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>, dl, MVT::i32, t1,</span></CodeLine>
<Link id="l05400" /><CodeLine lineNumber="5400"><span class="doxyHighlight">                           DAG.<a href="/docs/api/classes/llvm/selectiondag/#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0x3f800000, dl, MVT::i32));</span></CodeLine>
<Link id="l05401" /><CodeLine lineNumber="5401"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::BITCAST, dl, MVT::f32, t2);</span></CodeLine>
<Link id="l05402" /><CodeLine lineNumber="5402"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l05403" /><CodeLine lineNumber="5403"></CodeLine>
<Link id="l05404" /><CodeLine lineNumber="5404"><span class="doxyHighlightComment">/// GetExponent - Get the exponent:</span></CodeLine>
<Link id="l05405" /><CodeLine lineNumber="5405"><span class="doxyHighlightComment">///</span></CodeLine>
<Link id="l05406" /><CodeLine lineNumber="5406"><span class="doxyHighlightComment">///   (float)(int)(((Op &amp; 0x7f800000) &gt;&gt; 23) - 127);</span></CodeLine>
<Link id="l05407" /><CodeLine lineNumber="5407"><span class="doxyHighlightComment">///</span></CodeLine>
<Link id="l05408" /><CodeLine lineNumber="5408"><span class="doxyHighlightComment">/// where Op is the hexadecimal representation of floating point value.</span></CodeLine>
<Link id="l05409" /><CodeLine lineNumber="5409" lineLink="#aa70f724269a63b67e0858c8919f7a9cd"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="#aa70f724269a63b67e0858c8919f7a9cd">GetExponent</a>(<a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp;DAG, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>,</span></CodeLine>
<Link id="l05410" /><CodeLine lineNumber="5410"><span class="doxyHighlight">                           </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetlowering">TargetLowering</a> &amp;TLI, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> &amp;dl) &#123;</span></CodeLine>
<Link id="l05411" /><CodeLine lineNumber="5411"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t0 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, MVT::i32, <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>,</span></CodeLine>
<Link id="l05412" /><CodeLine lineNumber="5412"><span class="doxyHighlight">                           DAG.<a href="/docs/api/classes/llvm/selectiondag/#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(0x7f800000, dl, MVT::i32));</span></CodeLine>
<Link id="l05413" /><CodeLine lineNumber="5413"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t1 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(</span></CodeLine>
<Link id="l05414" /><CodeLine lineNumber="5414"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, MVT::i32, t0,</span></CodeLine>
<Link id="l05415" /><CodeLine lineNumber="5415"><span class="doxyHighlight">      DAG.<a href="/docs/api/classes/llvm/selectiondag/#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(23, dl,</span></CodeLine>
<Link id="l05416" /><CodeLine lineNumber="5416"><span class="doxyHighlight">                      TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a6a2579bc0354806c6c9708b068777c3a">getShiftAmountTy</a>(MVT::i32, DAG.<a href="/docs/api/classes/llvm/selectiondag/#a6b442ac8a9fc6147b95ccfb2c3322121">getDataLayout</a>())));</span></CodeLine>
<Link id="l05417" /><CodeLine lineNumber="5417"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t2 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, dl, MVT::i32, t1,</span></CodeLine>
<Link id="l05418" /><CodeLine lineNumber="5418"><span class="doxyHighlight">                           DAG.<a href="/docs/api/classes/llvm/selectiondag/#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(127, dl, MVT::i32));</span></CodeLine>
<Link id="l05419" /><CodeLine lineNumber="5419"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a315004656a75a3c3a9d7294f105a8da2">ISD::SINT&#95;TO&#95;FP</a>, dl, MVT::f32, t2);</span></CodeLine>
<Link id="l05420" /><CodeLine lineNumber="5420"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l05421" /><CodeLine lineNumber="5421"></CodeLine>
<Link id="l05422" /><CodeLine lineNumber="5422"><span class="doxyHighlightComment">/// getF32Constant - Get 32-bit floating point constant.</span></CodeLine>
<Link id="l05423" /><CodeLine lineNumber="5423" lineLink="#a6c1c7a303df4926ba82dfd4ac4ef1deb"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(<a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp;DAG, </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> <a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11534cddb9d36ce7b049eefacc295a96">Flt</a>,</span></CodeLine>
<Link id="l05424" /><CodeLine lineNumber="5424"><span class="doxyHighlight">                              </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> &amp;dl) &#123;</span></CodeLine>
<Link id="l05425" /><CodeLine lineNumber="5425"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> DAG.<a href="/docs/api/classes/llvm/selectiondag/#a354aae224911d4dab66e34bfa10cf5d6">getConstantFP</a>(<a href="/docs/api/classes/llvm/apfloat">APFloat</a>(<a href="/docs/api/structs/llvm/apfloatbase/#a0c5765e9acba977f6e462c2917276d8f">APFloat::IEEEsingle</a>(), <a href="/docs/api/classes/llvm/apint">APInt</a>(32, <a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11534cddb9d36ce7b049eefacc295a96">Flt</a>)), dl,</span></CodeLine>
<Link id="l05426" /><CodeLine lineNumber="5426"><span class="doxyHighlight">                           MVT::f32);</span></CodeLine>
<Link id="l05427" /><CodeLine lineNumber="5427"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l05428" /><CodeLine lineNumber="5428"></CodeLine>
<Link id="l05429" /><CodeLine lineNumber="5429" lineLink="#acef0e53db4a5bc578fc3da0089dc0519"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="#acef0e53db4a5bc578fc3da0089dc0519">getLimitedPrecisionExp2</a>(<a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t0, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> &amp;dl,</span></CodeLine>
<Link id="l05430" /><CodeLine lineNumber="5430"><span class="doxyHighlight">                                       <a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp;DAG) &#123;</span></CodeLine>
<Link id="l05431" /><CodeLine lineNumber="5431"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// TODO: What fast-math-flags should be set on the floating-point nodes?</span></CodeLine>
<Link id="l05432" /><CodeLine lineNumber="5432"></CodeLine>
<Link id="l05433" /><CodeLine lineNumber="5433"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">//   IntegerPartOfX = ((int32&#95;t)(t0);</span></CodeLine>
<Link id="l05434" /><CodeLine lineNumber="5434"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> IntegerPartOfX = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110ac3f8f8d8437c64b2e2e9f978e2707210">ISD::FP&#95;TO&#95;SINT</a>, dl, MVT::i32, t0);</span></CodeLine>
<Link id="l05435" /><CodeLine lineNumber="5435"></CodeLine>
<Link id="l05436" /><CodeLine lineNumber="5436"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">//   FractionalPartOfX = t0 - (float)IntegerPartOfX;</span></CodeLine>
<Link id="l05437" /><CodeLine lineNumber="5437"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t1 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a315004656a75a3c3a9d7294f105a8da2">ISD::SINT&#95;TO&#95;FP</a>, dl, MVT::f32, IntegerPartOfX);</span></CodeLine>
<Link id="l05438" /><CodeLine lineNumber="5438"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a> = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad">ISD::FSUB</a>, dl, MVT::f32, t0, t1);</span></CodeLine>
<Link id="l05439" /><CodeLine lineNumber="5439"></CodeLine>
<Link id="l05440" /><CodeLine lineNumber="5440"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">//   IntegerPartOfX &lt;&lt;= 23;</span></CodeLine>
<Link id="l05441" /><CodeLine lineNumber="5441"><span class="doxyHighlight">  IntegerPartOfX =</span></CodeLine>
<Link id="l05442" /><CodeLine lineNumber="5442"><span class="doxyHighlight">      DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>, dl, MVT::i32, IntegerPartOfX,</span></CodeLine>
<Link id="l05443" /><CodeLine lineNumber="5443"><span class="doxyHighlight">                  DAG.<a href="/docs/api/classes/llvm/selectiondag/#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(23, dl,</span></CodeLine>
<Link id="l05444" /><CodeLine lineNumber="5444"><span class="doxyHighlight">                                  DAG.<a href="/docs/api/classes/llvm/selectiondag/#a4c20c587f89ae2926f9e8a99093e8419">getTargetLoweringInfo</a>().<a href="/docs/api/classes/llvm/targetloweringbase/#a6a2579bc0354806c6c9708b068777c3a">getShiftAmountTy</a>(</span></CodeLine>
<Link id="l05445" /><CodeLine lineNumber="5445"><span class="doxyHighlight">                                      MVT::i32, DAG.<a href="/docs/api/classes/llvm/selectiondag/#a6b442ac8a9fc6147b95ccfb2c3322121">getDataLayout</a>())));</span></CodeLine>
<Link id="l05446" /><CodeLine lineNumber="5446"></CodeLine>
<Link id="l05447" /><CodeLine lineNumber="5447"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> TwoToFractionalPartOfX;</span></CodeLine>
<Link id="l05448" /><CodeLine lineNumber="5448"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="#af0f05cb4bab4be29196d76812dd8d262">LimitFloatPrecision</a> &lt;= 6) &#123;</span></CodeLine>
<Link id="l05449" /><CodeLine lineNumber="5449"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// For floating-point precision of 6:</span></CodeLine>
<Link id="l05450" /><CodeLine lineNumber="5450"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l05451" /><CodeLine lineNumber="5451"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//   TwoToFractionalPartOfX =</span></CodeLine>
<Link id="l05452" /><CodeLine lineNumber="5452"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//     0.997535578f +</span></CodeLine>
<Link id="l05453" /><CodeLine lineNumber="5453"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//       (0.735607626f + 0.252464424f &#42; x) &#42; x;</span></CodeLine>
<Link id="l05454" /><CodeLine lineNumber="5454"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l05455" /><CodeLine lineNumber="5455"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// error 0.0144103317, which is 6 bits</span></CodeLine>
<Link id="l05456" /><CodeLine lineNumber="5456"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t2 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, MVT::f32, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>,</span></CodeLine>
<Link id="l05457" /><CodeLine lineNumber="5457"><span class="doxyHighlight">                             <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x3e814304, dl));</span></CodeLine>
<Link id="l05458" /><CodeLine lineNumber="5458"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t3 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf">ISD::FADD</a>, dl, MVT::f32, t2,</span></CodeLine>
<Link id="l05459" /><CodeLine lineNumber="5459"><span class="doxyHighlight">                             <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x3f3c50c8, dl));</span></CodeLine>
<Link id="l05460" /><CodeLine lineNumber="5460"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t4 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, MVT::f32, t3, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>);</span></CodeLine>
<Link id="l05461" /><CodeLine lineNumber="5461"><span class="doxyHighlight">    TwoToFractionalPartOfX = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf">ISD::FADD</a>, dl, MVT::f32, t4,</span></CodeLine>
<Link id="l05462" /><CodeLine lineNumber="5462"><span class="doxyHighlight">                                         <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x3f7f5e7e, dl));</span></CodeLine>
<Link id="l05463" /><CodeLine lineNumber="5463"><span class="doxyHighlight">  &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="#af0f05cb4bab4be29196d76812dd8d262">LimitFloatPrecision</a> &lt;= 12) &#123;</span></CodeLine>
<Link id="l05464" /><CodeLine lineNumber="5464"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// For floating-point precision of 12:</span></CodeLine>
<Link id="l05465" /><CodeLine lineNumber="5465"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l05466" /><CodeLine lineNumber="5466"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//   TwoToFractionalPartOfX =</span></CodeLine>
<Link id="l05467" /><CodeLine lineNumber="5467"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//     0.999892986f +</span></CodeLine>
<Link id="l05468" /><CodeLine lineNumber="5468"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//       (0.696457318f +</span></CodeLine>
<Link id="l05469" /><CodeLine lineNumber="5469"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//         (0.224338339f + 0.792043434e-1f &#42; x) &#42; x) &#42; x;</span></CodeLine>
<Link id="l05470" /><CodeLine lineNumber="5470"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l05471" /><CodeLine lineNumber="5471"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// error 0.000107046256, which is 13 to 14 bits</span></CodeLine>
<Link id="l05472" /><CodeLine lineNumber="5472"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t2 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, MVT::f32, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>,</span></CodeLine>
<Link id="l05473" /><CodeLine lineNumber="5473"><span class="doxyHighlight">                             <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x3da235e3, dl));</span></CodeLine>
<Link id="l05474" /><CodeLine lineNumber="5474"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t3 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf">ISD::FADD</a>, dl, MVT::f32, t2,</span></CodeLine>
<Link id="l05475" /><CodeLine lineNumber="5475"><span class="doxyHighlight">                             <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x3e65b8f3, dl));</span></CodeLine>
<Link id="l05476" /><CodeLine lineNumber="5476"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t4 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, MVT::f32, t3, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>);</span></CodeLine>
<Link id="l05477" /><CodeLine lineNumber="5477"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t5 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf">ISD::FADD</a>, dl, MVT::f32, t4,</span></CodeLine>
<Link id="l05478" /><CodeLine lineNumber="5478"><span class="doxyHighlight">                             <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x3f324b07, dl));</span></CodeLine>
<Link id="l05479" /><CodeLine lineNumber="5479"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t6 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, MVT::f32, t5, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>);</span></CodeLine>
<Link id="l05480" /><CodeLine lineNumber="5480"><span class="doxyHighlight">    TwoToFractionalPartOfX = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf">ISD::FADD</a>, dl, MVT::f32, t6,</span></CodeLine>
<Link id="l05481" /><CodeLine lineNumber="5481"><span class="doxyHighlight">                                         <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x3f7ff8fd, dl));</span></CodeLine>
<Link id="l05482" /><CodeLine lineNumber="5482"><span class="doxyHighlight">  &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123; </span><span class="doxyHighlightComment">// LimitFloatPrecision &lt;= 18</span></CodeLine>
<Link id="l05483" /><CodeLine lineNumber="5483"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// For floating-point precision of 18:</span></CodeLine>
<Link id="l05484" /><CodeLine lineNumber="5484"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l05485" /><CodeLine lineNumber="5485"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//   TwoToFractionalPartOfX =</span></CodeLine>
<Link id="l05486" /><CodeLine lineNumber="5486"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//     0.999999982f +</span></CodeLine>
<Link id="l05487" /><CodeLine lineNumber="5487"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//       (0.693148872f +</span></CodeLine>
<Link id="l05488" /><CodeLine lineNumber="5488"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//         (0.240227044f +</span></CodeLine>
<Link id="l05489" /><CodeLine lineNumber="5489"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//           (0.554906021e-1f +</span></CodeLine>
<Link id="l05490" /><CodeLine lineNumber="5490"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//             (0.961591928e-2f +</span></CodeLine>
<Link id="l05491" /><CodeLine lineNumber="5491"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//               (0.136028312e-2f + 0.157059148e-3f &#42;x)&#42;x)&#42;x)&#42;x)&#42;x)&#42;x;</span></CodeLine>
<Link id="l05492" /><CodeLine lineNumber="5492"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// error 2.47208000&#42;10^(-7), which is better than 18 bits</span></CodeLine>
<Link id="l05493" /><CodeLine lineNumber="5493"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t2 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, MVT::f32, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>,</span></CodeLine>
<Link id="l05494" /><CodeLine lineNumber="5494"><span class="doxyHighlight">                             <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x3924b03e, dl));</span></CodeLine>
<Link id="l05495" /><CodeLine lineNumber="5495"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t3 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf">ISD::FADD</a>, dl, MVT::f32, t2,</span></CodeLine>
<Link id="l05496" /><CodeLine lineNumber="5496"><span class="doxyHighlight">                             <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x3ab24b87, dl));</span></CodeLine>
<Link id="l05497" /><CodeLine lineNumber="5497"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t4 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, MVT::f32, t3, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>);</span></CodeLine>
<Link id="l05498" /><CodeLine lineNumber="5498"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t5 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf">ISD::FADD</a>, dl, MVT::f32, t4,</span></CodeLine>
<Link id="l05499" /><CodeLine lineNumber="5499"><span class="doxyHighlight">                             <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x3c1d8c17, dl));</span></CodeLine>
<Link id="l05500" /><CodeLine lineNumber="5500"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t6 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, MVT::f32, t5, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>);</span></CodeLine>
<Link id="l05501" /><CodeLine lineNumber="5501"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t7 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf">ISD::FADD</a>, dl, MVT::f32, t6,</span></CodeLine>
<Link id="l05502" /><CodeLine lineNumber="5502"><span class="doxyHighlight">                             <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x3d634a1d, dl));</span></CodeLine>
<Link id="l05503" /><CodeLine lineNumber="5503"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t8 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, MVT::f32, t7, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>);</span></CodeLine>
<Link id="l05504" /><CodeLine lineNumber="5504"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t9 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf">ISD::FADD</a>, dl, MVT::f32, t8,</span></CodeLine>
<Link id="l05505" /><CodeLine lineNumber="5505"><span class="doxyHighlight">                             <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x3e75fe14, dl));</span></CodeLine>
<Link id="l05506" /><CodeLine lineNumber="5506"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t10 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, MVT::f32, t9, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>);</span></CodeLine>
<Link id="l05507" /><CodeLine lineNumber="5507"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t11 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf">ISD::FADD</a>, dl, MVT::f32, t10,</span></CodeLine>
<Link id="l05508" /><CodeLine lineNumber="5508"><span class="doxyHighlight">                              <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x3f317234, dl));</span></CodeLine>
<Link id="l05509" /><CodeLine lineNumber="5509"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t12 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, MVT::f32, t11, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>);</span></CodeLine>
<Link id="l05510" /><CodeLine lineNumber="5510"><span class="doxyHighlight">    TwoToFractionalPartOfX = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf">ISD::FADD</a>, dl, MVT::f32, t12,</span></CodeLine>
<Link id="l05511" /><CodeLine lineNumber="5511"><span class="doxyHighlight">                                         <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x3f800000, dl));</span></CodeLine>
<Link id="l05512" /><CodeLine lineNumber="5512"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l05513" /><CodeLine lineNumber="5513"></CodeLine>
<Link id="l05514" /><CodeLine lineNumber="5514"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Add the exponent into the result in integer domain.</span></CodeLine>
<Link id="l05515" /><CodeLine lineNumber="5515"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t13 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::BITCAST, dl, MVT::i32, TwoToFractionalPartOfX);</span></CodeLine>
<Link id="l05516" /><CodeLine lineNumber="5516"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::BITCAST, dl, MVT::f32,</span></CodeLine>
<Link id="l05517" /><CodeLine lineNumber="5517"><span class="doxyHighlight">                     DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, MVT::i32, t13, IntegerPartOfX));</span></CodeLine>
<Link id="l05518" /><CodeLine lineNumber="5518"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l05519" /><CodeLine lineNumber="5519"></CodeLine>
<Link id="l05520" /><CodeLine lineNumber="5520"><span class="doxyHighlightComment">/// expandExp - Lower an exp intrinsic. Handles the special sequences for</span></CodeLine>
<Link id="l05521" /><CodeLine lineNumber="5521"><span class="doxyHighlightComment">/// limited-precision mode.</span></CodeLine>
<Link id="l05522" /><CodeLine lineNumber="5522" lineLink="#ad9fad588c8d87711124a9319e4b69d56"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="#ad9fad588c8d87711124a9319e4b69d56">expandExp</a>(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> &amp;dl, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>, <a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp;DAG,</span></CodeLine>
<Link id="l05523" /><CodeLine lineNumber="5523"><span class="doxyHighlight">                         </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetlowering">TargetLowering</a> &amp;TLI, <a href="/docs/api/structs/llvm/sdnodeflags">SDNodeFlags</a> Flags) &#123;</span></CodeLine>
<Link id="l05524" /><CodeLine lineNumber="5524"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>.getValueType() == MVT::f32 &amp;&amp;</span></CodeLine>
<Link id="l05525" /><CodeLine lineNumber="5525"><span class="doxyHighlight">      <a href="#af0f05cb4bab4be29196d76812dd8d262">LimitFloatPrecision</a> &gt; 0 &amp;&amp; <a href="#af0f05cb4bab4be29196d76812dd8d262">LimitFloatPrecision</a> &lt;= 18) &#123;</span></CodeLine>
<Link id="l05526" /><CodeLine lineNumber="5526"></CodeLine>
<Link id="l05527" /><CodeLine lineNumber="5527"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Put the exponent in the right bit position for later addition to the</span></CodeLine>
<Link id="l05528" /><CodeLine lineNumber="5528"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// final result:</span></CodeLine>
<Link id="l05529" /><CodeLine lineNumber="5529"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l05530" /><CodeLine lineNumber="5530"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// t0 = Op &#42; log2(e)</span></CodeLine>
<Link id="l05531" /><CodeLine lineNumber="5531"></CodeLine>
<Link id="l05532" /><CodeLine lineNumber="5532"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// TODO: What fast-math-flags should be set here?</span></CodeLine>
<Link id="l05533" /><CodeLine lineNumber="5533"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t0 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, MVT::f32, <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>,</span></CodeLine>
<Link id="l05534" /><CodeLine lineNumber="5534"><span class="doxyHighlight">                             DAG.<a href="/docs/api/classes/llvm/selectiondag/#a354aae224911d4dab66e34bfa10cf5d6">getConstantFP</a>(<a href="/docs/api/namespaces/llvm/numbers/#a8a018975df21ebbd2a96b53b6f918896">numbers::log2ef</a>, dl, MVT::f32));</span></CodeLine>
<Link id="l05535" /><CodeLine lineNumber="5535"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="#acef0e53db4a5bc578fc3da0089dc0519">getLimitedPrecisionExp2</a>(t0, dl, DAG);</span></CodeLine>
<Link id="l05536" /><CodeLine lineNumber="5536"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l05537" /><CodeLine lineNumber="5537"></CodeLine>
<Link id="l05538" /><CodeLine lineNumber="5538"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// No special expansion.</span></CodeLine>
<Link id="l05539" /><CodeLine lineNumber="5539"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::FEXP, dl, <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>.getValueType(), <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>, Flags);</span></CodeLine>
<Link id="l05540" /><CodeLine lineNumber="5540"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l05541" /><CodeLine lineNumber="5541"></CodeLine>
<Link id="l05542" /><CodeLine lineNumber="5542"><span class="doxyHighlightComment">/// expandLog - Lower a log intrinsic. Handles the special sequences for</span></CodeLine>
<Link id="l05543" /><CodeLine lineNumber="5543"><span class="doxyHighlightComment">/// limited-precision mode.</span></CodeLine>
<Link id="l05544" /><CodeLine lineNumber="5544" lineLink="#ac8914654eb596e0910566feb6860b0d9"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="#ac8914654eb596e0910566feb6860b0d9">expandLog</a>(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> &amp;dl, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>, <a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp;DAG,</span></CodeLine>
<Link id="l05545" /><CodeLine lineNumber="5545"><span class="doxyHighlight">                         </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetlowering">TargetLowering</a> &amp;TLI, <a href="/docs/api/structs/llvm/sdnodeflags">SDNodeFlags</a> Flags) &#123;</span></CodeLine>
<Link id="l05546" /><CodeLine lineNumber="5546"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// TODO: What fast-math-flags should be set on the floating-point nodes?</span></CodeLine>
<Link id="l05547" /><CodeLine lineNumber="5547"></CodeLine>
<Link id="l05548" /><CodeLine lineNumber="5548"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>.getValueType() == MVT::f32 &amp;&amp;</span></CodeLine>
<Link id="l05549" /><CodeLine lineNumber="5549"><span class="doxyHighlight">      <a href="#af0f05cb4bab4be29196d76812dd8d262">LimitFloatPrecision</a> &gt; 0 &amp;&amp; <a href="#af0f05cb4bab4be29196d76812dd8d262">LimitFloatPrecision</a> &lt;= 18) &#123;</span></CodeLine>
<Link id="l05550" /><CodeLine lineNumber="5550"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Op1 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::BITCAST, dl, MVT::i32, <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>);</span></CodeLine>
<Link id="l05551" /><CodeLine lineNumber="5551"></CodeLine>
<Link id="l05552" /><CodeLine lineNumber="5552"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Scale the exponent by log(2).</span></CodeLine>
<Link id="l05553" /><CodeLine lineNumber="5553"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Exp = <a href="#aa70f724269a63b67e0858c8919f7a9cd">GetExponent</a>(DAG, Op1, TLI, dl);</span></CodeLine>
<Link id="l05554" /><CodeLine lineNumber="5554"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> LogOfExponent =</span></CodeLine>
<Link id="l05555" /><CodeLine lineNumber="5555"><span class="doxyHighlight">        DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, MVT::f32, Exp,</span></CodeLine>
<Link id="l05556" /><CodeLine lineNumber="5556"><span class="doxyHighlight">                    DAG.<a href="/docs/api/classes/llvm/selectiondag/#a354aae224911d4dab66e34bfa10cf5d6">getConstantFP</a>(<a href="/docs/api/namespaces/llvm/numbers/#af3e2d8495c95a22754b51a3504e95709">numbers::ln2f</a>, dl, MVT::f32));</span></CodeLine>
<Link id="l05557" /><CodeLine lineNumber="5557"></CodeLine>
<Link id="l05558" /><CodeLine lineNumber="5558"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Get the significand and build it into a floating-point number with</span></CodeLine>
<Link id="l05559" /><CodeLine lineNumber="5559"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// exponent of 1</span></CodeLine>
<Link id="l05560" /><CodeLine lineNumber="5560"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a> = <a href="#ad76e8a405ea9556685c854198b0b2488">GetSignificand</a>(DAG, Op1, dl);</span></CodeLine>
<Link id="l05561" /><CodeLine lineNumber="5561"></CodeLine>
<Link id="l05562" /><CodeLine lineNumber="5562"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> LogOfMantissa;</span></CodeLine>
<Link id="l05563" /><CodeLine lineNumber="5563"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="#af0f05cb4bab4be29196d76812dd8d262">LimitFloatPrecision</a> &lt;= 6) &#123;</span></CodeLine>
<Link id="l05564" /><CodeLine lineNumber="5564"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// For floating-point precision of 6:</span></CodeLine>
<Link id="l05565" /><CodeLine lineNumber="5565"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l05566" /><CodeLine lineNumber="5566"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//   LogofMantissa =</span></CodeLine>
<Link id="l05567" /><CodeLine lineNumber="5567"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//     -1.1609546f +</span></CodeLine>
<Link id="l05568" /><CodeLine lineNumber="5568"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//       (1.4034025f - 0.23903021f &#42; x) &#42; x;</span></CodeLine>
<Link id="l05569" /><CodeLine lineNumber="5569"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l05570" /><CodeLine lineNumber="5570"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// error 0.0034276066, which is better than 8 bits</span></CodeLine>
<Link id="l05571" /><CodeLine lineNumber="5571"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t0 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, MVT::f32, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>,</span></CodeLine>
<Link id="l05572" /><CodeLine lineNumber="5572"><span class="doxyHighlight">                               <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0xbe74c456, dl));</span></CodeLine>
<Link id="l05573" /><CodeLine lineNumber="5573"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t1 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf">ISD::FADD</a>, dl, MVT::f32, t0,</span></CodeLine>
<Link id="l05574" /><CodeLine lineNumber="5574"><span class="doxyHighlight">                               <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x3fb3a2b1, dl));</span></CodeLine>
<Link id="l05575" /><CodeLine lineNumber="5575"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t2 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, MVT::f32, t1, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>);</span></CodeLine>
<Link id="l05576" /><CodeLine lineNumber="5576"><span class="doxyHighlight">      LogOfMantissa = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad">ISD::FSUB</a>, dl, MVT::f32, t2,</span></CodeLine>
<Link id="l05577" /><CodeLine lineNumber="5577"><span class="doxyHighlight">                                  <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x3f949a29, dl));</span></CodeLine>
<Link id="l05578" /><CodeLine lineNumber="5578"><span class="doxyHighlight">    &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="#af0f05cb4bab4be29196d76812dd8d262">LimitFloatPrecision</a> &lt;= 12) &#123;</span></CodeLine>
<Link id="l05579" /><CodeLine lineNumber="5579"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// For floating-point precision of 12:</span></CodeLine>
<Link id="l05580" /><CodeLine lineNumber="5580"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l05581" /><CodeLine lineNumber="5581"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//   LogOfMantissa =</span></CodeLine>
<Link id="l05582" /><CodeLine lineNumber="5582"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//     -1.7417939f +</span></CodeLine>
<Link id="l05583" /><CodeLine lineNumber="5583"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//       (2.8212026f +</span></CodeLine>
<Link id="l05584" /><CodeLine lineNumber="5584"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//         (-1.4699568f +</span></CodeLine>
<Link id="l05585" /><CodeLine lineNumber="5585"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//           (0.44717955f - 0.56570851e-1f &#42; x) &#42; x) &#42; x) &#42; x;</span></CodeLine>
<Link id="l05586" /><CodeLine lineNumber="5586"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l05587" /><CodeLine lineNumber="5587"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// error 0.000061011436, which is 14 bits</span></CodeLine>
<Link id="l05588" /><CodeLine lineNumber="5588"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t0 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, MVT::f32, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>,</span></CodeLine>
<Link id="l05589" /><CodeLine lineNumber="5589"><span class="doxyHighlight">                               <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0xbd67b6d6, dl));</span></CodeLine>
<Link id="l05590" /><CodeLine lineNumber="5590"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t1 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf">ISD::FADD</a>, dl, MVT::f32, t0,</span></CodeLine>
<Link id="l05591" /><CodeLine lineNumber="5591"><span class="doxyHighlight">                               <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x3ee4f4b8, dl));</span></CodeLine>
<Link id="l05592" /><CodeLine lineNumber="5592"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t2 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, MVT::f32, t1, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>);</span></CodeLine>
<Link id="l05593" /><CodeLine lineNumber="5593"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t3 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad">ISD::FSUB</a>, dl, MVT::f32, t2,</span></CodeLine>
<Link id="l05594" /><CodeLine lineNumber="5594"><span class="doxyHighlight">                               <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x3fbc278b, dl));</span></CodeLine>
<Link id="l05595" /><CodeLine lineNumber="5595"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t4 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, MVT::f32, t3, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>);</span></CodeLine>
<Link id="l05596" /><CodeLine lineNumber="5596"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t5 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf">ISD::FADD</a>, dl, MVT::f32, t4,</span></CodeLine>
<Link id="l05597" /><CodeLine lineNumber="5597"><span class="doxyHighlight">                               <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x40348e95, dl));</span></CodeLine>
<Link id="l05598" /><CodeLine lineNumber="5598"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t6 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, MVT::f32, t5, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>);</span></CodeLine>
<Link id="l05599" /><CodeLine lineNumber="5599"><span class="doxyHighlight">      LogOfMantissa = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad">ISD::FSUB</a>, dl, MVT::f32, t6,</span></CodeLine>
<Link id="l05600" /><CodeLine lineNumber="5600"><span class="doxyHighlight">                                  <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x3fdef31a, dl));</span></CodeLine>
<Link id="l05601" /><CodeLine lineNumber="5601"><span class="doxyHighlight">    &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123; </span><span class="doxyHighlightComment">// LimitFloatPrecision &lt;= 18</span></CodeLine>
<Link id="l05602" /><CodeLine lineNumber="5602"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// For floating-point precision of 18:</span></CodeLine>
<Link id="l05603" /><CodeLine lineNumber="5603"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l05604" /><CodeLine lineNumber="5604"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//   LogOfMantissa =</span></CodeLine>
<Link id="l05605" /><CodeLine lineNumber="5605"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//     -2.1072184f +</span></CodeLine>
<Link id="l05606" /><CodeLine lineNumber="5606"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//       (4.2372794f +</span></CodeLine>
<Link id="l05607" /><CodeLine lineNumber="5607"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//         (-3.7029485f +</span></CodeLine>
<Link id="l05608" /><CodeLine lineNumber="5608"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//           (2.2781945f +</span></CodeLine>
<Link id="l05609" /><CodeLine lineNumber="5609"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//             (-0.87823314f +</span></CodeLine>
<Link id="l05610" /><CodeLine lineNumber="5610"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//               (0.19073739f - 0.17809712e-1f &#42; x) &#42; x) &#42; x) &#42; x) &#42; x)&#42;x;</span></CodeLine>
<Link id="l05611" /><CodeLine lineNumber="5611"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l05612" /><CodeLine lineNumber="5612"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// error 0.0000023660568, which is better than 18 bits</span></CodeLine>
<Link id="l05613" /><CodeLine lineNumber="5613"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t0 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, MVT::f32, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>,</span></CodeLine>
<Link id="l05614" /><CodeLine lineNumber="5614"><span class="doxyHighlight">                               <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0xbc91e5ac, dl));</span></CodeLine>
<Link id="l05615" /><CodeLine lineNumber="5615"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t1 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf">ISD::FADD</a>, dl, MVT::f32, t0,</span></CodeLine>
<Link id="l05616" /><CodeLine lineNumber="5616"><span class="doxyHighlight">                               <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x3e4350aa, dl));</span></CodeLine>
<Link id="l05617" /><CodeLine lineNumber="5617"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t2 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, MVT::f32, t1, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>);</span></CodeLine>
<Link id="l05618" /><CodeLine lineNumber="5618"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t3 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad">ISD::FSUB</a>, dl, MVT::f32, t2,</span></CodeLine>
<Link id="l05619" /><CodeLine lineNumber="5619"><span class="doxyHighlight">                               <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x3f60d3e3, dl));</span></CodeLine>
<Link id="l05620" /><CodeLine lineNumber="5620"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t4 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, MVT::f32, t3, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>);</span></CodeLine>
<Link id="l05621" /><CodeLine lineNumber="5621"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t5 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf">ISD::FADD</a>, dl, MVT::f32, t4,</span></CodeLine>
<Link id="l05622" /><CodeLine lineNumber="5622"><span class="doxyHighlight">                               <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x4011cdf0, dl));</span></CodeLine>
<Link id="l05623" /><CodeLine lineNumber="5623"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t6 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, MVT::f32, t5, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>);</span></CodeLine>
<Link id="l05624" /><CodeLine lineNumber="5624"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t7 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad">ISD::FSUB</a>, dl, MVT::f32, t6,</span></CodeLine>
<Link id="l05625" /><CodeLine lineNumber="5625"><span class="doxyHighlight">                               <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x406cfd1c, dl));</span></CodeLine>
<Link id="l05626" /><CodeLine lineNumber="5626"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t8 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, MVT::f32, t7, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>);</span></CodeLine>
<Link id="l05627" /><CodeLine lineNumber="5627"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t9 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf">ISD::FADD</a>, dl, MVT::f32, t8,</span></CodeLine>
<Link id="l05628" /><CodeLine lineNumber="5628"><span class="doxyHighlight">                               <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x408797cb, dl));</span></CodeLine>
<Link id="l05629" /><CodeLine lineNumber="5629"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t10 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, MVT::f32, t9, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>);</span></CodeLine>
<Link id="l05630" /><CodeLine lineNumber="5630"><span class="doxyHighlight">      LogOfMantissa = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad">ISD::FSUB</a>, dl, MVT::f32, t10,</span></CodeLine>
<Link id="l05631" /><CodeLine lineNumber="5631"><span class="doxyHighlight">                                  <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x4006dcab, dl));</span></CodeLine>
<Link id="l05632" /><CodeLine lineNumber="5632"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l05633" /><CodeLine lineNumber="5633"></CodeLine>
<Link id="l05634" /><CodeLine lineNumber="5634"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf">ISD::FADD</a>, dl, MVT::f32, LogOfExponent, LogOfMantissa);</span></CodeLine>
<Link id="l05635" /><CodeLine lineNumber="5635"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l05636" /><CodeLine lineNumber="5636"></CodeLine>
<Link id="l05637" /><CodeLine lineNumber="5637"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// No special expansion.</span></CodeLine>
<Link id="l05638" /><CodeLine lineNumber="5638"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::FLOG, dl, <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>.getValueType(), <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>, Flags);</span></CodeLine>
<Link id="l05639" /><CodeLine lineNumber="5639"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l05640" /><CodeLine lineNumber="5640"></CodeLine>
<Link id="l05641" /><CodeLine lineNumber="5641"><span class="doxyHighlightComment">/// expandLog2 - Lower a log2 intrinsic. Handles the special sequences for</span></CodeLine>
<Link id="l05642" /><CodeLine lineNumber="5642"><span class="doxyHighlightComment">/// limited-precision mode.</span></CodeLine>
<Link id="l05643" /><CodeLine lineNumber="5643" lineLink="#a93033474cad7c650f5f5f424d9fa951b"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="#a93033474cad7c650f5f5f424d9fa951b">expandLog2</a>(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> &amp;dl, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>, <a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp;DAG,</span></CodeLine>
<Link id="l05644" /><CodeLine lineNumber="5644"><span class="doxyHighlight">                          </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetlowering">TargetLowering</a> &amp;TLI, <a href="/docs/api/structs/llvm/sdnodeflags">SDNodeFlags</a> Flags) &#123;</span></CodeLine>
<Link id="l05645" /><CodeLine lineNumber="5645"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// TODO: What fast-math-flags should be set on the floating-point nodes?</span></CodeLine>
<Link id="l05646" /><CodeLine lineNumber="5646"></CodeLine>
<Link id="l05647" /><CodeLine lineNumber="5647"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>.getValueType() == MVT::f32 &amp;&amp;</span></CodeLine>
<Link id="l05648" /><CodeLine lineNumber="5648"><span class="doxyHighlight">      <a href="#af0f05cb4bab4be29196d76812dd8d262">LimitFloatPrecision</a> &gt; 0 &amp;&amp; <a href="#af0f05cb4bab4be29196d76812dd8d262">LimitFloatPrecision</a> &lt;= 18) &#123;</span></CodeLine>
<Link id="l05649" /><CodeLine lineNumber="5649"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Op1 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::BITCAST, dl, MVT::i32, <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>);</span></CodeLine>
<Link id="l05650" /><CodeLine lineNumber="5650"></CodeLine>
<Link id="l05651" /><CodeLine lineNumber="5651"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Get the exponent.</span></CodeLine>
<Link id="l05652" /><CodeLine lineNumber="5652"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> LogOfExponent = <a href="#aa70f724269a63b67e0858c8919f7a9cd">GetExponent</a>(DAG, Op1, TLI, dl);</span></CodeLine>
<Link id="l05653" /><CodeLine lineNumber="5653"></CodeLine>
<Link id="l05654" /><CodeLine lineNumber="5654"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Get the significand and build it into a floating-point number with</span></CodeLine>
<Link id="l05655" /><CodeLine lineNumber="5655"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// exponent of 1</span></CodeLine>
<Link id="l05656" /><CodeLine lineNumber="5656"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a> = <a href="#ad76e8a405ea9556685c854198b0b2488">GetSignificand</a>(DAG, Op1, dl);</span></CodeLine>
<Link id="l05657" /><CodeLine lineNumber="5657"></CodeLine>
<Link id="l05658" /><CodeLine lineNumber="5658"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Different possible minimax approximations of significand in</span></CodeLine>
<Link id="l05659" /><CodeLine lineNumber="5659"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// floating-point for various degrees of accuracy over &#91;1,2&#93;.</span></CodeLine>
<Link id="l05660" /><CodeLine lineNumber="5660"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Log2ofMantissa;</span></CodeLine>
<Link id="l05661" /><CodeLine lineNumber="5661"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="#af0f05cb4bab4be29196d76812dd8d262">LimitFloatPrecision</a> &lt;= 6) &#123;</span></CodeLine>
<Link id="l05662" /><CodeLine lineNumber="5662"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// For floating-point precision of 6:</span></CodeLine>
<Link id="l05663" /><CodeLine lineNumber="5663"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l05664" /><CodeLine lineNumber="5664"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//   Log2ofMantissa = -1.6749035f + (2.0246817f - .34484768f &#42; x) &#42; x;</span></CodeLine>
<Link id="l05665" /><CodeLine lineNumber="5665"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l05666" /><CodeLine lineNumber="5666"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// error 0.0049451742, which is more than 7 bits</span></CodeLine>
<Link id="l05667" /><CodeLine lineNumber="5667"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t0 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, MVT::f32, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>,</span></CodeLine>
<Link id="l05668" /><CodeLine lineNumber="5668"><span class="doxyHighlight">                               <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0xbeb08fe0, dl));</span></CodeLine>
<Link id="l05669" /><CodeLine lineNumber="5669"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t1 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf">ISD::FADD</a>, dl, MVT::f32, t0,</span></CodeLine>
<Link id="l05670" /><CodeLine lineNumber="5670"><span class="doxyHighlight">                               <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x40019463, dl));</span></CodeLine>
<Link id="l05671" /><CodeLine lineNumber="5671"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t2 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, MVT::f32, t1, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>);</span></CodeLine>
<Link id="l05672" /><CodeLine lineNumber="5672"><span class="doxyHighlight">      Log2ofMantissa = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad">ISD::FSUB</a>, dl, MVT::f32, t2,</span></CodeLine>
<Link id="l05673" /><CodeLine lineNumber="5673"><span class="doxyHighlight">                                   <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x3fd6633d, dl));</span></CodeLine>
<Link id="l05674" /><CodeLine lineNumber="5674"><span class="doxyHighlight">    &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="#af0f05cb4bab4be29196d76812dd8d262">LimitFloatPrecision</a> &lt;= 12) &#123;</span></CodeLine>
<Link id="l05675" /><CodeLine lineNumber="5675"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// For floating-point precision of 12:</span></CodeLine>
<Link id="l05676" /><CodeLine lineNumber="5676"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l05677" /><CodeLine lineNumber="5677"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//   Log2ofMantissa =</span></CodeLine>
<Link id="l05678" /><CodeLine lineNumber="5678"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//     -2.51285454f +</span></CodeLine>
<Link id="l05679" /><CodeLine lineNumber="5679"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//       (4.07009056f +</span></CodeLine>
<Link id="l05680" /><CodeLine lineNumber="5680"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//         (-2.12067489f +</span></CodeLine>
<Link id="l05681" /><CodeLine lineNumber="5681"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//           (.645142248f - 0.816157886e-1f &#42; x) &#42; x) &#42; x) &#42; x;</span></CodeLine>
<Link id="l05682" /><CodeLine lineNumber="5682"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l05683" /><CodeLine lineNumber="5683"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// error 0.0000876136000, which is better than 13 bits</span></CodeLine>
<Link id="l05684" /><CodeLine lineNumber="5684"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t0 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, MVT::f32, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>,</span></CodeLine>
<Link id="l05685" /><CodeLine lineNumber="5685"><span class="doxyHighlight">                               <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0xbda7262e, dl));</span></CodeLine>
<Link id="l05686" /><CodeLine lineNumber="5686"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t1 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf">ISD::FADD</a>, dl, MVT::f32, t0,</span></CodeLine>
<Link id="l05687" /><CodeLine lineNumber="5687"><span class="doxyHighlight">                               <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x3f25280b, dl));</span></CodeLine>
<Link id="l05688" /><CodeLine lineNumber="5688"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t2 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, MVT::f32, t1, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>);</span></CodeLine>
<Link id="l05689" /><CodeLine lineNumber="5689"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t3 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad">ISD::FSUB</a>, dl, MVT::f32, t2,</span></CodeLine>
<Link id="l05690" /><CodeLine lineNumber="5690"><span class="doxyHighlight">                               <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x4007b923, dl));</span></CodeLine>
<Link id="l05691" /><CodeLine lineNumber="5691"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t4 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, MVT::f32, t3, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>);</span></CodeLine>
<Link id="l05692" /><CodeLine lineNumber="5692"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t5 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf">ISD::FADD</a>, dl, MVT::f32, t4,</span></CodeLine>
<Link id="l05693" /><CodeLine lineNumber="5693"><span class="doxyHighlight">                               <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x40823e2f, dl));</span></CodeLine>
<Link id="l05694" /><CodeLine lineNumber="5694"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t6 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, MVT::f32, t5, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>);</span></CodeLine>
<Link id="l05695" /><CodeLine lineNumber="5695"><span class="doxyHighlight">      Log2ofMantissa = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad">ISD::FSUB</a>, dl, MVT::f32, t6,</span></CodeLine>
<Link id="l05696" /><CodeLine lineNumber="5696"><span class="doxyHighlight">                                   <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x4020d29c, dl));</span></CodeLine>
<Link id="l05697" /><CodeLine lineNumber="5697"><span class="doxyHighlight">    &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123; </span><span class="doxyHighlightComment">// LimitFloatPrecision &lt;= 18</span></CodeLine>
<Link id="l05698" /><CodeLine lineNumber="5698"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// For floating-point precision of 18:</span></CodeLine>
<Link id="l05699" /><CodeLine lineNumber="5699"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l05700" /><CodeLine lineNumber="5700"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//   Log2ofMantissa =</span></CodeLine>
<Link id="l05701" /><CodeLine lineNumber="5701"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//     -3.0400495f +</span></CodeLine>
<Link id="l05702" /><CodeLine lineNumber="5702"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//       (6.1129976f +</span></CodeLine>
<Link id="l05703" /><CodeLine lineNumber="5703"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//         (-5.3420409f +</span></CodeLine>
<Link id="l05704" /><CodeLine lineNumber="5704"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//           (3.2865683f +</span></CodeLine>
<Link id="l05705" /><CodeLine lineNumber="5705"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//             (-1.2669343f +</span></CodeLine>
<Link id="l05706" /><CodeLine lineNumber="5706"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//               (0.27515199f -</span></CodeLine>
<Link id="l05707" /><CodeLine lineNumber="5707"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//                 0.25691327e-1f &#42; x) &#42; x) &#42; x) &#42; x) &#42; x) &#42; x;</span></CodeLine>
<Link id="l05708" /><CodeLine lineNumber="5708"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l05709" /><CodeLine lineNumber="5709"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// error 0.0000018516, which is better than 18 bits</span></CodeLine>
<Link id="l05710" /><CodeLine lineNumber="5710"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t0 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, MVT::f32, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>,</span></CodeLine>
<Link id="l05711" /><CodeLine lineNumber="5711"><span class="doxyHighlight">                               <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0xbcd2769e, dl));</span></CodeLine>
<Link id="l05712" /><CodeLine lineNumber="5712"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t1 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf">ISD::FADD</a>, dl, MVT::f32, t0,</span></CodeLine>
<Link id="l05713" /><CodeLine lineNumber="5713"><span class="doxyHighlight">                               <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x3e8ce0b9, dl));</span></CodeLine>
<Link id="l05714" /><CodeLine lineNumber="5714"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t2 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, MVT::f32, t1, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>);</span></CodeLine>
<Link id="l05715" /><CodeLine lineNumber="5715"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t3 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad">ISD::FSUB</a>, dl, MVT::f32, t2,</span></CodeLine>
<Link id="l05716" /><CodeLine lineNumber="5716"><span class="doxyHighlight">                               <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x3fa22ae7, dl));</span></CodeLine>
<Link id="l05717" /><CodeLine lineNumber="5717"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t4 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, MVT::f32, t3, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>);</span></CodeLine>
<Link id="l05718" /><CodeLine lineNumber="5718"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t5 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf">ISD::FADD</a>, dl, MVT::f32, t4,</span></CodeLine>
<Link id="l05719" /><CodeLine lineNumber="5719"><span class="doxyHighlight">                               <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x40525723, dl));</span></CodeLine>
<Link id="l05720" /><CodeLine lineNumber="5720"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t6 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, MVT::f32, t5, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>);</span></CodeLine>
<Link id="l05721" /><CodeLine lineNumber="5721"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t7 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad">ISD::FSUB</a>, dl, MVT::f32, t6,</span></CodeLine>
<Link id="l05722" /><CodeLine lineNumber="5722"><span class="doxyHighlight">                               <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x40aaf200, dl));</span></CodeLine>
<Link id="l05723" /><CodeLine lineNumber="5723"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t8 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, MVT::f32, t7, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>);</span></CodeLine>
<Link id="l05724" /><CodeLine lineNumber="5724"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t9 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf">ISD::FADD</a>, dl, MVT::f32, t8,</span></CodeLine>
<Link id="l05725" /><CodeLine lineNumber="5725"><span class="doxyHighlight">                               <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x40c39dad, dl));</span></CodeLine>
<Link id="l05726" /><CodeLine lineNumber="5726"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t10 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, MVT::f32, t9, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>);</span></CodeLine>
<Link id="l05727" /><CodeLine lineNumber="5727"><span class="doxyHighlight">      Log2ofMantissa = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad">ISD::FSUB</a>, dl, MVT::f32, t10,</span></CodeLine>
<Link id="l05728" /><CodeLine lineNumber="5728"><span class="doxyHighlight">                                   <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x4042902c, dl));</span></CodeLine>
<Link id="l05729" /><CodeLine lineNumber="5729"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l05730" /><CodeLine lineNumber="5730"></CodeLine>
<Link id="l05731" /><CodeLine lineNumber="5731"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf">ISD::FADD</a>, dl, MVT::f32, LogOfExponent, Log2ofMantissa);</span></CodeLine>
<Link id="l05732" /><CodeLine lineNumber="5732"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l05733" /><CodeLine lineNumber="5733"></CodeLine>
<Link id="l05734" /><CodeLine lineNumber="5734"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// No special expansion.</span></CodeLine>
<Link id="l05735" /><CodeLine lineNumber="5735"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::FLOG2, dl, <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>.getValueType(), <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>, Flags);</span></CodeLine>
<Link id="l05736" /><CodeLine lineNumber="5736"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l05737" /><CodeLine lineNumber="5737"></CodeLine>
<Link id="l05738" /><CodeLine lineNumber="5738"><span class="doxyHighlightComment">/// expandLog10 - Lower a log10 intrinsic. Handles the special sequences for</span></CodeLine>
<Link id="l05739" /><CodeLine lineNumber="5739"><span class="doxyHighlightComment">/// limited-precision mode.</span></CodeLine>
<Link id="l05740" /><CodeLine lineNumber="5740" lineLink="#a72303a46d52d32f357c782765ac9797b"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="#a72303a46d52d32f357c782765ac9797b">expandLog10</a>(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> &amp;dl, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>, <a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp;DAG,</span></CodeLine>
<Link id="l05741" /><CodeLine lineNumber="5741"><span class="doxyHighlight">                           </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetlowering">TargetLowering</a> &amp;TLI, <a href="/docs/api/structs/llvm/sdnodeflags">SDNodeFlags</a> Flags) &#123;</span></CodeLine>
<Link id="l05742" /><CodeLine lineNumber="5742"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// TODO: What fast-math-flags should be set on the floating-point nodes?</span></CodeLine>
<Link id="l05743" /><CodeLine lineNumber="5743"></CodeLine>
<Link id="l05744" /><CodeLine lineNumber="5744"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>.getValueType() == MVT::f32 &amp;&amp;</span></CodeLine>
<Link id="l05745" /><CodeLine lineNumber="5745"><span class="doxyHighlight">      <a href="#af0f05cb4bab4be29196d76812dd8d262">LimitFloatPrecision</a> &gt; 0 &amp;&amp; <a href="#af0f05cb4bab4be29196d76812dd8d262">LimitFloatPrecision</a> &lt;= 18) &#123;</span></CodeLine>
<Link id="l05746" /><CodeLine lineNumber="5746"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Op1 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::BITCAST, dl, MVT::i32, <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>);</span></CodeLine>
<Link id="l05747" /><CodeLine lineNumber="5747"></CodeLine>
<Link id="l05748" /><CodeLine lineNumber="5748"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Scale the exponent by log10(2) &#91;0.30102999f&#93;.</span></CodeLine>
<Link id="l05749" /><CodeLine lineNumber="5749"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Exp = <a href="#aa70f724269a63b67e0858c8919f7a9cd">GetExponent</a>(DAG, Op1, TLI, dl);</span></CodeLine>
<Link id="l05750" /><CodeLine lineNumber="5750"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> LogOfExponent = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, MVT::f32, Exp,</span></CodeLine>
<Link id="l05751" /><CodeLine lineNumber="5751"><span class="doxyHighlight">                                        <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x3e9a209a, dl));</span></CodeLine>
<Link id="l05752" /><CodeLine lineNumber="5752"></CodeLine>
<Link id="l05753" /><CodeLine lineNumber="5753"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Get the significand and build it into a floating-point number with</span></CodeLine>
<Link id="l05754" /><CodeLine lineNumber="5754"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// exponent of 1</span></CodeLine>
<Link id="l05755" /><CodeLine lineNumber="5755"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a> = <a href="#ad76e8a405ea9556685c854198b0b2488">GetSignificand</a>(DAG, Op1, dl);</span></CodeLine>
<Link id="l05756" /><CodeLine lineNumber="5756"></CodeLine>
<Link id="l05757" /><CodeLine lineNumber="5757"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Log10ofMantissa;</span></CodeLine>
<Link id="l05758" /><CodeLine lineNumber="5758"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="#af0f05cb4bab4be29196d76812dd8d262">LimitFloatPrecision</a> &lt;= 6) &#123;</span></CodeLine>
<Link id="l05759" /><CodeLine lineNumber="5759"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// For floating-point precision of 6:</span></CodeLine>
<Link id="l05760" /><CodeLine lineNumber="5760"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l05761" /><CodeLine lineNumber="5761"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//   Log10ofMantissa =</span></CodeLine>
<Link id="l05762" /><CodeLine lineNumber="5762"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//     -0.50419619f +</span></CodeLine>
<Link id="l05763" /><CodeLine lineNumber="5763"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//       (0.60948995f - 0.10380950f &#42; x) &#42; x;</span></CodeLine>
<Link id="l05764" /><CodeLine lineNumber="5764"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l05765" /><CodeLine lineNumber="5765"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// error 0.0014886165, which is 6 bits</span></CodeLine>
<Link id="l05766" /><CodeLine lineNumber="5766"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t0 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, MVT::f32, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>,</span></CodeLine>
<Link id="l05767" /><CodeLine lineNumber="5767"><span class="doxyHighlight">                               <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0xbdd49a13, dl));</span></CodeLine>
<Link id="l05768" /><CodeLine lineNumber="5768"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t1 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf">ISD::FADD</a>, dl, MVT::f32, t0,</span></CodeLine>
<Link id="l05769" /><CodeLine lineNumber="5769"><span class="doxyHighlight">                               <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x3f1c0789, dl));</span></CodeLine>
<Link id="l05770" /><CodeLine lineNumber="5770"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t2 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, MVT::f32, t1, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>);</span></CodeLine>
<Link id="l05771" /><CodeLine lineNumber="5771"><span class="doxyHighlight">      Log10ofMantissa = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad">ISD::FSUB</a>, dl, MVT::f32, t2,</span></CodeLine>
<Link id="l05772" /><CodeLine lineNumber="5772"><span class="doxyHighlight">                                    <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x3f011300, dl));</span></CodeLine>
<Link id="l05773" /><CodeLine lineNumber="5773"><span class="doxyHighlight">    &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="#af0f05cb4bab4be29196d76812dd8d262">LimitFloatPrecision</a> &lt;= 12) &#123;</span></CodeLine>
<Link id="l05774" /><CodeLine lineNumber="5774"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// For floating-point precision of 12:</span></CodeLine>
<Link id="l05775" /><CodeLine lineNumber="5775"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l05776" /><CodeLine lineNumber="5776"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//   Log10ofMantissa =</span></CodeLine>
<Link id="l05777" /><CodeLine lineNumber="5777"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//     -0.64831180f +</span></CodeLine>
<Link id="l05778" /><CodeLine lineNumber="5778"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//       (0.91751397f +</span></CodeLine>
<Link id="l05779" /><CodeLine lineNumber="5779"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//         (-0.31664806f + 0.47637168e-1f &#42; x) &#42; x) &#42; x;</span></CodeLine>
<Link id="l05780" /><CodeLine lineNumber="5780"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l05781" /><CodeLine lineNumber="5781"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// error 0.00019228036, which is better than 12 bits</span></CodeLine>
<Link id="l05782" /><CodeLine lineNumber="5782"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t0 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, MVT::f32, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>,</span></CodeLine>
<Link id="l05783" /><CodeLine lineNumber="5783"><span class="doxyHighlight">                               <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x3d431f31, dl));</span></CodeLine>
<Link id="l05784" /><CodeLine lineNumber="5784"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t1 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad">ISD::FSUB</a>, dl, MVT::f32, t0,</span></CodeLine>
<Link id="l05785" /><CodeLine lineNumber="5785"><span class="doxyHighlight">                               <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x3ea21fb2, dl));</span></CodeLine>
<Link id="l05786" /><CodeLine lineNumber="5786"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t2 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, MVT::f32, t1, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>);</span></CodeLine>
<Link id="l05787" /><CodeLine lineNumber="5787"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t3 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf">ISD::FADD</a>, dl, MVT::f32, t2,</span></CodeLine>
<Link id="l05788" /><CodeLine lineNumber="5788"><span class="doxyHighlight">                               <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x3f6ae232, dl));</span></CodeLine>
<Link id="l05789" /><CodeLine lineNumber="5789"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t4 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, MVT::f32, t3, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>);</span></CodeLine>
<Link id="l05790" /><CodeLine lineNumber="5790"><span class="doxyHighlight">      Log10ofMantissa = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad">ISD::FSUB</a>, dl, MVT::f32, t4,</span></CodeLine>
<Link id="l05791" /><CodeLine lineNumber="5791"><span class="doxyHighlight">                                    <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x3f25f7c3, dl));</span></CodeLine>
<Link id="l05792" /><CodeLine lineNumber="5792"><span class="doxyHighlight">    &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123; </span><span class="doxyHighlightComment">// LimitFloatPrecision &lt;= 18</span></CodeLine>
<Link id="l05793" /><CodeLine lineNumber="5793"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// For floating-point precision of 18:</span></CodeLine>
<Link id="l05794" /><CodeLine lineNumber="5794"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l05795" /><CodeLine lineNumber="5795"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//   Log10ofMantissa =</span></CodeLine>
<Link id="l05796" /><CodeLine lineNumber="5796"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//     -0.84299375f +</span></CodeLine>
<Link id="l05797" /><CodeLine lineNumber="5797"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//       (1.5327582f +</span></CodeLine>
<Link id="l05798" /><CodeLine lineNumber="5798"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//         (-1.0688956f +</span></CodeLine>
<Link id="l05799" /><CodeLine lineNumber="5799"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//           (0.49102474f +</span></CodeLine>
<Link id="l05800" /><CodeLine lineNumber="5800"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//             (-0.12539807f + 0.13508273e-1f &#42; x) &#42; x) &#42; x) &#42; x) &#42; x;</span></CodeLine>
<Link id="l05801" /><CodeLine lineNumber="5801"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l05802" /><CodeLine lineNumber="5802"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// error 0.0000037995730, which is better than 18 bits</span></CodeLine>
<Link id="l05803" /><CodeLine lineNumber="5803"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t0 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, MVT::f32, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>,</span></CodeLine>
<Link id="l05804" /><CodeLine lineNumber="5804"><span class="doxyHighlight">                               <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x3c5d51ce, dl));</span></CodeLine>
<Link id="l05805" /><CodeLine lineNumber="5805"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t1 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad">ISD::FSUB</a>, dl, MVT::f32, t0,</span></CodeLine>
<Link id="l05806" /><CodeLine lineNumber="5806"><span class="doxyHighlight">                               <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x3e00685a, dl));</span></CodeLine>
<Link id="l05807" /><CodeLine lineNumber="5807"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t2 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, MVT::f32, t1, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>);</span></CodeLine>
<Link id="l05808" /><CodeLine lineNumber="5808"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t3 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf">ISD::FADD</a>, dl, MVT::f32, t2,</span></CodeLine>
<Link id="l05809" /><CodeLine lineNumber="5809"><span class="doxyHighlight">                               <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x3efb6798, dl));</span></CodeLine>
<Link id="l05810" /><CodeLine lineNumber="5810"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t4 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, MVT::f32, t3, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>);</span></CodeLine>
<Link id="l05811" /><CodeLine lineNumber="5811"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t5 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad">ISD::FSUB</a>, dl, MVT::f32, t4,</span></CodeLine>
<Link id="l05812" /><CodeLine lineNumber="5812"><span class="doxyHighlight">                               <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x3f88d192, dl));</span></CodeLine>
<Link id="l05813" /><CodeLine lineNumber="5813"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t6 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, MVT::f32, t5, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>);</span></CodeLine>
<Link id="l05814" /><CodeLine lineNumber="5814"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t7 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf">ISD::FADD</a>, dl, MVT::f32, t6,</span></CodeLine>
<Link id="l05815" /><CodeLine lineNumber="5815"><span class="doxyHighlight">                               <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x3fc4316c, dl));</span></CodeLine>
<Link id="l05816" /><CodeLine lineNumber="5816"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t8 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, MVT::f32, t7, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>);</span></CodeLine>
<Link id="l05817" /><CodeLine lineNumber="5817"><span class="doxyHighlight">      Log10ofMantissa = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad">ISD::FSUB</a>, dl, MVT::f32, t8,</span></CodeLine>
<Link id="l05818" /><CodeLine lineNumber="5818"><span class="doxyHighlight">                                    <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x3f57ce70, dl));</span></CodeLine>
<Link id="l05819" /><CodeLine lineNumber="5819"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l05820" /><CodeLine lineNumber="5820"></CodeLine>
<Link id="l05821" /><CodeLine lineNumber="5821"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf">ISD::FADD</a>, dl, MVT::f32, LogOfExponent, Log10ofMantissa);</span></CodeLine>
<Link id="l05822" /><CodeLine lineNumber="5822"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l05823" /><CodeLine lineNumber="5823"></CodeLine>
<Link id="l05824" /><CodeLine lineNumber="5824"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// No special expansion.</span></CodeLine>
<Link id="l05825" /><CodeLine lineNumber="5825"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::FLOG10, dl, <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>.getValueType(), <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>, Flags);</span></CodeLine>
<Link id="l05826" /><CodeLine lineNumber="5826"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l05827" /><CodeLine lineNumber="5827"></CodeLine>
<Link id="l05828" /><CodeLine lineNumber="5828"><span class="doxyHighlightComment">/// expandExp2 - Lower an exp2 intrinsic. Handles the special sequences for</span></CodeLine>
<Link id="l05829" /><CodeLine lineNumber="5829"><span class="doxyHighlightComment">/// limited-precision mode.</span></CodeLine>
<Link id="l05830" /><CodeLine lineNumber="5830" lineLink="#a653e44824f5869e54a3f5848f06fdb19"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="#a653e44824f5869e54a3f5848f06fdb19">expandExp2</a>(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> &amp;dl, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>, <a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp;DAG,</span></CodeLine>
<Link id="l05831" /><CodeLine lineNumber="5831"><span class="doxyHighlight">                          </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetlowering">TargetLowering</a> &amp;TLI, <a href="/docs/api/structs/llvm/sdnodeflags">SDNodeFlags</a> Flags) &#123;</span></CodeLine>
<Link id="l05832" /><CodeLine lineNumber="5832"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>.getValueType() == MVT::f32 &amp;&amp;</span></CodeLine>
<Link id="l05833" /><CodeLine lineNumber="5833"><span class="doxyHighlight">      <a href="#af0f05cb4bab4be29196d76812dd8d262">LimitFloatPrecision</a> &gt; 0 &amp;&amp; <a href="#af0f05cb4bab4be29196d76812dd8d262">LimitFloatPrecision</a> &lt;= 18)</span></CodeLine>
<Link id="l05834" /><CodeLine lineNumber="5834"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="#acef0e53db4a5bc578fc3da0089dc0519">getLimitedPrecisionExp2</a>(<a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>, dl, DAG);</span></CodeLine>
<Link id="l05835" /><CodeLine lineNumber="5835"></CodeLine>
<Link id="l05836" /><CodeLine lineNumber="5836"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// No special expansion.</span></CodeLine>
<Link id="l05837" /><CodeLine lineNumber="5837"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::FEXP2, dl, <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>.getValueType(), <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>, Flags);</span></CodeLine>
<Link id="l05838" /><CodeLine lineNumber="5838"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l05839" /><CodeLine lineNumber="5839"></CodeLine>
<Link id="l05840" /><CodeLine lineNumber="5840"><span class="doxyHighlightComment">/// visitPow - Lower a pow intrinsic. Handles the special sequences for</span></CodeLine>
<Link id="l05841" /><CodeLine lineNumber="5841"><span class="doxyHighlightComment">/// limited-precision mode with x == 10.0f.</span></CodeLine>
<Link id="l05842" /><CodeLine lineNumber="5842" lineLink="#a3308e71b8586ecd7e993926a7883fb70"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="#a3308e71b8586ecd7e993926a7883fb70">expandPow</a>(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> &amp;dl, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</span></CodeLine>
<Link id="l05843" /><CodeLine lineNumber="5843"><span class="doxyHighlight">                         <a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp;DAG, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetlowering">TargetLowering</a> &amp;TLI,</span></CodeLine>
<Link id="l05844" /><CodeLine lineNumber="5844"><span class="doxyHighlight">                         <a href="/docs/api/structs/llvm/sdnodeflags">SDNodeFlags</a> Flags) &#123;</span></CodeLine>
<Link id="l05845" /><CodeLine lineNumber="5845"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> IsExp10 = </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l05846" /><CodeLine lineNumber="5846"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>.getValueType() == MVT::f32 &amp;&amp; <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>.getValueType() == MVT::f32 &amp;&amp;</span></CodeLine>
<Link id="l05847" /><CodeLine lineNumber="5847"><span class="doxyHighlight">      <a href="#af0f05cb4bab4be29196d76812dd8d262">LimitFloatPrecision</a> &gt; 0 &amp;&amp; <a href="#af0f05cb4bab4be29196d76812dd8d262">LimitFloatPrecision</a> &lt;= 18) &#123;</span></CodeLine>
<Link id="l05848" /><CodeLine lineNumber="5848"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/classes/llvm/constantfpsdnode">ConstantFPSDNode</a> &#42;LHSC = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;ConstantFPSDNode&gt;</a>(<a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>)) &#123;</span></CodeLine>
<Link id="l05849" /><CodeLine lineNumber="5849"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/apfloat">APFloat</a> Ten(10.0f);</span></CodeLine>
<Link id="l05850" /><CodeLine lineNumber="5850"><span class="doxyHighlight">      IsExp10 = LHSC-&gt;isExactlyValue(Ten);</span></CodeLine>
<Link id="l05851" /><CodeLine lineNumber="5851"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l05852" /><CodeLine lineNumber="5852"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l05853" /><CodeLine lineNumber="5853"></CodeLine>
<Link id="l05854" /><CodeLine lineNumber="5854"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// TODO: What fast-math-flags should be set on the FMUL node?</span></CodeLine>
<Link id="l05855" /><CodeLine lineNumber="5855"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (IsExp10) &#123;</span></CodeLine>
<Link id="l05856" /><CodeLine lineNumber="5856"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Put the exponent in the right bit position for later addition to the</span></CodeLine>
<Link id="l05857" /><CodeLine lineNumber="5857"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// final result:</span></CodeLine>
<Link id="l05858" /><CodeLine lineNumber="5858"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l05859" /><CodeLine lineNumber="5859"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//   #define LOG2OF10 3.3219281f</span></CodeLine>
<Link id="l05860" /><CodeLine lineNumber="5860"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//   t0 = Op &#42; LOG2OF10;</span></CodeLine>
<Link id="l05861" /><CodeLine lineNumber="5861"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> t0 = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, MVT::f32, <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</span></CodeLine>
<Link id="l05862" /><CodeLine lineNumber="5862"><span class="doxyHighlight">                             <a href="#a6c1c7a303df4926ba82dfd4ac4ef1deb">getF32Constant</a>(DAG, 0x40549a78, dl));</span></CodeLine>
<Link id="l05863" /><CodeLine lineNumber="5863"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="#acef0e53db4a5bc578fc3da0089dc0519">getLimitedPrecisionExp2</a>(t0, dl, DAG);</span></CodeLine>
<Link id="l05864" /><CodeLine lineNumber="5864"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l05865" /><CodeLine lineNumber="5865"></CodeLine>
<Link id="l05866" /><CodeLine lineNumber="5866"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// No special expansion.</span></CodeLine>
<Link id="l05867" /><CodeLine lineNumber="5867"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::FPOW, dl, <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>.getValueType(), <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Flags);</span></CodeLine>
<Link id="l05868" /><CodeLine lineNumber="5868"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l05869" /><CodeLine lineNumber="5869"></CodeLine>
<Link id="l05870" /><CodeLine lineNumber="5870"><span class="doxyHighlightComment">/// ExpandPowI - Expand a llvm.powi intrinsic.</span></CodeLine>
<Link id="l05871" /><CodeLine lineNumber="5871" lineLink="#ac2cca597e5865d3b7f5bb8c64617754c"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="#ac2cca597e5865d3b7f5bb8c64617754c">ExpandPowI</a>(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> &amp;<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>,</span></CodeLine>
<Link id="l05872" /><CodeLine lineNumber="5872"><span class="doxyHighlight">                          <a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp;DAG) &#123;</span></CodeLine>
<Link id="l05873" /><CodeLine lineNumber="5873"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// If RHS is a constant, we can expand this out to a multiplication tree if</span></CodeLine>
<Link id="l05874" /><CodeLine lineNumber="5874"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// it&#39;s beneficial on the target, otherwise we end up lowering to a call to</span></CodeLine>
<Link id="l05875" /><CodeLine lineNumber="5875"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// &#95;&#95;powidf2 (for example).</span></CodeLine>
<Link id="l05876" /><CodeLine lineNumber="5876"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/classes/llvm/constantsdnode">ConstantSDNode</a> &#42;RHSC = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;ConstantSDNode&gt;</a>(<a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>)) &#123;</span></CodeLine>
<Link id="l05877" /><CodeLine lineNumber="5877"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> Val = RHSC-&gt;getSExtValue();</span></CodeLine>
<Link id="l05878" /><CodeLine lineNumber="5878"></CodeLine>
<Link id="l05879" /><CodeLine lineNumber="5879"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// powi(x, 0) -&gt; 1</span></CodeLine>
<Link id="l05880" /><CodeLine lineNumber="5880"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Val == 0)</span></CodeLine>
<Link id="l05881" /><CodeLine lineNumber="5881"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> DAG.<a href="/docs/api/classes/llvm/selectiondag/#a354aae224911d4dab66e34bfa10cf5d6">getConstantFP</a>(1.0, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>.getValueType());</span></CodeLine>
<Link id="l05882" /><CodeLine lineNumber="5882"></CodeLine>
<Link id="l05883" /><CodeLine lineNumber="5883"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (DAG.<a href="/docs/api/classes/llvm/selectiondag/#a4c20c587f89ae2926f9e8a99093e8419">getTargetLoweringInfo</a>().<a href="/docs/api/classes/llvm/targetloweringbase/#aebf2d22447761e0a5e507f415e11fb9b">isBeneficialToExpandPowI</a>(</span></CodeLine>
<Link id="l05884" /><CodeLine lineNumber="5884"><span class="doxyHighlight">            Val, DAG.<a href="/docs/api/classes/llvm/selectiondag/#a47baccab6f8c3355a61bb4f70b2fc352">shouldOptForSize</a>())) &#123;</span></CodeLine>
<Link id="l05885" /><CodeLine lineNumber="5885"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Get the exponent as a positive value.</span></CodeLine>
<Link id="l05886" /><CodeLine lineNumber="5886"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> ((</span><span class="doxyHighlightKeywordType">int</span><span class="doxyHighlight">)Val &lt; 0)</span></CodeLine>
<Link id="l05887" /><CodeLine lineNumber="5887"><span class="doxyHighlight">        Val = -Val;</span></CodeLine>
<Link id="l05888" /><CodeLine lineNumber="5888"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// We use the simple binary decomposition method to generate the multiply</span></CodeLine>
<Link id="l05889" /><CodeLine lineNumber="5889"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// sequence.  There are more optimal ways to do this (for example,</span></CodeLine>
<Link id="l05890" /><CodeLine lineNumber="5890"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// powi(x,15) generates one more multiply than it should), but this has</span></CodeLine>
<Link id="l05891" /><CodeLine lineNumber="5891"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// the benefit of being both really simple and much better than a libcall.</span></CodeLine>
<Link id="l05892" /><CodeLine lineNumber="5892"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Res; </span><span class="doxyHighlightComment">// Logically starts equal to 1</span></CodeLine>
<Link id="l05893" /><CodeLine lineNumber="5893"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> CurSquare = <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>;</span></CodeLine>
<Link id="l05894" /><CodeLine lineNumber="5894"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// TODO: Intrinsics should have fast-math-flags that propagate to these</span></CodeLine>
<Link id="l05895" /><CodeLine lineNumber="5895"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// nodes.</span></CodeLine>
<Link id="l05896" /><CodeLine lineNumber="5896"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">while</span><span class="doxyHighlight"> (Val) &#123;</span></CodeLine>
<Link id="l05897" /><CodeLine lineNumber="5897"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Val &amp; 1) &#123;</span></CodeLine>
<Link id="l05898" /><CodeLine lineNumber="5898"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Res.<a href="/docs/api/classes/llvm/sdvalue/#a2b08aa629a6326d1a0444ee6d477c39d">getNode</a>())</span></CodeLine>
<Link id="l05899" /><CodeLine lineNumber="5899"><span class="doxyHighlight">            Res =</span></CodeLine>
<Link id="l05900" /><CodeLine lineNumber="5900"><span class="doxyHighlight">                DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Res.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>(), Res, CurSquare);</span></CodeLine>
<Link id="l05901" /><CodeLine lineNumber="5901"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">else</span></CodeLine>
<Link id="l05902" /><CodeLine lineNumber="5902"><span class="doxyHighlight">            Res = CurSquare; </span><span class="doxyHighlightComment">// 1.0&#42;CurSquare.</span></CodeLine>
<Link id="l05903" /><CodeLine lineNumber="5903"><span class="doxyHighlight">        &#125;</span></CodeLine>
<Link id="l05904" /><CodeLine lineNumber="5904"></CodeLine>
<Link id="l05905" /><CodeLine lineNumber="5905"><span class="doxyHighlight">        CurSquare = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, CurSquare.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>(),</span></CodeLine>
<Link id="l05906" /><CodeLine lineNumber="5906"><span class="doxyHighlight">                                CurSquare, CurSquare);</span></CodeLine>
<Link id="l05907" /><CodeLine lineNumber="5907"><span class="doxyHighlight">        Val &gt;&gt;= 1;</span></CodeLine>
<Link id="l05908" /><CodeLine lineNumber="5908"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l05909" /><CodeLine lineNumber="5909"></CodeLine>
<Link id="l05910" /><CodeLine lineNumber="5910"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// If the original was negative, invert the result, producing 1/(x&#42;x&#42;x).</span></CodeLine>
<Link id="l05911" /><CodeLine lineNumber="5911"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (RHSC-&gt;getSExtValue() &lt; 0)</span></CodeLine>
<Link id="l05912" /><CodeLine lineNumber="5912"><span class="doxyHighlight">        Res = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110abc6c09c7af98236460f0b020eb3be94e">ISD::FDIV</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>.getValueType(),</span></CodeLine>
<Link id="l05913" /><CodeLine lineNumber="5913"><span class="doxyHighlight">                          DAG.<a href="/docs/api/classes/llvm/selectiondag/#a354aae224911d4dab66e34bfa10cf5d6">getConstantFP</a>(1.0, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>.getValueType()), Res);</span></CodeLine>
<Link id="l05914" /><CodeLine lineNumber="5914"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> Res;</span></CodeLine>
<Link id="l05915" /><CodeLine lineNumber="5915"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l05916" /><CodeLine lineNumber="5916"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l05917" /><CodeLine lineNumber="5917"></CodeLine>
<Link id="l05918" /><CodeLine lineNumber="5918"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Otherwise, expand to a libcall.</span></CodeLine>
<Link id="l05919" /><CodeLine lineNumber="5919"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::FPOWI, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>.getValueType(), <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>);</span></CodeLine>
<Link id="l05920" /><CodeLine lineNumber="5920"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l05921" /><CodeLine lineNumber="5921"></CodeLine>
<Link id="l05922" /><CodeLine lineNumber="5922" lineLink="#a69f0725f2fda3046317ef070e37e06ec"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="#a69f0725f2fda3046317ef070e37e06ec">expandDivFix</a>(</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> Opcode, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> &amp;<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</span></CodeLine>
<Link id="l05923" /><CodeLine lineNumber="5923"><span class="doxyHighlight">                            <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Scale,</span></CodeLine>
<Link id="l05924" /><CodeLine lineNumber="5924"><span class="doxyHighlight">                            <a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp;DAG, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetlowering">TargetLowering</a> &amp;TLI) &#123;</span></CodeLine>
<Link id="l05925" /><CodeLine lineNumber="5925"><span class="doxyHighlight">  <a href="/docs/api/structs/llvm/evt">EVT</a> VT = <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>.getValueType();</span></CodeLine>
<Link id="l05926" /><CodeLine lineNumber="5926"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="/docs/api/files/lib/lib/target/lib/target/nvptx/nvptxisellowering-cpp/#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> = Opcode == <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a470242ff0d0c1f979101aa369a3a410e">ISD::SDIVFIX</a> || Opcode == <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110aadc85d973be8149bbaa5f372aa1faf3e">ISD::SDIVFIXSAT</a>;</span></CodeLine>
<Link id="l05927" /><CodeLine lineNumber="5927"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> Saturating = Opcode == <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110aadc85d973be8149bbaa5f372aa1faf3e">ISD::SDIVFIXSAT</a> || Opcode == <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a5c5ebc516cae422508ee0c062ef6b593">ISD::UDIVFIXSAT</a>;</span></CodeLine>
<Link id="l05928" /><CodeLine lineNumber="5928"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/llvmcontext">LLVMContext</a> &amp;Ctx = &#42;DAG.<a href="/docs/api/classes/llvm/selectiondag/#adecf615928faed0c8a082ffdb65dfea0">getContext</a>();</span></CodeLine>
<Link id="l05929" /><CodeLine lineNumber="5929"></CodeLine>
<Link id="l05930" /><CodeLine lineNumber="5930"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// If the type is legal but the operation isn&#39;t, this node might survive all</span></CodeLine>
<Link id="l05931" /><CodeLine lineNumber="5931"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// the way to operation legalization. If we end up there and we do not have</span></CodeLine>
<Link id="l05932" /><CodeLine lineNumber="5932"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// the ability to widen the type (if VT&#42;2 is not legal), we cannot expand the</span></CodeLine>
<Link id="l05933" /><CodeLine lineNumber="5933"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// node.</span></CodeLine>
<Link id="l05934" /><CodeLine lineNumber="5934"></CodeLine>
<Link id="l05935" /><CodeLine lineNumber="5935"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Coax the legalizer into expanding the node during type legalization instead</span></CodeLine>
<Link id="l05936" /><CodeLine lineNumber="5936"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// by bumping the size by one bit. This will force it to Promote, enabling the</span></CodeLine>
<Link id="l05937" /><CodeLine lineNumber="5937"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// early expansion and avoiding the need to expand later.</span></CodeLine>
<Link id="l05938" /><CodeLine lineNumber="5938"></CodeLine>
<Link id="l05939" /><CodeLine lineNumber="5939"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// We don&#39;t have to do this if Scale is 0; that can always be expanded, unless</span></CodeLine>
<Link id="l05940" /><CodeLine lineNumber="5940"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// it&#39;s a saturating signed operation. Those can experience true integer</span></CodeLine>
<Link id="l05941" /><CodeLine lineNumber="5941"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// division overflow, a case which we must avoid.</span></CodeLine>
<Link id="l05942" /><CodeLine lineNumber="5942"></CodeLine>
<Link id="l05943" /><CodeLine lineNumber="5943"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// FIXME: We wouldn&#39;t have to do this (or any of the early</span></CodeLine>
<Link id="l05944" /><CodeLine lineNumber="5944"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// expansion/promotion) if it was possible to expand a libcall of an</span></CodeLine>
<Link id="l05945" /><CodeLine lineNumber="5945"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// illegal type during operation legalization. But it&#39;s not, so things</span></CodeLine>
<Link id="l05946" /><CodeLine lineNumber="5946"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// get a bit hacky.</span></CodeLine>
<Link id="l05947" /><CodeLine lineNumber="5947"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> ScaleInt = Scale-&gt;<a href="/docs/api/classes/llvm/sdnode/#a7c6e64fef2ad2ba4052cd8365e97e8d2">getAsZExtVal</a>();</span></CodeLine>
<Link id="l05948" /><CodeLine lineNumber="5948"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> ((ScaleInt &gt; 0 || (Saturating &amp;&amp; <a href="/docs/api/files/lib/lib/target/lib/target/nvptx/nvptxisellowering-cpp/#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a>)) &amp;&amp;</span></CodeLine>
<Link id="l05949" /><CodeLine lineNumber="5949"><span class="doxyHighlight">      (TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a80b305b278aa0e04f80312e15b2b6d54">isTypeLegal</a>(VT) ||</span></CodeLine>
<Link id="l05950" /><CodeLine lineNumber="5950"><span class="doxyHighlight">       (VT.<a href="/docs/api/structs/llvm/evt/#aa54976197fff266f4143beb44fc9764c">isVector</a>() &amp;&amp; TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a80b305b278aa0e04f80312e15b2b6d54">isTypeLegal</a>(VT.<a href="/docs/api/structs/llvm/evt/#abc4c6365ade17ad4443ad0e381e7479d">getVectorElementType</a>())))) &#123;</span></CodeLine>
<Link id="l05951" /><CodeLine lineNumber="5951"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/targetloweringbase/#a12b8712b6c436a8152a5fa996cd8956a">TargetLowering::LegalizeAction</a> Action = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a600e57758651208ac2074e793d532a40">getFixedPointOperationAction</a>(</span></CodeLine>
<Link id="l05952" /><CodeLine lineNumber="5952"><span class="doxyHighlight">        Opcode, VT, ScaleInt);</span></CodeLine>
<Link id="l05953" /><CodeLine lineNumber="5953"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Action != <a href="/docs/api/classes/llvm/targetloweringbase/#a12b8712b6c436a8152a5fa996cd8956aad7ff2d7a7c03a214dda559fac717cd99">TargetLowering::Legal</a> &amp;&amp; Action != <a href="/docs/api/classes/llvm/targetloweringbase/#a12b8712b6c436a8152a5fa996cd8956aa3441acf8576e4bbf48e9bd73ca3c0d8c">TargetLowering::Custom</a>) &#123;</span></CodeLine>
<Link id="l05954" /><CodeLine lineNumber="5954"><span class="doxyHighlight">      <a href="/docs/api/structs/llvm/evt">EVT</a> PromVT;</span></CodeLine>
<Link id="l05955" /><CodeLine lineNumber="5955"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (VT.<a href="/docs/api/structs/llvm/evt/#ad958859a7af278dd5ea2b593c2b25050">isScalarInteger</a>())</span></CodeLine>
<Link id="l05956" /><CodeLine lineNumber="5956"><span class="doxyHighlight">        PromVT = <a href="/docs/api/structs/llvm/evt/#a752372e170e4e7c595bf8810bb52adf2">EVT::getIntegerVT</a>(Ctx, VT.<a href="/docs/api/structs/llvm/evt/#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>() + 1);</span></CodeLine>
<Link id="l05957" /><CodeLine lineNumber="5957"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (VT.<a href="/docs/api/structs/llvm/evt/#aa54976197fff266f4143beb44fc9764c">isVector</a>()) &#123;</span></CodeLine>
<Link id="l05958" /><CodeLine lineNumber="5958"><span class="doxyHighlight">        PromVT = VT.<a href="/docs/api/structs/llvm/evt/#abc4c6365ade17ad4443ad0e381e7479d">getVectorElementType</a>();</span></CodeLine>
<Link id="l05959" /><CodeLine lineNumber="5959"><span class="doxyHighlight">        PromVT = <a href="/docs/api/structs/llvm/evt/#a752372e170e4e7c595bf8810bb52adf2">EVT::getIntegerVT</a>(Ctx, PromVT.<a href="/docs/api/structs/llvm/evt/#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>() + 1);</span></CodeLine>
<Link id="l05960" /><CodeLine lineNumber="5960"><span class="doxyHighlight">        PromVT = <a href="/docs/api/structs/llvm/evt/#a210ba6b43ba451b698857dd9de71bd15">EVT::getVectorVT</a>(Ctx, PromVT, VT.<a href="/docs/api/structs/llvm/evt/#a3d102abca1c9c95f36546dff2f39273b">getVectorElementCount</a>());</span></CodeLine>
<Link id="l05961" /><CodeLine lineNumber="5961"><span class="doxyHighlight">      &#125; </span><span class="doxyHighlightKeywordFlow">else</span></CodeLine>
<Link id="l05962" /><CodeLine lineNumber="5962"><span class="doxyHighlight">        <a href="/docs/api/files/include/include/llvm/include/llvm/support/errorhandling-h/#ace243f5c25697a1107cce46626b3dc94">llvm&#95;unreachable</a>(</span><span class="doxyHighlightStringLiteral">&quot;Wrong VT for DIVFIX?&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l05963" /><CodeLine lineNumber="5963"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = DAG.<a href="/docs/api/classes/llvm/selectiondag/#a0691b4d847eca2bde325eeb0d5f24e54">getExtOrTrunc</a>(<a href="/docs/api/files/lib/lib/target/lib/target/nvptx/nvptxisellowering-cpp/#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a>, <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, PromVT);</span></CodeLine>
<Link id="l05964" /><CodeLine lineNumber="5964"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = DAG.<a href="/docs/api/classes/llvm/selectiondag/#a0691b4d847eca2bde325eeb0d5f24e54">getExtOrTrunc</a>(<a href="/docs/api/files/lib/lib/target/lib/target/nvptx/nvptxisellowering-cpp/#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a>, <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, PromVT);</span></CodeLine>
<Link id="l05965" /><CodeLine lineNumber="5965"><span class="doxyHighlight">      <a href="/docs/api/structs/llvm/evt">EVT</a> ShiftTy = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a6a2579bc0354806c6c9708b068777c3a">getShiftAmountTy</a>(PromVT, DAG.<a href="/docs/api/classes/llvm/selectiondag/#a6b442ac8a9fc6147b95ccfb2c3322121">getDataLayout</a>());</span></CodeLine>
<Link id="l05966" /><CodeLine lineNumber="5966"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// For saturating operations, we need to shift up the LHS to get the</span></CodeLine>
<Link id="l05967" /><CodeLine lineNumber="5967"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// proper saturation width, and then shift down again afterwards.</span></CodeLine>
<Link id="l05968" /><CodeLine lineNumber="5968"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Saturating)</span></CodeLine>
<Link id="l05969" /><CodeLine lineNumber="5969"><span class="doxyHighlight">        <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, PromVT, <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>,</span></CodeLine>
<Link id="l05970" /><CodeLine lineNumber="5970"><span class="doxyHighlight">                          DAG.<a href="/docs/api/classes/llvm/selectiondag/#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(1, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ShiftTy));</span></CodeLine>
<Link id="l05971" /><CodeLine lineNumber="5971"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Res = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(Opcode, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, PromVT, <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Scale);</span></CodeLine>
<Link id="l05972" /><CodeLine lineNumber="5972"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Saturating)</span></CodeLine>
<Link id="l05973" /><CodeLine lineNumber="5973"><span class="doxyHighlight">        Res = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/files/lib/lib/target/lib/target/nvptx/nvptxisellowering-cpp/#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> ? <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a4a055321c361a0f6ee77ed764730ffc1">ISD::SRA</a> : <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, PromVT, Res,</span></CodeLine>
<Link id="l05974" /><CodeLine lineNumber="5974"><span class="doxyHighlight">                          DAG.<a href="/docs/api/classes/llvm/selectiondag/#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(1, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ShiftTy));</span></CodeLine>
<Link id="l05975" /><CodeLine lineNumber="5975"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> DAG.<a href="/docs/api/classes/llvm/selectiondag/#ad0c6f059b29535f2c790d1c4f92b7a93">getZExtOrTrunc</a>(Res, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT);</span></CodeLine>
<Link id="l05976" /><CodeLine lineNumber="5976"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l05977" /><CodeLine lineNumber="5977"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l05978" /><CodeLine lineNumber="5978"></CodeLine>
<Link id="l05979" /><CodeLine lineNumber="5979"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(Opcode, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, Scale);</span></CodeLine>
<Link id="l05980" /><CodeLine lineNumber="5980"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l05981" /><CodeLine lineNumber="5981"></CodeLine>
<Link id="l05982" /><CodeLine lineNumber="5982"><span class="doxyHighlightComment">// getUnderlyingArgRegs - Find underlying registers used for a truncated,</span></CodeLine>
<Link id="l05983" /><CodeLine lineNumber="5983"><span class="doxyHighlightComment">// bitcasted, or split argument. Returns a list of &lt;Register, size in bits&gt;</span></CodeLine>
<Link id="l05984" /><CodeLine lineNumber="5984"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordType">void</span></CodeLine>
<Link id="l05985" /><CodeLine lineNumber="5985" lineLink="#a7f9cdc800dea62835ecb6014346a0bcd"><span class="doxyHighlight"><a href="#a7f9cdc800dea62835ecb6014346a0bcd">getUnderlyingArgRegs</a>(<a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt;std::pair&lt;Register, TypeSize&gt;&gt; &amp;Regs,</span></CodeLine>
<Link id="l05986" /><CodeLine lineNumber="5986"><span class="doxyHighlight">                     </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> &amp;<a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>) &#123;</span></CodeLine>
<Link id="l05987" /><CodeLine lineNumber="5987"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">switch</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>.getOpcode()) &#123;</span></CodeLine>
<Link id="l05988" /><CodeLine lineNumber="5988"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a84c47705bcf7271413738ae8bf3871e6">ISD::CopyFromReg</a>: &#123;</span></CodeLine>
<Link id="l05989" /><CodeLine lineNumber="5989"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a> = <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>.getOperand(1);</span></CodeLine>
<Link id="l05990" /><CodeLine lineNumber="5990"><span class="doxyHighlight">    Regs.emplace&#95;back(<a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;RegisterSDNode&gt;</a>(<a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>)-&gt;<a href="/docs/api/files/lib/lib/target/lib/target/mips/lib/target/mips/disassembler/mipsdisassembler-cpp/#a15b5b86944f6df97d2c3659d77f51f91">getReg</a>(),</span></CodeLine>
<Link id="l05991" /><CodeLine lineNumber="5991"><span class="doxyHighlight">                      <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>.getValueType().getSizeInBits());</span></CodeLine>
<Link id="l05992" /><CodeLine lineNumber="5992"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l05993" /><CodeLine lineNumber="5993"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l05994" /><CodeLine lineNumber="5994"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> ISD::BITCAST:</span></CodeLine>
<Link id="l05995" /><CodeLine lineNumber="5995"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110af23301e60475124fd80a2cb51f6ba863">ISD::AssertZext</a>:</span></CodeLine>
<Link id="l05996" /><CodeLine lineNumber="5996"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110aee4f13218bdbb5c5697f7e786618ecb2">ISD::AssertSext</a>:</span></CodeLine>
<Link id="l05997" /><CodeLine lineNumber="5997"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>:</span></CodeLine>
<Link id="l05998" /><CodeLine lineNumber="5998"><span class="doxyHighlight">    <a href="#a7f9cdc800dea62835ecb6014346a0bcd">getUnderlyingArgRegs</a>(Regs, <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>.getOperand(0));</span></CodeLine>
<Link id="l05999" /><CodeLine lineNumber="5999"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06000" /><CodeLine lineNumber="6000"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a41bd84b853e2c03fb1af1f4ca9ebdcaf">ISD::BUILD&#95;PAIR</a>:</span></CodeLine>
<Link id="l06001" /><CodeLine lineNumber="6001"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32">ISD::BUILD&#95;VECTOR</a>:</span></CodeLine>
<Link id="l06002" /><CodeLine lineNumber="6002"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a320898056eadc3254fc601e1362eb9f5">ISD::CONCAT&#95;VECTORS</a>:</span></CodeLine>
<Link id="l06003" /><CodeLine lineNumber="6003"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (<a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a> : <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;op&#95;values())</span></CodeLine>
<Link id="l06004" /><CodeLine lineNumber="6004"><span class="doxyHighlight">      <a href="#a7f9cdc800dea62835ecb6014346a0bcd">getUnderlyingArgRegs</a>(Regs, <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>);</span></CodeLine>
<Link id="l06005" /><CodeLine lineNumber="6005"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06006" /><CodeLine lineNumber="6006"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">default</span><span class="doxyHighlight">:</span></CodeLine>
<Link id="l06007" /><CodeLine lineNumber="6007"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06008" /><CodeLine lineNumber="6008"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l06009" /><CodeLine lineNumber="6009"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l06010" /><CodeLine lineNumber="6010"></CodeLine>
<Link id="l06011" /><CodeLine lineNumber="6011"><span class="doxyHighlightComment">/// If the DbgValueInst is a dbg&#95;value of a function argument, create the</span></CodeLine>
<Link id="l06012" /><CodeLine lineNumber="6012"><span class="doxyHighlightComment">/// corresponding DBG&#95;VALUE machine instruction for it now.  At the end of</span></CodeLine>
<Link id="l06013" /><CodeLine lineNumber="6013"><span class="doxyHighlightComment">/// instruction selection, they will be inserted to the entry BB.</span></CodeLine>
<Link id="l06014" /><CodeLine lineNumber="6014"><span class="doxyHighlightComment">/// We don&#39;t currently support this for variadic dbg&#95;values, as they shouldn&#39;t</span></CodeLine>
<Link id="l06015" /><CodeLine lineNumber="6015"><span class="doxyHighlightComment">/// appear for function arguments or in the prologue.</span></CodeLine>
<Link id="l06016" /><CodeLine lineNumber="6016"><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> SelectionDAGBuilder::EmitFuncArgumentDbgValue(</span></CodeLine>
<Link id="l06017" /><CodeLine lineNumber="6017"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/value">Value</a> &#42;V, <a href="/docs/api/classes/llvm/dilocalvariable">DILocalVariable</a> &#42;Variable, <a href="/docs/api/classes/llvm/diexpression">DIExpression</a> &#42;Expr,</span></CodeLine>
<Link id="l06018" /><CodeLine lineNumber="6018"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/dilocation">DILocation</a> &#42;<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, FuncArgumentDbgValueKind Kind, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> &amp;<a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>) &#123;</span></CodeLine>
<Link id="l06019" /><CodeLine lineNumber="6019"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/logicalview/#a9696bc411b0a7022c2cc78bff5173cefa1853680a6d666b9fea2d789dd00bc7eb">Argument</a> &#42;Arg = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;Argument&gt;</a>(V);</span></CodeLine>
<Link id="l06020" /><CodeLine lineNumber="6020"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!Arg)</span></CodeLine>
<Link id="l06021" /><CodeLine lineNumber="6021"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06022" /><CodeLine lineNumber="6022"></CodeLine>
<Link id="l06023" /><CodeLine lineNumber="6023"><span class="doxyHighlight">  MachineFunction &amp;MF = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMachineFunction();</span></CodeLine>
<Link id="l06024" /><CodeLine lineNumber="6024"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> TargetInstrInfo &#42;<a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagoncopytocombine-cpp/#a1d40004718218dbdf06b496766299101">TII</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSubtarget().getInstrInfo();</span></CodeLine>
<Link id="l06025" /><CodeLine lineNumber="6025"></CodeLine>
<Link id="l06026" /><CodeLine lineNumber="6026"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Helper to create DBG&#95;INSTR&#95;REFs or DBG&#95;VALUEs, depending on what kind</span></CodeLine>
<Link id="l06027" /><CodeLine lineNumber="6027"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// we&#39;ve been asked to pursue.</span></CodeLine>
<Link id="l06028" /><CodeLine lineNumber="6028"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> MakeVRegDbgValue = &#91;&amp;&#93;(<a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/mem2reg-cpp/#a6fde3eb6ca09ddf2fd76432176d817bb">Register</a> <a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a359e1ff26f6d466d927a61aae45b05c3">Reg</a>, DIExpression &#42;FragExpr,</span></CodeLine>
<Link id="l06029" /><CodeLine lineNumber="6029"><span class="doxyHighlight">                              </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/objcopy/#a88eeb89876019c1a9f2540275fb96457a0b5ca9d0c6dbcbb3e299361cd4e4a79c">Indirect</a>) &#123;</span></CodeLine>
<Link id="l06030" /><CodeLine lineNumber="6030"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a359e1ff26f6d466d927a61aae45b05c3">Reg</a>.isVirtual() &amp;&amp; MF.<a href="/docs/api/classes/llvm/machinefunction/#a2593b6762f74e112d695516c3b6fa9ce">useDebugInstrRef</a>()) &#123;</span></CodeLine>
<Link id="l06031" /><CodeLine lineNumber="6031"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// For VRegs, in instruction referencing mode, create a DBG&#95;INSTR&#95;REF</span></CodeLine>
<Link id="l06032" /><CodeLine lineNumber="6032"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// pointing at the VReg, which will be patched up later.</span></CodeLine>
<Link id="l06033" /><CodeLine lineNumber="6033"><span class="doxyHighlight">      </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;Inst = <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagoncopytocombine-cpp/#a1d40004718218dbdf06b496766299101">TII</a>-&gt;get(TargetOpcode::DBG&#95;INSTR&#95;REF);</span></CodeLine>
<Link id="l06034" /><CodeLine lineNumber="6034"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;MachineOperand, 1&gt;</a> MOs(&#123;<a href="/docs/api/classes/llvm/machineoperand/#af2c351dad09a71aa08e1d85c67ae6e53">MachineOperand::CreateReg</a>(</span></CodeLine>
<Link id="l06035" /><CodeLine lineNumber="6035"><span class="doxyHighlight">          </span><span class="doxyHighlightComment">/&#42; Reg &#42;/</span><span class="doxyHighlight"> <a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a359e1ff26f6d466d927a61aae45b05c3">Reg</a>, </span><span class="doxyHighlightComment">/&#42; isDef &#42;/</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">, </span><span class="doxyHighlightComment">/&#42; isImp &#42;/</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">,</span></CodeLine>
<Link id="l06036" /><CodeLine lineNumber="6036"><span class="doxyHighlight">          </span><span class="doxyHighlightComment">/&#42; isKill &#42;/</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">, </span><span class="doxyHighlightComment">/&#42; isDead &#42;/</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">,</span></CodeLine>
<Link id="l06037" /><CodeLine lineNumber="6037"><span class="doxyHighlight">          </span><span class="doxyHighlightComment">/&#42; isUndef &#42;/</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">, </span><span class="doxyHighlightComment">/&#42; isEarlyClobber &#42;/</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">,</span></CodeLine>
<Link id="l06038" /><CodeLine lineNumber="6038"><span class="doxyHighlight">          </span><span class="doxyHighlightComment">/&#42; SubReg &#42;/</span><span class="doxyHighlight"> 0, </span><span class="doxyHighlightComment">/&#42; isDebug &#42;/</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">)&#125;);</span></CodeLine>
<Link id="l06039" /><CodeLine lineNumber="6039"></CodeLine>
<Link id="l06040" /><CodeLine lineNumber="6040"><span class="doxyHighlight">      </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;NewDIExpr = FragExpr;</span></CodeLine>
<Link id="l06041" /><CodeLine lineNumber="6041"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// We don&#39;t have an &quot;Indirect&quot; field in DBG&#95;INSTR&#95;REF, fold that into</span></CodeLine>
<Link id="l06042" /><CodeLine lineNumber="6042"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// the DIExpression.</span></CodeLine>
<Link id="l06043" /><CodeLine lineNumber="6043"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Indirect)</span></CodeLine>
<Link id="l06044" /><CodeLine lineNumber="6044"><span class="doxyHighlight">        NewDIExpr = <a href="/docs/api/classes/llvm/diexpression/#ab804b15bb92ff685d7c1464b2816d608">DIExpression::prepend</a>(FragExpr, <a href="/docs/api/classes/llvm/diexpression/#a6472489551b8960cc115a93d95eef9f6a18f3c7099f5b8bfe10361a97ee34a5c9">DIExpression::DerefBefore</a>);</span></CodeLine>
<Link id="l06045" /><CodeLine lineNumber="6045"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;uint64&#95;t, 2&gt;</a> <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>(&#123;<a href="/docs/api/namespaces/llvm/dwarf/#a78e9cb1527edb3cc1d1ee577257b5f0cadb24b626a6ff07a122e0df22e9857a3d">dwarf::DW&#95;OP&#95;LLVM&#95;arg</a>, 0&#125;);</span></CodeLine>
<Link id="l06046" /><CodeLine lineNumber="6046"><span class="doxyHighlight">      NewDIExpr = <a href="/docs/api/classes/llvm/diexpression/#af3a48df3735933cf1621760019e5fd8c">DIExpression::prependOpcodes</a>(NewDIExpr, <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>);</span></CodeLine>
<Link id="l06047" /><CodeLine lineNumber="6047"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(MF, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Inst, </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">, MOs, Variable, NewDIExpr);</span></CodeLine>
<Link id="l06048" /><CodeLine lineNumber="6048"><span class="doxyHighlight">    &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l06049" /><CodeLine lineNumber="6049"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Create a completely standard DBG&#95;VALUE.</span></CodeLine>
<Link id="l06050" /><CodeLine lineNumber="6050"><span class="doxyHighlight">      </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;Inst = <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagoncopytocombine-cpp/#a1d40004718218dbdf06b496766299101">TII</a>-&gt;get(TargetOpcode::DBG&#95;VALUE);</span></CodeLine>
<Link id="l06051" /><CodeLine lineNumber="6051"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(MF, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Inst, Indirect, <a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a359e1ff26f6d466d927a61aae45b05c3">Reg</a>, Variable, FragExpr);</span></CodeLine>
<Link id="l06052" /><CodeLine lineNumber="6052"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l06053" /><CodeLine lineNumber="6053"><span class="doxyHighlight">  &#125;;</span></CodeLine>
<Link id="l06054" /><CodeLine lineNumber="6054"></CodeLine>
<Link id="l06055" /><CodeLine lineNumber="6055"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Kind == FuncArgumentDbgValueKind::Value) &#123;</span></CodeLine>
<Link id="l06056" /><CodeLine lineNumber="6056"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// ArgDbgValues are hoisted to the beginning of the entry block. So we</span></CodeLine>
<Link id="l06057" /><CodeLine lineNumber="6057"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// should only emit as ArgDbgValue if the dbg.value intrinsic is found in</span></CodeLine>
<Link id="l06058" /><CodeLine lineNumber="6058"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// the entry block.</span></CodeLine>
<Link id="l06059" /><CodeLine lineNumber="6059"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> IsInEntryBlock = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.MBB == &amp;<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.MF-&gt;front();</span></CodeLine>
<Link id="l06060" /><CodeLine lineNumber="6060"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!IsInEntryBlock)</span></CodeLine>
<Link id="l06061" /><CodeLine lineNumber="6061"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06062" /><CodeLine lineNumber="6062"></CodeLine>
<Link id="l06063" /><CodeLine lineNumber="6063"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// ArgDbgValues are hoisted to the beginning of the entry block.  So we</span></CodeLine>
<Link id="l06064" /><CodeLine lineNumber="6064"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// should only emit as ArgDbgValue if the dbg.value intrinsic describes a</span></CodeLine>
<Link id="l06065" /><CodeLine lineNumber="6065"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// variable that also is a param.</span></CodeLine>
<Link id="l06066" /><CodeLine lineNumber="6066"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l06067" /><CodeLine lineNumber="6067"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Although, if we are at the top of the entry block already, we can still</span></CodeLine>
<Link id="l06068" /><CodeLine lineNumber="6068"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// emit using ArgDbgValue. This might catch some situations when the</span></CodeLine>
<Link id="l06069" /><CodeLine lineNumber="6069"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// dbg.value refers to an argument that isn&#39;t used in the entry block, so</span></CodeLine>
<Link id="l06070" /><CodeLine lineNumber="6070"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// any CopyToReg node would be optimized out and the only way to express</span></CodeLine>
<Link id="l06071" /><CodeLine lineNumber="6071"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// this DBG&#95;VALUE is by using the physical reg (or FI) as done in this</span></CodeLine>
<Link id="l06072" /><CodeLine lineNumber="6072"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// method.  ArgDbgValues are hoisted to the beginning of the entry block. So</span></CodeLine>
<Link id="l06073" /><CodeLine lineNumber="6073"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// we should only emit as ArgDbgValue if the Variable is an argument to the</span></CodeLine>
<Link id="l06074" /><CodeLine lineNumber="6074"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// current function, and the dbg.value intrinsic is found in the entry</span></CodeLine>
<Link id="l06075" /><CodeLine lineNumber="6075"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// block.</span></CodeLine>
<Link id="l06076" /><CodeLine lineNumber="6076"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> VariableIsFunctionInputArg = Variable-&gt;<a href="/docs/api/classes/llvm/dilocalvariable/#a45c267092569766aa684c6ba3bae9634">isParameter</a>() &amp;&amp;</span></CodeLine>
<Link id="l06077" /><CodeLine lineNumber="6077"><span class="doxyHighlight">        !<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>-&gt;getInlinedAt();</span></CodeLine>
<Link id="l06078" /><CodeLine lineNumber="6078"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> IsInPrologue = SDNodeOrder == <a href="/docs/api/classes/llvm/selectiondagbuilder/#accb23e3bb8c3fddd1fc7a18025b1ec0d">LowestSDNodeOrder</a>;</span></CodeLine>
<Link id="l06079" /><CodeLine lineNumber="6079"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!IsInPrologue &amp;&amp; !VariableIsFunctionInputArg)</span></CodeLine>
<Link id="l06080" /><CodeLine lineNumber="6080"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06081" /><CodeLine lineNumber="6081"></CodeLine>
<Link id="l06082" /><CodeLine lineNumber="6082"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Here we assume that a function argument on IR level only can be used to</span></CodeLine>
<Link id="l06083" /><CodeLine lineNumber="6083"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// describe one input parameter on source level. If we for example have</span></CodeLine>
<Link id="l06084" /><CodeLine lineNumber="6084"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// source code like this</span></CodeLine>
<Link id="l06085" /><CodeLine lineNumber="6085"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l06086" /><CodeLine lineNumber="6086"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//    struct A &#123; long x, y; &#125;;</span></CodeLine>
<Link id="l06087" /><CodeLine lineNumber="6087"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//    void foo(struct A a, long b) &#123;</span></CodeLine>
<Link id="l06088" /><CodeLine lineNumber="6088"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//      ...</span></CodeLine>
<Link id="l06089" /><CodeLine lineNumber="6089"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//      b = a.x;</span></CodeLine>
<Link id="l06090" /><CodeLine lineNumber="6090"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//      ...</span></CodeLine>
<Link id="l06091" /><CodeLine lineNumber="6091"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//    &#125;</span></CodeLine>
<Link id="l06092" /><CodeLine lineNumber="6092"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l06093" /><CodeLine lineNumber="6093"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// and IR like this</span></CodeLine>
<Link id="l06094" /><CodeLine lineNumber="6094"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l06095" /><CodeLine lineNumber="6095"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//  define void @foo(i32 %a1, i32 %a2, i32 %b)  &#123;</span></CodeLine>
<Link id="l06096" /><CodeLine lineNumber="6096"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//  entry:</span></CodeLine>
<Link id="l06097" /><CodeLine lineNumber="6097"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//    call void @llvm.dbg.value(metadata i32 %a1, &quot;a&quot;, DW&#95;OP&#95;LLVM&#95;fragment</span></CodeLine>
<Link id="l06098" /><CodeLine lineNumber="6098"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//    call void @llvm.dbg.value(metadata i32 %a2, &quot;a&quot;, DW&#95;OP&#95;LLVM&#95;fragment</span></CodeLine>
<Link id="l06099" /><CodeLine lineNumber="6099"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//    call void @llvm.dbg.value(metadata i32 %b, &quot;b&quot;,</span></CodeLine>
<Link id="l06100" /><CodeLine lineNumber="6100"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//    ...</span></CodeLine>
<Link id="l06101" /><CodeLine lineNumber="6101"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//    call void @llvm.dbg.value(metadata i32 %a1, &quot;b&quot;</span></CodeLine>
<Link id="l06102" /><CodeLine lineNumber="6102"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//    ...</span></CodeLine>
<Link id="l06103" /><CodeLine lineNumber="6103"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l06104" /><CodeLine lineNumber="6104"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// then the last dbg.value is describing a parameter &quot;b&quot; using a value that</span></CodeLine>
<Link id="l06105" /><CodeLine lineNumber="6105"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// is an argument. But since we already has used %a1 to describe a parameter</span></CodeLine>
<Link id="l06106" /><CodeLine lineNumber="6106"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// we should not handle that last dbg.value here (that would result in an</span></CodeLine>
<Link id="l06107" /><CodeLine lineNumber="6107"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// incorrect hoisting of the DBG&#95;VALUE to the function entry).</span></CodeLine>
<Link id="l06108" /><CodeLine lineNumber="6108"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Notice that we allow one dbg.value per IR level argument, to accommodate</span></CodeLine>
<Link id="l06109" /><CodeLine lineNumber="6109"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// for the situation with fragments above.</span></CodeLine>
<Link id="l06110" /><CodeLine lineNumber="6110"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// If there is no node for the value being handled, we return true to skip</span></CodeLine>
<Link id="l06111" /><CodeLine lineNumber="6111"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// the normal generation of debug info, as it would kill existing debug</span></CodeLine>
<Link id="l06112" /><CodeLine lineNumber="6112"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// info for the parameter in case of duplicates.</span></CodeLine>
<Link id="l06113" /><CodeLine lineNumber="6113"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (VariableIsFunctionInputArg) &#123;</span></CodeLine>
<Link id="l06114" /><CodeLine lineNumber="6114"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> ArgNo = Arg-&gt;<a href="/docs/api/classes/llvm/argument/#ab205d366b1137026c32f5678f7cc2726">getArgNo</a>();</span></CodeLine>
<Link id="l06115" /><CodeLine lineNumber="6115"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (ArgNo &gt;= <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.DescribedArgs.size())</span></CodeLine>
<Link id="l06116" /><CodeLine lineNumber="6116"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.DescribedArgs.resize(ArgNo + 1, </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l06117" /><CodeLine lineNumber="6117"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!IsInPrologue &amp;&amp; <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.DescribedArgs.test(ArgNo))</span></CodeLine>
<Link id="l06118" /><CodeLine lineNumber="6118"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> !NodeMap&#91;<a href="/docs/api/namespaces/llvm/m68k/#ab3a288f2953d8eca3e363959fc2cf38ea5206560a306a2e085a437fd258eb57ce">V</a>&#93;.getNode();</span></CodeLine>
<Link id="l06119" /><CodeLine lineNumber="6119"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.DescribedArgs.set(ArgNo);</span></CodeLine>
<Link id="l06120" /><CodeLine lineNumber="6120"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l06121" /><CodeLine lineNumber="6121"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l06122" /><CodeLine lineNumber="6122"></CodeLine>
<Link id="l06123" /><CodeLine lineNumber="6123"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> IsIndirect = </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06124" /><CodeLine lineNumber="6124"><span class="doxyHighlight">  std::optional&lt;MachineOperand&gt; <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>;</span></CodeLine>
<Link id="l06125" /><CodeLine lineNumber="6125"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Some arguments&#39; frame index is recorded during argument lowering.</span></CodeLine>
<Link id="l06126" /><CodeLine lineNumber="6126"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">int</span><span class="doxyHighlight"> FI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.getArgumentFrameIndex(Arg);</span></CodeLine>
<Link id="l06127" /><CodeLine lineNumber="6127"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (FI != std::numeric&#95;limits&lt;int&gt;::max())</span></CodeLine>
<Link id="l06128" /><CodeLine lineNumber="6128"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a> = <a href="/docs/api/classes/llvm/machineoperand/#afda3f1971b3e44709267be818ffd3035">MachineOperand::CreateFI</a>(FI);</span></CodeLine>
<Link id="l06129" /><CodeLine lineNumber="6129"></CodeLine>
<Link id="l06130" /><CodeLine lineNumber="6130"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;std::pair&lt;Register, TypeSize&gt;</a>, 8&gt; ArgRegsAndSizes;</span></CodeLine>
<Link id="l06131" /><CodeLine lineNumber="6131"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a> &amp;&amp; <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>.getNode()) &#123;</span></CodeLine>
<Link id="l06132" /><CodeLine lineNumber="6132"><span class="doxyHighlight">    <a href="#a7f9cdc800dea62835ecb6014346a0bcd">getUnderlyingArgRegs</a>(ArgRegsAndSizes, <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>);</span></CodeLine>
<Link id="l06133" /><CodeLine lineNumber="6133"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/mem2reg-cpp/#a6fde3eb6ca09ddf2fd76432176d817bb">Register</a> <a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a359e1ff26f6d466d927a61aae45b05c3">Reg</a>;</span></CodeLine>
<Link id="l06134" /><CodeLine lineNumber="6134"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (ArgRegsAndSizes.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#a1c479a8c434377c2b8cb056bdfdfc201">size</a>() == 1)</span></CodeLine>
<Link id="l06135" /><CodeLine lineNumber="6135"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a359e1ff26f6d466d927a61aae45b05c3">Reg</a> = ArgRegsAndSizes.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#a58dc840fc84420b7f0b773794b8101c1">front</a>().first;</span></CodeLine>
<Link id="l06136" /><CodeLine lineNumber="6136"></CodeLine>
<Link id="l06137" /><CodeLine lineNumber="6137"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a359e1ff26f6d466d927a61aae45b05c3">Reg</a> &amp;&amp; <a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a359e1ff26f6d466d927a61aae45b05c3">Reg</a>.isVirtual()) &#123;</span></CodeLine>
<Link id="l06138" /><CodeLine lineNumber="6138"><span class="doxyHighlight">      MachineRegisterInfo &amp;RegInfo = MF.<a href="/docs/api/classes/llvm/machinefunction/#a810234b6b3d223b7c74a4253fcc5ea5e">getRegInfo</a>();</span></CodeLine>
<Link id="l06139" /><CodeLine lineNumber="6139"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/mem2reg-cpp/#a6fde3eb6ca09ddf2fd76432176d817bb">Register</a> PR = RegInfo.<a href="/docs/api/classes/llvm/machineregisterinfo/#a8826883c66d420e0b7a9dd216eeaa388">getLiveInPhysReg</a>(<a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a359e1ff26f6d466d927a61aae45b05c3">Reg</a>);</span></CodeLine>
<Link id="l06140" /><CodeLine lineNumber="6140"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (PR)</span></CodeLine>
<Link id="l06141" /><CodeLine lineNumber="6141"><span class="doxyHighlight">        <a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a359e1ff26f6d466d927a61aae45b05c3">Reg</a> = PR;</span></CodeLine>
<Link id="l06142" /><CodeLine lineNumber="6142"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l06143" /><CodeLine lineNumber="6143"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a359e1ff26f6d466d927a61aae45b05c3">Reg</a>) &#123;</span></CodeLine>
<Link id="l06144" /><CodeLine lineNumber="6144"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a> = <a href="/docs/api/classes/llvm/machineoperand/#af2c351dad09a71aa08e1d85c67ae6e53">MachineOperand::CreateReg</a>(<a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a359e1ff26f6d466d927a61aae45b05c3">Reg</a>, </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l06145" /><CodeLine lineNumber="6145"><span class="doxyHighlight">      IsIndirect = <a href="/docs/api/namespaces/llvm/lltok/#af353621f14cb4b4b3af5ffaff84076b1">Kind</a> != FuncArgumentDbgValueKind::Value;</span></CodeLine>
<Link id="l06146" /><CodeLine lineNumber="6146"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l06147" /><CodeLine lineNumber="6147"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l06148" /><CodeLine lineNumber="6148"></CodeLine>
<Link id="l06149" /><CodeLine lineNumber="6149"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a> &amp;&amp; <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>.getNode()) &#123;</span></CodeLine>
<Link id="l06150" /><CodeLine lineNumber="6150"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Check if frame index is available.</span></CodeLine>
<Link id="l06151" /><CodeLine lineNumber="6151"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> LCandidate = <a href="/docs/api/namespaces/llvm/#a1f4429b3a6cbf22cea042b77cf055f40">peekThroughBitcasts</a>(<a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>);</span></CodeLine>
<Link id="l06152" /><CodeLine lineNumber="6152"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (LoadSDNode &#42;LNode = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;LoadSDNode&gt;</a>(LCandidate.<a href="/docs/api/classes/llvm/sdvalue/#a2b08aa629a6326d1a0444ee6d477c39d">getNode</a>()))</span></CodeLine>
<Link id="l06153" /><CodeLine lineNumber="6153"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (FrameIndexSDNode &#42;FINode =</span></CodeLine>
<Link id="l06154" /><CodeLine lineNumber="6154"><span class="doxyHighlight">          <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;FrameIndexSDNode&gt;</a>(LNode-&gt;getBasePtr().getNode()))</span></CodeLine>
<Link id="l06155" /><CodeLine lineNumber="6155"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a> = <a href="/docs/api/classes/llvm/machineoperand/#afda3f1971b3e44709267be818ffd3035">MachineOperand::CreateFI</a>(FINode-&gt;getIndex());</span></CodeLine>
<Link id="l06156" /><CodeLine lineNumber="6156"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l06157" /><CodeLine lineNumber="6157"></CodeLine>
<Link id="l06158" /><CodeLine lineNumber="6158"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>) &#123;</span></CodeLine>
<Link id="l06159" /><CodeLine lineNumber="6159"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Create a DBG&#95;VALUE for each decomposed value in ArgRegs to cover Reg</span></CodeLine>
<Link id="l06160" /><CodeLine lineNumber="6160"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> splitMultiRegDbgValue = &#91;&amp;&#93;(<a href="/docs/api/namespaces/llvm/#ab9c6b351507d3c0730f4290919d43a12">ArrayRef&lt;std::pair&lt;Register, TypeSize&gt;</a>&gt;</span></CodeLine>
<Link id="l06161" /><CodeLine lineNumber="6161"><span class="doxyHighlight">                                         SplitRegs) &#123;</span></CodeLine>
<Link id="l06162" /><CodeLine lineNumber="6162"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = 0;</span></CodeLine>
<Link id="l06163" /><CodeLine lineNumber="6163"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;RegAndSize : SplitRegs) &#123;</span></CodeLine>
<Link id="l06164" /><CodeLine lineNumber="6164"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// If the expression is already a fragment, the current register</span></CodeLine>
<Link id="l06165" /><CodeLine lineNumber="6165"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// offset+size might extend beyond the fragment. In this case, only</span></CodeLine>
<Link id="l06166" /><CodeLine lineNumber="6166"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// the register bits that are inside the fragment are relevant.</span></CodeLine>
<Link id="l06167" /><CodeLine lineNumber="6167"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordType">int</span><span class="doxyHighlight"> RegFragmentSizeInBits = RegAndSize.second;</span></CodeLine>
<Link id="l06168" /><CodeLine lineNumber="6168"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> ExprFragmentInfo = Expr-&gt;<a href="/docs/api/classes/llvm/diexpression/#a7cc5f1632a4c520497898439c17dc026">getFragmentInfo</a>()) &#123;</span></CodeLine>
<Link id="l06169" /><CodeLine lineNumber="6169"><span class="doxyHighlight">          uint64&#95;t ExprFragmentSizeInBits = ExprFragmentInfo-&gt;SizeInBits;</span></CodeLine>
<Link id="l06170" /><CodeLine lineNumber="6170"><span class="doxyHighlight">          </span><span class="doxyHighlightComment">// The register is entirely outside the expression fragment,</span></CodeLine>
<Link id="l06171" /><CodeLine lineNumber="6171"><span class="doxyHighlight">          </span><span class="doxyHighlightComment">// so is irrelevant for debug info.</span></CodeLine>
<Link id="l06172" /><CodeLine lineNumber="6172"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> &gt;= ExprFragmentSizeInBits)</span></CodeLine>
<Link id="l06173" /><CodeLine lineNumber="6173"><span class="doxyHighlight">            </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06174" /><CodeLine lineNumber="6174"><span class="doxyHighlight">          </span><span class="doxyHighlightComment">// The register is partially outside the expression fragment, only</span></CodeLine>
<Link id="l06175" /><CodeLine lineNumber="6175"><span class="doxyHighlight">          </span><span class="doxyHighlightComment">// the low bits within the fragment are relevant for debug info.</span></CodeLine>
<Link id="l06176" /><CodeLine lineNumber="6176"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> + RegFragmentSizeInBits &gt; ExprFragmentSizeInBits) &#123;</span></CodeLine>
<Link id="l06177" /><CodeLine lineNumber="6177"><span class="doxyHighlight">            RegFragmentSizeInBits = ExprFragmentSizeInBits - <a href="/docs/api/namespaces/llvm/#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>;</span></CodeLine>
<Link id="l06178" /><CodeLine lineNumber="6178"><span class="doxyHighlight">          &#125;</span></CodeLine>
<Link id="l06179" /><CodeLine lineNumber="6179"><span class="doxyHighlight">        &#125;</span></CodeLine>
<Link id="l06180" /><CodeLine lineNumber="6180"></CodeLine>
<Link id="l06181" /><CodeLine lineNumber="6181"><span class="doxyHighlight">        </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> FragmentExpr = <a href="/docs/api/classes/llvm/diexpression/#ab2fc167f75191e1d22e12e8e382605bb">DIExpression::createFragmentExpression</a>(</span></CodeLine>
<Link id="l06182" /><CodeLine lineNumber="6182"><span class="doxyHighlight">            Expr, <a href="/docs/api/namespaces/llvm/#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, RegFragmentSizeInBits);</span></CodeLine>
<Link id="l06183" /><CodeLine lineNumber="6183"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> += RegAndSize.second;</span></CodeLine>
<Link id="l06184" /><CodeLine lineNumber="6184"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// If a valid fragment expression cannot be created, the variable&#39;s</span></CodeLine>
<Link id="l06185" /><CodeLine lineNumber="6185"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// correct value cannot be determined and so it is set as Undef.</span></CodeLine>
<Link id="l06186" /><CodeLine lineNumber="6186"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!FragmentExpr) &#123;</span></CodeLine>
<Link id="l06187" /><CodeLine lineNumber="6187"><span class="doxyHighlight">          SDDbgValue &#42;SDV = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getConstantDbgValue(</span></CodeLine>
<Link id="l06188" /><CodeLine lineNumber="6188"><span class="doxyHighlight">              Variable, Expr, <a href="/docs/api/classes/llvm/undefvalue/#a4ae5ff22b700a42bcc5d889233721335">UndefValue::get</a>(<a href="/docs/api/namespaces/llvm/m68k/#ab3a288f2953d8eca3e363959fc2cf38ea5206560a306a2e085a437fd258eb57ce">V</a>-&gt;getType()), <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, SDNodeOrder);</span></CodeLine>
<Link id="l06189" /><CodeLine lineNumber="6189"><span class="doxyHighlight">          <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.AddDbgValue(SDV, </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l06190" /><CodeLine lineNumber="6190"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">continue</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06191" /><CodeLine lineNumber="6191"><span class="doxyHighlight">        &#125;</span></CodeLine>
<Link id="l06192" /><CodeLine lineNumber="6192"><span class="doxyHighlight">        MachineInstr &#42;NewMI =</span></CodeLine>
<Link id="l06193" /><CodeLine lineNumber="6193"><span class="doxyHighlight">            MakeVRegDbgValue(RegAndSize.first, &#42;FragmentExpr,</span></CodeLine>
<Link id="l06194" /><CodeLine lineNumber="6194"><span class="doxyHighlight">                             Kind != FuncArgumentDbgValueKind::Value);</span></CodeLine>
<Link id="l06195" /><CodeLine lineNumber="6195"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.ArgDbgValues.push&#95;back(NewMI);</span></CodeLine>
<Link id="l06196" /><CodeLine lineNumber="6196"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l06197" /><CodeLine lineNumber="6197"><span class="doxyHighlight">    &#125;;</span></CodeLine>
<Link id="l06198" /><CodeLine lineNumber="6198"></CodeLine>
<Link id="l06199" /><CodeLine lineNumber="6199"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Check if ValueMap has reg number.</span></CodeLine>
<Link id="l06200" /><CodeLine lineNumber="6200"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/densemapbase/#a5784c312872bef21d9344dae0a0e8fc0">DenseMap&lt;const Value &#42;, Register&gt;::const&#95;iterator</a></span></CodeLine>
<Link id="l06201" /><CodeLine lineNumber="6201"><span class="doxyHighlight">      VMI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.ValueMap.find(V);</span></CodeLine>
<Link id="l06202" /><CodeLine lineNumber="6202"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (VMI != <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.ValueMap.end()) &#123;</span></CodeLine>
<Link id="l06203" /><CodeLine lineNumber="6203"><span class="doxyHighlight">      </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l06204" /><CodeLine lineNumber="6204"><span class="doxyHighlight">      RegsForValue RFV(<a href="/docs/api/namespaces/llvm/m68k/#ab3a288f2953d8eca3e363959fc2cf38ea5206560a306a2e085a437fd258eb57ce">V</a>-&gt;getContext(), TLI, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), VMI-&gt;second,</span></CodeLine>
<Link id="l06205" /><CodeLine lineNumber="6205"><span class="doxyHighlight">                       <a href="/docs/api/namespaces/llvm/m68k/#ab3a288f2953d8eca3e363959fc2cf38ea5206560a306a2e085a437fd258eb57ce">V</a>-&gt;getType(), std::nullopt);</span></CodeLine>
<Link id="l06206" /><CodeLine lineNumber="6206"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (RFV.occupiesMultipleRegs()) &#123;</span></CodeLine>
<Link id="l06207" /><CodeLine lineNumber="6207"><span class="doxyHighlight">        splitMultiRegDbgValue(RFV.getRegsAndSizes());</span></CodeLine>
<Link id="l06208" /><CodeLine lineNumber="6208"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06209" /><CodeLine lineNumber="6209"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l06210" /><CodeLine lineNumber="6210"></CodeLine>
<Link id="l06211" /><CodeLine lineNumber="6211"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a> = <a href="/docs/api/classes/llvm/machineoperand/#af2c351dad09a71aa08e1d85c67ae6e53">MachineOperand::CreateReg</a>(VMI-&gt;second, </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l06212" /><CodeLine lineNumber="6212"><span class="doxyHighlight">      IsIndirect = <a href="/docs/api/namespaces/llvm/lltok/#af353621f14cb4b4b3af5ffaff84076b1">Kind</a> != FuncArgumentDbgValueKind::Value;</span></CodeLine>
<Link id="l06213" /><CodeLine lineNumber="6213"><span class="doxyHighlight">    &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (ArgRegsAndSizes.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#a1c479a8c434377c2b8cb056bdfdfc201">size</a>() &gt; 1) &#123;</span></CodeLine>
<Link id="l06214" /><CodeLine lineNumber="6214"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// This was split due to the calling convention, and no virtual register</span></CodeLine>
<Link id="l06215" /><CodeLine lineNumber="6215"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// mapping exists for the value.</span></CodeLine>
<Link id="l06216" /><CodeLine lineNumber="6216"><span class="doxyHighlight">      splitMultiRegDbgValue(ArgRegsAndSizes);</span></CodeLine>
<Link id="l06217" /><CodeLine lineNumber="6217"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06218" /><CodeLine lineNumber="6218"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l06219" /><CodeLine lineNumber="6219"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l06220" /><CodeLine lineNumber="6220"></CodeLine>
<Link id="l06221" /><CodeLine lineNumber="6221"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>)</span></CodeLine>
<Link id="l06222" /><CodeLine lineNumber="6222"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06223" /><CodeLine lineNumber="6223"></CodeLine>
<Link id="l06224" /><CodeLine lineNumber="6224"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Variable-&gt;<a href="/docs/api/classes/llvm/dilocalvariable/#ac8c4cb4dde7067286d3e3ce80bf77224">isValidLocationForIntrinsic</a>(<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>) &amp;&amp;</span></CodeLine>
<Link id="l06225" /><CodeLine lineNumber="6225"><span class="doxyHighlight">         </span><span class="doxyHighlightStringLiteral">&quot;Expected inlined-at fields to agree&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l06226" /><CodeLine lineNumber="6226"><span class="doxyHighlight">  MachineInstr &#42;NewMI = </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06227" /><CodeLine lineNumber="6227"></CodeLine>
<Link id="l06228" /><CodeLine lineNumber="6228"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>-&gt;isReg())</span></CodeLine>
<Link id="l06229" /><CodeLine lineNumber="6229"><span class="doxyHighlight">    NewMI = MakeVRegDbgValue(<a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>-&gt;getReg(), Expr, IsIndirect);</span></CodeLine>
<Link id="l06230" /><CodeLine lineNumber="6230"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">else</span></CodeLine>
<Link id="l06231" /><CodeLine lineNumber="6231"><span class="doxyHighlight">    NewMI = <a href="/docs/api/namespaces/llvm/#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(MF, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagoncopytocombine-cpp/#a1d40004718218dbdf06b496766299101">TII</a>-&gt;get(TargetOpcode::DBG&#95;VALUE), </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">, &#42;<a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>,</span></CodeLine>
<Link id="l06232" /><CodeLine lineNumber="6232"><span class="doxyHighlight">                    Variable, Expr);</span></CodeLine>
<Link id="l06233" /><CodeLine lineNumber="6233"></CodeLine>
<Link id="l06234" /><CodeLine lineNumber="6234"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Otherwise, use ArgDbgValues.</span></CodeLine>
<Link id="l06235" /><CodeLine lineNumber="6235"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.ArgDbgValues.push&#95;back(NewMI);</span></CodeLine>
<Link id="l06236" /><CodeLine lineNumber="6236"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06237" /><CodeLine lineNumber="6237"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l06238" /><CodeLine lineNumber="6238"></CodeLine>
<Link id="l06239" /><CodeLine lineNumber="6239"><span class="doxyHighlightComment">/// Return the appropriate SDDbgValue based on N.</span></CodeLine>
<Link id="l06240" /><CodeLine lineNumber="6240"><span class="doxyHighlight"><a href="/docs/api/classes/llvm/sddbgvalue">SDDbgValue</a> &#42;SelectionDAGBuilder::getDbgValue(<a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>,</span></CodeLine>
<Link id="l06241" /><CodeLine lineNumber="6241"><span class="doxyHighlight">                                             <a href="/docs/api/classes/llvm/dilocalvariable">DILocalVariable</a> &#42;Variable,</span></CodeLine>
<Link id="l06242" /><CodeLine lineNumber="6242"><span class="doxyHighlight">                                             <a href="/docs/api/classes/llvm/diexpression">DIExpression</a> &#42;Expr,</span></CodeLine>
<Link id="l06243" /><CodeLine lineNumber="6243"><span class="doxyHighlight">                                             </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/debugloc">DebugLoc</a> &amp;dl,</span></CodeLine>
<Link id="l06244" /><CodeLine lineNumber="6244"><span class="doxyHighlight">                                             </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> DbgSDNodeOrder) &#123;</span></CodeLine>
<Link id="l06245" /><CodeLine lineNumber="6245"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;FISDN = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;FrameIndexSDNode&gt;</a>(<a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>.getNode())) &#123;</span></CodeLine>
<Link id="l06246" /><CodeLine lineNumber="6246"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Construct a FrameIndexDbgValue for FrameIndexSDNodes so we can describe</span></CodeLine>
<Link id="l06247" /><CodeLine lineNumber="6247"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// stack slot locations.</span></CodeLine>
<Link id="l06248" /><CodeLine lineNumber="6248"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l06249" /><CodeLine lineNumber="6249"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Consider &quot;int x = 0; int &#42;px = &amp;x;&quot;. There are two kinds of interesting</span></CodeLine>
<Link id="l06250" /><CodeLine lineNumber="6250"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// debug values here after optimization:</span></CodeLine>
<Link id="l06251" /><CodeLine lineNumber="6251"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l06252" /><CodeLine lineNumber="6252"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//   dbg.value(i32&#42; %px, !&quot;int &#42;px&quot;, !DIExpression()), and</span></CodeLine>
<Link id="l06253" /><CodeLine lineNumber="6253"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//   dbg.value(i32&#42; %px, !&quot;int x&quot;, !DIExpression(DW&#95;OP&#95;deref))</span></CodeLine>
<Link id="l06254" /><CodeLine lineNumber="6254"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l06255" /><CodeLine lineNumber="6255"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Both describe the direct values of their associated variables.</span></CodeLine>
<Link id="l06256" /><CodeLine lineNumber="6256"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getFrameIndexDbgValue(Variable, Expr, FISDN-&gt;getIndex(),</span></CodeLine>
<Link id="l06257" /><CodeLine lineNumber="6257"><span class="doxyHighlight">                                     </span><span class="doxyHighlightComment">/&#42;IsIndirect&#42;/</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">, dl, DbgSDNodeOrder);</span></CodeLine>
<Link id="l06258" /><CodeLine lineNumber="6258"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l06259" /><CodeLine lineNumber="6259"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDbgValue(Variable, Expr, <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>.getNode(), <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>.getResNo(),</span></CodeLine>
<Link id="l06260" /><CodeLine lineNumber="6260"><span class="doxyHighlight">                         </span><span class="doxyHighlightComment">/&#42;IsIndirect&#42;/</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">, dl, DbgSDNodeOrder);</span></CodeLine>
<Link id="l06261" /><CodeLine lineNumber="6261"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l06262" /><CodeLine lineNumber="6262"></CodeLine>
<Link id="l06263" /><CodeLine lineNumber="6263" lineLink="#a63028feee73aad21b5ad015b0ceb9de1"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> <a href="#a63028feee73aad21b5ad015b0ceb9de1">FixedPointIntrinsicToOpcode</a>(</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/intrinsic">Intrinsic</a>) &#123;</span></CodeLine>
<Link id="l06264" /><CodeLine lineNumber="6264"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">switch</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/intrinsic">Intrinsic</a>) &#123;</span></CodeLine>
<Link id="l06265" /><CodeLine lineNumber="6265"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::smul&#95;fix:</span></CodeLine>
<Link id="l06266" /><CodeLine lineNumber="6266"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a1a7f3f523e22ac3df6332e625289a7e6">ISD::SMULFIX</a>;</span></CodeLine>
<Link id="l06267" /><CodeLine lineNumber="6267"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::umul&#95;fix:</span></CodeLine>
<Link id="l06268" /><CodeLine lineNumber="6268"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a293cdca810c396f99a2bd63b017dd943">ISD::UMULFIX</a>;</span></CodeLine>
<Link id="l06269" /><CodeLine lineNumber="6269"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::smul&#95;fix&#95;sat:</span></CodeLine>
<Link id="l06270" /><CodeLine lineNumber="6270"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a26a7dd56cd899cec0a1f6d2443f91db4">ISD::SMULFIXSAT</a>;</span></CodeLine>
<Link id="l06271" /><CodeLine lineNumber="6271"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::umul&#95;fix&#95;sat:</span></CodeLine>
<Link id="l06272" /><CodeLine lineNumber="6272"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110aaab3219acc86e3b3a199effbb69aa07a">ISD::UMULFIXSAT</a>;</span></CodeLine>
<Link id="l06273" /><CodeLine lineNumber="6273"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::sdiv&#95;fix:</span></CodeLine>
<Link id="l06274" /><CodeLine lineNumber="6274"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a470242ff0d0c1f979101aa369a3a410e">ISD::SDIVFIX</a>;</span></CodeLine>
<Link id="l06275" /><CodeLine lineNumber="6275"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::udiv&#95;fix:</span></CodeLine>
<Link id="l06276" /><CodeLine lineNumber="6276"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110aaa5af2aa3cc2e31b44b69d43e13235be">ISD::UDIVFIX</a>;</span></CodeLine>
<Link id="l06277" /><CodeLine lineNumber="6277"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::sdiv&#95;fix&#95;sat:</span></CodeLine>
<Link id="l06278" /><CodeLine lineNumber="6278"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110aadc85d973be8149bbaa5f372aa1faf3e">ISD::SDIVFIXSAT</a>;</span></CodeLine>
<Link id="l06279" /><CodeLine lineNumber="6279"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::udiv&#95;fix&#95;sat:</span></CodeLine>
<Link id="l06280" /><CodeLine lineNumber="6280"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a5c5ebc516cae422508ee0c062ef6b593">ISD::UDIVFIXSAT</a>;</span></CodeLine>
<Link id="l06281" /><CodeLine lineNumber="6281"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">default</span><span class="doxyHighlight">:</span></CodeLine>
<Link id="l06282" /><CodeLine lineNumber="6282"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/support/errorhandling-h/#ace243f5c25697a1107cce46626b3dc94">llvm&#95;unreachable</a>(</span><span class="doxyHighlightStringLiteral">&quot;Unhandled fixed point intrinsic&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l06283" /><CodeLine lineNumber="6283"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l06284" /><CodeLine lineNumber="6284"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l06285" /><CodeLine lineNumber="6285"></CodeLine>
<Link id="l06286" /><CodeLine lineNumber="6286"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::lowerCallToExternalSymbol(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/callinst">CallInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</span></CodeLine>
<Link id="l06287" /><CodeLine lineNumber="6287"><span class="doxyHighlight">                                           </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordType">char</span><span class="doxyHighlight"> &#42;FunctionName) &#123;</span></CodeLine>
<Link id="l06288" /><CodeLine lineNumber="6288"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(FunctionName &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;FunctionName must not be nullptr&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l06289" /><CodeLine lineNumber="6289"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/pdb/#a33e853ec74d48b1340d1d4bae772d30bac8ff9e15a93f800c74c05e7b37364816">Callee</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getExternalSymbol(</span></CodeLine>
<Link id="l06290" /><CodeLine lineNumber="6290"><span class="doxyHighlight">      FunctionName,</span></CodeLine>
<Link id="l06291" /><CodeLine lineNumber="6291"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo().getPointerTy(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout()));</span></CodeLine>
<Link id="l06292" /><CodeLine lineNumber="6292"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#a2b4653fa0c302d9cbe4e7839d711e76a">LowerCallTo</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Callee, <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.isTailCall(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.isMustTailCall());</span></CodeLine>
<Link id="l06293" /><CodeLine lineNumber="6293"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l06294" /><CodeLine lineNumber="6294"></CodeLine>
<Link id="l06295" /><CodeLine lineNumber="6295"><span class="doxyHighlightComment">/// Given a @llvm.call.preallocated.setup, return the corresponding</span></CodeLine>
<Link id="l06296" /><CodeLine lineNumber="6296"><span class="doxyHighlightComment">/// preallocated call.</span></CodeLine>
<Link id="l06297" /><CodeLine lineNumber="6297" lineLink="#a41caa0b8eaefb07b7f8fcf19b05bb249"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/callbase">CallBase</a> &#42;<a href="#a41caa0b8eaefb07b7f8fcf19b05bb249">FindPreallocatedCall</a>(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/value">Value</a> &#42;PreallocatedSetup) &#123;</span></CodeLine>
<Link id="l06298" /><CodeLine lineNumber="6298"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;CallBase&gt;</a>(PreallocatedSetup)</span></CodeLine>
<Link id="l06299" /><CodeLine lineNumber="6299"><span class="doxyHighlight">                 -&gt;<a href="/docs/api/files/lib/lib/analysis/memorybuiltins-cpp/#aa04dbee2593fa5fbeb0552fcb8a00ee4">getCalledFunction</a>()</span></CodeLine>
<Link id="l06300" /><CodeLine lineNumber="6300"><span class="doxyHighlight">                 -&gt;<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a62766c75f88612ffa652342472e755f6">getIntrinsicID</a>() == Intrinsic::call&#95;preallocated&#95;setup &amp;&amp;</span></CodeLine>
<Link id="l06301" /><CodeLine lineNumber="6301"><span class="doxyHighlight">         </span><span class="doxyHighlightStringLiteral">&quot;expected call&#95;preallocated&#95;setup Value&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l06302" /><CodeLine lineNumber="6302"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;U : PreallocatedSetup-&gt;<a href="/docs/api/classes/llvm/value/#a411cf3e3932f209ce3374cb31adc1da6">users</a>()) &#123;</span></CodeLine>
<Link id="l06303" /><CodeLine lineNumber="6303"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;UseCall = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;CallBase&gt;</a>(U);</span></CodeLine>
<Link id="l06304" /><CodeLine lineNumber="6304"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/function">Function</a> &#42;Fn = UseCall-&gt;getCalledFunction();</span></CodeLine>
<Link id="l06305" /><CodeLine lineNumber="6305"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!Fn || Fn-&gt;<a href="/docs/api/classes/llvm/function/#a4d0a7baab8d078065b2de10e3460892a">getIntrinsicID</a>() != Intrinsic::call&#95;preallocated&#95;arg) &#123;</span></CodeLine>
<Link id="l06306" /><CodeLine lineNumber="6306"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> UseCall;</span></CodeLine>
<Link id="l06307" /><CodeLine lineNumber="6307"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l06308" /><CodeLine lineNumber="6308"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l06309" /><CodeLine lineNumber="6309"><span class="doxyHighlight">  <a href="/docs/api/files/include/include/llvm/include/llvm/support/errorhandling-h/#ace243f5c25697a1107cce46626b3dc94">llvm&#95;unreachable</a>(</span><span class="doxyHighlightStringLiteral">&quot;expected corresponding call to preallocated setup/arg&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l06310" /><CodeLine lineNumber="6310"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l06311" /><CodeLine lineNumber="6311"></CodeLine>
<Link id="l06312" /><CodeLine lineNumber="6312"><span class="doxyHighlightComment">/// If DI is a debug value with an EntryValue expression, lower it using the</span></CodeLine>
<Link id="l06313" /><CodeLine lineNumber="6313"><span class="doxyHighlightComment">/// corresponding physical register of the associated Argument value</span></CodeLine>
<Link id="l06314" /><CodeLine lineNumber="6314"><span class="doxyHighlightComment">/// (guaranteed to exist by the verifier).</span></CodeLine>
<Link id="l06315" /><CodeLine lineNumber="6315"><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> SelectionDAGBuilder::visitEntryValueDbgValue(</span></CodeLine>
<Link id="l06316" /><CodeLine lineNumber="6316"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/arrayref">ArrayRef&lt;const Value &#42;&gt;</a> Values, <a href="/docs/api/classes/llvm/dilocalvariable">DILocalVariable</a> &#42;Variable,</span></CodeLine>
<Link id="l06317" /><CodeLine lineNumber="6317"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/diexpression">DIExpression</a> &#42;Expr, <a href="/docs/api/classes/llvm/debugloc">DebugLoc</a> DbgLoc) &#123;</span></CodeLine>
<Link id="l06318" /><CodeLine lineNumber="6318"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!Expr-&gt;<a href="/docs/api/classes/llvm/diexpression/#a012168d44e49d5120cf8919cd096fd3b">isEntryValue</a>() || !<a href="/docs/api/namespaces/llvm/#a88027543aef5a9bc0d82bc5e5e3506c3">hasSingleElement</a>(Values))</span></CodeLine>
<Link id="l06319" /><CodeLine lineNumber="6319"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06320" /><CodeLine lineNumber="6320"></CodeLine>
<Link id="l06321" /><CodeLine lineNumber="6321"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// These properties are guaranteed by the verifier.</span></CodeLine>
<Link id="l06322" /><CodeLine lineNumber="6322"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/logicalview/#a9696bc411b0a7022c2cc78bff5173cefa1853680a6d666b9fea2d789dd00bc7eb">Argument</a> &#42;Arg = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;Argument&gt;</a>(Values&#91;0&#93;);</span></CodeLine>
<Link id="l06323" /><CodeLine lineNumber="6323"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Arg-&gt;<a href="/docs/api/classes/llvm/argument/#a66059696916025f0f9d7ea35454a85fe">hasAttribute</a>(Attribute::AttrKind::SwiftAsync));</span></CodeLine>
<Link id="l06324" /><CodeLine lineNumber="6324"></CodeLine>
<Link id="l06325" /><CodeLine lineNumber="6325"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> ArgIt = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.ValueMap.find(Arg);</span></CodeLine>
<Link id="l06326" /><CodeLine lineNumber="6326"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (ArgIt == <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.ValueMap.end()) &#123;</span></CodeLine>
<Link id="l06327" /><CodeLine lineNumber="6327"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/support/debug-h/#a196897517069dda1bdb549e24468f7d7">LLVM&#95;DEBUG</a>(</span></CodeLine>
<Link id="l06328" /><CodeLine lineNumber="6328"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; </span><span class="doxyHighlightStringLiteral">&quot;Dropping dbg.value: expression is entry&#95;value but &quot;</span></CodeLine>
<Link id="l06329" /><CodeLine lineNumber="6329"><span class="doxyHighlight">                  </span><span class="doxyHighlightStringLiteral">&quot;couldn&#39;t find an associated register for the Argument\\n&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l06330" /><CodeLine lineNumber="6330"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06331" /><CodeLine lineNumber="6331"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l06332" /><CodeLine lineNumber="6332"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/mem2reg-cpp/#a6fde3eb6ca09ddf2fd76432176d817bb">Register</a> ArgVReg = ArgIt-&gt;getSecond();</span></CodeLine>
<Link id="l06333" /><CodeLine lineNumber="6333"></CodeLine>
<Link id="l06334" /><CodeLine lineNumber="6334"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#91;PhysReg, VirtReg&#93; : <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.RegInfo-&gt;liveins())</span></CodeLine>
<Link id="l06335" /><CodeLine lineNumber="6335"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (ArgVReg == VirtReg || ArgVReg == PhysReg) &#123;</span></CodeLine>
<Link id="l06336" /><CodeLine lineNumber="6336"><span class="doxyHighlight">      SDDbgValue &#42;SDV = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVRegDbgValue(</span></CodeLine>
<Link id="l06337" /><CodeLine lineNumber="6337"><span class="doxyHighlight">          Variable, Expr, PhysReg, </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight"> </span><span class="doxyHighlightComment">/&#42;IsIndidrect&#42;/</span><span class="doxyHighlight">, DbgLoc, SDNodeOrder);</span></CodeLine>
<Link id="l06338" /><CodeLine lineNumber="6338"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.AddDbgValue(SDV, </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight"> </span><span class="doxyHighlightComment">/&#42;treat as dbg.declare byval parameter&#42;/</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l06339" /><CodeLine lineNumber="6339"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06340" /><CodeLine lineNumber="6340"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l06341" /><CodeLine lineNumber="6341"><span class="doxyHighlight">  <a href="/docs/api/files/include/include/llvm/include/llvm/support/debug-h/#a196897517069dda1bdb549e24468f7d7">LLVM&#95;DEBUG</a>(<a href="/docs/api/namespaces/llvm/#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; </span><span class="doxyHighlightStringLiteral">&quot;Dropping dbg.value: expression is entry&#95;value but &quot;</span></CodeLine>
<Link id="l06342" /><CodeLine lineNumber="6342"><span class="doxyHighlight">                       </span><span class="doxyHighlightStringLiteral">&quot;couldn&#39;t find a physical register\\n&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l06343" /><CodeLine lineNumber="6343"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06344" /><CodeLine lineNumber="6344"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l06345" /><CodeLine lineNumber="6345"></CodeLine>
<Link id="l06346" /><CodeLine lineNumber="6346"><span class="doxyHighlightComment">/// Lower the call to the specified intrinsic function.</span></CodeLine>
<Link id="l06347" /><CodeLine lineNumber="6347"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitConvergenceControl(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/callinst">CallInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</span></CodeLine>
<Link id="l06348" /><CodeLine lineNumber="6348"><span class="doxyHighlight">                                                  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/intrinsic">Intrinsic</a>) &#123;</span></CodeLine>
<Link id="l06349" /><CodeLine lineNumber="6349"><span class="doxyHighlight">  SDLoc sdl = <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>();</span></CodeLine>
<Link id="l06350" /><CodeLine lineNumber="6350"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">switch</span><span class="doxyHighlight"> (Intrinsic) &#123;</span></CodeLine>
<Link id="l06351" /><CodeLine lineNumber="6351"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::experimental&#95;convergence&#95;anchor:</span></CodeLine>
<Link id="l06352" /><CodeLine lineNumber="6352"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a041c4b27006496ee8d8bcdf72e248632">ISD::CONVERGENCECTRL&#95;ANCHOR</a>, sdl, MVT::Untyped));</span></CodeLine>
<Link id="l06353" /><CodeLine lineNumber="6353"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06354" /><CodeLine lineNumber="6354"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::experimental&#95;convergence&#95;entry:</span></CodeLine>
<Link id="l06355" /><CodeLine lineNumber="6355"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a5a787d44a3bcbc803d314896056d9569">ISD::CONVERGENCECTRL&#95;ENTRY</a>, sdl, MVT::Untyped));</span></CodeLine>
<Link id="l06356" /><CodeLine lineNumber="6356"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06357" /><CodeLine lineNumber="6357"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::experimental&#95;convergence&#95;loop: &#123;</span></CodeLine>
<Link id="l06358" /><CodeLine lineNumber="6358"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> Bundle = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperandBundle(<a href="/docs/api/classes/llvm/llvmcontext/#a44d727ac5fccf852bfb2bae3e06adc9cacdf8ff962c6163eb5fae1f9b2fb5142a">LLVMContext::OB&#95;convergencectrl</a>);</span></CodeLine>
<Link id="l06359" /><CodeLine lineNumber="6359"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;Token = Bundle-&gt;Inputs&#91;0&#93;.get();</span></CodeLine>
<Link id="l06360" /><CodeLine lineNumber="6360"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110adef60c4df07ee437cd2714f7b18f93f2">ISD::CONVERGENCECTRL&#95;LOOP</a>, sdl, MVT::Untyped,</span></CodeLine>
<Link id="l06361" /><CodeLine lineNumber="6361"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(Token)));</span></CodeLine>
<Link id="l06362" /><CodeLine lineNumber="6362"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06363" /><CodeLine lineNumber="6363"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l06364" /><CodeLine lineNumber="6364"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l06365" /><CodeLine lineNumber="6365"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l06366" /><CodeLine lineNumber="6366"></CodeLine>
<Link id="l06367" /><CodeLine lineNumber="6367"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitVectorHistogram(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/callinst">CallInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</span></CodeLine>
<Link id="l06368" /><CodeLine lineNumber="6368"><span class="doxyHighlight">                                               </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> IntrinsicID) &#123;</span></CodeLine>
<Link id="l06369" /><CodeLine lineNumber="6369"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// For now, we&#39;re only lowering an &#39;add&#39; histogram.</span></CodeLine>
<Link id="l06370" /><CodeLine lineNumber="6370"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// We can add others later, e.g. saturating adds, min/max.</span></CodeLine>
<Link id="l06371" /><CodeLine lineNumber="6371"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(IntrinsicID == Intrinsic::experimental&#95;vector&#95;histogram&#95;add &amp;&amp;</span></CodeLine>
<Link id="l06372" /><CodeLine lineNumber="6372"><span class="doxyHighlight">         </span><span class="doxyHighlightStringLiteral">&quot;Tried to lower unsupported histogram type&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l06373" /><CodeLine lineNumber="6373"><span class="doxyHighlight">  SDLoc sdl = <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>();</span></CodeLine>
<Link id="l06374" /><CodeLine lineNumber="6374"><span class="doxyHighlight">  Value &#42;<a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0);</span></CodeLine>
<Link id="l06375" /><CodeLine lineNumber="6375"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Inc = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(1));</span></CodeLine>
<Link id="l06376" /><CodeLine lineNumber="6376"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/bitmaskenumdetail/#a4562904154aff9698a612bc7f6086a4c">Mask</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(2));</span></CodeLine>
<Link id="l06377" /><CodeLine lineNumber="6377"></CodeLine>
<Link id="l06378" /><CodeLine lineNumber="6378"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> TargetLowering &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l06379" /><CodeLine lineNumber="6379"><span class="doxyHighlight">  DataLayout TargetDL = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout();</span></CodeLine>
<Link id="l06380" /><CodeLine lineNumber="6380"><span class="doxyHighlight">  EVT VT = Inc.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>();</span></CodeLine>
<Link id="l06381" /><CodeLine lineNumber="6381"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/arg/key/#a6b334a5f83504ebc99cc59f4f333ff98">Align</a> Alignment = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getEVTAlign(VT);</span></CodeLine>
<Link id="l06382" /><CodeLine lineNumber="6382"></CodeLine>
<Link id="l06383" /><CodeLine lineNumber="6383"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> MDNode &#42;<a href="/docs/api/namespaces/llvm/logicalview/#a8d4dd8d1ec9d9328d03bb2b99aa74744a92711ef5b0215a076fef4a3abbfc2258">Ranges</a> = <a href="#ae1b80d5114dd1a73aacd01971f29d5ee">getRangeMetadata</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</span></CodeLine>
<Link id="l06384" /><CodeLine lineNumber="6384"></CodeLine>
<Link id="l06385" /><CodeLine lineNumber="6385"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Root = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getRoot();</span></CodeLine>
<Link id="l06386" /><CodeLine lineNumber="6386"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/sampleprof/#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>;</span></CodeLine>
<Link id="l06387" /><CodeLine lineNumber="6387"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/dwarf/#a5d3c920b66ea797d6adb243862fdf47a">Index</a>;</span></CodeLine>
<Link id="l06388" /><CodeLine lineNumber="6388"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/isd/#aa30bf48cd2a89f80c9c608adcabc53e3">ISD::MemIndexType</a> IndexType;</span></CodeLine>
<Link id="l06389" /><CodeLine lineNumber="6389"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Scale;</span></CodeLine>
<Link id="l06390" /><CodeLine lineNumber="6390"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> UniformBase = <a href="#a3e8b055fdb7e07479b83d69c15211d54">getUniformBase</a>(<a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, <a href="/docs/api/namespaces/llvm/sampleprof/#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>, Index, IndexType, Scale, </span><span class="doxyHighlightKeyword">this</span><span class="doxyHighlight">,</span></CodeLine>
<Link id="l06391" /><CodeLine lineNumber="6391"><span class="doxyHighlight">                                    <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getParent(), VT.<a href="/docs/api/structs/llvm/evt/#a2648fd0c9417e0aeb3e8b194c6509357">getScalarStoreSize</a>());</span></CodeLine>
<Link id="l06392" /><CodeLine lineNumber="6392"></CodeLine>
<Link id="l06393" /><CodeLine lineNumber="6393"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> AS = <a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>-&gt;getType()-&gt;getScalarType()-&gt;getPointerAddressSpace();</span></CodeLine>
<Link id="l06394" /><CodeLine lineNumber="6394"></CodeLine>
<Link id="l06395" /><CodeLine lineNumber="6395"><span class="doxyHighlight">  MachineMemOperand &#42;MMO = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMachineFunction().getMachineMemOperand(</span></CodeLine>
<Link id="l06396" /><CodeLine lineNumber="6396"><span class="doxyHighlight">      MachinePointerInfo(AS),</span></CodeLine>
<Link id="l06397" /><CodeLine lineNumber="6397"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/machinememoperand/#aaa2020e47e35179234b9ea27d555b2dda7d12be6206e5b0026c71bbcd5cb76494">MachineMemOperand::MOLoad</a> | <a href="/docs/api/classes/llvm/machinememoperand/#aaa2020e47e35179234b9ea27d555b2ddaed357b1367bc90a56fefa4d1b0e17374">MachineMemOperand::MOStore</a>,</span></CodeLine>
<Link id="l06398" /><CodeLine lineNumber="6398"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/memorylocation/#a031e3abd6e1a18f9462f7cee212ba004a33f7f25590a5334874e8a114e6f5e55f">MemoryLocation::UnknownSize</a>, Alignment, <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getAAMetadata(), Ranges);</span></CodeLine>
<Link id="l06399" /><CodeLine lineNumber="6399"></CodeLine>
<Link id="l06400" /><CodeLine lineNumber="6400"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!UniformBase) &#123;</span></CodeLine>
<Link id="l06401" /><CodeLine lineNumber="6401"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/sampleprof/#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getConstant(0, sdl, TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout()));</span></CodeLine>
<Link id="l06402" /><CodeLine lineNumber="6402"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/dwarf/#a5d3c920b66ea797d6adb243862fdf47a">Index</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>);</span></CodeLine>
<Link id="l06403" /><CodeLine lineNumber="6403"><span class="doxyHighlight">    IndexType = <a href="/docs/api/namespaces/llvm/isd/#aa30bf48cd2a89f80c9c608adcabc53e3a0173acb50fe8c4337c23a98baab3f4db">ISD::SIGNED&#95;SCALED</a>;</span></CodeLine>
<Link id="l06404" /><CodeLine lineNumber="6404"><span class="doxyHighlight">    Scale =</span></CodeLine>
<Link id="l06405" /><CodeLine lineNumber="6405"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetConstant(1, sdl, TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout()));</span></CodeLine>
<Link id="l06406" /><CodeLine lineNumber="6406"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l06407" /><CodeLine lineNumber="6407"></CodeLine>
<Link id="l06408" /><CodeLine lineNumber="6408"><span class="doxyHighlight">  EVT IdxVT = <a href="/docs/api/namespaces/llvm/dwarf/#a5d3c920b66ea797d6adb243862fdf47a">Index</a>.getValueType();</span></CodeLine>
<Link id="l06409" /><CodeLine lineNumber="6409"><span class="doxyHighlight">  EVT EltTy = IdxVT.<a href="/docs/api/structs/llvm/evt/#abc4c6365ade17ad4443ad0e381e7479d">getVectorElementType</a>();</span></CodeLine>
<Link id="l06410" /><CodeLine lineNumber="6410"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a5a5c0b8cc6da2f6db046ad5ca8e53163">shouldExtendGSIndex</a>(IdxVT, EltTy)) &#123;</span></CodeLine>
<Link id="l06411" /><CodeLine lineNumber="6411"><span class="doxyHighlight">    EVT NewIdxVT = IdxVT.<a href="/docs/api/structs/llvm/evt/#ad9d00ad929ec93255787f7f80c4659d9">changeVectorElementType</a>(EltTy);</span></CodeLine>
<Link id="l06412" /><CodeLine lineNumber="6412"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/dwarf/#a5d3c920b66ea797d6adb243862fdf47a">Index</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a5183f3d72924bc7c77ba8d3f5de9f602">ISD::SIGN&#95;EXTEND</a>, sdl, NewIdxVT, Index);</span></CodeLine>
<Link id="l06413" /><CodeLine lineNumber="6413"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l06414" /><CodeLine lineNumber="6414"></CodeLine>
<Link id="l06415" /><CodeLine lineNumber="6415"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/callingconv/#abdf8cf606905c10634e831390981b0ed">ID</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetConstant(IntrinsicID, sdl, MVT::i32);</span></CodeLine>
<Link id="l06416" /><CodeLine lineNumber="6416"></CodeLine>
<Link id="l06417" /><CodeLine lineNumber="6417"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>&#91;&#93; = &#123;Root, Inc, <a href="/docs/api/namespaces/llvm/bitmaskenumdetail/#a4562904154aff9698a612bc7f6086a4c">Mask</a>, <a href="/docs/api/namespaces/llvm/sampleprof/#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>, <a href="/docs/api/namespaces/llvm/dwarf/#a5d3c920b66ea797d6adb243862fdf47a">Index</a>, Scale, <a href="/docs/api/namespaces/llvm/callingconv/#abdf8cf606905c10634e831390981b0ed">ID</a>&#125;;</span></CodeLine>
<Link id="l06418" /><CodeLine lineNumber="6418"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Histogram = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMaskedHistogram(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVTList(MVT::Other), VT, sdl,</span></CodeLine>
<Link id="l06419" /><CodeLine lineNumber="6419"><span class="doxyHighlight">                                             <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>, MMO, IndexType);</span></CodeLine>
<Link id="l06420" /><CodeLine lineNumber="6420"></CodeLine>
<Link id="l06421" /><CodeLine lineNumber="6421"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Histogram);</span></CodeLine>
<Link id="l06422" /><CodeLine lineNumber="6422"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(Histogram);</span></CodeLine>
<Link id="l06423" /><CodeLine lineNumber="6423"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l06424" /><CodeLine lineNumber="6424"></CodeLine>
<Link id="l06425" /><CodeLine lineNumber="6425"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitVectorExtractLastActive(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/callinst">CallInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</span></CodeLine>
<Link id="l06426" /><CodeLine lineNumber="6426"><span class="doxyHighlight">                                                       </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/intrinsic">Intrinsic</a>) &#123;</span></CodeLine>
<Link id="l06427" /><CodeLine lineNumber="6427"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Intrinsic == Intrinsic::experimental&#95;vector&#95;extract&#95;last&#95;active &amp;&amp;</span></CodeLine>
<Link id="l06428" /><CodeLine lineNumber="6428"><span class="doxyHighlight">         </span><span class="doxyHighlightStringLiteral">&quot;Tried lowering invalid vector extract last&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l06429" /><CodeLine lineNumber="6429"><span class="doxyHighlight">  SDLoc sdl = <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>();</span></CodeLine>
<Link id="l06430" /><CodeLine lineNumber="6430"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> DataLayout &amp;Layout = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout();</span></CodeLine>
<Link id="l06431" /><CodeLine lineNumber="6431"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/#aa20539e89704d20b98b97e9c3feac934">Data</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0));</span></CodeLine>
<Link id="l06432" /><CodeLine lineNumber="6432"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/bitmaskenumdetail/#a4562904154aff9698a612bc7f6086a4c">Mask</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(1));</span></CodeLine>
<Link id="l06433" /><CodeLine lineNumber="6433"></CodeLine>
<Link id="l06434" /><CodeLine lineNumber="6434"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> TargetLowering &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l06435" /><CodeLine lineNumber="6435"><span class="doxyHighlight">  EVT ResVT = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(Layout, <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType());</span></CodeLine>
<Link id="l06436" /><CodeLine lineNumber="6436"></CodeLine>
<Link id="l06437" /><CodeLine lineNumber="6437"><span class="doxyHighlight">  EVT ExtVT = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a2dd702dca28f51ec1137faed5d0e5837">getVectorIdxTy</a>(Layout);</span></CodeLine>
<Link id="l06438" /><CodeLine lineNumber="6438"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Idx = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a29b106f7933f1b79281c4964bcbee807">ISD::VECTOR&#95;FIND&#95;LAST&#95;ACTIVE</a>, sdl, ExtVT, Mask);</span></CodeLine>
<Link id="l06439" /><CodeLine lineNumber="6439"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/ms-demangle/#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9329e79f62e9ab9b41cfbcafd314bcbd">ISD::EXTRACT&#95;VECTOR&#95;ELT</a>, sdl, ResVT, <a href="/docs/api/namespaces/llvm/#aa20539e89704d20b98b97e9c3feac934">Data</a>, Idx);</span></CodeLine>
<Link id="l06440" /><CodeLine lineNumber="6440"></CodeLine>
<Link id="l06441" /><CodeLine lineNumber="6441"><span class="doxyHighlight">  Value &#42;<a href="/docs/api/namespaces/llvm/#ae58c751054b01f206f9b9e34e461d25fa7a1920d61156abc05a60135aefe8bc67">Default</a> = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(2);</span></CodeLine>
<Link id="l06442" /><CodeLine lineNumber="6442"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;PoisonValue&gt;</a>(<a href="/docs/api/namespaces/llvm/#ae58c751054b01f206f9b9e34e461d25fa7a1920d61156abc05a60135aefe8bc67">Default</a>) &amp;&amp; !<a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;UndefValue&gt;</a>(<a href="/docs/api/namespaces/llvm/#ae58c751054b01f206f9b9e34e461d25fa7a1920d61156abc05a60135aefe8bc67">Default</a>)) &#123;</span></CodeLine>
<Link id="l06443" /><CodeLine lineNumber="6443"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> PassThru = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/namespaces/llvm/#ae58c751054b01f206f9b9e34e461d25fa7a1920d61156abc05a60135aefe8bc67">Default</a>);</span></CodeLine>
<Link id="l06444" /><CodeLine lineNumber="6444"><span class="doxyHighlight">    EVT BoolVT = <a href="/docs/api/namespaces/llvm/bitmaskenumdetail/#a4562904154aff9698a612bc7f6086a4c">Mask</a>.getValueType().getScalarType();</span></CodeLine>
<Link id="l06445" /><CodeLine lineNumber="6445"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> AnyActive = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::VECREDUCE&#95;OR, sdl, BoolVT, Mask);</span></CodeLine>
<Link id="l06446" /><CodeLine lineNumber="6446"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/ms-demangle/#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSelect(sdl, ResVT, AnyActive, Result, PassThru);</span></CodeLine>
<Link id="l06447" /><CodeLine lineNumber="6447"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l06448" /><CodeLine lineNumber="6448"></CodeLine>
<Link id="l06449" /><CodeLine lineNumber="6449"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Result);</span></CodeLine>
<Link id="l06450" /><CodeLine lineNumber="6450"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l06451" /><CodeLine lineNumber="6451"></CodeLine>
<Link id="l06452" /><CodeLine lineNumber="6452"><span class="doxyHighlightComment">/// Lower the call to the specified intrinsic function.</span></CodeLine>
<Link id="l06453" /><CodeLine lineNumber="6453"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitIntrinsicCall(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/callinst">CallInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</span></CodeLine>
<Link id="l06454" /><CodeLine lineNumber="6454"><span class="doxyHighlight">                                             </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/intrinsic">Intrinsic</a>) &#123;</span></CodeLine>
<Link id="l06455" /><CodeLine lineNumber="6455"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> TargetLowering &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l06456" /><CodeLine lineNumber="6456"><span class="doxyHighlight">  SDLoc sdl = <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>();</span></CodeLine>
<Link id="l06457" /><CodeLine lineNumber="6457"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/dwarf-linker/#a463a58e257d5f6fb2c39eb9a2474fc24ac2e06fc138163b7095fa483616a0a47a">DebugLoc</a> dl = <a href="/docs/api/classes/llvm/selectiondagbuilder/#aaf62c0983c6240485d24b0fc329e1918">getCurDebugLoc</a>();</span></CodeLine>
<Link id="l06458" /><CodeLine lineNumber="6458"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Res;</span></CodeLine>
<Link id="l06459" /><CodeLine lineNumber="6459"></CodeLine>
<Link id="l06460" /><CodeLine lineNumber="6460"><span class="doxyHighlight">  SDNodeFlags <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>;</span></CodeLine>
<Link id="l06461" /><CodeLine lineNumber="6461"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;FPOp = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;FPMathOperator&gt;</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</span></CodeLine>
<Link id="l06462" /><CodeLine lineNumber="6462"><span class="doxyHighlight">    <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.copyFMF(&#42;FPOp);</span></CodeLine>
<Link id="l06463" /><CodeLine lineNumber="6463"></CodeLine>
<Link id="l06464" /><CodeLine lineNumber="6464"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">switch</span><span class="doxyHighlight"> (Intrinsic) &#123;</span></CodeLine>
<Link id="l06465" /><CodeLine lineNumber="6465"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">default</span><span class="doxyHighlight">:</span></CodeLine>
<Link id="l06466" /><CodeLine lineNumber="6466"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// By default, turn this into a target intrinsic node.</span></CodeLine>
<Link id="l06467" /><CodeLine lineNumber="6467"><span class="doxyHighlight">    visitTargetIntrinsic(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Intrinsic);</span></CodeLine>
<Link id="l06468" /><CodeLine lineNumber="6468"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06469" /><CodeLine lineNumber="6469"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::vscale: &#123;</span></CodeLine>
<Link id="l06470" /><CodeLine lineNumber="6470"><span class="doxyHighlight">    EVT VT = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType());</span></CodeLine>
<Link id="l06471" /><CodeLine lineNumber="6471"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVScale(sdl, VT, APInt(VT.<a href="/docs/api/structs/llvm/evt/#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>(), 1)));</span></CodeLine>
<Link id="l06472" /><CodeLine lineNumber="6472"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06473" /><CodeLine lineNumber="6473"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l06474" /><CodeLine lineNumber="6474"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::vastart:  visitVAStart(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>); </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06475" /><CodeLine lineNumber="6475"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::vaend:    visitVAEnd(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>); </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06476" /><CodeLine lineNumber="6476"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::vacopy:   visitVACopy(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>); </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06477" /><CodeLine lineNumber="6477"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::returnaddress:</span></CodeLine>
<Link id="l06478" /><CodeLine lineNumber="6478"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a2dfacb29792dd59f2cfbe529206265bc">ISD::RETURNADDR</a>, sdl,</span></CodeLine>
<Link id="l06479" /><CodeLine lineNumber="6479"><span class="doxyHighlight">                             TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType()),</span></CodeLine>
<Link id="l06480" /><CodeLine lineNumber="6480"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0))));</span></CodeLine>
<Link id="l06481" /><CodeLine lineNumber="6481"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06482" /><CodeLine lineNumber="6482"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::addressofreturnaddress:</span></CodeLine>
<Link id="l06483" /><CodeLine lineNumber="6483"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</span></CodeLine>
<Link id="l06484" /><CodeLine lineNumber="6484"><span class="doxyHighlight">             <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a591c03cc284124ff624856ce485ebc17">ISD::ADDROFRETURNADDR</a>, sdl,</span></CodeLine>
<Link id="l06485" /><CodeLine lineNumber="6485"><span class="doxyHighlight">                         TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType())));</span></CodeLine>
<Link id="l06486" /><CodeLine lineNumber="6486"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06487" /><CodeLine lineNumber="6487"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::sponentry:</span></CodeLine>
<Link id="l06488" /><CodeLine lineNumber="6488"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</span></CodeLine>
<Link id="l06489" /><CodeLine lineNumber="6489"><span class="doxyHighlight">             <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110add9a41fa65a9675200d73710a82b880e">ISD::SPONENTRY</a>, sdl,</span></CodeLine>
<Link id="l06490" /><CodeLine lineNumber="6490"><span class="doxyHighlight">                         TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType())));</span></CodeLine>
<Link id="l06491" /><CodeLine lineNumber="6491"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06492" /><CodeLine lineNumber="6492"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::frameaddress:</span></CodeLine>
<Link id="l06493" /><CodeLine lineNumber="6493"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110abdb38c8daa8c1ab881007062d113cef3">ISD::FRAMEADDR</a>, sdl,</span></CodeLine>
<Link id="l06494" /><CodeLine lineNumber="6494"><span class="doxyHighlight">                             TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#aeff3faad50d459c3f486bb4ac76789af">getFrameIndexTy</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout()),</span></CodeLine>
<Link id="l06495" /><CodeLine lineNumber="6495"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0))));</span></CodeLine>
<Link id="l06496" /><CodeLine lineNumber="6496"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06497" /><CodeLine lineNumber="6497"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::read&#95;volatile&#95;register:</span></CodeLine>
<Link id="l06498" /><CodeLine lineNumber="6498"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::read&#95;register: &#123;</span></CodeLine>
<Link id="l06499" /><CodeLine lineNumber="6499"><span class="doxyHighlight">    Value &#42;<a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a359e1ff26f6d466d927a61aae45b05c3">Reg</a> = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0);</span></CodeLine>
<Link id="l06500" /><CodeLine lineNumber="6500"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/anonymous-loadstorevectorizer-cpp-/#afd1adfcbfce320e6265935ce4d6299a3">Chain</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>();</span></CodeLine>
<Link id="l06501" /><CodeLine lineNumber="6501"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/lib/lib/target/lib/target/ve/lvlgen-cpp/#a0a198e38a5def54ba58bebc655eda8e7">RegName</a> =</span></CodeLine>
<Link id="l06502" /><CodeLine lineNumber="6502"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMDNode(<a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;MDNode&gt;</a>(<a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;MetadataAsValue&gt;</a>(<a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a359e1ff26f6d466d927a61aae45b05c3">Reg</a>)-&gt;getMetadata()));</span></CodeLine>
<Link id="l06503" /><CodeLine lineNumber="6503"><span class="doxyHighlight">    EVT VT = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType());</span></CodeLine>
<Link id="l06504" /><CodeLine lineNumber="6504"><span class="doxyHighlight">    Res = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a92fceabd268d62ef2c95799a102b8abf">ISD::READ&#95;REGISTER</a>, sdl,</span></CodeLine>
<Link id="l06505" /><CodeLine lineNumber="6505"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVTList(VT, MVT::Other), Chain, <a href="/docs/api/files/lib/lib/target/lib/target/ve/lvlgen-cpp/#a0a198e38a5def54ba58bebc655eda8e7">RegName</a>);</span></CodeLine>
<Link id="l06506" /><CodeLine lineNumber="6506"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Res);</span></CodeLine>
<Link id="l06507" /><CodeLine lineNumber="6507"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(Res.<a href="/docs/api/classes/llvm/sdvalue/#a64932427432abeb61241e98bea167580">getValue</a>(1));</span></CodeLine>
<Link id="l06508" /><CodeLine lineNumber="6508"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06509" /><CodeLine lineNumber="6509"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l06510" /><CodeLine lineNumber="6510"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::write&#95;register: &#123;</span></CodeLine>
<Link id="l06511" /><CodeLine lineNumber="6511"><span class="doxyHighlight">    Value &#42;<a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a359e1ff26f6d466d927a61aae45b05c3">Reg</a> = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0);</span></CodeLine>
<Link id="l06512" /><CodeLine lineNumber="6512"><span class="doxyHighlight">    Value &#42;RegValue = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1);</span></CodeLine>
<Link id="l06513" /><CodeLine lineNumber="6513"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/anonymous-loadstorevectorizer-cpp-/#afd1adfcbfce320e6265935ce4d6299a3">Chain</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>();</span></CodeLine>
<Link id="l06514" /><CodeLine lineNumber="6514"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/lib/lib/target/lib/target/ve/lvlgen-cpp/#a0a198e38a5def54ba58bebc655eda8e7">RegName</a> =</span></CodeLine>
<Link id="l06515" /><CodeLine lineNumber="6515"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMDNode(<a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;MDNode&gt;</a>(<a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;MetadataAsValue&gt;</a>(<a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a359e1ff26f6d466d927a61aae45b05c3">Reg</a>)-&gt;getMetadata()));</span></CodeLine>
<Link id="l06516" /><CodeLine lineNumber="6516"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a61a1595d03afe86764ad7625d358608e">ISD::WRITE&#95;REGISTER</a>, sdl, MVT::Other, Chain,</span></CodeLine>
<Link id="l06517" /><CodeLine lineNumber="6517"><span class="doxyHighlight">                            <a href="/docs/api/files/lib/lib/target/lib/target/ve/lvlgen-cpp/#a0a198e38a5def54ba58bebc655eda8e7">RegName</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(RegValue)));</span></CodeLine>
<Link id="l06518" /><CodeLine lineNumber="6518"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06519" /><CodeLine lineNumber="6519"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l06520" /><CodeLine lineNumber="6520"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::memcpy: &#123;</span></CodeLine>
<Link id="l06521" /><CodeLine lineNumber="6521"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;MCI = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;MemCpyInst&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</span></CodeLine>
<Link id="l06522" /><CodeLine lineNumber="6522"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op1 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0));</span></CodeLine>
<Link id="l06523" /><CodeLine lineNumber="6523"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op2 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1));</span></CodeLine>
<Link id="l06524" /><CodeLine lineNumber="6524"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op3 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(2));</span></CodeLine>
<Link id="l06525" /><CodeLine lineNumber="6525"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// @llvm.memcpy defines 0 and 1 to both mean no alignment.</span></CodeLine>
<Link id="l06526" /><CodeLine lineNumber="6526"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/arg/key/#a6b334a5f83504ebc99cc59f4f333ff98">Align</a> DstAlign = MCI.getDestAlign().valueOrOne();</span></CodeLine>
<Link id="l06527" /><CodeLine lineNumber="6527"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/arg/key/#a6b334a5f83504ebc99cc59f4f333ff98">Align</a> SrcAlign = MCI.getSourceAlign().valueOrOne();</span></CodeLine>
<Link id="l06528" /><CodeLine lineNumber="6528"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/arg/key/#a6b334a5f83504ebc99cc59f4f333ff98">Align</a> Alignment = std::min(DstAlign, SrcAlign);</span></CodeLine>
<Link id="l06529" /><CodeLine lineNumber="6529"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> isVol = MCI.isVolatile();</span></CodeLine>
<Link id="l06530" /><CodeLine lineNumber="6530"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// FIXME: Support passing different dest/src alignments to the memcpy DAG</span></CodeLine>
<Link id="l06531" /><CodeLine lineNumber="6531"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// node.</span></CodeLine>
<Link id="l06532" /><CodeLine lineNumber="6532"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Root = isVol ? <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>() : <a href="/docs/api/classes/llvm/selectiondagbuilder/#ab41a8476a0c74bcf1a2bf665eeececd8">getMemoryRoot</a>();</span></CodeLine>
<Link id="l06533" /><CodeLine lineNumber="6533"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> MC = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMemcpy(Root, sdl, Op1, Op2, Op3, Alignment, isVol,</span></CodeLine>
<Link id="l06534" /><CodeLine lineNumber="6534"><span class="doxyHighlight">                               </span><span class="doxyHighlightComment">/&#42; AlwaysInline &#42;/</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">, &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, std::nullopt,</span></CodeLine>
<Link id="l06535" /><CodeLine lineNumber="6535"><span class="doxyHighlight">                               MachinePointerInfo(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)),</span></CodeLine>
<Link id="l06536" /><CodeLine lineNumber="6536"><span class="doxyHighlight">                               MachinePointerInfo(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1)),</span></CodeLine>
<Link id="l06537" /><CodeLine lineNumber="6537"><span class="doxyHighlight">                               <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getAAMetadata(), <a href="/docs/api/classes/llvm/selectiondagbuilder/#a23f8a52e7e457d67b67aa86541f55c17">BatchAA</a>);</span></CodeLine>
<Link id="l06538" /><CodeLine lineNumber="6538"><span class="doxyHighlight">    updateDAGForMaybeTailCall(MC);</span></CodeLine>
<Link id="l06539" /><CodeLine lineNumber="6539"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06540" /><CodeLine lineNumber="6540"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l06541" /><CodeLine lineNumber="6541"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::memcpy&#95;inline: &#123;</span></CodeLine>
<Link id="l06542" /><CodeLine lineNumber="6542"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;MCI = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;MemCpyInlineInst&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</span></CodeLine>
<Link id="l06543" /><CodeLine lineNumber="6543"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/anonymous-linkmodules-cpp-/#ab56eb2027bc9c069aa696e54de8b4298a1448a68418666ed85e07646744af82ef">Dst</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0));</span></CodeLine>
<Link id="l06544" /><CodeLine lineNumber="6544"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/anonymous-linkmodules-cpp-/#ab56eb2027bc9c069aa696e54de8b4298a276e79316561733d64abdf00f8e8ae48">Src</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1));</span></CodeLine>
<Link id="l06545" /><CodeLine lineNumber="6545"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/lib/lib/analysis/inlineorder-cpp/#a7ee6f0cb51c3b9056199e9a0001fe8c3a6f6cb72d544962fa333e2e34ce64f719">Size</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(2));</span></CodeLine>
<Link id="l06546" /><CodeLine lineNumber="6546"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;ConstantSDNode&gt;</a>(<a href="/docs/api/files/lib/lib/analysis/inlineorder-cpp/#a7ee6f0cb51c3b9056199e9a0001fe8c3a6f6cb72d544962fa333e2e34ce64f719">Size</a>) &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;memcpy&#95;inline needs constant size&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l06547" /><CodeLine lineNumber="6547"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// @llvm.memcpy.inline defines 0 and 1 to both mean no alignment.</span></CodeLine>
<Link id="l06548" /><CodeLine lineNumber="6548"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/arg/key/#a6b334a5f83504ebc99cc59f4f333ff98">Align</a> DstAlign = MCI.getDestAlign().valueOrOne();</span></CodeLine>
<Link id="l06549" /><CodeLine lineNumber="6549"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/arg/key/#a6b334a5f83504ebc99cc59f4f333ff98">Align</a> SrcAlign = MCI.getSourceAlign().valueOrOne();</span></CodeLine>
<Link id="l06550" /><CodeLine lineNumber="6550"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/arg/key/#a6b334a5f83504ebc99cc59f4f333ff98">Align</a> Alignment = std::min(DstAlign, SrcAlign);</span></CodeLine>
<Link id="l06551" /><CodeLine lineNumber="6551"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> isVol = MCI.isVolatile();</span></CodeLine>
<Link id="l06552" /><CodeLine lineNumber="6552"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// FIXME: Support passing different dest/src alignments to the memcpy DAG</span></CodeLine>
<Link id="l06553" /><CodeLine lineNumber="6553"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// node.</span></CodeLine>
<Link id="l06554" /><CodeLine lineNumber="6554"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> MC = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMemcpy(<a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>(), sdl, Dst, Src, <a href="/docs/api/files/lib/lib/analysis/inlineorder-cpp/#a7ee6f0cb51c3b9056199e9a0001fe8c3a6f6cb72d544962fa333e2e34ce64f719">Size</a>, Alignment, isVol,</span></CodeLine>
<Link id="l06555" /><CodeLine lineNumber="6555"><span class="doxyHighlight">                               </span><span class="doxyHighlightComment">/&#42; AlwaysInline &#42;/</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">, &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, std::nullopt,</span></CodeLine>
<Link id="l06556" /><CodeLine lineNumber="6556"><span class="doxyHighlight">                               MachinePointerInfo(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)),</span></CodeLine>
<Link id="l06557" /><CodeLine lineNumber="6557"><span class="doxyHighlight">                               MachinePointerInfo(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1)),</span></CodeLine>
<Link id="l06558" /><CodeLine lineNumber="6558"><span class="doxyHighlight">                               <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getAAMetadata(), <a href="/docs/api/classes/llvm/selectiondagbuilder/#a23f8a52e7e457d67b67aa86541f55c17">BatchAA</a>);</span></CodeLine>
<Link id="l06559" /><CodeLine lineNumber="6559"><span class="doxyHighlight">    updateDAGForMaybeTailCall(MC);</span></CodeLine>
<Link id="l06560" /><CodeLine lineNumber="6560"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06561" /><CodeLine lineNumber="6561"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l06562" /><CodeLine lineNumber="6562"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::memset: &#123;</span></CodeLine>
<Link id="l06563" /><CodeLine lineNumber="6563"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;MSI = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;MemSetInst&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</span></CodeLine>
<Link id="l06564" /><CodeLine lineNumber="6564"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op1 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0));</span></CodeLine>
<Link id="l06565" /><CodeLine lineNumber="6565"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op2 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1));</span></CodeLine>
<Link id="l06566" /><CodeLine lineNumber="6566"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op3 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(2));</span></CodeLine>
<Link id="l06567" /><CodeLine lineNumber="6567"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// @llvm.memset defines 0 and 1 to both mean no alignment.</span></CodeLine>
<Link id="l06568" /><CodeLine lineNumber="6568"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/arg/key/#a6b334a5f83504ebc99cc59f4f333ff98">Align</a> Alignment = MSI.getDestAlign().valueOrOne();</span></CodeLine>
<Link id="l06569" /><CodeLine lineNumber="6569"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> isVol = MSI.isVolatile();</span></CodeLine>
<Link id="l06570" /><CodeLine lineNumber="6570"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Root = isVol ? <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>() : <a href="/docs/api/classes/llvm/selectiondagbuilder/#ab41a8476a0c74bcf1a2bf665eeececd8">getMemoryRoot</a>();</span></CodeLine>
<Link id="l06571" /><CodeLine lineNumber="6571"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> MS = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMemset(</span></CodeLine>
<Link id="l06572" /><CodeLine lineNumber="6572"><span class="doxyHighlight">        Root, sdl, Op1, Op2, Op3, Alignment, isVol, </span><span class="doxyHighlightComment">/&#42; AlwaysInline &#42;/</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">,</span></CodeLine>
<Link id="l06573" /><CodeLine lineNumber="6573"><span class="doxyHighlight">        &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, MachinePointerInfo(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getAAMetadata());</span></CodeLine>
<Link id="l06574" /><CodeLine lineNumber="6574"><span class="doxyHighlight">    updateDAGForMaybeTailCall(MS);</span></CodeLine>
<Link id="l06575" /><CodeLine lineNumber="6575"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06576" /><CodeLine lineNumber="6576"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l06577" /><CodeLine lineNumber="6577"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::memset&#95;inline: &#123;</span></CodeLine>
<Link id="l06578" /><CodeLine lineNumber="6578"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;MSII = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;MemSetInlineInst&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</span></CodeLine>
<Link id="l06579" /><CodeLine lineNumber="6579"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/anonymous-linkmodules-cpp-/#ab56eb2027bc9c069aa696e54de8b4298a1448a68418666ed85e07646744af82ef">Dst</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0));</span></CodeLine>
<Link id="l06580" /><CodeLine lineNumber="6580"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Value = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1));</span></CodeLine>
<Link id="l06581" /><CodeLine lineNumber="6581"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/lib/lib/analysis/inlineorder-cpp/#a7ee6f0cb51c3b9056199e9a0001fe8c3a6f6cb72d544962fa333e2e34ce64f719">Size</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(2));</span></CodeLine>
<Link id="l06582" /><CodeLine lineNumber="6582"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;ConstantSDNode&gt;</a>(<a href="/docs/api/files/lib/lib/analysis/inlineorder-cpp/#a7ee6f0cb51c3b9056199e9a0001fe8c3a6f6cb72d544962fa333e2e34ce64f719">Size</a>) &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;memset&#95;inline needs constant size&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l06583" /><CodeLine lineNumber="6583"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// @llvm.memset defines 0 and 1 to both mean no alignment.</span></CodeLine>
<Link id="l06584" /><CodeLine lineNumber="6584"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/arg/key/#a6b334a5f83504ebc99cc59f4f333ff98">Align</a> DstAlign = MSII.getDestAlign().valueOrOne();</span></CodeLine>
<Link id="l06585" /><CodeLine lineNumber="6585"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> isVol = MSII.isVolatile();</span></CodeLine>
<Link id="l06586" /><CodeLine lineNumber="6586"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Root = isVol ? <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>() : <a href="/docs/api/classes/llvm/selectiondagbuilder/#ab41a8476a0c74bcf1a2bf665eeececd8">getMemoryRoot</a>();</span></CodeLine>
<Link id="l06587" /><CodeLine lineNumber="6587"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> MC = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMemset(Root, sdl, Dst, Value, <a href="/docs/api/files/lib/lib/analysis/inlineorder-cpp/#a7ee6f0cb51c3b9056199e9a0001fe8c3a6f6cb72d544962fa333e2e34ce64f719">Size</a>, DstAlign, isVol,</span></CodeLine>
<Link id="l06588" /><CodeLine lineNumber="6588"><span class="doxyHighlight">                               </span><span class="doxyHighlightComment">/&#42; AlwaysInline &#42;/</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">, &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</span></CodeLine>
<Link id="l06589" /><CodeLine lineNumber="6589"><span class="doxyHighlight">                               MachinePointerInfo(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)),</span></CodeLine>
<Link id="l06590" /><CodeLine lineNumber="6590"><span class="doxyHighlight">                               <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getAAMetadata());</span></CodeLine>
<Link id="l06591" /><CodeLine lineNumber="6591"><span class="doxyHighlight">    updateDAGForMaybeTailCall(MC);</span></CodeLine>
<Link id="l06592" /><CodeLine lineNumber="6592"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06593" /><CodeLine lineNumber="6593"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l06594" /><CodeLine lineNumber="6594"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::memmove: &#123;</span></CodeLine>
<Link id="l06595" /><CodeLine lineNumber="6595"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;MMI = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;MemMoveInst&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</span></CodeLine>
<Link id="l06596" /><CodeLine lineNumber="6596"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op1 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0));</span></CodeLine>
<Link id="l06597" /><CodeLine lineNumber="6597"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op2 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1));</span></CodeLine>
<Link id="l06598" /><CodeLine lineNumber="6598"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op3 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(2));</span></CodeLine>
<Link id="l06599" /><CodeLine lineNumber="6599"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// @llvm.memmove defines 0 and 1 to both mean no alignment.</span></CodeLine>
<Link id="l06600" /><CodeLine lineNumber="6600"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/arg/key/#a6b334a5f83504ebc99cc59f4f333ff98">Align</a> DstAlign = MMI.getDestAlign().valueOrOne();</span></CodeLine>
<Link id="l06601" /><CodeLine lineNumber="6601"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/arg/key/#a6b334a5f83504ebc99cc59f4f333ff98">Align</a> SrcAlign = MMI.getSourceAlign().valueOrOne();</span></CodeLine>
<Link id="l06602" /><CodeLine lineNumber="6602"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/arg/key/#a6b334a5f83504ebc99cc59f4f333ff98">Align</a> Alignment = std::min(DstAlign, SrcAlign);</span></CodeLine>
<Link id="l06603" /><CodeLine lineNumber="6603"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> isVol = MMI.isVolatile();</span></CodeLine>
<Link id="l06604" /><CodeLine lineNumber="6604"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// FIXME: Support passing different dest/src alignments to the memmove DAG</span></CodeLine>
<Link id="l06605" /><CodeLine lineNumber="6605"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// node.</span></CodeLine>
<Link id="l06606" /><CodeLine lineNumber="6606"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Root = isVol ? <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>() : <a href="/docs/api/classes/llvm/selectiondagbuilder/#ab41a8476a0c74bcf1a2bf665eeececd8">getMemoryRoot</a>();</span></CodeLine>
<Link id="l06607" /><CodeLine lineNumber="6607"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> MM = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMemmove(Root, sdl, Op1, Op2, Op3, Alignment, isVol, &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</span></CodeLine>
<Link id="l06608" /><CodeLine lineNumber="6608"><span class="doxyHighlight">                                </span><span class="doxyHighlightComment">/&#42; OverrideTailCall &#42;/</span><span class="doxyHighlight"> std::nullopt,</span></CodeLine>
<Link id="l06609" /><CodeLine lineNumber="6609"><span class="doxyHighlight">                                MachinePointerInfo(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)),</span></CodeLine>
<Link id="l06610" /><CodeLine lineNumber="6610"><span class="doxyHighlight">                                MachinePointerInfo(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1)),</span></CodeLine>
<Link id="l06611" /><CodeLine lineNumber="6611"><span class="doxyHighlight">                                <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getAAMetadata(), <a href="/docs/api/classes/llvm/selectiondagbuilder/#a23f8a52e7e457d67b67aa86541f55c17">BatchAA</a>);</span></CodeLine>
<Link id="l06612" /><CodeLine lineNumber="6612"><span class="doxyHighlight">    updateDAGForMaybeTailCall(MM);</span></CodeLine>
<Link id="l06613" /><CodeLine lineNumber="6613"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06614" /><CodeLine lineNumber="6614"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l06615" /><CodeLine lineNumber="6615"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::memcpy&#95;element&#95;unordered&#95;atomic: &#123;</span></CodeLine>
<Link id="l06616" /><CodeLine lineNumber="6616"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> AtomicMemCpyInst &amp;<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/irtranslator-cpp/#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;AtomicMemCpyInst&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</span></CodeLine>
<Link id="l06617" /><CodeLine lineNumber="6617"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/anonymous-linkmodules-cpp-/#ab56eb2027bc9c069aa696e54de8b4298a1448a68418666ed85e07646744af82ef">Dst</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/irtranslator-cpp/#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getRawDest());</span></CodeLine>
<Link id="l06618" /><CodeLine lineNumber="6618"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/anonymous-linkmodules-cpp-/#ab56eb2027bc9c069aa696e54de8b4298a276e79316561733d64abdf00f8e8ae48">Src</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/irtranslator-cpp/#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getRawSource());</span></CodeLine>
<Link id="l06619" /><CodeLine lineNumber="6619"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/#a05f5b9a11bdcc5feba62899f95dcf878af6d9f1c7b49b7601fae6a545002a6763">Length</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/irtranslator-cpp/#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getLength());</span></CodeLine>
<Link id="l06620" /><CodeLine lineNumber="6620"></CodeLine>
<Link id="l06621" /><CodeLine lineNumber="6621"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a88ee8e4eea43084bd8964682683da88caa1fa27779242b4902f7ae3bdd5c6d508">Type</a> &#42;LengthTy = <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/irtranslator-cpp/#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getLength()-&gt;getType();</span></CodeLine>
<Link id="l06622" /><CodeLine lineNumber="6622"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> ElemSz = <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/irtranslator-cpp/#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getElementSizeInBytes();</span></CodeLine>
<Link id="l06623" /><CodeLine lineNumber="6623"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> isTC = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.isTailCall() &amp;&amp; <a href="/docs/api/namespaces/llvm/#ab2fadbd4626ccfbf3d2cabd27003d597">isInTailCallPosition</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTarget());</span></CodeLine>
<Link id="l06624" /><CodeLine lineNumber="6624"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> MC =</span></CodeLine>
<Link id="l06625" /><CodeLine lineNumber="6625"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getAtomicMemcpy(<a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>(), sdl, Dst, Src, <a href="/docs/api/namespaces/llvm/#a05f5b9a11bdcc5feba62899f95dcf878af6d9f1c7b49b7601fae6a545002a6763">Length</a>, LengthTy, ElemSz,</span></CodeLine>
<Link id="l06626" /><CodeLine lineNumber="6626"><span class="doxyHighlight">                            isTC, MachinePointerInfo(<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/irtranslator-cpp/#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getRawDest()),</span></CodeLine>
<Link id="l06627" /><CodeLine lineNumber="6627"><span class="doxyHighlight">                            MachinePointerInfo(<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/irtranslator-cpp/#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getRawSource()));</span></CodeLine>
<Link id="l06628" /><CodeLine lineNumber="6628"><span class="doxyHighlight">    updateDAGForMaybeTailCall(MC);</span></CodeLine>
<Link id="l06629" /><CodeLine lineNumber="6629"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06630" /><CodeLine lineNumber="6630"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l06631" /><CodeLine lineNumber="6631"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::memmove&#95;element&#95;unordered&#95;atomic: &#123;</span></CodeLine>
<Link id="l06632" /><CodeLine lineNumber="6632"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/irtranslator-cpp/#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;AtomicMemMoveInst&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</span></CodeLine>
<Link id="l06633" /><CodeLine lineNumber="6633"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/anonymous-linkmodules-cpp-/#ab56eb2027bc9c069aa696e54de8b4298a1448a68418666ed85e07646744af82ef">Dst</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/irtranslator-cpp/#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getRawDest());</span></CodeLine>
<Link id="l06634" /><CodeLine lineNumber="6634"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/anonymous-linkmodules-cpp-/#ab56eb2027bc9c069aa696e54de8b4298a276e79316561733d64abdf00f8e8ae48">Src</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/irtranslator-cpp/#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getRawSource());</span></CodeLine>
<Link id="l06635" /><CodeLine lineNumber="6635"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/#a05f5b9a11bdcc5feba62899f95dcf878af6d9f1c7b49b7601fae6a545002a6763">Length</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/irtranslator-cpp/#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getLength());</span></CodeLine>
<Link id="l06636" /><CodeLine lineNumber="6636"></CodeLine>
<Link id="l06637" /><CodeLine lineNumber="6637"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a88ee8e4eea43084bd8964682683da88caa1fa27779242b4902f7ae3bdd5c6d508">Type</a> &#42;LengthTy = <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/irtranslator-cpp/#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getLength()-&gt;getType();</span></CodeLine>
<Link id="l06638" /><CodeLine lineNumber="6638"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> ElemSz = <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/irtranslator-cpp/#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getElementSizeInBytes();</span></CodeLine>
<Link id="l06639" /><CodeLine lineNumber="6639"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> isTC = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.isTailCall() &amp;&amp; <a href="/docs/api/namespaces/llvm/#ab2fadbd4626ccfbf3d2cabd27003d597">isInTailCallPosition</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTarget());</span></CodeLine>
<Link id="l06640" /><CodeLine lineNumber="6640"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> MC =</span></CodeLine>
<Link id="l06641" /><CodeLine lineNumber="6641"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getAtomicMemmove(<a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>(), sdl, Dst, Src, <a href="/docs/api/namespaces/llvm/#a05f5b9a11bdcc5feba62899f95dcf878af6d9f1c7b49b7601fae6a545002a6763">Length</a>, LengthTy, ElemSz,</span></CodeLine>
<Link id="l06642" /><CodeLine lineNumber="6642"><span class="doxyHighlight">                             isTC, MachinePointerInfo(<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/irtranslator-cpp/#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getRawDest()),</span></CodeLine>
<Link id="l06643" /><CodeLine lineNumber="6643"><span class="doxyHighlight">                             MachinePointerInfo(<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/irtranslator-cpp/#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getRawSource()));</span></CodeLine>
<Link id="l06644" /><CodeLine lineNumber="6644"><span class="doxyHighlight">    updateDAGForMaybeTailCall(MC);</span></CodeLine>
<Link id="l06645" /><CodeLine lineNumber="6645"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06646" /><CodeLine lineNumber="6646"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l06647" /><CodeLine lineNumber="6647"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::memset&#95;element&#95;unordered&#95;atomic: &#123;</span></CodeLine>
<Link id="l06648" /><CodeLine lineNumber="6648"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/irtranslator-cpp/#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;AtomicMemSetInst&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</span></CodeLine>
<Link id="l06649" /><CodeLine lineNumber="6649"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/anonymous-linkmodules-cpp-/#ab56eb2027bc9c069aa696e54de8b4298a1448a68418666ed85e07646744af82ef">Dst</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/irtranslator-cpp/#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getRawDest());</span></CodeLine>
<Link id="l06650" /><CodeLine lineNumber="6650"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Val = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/irtranslator-cpp/#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getValue());</span></CodeLine>
<Link id="l06651" /><CodeLine lineNumber="6651"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/#a05f5b9a11bdcc5feba62899f95dcf878af6d9f1c7b49b7601fae6a545002a6763">Length</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/irtranslator-cpp/#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getLength());</span></CodeLine>
<Link id="l06652" /><CodeLine lineNumber="6652"></CodeLine>
<Link id="l06653" /><CodeLine lineNumber="6653"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a88ee8e4eea43084bd8964682683da88caa1fa27779242b4902f7ae3bdd5c6d508">Type</a> &#42;LengthTy = <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/irtranslator-cpp/#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getLength()-&gt;getType();</span></CodeLine>
<Link id="l06654" /><CodeLine lineNumber="6654"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> ElemSz = <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/irtranslator-cpp/#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getElementSizeInBytes();</span></CodeLine>
<Link id="l06655" /><CodeLine lineNumber="6655"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> isTC = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.isTailCall() &amp;&amp; <a href="/docs/api/namespaces/llvm/#ab2fadbd4626ccfbf3d2cabd27003d597">isInTailCallPosition</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTarget());</span></CodeLine>
<Link id="l06656" /><CodeLine lineNumber="6656"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> MC =</span></CodeLine>
<Link id="l06657" /><CodeLine lineNumber="6657"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getAtomicMemset(<a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>(), sdl, Dst, Val, <a href="/docs/api/namespaces/llvm/#a05f5b9a11bdcc5feba62899f95dcf878af6d9f1c7b49b7601fae6a545002a6763">Length</a>, LengthTy, ElemSz,</span></CodeLine>
<Link id="l06658" /><CodeLine lineNumber="6658"><span class="doxyHighlight">                            isTC, MachinePointerInfo(<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/irtranslator-cpp/#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getRawDest()));</span></CodeLine>
<Link id="l06659" /><CodeLine lineNumber="6659"><span class="doxyHighlight">    updateDAGForMaybeTailCall(MC);</span></CodeLine>
<Link id="l06660" /><CodeLine lineNumber="6660"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06661" /><CodeLine lineNumber="6661"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l06662" /><CodeLine lineNumber="6662"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::call&#95;preallocated&#95;setup: &#123;</span></CodeLine>
<Link id="l06663" /><CodeLine lineNumber="6663"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> CallBase &#42;PreallocatedCall = <a href="#a41caa0b8eaefb07b7f8fcf19b05bb249">FindPreallocatedCall</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</span></CodeLine>
<Link id="l06664" /><CodeLine lineNumber="6664"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> SrcValue = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSrcValue(PreallocatedCall);</span></CodeLine>
<Link id="l06665" /><CodeLine lineNumber="6665"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Res = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::PREALLOCATED&#95;SETUP, sdl, MVT::Other,</span></CodeLine>
<Link id="l06666" /><CodeLine lineNumber="6666"><span class="doxyHighlight">                              <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>(), SrcValue);</span></CodeLine>
<Link id="l06667" /><CodeLine lineNumber="6667"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Res);</span></CodeLine>
<Link id="l06668" /><CodeLine lineNumber="6668"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(Res);</span></CodeLine>
<Link id="l06669" /><CodeLine lineNumber="6669"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06670" /><CodeLine lineNumber="6670"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l06671" /><CodeLine lineNumber="6671"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::call&#95;preallocated&#95;arg: &#123;</span></CodeLine>
<Link id="l06672" /><CodeLine lineNumber="6672"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> CallBase &#42;PreallocatedCall = <a href="#a41caa0b8eaefb07b7f8fcf19b05bb249">FindPreallocatedCall</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0));</span></CodeLine>
<Link id="l06673" /><CodeLine lineNumber="6673"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> SrcValue = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSrcValue(PreallocatedCall);</span></CodeLine>
<Link id="l06674" /><CodeLine lineNumber="6674"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>&#91;3&#93;;</span></CodeLine>
<Link id="l06675" /><CodeLine lineNumber="6675"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>&#91;0&#93; = <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>();</span></CodeLine>
<Link id="l06676" /><CodeLine lineNumber="6676"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>&#91;1&#93; = SrcValue;</span></CodeLine>
<Link id="l06677" /><CodeLine lineNumber="6677"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>&#91;2&#93; = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetConstant(&#42;<a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;ConstantInt&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1)), sdl,</span></CodeLine>
<Link id="l06678" /><CodeLine lineNumber="6678"><span class="doxyHighlight">                                   MVT::i32); </span><span class="doxyHighlightComment">// arg index</span></CodeLine>
<Link id="l06679" /><CodeLine lineNumber="6679"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Res = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(</span></CodeLine>
<Link id="l06680" /><CodeLine lineNumber="6680"><span class="doxyHighlight">        ISD::PREALLOCATED&#95;ARG, sdl,</span></CodeLine>
<Link id="l06681" /><CodeLine lineNumber="6681"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVTList(TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout()), MVT::Other), <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>);</span></CodeLine>
<Link id="l06682" /><CodeLine lineNumber="6682"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Res);</span></CodeLine>
<Link id="l06683" /><CodeLine lineNumber="6683"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(Res.<a href="/docs/api/classes/llvm/sdvalue/#a64932427432abeb61241e98bea167580">getValue</a>(1));</span></CodeLine>
<Link id="l06684" /><CodeLine lineNumber="6684"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06685" /><CodeLine lineNumber="6685"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l06686" /><CodeLine lineNumber="6686"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::dbg&#95;declare: &#123;</span></CodeLine>
<Link id="l06687" /><CodeLine lineNumber="6687"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;DI = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;DbgDeclareInst&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</span></CodeLine>
<Link id="l06688" /><CodeLine lineNumber="6688"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Debug intrinsics are handled separately in assignment tracking mode.</span></CodeLine>
<Link id="l06689" /><CodeLine lineNumber="6689"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Some intrinsics are handled right after Argument lowering.</span></CodeLine>
<Link id="l06690" /><CodeLine lineNumber="6690"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (AssignmentTrackingEnabled ||</span></CodeLine>
<Link id="l06691" /><CodeLine lineNumber="6691"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.PreprocessedDbgDeclares.count(&amp;DI))</span></CodeLine>
<Link id="l06692" /><CodeLine lineNumber="6692"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06693" /><CodeLine lineNumber="6693"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/support/debug-h/#a196897517069dda1bdb549e24468f7d7">LLVM&#95;DEBUG</a>(<a href="/docs/api/namespaces/llvm/#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; </span><span class="doxyHighlightStringLiteral">&quot;SelectionDAG visiting dbg&#95;declare: &quot;</span><span class="doxyHighlight"> &lt;&lt; DI &lt;&lt; </span><span class="doxyHighlightStringLiteral">&quot;\\n&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l06694" /><CodeLine lineNumber="6694"><span class="doxyHighlight">    DILocalVariable &#42;Variable = DI.getVariable();</span></CodeLine>
<Link id="l06695" /><CodeLine lineNumber="6695"><span class="doxyHighlight">    DIExpression &#42;Expression = DI.getExpression();</span></CodeLine>
<Link id="l06696" /><CodeLine lineNumber="6696"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ac08d1b312ae9756038394d6b9568f383">dropDanglingDebugInfo</a>(Variable, Expression);</span></CodeLine>
<Link id="l06697" /><CodeLine lineNumber="6697"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Assume dbg.declare can not currently use DIArgList, i.e.</span></CodeLine>
<Link id="l06698" /><CodeLine lineNumber="6698"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// it is non-variadic.</span></CodeLine>
<Link id="l06699" /><CodeLine lineNumber="6699"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!DI.hasArgList() &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Only dbg.value should currently use DIArgList&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l06700" /><CodeLine lineNumber="6700"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#a6571e1b07bfb1d4c5b1e832fdac355a1">handleDebugDeclare</a>(DI.getVariableLocationOp(0), Variable, Expression,</span></CodeLine>
<Link id="l06701" /><CodeLine lineNumber="6701"><span class="doxyHighlight">                       DI.getDebugLoc());</span></CodeLine>
<Link id="l06702" /><CodeLine lineNumber="6702"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06703" /><CodeLine lineNumber="6703"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l06704" /><CodeLine lineNumber="6704"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::dbg&#95;label: &#123;</span></CodeLine>
<Link id="l06705" /><CodeLine lineNumber="6705"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> DbgLabelInst &amp;DI = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;DbgLabelInst&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</span></CodeLine>
<Link id="l06706" /><CodeLine lineNumber="6706"><span class="doxyHighlight">    DILabel &#42;<a href="/docs/api/namespaces/llvm/pdb/#a33e853ec74d48b1340d1d4bae772d30bab021df6aac4654c454f46c77646e745f">Label</a> = DI.<a href="/docs/api/classes/llvm/dbglabelinst/#a8dc67566a99f01c9a9907c61108e0c7c">getLabel</a>();</span></CodeLine>
<Link id="l06707" /><CodeLine lineNumber="6707"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Label &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Missing label&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l06708" /><CodeLine lineNumber="6708"></CodeLine>
<Link id="l06709" /><CodeLine lineNumber="6709"><span class="doxyHighlight">    SDDbgLabel &#42;SDV;</span></CodeLine>
<Link id="l06710" /><CodeLine lineNumber="6710"><span class="doxyHighlight">    SDV = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDbgLabel(Label, dl, SDNodeOrder);</span></CodeLine>
<Link id="l06711" /><CodeLine lineNumber="6711"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.AddDbgLabel(SDV);</span></CodeLine>
<Link id="l06712" /><CodeLine lineNumber="6712"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06713" /><CodeLine lineNumber="6713"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l06714" /><CodeLine lineNumber="6714"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::dbg&#95;assign: &#123;</span></CodeLine>
<Link id="l06715" /><CodeLine lineNumber="6715"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Debug intrinsics are handled separately in assignment tracking mode.</span></CodeLine>
<Link id="l06716" /><CodeLine lineNumber="6716"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (AssignmentTrackingEnabled)</span></CodeLine>
<Link id="l06717" /><CodeLine lineNumber="6717"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06718" /><CodeLine lineNumber="6718"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// If assignment tracking hasn&#39;t been enabled then fall through and treat</span></CodeLine>
<Link id="l06719" /><CodeLine lineNumber="6719"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// the dbg.assign as a dbg.value.</span></CodeLine>
<Link id="l06720" /><CodeLine lineNumber="6720"><span class="doxyHighlight">    &#91;&#91;fallthrough&#93;&#93;;</span></CodeLine>
<Link id="l06721" /><CodeLine lineNumber="6721"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l06722" /><CodeLine lineNumber="6722"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::dbg&#95;value: &#123;</span></CodeLine>
<Link id="l06723" /><CodeLine lineNumber="6723"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Debug intrinsics are handled separately in assignment tracking mode.</span></CodeLine>
<Link id="l06724" /><CodeLine lineNumber="6724"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (AssignmentTrackingEnabled)</span></CodeLine>
<Link id="l06725" /><CodeLine lineNumber="6725"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06726" /><CodeLine lineNumber="6726"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> DbgValueInst &amp;DI = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;DbgValueInst&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</span></CodeLine>
<Link id="l06727" /><CodeLine lineNumber="6727"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DI.<a href="/docs/api/classes/llvm/dbgvariableintrinsic/#a854857be09a21f27fb21ba872fe6f639">getVariable</a>() &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Missing variable&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l06728" /><CodeLine lineNumber="6728"></CodeLine>
<Link id="l06729" /><CodeLine lineNumber="6729"><span class="doxyHighlight">    DILocalVariable &#42;Variable = DI.<a href="/docs/api/classes/llvm/dbgvariableintrinsic/#a854857be09a21f27fb21ba872fe6f639">getVariable</a>();</span></CodeLine>
<Link id="l06730" /><CodeLine lineNumber="6730"><span class="doxyHighlight">    DIExpression &#42;Expression = DI.<a href="/docs/api/classes/llvm/dbgvariableintrinsic/#ad1707c1c1ab1f3278424f265893c87fb">getExpression</a>();</span></CodeLine>
<Link id="l06731" /><CodeLine lineNumber="6731"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ac08d1b312ae9756038394d6b9568f383">dropDanglingDebugInfo</a>(Variable, Expression);</span></CodeLine>
<Link id="l06732" /><CodeLine lineNumber="6732"></CodeLine>
<Link id="l06733" /><CodeLine lineNumber="6733"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (DI.<a href="/docs/api/classes/llvm/dbgvariableintrinsic/#af7f3b3d318132753954ca4da891245d8">isKillLocation</a>()) &#123;</span></CodeLine>
<Link id="l06734" /><CodeLine lineNumber="6734"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ac42eef26cc4185a8932bc59a94dc5d16">handleKillDebugValue</a>(Variable, Expression, DI.<a href="/docs/api/classes/llvm/instruction/#a4b8faae4ff9e7434a1d226d03d15dcd2">getDebugLoc</a>(), SDNodeOrder);</span></CodeLine>
<Link id="l06735" /><CodeLine lineNumber="6735"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06736" /><CodeLine lineNumber="6736"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l06737" /><CodeLine lineNumber="6737"></CodeLine>
<Link id="l06738" /><CodeLine lineNumber="6738"><span class="doxyHighlight">    SmallVector&lt;Value &#42;, 4&gt; Values(DI.<a href="/docs/api/classes/llvm/dbgvalueinst/#a1469e03438be312e275d87c194fbd384">getValues</a>());</span></CodeLine>
<Link id="l06739" /><CodeLine lineNumber="6739"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Values.<a href="/docs/api/classes/llvm/arrayref/#ac835b8735b1b2faec0efdca236e37d94">empty</a>())</span></CodeLine>
<Link id="l06740" /><CodeLine lineNumber="6740"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06741" /><CodeLine lineNumber="6741"></CodeLine>
<Link id="l06742" /><CodeLine lineNumber="6742"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> IsVariadic = DI.<a href="/docs/api/classes/llvm/dbgvariableintrinsic/#acfa0ffc95fedffcb2ac3cca51872af7a">hasArgList</a>();</span></CodeLine>
<Link id="l06743" /><CodeLine lineNumber="6743"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="/docs/api/classes/llvm/selectiondagbuilder/#ae9748fb2e4d41aaa8ac80d00b2becc52">handleDebugValue</a>(Values, Variable, Expression, DI.<a href="/docs/api/classes/llvm/instruction/#a4b8faae4ff9e7434a1d226d03d15dcd2">getDebugLoc</a>(),</span></CodeLine>
<Link id="l06744" /><CodeLine lineNumber="6744"><span class="doxyHighlight">                          SDNodeOrder, IsVariadic))</span></CodeLine>
<Link id="l06745" /><CodeLine lineNumber="6745"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#a13b6c3ad0bdee051eda42dc7c8a1f12b">addDanglingDebugInfo</a>(Values, Variable, Expression, IsVariadic,</span></CodeLine>
<Link id="l06746" /><CodeLine lineNumber="6746"><span class="doxyHighlight">                           DI.<a href="/docs/api/classes/llvm/instruction/#a4b8faae4ff9e7434a1d226d03d15dcd2">getDebugLoc</a>(), SDNodeOrder);</span></CodeLine>
<Link id="l06747" /><CodeLine lineNumber="6747"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06748" /><CodeLine lineNumber="6748"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l06749" /><CodeLine lineNumber="6749"></CodeLine>
<Link id="l06750" /><CodeLine lineNumber="6750"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::eh&#95;typeid&#95;for: &#123;</span></CodeLine>
<Link id="l06751" /><CodeLine lineNumber="6751"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Find the type id for the given typeinfo.</span></CodeLine>
<Link id="l06752" /><CodeLine lineNumber="6752"><span class="doxyHighlight">    GlobalValue &#42;GV = <a href="/docs/api/namespaces/llvm/#acae633d6254bf68b6ad97699f786b3b0">ExtractTypeInfo</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0));</span></CodeLine>
<Link id="l06753" /><CodeLine lineNumber="6753"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> <a href="/docs/api/files/lib/lib/target/lib/target/mips/mips16hardfloat-cpp/#a80cca3528193bd0d53e43a6d030f0ea0">TypeID</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMachineFunction().getTypeIDFor(GV);</span></CodeLine>
<Link id="l06754" /><CodeLine lineNumber="6754"><span class="doxyHighlight">    Res = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getConstant(<a href="/docs/api/files/lib/lib/target/lib/target/mips/mips16hardfloat-cpp/#a80cca3528193bd0d53e43a6d030f0ea0">TypeID</a>, sdl, MVT::i32);</span></CodeLine>
<Link id="l06755" /><CodeLine lineNumber="6755"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Res);</span></CodeLine>
<Link id="l06756" /><CodeLine lineNumber="6756"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06757" /><CodeLine lineNumber="6757"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l06758" /><CodeLine lineNumber="6758"></CodeLine>
<Link id="l06759" /><CodeLine lineNumber="6759"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::eh&#95;return&#95;i32:</span></CodeLine>
<Link id="l06760" /><CodeLine lineNumber="6760"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::eh&#95;return&#95;i64:</span></CodeLine>
<Link id="l06761" /><CodeLine lineNumber="6761"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMachineFunction().setCallsEHReturn(</span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l06762" /><CodeLine lineNumber="6762"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a4edf35e2383003ff20057e5a45012a55">ISD::EH&#95;RETURN</a>, sdl,</span></CodeLine>
<Link id="l06763" /><CodeLine lineNumber="6763"><span class="doxyHighlight">                            MVT::Other,</span></CodeLine>
<Link id="l06764" /><CodeLine lineNumber="6764"><span class="doxyHighlight">                            <a href="/docs/api/classes/llvm/selectiondagbuilder/#aef34360e8bb4bdecf3fd6345ff504f81">getControlRoot</a>(),</span></CodeLine>
<Link id="l06765" /><CodeLine lineNumber="6765"><span class="doxyHighlight">                            <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)),</span></CodeLine>
<Link id="l06766" /><CodeLine lineNumber="6766"><span class="doxyHighlight">                            <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1))));</span></CodeLine>
<Link id="l06767" /><CodeLine lineNumber="6767"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06768" /><CodeLine lineNumber="6768"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::eh&#95;unwind&#95;init:</span></CodeLine>
<Link id="l06769" /><CodeLine lineNumber="6769"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMachineFunction().setCallsUnwindInit(</span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l06770" /><CodeLine lineNumber="6770"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06771" /><CodeLine lineNumber="6771"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::eh&#95;dwarf&#95;cfa:</span></CodeLine>
<Link id="l06772" /><CodeLine lineNumber="6772"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110abad932e63381a4671b5db19a3404c82e">ISD::EH&#95;DWARF&#95;CFA</a>, sdl,</span></CodeLine>
<Link id="l06773" /><CodeLine lineNumber="6773"><span class="doxyHighlight">                             TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout()),</span></CodeLine>
<Link id="l06774" /><CodeLine lineNumber="6774"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0))));</span></CodeLine>
<Link id="l06775" /><CodeLine lineNumber="6775"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06776" /><CodeLine lineNumber="6776"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::eh&#95;sjlj&#95;callsite: &#123;</span></CodeLine>
<Link id="l06777" /><CodeLine lineNumber="6777"><span class="doxyHighlight">    ConstantInt &#42;CI = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;ConstantInt&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0));</span></CodeLine>
<Link id="l06778" /><CodeLine lineNumber="6778"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.getCurrentCallSite() == 0 &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Overlapping call sites!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l06779" /><CodeLine lineNumber="6779"></CodeLine>
<Link id="l06780" /><CodeLine lineNumber="6780"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.setCurrentCallSite(CI-&gt;<a href="/docs/api/classes/llvm/constantint/#ac09a21c371a9c535cbc13e8f82503aec">getZExtValue</a>());</span></CodeLine>
<Link id="l06781" /><CodeLine lineNumber="6781"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06782" /><CodeLine lineNumber="6782"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l06783" /><CodeLine lineNumber="6783"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::eh&#95;sjlj&#95;functioncontext: &#123;</span></CodeLine>
<Link id="l06784" /><CodeLine lineNumber="6784"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Get and store the index of the function context.</span></CodeLine>
<Link id="l06785" /><CodeLine lineNumber="6785"><span class="doxyHighlight">    MachineFrameInfo &amp;MFI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMachineFunction().getFrameInfo();</span></CodeLine>
<Link id="l06786" /><CodeLine lineNumber="6786"><span class="doxyHighlight">    AllocaInst &#42;FnCtx =</span></CodeLine>
<Link id="l06787" /><CodeLine lineNumber="6787"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;AllocaInst&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)-&gt;stripPointerCasts());</span></CodeLine>
<Link id="l06788" /><CodeLine lineNumber="6788"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">int</span><span class="doxyHighlight"> FI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.StaticAllocaMap&#91;FnCtx&#93;;</span></CodeLine>
<Link id="l06789" /><CodeLine lineNumber="6789"><span class="doxyHighlight">    MFI.<a href="/docs/api/classes/llvm/machineframeinfo/#afe5772922837eb92e41c2d397809c9eb">setFunctionContextIndex</a>(FI);</span></CodeLine>
<Link id="l06790" /><CodeLine lineNumber="6790"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06791" /><CodeLine lineNumber="6791"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l06792" /><CodeLine lineNumber="6792"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::eh&#95;sjlj&#95;setjmp: &#123;</span></CodeLine>
<Link id="l06793" /><CodeLine lineNumber="6793"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>&#91;2&#93;;</span></CodeLine>
<Link id="l06794" /><CodeLine lineNumber="6794"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>&#91;0&#93; = <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>();</span></CodeLine>
<Link id="l06795" /><CodeLine lineNumber="6795"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>&#91;1&#93; = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0));</span></CodeLine>
<Link id="l06796" /><CodeLine lineNumber="6796"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110ae5a57fe9fd413df909ab121ca1a813c7">ISD::EH&#95;SJLJ&#95;SETJMP</a>, sdl,</span></CodeLine>
<Link id="l06797" /><CodeLine lineNumber="6797"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVTList(MVT::i32, MVT::Other), <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>);</span></CodeLine>
<Link id="l06798" /><CodeLine lineNumber="6798"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>.getValue(0));</span></CodeLine>
<Link id="l06799" /><CodeLine lineNumber="6799"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(<a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>.getValue(1));</span></CodeLine>
<Link id="l06800" /><CodeLine lineNumber="6800"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06801" /><CodeLine lineNumber="6801"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l06802" /><CodeLine lineNumber="6802"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::eh&#95;sjlj&#95;longjmp:</span></CodeLine>
<Link id="l06803" /><CodeLine lineNumber="6803"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a122a450e069003dc86859ef47ab6e278">ISD::EH&#95;SJLJ&#95;LONGJMP</a>, sdl, MVT::Other,</span></CodeLine>
<Link id="l06804" /><CodeLine lineNumber="6804"><span class="doxyHighlight">                            <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>(), <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0))));</span></CodeLine>
<Link id="l06805" /><CodeLine lineNumber="6805"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06806" /><CodeLine lineNumber="6806"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::eh&#95;sjlj&#95;setup&#95;dispatch:</span></CodeLine>
<Link id="l06807" /><CodeLine lineNumber="6807"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a2e0f3a93e85a46b2ebac7330c2a0c581">ISD::EH&#95;SJLJ&#95;SETUP&#95;DISPATCH</a>, sdl, MVT::Other,</span></CodeLine>
<Link id="l06808" /><CodeLine lineNumber="6808"><span class="doxyHighlight">                            <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>()));</span></CodeLine>
<Link id="l06809" /><CodeLine lineNumber="6809"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06810" /><CodeLine lineNumber="6810"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::masked&#95;gather:</span></CodeLine>
<Link id="l06811" /><CodeLine lineNumber="6811"><span class="doxyHighlight">    visitMaskedGather(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</span></CodeLine>
<Link id="l06812" /><CodeLine lineNumber="6812"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06813" /><CodeLine lineNumber="6813"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::masked&#95;load:</span></CodeLine>
<Link id="l06814" /><CodeLine lineNumber="6814"><span class="doxyHighlight">    visitMaskedLoad(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</span></CodeLine>
<Link id="l06815" /><CodeLine lineNumber="6815"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06816" /><CodeLine lineNumber="6816"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::masked&#95;scatter:</span></CodeLine>
<Link id="l06817" /><CodeLine lineNumber="6817"><span class="doxyHighlight">    visitMaskedScatter(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</span></CodeLine>
<Link id="l06818" /><CodeLine lineNumber="6818"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06819" /><CodeLine lineNumber="6819"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::masked&#95;store:</span></CodeLine>
<Link id="l06820" /><CodeLine lineNumber="6820"><span class="doxyHighlight">    visitMaskedStore(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</span></CodeLine>
<Link id="l06821" /><CodeLine lineNumber="6821"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06822" /><CodeLine lineNumber="6822"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::masked&#95;expandload:</span></CodeLine>
<Link id="l06823" /><CodeLine lineNumber="6823"><span class="doxyHighlight">    visitMaskedLoad(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight"> </span><span class="doxyHighlightComment">/&#42; IsExpanding &#42;/</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l06824" /><CodeLine lineNumber="6824"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06825" /><CodeLine lineNumber="6825"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::masked&#95;compressstore:</span></CodeLine>
<Link id="l06826" /><CodeLine lineNumber="6826"><span class="doxyHighlight">    visitMaskedStore(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight"> </span><span class="doxyHighlightComment">/&#42; IsCompressing &#42;/</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l06827" /><CodeLine lineNumber="6827"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06828" /><CodeLine lineNumber="6828"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::powi:</span></CodeLine>
<Link id="l06829" /><CodeLine lineNumber="6829"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="#ac2cca597e5865d3b7f5bb8c64617754c">ExpandPowI</a>(sdl, <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)),</span></CodeLine>
<Link id="l06830" /><CodeLine lineNumber="6830"><span class="doxyHighlight">                            <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1)), <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>));</span></CodeLine>
<Link id="l06831" /><CodeLine lineNumber="6831"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06832" /><CodeLine lineNumber="6832"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::log:</span></CodeLine>
<Link id="l06833" /><CodeLine lineNumber="6833"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="#ac8914654eb596e0910566feb6860b0d9">expandLog</a>(sdl, <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)), <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>, TLI, Flags));</span></CodeLine>
<Link id="l06834" /><CodeLine lineNumber="6834"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06835" /><CodeLine lineNumber="6835"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::log2:</span></CodeLine>
<Link id="l06836" /><CodeLine lineNumber="6836"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</span></CodeLine>
<Link id="l06837" /><CodeLine lineNumber="6837"><span class="doxyHighlight">             <a href="#a93033474cad7c650f5f5f424d9fa951b">expandLog2</a>(sdl, <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)), <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>, TLI, Flags));</span></CodeLine>
<Link id="l06838" /><CodeLine lineNumber="6838"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06839" /><CodeLine lineNumber="6839"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::log10:</span></CodeLine>
<Link id="l06840" /><CodeLine lineNumber="6840"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</span></CodeLine>
<Link id="l06841" /><CodeLine lineNumber="6841"><span class="doxyHighlight">             <a href="#a72303a46d52d32f357c782765ac9797b">expandLog10</a>(sdl, <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)), <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>, TLI, Flags));</span></CodeLine>
<Link id="l06842" /><CodeLine lineNumber="6842"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06843" /><CodeLine lineNumber="6843"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::exp:</span></CodeLine>
<Link id="l06844" /><CodeLine lineNumber="6844"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="#ad9fad588c8d87711124a9319e4b69d56">expandExp</a>(sdl, <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)), <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>, TLI, Flags));</span></CodeLine>
<Link id="l06845" /><CodeLine lineNumber="6845"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06846" /><CodeLine lineNumber="6846"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::exp2:</span></CodeLine>
<Link id="l06847" /><CodeLine lineNumber="6847"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</span></CodeLine>
<Link id="l06848" /><CodeLine lineNumber="6848"><span class="doxyHighlight">             <a href="#a653e44824f5869e54a3f5848f06fdb19">expandExp2</a>(sdl, <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)), <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>, TLI, Flags));</span></CodeLine>
<Link id="l06849" /><CodeLine lineNumber="6849"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06850" /><CodeLine lineNumber="6850"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::pow:</span></CodeLine>
<Link id="l06851" /><CodeLine lineNumber="6851"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="#a3308e71b8586ecd7e993926a7883fb70">expandPow</a>(sdl, <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)),</span></CodeLine>
<Link id="l06852" /><CodeLine lineNumber="6852"><span class="doxyHighlight">                           <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1)), <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>, TLI, Flags));</span></CodeLine>
<Link id="l06853" /><CodeLine lineNumber="6853"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06854" /><CodeLine lineNumber="6854"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::sqrt:</span></CodeLine>
<Link id="l06855" /><CodeLine lineNumber="6855"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::fabs:</span></CodeLine>
<Link id="l06856" /><CodeLine lineNumber="6856"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::sin:</span></CodeLine>
<Link id="l06857" /><CodeLine lineNumber="6857"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::cos:</span></CodeLine>
<Link id="l06858" /><CodeLine lineNumber="6858"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::tan:</span></CodeLine>
<Link id="l06859" /><CodeLine lineNumber="6859"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::asin:</span></CodeLine>
<Link id="l06860" /><CodeLine lineNumber="6860"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::acos:</span></CodeLine>
<Link id="l06861" /><CodeLine lineNumber="6861"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::atan:</span></CodeLine>
<Link id="l06862" /><CodeLine lineNumber="6862"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::sinh:</span></CodeLine>
<Link id="l06863" /><CodeLine lineNumber="6863"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::cosh:</span></CodeLine>
<Link id="l06864" /><CodeLine lineNumber="6864"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::tanh:</span></CodeLine>
<Link id="l06865" /><CodeLine lineNumber="6865"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::exp10:</span></CodeLine>
<Link id="l06866" /><CodeLine lineNumber="6866"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::floor:</span></CodeLine>
<Link id="l06867" /><CodeLine lineNumber="6867"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::ceil:</span></CodeLine>
<Link id="l06868" /><CodeLine lineNumber="6868"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::trunc:</span></CodeLine>
<Link id="l06869" /><CodeLine lineNumber="6869"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::rint:</span></CodeLine>
<Link id="l06870" /><CodeLine lineNumber="6870"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::nearbyint:</span></CodeLine>
<Link id="l06871" /><CodeLine lineNumber="6871"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::round:</span></CodeLine>
<Link id="l06872" /><CodeLine lineNumber="6872"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::roundeven:</span></CodeLine>
<Link id="l06873" /><CodeLine lineNumber="6873"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::canonicalize: &#123;</span></CodeLine>
<Link id="l06874" /><CodeLine lineNumber="6874"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> Opcode;</span></CodeLine>
<Link id="l06875" /><CodeLine lineNumber="6875"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// clang-format off</span></CodeLine>
<Link id="l06876" /><CodeLine lineNumber="6876"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">switch</span><span class="doxyHighlight"> (Intrinsic) &#123;</span></CodeLine>
<Link id="l06877" /><CodeLine lineNumber="6877"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">default</span><span class="doxyHighlight">: <a href="/docs/api/files/include/include/llvm/include/llvm/support/errorhandling-h/#ace243f5c25697a1107cce46626b3dc94">llvm&#95;unreachable</a>(</span><span class="doxyHighlightStringLiteral">&quot;Impossible intrinsic&quot;</span><span class="doxyHighlight">);  </span><span class="doxyHighlightComment">// Can&#39;t reach here.</span></CodeLine>
<Link id="l06878" /><CodeLine lineNumber="6878"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::sqrt:         Opcode = ISD::FSQRT;         </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06879" /><CodeLine lineNumber="6879"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::fabs:         Opcode = ISD::FABS;          </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06880" /><CodeLine lineNumber="6880"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::sin:          Opcode = ISD::FSIN;          </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06881" /><CodeLine lineNumber="6881"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::cos:          Opcode = ISD::FCOS;          </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06882" /><CodeLine lineNumber="6882"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::tan:          Opcode = ISD::FTAN;          </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06883" /><CodeLine lineNumber="6883"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::asin:         Opcode = ISD::FASIN;         </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06884" /><CodeLine lineNumber="6884"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::acos:         Opcode = ISD::FACOS;         </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06885" /><CodeLine lineNumber="6885"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::atan:         Opcode = ISD::FATAN;         </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06886" /><CodeLine lineNumber="6886"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::sinh:         Opcode = ISD::FSINH;         </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06887" /><CodeLine lineNumber="6887"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::cosh:         Opcode = ISD::FCOSH;         </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06888" /><CodeLine lineNumber="6888"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::tanh:         Opcode = ISD::FTANH;         </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06889" /><CodeLine lineNumber="6889"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::exp10:        Opcode = ISD::FEXP10;        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06890" /><CodeLine lineNumber="6890"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::floor:        Opcode = ISD::FFLOOR;        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06891" /><CodeLine lineNumber="6891"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::ceil:         Opcode = ISD::FCEIL;         </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06892" /><CodeLine lineNumber="6892"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::trunc:        Opcode = ISD::FTRUNC;        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06893" /><CodeLine lineNumber="6893"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::rint:         Opcode = ISD::FRINT;         </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06894" /><CodeLine lineNumber="6894"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::nearbyint:    Opcode = ISD::FNEARBYINT;    </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06895" /><CodeLine lineNumber="6895"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::round:        Opcode = ISD::FROUND;        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06896" /><CodeLine lineNumber="6896"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::roundeven:    Opcode = ISD::FROUNDEVEN;    </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06897" /><CodeLine lineNumber="6897"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::canonicalize: Opcode = <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a74a787311d3ab9a17ee0acde7b6a6b14">ISD::FCANONICALIZE</a>; </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06898" /><CodeLine lineNumber="6898"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l06899" /><CodeLine lineNumber="6899"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// clang-format on</span></CodeLine>
<Link id="l06900" /><CodeLine lineNumber="6900"></CodeLine>
<Link id="l06901" /><CodeLine lineNumber="6901"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(Opcode, sdl,</span></CodeLine>
<Link id="l06902" /><CodeLine lineNumber="6902"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)).getValueType(),</span></CodeLine>
<Link id="l06903" /><CodeLine lineNumber="6903"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)), Flags));</span></CodeLine>
<Link id="l06904" /><CodeLine lineNumber="6904"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06905" /><CodeLine lineNumber="6905"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l06906" /><CodeLine lineNumber="6906"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::atan2:</span></CodeLine>
<Link id="l06907" /><CodeLine lineNumber="6907"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::FATAN2, sdl,</span></CodeLine>
<Link id="l06908" /><CodeLine lineNumber="6908"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)).getValueType(),</span></CodeLine>
<Link id="l06909" /><CodeLine lineNumber="6909"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)),</span></CodeLine>
<Link id="l06910" /><CodeLine lineNumber="6910"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1)), Flags));</span></CodeLine>
<Link id="l06911" /><CodeLine lineNumber="6911"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06912" /><CodeLine lineNumber="6912"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::lround:</span></CodeLine>
<Link id="l06913" /><CodeLine lineNumber="6913"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::llround:</span></CodeLine>
<Link id="l06914" /><CodeLine lineNumber="6914"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::lrint:</span></CodeLine>
<Link id="l06915" /><CodeLine lineNumber="6915"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::llrint: &#123;</span></CodeLine>
<Link id="l06916" /><CodeLine lineNumber="6916"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> Opcode;</span></CodeLine>
<Link id="l06917" /><CodeLine lineNumber="6917"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// clang-format off</span></CodeLine>
<Link id="l06918" /><CodeLine lineNumber="6918"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">switch</span><span class="doxyHighlight"> (Intrinsic) &#123;</span></CodeLine>
<Link id="l06919" /><CodeLine lineNumber="6919"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">default</span><span class="doxyHighlight">: <a href="/docs/api/files/include/include/llvm/include/llvm/support/errorhandling-h/#ace243f5c25697a1107cce46626b3dc94">llvm&#95;unreachable</a>(</span><span class="doxyHighlightStringLiteral">&quot;Impossible intrinsic&quot;</span><span class="doxyHighlight">);  </span><span class="doxyHighlightComment">// Can&#39;t reach here.</span></CodeLine>
<Link id="l06920" /><CodeLine lineNumber="6920"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::lround:  Opcode = ISD::LROUND;  </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06921" /><CodeLine lineNumber="6921"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::llround: Opcode = ISD::LLROUND; </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06922" /><CodeLine lineNumber="6922"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::lrint:   Opcode = ISD::LRINT;   </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06923" /><CodeLine lineNumber="6923"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::llrint:  Opcode = ISD::LLRINT;  </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06924" /><CodeLine lineNumber="6924"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l06925" /><CodeLine lineNumber="6925"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// clang-format on</span></CodeLine>
<Link id="l06926" /><CodeLine lineNumber="6926"></CodeLine>
<Link id="l06927" /><CodeLine lineNumber="6927"><span class="doxyHighlight">    EVT RetVT = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType());</span></CodeLine>
<Link id="l06928" /><CodeLine lineNumber="6928"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(Opcode, sdl, RetVT,</span></CodeLine>
<Link id="l06929" /><CodeLine lineNumber="6929"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0))));</span></CodeLine>
<Link id="l06930" /><CodeLine lineNumber="6930"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06931" /><CodeLine lineNumber="6931"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l06932" /><CodeLine lineNumber="6932"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::minnum:</span></CodeLine>
<Link id="l06933" /><CodeLine lineNumber="6933"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::FMINNUM, sdl,</span></CodeLine>
<Link id="l06934" /><CodeLine lineNumber="6934"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)).getValueType(),</span></CodeLine>
<Link id="l06935" /><CodeLine lineNumber="6935"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)),</span></CodeLine>
<Link id="l06936" /><CodeLine lineNumber="6936"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1)), Flags));</span></CodeLine>
<Link id="l06937" /><CodeLine lineNumber="6937"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06938" /><CodeLine lineNumber="6938"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::maxnum:</span></CodeLine>
<Link id="l06939" /><CodeLine lineNumber="6939"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::FMAXNUM, sdl,</span></CodeLine>
<Link id="l06940" /><CodeLine lineNumber="6940"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)).getValueType(),</span></CodeLine>
<Link id="l06941" /><CodeLine lineNumber="6941"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)),</span></CodeLine>
<Link id="l06942" /><CodeLine lineNumber="6942"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1)), Flags));</span></CodeLine>
<Link id="l06943" /><CodeLine lineNumber="6943"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06944" /><CodeLine lineNumber="6944"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::minimum:</span></CodeLine>
<Link id="l06945" /><CodeLine lineNumber="6945"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::FMINIMUM, sdl,</span></CodeLine>
<Link id="l06946" /><CodeLine lineNumber="6946"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)).getValueType(),</span></CodeLine>
<Link id="l06947" /><CodeLine lineNumber="6947"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)),</span></CodeLine>
<Link id="l06948" /><CodeLine lineNumber="6948"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1)), Flags));</span></CodeLine>
<Link id="l06949" /><CodeLine lineNumber="6949"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06950" /><CodeLine lineNumber="6950"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::maximum:</span></CodeLine>
<Link id="l06951" /><CodeLine lineNumber="6951"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::FMAXIMUM, sdl,</span></CodeLine>
<Link id="l06952" /><CodeLine lineNumber="6952"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)).getValueType(),</span></CodeLine>
<Link id="l06953" /><CodeLine lineNumber="6953"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)),</span></CodeLine>
<Link id="l06954" /><CodeLine lineNumber="6954"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1)), Flags));</span></CodeLine>
<Link id="l06955" /><CodeLine lineNumber="6955"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06956" /><CodeLine lineNumber="6956"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::minimumnum:</span></CodeLine>
<Link id="l06957" /><CodeLine lineNumber="6957"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::FMINIMUMNUM, sdl,</span></CodeLine>
<Link id="l06958" /><CodeLine lineNumber="6958"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)).getValueType(),</span></CodeLine>
<Link id="l06959" /><CodeLine lineNumber="6959"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)),</span></CodeLine>
<Link id="l06960" /><CodeLine lineNumber="6960"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1)), Flags));</span></CodeLine>
<Link id="l06961" /><CodeLine lineNumber="6961"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06962" /><CodeLine lineNumber="6962"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::maximumnum:</span></CodeLine>
<Link id="l06963" /><CodeLine lineNumber="6963"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::FMAXIMUMNUM, sdl,</span></CodeLine>
<Link id="l06964" /><CodeLine lineNumber="6964"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)).getValueType(),</span></CodeLine>
<Link id="l06965" /><CodeLine lineNumber="6965"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)),</span></CodeLine>
<Link id="l06966" /><CodeLine lineNumber="6966"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1)), Flags));</span></CodeLine>
<Link id="l06967" /><CodeLine lineNumber="6967"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06968" /><CodeLine lineNumber="6968"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::copysign:</span></CodeLine>
<Link id="l06969" /><CodeLine lineNumber="6969"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110aeffc3319657e213a530ce583603f7221">ISD::FCOPYSIGN</a>, sdl,</span></CodeLine>
<Link id="l06970" /><CodeLine lineNumber="6970"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)).getValueType(),</span></CodeLine>
<Link id="l06971" /><CodeLine lineNumber="6971"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)),</span></CodeLine>
<Link id="l06972" /><CodeLine lineNumber="6972"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1)), Flags));</span></CodeLine>
<Link id="l06973" /><CodeLine lineNumber="6973"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06974" /><CodeLine lineNumber="6974"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::ldexp:</span></CodeLine>
<Link id="l06975" /><CodeLine lineNumber="6975"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::FLDEXP, sdl,</span></CodeLine>
<Link id="l06976" /><CodeLine lineNumber="6976"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)).getValueType(),</span></CodeLine>
<Link id="l06977" /><CodeLine lineNumber="6977"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)),</span></CodeLine>
<Link id="l06978" /><CodeLine lineNumber="6978"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1)), Flags));</span></CodeLine>
<Link id="l06979" /><CodeLine lineNumber="6979"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06980" /><CodeLine lineNumber="6980"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::sincos:</span></CodeLine>
<Link id="l06981" /><CodeLine lineNumber="6981"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::frexp: &#123;</span></CodeLine>
<Link id="l06982" /><CodeLine lineNumber="6982"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> Opcode;</span></CodeLine>
<Link id="l06983" /><CodeLine lineNumber="6983"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">switch</span><span class="doxyHighlight"> (Intrinsic) &#123;</span></CodeLine>
<Link id="l06984" /><CodeLine lineNumber="6984"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">default</span><span class="doxyHighlight">:</span></CodeLine>
<Link id="l06985" /><CodeLine lineNumber="6985"><span class="doxyHighlight">      <a href="/docs/api/files/include/include/llvm/include/llvm/support/errorhandling-h/#ace243f5c25697a1107cce46626b3dc94">llvm&#95;unreachable</a>(</span><span class="doxyHighlightStringLiteral">&quot;unexpected intrinsic&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l06986" /><CodeLine lineNumber="6986"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::sincos:</span></CodeLine>
<Link id="l06987" /><CodeLine lineNumber="6987"><span class="doxyHighlight">      Opcode = ISD::FSINCOS;</span></CodeLine>
<Link id="l06988" /><CodeLine lineNumber="6988"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06989" /><CodeLine lineNumber="6989"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::frexp:</span></CodeLine>
<Link id="l06990" /><CodeLine lineNumber="6990"><span class="doxyHighlight">      Opcode = ISD::FFREXP;</span></CodeLine>
<Link id="l06991" /><CodeLine lineNumber="6991"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06992" /><CodeLine lineNumber="6992"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l06993" /><CodeLine lineNumber="6993"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;EVT, 2&gt;</a> ValueVTs;</span></CodeLine>
<Link id="l06994" /><CodeLine lineNumber="6994"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/#ab99618b3d8988b758a67f5a1a6071095">ComputeValueVTs</a>(TLI, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType(), ValueVTs);</span></CodeLine>
<Link id="l06995" /><CodeLine lineNumber="6995"><span class="doxyHighlight">    SDVTList VTs = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVTList(ValueVTs);</span></CodeLine>
<Link id="l06996" /><CodeLine lineNumber="6996"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(</span></CodeLine>
<Link id="l06997" /><CodeLine lineNumber="6997"><span class="doxyHighlight">        &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(Opcode, sdl, VTs, <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)), Flags));</span></CodeLine>
<Link id="l06998" /><CodeLine lineNumber="6998"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l06999" /><CodeLine lineNumber="6999"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07000" /><CodeLine lineNumber="7000"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::arithmetic&#95;fence: &#123;</span></CodeLine>
<Link id="l07001" /><CodeLine lineNumber="7001"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::ARITH&#95;FENCE, sdl,</span></CodeLine>
<Link id="l07002" /><CodeLine lineNumber="7002"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)).getValueType(),</span></CodeLine>
<Link id="l07003" /><CodeLine lineNumber="7003"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)), Flags));</span></CodeLine>
<Link id="l07004" /><CodeLine lineNumber="7004"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07005" /><CodeLine lineNumber="7005"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07006" /><CodeLine lineNumber="7006"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::fma:</span></CodeLine>
<Link id="l07007" /><CodeLine lineNumber="7007"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(</span></CodeLine>
<Link id="l07008" /><CodeLine lineNumber="7008"><span class="doxyHighlight">                     <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a293ca68b3b2ce80eef991de822822254">ISD::FMA</a>, sdl, <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)).getValueType(),</span></CodeLine>
<Link id="l07009" /><CodeLine lineNumber="7009"><span class="doxyHighlight">                     <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)), <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1)),</span></CodeLine>
<Link id="l07010" /><CodeLine lineNumber="7010"><span class="doxyHighlight">                     <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(2)), Flags));</span></CodeLine>
<Link id="l07011" /><CodeLine lineNumber="7011"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07012" /><CodeLine lineNumber="7012"><span class="doxyHighlightPreprocessor">#define INSTRUCTION(NAME, NARG, ROUND&#95;MODE, INTRINSIC)                         \\</span></CodeLine>
<Link id="l07013" /><CodeLine lineNumber="7013"><span class="doxyHighlightPreprocessor">  case Intrinsic::INTRINSIC:</span></CodeLine>
<Link id="l07014" /><CodeLine lineNumber="7014"><span class="doxyHighlightPreprocessor">#include &quot;llvm/IR/ConstrainedOps.def&quot;</span></CodeLine>
<Link id="l07015" /><CodeLine lineNumber="7015"><span class="doxyHighlight">    visitConstrainedFPIntrinsic(<a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;ConstrainedFPIntrinsic&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</span></CodeLine>
<Link id="l07016" /><CodeLine lineNumber="7016"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07017" /><CodeLine lineNumber="7017"><span class="doxyHighlightPreprocessor">#define BEGIN&#95;REGISTER&#95;VP&#95;INTRINSIC(VPID, ...) case Intrinsic::VPID:</span></CodeLine>
<Link id="l07018" /><CodeLine lineNumber="7018"><span class="doxyHighlightPreprocessor">#include &quot;llvm/IR/VPIntrinsics.def&quot;</span></CodeLine>
<Link id="l07019" /><CodeLine lineNumber="7019"><span class="doxyHighlight">    visitVectorPredicationIntrinsic(<a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;VPIntrinsic&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</span></CodeLine>
<Link id="l07020" /><CodeLine lineNumber="7020"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07021" /><CodeLine lineNumber="7021"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::fptrunc&#95;round: &#123;</span></CodeLine>
<Link id="l07022" /><CodeLine lineNumber="7022"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Get the last argument, the metadata and convert it to an integer in the</span></CodeLine>
<Link id="l07023" /><CodeLine lineNumber="7023"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// call</span></CodeLine>
<Link id="l07024" /><CodeLine lineNumber="7024"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/directx/dxiltranslatemetadata-cpp/#a26b689be9525270658579553e0adfec1">Metadata</a> &#42;MD = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;MetadataAsValue&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1))-&gt;getMetadata();</span></CodeLine>
<Link id="l07025" /><CodeLine lineNumber="7025"><span class="doxyHighlight">    std::optional&lt;RoundingMode&gt; RoundMode =</span></CodeLine>
<Link id="l07026" /><CodeLine lineNumber="7026"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/#ac8070537f4f31ef2b969d570ee70d6fa">convertStrToRoundingMode</a>(<a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;MDString&gt;</a>(MD)-&gt;getString());</span></CodeLine>
<Link id="l07027" /><CodeLine lineNumber="7027"></CodeLine>
<Link id="l07028" /><CodeLine lineNumber="7028"><span class="doxyHighlight">    EVT VT = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType());</span></CodeLine>
<Link id="l07029" /><CodeLine lineNumber="7029"></CodeLine>
<Link id="l07030" /><CodeLine lineNumber="7030"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Propagate fast-math-flags from IR to node(s).</span></CodeLine>
<Link id="l07031" /><CodeLine lineNumber="7031"><span class="doxyHighlight">    SDNodeFlags <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>;</span></CodeLine>
<Link id="l07032" /><CodeLine lineNumber="7032"><span class="doxyHighlight">    <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.copyFMF(&#42;<a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;FPMathOperator&gt;</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</span></CodeLine>
<Link id="l07033" /><CodeLine lineNumber="7033"><span class="doxyHighlight">    SelectionDAG::FlagInserter FlagsInserter(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>, Flags);</span></CodeLine>
<Link id="l07034" /><CodeLine lineNumber="7034"></CodeLine>
<Link id="l07035" /><CodeLine lineNumber="7035"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/ms-demangle/#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>;</span></CodeLine>
<Link id="l07036" /><CodeLine lineNumber="7036"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/ms-demangle/#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(</span></CodeLine>
<Link id="l07037" /><CodeLine lineNumber="7037"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a40b296b7db128b2d63f81a95efc5a311">ISD::FPTRUNC&#95;ROUND</a>, sdl, VT, <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)),</span></CodeLine>
<Link id="l07038" /><CodeLine lineNumber="7038"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetConstant((</span><span class="doxyHighlightKeywordType">int</span><span class="doxyHighlight">)&#42;RoundMode, sdl, MVT::i32));</span></CodeLine>
<Link id="l07039" /><CodeLine lineNumber="7039"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Result);</span></CodeLine>
<Link id="l07040" /><CodeLine lineNumber="7040"></CodeLine>
<Link id="l07041" /><CodeLine lineNumber="7041"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07042" /><CodeLine lineNumber="7042"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07043" /><CodeLine lineNumber="7043"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::fmuladd: &#123;</span></CodeLine>
<Link id="l07044" /><CodeLine lineNumber="7044"><span class="doxyHighlight">    EVT VT = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType());</span></CodeLine>
<Link id="l07045" /><CodeLine lineNumber="7045"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (TM.Options.AllowFPOpFusion != <a href="/docs/api/namespaces/llvm/fpopfusion/#a9c71bae9f02af273833fde586d529fc5a451b4af21652249f72a40a7f9b88ca4f">FPOpFusion::Strict</a> &amp;&amp;</span></CodeLine>
<Link id="l07046" /><CodeLine lineNumber="7046"><span class="doxyHighlight">        TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a01e67f27ae5f75164e2591e9024df6ec">isFMAFasterThanFMulAndFAdd</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMachineFunction(), VT)) &#123;</span></CodeLine>
<Link id="l07047" /><CodeLine lineNumber="7047"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a293ca68b3b2ce80eef991de822822254">ISD::FMA</a>, sdl,</span></CodeLine>
<Link id="l07048" /><CodeLine lineNumber="7048"><span class="doxyHighlight">                               <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)).getValueType(),</span></CodeLine>
<Link id="l07049" /><CodeLine lineNumber="7049"><span class="doxyHighlight">                               <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)),</span></CodeLine>
<Link id="l07050" /><CodeLine lineNumber="7050"><span class="doxyHighlight">                               <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1)),</span></CodeLine>
<Link id="l07051" /><CodeLine lineNumber="7051"><span class="doxyHighlight">                               <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(2)), Flags));</span></CodeLine>
<Link id="l07052" /><CodeLine lineNumber="7052"><span class="doxyHighlight">    &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l07053" /><CodeLine lineNumber="7053"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// TODO: Intrinsic calls should have fast-math-flags.</span></CodeLine>
<Link id="l07054" /><CodeLine lineNumber="7054"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/#aac36edd0f1ce976f0025c98e88d3830ea62b6d55816cf737bfc6f42e60df1a3f2">Mul</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(</span></CodeLine>
<Link id="l07055" /><CodeLine lineNumber="7055"><span class="doxyHighlight">          <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, sdl, <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)).<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>(),</span></CodeLine>
<Link id="l07056" /><CodeLine lineNumber="7056"><span class="doxyHighlight">          <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)), <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1)), Flags);</span></CodeLine>
<Link id="l07057" /><CodeLine lineNumber="7057"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/#aac36edd0f1ce976f0025c98e88d3830eaec211f7c20af43e742bf2570c3cb84f9">Add</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf">ISD::FADD</a>, sdl,</span></CodeLine>
<Link id="l07058" /><CodeLine lineNumber="7058"><span class="doxyHighlight">                                <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)).<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>(),</span></CodeLine>
<Link id="l07059" /><CodeLine lineNumber="7059"><span class="doxyHighlight">                                <a href="/docs/api/namespaces/llvm/#aac36edd0f1ce976f0025c98e88d3830ea62b6d55816cf737bfc6f42e60df1a3f2">Mul</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(2)), Flags);</span></CodeLine>
<Link id="l07060" /><CodeLine lineNumber="7060"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/namespaces/llvm/#aac36edd0f1ce976f0025c98e88d3830eaec211f7c20af43e742bf2570c3cb84f9">Add</a>);</span></CodeLine>
<Link id="l07061" /><CodeLine lineNumber="7061"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l07062" /><CodeLine lineNumber="7062"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07063" /><CodeLine lineNumber="7063"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07064" /><CodeLine lineNumber="7064"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::convert&#95;to&#95;fp16:</span></CodeLine>
<Link id="l07065" /><CodeLine lineNumber="7065"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::BITCAST, sdl, MVT::i16,</span></CodeLine>
<Link id="l07066" /><CodeLine lineNumber="7066"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110adaf9a3cb5c2ef5eb713bd6bf4ae23aeb">ISD::FP&#95;ROUND</a>, sdl, MVT::f16,</span></CodeLine>
<Link id="l07067" /><CodeLine lineNumber="7067"><span class="doxyHighlight">                                         <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)),</span></CodeLine>
<Link id="l07068" /><CodeLine lineNumber="7068"><span class="doxyHighlight">                                         <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetConstant(0, sdl,</span></CodeLine>
<Link id="l07069" /><CodeLine lineNumber="7069"><span class="doxyHighlight">                                                               MVT::i32))));</span></CodeLine>
<Link id="l07070" /><CodeLine lineNumber="7070"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07071" /><CodeLine lineNumber="7071"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::convert&#95;from&#95;fp16:</span></CodeLine>
<Link id="l07072" /><CodeLine lineNumber="7072"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::FP&#95;EXTEND, sdl,</span></CodeLine>
<Link id="l07073" /><CodeLine lineNumber="7073"><span class="doxyHighlight">                             TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType()),</span></CodeLine>
<Link id="l07074" /><CodeLine lineNumber="7074"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::BITCAST, sdl, MVT::f16,</span></CodeLine>
<Link id="l07075" /><CodeLine lineNumber="7075"><span class="doxyHighlight">                                         <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)))));</span></CodeLine>
<Link id="l07076" /><CodeLine lineNumber="7076"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07077" /><CodeLine lineNumber="7077"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::fptosi&#95;sat: &#123;</span></CodeLine>
<Link id="l07078" /><CodeLine lineNumber="7078"><span class="doxyHighlight">    EVT VT = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType());</span></CodeLine>
<Link id="l07079" /><CodeLine lineNumber="7079"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110ae4a4e2126c6db34e2dfd71b6bd0408ee">ISD::FP&#95;TO&#95;SINT&#95;SAT</a>, sdl, VT,</span></CodeLine>
<Link id="l07080" /><CodeLine lineNumber="7080"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)),</span></CodeLine>
<Link id="l07081" /><CodeLine lineNumber="7081"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getValueType(VT.<a href="/docs/api/structs/llvm/evt/#aa85c75e8eb097f02caeb5b9119eebfef">getScalarType</a>())));</span></CodeLine>
<Link id="l07082" /><CodeLine lineNumber="7082"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07083" /><CodeLine lineNumber="7083"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07084" /><CodeLine lineNumber="7084"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::fptoui&#95;sat: &#123;</span></CodeLine>
<Link id="l07085" /><CodeLine lineNumber="7085"><span class="doxyHighlight">    EVT VT = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType());</span></CodeLine>
<Link id="l07086" /><CodeLine lineNumber="7086"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a98661814400e72a77f5ed4e088c06937">ISD::FP&#95;TO&#95;UINT&#95;SAT</a>, sdl, VT,</span></CodeLine>
<Link id="l07087" /><CodeLine lineNumber="7087"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)),</span></CodeLine>
<Link id="l07088" /><CodeLine lineNumber="7088"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getValueType(VT.<a href="/docs/api/structs/llvm/evt/#aa85c75e8eb097f02caeb5b9119eebfef">getScalarType</a>())));</span></CodeLine>
<Link id="l07089" /><CodeLine lineNumber="7089"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07090" /><CodeLine lineNumber="7090"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07091" /><CodeLine lineNumber="7091"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::set&#95;rounding:</span></CodeLine>
<Link id="l07092" /><CodeLine lineNumber="7092"><span class="doxyHighlight">    Res = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::SET&#95;ROUNDING, sdl, MVT::Other,</span></CodeLine>
<Link id="l07093" /><CodeLine lineNumber="7093"><span class="doxyHighlight">                      &#123;<a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>(), <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0))&#125;);</span></CodeLine>
<Link id="l07094" /><CodeLine lineNumber="7094"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Res);</span></CodeLine>
<Link id="l07095" /><CodeLine lineNumber="7095"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(Res.<a href="/docs/api/classes/llvm/sdvalue/#a64932427432abeb61241e98bea167580">getValue</a>(0));</span></CodeLine>
<Link id="l07096" /><CodeLine lineNumber="7096"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07097" /><CodeLine lineNumber="7097"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::is&#95;fpclass: &#123;</span></CodeLine>
<Link id="l07098" /><CodeLine lineNumber="7098"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> DataLayout DLayout = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout();</span></CodeLine>
<Link id="l07099" /><CodeLine lineNumber="7099"><span class="doxyHighlight">    EVT DestVT = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(DLayout, <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType());</span></CodeLine>
<Link id="l07100" /><CodeLine lineNumber="7100"><span class="doxyHighlight">    EVT ArgVT = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(DLayout, <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)-&gt;getType());</span></CodeLine>
<Link id="l07101" /><CodeLine lineNumber="7101"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/#a76921eddf6329af860916f3278ef1d1d">FPClassTest</a> <a href="/docs/api/namespaces/llvm/#aec7c967a5416fa6e154433965357a50ea0cbc6611f5540bd0809a388dc95a615b">Test</a> = </span><span class="doxyHighlightKeyword">static&#95;cast&lt;</span><span class="doxyHighlight"><a href="/docs/api/namespaces/llvm/#a76921eddf6329af860916f3278ef1d1d">FPClassTest</a></span><span class="doxyHighlightKeyword">&gt;</span><span class="doxyHighlight">(</span></CodeLine>
<Link id="l07102" /><CodeLine lineNumber="7102"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;ConstantInt&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1))-&gt;getZExtValue());</span></CodeLine>
<Link id="l07103" /><CodeLine lineNumber="7103"><span class="doxyHighlight">    MachineFunction &amp;MF = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMachineFunction();</span></CodeLine>
<Link id="l07104" /><CodeLine lineNumber="7104"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/codeview/#adfebd8c4ae29ccd84c600c1e65d6b807a86408593c34af77fdd90df932f8b5261">Function</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = MF.<a href="/docs/api/classes/llvm/machinefunction/#a977ddce262de45c645be23d951066351">getFunction</a>();</span></CodeLine>
<Link id="l07105" /><CodeLine lineNumber="7105"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0));</span></CodeLine>
<Link id="l07106" /><CodeLine lineNumber="7106"><span class="doxyHighlight">    SDNodeFlags <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>;</span></CodeLine>
<Link id="l07107" /><CodeLine lineNumber="7107"><span class="doxyHighlight">    <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setNoFPExcept(</span></CodeLine>
<Link id="l07108" /><CodeLine lineNumber="7108"><span class="doxyHighlight">        !<a href="/docs/api/files/lib/lib/support/md5-cpp/#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getAttributes().hasFnAttr(llvm::Attribute::StrictFP));</span></CodeLine>
<Link id="l07109" /><CodeLine lineNumber="7109"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// If ISD::IS&#95;FPCLASS should be expanded, do it right now, because the</span></CodeLine>
<Link id="l07110" /><CodeLine lineNumber="7110"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// expansion can use illegal types. Making expansion early allows</span></CodeLine>
<Link id="l07111" /><CodeLine lineNumber="7111"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// legalizing these types prior to selection.</span></CodeLine>
<Link id="l07112" /><CodeLine lineNumber="7112"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a9245ed740fe76aaad3e5b0650da21c98">isOperationLegal</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a76b6d3008e806ea613323ff316ef72c3">ISD::IS&#95;FPCLASS</a>, ArgVT) &amp;&amp;</span></CodeLine>
<Link id="l07113" /><CodeLine lineNumber="7113"><span class="doxyHighlight">        !TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a657b27286b37057f0fdf1af3e43bc890">isOperationCustom</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a76b6d3008e806ea613323ff316ef72c3">ISD::IS&#95;FPCLASS</a>, ArgVT)) &#123;</span></CodeLine>
<Link id="l07114" /><CodeLine lineNumber="7114"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/ms-demangle/#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = TLI.<a href="/docs/api/classes/llvm/targetlowering/#ada1945ca82da7a7861f21485db1994c9">expandIS&#95;FPCLASS</a>(DestVT, <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>, <a href="/docs/api/namespaces/llvm/#aec7c967a5416fa6e154433965357a50ea0cbc6611f5540bd0809a388dc95a615b">Test</a>, Flags, sdl, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>);</span></CodeLine>
<Link id="l07115" /><CodeLine lineNumber="7115"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Result);</span></CodeLine>
<Link id="l07116" /><CodeLine lineNumber="7116"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07117" /><CodeLine lineNumber="7117"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l07118" /><CodeLine lineNumber="7118"></CodeLine>
<Link id="l07119" /><CodeLine lineNumber="7119"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/include/include/llvm/include/llvm/ir/genericconvergenceverifierimpl-h/#a2bb73b5d562083dde29e9091dd81bef3">Check</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetConstant(<a href="/docs/api/namespaces/llvm/#aec7c967a5416fa6e154433965357a50ea0cbc6611f5540bd0809a388dc95a615b">Test</a>, sdl, MVT::i32);</span></CodeLine>
<Link id="l07120" /><CodeLine lineNumber="7120"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/m68k/#ab3a288f2953d8eca3e363959fc2cf38ea5206560a306a2e085a437fd258eb57ce">V</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a76b6d3008e806ea613323ff316ef72c3">ISD::IS&#95;FPCLASS</a>, sdl, DestVT, &#123;<a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>, <a href="/docs/api/files/include/include/llvm/include/llvm/ir/genericconvergenceverifierimpl-h/#a2bb73b5d562083dde29e9091dd81bef3">Check</a>&#125;, <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>);</span></CodeLine>
<Link id="l07121" /><CodeLine lineNumber="7121"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, V);</span></CodeLine>
<Link id="l07122" /><CodeLine lineNumber="7122"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07123" /><CodeLine lineNumber="7123"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07124" /><CodeLine lineNumber="7124"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::get&#95;fpenv: &#123;</span></CodeLine>
<Link id="l07125" /><CodeLine lineNumber="7125"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> DataLayout DLayout = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout();</span></CodeLine>
<Link id="l07126" /><CodeLine lineNumber="7126"><span class="doxyHighlight">    EVT EnvVT = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(DLayout, <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType());</span></CodeLine>
<Link id="l07127" /><CodeLine lineNumber="7127"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/arg/key/#a6b334a5f83504ebc99cc59f4f333ff98">Align</a> TempAlign = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getEVTAlign(EnvVT);</span></CodeLine>
<Link id="l07128" /><CodeLine lineNumber="7128"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/anonymous-loadstorevectorizer-cpp-/#afd1adfcbfce320e6265935ce4d6299a3">Chain</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>();</span></CodeLine>
<Link id="l07129" /><CodeLine lineNumber="7129"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Use GET&#95;FPENV if it is legal or custom. Otherwise use memory-based node</span></CodeLine>
<Link id="l07130" /><CodeLine lineNumber="7130"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// and temporary storage in stack.</span></CodeLine>
<Link id="l07131" /><CodeLine lineNumber="7131"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(ISD::GET&#95;FPENV, EnvVT)) &#123;</span></CodeLine>
<Link id="l07132" /><CodeLine lineNumber="7132"><span class="doxyHighlight">      Res = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(</span></CodeLine>
<Link id="l07133" /><CodeLine lineNumber="7133"><span class="doxyHighlight">          ISD::GET&#95;FPENV, sdl,</span></CodeLine>
<Link id="l07134" /><CodeLine lineNumber="7134"><span class="doxyHighlight">          <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVTList(TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType()),</span></CodeLine>
<Link id="l07135" /><CodeLine lineNumber="7135"><span class="doxyHighlight">                        MVT::Other),</span></CodeLine>
<Link id="l07136" /><CodeLine lineNumber="7136"><span class="doxyHighlight">          Chain);</span></CodeLine>
<Link id="l07137" /><CodeLine lineNumber="7137"><span class="doxyHighlight">    &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l07138" /><CodeLine lineNumber="7138"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Temp = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.CreateStackTemporary(EnvVT, TempAlign.<a href="/docs/api/structs/llvm/align/#a80735739b49cf97a491922c8f9af2cc1">value</a>());</span></CodeLine>
<Link id="l07139" /><CodeLine lineNumber="7139"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordType">int</span><span class="doxyHighlight"> SPFI = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;FrameIndexSDNode&gt;</a>(Temp.<a href="/docs/api/classes/llvm/sdvalue/#a2b08aa629a6326d1a0444ee6d477c39d">getNode</a>())-&gt;getIndex();</span></CodeLine>
<Link id="l07140" /><CodeLine lineNumber="7140"><span class="doxyHighlight">      </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> MPI =</span></CodeLine>
<Link id="l07141" /><CodeLine lineNumber="7141"><span class="doxyHighlight">          <a href="/docs/api/structs/llvm/machinepointerinfo/#ad8ce1aee13dbdcc05d20284a30e83170">MachinePointerInfo::getFixedStack</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMachineFunction(), SPFI);</span></CodeLine>
<Link id="l07142" /><CodeLine lineNumber="7142"><span class="doxyHighlight">      MachineMemOperand &#42;MMO = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMachineFunction().getMachineMemOperand(</span></CodeLine>
<Link id="l07143" /><CodeLine lineNumber="7143"><span class="doxyHighlight">          MPI, <a href="/docs/api/classes/llvm/machinememoperand/#aaa2020e47e35179234b9ea27d555b2ddaed357b1367bc90a56fefa4d1b0e17374">MachineMemOperand::MOStore</a>, <a href="/docs/api/classes/llvm/locationsize/#a837cf7f4d88580c0adb92afc6a3b08b0">LocationSize::beforeOrAfterPointer</a>(),</span></CodeLine>
<Link id="l07144" /><CodeLine lineNumber="7144"><span class="doxyHighlight">          TempAlign);</span></CodeLine>
<Link id="l07145" /><CodeLine lineNumber="7145"><span class="doxyHighlight">      <a href="/docs/api/namespaces/anonymous-loadstorevectorizer-cpp-/#afd1adfcbfce320e6265935ce4d6299a3">Chain</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getGetFPEnv(Chain, sdl, Temp, EnvVT, MMO);</span></CodeLine>
<Link id="l07146" /><CodeLine lineNumber="7146"><span class="doxyHighlight">      Res = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getLoad(EnvVT, sdl, Chain, Temp, MPI);</span></CodeLine>
<Link id="l07147" /><CodeLine lineNumber="7147"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l07148" /><CodeLine lineNumber="7148"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Res);</span></CodeLine>
<Link id="l07149" /><CodeLine lineNumber="7149"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(Res.<a href="/docs/api/classes/llvm/sdvalue/#a64932427432abeb61241e98bea167580">getValue</a>(1));</span></CodeLine>
<Link id="l07150" /><CodeLine lineNumber="7150"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07151" /><CodeLine lineNumber="7151"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07152" /><CodeLine lineNumber="7152"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::set&#95;fpenv: &#123;</span></CodeLine>
<Link id="l07153" /><CodeLine lineNumber="7153"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> DataLayout DLayout = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout();</span></CodeLine>
<Link id="l07154" /><CodeLine lineNumber="7154"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Env = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0));</span></CodeLine>
<Link id="l07155" /><CodeLine lineNumber="7155"><span class="doxyHighlight">    EVT EnvVT = Env.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>();</span></CodeLine>
<Link id="l07156" /><CodeLine lineNumber="7156"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/arg/key/#a6b334a5f83504ebc99cc59f4f333ff98">Align</a> TempAlign = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getEVTAlign(EnvVT);</span></CodeLine>
<Link id="l07157" /><CodeLine lineNumber="7157"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/anonymous-loadstorevectorizer-cpp-/#afd1adfcbfce320e6265935ce4d6299a3">Chain</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>();</span></CodeLine>
<Link id="l07158" /><CodeLine lineNumber="7158"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// If SET&#95;FPENV is custom or legal, use it. Otherwise use loading</span></CodeLine>
<Link id="l07159" /><CodeLine lineNumber="7159"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// environment from memory.</span></CodeLine>
<Link id="l07160" /><CodeLine lineNumber="7160"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#aa93fbbc66d52a51d178af8ac4398ec05">isOperationLegalOrCustom</a>(ISD::SET&#95;FPENV, EnvVT)) &#123;</span></CodeLine>
<Link id="l07161" /><CodeLine lineNumber="7161"><span class="doxyHighlight">      <a href="/docs/api/namespaces/anonymous-loadstorevectorizer-cpp-/#afd1adfcbfce320e6265935ce4d6299a3">Chain</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::SET&#95;FPENV, sdl, MVT::Other, Chain, Env);</span></CodeLine>
<Link id="l07162" /><CodeLine lineNumber="7162"><span class="doxyHighlight">    &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l07163" /><CodeLine lineNumber="7163"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Allocate space in stack, copy environment bits into it and use this</span></CodeLine>
<Link id="l07164" /><CodeLine lineNumber="7164"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// memory in SET&#95;FPENV&#95;MEM.</span></CodeLine>
<Link id="l07165" /><CodeLine lineNumber="7165"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Temp = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.CreateStackTemporary(EnvVT, TempAlign.<a href="/docs/api/structs/llvm/align/#a80735739b49cf97a491922c8f9af2cc1">value</a>());</span></CodeLine>
<Link id="l07166" /><CodeLine lineNumber="7166"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordType">int</span><span class="doxyHighlight"> SPFI = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;FrameIndexSDNode&gt;</a>(Temp.<a href="/docs/api/classes/llvm/sdvalue/#a2b08aa629a6326d1a0444ee6d477c39d">getNode</a>())-&gt;getIndex();</span></CodeLine>
<Link id="l07167" /><CodeLine lineNumber="7167"><span class="doxyHighlight">      </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> MPI =</span></CodeLine>
<Link id="l07168" /><CodeLine lineNumber="7168"><span class="doxyHighlight">          <a href="/docs/api/structs/llvm/machinepointerinfo/#ad8ce1aee13dbdcc05d20284a30e83170">MachinePointerInfo::getFixedStack</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMachineFunction(), SPFI);</span></CodeLine>
<Link id="l07169" /><CodeLine lineNumber="7169"><span class="doxyHighlight">      <a href="/docs/api/namespaces/anonymous-loadstorevectorizer-cpp-/#afd1adfcbfce320e6265935ce4d6299a3">Chain</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getStore(Chain, sdl, Env, Temp, MPI, TempAlign,</span></CodeLine>
<Link id="l07170" /><CodeLine lineNumber="7170"><span class="doxyHighlight">                           <a href="/docs/api/classes/llvm/machinememoperand/#aaa2020e47e35179234b9ea27d555b2ddaed357b1367bc90a56fefa4d1b0e17374">MachineMemOperand::MOStore</a>);</span></CodeLine>
<Link id="l07171" /><CodeLine lineNumber="7171"><span class="doxyHighlight">      MachineMemOperand &#42;MMO = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMachineFunction().getMachineMemOperand(</span></CodeLine>
<Link id="l07172" /><CodeLine lineNumber="7172"><span class="doxyHighlight">          MPI, <a href="/docs/api/classes/llvm/machinememoperand/#aaa2020e47e35179234b9ea27d555b2dda7d12be6206e5b0026c71bbcd5cb76494">MachineMemOperand::MOLoad</a>, <a href="/docs/api/classes/llvm/locationsize/#a837cf7f4d88580c0adb92afc6a3b08b0">LocationSize::beforeOrAfterPointer</a>(),</span></CodeLine>
<Link id="l07173" /><CodeLine lineNumber="7173"><span class="doxyHighlight">          TempAlign);</span></CodeLine>
<Link id="l07174" /><CodeLine lineNumber="7174"><span class="doxyHighlight">      <a href="/docs/api/namespaces/anonymous-loadstorevectorizer-cpp-/#afd1adfcbfce320e6265935ce4d6299a3">Chain</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSetFPEnv(Chain, sdl, Temp, EnvVT, MMO);</span></CodeLine>
<Link id="l07175" /><CodeLine lineNumber="7175"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l07176" /><CodeLine lineNumber="7176"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(Chain);</span></CodeLine>
<Link id="l07177" /><CodeLine lineNumber="7177"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07178" /><CodeLine lineNumber="7178"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07179" /><CodeLine lineNumber="7179"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::reset&#95;fpenv:</span></CodeLine>
<Link id="l07180" /><CodeLine lineNumber="7180"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::RESET&#95;FPENV, sdl, MVT::Other, <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>()));</span></CodeLine>
<Link id="l07181" /><CodeLine lineNumber="7181"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07182" /><CodeLine lineNumber="7182"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::get&#95;fpmode:</span></CodeLine>
<Link id="l07183" /><CodeLine lineNumber="7183"><span class="doxyHighlight">    Res = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(</span></CodeLine>
<Link id="l07184" /><CodeLine lineNumber="7184"><span class="doxyHighlight">        ISD::GET&#95;FPMODE, sdl,</span></CodeLine>
<Link id="l07185" /><CodeLine lineNumber="7185"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVTList(TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType()),</span></CodeLine>
<Link id="l07186" /><CodeLine lineNumber="7186"><span class="doxyHighlight">                      MVT::Other),</span></CodeLine>
<Link id="l07187" /><CodeLine lineNumber="7187"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getRoot());</span></CodeLine>
<Link id="l07188" /><CodeLine lineNumber="7188"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Res);</span></CodeLine>
<Link id="l07189" /><CodeLine lineNumber="7189"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(Res.<a href="/docs/api/classes/llvm/sdvalue/#a64932427432abeb61241e98bea167580">getValue</a>(1));</span></CodeLine>
<Link id="l07190" /><CodeLine lineNumber="7190"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07191" /><CodeLine lineNumber="7191"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::set&#95;fpmode:</span></CodeLine>
<Link id="l07192" /><CodeLine lineNumber="7192"><span class="doxyHighlight">    Res = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::SET&#95;FPMODE, sdl, MVT::Other, &#123;<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getRoot()&#125;,</span></CodeLine>
<Link id="l07193" /><CodeLine lineNumber="7193"><span class="doxyHighlight">                      <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)));</span></CodeLine>
<Link id="l07194" /><CodeLine lineNumber="7194"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(Res);</span></CodeLine>
<Link id="l07195" /><CodeLine lineNumber="7195"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07196" /><CodeLine lineNumber="7196"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::reset&#95;fpmode: &#123;</span></CodeLine>
<Link id="l07197" /><CodeLine lineNumber="7197"><span class="doxyHighlight">    Res = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::RESET&#95;FPMODE, sdl, MVT::Other, <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>());</span></CodeLine>
<Link id="l07198" /><CodeLine lineNumber="7198"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(Res);</span></CodeLine>
<Link id="l07199" /><CodeLine lineNumber="7199"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07200" /><CodeLine lineNumber="7200"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07201" /><CodeLine lineNumber="7201"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::pcmarker: &#123;</span></CodeLine>
<Link id="l07202" /><CodeLine lineNumber="7202"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Tmp = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0));</span></CodeLine>
<Link id="l07203" /><CodeLine lineNumber="7203"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::PCMARKER, sdl, MVT::Other, <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>(), Tmp));</span></CodeLine>
<Link id="l07204" /><CodeLine lineNumber="7204"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07205" /><CodeLine lineNumber="7205"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07206" /><CodeLine lineNumber="7206"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::readcyclecounter: &#123;</span></CodeLine>
<Link id="l07207" /><CodeLine lineNumber="7207"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>();</span></CodeLine>
<Link id="l07208" /><CodeLine lineNumber="7208"><span class="doxyHighlight">    Res = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::READCYCLECOUNTER, sdl,</span></CodeLine>
<Link id="l07209" /><CodeLine lineNumber="7209"><span class="doxyHighlight">                      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVTList(MVT::i64, MVT::Other), <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>);</span></CodeLine>
<Link id="l07210" /><CodeLine lineNumber="7210"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Res);</span></CodeLine>
<Link id="l07211" /><CodeLine lineNumber="7211"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(Res.<a href="/docs/api/classes/llvm/sdvalue/#a64932427432abeb61241e98bea167580">getValue</a>(1));</span></CodeLine>
<Link id="l07212" /><CodeLine lineNumber="7212"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07213" /><CodeLine lineNumber="7213"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07214" /><CodeLine lineNumber="7214"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::readsteadycounter: &#123;</span></CodeLine>
<Link id="l07215" /><CodeLine lineNumber="7215"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>();</span></CodeLine>
<Link id="l07216" /><CodeLine lineNumber="7216"><span class="doxyHighlight">    Res = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::READSTEADYCOUNTER, sdl,</span></CodeLine>
<Link id="l07217" /><CodeLine lineNumber="7217"><span class="doxyHighlight">                      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVTList(MVT::i64, MVT::Other), <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>);</span></CodeLine>
<Link id="l07218" /><CodeLine lineNumber="7218"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Res);</span></CodeLine>
<Link id="l07219" /><CodeLine lineNumber="7219"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(Res.<a href="/docs/api/classes/llvm/sdvalue/#a64932427432abeb61241e98bea167580">getValue</a>(1));</span></CodeLine>
<Link id="l07220" /><CodeLine lineNumber="7220"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07221" /><CodeLine lineNumber="7221"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07222" /><CodeLine lineNumber="7222"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::bitreverse:</span></CodeLine>
<Link id="l07223" /><CodeLine lineNumber="7223"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110aeea401cc0b7fa5aa6f4d3a0612140e1d">ISD::BITREVERSE</a>, sdl,</span></CodeLine>
<Link id="l07224" /><CodeLine lineNumber="7224"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)).getValueType(),</span></CodeLine>
<Link id="l07225" /><CodeLine lineNumber="7225"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0))));</span></CodeLine>
<Link id="l07226" /><CodeLine lineNumber="7226"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07227" /><CodeLine lineNumber="7227"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::bswap:</span></CodeLine>
<Link id="l07228" /><CodeLine lineNumber="7228"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a19328c462764af5f4699fb1698dad994">ISD::BSWAP</a>, sdl,</span></CodeLine>
<Link id="l07229" /><CodeLine lineNumber="7229"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)).getValueType(),</span></CodeLine>
<Link id="l07230" /><CodeLine lineNumber="7230"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0))));</span></CodeLine>
<Link id="l07231" /><CodeLine lineNumber="7231"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07232" /><CodeLine lineNumber="7232"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::cttz: &#123;</span></CodeLine>
<Link id="l07233" /><CodeLine lineNumber="7233"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Arg = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0));</span></CodeLine>
<Link id="l07234" /><CodeLine lineNumber="7234"><span class="doxyHighlight">    ConstantInt &#42;CI = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;ConstantInt&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1));</span></CodeLine>
<Link id="l07235" /><CodeLine lineNumber="7235"><span class="doxyHighlight">    EVT Ty = Arg.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>();</span></CodeLine>
<Link id="l07236" /><CodeLine lineNumber="7236"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(CI-&gt;<a href="/docs/api/classes/llvm/constantint/#a882d55a6aa2028e1a5ad708b275334e0">isZero</a>() ? <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a6da41a113af0909470baea7486b3386b">ISD::CTTZ</a> : <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a601e66a26efd05520f7cb26aef3af340">ISD::CTTZ&#95;ZERO&#95;UNDEF</a>,</span></CodeLine>
<Link id="l07237" /><CodeLine lineNumber="7237"><span class="doxyHighlight">                             sdl, Ty, Arg));</span></CodeLine>
<Link id="l07238" /><CodeLine lineNumber="7238"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07239" /><CodeLine lineNumber="7239"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07240" /><CodeLine lineNumber="7240"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::ctlz: &#123;</span></CodeLine>
<Link id="l07241" /><CodeLine lineNumber="7241"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Arg = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0));</span></CodeLine>
<Link id="l07242" /><CodeLine lineNumber="7242"><span class="doxyHighlight">    ConstantInt &#42;CI = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;ConstantInt&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1));</span></CodeLine>
<Link id="l07243" /><CodeLine lineNumber="7243"><span class="doxyHighlight">    EVT Ty = Arg.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>();</span></CodeLine>
<Link id="l07244" /><CodeLine lineNumber="7244"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(CI-&gt;<a href="/docs/api/classes/llvm/constantint/#a882d55a6aa2028e1a5ad708b275334e0">isZero</a>() ? <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110add33c0ae9a63902e573fc1f92fc33f1c">ISD::CTLZ</a> : <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a0340c8d57d1dcebc43a00412989583d3">ISD::CTLZ&#95;ZERO&#95;UNDEF</a>,</span></CodeLine>
<Link id="l07245" /><CodeLine lineNumber="7245"><span class="doxyHighlight">                             sdl, Ty, Arg));</span></CodeLine>
<Link id="l07246" /><CodeLine lineNumber="7246"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07247" /><CodeLine lineNumber="7247"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07248" /><CodeLine lineNumber="7248"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::ctpop: &#123;</span></CodeLine>
<Link id="l07249" /><CodeLine lineNumber="7249"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Arg = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0));</span></CodeLine>
<Link id="l07250" /><CodeLine lineNumber="7250"><span class="doxyHighlight">    EVT Ty = Arg.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>();</span></CodeLine>
<Link id="l07251" /><CodeLine lineNumber="7251"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a991d07d163bd4d9984cf1ef36e92c214">ISD::CTPOP</a>, sdl, Ty, Arg));</span></CodeLine>
<Link id="l07252" /><CodeLine lineNumber="7252"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07253" /><CodeLine lineNumber="7253"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07254" /><CodeLine lineNumber="7254"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::fshl:</span></CodeLine>
<Link id="l07255" /><CodeLine lineNumber="7255"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::fshr: &#123;</span></CodeLine>
<Link id="l07256" /><CodeLine lineNumber="7256"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> IsFSHL = <a href="/docs/api/namespaces/llvm/codeview/#a4e60e0c351f13aade28b451480c44e5aa8b0f368e62695dc13b998050ea15a2c5">Intrinsic</a> == Intrinsic::fshl;</span></CodeLine>
<Link id="l07257" /><CodeLine lineNumber="7257"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0));</span></CodeLine>
<Link id="l07258" /><CodeLine lineNumber="7258"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#a262774d3e5186511427e5b2414a85f7f">Y</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1));</span></CodeLine>
<Link id="l07259" /><CodeLine lineNumber="7259"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/arccc/#a9a81d9a1b379cf08150b22e81d7dd006aceb189306b941666e679bf556207c1e4">Z</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(2));</span></CodeLine>
<Link id="l07260" /><CodeLine lineNumber="7260"><span class="doxyHighlight">    EVT VT = <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>.getValueType();</span></CodeLine>
<Link id="l07261" /><CodeLine lineNumber="7261"></CodeLine>
<Link id="l07262" /><CodeLine lineNumber="7262"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a> == <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#a262774d3e5186511427e5b2414a85f7f">Y</a>) &#123;</span></CodeLine>
<Link id="l07263" /><CodeLine lineNumber="7263"><span class="doxyHighlight">      </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> RotateOpcode = IsFSHL ? <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110ae8f8f81d8e8d7a557d67622c05786f1d">ISD::ROTL</a> : <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a19cd524269b035941434cce28b585715">ISD::ROTR</a>;</span></CodeLine>
<Link id="l07264" /><CodeLine lineNumber="7264"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(RotateOpcode, sdl, VT, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>, Z));</span></CodeLine>
<Link id="l07265" /><CodeLine lineNumber="7265"><span class="doxyHighlight">    &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l07266" /><CodeLine lineNumber="7266"><span class="doxyHighlight">      </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> FunnelOpcode = IsFSHL ? <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a822b0d02b601898e2d6db5b39e12cc8a">ISD::FSHL</a> : <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a874350de5b4f6b8f4db13940e17ed81b">ISD::FSHR</a>;</span></CodeLine>
<Link id="l07267" /><CodeLine lineNumber="7267"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(FunnelOpcode, sdl, VT, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#ab60f28d7a141ac46ccc200176a1bca8b">X</a>, <a href="/docs/api/files/lib/lib/tablegen/tablegenbackendskeleton-cpp/#a262774d3e5186511427e5b2414a85f7f">Y</a>, Z));</span></CodeLine>
<Link id="l07268" /><CodeLine lineNumber="7268"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l07269" /><CodeLine lineNumber="7269"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07270" /><CodeLine lineNumber="7270"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07271" /><CodeLine lineNumber="7271"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::sadd&#95;sat: &#123;</span></CodeLine>
<Link id="l07272" /><CodeLine lineNumber="7272"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op1 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0));</span></CodeLine>
<Link id="l07273" /><CodeLine lineNumber="7273"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op2 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1));</span></CodeLine>
<Link id="l07274" /><CodeLine lineNumber="7274"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110af1b946afff631cee7aa6de570bef7785">ISD::SADDSAT</a>, sdl, Op1.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>(), Op1, Op2));</span></CodeLine>
<Link id="l07275" /><CodeLine lineNumber="7275"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07276" /><CodeLine lineNumber="7276"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07277" /><CodeLine lineNumber="7277"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::uadd&#95;sat: &#123;</span></CodeLine>
<Link id="l07278" /><CodeLine lineNumber="7278"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op1 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0));</span></CodeLine>
<Link id="l07279" /><CodeLine lineNumber="7279"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op2 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1));</span></CodeLine>
<Link id="l07280" /><CodeLine lineNumber="7280"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a5e433873c201ad85c30e42da1ae05977">ISD::UADDSAT</a>, sdl, Op1.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>(), Op1, Op2));</span></CodeLine>
<Link id="l07281" /><CodeLine lineNumber="7281"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07282" /><CodeLine lineNumber="7282"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07283" /><CodeLine lineNumber="7283"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::ssub&#95;sat: &#123;</span></CodeLine>
<Link id="l07284" /><CodeLine lineNumber="7284"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op1 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0));</span></CodeLine>
<Link id="l07285" /><CodeLine lineNumber="7285"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op2 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1));</span></CodeLine>
<Link id="l07286" /><CodeLine lineNumber="7286"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a77984d86d70df1f3229da7a5119652a9">ISD::SSUBSAT</a>, sdl, Op1.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>(), Op1, Op2));</span></CodeLine>
<Link id="l07287" /><CodeLine lineNumber="7287"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07288" /><CodeLine lineNumber="7288"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07289" /><CodeLine lineNumber="7289"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::usub&#95;sat: &#123;</span></CodeLine>
<Link id="l07290" /><CodeLine lineNumber="7290"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op1 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0));</span></CodeLine>
<Link id="l07291" /><CodeLine lineNumber="7291"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op2 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1));</span></CodeLine>
<Link id="l07292" /><CodeLine lineNumber="7292"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a89166b38f12c0bd3e8a61d8f1a5a8bc8">ISD::USUBSAT</a>, sdl, Op1.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>(), Op1, Op2));</span></CodeLine>
<Link id="l07293" /><CodeLine lineNumber="7293"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07294" /><CodeLine lineNumber="7294"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07295" /><CodeLine lineNumber="7295"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::sshl&#95;sat: &#123;</span></CodeLine>
<Link id="l07296" /><CodeLine lineNumber="7296"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op1 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0));</span></CodeLine>
<Link id="l07297" /><CodeLine lineNumber="7297"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op2 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1));</span></CodeLine>
<Link id="l07298" /><CodeLine lineNumber="7298"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110aa30a145a99902daca036d039378abca2">ISD::SSHLSAT</a>, sdl, Op1.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>(), Op1, Op2));</span></CodeLine>
<Link id="l07299" /><CodeLine lineNumber="7299"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07300" /><CodeLine lineNumber="7300"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07301" /><CodeLine lineNumber="7301"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::ushl&#95;sat: &#123;</span></CodeLine>
<Link id="l07302" /><CodeLine lineNumber="7302"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op1 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0));</span></CodeLine>
<Link id="l07303" /><CodeLine lineNumber="7303"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op2 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1));</span></CodeLine>
<Link id="l07304" /><CodeLine lineNumber="7304"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a5ae4b108d3f627b66f3b1e5da51f4587">ISD::USHLSAT</a>, sdl, Op1.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>(), Op1, Op2));</span></CodeLine>
<Link id="l07305" /><CodeLine lineNumber="7305"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07306" /><CodeLine lineNumber="7306"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07307" /><CodeLine lineNumber="7307"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::smul&#95;fix:</span></CodeLine>
<Link id="l07308" /><CodeLine lineNumber="7308"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::umul&#95;fix:</span></CodeLine>
<Link id="l07309" /><CodeLine lineNumber="7309"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::smul&#95;fix&#95;sat:</span></CodeLine>
<Link id="l07310" /><CodeLine lineNumber="7310"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::umul&#95;fix&#95;sat: &#123;</span></CodeLine>
<Link id="l07311" /><CodeLine lineNumber="7311"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op1 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0));</span></CodeLine>
<Link id="l07312" /><CodeLine lineNumber="7312"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op2 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1));</span></CodeLine>
<Link id="l07313" /><CodeLine lineNumber="7313"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op3 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(2));</span></CodeLine>
<Link id="l07314" /><CodeLine lineNumber="7314"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="#a63028feee73aad21b5ad015b0ceb9de1">FixedPointIntrinsicToOpcode</a>(Intrinsic), sdl,</span></CodeLine>
<Link id="l07315" /><CodeLine lineNumber="7315"><span class="doxyHighlight">                             Op1.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>(), Op1, Op2, Op3));</span></CodeLine>
<Link id="l07316" /><CodeLine lineNumber="7316"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07317" /><CodeLine lineNumber="7317"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07318" /><CodeLine lineNumber="7318"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::sdiv&#95;fix:</span></CodeLine>
<Link id="l07319" /><CodeLine lineNumber="7319"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::udiv&#95;fix:</span></CodeLine>
<Link id="l07320" /><CodeLine lineNumber="7320"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::sdiv&#95;fix&#95;sat:</span></CodeLine>
<Link id="l07321" /><CodeLine lineNumber="7321"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::udiv&#95;fix&#95;sat: &#123;</span></CodeLine>
<Link id="l07322" /><CodeLine lineNumber="7322"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op1 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0));</span></CodeLine>
<Link id="l07323" /><CodeLine lineNumber="7323"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op2 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1));</span></CodeLine>
<Link id="l07324" /><CodeLine lineNumber="7324"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op3 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(2));</span></CodeLine>
<Link id="l07325" /><CodeLine lineNumber="7325"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="#a69f0725f2fda3046317ef070e37e06ec">expandDivFix</a>(<a href="#a63028feee73aad21b5ad015b0ceb9de1">FixedPointIntrinsicToOpcode</a>(Intrinsic), sdl,</span></CodeLine>
<Link id="l07326" /><CodeLine lineNumber="7326"><span class="doxyHighlight">                              Op1, Op2, Op3, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>, TLI));</span></CodeLine>
<Link id="l07327" /><CodeLine lineNumber="7327"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07328" /><CodeLine lineNumber="7328"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07329" /><CodeLine lineNumber="7329"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::smax: &#123;</span></CodeLine>
<Link id="l07330" /><CodeLine lineNumber="7330"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op1 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0));</span></CodeLine>
<Link id="l07331" /><CodeLine lineNumber="7331"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op2 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1));</span></CodeLine>
<Link id="l07332" /><CodeLine lineNumber="7332"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110af3b59179b6fcbc89463181015ace8e9b">ISD::SMAX</a>, sdl, Op1.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>(), Op1, Op2));</span></CodeLine>
<Link id="l07333" /><CodeLine lineNumber="7333"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07334" /><CodeLine lineNumber="7334"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07335" /><CodeLine lineNumber="7335"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::smin: &#123;</span></CodeLine>
<Link id="l07336" /><CodeLine lineNumber="7336"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op1 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0));</span></CodeLine>
<Link id="l07337" /><CodeLine lineNumber="7337"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op2 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1));</span></CodeLine>
<Link id="l07338" /><CodeLine lineNumber="7338"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110aaac895215ecbb3c411c957c8beb39b70">ISD::SMIN</a>, sdl, Op1.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>(), Op1, Op2));</span></CodeLine>
<Link id="l07339" /><CodeLine lineNumber="7339"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07340" /><CodeLine lineNumber="7340"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07341" /><CodeLine lineNumber="7341"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::umax: &#123;</span></CodeLine>
<Link id="l07342" /><CodeLine lineNumber="7342"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op1 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0));</span></CodeLine>
<Link id="l07343" /><CodeLine lineNumber="7343"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op2 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1));</span></CodeLine>
<Link id="l07344" /><CodeLine lineNumber="7344"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110af675e759c0ffff8d48ea14a60fe3517b">ISD::UMAX</a>, sdl, Op1.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>(), Op1, Op2));</span></CodeLine>
<Link id="l07345" /><CodeLine lineNumber="7345"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07346" /><CodeLine lineNumber="7346"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07347" /><CodeLine lineNumber="7347"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::umin: &#123;</span></CodeLine>
<Link id="l07348" /><CodeLine lineNumber="7348"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op1 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0));</span></CodeLine>
<Link id="l07349" /><CodeLine lineNumber="7349"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op2 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1));</span></CodeLine>
<Link id="l07350" /><CodeLine lineNumber="7350"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a17126302da6199930e55e841ca1b082d">ISD::UMIN</a>, sdl, Op1.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>(), Op1, Op2));</span></CodeLine>
<Link id="l07351" /><CodeLine lineNumber="7351"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07352" /><CodeLine lineNumber="7352"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07353" /><CodeLine lineNumber="7353"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::abs: &#123;</span></CodeLine>
<Link id="l07354" /><CodeLine lineNumber="7354"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// TODO: Preserve &quot;int min is poison&quot; arg in SDAG?</span></CodeLine>
<Link id="l07355" /><CodeLine lineNumber="7355"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op1 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0));</span></CodeLine>
<Link id="l07356" /><CodeLine lineNumber="7356"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a35c1cf0dd553444732dba8e8b9be0f6b">ISD::ABS</a>, sdl, Op1.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>(), Op1));</span></CodeLine>
<Link id="l07357" /><CodeLine lineNumber="7357"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07358" /><CodeLine lineNumber="7358"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07359" /><CodeLine lineNumber="7359"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::scmp: &#123;</span></CodeLine>
<Link id="l07360" /><CodeLine lineNumber="7360"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op1 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0));</span></CodeLine>
<Link id="l07361" /><CodeLine lineNumber="7361"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op2 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1));</span></CodeLine>
<Link id="l07362" /><CodeLine lineNumber="7362"><span class="doxyHighlight">    EVT DestVT = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType());</span></CodeLine>
<Link id="l07363" /><CodeLine lineNumber="7363"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110ac9cda41d5b1ac3a0babb77b881b506eb">ISD::SCMP</a>, sdl, DestVT, Op1, Op2));</span></CodeLine>
<Link id="l07364" /><CodeLine lineNumber="7364"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07365" /><CodeLine lineNumber="7365"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07366" /><CodeLine lineNumber="7366"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::ucmp: &#123;</span></CodeLine>
<Link id="l07367" /><CodeLine lineNumber="7367"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op1 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0));</span></CodeLine>
<Link id="l07368" /><CodeLine lineNumber="7368"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op2 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1));</span></CodeLine>
<Link id="l07369" /><CodeLine lineNumber="7369"><span class="doxyHighlight">    EVT DestVT = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType());</span></CodeLine>
<Link id="l07370" /><CodeLine lineNumber="7370"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a482ae65625bd4d6059f7259b88ac4dbc">ISD::UCMP</a>, sdl, DestVT, Op1, Op2));</span></CodeLine>
<Link id="l07371" /><CodeLine lineNumber="7371"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07372" /><CodeLine lineNumber="7372"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07373" /><CodeLine lineNumber="7373"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::stacksave: &#123;</span></CodeLine>
<Link id="l07374" /><CodeLine lineNumber="7374"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>();</span></CodeLine>
<Link id="l07375" /><CodeLine lineNumber="7375"><span class="doxyHighlight">    EVT VT = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType());</span></CodeLine>
<Link id="l07376" /><CodeLine lineNumber="7376"><span class="doxyHighlight">    Res = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::STACKSAVE, sdl, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVTList(VT, MVT::Other), <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>);</span></CodeLine>
<Link id="l07377" /><CodeLine lineNumber="7377"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Res);</span></CodeLine>
<Link id="l07378" /><CodeLine lineNumber="7378"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(Res.<a href="/docs/api/classes/llvm/sdvalue/#a64932427432abeb61241e98bea167580">getValue</a>(1));</span></CodeLine>
<Link id="l07379" /><CodeLine lineNumber="7379"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07380" /><CodeLine lineNumber="7380"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07381" /><CodeLine lineNumber="7381"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::stackrestore:</span></CodeLine>
<Link id="l07382" /><CodeLine lineNumber="7382"><span class="doxyHighlight">    Res = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0));</span></CodeLine>
<Link id="l07383" /><CodeLine lineNumber="7383"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::STACKRESTORE, sdl, MVT::Other, <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>(), Res));</span></CodeLine>
<Link id="l07384" /><CodeLine lineNumber="7384"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07385" /><CodeLine lineNumber="7385"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::get&#95;dynamic&#95;area&#95;offset: &#123;</span></CodeLine>
<Link id="l07386" /><CodeLine lineNumber="7386"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>();</span></CodeLine>
<Link id="l07387" /><CodeLine lineNumber="7387"><span class="doxyHighlight">    EVT PtrTy = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#aeff3faad50d459c3f486bb4ac76789af">getFrameIndexTy</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout());</span></CodeLine>
<Link id="l07388" /><CodeLine lineNumber="7388"><span class="doxyHighlight">    EVT ResTy = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType());</span></CodeLine>
<Link id="l07389" /><CodeLine lineNumber="7389"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Result type for @llvm.get.dynamic.area.offset should match PtrTy for</span></CodeLine>
<Link id="l07390" /><CodeLine lineNumber="7390"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// target.</span></CodeLine>
<Link id="l07391" /><CodeLine lineNumber="7391"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (PtrTy.<a href="/docs/api/structs/llvm/evt/#a7712dd4392b7eb944b709ac8442634d9">getFixedSizeInBits</a>() &lt; ResTy.<a href="/docs/api/structs/llvm/evt/#a7712dd4392b7eb944b709ac8442634d9">getFixedSizeInBits</a>())</span></CodeLine>
<Link id="l07392" /><CodeLine lineNumber="7392"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/#a7f2a3d4dcfee70225988aec53ff1e173">report&#95;fatal&#95;error</a>(</span><span class="doxyHighlightStringLiteral">&quot;Wrong result type for @llvm.get.dynamic.area.offset&quot;</span></CodeLine>
<Link id="l07393" /><CodeLine lineNumber="7393"><span class="doxyHighlight">                         </span><span class="doxyHighlightStringLiteral">&quot; intrinsic!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l07394" /><CodeLine lineNumber="7394"><span class="doxyHighlight">    Res = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::GET&#95;DYNAMIC&#95;AREA&#95;OFFSET, sdl, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVTList(ResTy),</span></CodeLine>
<Link id="l07395" /><CodeLine lineNumber="7395"><span class="doxyHighlight">                      <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>);</span></CodeLine>
<Link id="l07396" /><CodeLine lineNumber="7396"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(<a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>);</span></CodeLine>
<Link id="l07397" /><CodeLine lineNumber="7397"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Res);</span></CodeLine>
<Link id="l07398" /><CodeLine lineNumber="7398"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07399" /><CodeLine lineNumber="7399"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07400" /><CodeLine lineNumber="7400"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::stackguard: &#123;</span></CodeLine>
<Link id="l07401" /><CodeLine lineNumber="7401"><span class="doxyHighlight">    MachineFunction &amp;MF = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMachineFunction();</span></CodeLine>
<Link id="l07402" /><CodeLine lineNumber="7402"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/files/lib/lib/codegen/machinecheckdebugify-cpp/#a85892acfa8970627e9bd9c9815f15c25">Module</a> &amp;<a href="/docs/api/namespaces/llvm/arm/#ac2456158e5acb44477d8ecfa2d04dbdea69691c7bdcc3ce6d5d8a1361f22d04ac">M</a> = &#42;MF.<a href="/docs/api/classes/llvm/machinefunction/#a977ddce262de45c645be23d951066351">getFunction</a>().<a href="/docs/api/classes/llvm/globalvalue/#a739b30c811f1eece61b05320ddf44e5b">getParent</a>();</span></CodeLine>
<Link id="l07403" /><CodeLine lineNumber="7403"><span class="doxyHighlight">    EVT PtrTy = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType());</span></CodeLine>
<Link id="l07404" /><CodeLine lineNumber="7404"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/anonymous-loadstorevectorizer-cpp-/#afd1adfcbfce320e6265935ce4d6299a3">Chain</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>();</span></CodeLine>
<Link id="l07405" /><CodeLine lineNumber="7405"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (TLI.<a href="/docs/api/classes/llvm/targetlowering/#ad2b27b633b21a362571660ad09273d52">useLoadStackGuardNode</a>(M)) &#123;</span></CodeLine>
<Link id="l07406" /><CodeLine lineNumber="7406"><span class="doxyHighlight">      Res = <a href="#a0f49cd7f0f28bd9b7aaed4b5a0df02d6">getLoadStackGuard</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>, sdl, Chain);</span></CodeLine>
<Link id="l07407" /><CodeLine lineNumber="7407"><span class="doxyHighlight">      Res = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getPtrExtOrTrunc(Res, sdl, PtrTy);</span></CodeLine>
<Link id="l07408" /><CodeLine lineNumber="7408"><span class="doxyHighlight">    &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l07409" /><CodeLine lineNumber="7409"><span class="doxyHighlight">      </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;<a href="/docs/api/namespaces/llvm/#a9aa6dce3613309b3509522a00d6569bfa4cc6684df7b4a92b1dec6fce3264fac8">Global</a> = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a40e9675119de3bcd2fd05b549994a17d">getSDagStackGuard</a>(M);</span></CodeLine>
<Link id="l07410" /><CodeLine lineNumber="7410"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/arg/key/#a6b334a5f83504ebc99cc59f4f333ff98">Align</a> <a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/arg/key/#a6b334a5f83504ebc99cc59f4f333ff98">Align</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout().getPrefTypeAlign(<a href="/docs/api/namespaces/llvm/#a9aa6dce3613309b3509522a00d6569bfa4cc6684df7b4a92b1dec6fce3264fac8">Global</a>-&gt;getType());</span></CodeLine>
<Link id="l07411" /><CodeLine lineNumber="7411"><span class="doxyHighlight">      Res = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getLoad(PtrTy, sdl, Chain, <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/namespaces/llvm/#a9aa6dce3613309b3509522a00d6569bfa4cc6684df7b4a92b1dec6fce3264fac8">Global</a>),</span></CodeLine>
<Link id="l07412" /><CodeLine lineNumber="7412"><span class="doxyHighlight">                        MachinePointerInfo(<a href="/docs/api/namespaces/llvm/#a9aa6dce3613309b3509522a00d6569bfa4cc6684df7b4a92b1dec6fce3264fac8">Global</a>, 0), Align,</span></CodeLine>
<Link id="l07413" /><CodeLine lineNumber="7413"><span class="doxyHighlight">                        <a href="/docs/api/classes/llvm/machinememoperand/#aaa2020e47e35179234b9ea27d555b2dda796891d6ca349b671fce24b6d01d77a8">MachineMemOperand::MOVolatile</a>);</span></CodeLine>
<Link id="l07414" /><CodeLine lineNumber="7414"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l07415" /><CodeLine lineNumber="7415"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a190effd8532e35fa84618634c54edc38">useStackGuardXorFP</a>())</span></CodeLine>
<Link id="l07416" /><CodeLine lineNumber="7416"><span class="doxyHighlight">      Res = TLI.<a href="/docs/api/classes/llvm/targetlowering/#a1ee0110a687cf5a9bdb9e8596d9ca3fb">emitStackGuardXorFP</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>, Res, sdl);</span></CodeLine>
<Link id="l07417" /><CodeLine lineNumber="7417"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(Chain);</span></CodeLine>
<Link id="l07418" /><CodeLine lineNumber="7418"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Res);</span></CodeLine>
<Link id="l07419" /><CodeLine lineNumber="7419"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07420" /><CodeLine lineNumber="7420"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07421" /><CodeLine lineNumber="7421"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::stackprotector: &#123;</span></CodeLine>
<Link id="l07422" /><CodeLine lineNumber="7422"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Emit code into the DAG to store the stack guard onto the stack.</span></CodeLine>
<Link id="l07423" /><CodeLine lineNumber="7423"><span class="doxyHighlight">    MachineFunction &amp;MF = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMachineFunction();</span></CodeLine>
<Link id="l07424" /><CodeLine lineNumber="7424"><span class="doxyHighlight">    MachineFrameInfo &amp;MFI = MF.<a href="/docs/api/classes/llvm/machinefunction/#a54f334a9c8ca6d105eae383ae87e4524">getFrameInfo</a>();</span></CodeLine>
<Link id="l07425" /><CodeLine lineNumber="7425"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/files/lib/lib/codegen/machinecheckdebugify-cpp/#a85892acfa8970627e9bd9c9815f15c25">Module</a> &amp;<a href="/docs/api/namespaces/llvm/arm/#ac2456158e5acb44477d8ecfa2d04dbdea69691c7bdcc3ce6d5d8a1361f22d04ac">M</a> = &#42;MF.<a href="/docs/api/classes/llvm/machinefunction/#a977ddce262de45c645be23d951066351">getFunction</a>().<a href="/docs/api/classes/llvm/globalvalue/#a739b30c811f1eece61b05320ddf44e5b">getParent</a>();</span></CodeLine>
<Link id="l07426" /><CodeLine lineNumber="7426"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/anonymous-linkmodules-cpp-/#ab56eb2027bc9c069aa696e54de8b4298a276e79316561733d64abdf00f8e8ae48">Src</a>, <a href="/docs/api/namespaces/anonymous-loadstorevectorizer-cpp-/#afd1adfcbfce320e6265935ce4d6299a3">Chain</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>();</span></CodeLine>
<Link id="l07427" /><CodeLine lineNumber="7427"></CodeLine>
<Link id="l07428" /><CodeLine lineNumber="7428"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (TLI.<a href="/docs/api/classes/llvm/targetlowering/#ad2b27b633b21a362571660ad09273d52">useLoadStackGuardNode</a>(M))</span></CodeLine>
<Link id="l07429" /><CodeLine lineNumber="7429"><span class="doxyHighlight">      <a href="/docs/api/namespaces/anonymous-linkmodules-cpp-/#ab56eb2027bc9c069aa696e54de8b4298a276e79316561733d64abdf00f8e8ae48">Src</a> = <a href="#a0f49cd7f0f28bd9b7aaed4b5a0df02d6">getLoadStackGuard</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>, sdl, Chain);</span></CodeLine>
<Link id="l07430" /><CodeLine lineNumber="7430"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">else</span></CodeLine>
<Link id="l07431" /><CodeLine lineNumber="7431"><span class="doxyHighlight">      <a href="/docs/api/namespaces/anonymous-linkmodules-cpp-/#ab56eb2027bc9c069aa696e54de8b4298a276e79316561733d64abdf00f8e8ae48">Src</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0));   </span><span class="doxyHighlightComment">// The guard&#39;s value.</span></CodeLine>
<Link id="l07432" /><CodeLine lineNumber="7432"></CodeLine>
<Link id="l07433" /><CodeLine lineNumber="7433"><span class="doxyHighlight">    AllocaInst &#42;<a href="/docs/api/namespaces/llvm/pdb/#a5dbb1abfb6d3c14555304f9c56703234a9234cc57c43f272b55a94b0069fe62d1">Slot</a> = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;AllocaInst&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1));</span></CodeLine>
<Link id="l07434" /><CodeLine lineNumber="7434"></CodeLine>
<Link id="l07435" /><CodeLine lineNumber="7435"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">int</span><span class="doxyHighlight"> FI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.StaticAllocaMap&#91;<a href="/docs/api/namespaces/llvm/pdb/#a5dbb1abfb6d3c14555304f9c56703234a9234cc57c43f272b55a94b0069fe62d1">Slot</a>&#93;;</span></CodeLine>
<Link id="l07436" /><CodeLine lineNumber="7436"><span class="doxyHighlight">    MFI.<a href="/docs/api/classes/llvm/machineframeinfo/#a79ce969f0376bbc0a6f06966ce274167">setStackProtectorIndex</a>(FI);</span></CodeLine>
<Link id="l07437" /><CodeLine lineNumber="7437"><span class="doxyHighlight">    EVT PtrTy = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#aeff3faad50d459c3f486bb4ac76789af">getFrameIndexTy</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout());</span></CodeLine>
<Link id="l07438" /><CodeLine lineNumber="7438"></CodeLine>
<Link id="l07439" /><CodeLine lineNumber="7439"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> FIN = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getFrameIndex(FI, PtrTy);</span></CodeLine>
<Link id="l07440" /><CodeLine lineNumber="7440"></CodeLine>
<Link id="l07441" /><CodeLine lineNumber="7441"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Store the stack protector onto the stack.</span></CodeLine>
<Link id="l07442" /><CodeLine lineNumber="7442"><span class="doxyHighlight">    Res = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getStore(</span></CodeLine>
<Link id="l07443" /><CodeLine lineNumber="7443"><span class="doxyHighlight">        Chain, sdl, Src, FIN,</span></CodeLine>
<Link id="l07444" /><CodeLine lineNumber="7444"><span class="doxyHighlight">        <a href="/docs/api/structs/llvm/machinepointerinfo/#ad8ce1aee13dbdcc05d20284a30e83170">MachinePointerInfo::getFixedStack</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMachineFunction(), FI),</span></CodeLine>
<Link id="l07445" /><CodeLine lineNumber="7445"><span class="doxyHighlight">        MaybeAlign(), <a href="/docs/api/classes/llvm/machinememoperand/#aaa2020e47e35179234b9ea27d555b2dda796891d6ca349b671fce24b6d01d77a8">MachineMemOperand::MOVolatile</a>);</span></CodeLine>
<Link id="l07446" /><CodeLine lineNumber="7446"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Res);</span></CodeLine>
<Link id="l07447" /><CodeLine lineNumber="7447"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(Res);</span></CodeLine>
<Link id="l07448" /><CodeLine lineNumber="7448"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07449" /><CodeLine lineNumber="7449"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07450" /><CodeLine lineNumber="7450"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::objectsize:</span></CodeLine>
<Link id="l07451" /><CodeLine lineNumber="7451"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/support/errorhandling-h/#ace243f5c25697a1107cce46626b3dc94">llvm&#95;unreachable</a>(</span><span class="doxyHighlightStringLiteral">&quot;llvm.objectsize.&#42; should have been lowered already&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l07452" /><CodeLine lineNumber="7452"></CodeLine>
<Link id="l07453" /><CodeLine lineNumber="7453"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::is&#95;constant:</span></CodeLine>
<Link id="l07454" /><CodeLine lineNumber="7454"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/support/errorhandling-h/#ace243f5c25697a1107cce46626b3dc94">llvm&#95;unreachable</a>(</span><span class="doxyHighlightStringLiteral">&quot;llvm.is.constant.&#42; should have been lowered already&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l07455" /><CodeLine lineNumber="7455"></CodeLine>
<Link id="l07456" /><CodeLine lineNumber="7456"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::annotation:</span></CodeLine>
<Link id="l07457" /><CodeLine lineNumber="7457"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::ptr&#95;annotation:</span></CodeLine>
<Link id="l07458" /><CodeLine lineNumber="7458"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::launder&#95;invariant&#95;group:</span></CodeLine>
<Link id="l07459" /><CodeLine lineNumber="7459"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::strip&#95;invariant&#95;group:</span></CodeLine>
<Link id="l07460" /><CodeLine lineNumber="7460"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Drop the intrinsic, but forward the value</span></CodeLine>
<Link id="l07461" /><CodeLine lineNumber="7461"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0)));</span></CodeLine>
<Link id="l07462" /><CodeLine lineNumber="7462"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07463" /><CodeLine lineNumber="7463"></CodeLine>
<Link id="l07464" /><CodeLine lineNumber="7464"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::assume:</span></CodeLine>
<Link id="l07465" /><CodeLine lineNumber="7465"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::experimental&#95;noalias&#95;scope&#95;decl:</span></CodeLine>
<Link id="l07466" /><CodeLine lineNumber="7466"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::var&#95;annotation:</span></CodeLine>
<Link id="l07467" /><CodeLine lineNumber="7467"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::sideeffect:</span></CodeLine>
<Link id="l07468" /><CodeLine lineNumber="7468"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Discard annotate attributes, noalias scope declarations, assumptions, and</span></CodeLine>
<Link id="l07469" /><CodeLine lineNumber="7469"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// artificial side-effects.</span></CodeLine>
<Link id="l07470" /><CodeLine lineNumber="7470"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07471" /><CodeLine lineNumber="7471"></CodeLine>
<Link id="l07472" /><CodeLine lineNumber="7472"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::codeview&#95;annotation: &#123;</span></CodeLine>
<Link id="l07473" /><CodeLine lineNumber="7473"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Emit a label associated with this metadata.</span></CodeLine>
<Link id="l07474" /><CodeLine lineNumber="7474"><span class="doxyHighlight">    MachineFunction &amp;MF = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMachineFunction();</span></CodeLine>
<Link id="l07475" /><CodeLine lineNumber="7475"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110aabb68e91001557f73ff8af63eb8d5883">MCSymbol</a> &#42;<a href="/docs/api/namespaces/llvm/pdb/#a33e853ec74d48b1340d1d4bae772d30bab021df6aac4654c454f46c77646e745f">Label</a> = MF.<a href="/docs/api/classes/llvm/machinefunction/#a752546c51633c140d9ca4ab98b4781b6">getContext</a>().<a href="/docs/api/classes/llvm/mccontext/#a299bf2f0329389424760f4a7c8af75ac">createTempSymbol</a>(</span><span class="doxyHighlightStringLiteral">&quot;annotation&quot;</span><span class="doxyHighlight">, </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l07476" /><CodeLine lineNumber="7476"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/directx/dxiltranslatemetadata-cpp/#a26b689be9525270658579553e0adfec1">Metadata</a> &#42;MD = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;MetadataAsValue&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0))-&gt;getMetadata();</span></CodeLine>
<Link id="l07477" /><CodeLine lineNumber="7477"><span class="doxyHighlight">    MF.<a href="/docs/api/classes/llvm/machinefunction/#a977858bd5d33289860db7944e4187bd9">addCodeViewAnnotation</a>(Label, <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;MDNode&gt;</a>(MD));</span></CodeLine>
<Link id="l07478" /><CodeLine lineNumber="7478"><span class="doxyHighlight">    Res = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getLabelNode(ISD::ANNOTATION&#95;LABEL, sdl, <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>(), Label);</span></CodeLine>
<Link id="l07479" /><CodeLine lineNumber="7479"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(Res);</span></CodeLine>
<Link id="l07480" /><CodeLine lineNumber="7480"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07481" /><CodeLine lineNumber="7481"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07482" /><CodeLine lineNumber="7482"></CodeLine>
<Link id="l07483" /><CodeLine lineNumber="7483"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::init&#95;trampoline: &#123;</span></CodeLine>
<Link id="l07484" /><CodeLine lineNumber="7484"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/codeview/#adfebd8c4ae29ccd84c600c1e65d6b807a86408593c34af77fdd90df932f8b5261">Function</a> &#42;<a href="/docs/api/files/lib/lib/support/md5-cpp/#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;Function&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1)-&gt;stripPointerCasts());</span></CodeLine>
<Link id="l07485" /><CodeLine lineNumber="7485"></CodeLine>
<Link id="l07486" /><CodeLine lineNumber="7486"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>&#91;6&#93;;</span></CodeLine>
<Link id="l07487" /><CodeLine lineNumber="7487"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>&#91;0&#93; = <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>();</span></CodeLine>
<Link id="l07488" /><CodeLine lineNumber="7488"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>&#91;1&#93; = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0));</span></CodeLine>
<Link id="l07489" /><CodeLine lineNumber="7489"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>&#91;2&#93; = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1));</span></CodeLine>
<Link id="l07490" /><CodeLine lineNumber="7490"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>&#91;3&#93; = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(2));</span></CodeLine>
<Link id="l07491" /><CodeLine lineNumber="7491"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>&#91;4&#93; = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSrcValue(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0));</span></CodeLine>
<Link id="l07492" /><CodeLine lineNumber="7492"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>&#91;5&#93; = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSrcValue(<a href="/docs/api/files/lib/lib/support/md5-cpp/#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</span></CodeLine>
<Link id="l07493" /><CodeLine lineNumber="7493"></CodeLine>
<Link id="l07494" /><CodeLine lineNumber="7494"><span class="doxyHighlight">    Res = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::INIT&#95;TRAMPOLINE, sdl, MVT::Other, <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>);</span></CodeLine>
<Link id="l07495" /><CodeLine lineNumber="7495"></CodeLine>
<Link id="l07496" /><CodeLine lineNumber="7496"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(Res);</span></CodeLine>
<Link id="l07497" /><CodeLine lineNumber="7497"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07498" /><CodeLine lineNumber="7498"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07499" /><CodeLine lineNumber="7499"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::adjust&#95;trampoline:</span></CodeLine>
<Link id="l07500" /><CodeLine lineNumber="7500"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::ADJUST&#95;TRAMPOLINE, sdl,</span></CodeLine>
<Link id="l07501" /><CodeLine lineNumber="7501"><span class="doxyHighlight">                             TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout()),</span></CodeLine>
<Link id="l07502" /><CodeLine lineNumber="7502"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0))));</span></CodeLine>
<Link id="l07503" /><CodeLine lineNumber="7503"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07504" /><CodeLine lineNumber="7504"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::gcroot: &#123;</span></CodeLine>
<Link id="l07505" /><CodeLine lineNumber="7505"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMachineFunction().getFunction().hasGC() &amp;&amp;</span></CodeLine>
<Link id="l07506" /><CodeLine lineNumber="7506"><span class="doxyHighlight">           </span><span class="doxyHighlightStringLiteral">&quot;only valid in functions with gc specified, enforced by Verifier&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l07507" /><CodeLine lineNumber="7507"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#a9b4db8b8082660004fda0c282da0ff0a">GFI</a> &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;implied by previous&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l07508" /><CodeLine lineNumber="7508"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;Alloca = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)-&gt;stripPointerCasts();</span></CodeLine>
<Link id="l07509" /><CodeLine lineNumber="7509"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110aac2f0a84dd2aa5ee4c3f1385e9565f5e">Constant</a> &#42;TypeMap = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;Constant&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1));</span></CodeLine>
<Link id="l07510" /><CodeLine lineNumber="7510"></CodeLine>
<Link id="l07511" /><CodeLine lineNumber="7511"><span class="doxyHighlight">    FrameIndexSDNode &#42;FI = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;FrameIndexSDNode&gt;</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(Alloca).<a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/lib/target/amdgpu/utils/amdgpudelayedmcexpr-cpp/#a3b9e43a5529fa7d4adb2bad70198c9bd">getNode</a>());</span></CodeLine>
<Link id="l07512" /><CodeLine lineNumber="7512"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#a9b4db8b8082660004fda0c282da0ff0a">GFI</a>-&gt;addStackRoot(FI-&gt;<a href="/docs/api/classes/llvm/frameindexsdnode/#a1cf719b8c945859e29131c892774b21c">getIndex</a>(), TypeMap);</span></CodeLine>
<Link id="l07513" /><CodeLine lineNumber="7513"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07514" /><CodeLine lineNumber="7514"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07515" /><CodeLine lineNumber="7515"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::gcread:</span></CodeLine>
<Link id="l07516" /><CodeLine lineNumber="7516"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::gcwrite:</span></CodeLine>
<Link id="l07517" /><CodeLine lineNumber="7517"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/support/errorhandling-h/#ace243f5c25697a1107cce46626b3dc94">llvm&#95;unreachable</a>(</span><span class="doxyHighlightStringLiteral">&quot;GC failed to lower gcread/gcwrite intrinsics!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l07518" /><CodeLine lineNumber="7518"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::get&#95;rounding:</span></CodeLine>
<Link id="l07519" /><CodeLine lineNumber="7519"><span class="doxyHighlight">    Res = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a89f3afc3fa907ff83759c6c76d97a973">ISD::GET&#95;ROUNDING</a>, sdl, &#123;MVT::i32, MVT::Other&#125;, <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>());</span></CodeLine>
<Link id="l07520" /><CodeLine lineNumber="7520"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Res);</span></CodeLine>
<Link id="l07521" /><CodeLine lineNumber="7521"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(Res.<a href="/docs/api/classes/llvm/sdvalue/#a64932427432abeb61241e98bea167580">getValue</a>(1));</span></CodeLine>
<Link id="l07522" /><CodeLine lineNumber="7522"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07523" /><CodeLine lineNumber="7523"></CodeLine>
<Link id="l07524" /><CodeLine lineNumber="7524"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::expect:</span></CodeLine>
<Link id="l07525" /><CodeLine lineNumber="7525"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::expect&#95;with&#95;probability:</span></CodeLine>
<Link id="l07526" /><CodeLine lineNumber="7526"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Just replace &#95;&#95;builtin&#95;expect(exp, c) and</span></CodeLine>
<Link id="l07527" /><CodeLine lineNumber="7527"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// &#95;&#95;builtin&#95;expect&#95;with&#95;probability(exp, c, p) with EXP.</span></CodeLine>
<Link id="l07528" /><CodeLine lineNumber="7528"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)));</span></CodeLine>
<Link id="l07529" /><CodeLine lineNumber="7529"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07530" /><CodeLine lineNumber="7530"></CodeLine>
<Link id="l07531" /><CodeLine lineNumber="7531"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::ubsantrap:</span></CodeLine>
<Link id="l07532" /><CodeLine lineNumber="7532"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::debugtrap:</span></CodeLine>
<Link id="l07533" /><CodeLine lineNumber="7533"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::trap: &#123;</span></CodeLine>
<Link id="l07534" /><CodeLine lineNumber="7534"><span class="doxyHighlight">    StringRef TrapFuncName =</span></CodeLine>
<Link id="l07535" /><CodeLine lineNumber="7535"><span class="doxyHighlight">        <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getAttributes().getFnAttr(</span><span class="doxyHighlightStringLiteral">&quot;trap-func-name&quot;</span><span class="doxyHighlight">).getValueAsString();</span></CodeLine>
<Link id="l07536" /><CodeLine lineNumber="7536"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (TrapFuncName.<a href="/docs/api/classes/llvm/stringref/#a2dc80c585ad5882da8cae7b5968f7e74">empty</a>()) &#123;</span></CodeLine>
<Link id="l07537" /><CodeLine lineNumber="7537"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">switch</span><span class="doxyHighlight"> (Intrinsic) &#123;</span></CodeLine>
<Link id="l07538" /><CodeLine lineNumber="7538"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::trap:</span></CodeLine>
<Link id="l07539" /><CodeLine lineNumber="7539"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::TRAP, sdl, MVT::Other, <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>()));</span></CodeLine>
<Link id="l07540" /><CodeLine lineNumber="7540"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07541" /><CodeLine lineNumber="7541"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::debugtrap:</span></CodeLine>
<Link id="l07542" /><CodeLine lineNumber="7542"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::DEBUGTRAP, sdl, MVT::Other, <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>()));</span></CodeLine>
<Link id="l07543" /><CodeLine lineNumber="7543"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07544" /><CodeLine lineNumber="7544"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::ubsantrap:</span></CodeLine>
<Link id="l07545" /><CodeLine lineNumber="7545"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(</span></CodeLine>
<Link id="l07546" /><CodeLine lineNumber="7546"><span class="doxyHighlight">            ISD::UBSANTRAP, sdl, MVT::Other, <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>(),</span></CodeLine>
<Link id="l07547" /><CodeLine lineNumber="7547"><span class="doxyHighlight">            <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetConstant(</span></CodeLine>
<Link id="l07548" /><CodeLine lineNumber="7548"><span class="doxyHighlight">                <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;ConstantInt&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0))-&gt;getZExtValue(), sdl,</span></CodeLine>
<Link id="l07549" /><CodeLine lineNumber="7549"><span class="doxyHighlight">                MVT::i32)));</span></CodeLine>
<Link id="l07550" /><CodeLine lineNumber="7550"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07551" /><CodeLine lineNumber="7551"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">default</span><span class="doxyHighlight">: <a href="/docs/api/files/include/include/llvm/include/llvm/support/errorhandling-h/#ace243f5c25697a1107cce46626b3dc94">llvm&#95;unreachable</a>(</span><span class="doxyHighlightStringLiteral">&quot;unknown trap intrinsic&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l07552" /><CodeLine lineNumber="7552"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l07553" /><CodeLine lineNumber="7553"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.addNoMergeSiteInfo(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getRoot().getNode(),</span></CodeLine>
<Link id="l07554" /><CodeLine lineNumber="7554"><span class="doxyHighlight">                             <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.hasFnAttr(Attribute::NoMerge));</span></CodeLine>
<Link id="l07555" /><CodeLine lineNumber="7555"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07556" /><CodeLine lineNumber="7556"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l07557" /><CodeLine lineNumber="7557"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/targetloweringbase/#ae4ac6bc14db22dbd7b94a3b1bd276796">TargetLowering::ArgListTy</a> <a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/key/#a1958a762261549463a280bac3274d6d5">Args</a>;</span></CodeLine>
<Link id="l07558" /><CodeLine lineNumber="7558"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Intrinsic == Intrinsic::ubsantrap) &#123;</span></CodeLine>
<Link id="l07559" /><CodeLine lineNumber="7559"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/key/#a1958a762261549463a280bac3274d6d5">Args</a>.push&#95;back(TargetLoweringBase::ArgListEntry());</span></CodeLine>
<Link id="l07560" /><CodeLine lineNumber="7560"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/key/#a1958a762261549463a280bac3274d6d5">Args</a>&#91;0&#93;.Val = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0);</span></CodeLine>
<Link id="l07561" /><CodeLine lineNumber="7561"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/key/#a1958a762261549463a280bac3274d6d5">Args</a>&#91;0&#93;.Node = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(Args&#91;0&#93;.Val);</span></CodeLine>
<Link id="l07562" /><CodeLine lineNumber="7562"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/key/#a1958a762261549463a280bac3274d6d5">Args</a>&#91;0&#93;.Ty = <a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/key/#a1958a762261549463a280bac3274d6d5">Args</a>&#91;0&#93;.Val-&gt;getType();</span></CodeLine>
<Link id="l07563" /><CodeLine lineNumber="7563"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l07564" /><CodeLine lineNumber="7564"></CodeLine>
<Link id="l07565" /><CodeLine lineNumber="7565"><span class="doxyHighlight">    TargetLowering::CallLoweringInfo CLI(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>);</span></CodeLine>
<Link id="l07566" /><CodeLine lineNumber="7566"><span class="doxyHighlight">    CLI.setDebugLoc(sdl).setChain(<a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>()).setLibCallee(</span></CodeLine>
<Link id="l07567" /><CodeLine lineNumber="7567"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">CallingConv::C</a>, <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType(),</span></CodeLine>
<Link id="l07568" /><CodeLine lineNumber="7568"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getExternalSymbol(TrapFuncName.<a href="/docs/api/classes/llvm/stringref/#a7b0fa1a82461032cdf16b7f6c59f0a6a">data</a>(),</span></CodeLine>
<Link id="l07569" /><CodeLine lineNumber="7569"><span class="doxyHighlight">                              TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout())),</span></CodeLine>
<Link id="l07570" /><CodeLine lineNumber="7570"><span class="doxyHighlight">        std::move(Args));</span></CodeLine>
<Link id="l07571" /><CodeLine lineNumber="7571"><span class="doxyHighlight">    CLI.NoMerge = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.hasFnAttr(Attribute::NoMerge);</span></CodeLine>
<Link id="l07572" /><CodeLine lineNumber="7572"><span class="doxyHighlight">    std::pair&lt;SDValue, SDValue&gt; <a href="/docs/api/namespaces/llvm/ms-demangle/#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = TLI.<a href="/docs/api/classes/llvm/targetlowering/#aabd42a6eddc3daec9153679b54f79300">LowerCallTo</a>(CLI);</span></CodeLine>
<Link id="l07573" /><CodeLine lineNumber="7573"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(<a href="/docs/api/namespaces/llvm/ms-demangle/#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>.second);</span></CodeLine>
<Link id="l07574" /><CodeLine lineNumber="7574"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07575" /><CodeLine lineNumber="7575"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07576" /><CodeLine lineNumber="7576"></CodeLine>
<Link id="l07577" /><CodeLine lineNumber="7577"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::allow&#95;runtime&#95;check:</span></CodeLine>
<Link id="l07578" /><CodeLine lineNumber="7578"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::allow&#95;ubsan&#95;check:</span></CodeLine>
<Link id="l07579" /><CodeLine lineNumber="7579"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/classes/llvm/constantint/#a82dbbd8e3688b0bc1eedb338864d0d0c">ConstantInt::getTrue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType())));</span></CodeLine>
<Link id="l07580" /><CodeLine lineNumber="7580"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07581" /><CodeLine lineNumber="7581"></CodeLine>
<Link id="l07582" /><CodeLine lineNumber="7582"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::uadd&#95;with&#95;overflow:</span></CodeLine>
<Link id="l07583" /><CodeLine lineNumber="7583"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::sadd&#95;with&#95;overflow:</span></CodeLine>
<Link id="l07584" /><CodeLine lineNumber="7584"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::usub&#95;with&#95;overflow:</span></CodeLine>
<Link id="l07585" /><CodeLine lineNumber="7585"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::ssub&#95;with&#95;overflow:</span></CodeLine>
<Link id="l07586" /><CodeLine lineNumber="7586"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::umul&#95;with&#95;overflow:</span></CodeLine>
<Link id="l07587" /><CodeLine lineNumber="7587"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::smul&#95;with&#95;overflow: &#123;</span></CodeLine>
<Link id="l07588" /><CodeLine lineNumber="7588"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110">ISD::NodeType</a> <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>;</span></CodeLine>
<Link id="l07589" /><CodeLine lineNumber="7589"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">switch</span><span class="doxyHighlight"> (Intrinsic) &#123;</span></CodeLine>
<Link id="l07590" /><CodeLine lineNumber="7590"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">default</span><span class="doxyHighlight">: <a href="/docs/api/files/include/include/llvm/include/llvm/support/errorhandling-h/#ace243f5c25697a1107cce46626b3dc94">llvm&#95;unreachable</a>(</span><span class="doxyHighlightStringLiteral">&quot;Impossible intrinsic&quot;</span><span class="doxyHighlight">);  </span><span class="doxyHighlightComment">// Can&#39;t reach here.</span></CodeLine>
<Link id="l07591" /><CodeLine lineNumber="7591"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::uadd&#95;with&#95;overflow: <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a> = <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a1ddf36330110b4abea43fe390bea9ef9">ISD::UADDO</a>; </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07592" /><CodeLine lineNumber="7592"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::sadd&#95;with&#95;overflow: <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a> = <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a863ec6ebb75bf89cfea14da646d77e92">ISD::SADDO</a>; </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07593" /><CodeLine lineNumber="7593"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::usub&#95;with&#95;overflow: <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a> = <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a4ffc75d65231b55461c0ba4f36a3e500">ISD::USUBO</a>; </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07594" /><CodeLine lineNumber="7594"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::ssub&#95;with&#95;overflow: <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a> = <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a6efe16ea597cfd8eeac26516fc992ee7">ISD::SSUBO</a>; </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07595" /><CodeLine lineNumber="7595"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::umul&#95;with&#95;overflow: <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a> = <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a7800622851751b8ae318b41f4096830e">ISD::UMULO</a>; </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07596" /><CodeLine lineNumber="7596"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::smul&#95;with&#95;overflow: <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a> = <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110aa35d0a58fdded3d225d512a60aea0951">ISD::SMULO</a>; </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07597" /><CodeLine lineNumber="7597"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l07598" /><CodeLine lineNumber="7598"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op1 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0));</span></CodeLine>
<Link id="l07599" /><CodeLine lineNumber="7599"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op2 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1));</span></CodeLine>
<Link id="l07600" /><CodeLine lineNumber="7600"></CodeLine>
<Link id="l07601" /><CodeLine lineNumber="7601"><span class="doxyHighlight">    EVT ResultVT = Op1.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>();</span></CodeLine>
<Link id="l07602" /><CodeLine lineNumber="7602"><span class="doxyHighlight">    EVT OverflowVT = MVT::i1;</span></CodeLine>
<Link id="l07603" /><CodeLine lineNumber="7603"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (ResultVT.<a href="/docs/api/structs/llvm/evt/#aa54976197fff266f4143beb44fc9764c">isVector</a>())</span></CodeLine>
<Link id="l07604" /><CodeLine lineNumber="7604"><span class="doxyHighlight">      OverflowVT = <a href="/docs/api/structs/llvm/evt/#a210ba6b43ba451b698857dd9de71bd15">EVT::getVectorVT</a>(</span></CodeLine>
<Link id="l07605" /><CodeLine lineNumber="7605"><span class="doxyHighlight">          &#42;<a href="/docs/api/classes/llvm/selectiondagbuilder/#ac536e4b59b1e85317cea0b32d47752ef">Context</a>, OverflowVT, ResultVT.<a href="/docs/api/structs/llvm/evt/#a3d102abca1c9c95f36546dff2f39273b">getVectorElementCount</a>());</span></CodeLine>
<Link id="l07606" /><CodeLine lineNumber="7606"></CodeLine>
<Link id="l07607" /><CodeLine lineNumber="7607"><span class="doxyHighlight">    SDVTList VTs = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVTList(ResultVT, OverflowVT);</span></CodeLine>
<Link id="l07608" /><CodeLine lineNumber="7608"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>, sdl, VTs, Op1, Op2));</span></CodeLine>
<Link id="l07609" /><CodeLine lineNumber="7609"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07610" /><CodeLine lineNumber="7610"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07611" /><CodeLine lineNumber="7611"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::prefetch: &#123;</span></CodeLine>
<Link id="l07612" /><CodeLine lineNumber="7612"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>&#91;5&#93;;</span></CodeLine>
<Link id="l07613" /><CodeLine lineNumber="7613"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> rw = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;ConstantInt&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1))-&gt;getZExtValue();</span></CodeLine>
<Link id="l07614" /><CodeLine lineNumber="7614"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a> = rw == 0 ? <a href="/docs/api/classes/llvm/machinememoperand/#aaa2020e47e35179234b9ea27d555b2dda7d12be6206e5b0026c71bbcd5cb76494">MachineMemOperand::MOLoad</a> :<a href="/docs/api/classes/llvm/machinememoperand/#aaa2020e47e35179234b9ea27d555b2ddaed357b1367bc90a56fefa4d1b0e17374">MachineMemOperand::MOStore</a>;</span></CodeLine>
<Link id="l07615" /><CodeLine lineNumber="7615"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>&#91;0&#93; = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getRoot();</span></CodeLine>
<Link id="l07616" /><CodeLine lineNumber="7616"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>&#91;1&#93; = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0));</span></CodeLine>
<Link id="l07617" /><CodeLine lineNumber="7617"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>&#91;2&#93; = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetConstant(&#42;<a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;ConstantInt&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1)), sdl,</span></CodeLine>
<Link id="l07618" /><CodeLine lineNumber="7618"><span class="doxyHighlight">                                   MVT::i32);</span></CodeLine>
<Link id="l07619" /><CodeLine lineNumber="7619"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>&#91;3&#93; = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetConstant(&#42;<a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;ConstantInt&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(2)), sdl,</span></CodeLine>
<Link id="l07620" /><CodeLine lineNumber="7620"><span class="doxyHighlight">                                   MVT::i32);</span></CodeLine>
<Link id="l07621" /><CodeLine lineNumber="7621"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>&#91;4&#93; = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetConstant(&#42;<a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;ConstantInt&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(3)), sdl,</span></CodeLine>
<Link id="l07622" /><CodeLine lineNumber="7622"><span class="doxyHighlight">                                   MVT::i32);</span></CodeLine>
<Link id="l07623" /><CodeLine lineNumber="7623"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/ms-demangle/#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMemIntrinsicNode(</span></CodeLine>
<Link id="l07624" /><CodeLine lineNumber="7624"><span class="doxyHighlight">        ISD::PREFETCH, sdl, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVTList(MVT::Other), <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>,</span></CodeLine>
<Link id="l07625" /><CodeLine lineNumber="7625"><span class="doxyHighlight">        <a href="/docs/api/structs/llvm/evt/#a752372e170e4e7c595bf8810bb52adf2">EVT::getIntegerVT</a>(&#42;<a href="/docs/api/classes/llvm/selectiondagbuilder/#ac536e4b59b1e85317cea0b32d47752ef">Context</a>, 8), MachinePointerInfo(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)),</span></CodeLine>
<Link id="l07626" /><CodeLine lineNumber="7626"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">/&#42; align &#42;/</span><span class="doxyHighlight"> std::nullopt, Flags);</span></CodeLine>
<Link id="l07627" /><CodeLine lineNumber="7627"></CodeLine>
<Link id="l07628" /><CodeLine lineNumber="7628"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Chain the prefetch in parallel with any pending loads, to stay out of</span></CodeLine>
<Link id="l07629" /><CodeLine lineNumber="7629"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// the way of later optimizations.</span></CodeLine>
<Link id="l07630" /><CodeLine lineNumber="7630"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#a9a1381eb77fac8d57f54f7bf25919a4e">PendingLoads</a>.push&#95;back(Result);</span></CodeLine>
<Link id="l07631" /><CodeLine lineNumber="7631"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/ms-demangle/#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>();</span></CodeLine>
<Link id="l07632" /><CodeLine lineNumber="7632"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(Result);</span></CodeLine>
<Link id="l07633" /><CodeLine lineNumber="7633"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07634" /><CodeLine lineNumber="7634"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07635" /><CodeLine lineNumber="7635"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::lifetime&#95;start:</span></CodeLine>
<Link id="l07636" /><CodeLine lineNumber="7636"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::lifetime&#95;end: &#123;</span></CodeLine>
<Link id="l07637" /><CodeLine lineNumber="7637"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> IsStart = (<a href="/docs/api/namespaces/llvm/codeview/#a4e60e0c351f13aade28b451480c44e5aa8b0f368e62695dc13b998050ea15a2c5">Intrinsic</a> == Intrinsic::lifetime&#95;start);</span></CodeLine>
<Link id="l07638" /><CodeLine lineNumber="7638"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Stack coloring is not enabled in O0, discard region information.</span></CodeLine>
<Link id="l07639" /><CodeLine lineNumber="7639"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (TM.getOptLevel() == <a href="/docs/api/namespaces/llvm/#a8ec1bf8d7b792ca9fac56f8514db18d2a6adf97f83acf6453d4a6a4b1070f3754">CodeGenOptLevel::None</a>)</span></CodeLine>
<Link id="l07640" /><CodeLine lineNumber="7640"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07641" /><CodeLine lineNumber="7641"></CodeLine>
<Link id="l07642" /><CodeLine lineNumber="7642"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> int64&#95;t ObjectSize =</span></CodeLine>
<Link id="l07643" /><CodeLine lineNumber="7643"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;ConstantInt&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0))-&gt;getSExtValue();</span></CodeLine>
<Link id="l07644" /><CodeLine lineNumber="7644"><span class="doxyHighlight">    Value &#42;</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/pdb/#a6bb7bf8c85135f7a1ff129776219989ea72f33b23849bd7e4956163fae1879fff">ObjectPtr</a> = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1);</span></CodeLine>
<Link id="l07645" /><CodeLine lineNumber="7645"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;const Value &#42;, 4&gt;</a> Allocas;</span></CodeLine>
<Link id="l07646" /><CodeLine lineNumber="7646"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/#acc66c148bcd950ffcc3ab83989eb70bd">getUnderlyingObjects</a>(ObjectPtr, Allocas);</span></CodeLine>
<Link id="l07647" /><CodeLine lineNumber="7647"></CodeLine>
<Link id="l07648" /><CodeLine lineNumber="7648"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;Alloca : Allocas) &#123;</span></CodeLine>
<Link id="l07649" /><CodeLine lineNumber="7649"><span class="doxyHighlight">      </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> AllocaInst &#42;LifetimeObject = <a href="/docs/api/namespaces/llvm/#a5f6182886dc2f96c204299e92c1565d5">dyn&#95;cast&#95;or&#95;null&lt;AllocaInst&gt;</a>(Alloca);</span></CodeLine>
<Link id="l07650" /><CodeLine lineNumber="7650"></CodeLine>
<Link id="l07651" /><CodeLine lineNumber="7651"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Could not find an Alloca.</span></CodeLine>
<Link id="l07652" /><CodeLine lineNumber="7652"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!LifetimeObject)</span></CodeLine>
<Link id="l07653" /><CodeLine lineNumber="7653"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">continue</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07654" /><CodeLine lineNumber="7654"></CodeLine>
<Link id="l07655" /><CodeLine lineNumber="7655"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// First check that the Alloca is static, otherwise it won&#39;t have a</span></CodeLine>
<Link id="l07656" /><CodeLine lineNumber="7656"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// valid frame index.</span></CodeLine>
<Link id="l07657" /><CodeLine lineNumber="7657"><span class="doxyHighlight">      </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/siencodingfamily/#ac0e8470f1a7e777b89ff85c06a5d46e0a53036b329d60f608f01b3fa1b8f0a473">SI</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.StaticAllocaMap.find(LifetimeObject);</span></CodeLine>
<Link id="l07658" /><CodeLine lineNumber="7658"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (SI == <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.StaticAllocaMap.end())</span></CodeLine>
<Link id="l07659" /><CodeLine lineNumber="7659"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07660" /><CodeLine lineNumber="7660"></CodeLine>
<Link id="l07661" /><CodeLine lineNumber="7661"><span class="doxyHighlight">      </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordType">int</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a> = <a href="/docs/api/namespaces/llvm/siencodingfamily/#ac0e8470f1a7e777b89ff85c06a5d46e0a53036b329d60f608f01b3fa1b8f0a473">SI</a>-&gt;second;</span></CodeLine>
<Link id="l07662" /><CodeLine lineNumber="7662"><span class="doxyHighlight">      int64&#95;t <a href="/docs/api/namespaces/llvm/#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>;</span></CodeLine>
<Link id="l07663" /><CodeLine lineNumber="7663"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/#a3ac5d9eb48038aa973017317279eadf5">GetPointerBaseWithConstantOffset</a>(</span></CodeLine>
<Link id="l07664" /><CodeLine lineNumber="7664"><span class="doxyHighlight">              ObjectPtr, <a href="/docs/api/namespaces/llvm/#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout()) != LifetimeObject)</span></CodeLine>
<Link id="l07665" /><CodeLine lineNumber="7665"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = -1; </span><span class="doxyHighlightComment">// Cannot determine offset from alloca to lifetime object.</span></CodeLine>
<Link id="l07666" /><CodeLine lineNumber="7666"><span class="doxyHighlight">      Res = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getLifetimeNode(IsStart, sdl, <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>(), FrameIndex, ObjectSize,</span></CodeLine>
<Link id="l07667" /><CodeLine lineNumber="7667"><span class="doxyHighlight">                                <a href="/docs/api/namespaces/llvm/#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>);</span></CodeLine>
<Link id="l07668" /><CodeLine lineNumber="7668"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(Res);</span></CodeLine>
<Link id="l07669" /><CodeLine lineNumber="7669"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l07670" /><CodeLine lineNumber="7670"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07671" /><CodeLine lineNumber="7671"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07672" /><CodeLine lineNumber="7672"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::pseudoprobe: &#123;</span></CodeLine>
<Link id="l07673" /><CodeLine lineNumber="7673"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/#af59335be18fa802d111a646be658b7d0acb957607a78494ea70db887d1463437c">Guid</a> = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;ConstantInt&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0))-&gt;getZExtValue();</span></CodeLine>
<Link id="l07674" /><CodeLine lineNumber="7674"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/dwarf/#a5d3c920b66ea797d6adb243862fdf47a">Index</a> = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;ConstantInt&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1))-&gt;getZExtValue();</span></CodeLine>
<Link id="l07675" /><CodeLine lineNumber="7675"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> Attr = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;ConstantInt&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(2))-&gt;getZExtValue();</span></CodeLine>
<Link id="l07676" /><CodeLine lineNumber="7676"><span class="doxyHighlight">    Res = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getPseudoProbeNode(sdl, <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>(), <a href="/docs/api/namespaces/llvm/#af59335be18fa802d111a646be658b7d0acb957607a78494ea70db887d1463437c">Guid</a>, Index, Attr);</span></CodeLine>
<Link id="l07677" /><CodeLine lineNumber="7677"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(Res);</span></CodeLine>
<Link id="l07678" /><CodeLine lineNumber="7678"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07679" /><CodeLine lineNumber="7679"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07680" /><CodeLine lineNumber="7680"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::invariant&#95;start:</span></CodeLine>
<Link id="l07681" /><CodeLine lineNumber="7681"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Discard region information.</span></CodeLine>
<Link id="l07682" /><CodeLine lineNumber="7682"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</span></CodeLine>
<Link id="l07683" /><CodeLine lineNumber="7683"><span class="doxyHighlight">             <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getUNDEF(TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType())));</span></CodeLine>
<Link id="l07684" /><CodeLine lineNumber="7684"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07685" /><CodeLine lineNumber="7685"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::invariant&#95;end:</span></CodeLine>
<Link id="l07686" /><CodeLine lineNumber="7686"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Discard region information.</span></CodeLine>
<Link id="l07687" /><CodeLine lineNumber="7687"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07688" /><CodeLine lineNumber="7688"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::clear&#95;cache: &#123;</span></CodeLine>
<Link id="l07689" /><CodeLine lineNumber="7689"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> InputChain = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getRoot();</span></CodeLine>
<Link id="l07690" /><CodeLine lineNumber="7690"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> StartVal = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0));</span></CodeLine>
<Link id="l07691" /><CodeLine lineNumber="7691"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> EndVal = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1));</span></CodeLine>
<Link id="l07692" /><CodeLine lineNumber="7692"><span class="doxyHighlight">    Res = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110addc63b0e91a7c2b397e7908052d8caf9">ISD::CLEAR&#95;CACHE</a>, sdl, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVTList(MVT::Other),</span></CodeLine>
<Link id="l07693" /><CodeLine lineNumber="7693"><span class="doxyHighlight">                      &#123;InputChain, StartVal, EndVal&#125;);</span></CodeLine>
<Link id="l07694" /><CodeLine lineNumber="7694"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Res);</span></CodeLine>
<Link id="l07695" /><CodeLine lineNumber="7695"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(Res);</span></CodeLine>
<Link id="l07696" /><CodeLine lineNumber="7696"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07697" /><CodeLine lineNumber="7697"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07698" /><CodeLine lineNumber="7698"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::donothing:</span></CodeLine>
<Link id="l07699" /><CodeLine lineNumber="7699"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::seh&#95;try&#95;begin:</span></CodeLine>
<Link id="l07700" /><CodeLine lineNumber="7700"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::seh&#95;scope&#95;begin:</span></CodeLine>
<Link id="l07701" /><CodeLine lineNumber="7701"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::seh&#95;try&#95;end:</span></CodeLine>
<Link id="l07702" /><CodeLine lineNumber="7702"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::seh&#95;scope&#95;end:</span></CodeLine>
<Link id="l07703" /><CodeLine lineNumber="7703"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// ignore</span></CodeLine>
<Link id="l07704" /><CodeLine lineNumber="7704"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07705" /><CodeLine lineNumber="7705"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::experimental&#95;stackmap:</span></CodeLine>
<Link id="l07706" /><CodeLine lineNumber="7706"><span class="doxyHighlight">    visitStackmap(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</span></CodeLine>
<Link id="l07707" /><CodeLine lineNumber="7707"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07708" /><CodeLine lineNumber="7708"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::experimental&#95;patchpoint&#95;void:</span></CodeLine>
<Link id="l07709" /><CodeLine lineNumber="7709"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::experimental&#95;patchpoint:</span></CodeLine>
<Link id="l07710" /><CodeLine lineNumber="7710"><span class="doxyHighlight">    visitPatchpoint(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</span></CodeLine>
<Link id="l07711" /><CodeLine lineNumber="7711"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07712" /><CodeLine lineNumber="7712"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::experimental&#95;gc&#95;statepoint:</span></CodeLine>
<Link id="l07713" /><CodeLine lineNumber="7713"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#a32cff45e4cfd323ecc3896adcb08c2a9">LowerStatepoint</a>(<a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;GCStatepointInst&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</span></CodeLine>
<Link id="l07714" /><CodeLine lineNumber="7714"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07715" /><CodeLine lineNumber="7715"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::experimental&#95;gc&#95;result:</span></CodeLine>
<Link id="l07716" /><CodeLine lineNumber="7716"><span class="doxyHighlight">    visitGCResult(<a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;GCResultInst&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</span></CodeLine>
<Link id="l07717" /><CodeLine lineNumber="7717"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07718" /><CodeLine lineNumber="7718"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::experimental&#95;gc&#95;relocate:</span></CodeLine>
<Link id="l07719" /><CodeLine lineNumber="7719"><span class="doxyHighlight">    visitGCRelocate(<a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;GCRelocateInst&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</span></CodeLine>
<Link id="l07720" /><CodeLine lineNumber="7720"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07721" /><CodeLine lineNumber="7721"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::instrprof&#95;cover:</span></CodeLine>
<Link id="l07722" /><CodeLine lineNumber="7722"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/support/errorhandling-h/#ace243f5c25697a1107cce46626b3dc94">llvm&#95;unreachable</a>(</span><span class="doxyHighlightStringLiteral">&quot;instrprof failed to lower a cover&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l07723" /><CodeLine lineNumber="7723"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::instrprof&#95;increment:</span></CodeLine>
<Link id="l07724" /><CodeLine lineNumber="7724"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/support/errorhandling-h/#ace243f5c25697a1107cce46626b3dc94">llvm&#95;unreachable</a>(</span><span class="doxyHighlightStringLiteral">&quot;instrprof failed to lower an increment&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l07725" /><CodeLine lineNumber="7725"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::instrprof&#95;timestamp:</span></CodeLine>
<Link id="l07726" /><CodeLine lineNumber="7726"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/support/errorhandling-h/#ace243f5c25697a1107cce46626b3dc94">llvm&#95;unreachable</a>(</span><span class="doxyHighlightStringLiteral">&quot;instrprof failed to lower a timestamp&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l07727" /><CodeLine lineNumber="7727"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::instrprof&#95;value&#95;profile:</span></CodeLine>
<Link id="l07728" /><CodeLine lineNumber="7728"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/support/errorhandling-h/#ace243f5c25697a1107cce46626b3dc94">llvm&#95;unreachable</a>(</span><span class="doxyHighlightStringLiteral">&quot;instrprof failed to lower a value profiling call&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l07729" /><CodeLine lineNumber="7729"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::instrprof&#95;mcdc&#95;parameters:</span></CodeLine>
<Link id="l07730" /><CodeLine lineNumber="7730"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/support/errorhandling-h/#ace243f5c25697a1107cce46626b3dc94">llvm&#95;unreachable</a>(</span><span class="doxyHighlightStringLiteral">&quot;instrprof failed to lower mcdc parameters&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l07731" /><CodeLine lineNumber="7731"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::instrprof&#95;mcdc&#95;tvbitmap&#95;update:</span></CodeLine>
<Link id="l07732" /><CodeLine lineNumber="7732"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/support/errorhandling-h/#ace243f5c25697a1107cce46626b3dc94">llvm&#95;unreachable</a>(</span><span class="doxyHighlightStringLiteral">&quot;instrprof failed to lower an mcdc tvbitmap update&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l07733" /><CodeLine lineNumber="7733"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::localescape: &#123;</span></CodeLine>
<Link id="l07734" /><CodeLine lineNumber="7734"><span class="doxyHighlight">    MachineFunction &amp;MF = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMachineFunction();</span></CodeLine>
<Link id="l07735" /><CodeLine lineNumber="7735"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> TargetInstrInfo &#42;<a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagoncopytocombine-cpp/#a1d40004718218dbdf06b496766299101">TII</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSubtarget().getInstrInfo();</span></CodeLine>
<Link id="l07736" /><CodeLine lineNumber="7736"></CodeLine>
<Link id="l07737" /><CodeLine lineNumber="7737"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Directly emit some LOCAL&#95;ESCAPE machine instrs. Label assignment emission</span></CodeLine>
<Link id="l07738" /><CodeLine lineNumber="7738"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// is the same on all targets.</span></CodeLine>
<Link id="l07739" /><CodeLine lineNumber="7739"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> Idx = 0, <a href="/docs/api/files/lib/lib/ir/builtingcs-cpp/#abb2b3a60ccc38a28239e19a1646e0c8a">E</a> = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.arg&#95;size(); Idx &lt; <a href="/docs/api/files/lib/lib/ir/builtingcs-cpp/#abb2b3a60ccc38a28239e19a1646e0c8a">E</a>; ++Idx) &#123;</span></CodeLine>
<Link id="l07740" /><CodeLine lineNumber="7740"><span class="doxyHighlight">      Value &#42;Arg = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(Idx)-&gt;stripPointerCasts();</span></CodeLine>
<Link id="l07741" /><CodeLine lineNumber="7741"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;ConstantPointerNull&gt;</a>(Arg))</span></CodeLine>
<Link id="l07742" /><CodeLine lineNumber="7742"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">continue</span><span class="doxyHighlight">; </span><span class="doxyHighlightComment">// Skip null pointers. They represent a hole in index space.</span></CodeLine>
<Link id="l07743" /><CodeLine lineNumber="7743"><span class="doxyHighlight">      AllocaInst &#42;<a href="/docs/api/namespaces/llvm/pdb/#a5dbb1abfb6d3c14555304f9c56703234a9234cc57c43f272b55a94b0069fe62d1">Slot</a> = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;AllocaInst&gt;</a>(Arg);</span></CodeLine>
<Link id="l07744" /><CodeLine lineNumber="7744"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.StaticAllocaMap.count(Slot) &amp;&amp;</span></CodeLine>
<Link id="l07745" /><CodeLine lineNumber="7745"><span class="doxyHighlight">             </span><span class="doxyHighlightStringLiteral">&quot;can only escape static allocas&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l07746" /><CodeLine lineNumber="7746"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordType">int</span><span class="doxyHighlight"> FI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.StaticAllocaMap&#91;<a href="/docs/api/namespaces/llvm/pdb/#a5dbb1abfb6d3c14555304f9c56703234a9234cc57c43f272b55a94b0069fe62d1">Slot</a>&#93;;</span></CodeLine>
<Link id="l07747" /><CodeLine lineNumber="7747"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110aabb68e91001557f73ff8af63eb8d5883">MCSymbol</a> &#42;FrameAllocSym = MF.<a href="/docs/api/classes/llvm/machinefunction/#a752546c51633c140d9ca4ab98b4781b6">getContext</a>().<a href="/docs/api/classes/llvm/mccontext/#a2d5af327caeae379919145f09cd51341">getOrCreateFrameAllocSymbol</a>(</span></CodeLine>
<Link id="l07748" /><CodeLine lineNumber="7748"><span class="doxyHighlight">          <a href="/docs/api/classes/llvm/globalvalue/#a3e999e4bb7297d284f931638721840e5">GlobalValue::dropLLVMManglingEscape</a>(MF.<a href="/docs/api/classes/llvm/machinefunction/#a3d142c9e7c066059e15232c56dec9e2e">getName</a>()), Idx);</span></CodeLine>
<Link id="l07749" /><CodeLine lineNumber="7749"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/#a17e04afcf0c5efeb0eb6a9a45287b5e4">BuildMI</a>(&#42;<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.MBB, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.InsertPt, dl,</span></CodeLine>
<Link id="l07750" /><CodeLine lineNumber="7750"><span class="doxyHighlight">              <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagoncopytocombine-cpp/#a1d40004718218dbdf06b496766299101">TII</a>-&gt;get(TargetOpcode::LOCAL&#95;ESCAPE))</span></CodeLine>
<Link id="l07751" /><CodeLine lineNumber="7751"><span class="doxyHighlight">          .<a href="/docs/api/classes/llvm/machineinstrbuilder/#a7ffeb5b3940506a54e69e72e26e2a6cd">addSym</a>(FrameAllocSym)</span></CodeLine>
<Link id="l07752" /><CodeLine lineNumber="7752"><span class="doxyHighlight">          .<a href="/docs/api/classes/llvm/machineinstrbuilder/#a86a93dd8ddbce120d8c3101c16bc3cc6">addFrameIndex</a>(FI);</span></CodeLine>
<Link id="l07753" /><CodeLine lineNumber="7753"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l07754" /><CodeLine lineNumber="7754"></CodeLine>
<Link id="l07755" /><CodeLine lineNumber="7755"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07756" /><CodeLine lineNumber="7756"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07757" /><CodeLine lineNumber="7757"></CodeLine>
<Link id="l07758" /><CodeLine lineNumber="7758"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::localrecover: &#123;</span></CodeLine>
<Link id="l07759" /><CodeLine lineNumber="7759"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// i8&#42; @llvm.localrecover(i8&#42; %fn, i8&#42; %fp, i32 %idx)</span></CodeLine>
<Link id="l07760" /><CodeLine lineNumber="7760"><span class="doxyHighlight">    MachineFunction &amp;MF = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMachineFunction();</span></CodeLine>
<Link id="l07761" /><CodeLine lineNumber="7761"></CodeLine>
<Link id="l07762" /><CodeLine lineNumber="7762"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Get the symbol that defines the frame offset.</span></CodeLine>
<Link id="l07763" /><CodeLine lineNumber="7763"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;Fn = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;Function&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)-&gt;stripPointerCasts());</span></CodeLine>
<Link id="l07764" /><CodeLine lineNumber="7764"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;Idx = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;ConstantInt&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(2));</span></CodeLine>
<Link id="l07765" /><CodeLine lineNumber="7765"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> IdxVal =</span></CodeLine>
<Link id="l07766" /><CodeLine lineNumber="7766"><span class="doxyHighlight">        unsigned(Idx-&gt;getLimitedValue(std::numeric&#95;limits&lt;int&gt;::max()));</span></CodeLine>
<Link id="l07767" /><CodeLine lineNumber="7767"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110aabb68e91001557f73ff8af63eb8d5883">MCSymbol</a> &#42;FrameAllocSym = MF.<a href="/docs/api/classes/llvm/machinefunction/#a752546c51633c140d9ca4ab98b4781b6">getContext</a>().<a href="/docs/api/classes/llvm/mccontext/#a2d5af327caeae379919145f09cd51341">getOrCreateFrameAllocSymbol</a>(</span></CodeLine>
<Link id="l07768" /><CodeLine lineNumber="7768"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/globalvalue/#a3e999e4bb7297d284f931638721840e5">GlobalValue::dropLLVMManglingEscape</a>(Fn-&gt;<a href="/docs/api/classes/llvm/value/#adb5c319f5905c1d3ca9eb5df546388c5">getName</a>()), IdxVal);</span></CodeLine>
<Link id="l07769" /><CodeLine lineNumber="7769"></CodeLine>
<Link id="l07770" /><CodeLine lineNumber="7770"><span class="doxyHighlight">    Value &#42;<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64iseldagtodag-cpp/#a2098a5fa6ada61b6c4a1f210ad84e4a1a4ebada6a2af2bcba53ded1d7b414f081">FP</a> = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1);</span></CodeLine>
<Link id="l07771" /><CodeLine lineNumber="7771"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> FPVal = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64iseldagtodag-cpp/#a2098a5fa6ada61b6c4a1f210ad84e4a1a4ebada6a2af2bcba53ded1d7b414f081">FP</a>);</span></CodeLine>
<Link id="l07772" /><CodeLine lineNumber="7772"><span class="doxyHighlight">    EVT PtrVT = FPVal.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>();</span></CodeLine>
<Link id="l07773" /><CodeLine lineNumber="7773"></CodeLine>
<Link id="l07774" /><CodeLine lineNumber="7774"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Create a MCSymbol for the label to avoid any target lowering</span></CodeLine>
<Link id="l07775" /><CodeLine lineNumber="7775"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// that would make this PC relative.</span></CodeLine>
<Link id="l07776" /><CodeLine lineNumber="7776"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> OffsetSym = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMCSymbol(FrameAllocSym, PtrVT);</span></CodeLine>
<Link id="l07777" /><CodeLine lineNumber="7777"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> OffsetVal =</span></CodeLine>
<Link id="l07778" /><CodeLine lineNumber="7778"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9d483820471b07a73225bf33986fd110">ISD::LOCAL&#95;RECOVER</a>, sdl, PtrVT, OffsetSym);</span></CodeLine>
<Link id="l07779" /><CodeLine lineNumber="7779"></CodeLine>
<Link id="l07780" /><CodeLine lineNumber="7780"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Add the offset to the FP.</span></CodeLine>
<Link id="l07781" /><CodeLine lineNumber="7781"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/#aac36edd0f1ce976f0025c98e88d3830eaec211f7c20af43e742bf2570c3cb84f9">Add</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMemBasePlusOffset(FPVal, OffsetVal, sdl);</span></CodeLine>
<Link id="l07782" /><CodeLine lineNumber="7782"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/namespaces/llvm/#aac36edd0f1ce976f0025c98e88d3830eaec211f7c20af43e742bf2570c3cb84f9">Add</a>);</span></CodeLine>
<Link id="l07783" /><CodeLine lineNumber="7783"></CodeLine>
<Link id="l07784" /><CodeLine lineNumber="7784"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07785" /><CodeLine lineNumber="7785"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07786" /><CodeLine lineNumber="7786"></CodeLine>
<Link id="l07787" /><CodeLine lineNumber="7787"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::fake&#95;use: &#123;</span></CodeLine>
<Link id="l07788" /><CodeLine lineNumber="7788"><span class="doxyHighlight">    Value &#42;<a href="/docs/api/namespaces/llvm/m68k/#ab3a288f2953d8eca3e363959fc2cf38ea5206560a306a2e085a437fd258eb57ce">V</a> = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0);</span></CodeLine>
<Link id="l07789" /><CodeLine lineNumber="7789"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>&#91;2&#93;;</span></CodeLine>
<Link id="l07790" /><CodeLine lineNumber="7790"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// For Values not declared or previously used in this basic block, the</span></CodeLine>
<Link id="l07791" /><CodeLine lineNumber="7791"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// NodeMap will not have an entry, and &#96;getValue&#96; will assert if V has no</span></CodeLine>
<Link id="l07792" /><CodeLine lineNumber="7792"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// valid register value.</span></CodeLine>
<Link id="l07793" /><CodeLine lineNumber="7793"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> FakeUseValue = &#91;&amp;&#93;() -&gt; <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> &#123;</span></CodeLine>
<Link id="l07794" /><CodeLine lineNumber="7794"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> &amp;<a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a> = NodeMap&#91;<a href="/docs/api/namespaces/llvm/m68k/#ab3a288f2953d8eca3e363959fc2cf38ea5206560a306a2e085a437fd258eb57ce">V</a>&#93;;</span></CodeLine>
<Link id="l07795" /><CodeLine lineNumber="7795"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>.getNode())</span></CodeLine>
<Link id="l07796" /><CodeLine lineNumber="7796"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>;</span></CodeLine>
<Link id="l07797" /><CodeLine lineNumber="7797"></CodeLine>
<Link id="l07798" /><CodeLine lineNumber="7798"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// If there&#39;s a virtual register allocated and initialized for this</span></CodeLine>
<Link id="l07799" /><CodeLine lineNumber="7799"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// value, use it.</span></CodeLine>
<Link id="l07800" /><CodeLine lineNumber="7800"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> copyFromReg = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ac0b87e85b015d15077a7d9432c500df3">getCopyFromRegs</a>(V, <a href="/docs/api/namespaces/llvm/m68k/#ab3a288f2953d8eca3e363959fc2cf38ea5206560a306a2e085a437fd258eb57ce">V</a>-&gt;getType()))</span></CodeLine>
<Link id="l07801" /><CodeLine lineNumber="7801"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> copyFromReg;</span></CodeLine>
<Link id="l07802" /><CodeLine lineNumber="7802"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// FIXME: Do we want to preserve constants? It seems pointless.</span></CodeLine>
<Link id="l07803" /><CodeLine lineNumber="7803"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;Constant&gt;</a>(V))</span></CodeLine>
<Link id="l07804" /><CodeLine lineNumber="7804"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(V);</span></CodeLine>
<Link id="l07805" /><CodeLine lineNumber="7805"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a>();</span></CodeLine>
<Link id="l07806" /><CodeLine lineNumber="7806"><span class="doxyHighlight">    &#125;();</span></CodeLine>
<Link id="l07807" /><CodeLine lineNumber="7807"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!FakeUseValue || FakeUseValue.isUndef())</span></CodeLine>
<Link id="l07808" /><CodeLine lineNumber="7808"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07809" /><CodeLine lineNumber="7809"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>&#91;0&#93; = <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>();</span></CodeLine>
<Link id="l07810" /><CodeLine lineNumber="7810"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>&#91;1&#93; = FakeUseValue;</span></CodeLine>
<Link id="l07811" /><CodeLine lineNumber="7811"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Also, do not translate a fake use with an undef operand, or any other</span></CodeLine>
<Link id="l07812" /><CodeLine lineNumber="7812"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// empty SDValues.</span></CodeLine>
<Link id="l07813" /><CodeLine lineNumber="7813"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>&#91;1&#93; || <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>&#91;1&#93;.<a href="/docs/api/files/lib/lib/codegen/machinessacontext-cpp/#a31d3975d3ebe3475aef26122625d5b59">isUndef</a>())</span></CodeLine>
<Link id="l07814" /><CodeLine lineNumber="7814"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07815" /><CodeLine lineNumber="7815"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::FAKE&#95;USE, sdl, MVT::Other, <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>));</span></CodeLine>
<Link id="l07816" /><CodeLine lineNumber="7816"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07817" /><CodeLine lineNumber="7817"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07818" /><CodeLine lineNumber="7818"></CodeLine>
<Link id="l07819" /><CodeLine lineNumber="7819"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::eh&#95;exceptionpointer:</span></CodeLine>
<Link id="l07820" /><CodeLine lineNumber="7820"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::eh&#95;exceptioncode: &#123;</span></CodeLine>
<Link id="l07821" /><CodeLine lineNumber="7821"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Get the exception pointer vreg, copy from it, and resize it to fit.</span></CodeLine>
<Link id="l07822" /><CodeLine lineNumber="7822"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;CPI = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;CatchPadInst&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0));</span></CodeLine>
<Link id="l07823" /><CodeLine lineNumber="7823"><span class="doxyHighlight">    MVT PtrVT = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout());</span></CodeLine>
<Link id="l07824" /><CodeLine lineNumber="7824"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> TargetRegisterClass &#42;PtrRC = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a1a78b9f867cb5be3a052d6ad972484ca">getRegClassFor</a>(PtrVT);</span></CodeLine>
<Link id="l07825" /><CodeLine lineNumber="7825"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/mem2reg-cpp/#a6fde3eb6ca09ddf2fd76432176d817bb">Register</a> VReg = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.getCatchPadExceptionPointerVReg(CPI, PtrRC);</span></CodeLine>
<Link id="l07826" /><CodeLine lineNumber="7826"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getCopyFromReg(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getEntryNode(), sdl, VReg, PtrVT);</span></CodeLine>
<Link id="l07827" /><CodeLine lineNumber="7827"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Intrinsic == Intrinsic::eh&#95;exceptioncode)</span></CodeLine>
<Link id="l07828" /><CodeLine lineNumber="7828"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getZExtOrTrunc(<a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>, sdl, MVT::i32);</span></CodeLine>
<Link id="l07829" /><CodeLine lineNumber="7829"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>);</span></CodeLine>
<Link id="l07830" /><CodeLine lineNumber="7830"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07831" /><CodeLine lineNumber="7831"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07832" /><CodeLine lineNumber="7832"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::xray&#95;customevent: &#123;</span></CodeLine>
<Link id="l07833" /><CodeLine lineNumber="7833"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Here we want to make sure that the intrinsic behaves as if it has a</span></CodeLine>
<Link id="l07834" /><CodeLine lineNumber="7834"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// specific calling convention.</span></CodeLine>
<Link id="l07835" /><CodeLine lineNumber="7835"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;Triple = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTarget().getTargetTriple();</span></CodeLine>
<Link id="l07836" /><CodeLine lineNumber="7836"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!Triple.isAArch64(64) &amp;&amp; Triple.getArch() != <a href="/docs/api/classes/llvm/triple/#a547abd13f7a3c063aa72c8192a868154a13d8ce5e71051718a537277c6a594062">Triple::x86&#95;64</a>)</span></CodeLine>
<Link id="l07837" /><CodeLine lineNumber="7837"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07838" /><CodeLine lineNumber="7838"></CodeLine>
<Link id="l07839" /><CodeLine lineNumber="7839"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;SDValue, 8&gt;</a> <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>;</span></CodeLine>
<Link id="l07840" /><CodeLine lineNumber="7840"></CodeLine>
<Link id="l07841" /><CodeLine lineNumber="7841"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// We want to say that we always want the arguments in registers.</span></CodeLine>
<Link id="l07842" /><CodeLine lineNumber="7842"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> LogEntryVal = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0));</span></CodeLine>
<Link id="l07843" /><CodeLine lineNumber="7843"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> StrSizeVal = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1));</span></CodeLine>
<Link id="l07844" /><CodeLine lineNumber="7844"><span class="doxyHighlight">    SDVTList NodeTys = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVTList(MVT::Other, MVT::Glue);</span></CodeLine>
<Link id="l07845" /><CodeLine lineNumber="7845"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/anonymous-loadstorevectorizer-cpp-/#afd1adfcbfce320e6265935ce4d6299a3">Chain</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>();</span></CodeLine>
<Link id="l07846" /><CodeLine lineNumber="7846"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.push&#95;back(LogEntryVal);</span></CodeLine>
<Link id="l07847" /><CodeLine lineNumber="7847"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.push&#95;back(StrSizeVal);</span></CodeLine>
<Link id="l07848" /><CodeLine lineNumber="7848"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.push&#95;back(Chain);</span></CodeLine>
<Link id="l07849" /><CodeLine lineNumber="7849"></CodeLine>
<Link id="l07850" /><CodeLine lineNumber="7850"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// We need to enforce the calling convention for the callsite, so that</span></CodeLine>
<Link id="l07851" /><CodeLine lineNumber="7851"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// argument ordering is enforced correctly, and that register allocation can</span></CodeLine>
<Link id="l07852" /><CodeLine lineNumber="7852"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// see that some registers may be assumed clobbered and have to preserve</span></CodeLine>
<Link id="l07853" /><CodeLine lineNumber="7853"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// them across calls to the intrinsic.</span></CodeLine>
<Link id="l07854" /><CodeLine lineNumber="7854"><span class="doxyHighlight">    MachineSDNode &#42;MN = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMachineNode(TargetOpcode::PATCHABLE&#95;EVENT&#95;CALL,</span></CodeLine>
<Link id="l07855" /><CodeLine lineNumber="7855"><span class="doxyHighlight">                                           sdl, NodeTys, <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>);</span></CodeLine>
<Link id="l07856" /><CodeLine lineNumber="7856"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> patchableNode = <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a>(MN, 0);</span></CodeLine>
<Link id="l07857" /><CodeLine lineNumber="7857"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(patchableNode);</span></CodeLine>
<Link id="l07858" /><CodeLine lineNumber="7858"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, patchableNode);</span></CodeLine>
<Link id="l07859" /><CodeLine lineNumber="7859"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07860" /><CodeLine lineNumber="7860"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07861" /><CodeLine lineNumber="7861"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::xray&#95;typedevent: &#123;</span></CodeLine>
<Link id="l07862" /><CodeLine lineNumber="7862"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Here we want to make sure that the intrinsic behaves as if it has a</span></CodeLine>
<Link id="l07863" /><CodeLine lineNumber="7863"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// specific calling convention.</span></CodeLine>
<Link id="l07864" /><CodeLine lineNumber="7864"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;Triple = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTarget().getTargetTriple();</span></CodeLine>
<Link id="l07865" /><CodeLine lineNumber="7865"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!Triple.isAArch64(64) &amp;&amp; Triple.getArch() != <a href="/docs/api/classes/llvm/triple/#a547abd13f7a3c063aa72c8192a868154a13d8ce5e71051718a537277c6a594062">Triple::x86&#95;64</a>)</span></CodeLine>
<Link id="l07866" /><CodeLine lineNumber="7866"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07867" /><CodeLine lineNumber="7867"></CodeLine>
<Link id="l07868" /><CodeLine lineNumber="7868"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;SDValue, 8&gt;</a> <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>;</span></CodeLine>
<Link id="l07869" /><CodeLine lineNumber="7869"></CodeLine>
<Link id="l07870" /><CodeLine lineNumber="7870"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// We want to say that we always want the arguments in registers.</span></CodeLine>
<Link id="l07871" /><CodeLine lineNumber="7871"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// It&#39;s unclear to me how manipulating the selection DAG here forces callers</span></CodeLine>
<Link id="l07872" /><CodeLine lineNumber="7872"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// to provide arguments in registers instead of on the stack.</span></CodeLine>
<Link id="l07873" /><CodeLine lineNumber="7873"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> LogTypeId = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0));</span></CodeLine>
<Link id="l07874" /><CodeLine lineNumber="7874"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> LogEntryVal = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1));</span></CodeLine>
<Link id="l07875" /><CodeLine lineNumber="7875"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> StrSizeVal = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(2));</span></CodeLine>
<Link id="l07876" /><CodeLine lineNumber="7876"><span class="doxyHighlight">    SDVTList NodeTys = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVTList(MVT::Other, MVT::Glue);</span></CodeLine>
<Link id="l07877" /><CodeLine lineNumber="7877"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/anonymous-loadstorevectorizer-cpp-/#afd1adfcbfce320e6265935ce4d6299a3">Chain</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>();</span></CodeLine>
<Link id="l07878" /><CodeLine lineNumber="7878"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.push&#95;back(LogTypeId);</span></CodeLine>
<Link id="l07879" /><CodeLine lineNumber="7879"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.push&#95;back(LogEntryVal);</span></CodeLine>
<Link id="l07880" /><CodeLine lineNumber="7880"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.push&#95;back(StrSizeVal);</span></CodeLine>
<Link id="l07881" /><CodeLine lineNumber="7881"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.push&#95;back(Chain);</span></CodeLine>
<Link id="l07882" /><CodeLine lineNumber="7882"></CodeLine>
<Link id="l07883" /><CodeLine lineNumber="7883"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// We need to enforce the calling convention for the callsite, so that</span></CodeLine>
<Link id="l07884" /><CodeLine lineNumber="7884"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// argument ordering is enforced correctly, and that register allocation can</span></CodeLine>
<Link id="l07885" /><CodeLine lineNumber="7885"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// see that some registers may be assumed clobbered and have to preserve</span></CodeLine>
<Link id="l07886" /><CodeLine lineNumber="7886"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// them across calls to the intrinsic.</span></CodeLine>
<Link id="l07887" /><CodeLine lineNumber="7887"><span class="doxyHighlight">    MachineSDNode &#42;MN = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMachineNode(</span></CodeLine>
<Link id="l07888" /><CodeLine lineNumber="7888"><span class="doxyHighlight">        TargetOpcode::PATCHABLE&#95;TYPED&#95;EVENT&#95;CALL, sdl, NodeTys, <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>);</span></CodeLine>
<Link id="l07889" /><CodeLine lineNumber="7889"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> patchableNode = <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a>(MN, 0);</span></CodeLine>
<Link id="l07890" /><CodeLine lineNumber="7890"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(patchableNode);</span></CodeLine>
<Link id="l07891" /><CodeLine lineNumber="7891"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, patchableNode);</span></CodeLine>
<Link id="l07892" /><CodeLine lineNumber="7892"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07893" /><CodeLine lineNumber="7893"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07894" /><CodeLine lineNumber="7894"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::experimental&#95;deoptimize:</span></CodeLine>
<Link id="l07895" /><CodeLine lineNumber="7895"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#a459873061a3fed537ca026ddaffe57ed">LowerDeoptimizeCall</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</span></CodeLine>
<Link id="l07896" /><CodeLine lineNumber="7896"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07897" /><CodeLine lineNumber="7897"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::stepvector:</span></CodeLine>
<Link id="l07898" /><CodeLine lineNumber="7898"><span class="doxyHighlight">    visitStepVector(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</span></CodeLine>
<Link id="l07899" /><CodeLine lineNumber="7899"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07900" /><CodeLine lineNumber="7900"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::vector&#95;reduce&#95;fadd:</span></CodeLine>
<Link id="l07901" /><CodeLine lineNumber="7901"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::vector&#95;reduce&#95;fmul:</span></CodeLine>
<Link id="l07902" /><CodeLine lineNumber="7902"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::vector&#95;reduce&#95;add:</span></CodeLine>
<Link id="l07903" /><CodeLine lineNumber="7903"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::vector&#95;reduce&#95;mul:</span></CodeLine>
<Link id="l07904" /><CodeLine lineNumber="7904"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::vector&#95;reduce&#95;and:</span></CodeLine>
<Link id="l07905" /><CodeLine lineNumber="7905"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::vector&#95;reduce&#95;or:</span></CodeLine>
<Link id="l07906" /><CodeLine lineNumber="7906"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::vector&#95;reduce&#95;xor:</span></CodeLine>
<Link id="l07907" /><CodeLine lineNumber="7907"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::vector&#95;reduce&#95;smax:</span></CodeLine>
<Link id="l07908" /><CodeLine lineNumber="7908"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::vector&#95;reduce&#95;smin:</span></CodeLine>
<Link id="l07909" /><CodeLine lineNumber="7909"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::vector&#95;reduce&#95;umax:</span></CodeLine>
<Link id="l07910" /><CodeLine lineNumber="7910"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::vector&#95;reduce&#95;umin:</span></CodeLine>
<Link id="l07911" /><CodeLine lineNumber="7911"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::vector&#95;reduce&#95;fmax:</span></CodeLine>
<Link id="l07912" /><CodeLine lineNumber="7912"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::vector&#95;reduce&#95;fmin:</span></CodeLine>
<Link id="l07913" /><CodeLine lineNumber="7913"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::vector&#95;reduce&#95;fmaximum:</span></CodeLine>
<Link id="l07914" /><CodeLine lineNumber="7914"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::vector&#95;reduce&#95;fminimum:</span></CodeLine>
<Link id="l07915" /><CodeLine lineNumber="7915"><span class="doxyHighlight">    visitVectorReduce(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Intrinsic);</span></CodeLine>
<Link id="l07916" /><CodeLine lineNumber="7916"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07917" /><CodeLine lineNumber="7917"></CodeLine>
<Link id="l07918" /><CodeLine lineNumber="7918"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::icall&#95;branch&#95;funnel: &#123;</span></CodeLine>
<Link id="l07919" /><CodeLine lineNumber="7919"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;SDValue, 16&gt;</a> <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>;</span></CodeLine>
<Link id="l07920" /><CodeLine lineNumber="7920"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.push&#95;back(<a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)));</span></CodeLine>
<Link id="l07921" /><CodeLine lineNumber="7921"></CodeLine>
<Link id="l07922" /><CodeLine lineNumber="7922"><span class="doxyHighlight">    int64&#95;t <a href="/docs/api/namespaces/llvm/#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>;</span></CodeLine>
<Link id="l07923" /><CodeLine lineNumber="7923"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;<a href="/docs/api/namespaces/llvm/sampleprof/#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;GlobalObject&gt;</a>(<a href="/docs/api/namespaces/llvm/#a3ac5d9eb48038aa973017317279eadf5">GetPointerBaseWithConstantOffset</a>(</span></CodeLine>
<Link id="l07924" /><CodeLine lineNumber="7924"><span class="doxyHighlight">        <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1), <a href="/docs/api/namespaces/llvm/#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout()));</span></CodeLine>
<Link id="l07925" /><CodeLine lineNumber="7925"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="/docs/api/namespaces/llvm/sampleprof/#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>)</span></CodeLine>
<Link id="l07926" /><CodeLine lineNumber="7926"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/#a7f2a3d4dcfee70225988aec53ff1e173">report&#95;fatal&#95;error</a>(</span></CodeLine>
<Link id="l07927" /><CodeLine lineNumber="7927"><span class="doxyHighlight">          </span><span class="doxyHighlightStringLiteral">&quot;llvm.icall.branch.funnel operand must be a GlobalValue&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l07928" /><CodeLine lineNumber="7928"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.push&#95;back(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetGlobalAddress(<a href="/docs/api/namespaces/llvm/sampleprof/#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>, sdl, MVT::i64, 0));</span></CodeLine>
<Link id="l07929" /><CodeLine lineNumber="7929"></CodeLine>
<Link id="l07930" /><CodeLine lineNumber="7930"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">struct </span><span class="doxyHighlight">BranchFunnelTarget &#123;</span></CodeLine>
<Link id="l07931" /><CodeLine lineNumber="7931"><span class="doxyHighlight">      int64&#95;t <a href="/docs/api/namespaces/llvm/#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>;</span></CodeLine>
<Link id="l07932" /><CodeLine lineNumber="7932"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/amdgpu/exp/#af7592dc94276d1958420bcfb414b6998">Target</a>;</span></CodeLine>
<Link id="l07933" /><CodeLine lineNumber="7933"><span class="doxyHighlight">    &#125;;</span></CodeLine>
<Link id="l07934" /><CodeLine lineNumber="7934"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;BranchFunnelTarget, 8&gt;</a> <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfa1eb7e8cfb9fedbbf4d8f497fed784976">Targets</a>;</span></CodeLine>
<Link id="l07935" /><CodeLine lineNumber="7935"></CodeLine>
<Link id="l07936" /><CodeLine lineNumber="7936"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a> = 1, <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a> = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.arg&#95;size(); <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a> != <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>; <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a> += 2) &#123;</span></CodeLine>
<Link id="l07937" /><CodeLine lineNumber="7937"><span class="doxyHighlight">      </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;ElemBase = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;GlobalObject&gt;</a>(<a href="/docs/api/namespaces/llvm/#a3ac5d9eb48038aa973017317279eadf5">GetPointerBaseWithConstantOffset</a>(</span></CodeLine>
<Link id="l07938" /><CodeLine lineNumber="7938"><span class="doxyHighlight">          <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(<a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>), <a href="/docs/api/namespaces/llvm/#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout()));</span></CodeLine>
<Link id="l07939" /><CodeLine lineNumber="7939"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (ElemBase != <a href="/docs/api/namespaces/llvm/sampleprof/#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>)</span></CodeLine>
<Link id="l07940" /><CodeLine lineNumber="7940"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/#a7f2a3d4dcfee70225988aec53ff1e173">report&#95;fatal&#95;error</a>(</span><span class="doxyHighlightStringLiteral">&quot;all llvm.icall.branch.funnel operands must refer &quot;</span></CodeLine>
<Link id="l07941" /><CodeLine lineNumber="7941"><span class="doxyHighlight">                           </span><span class="doxyHighlightStringLiteral">&quot;to the same GlobalValue&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l07942" /><CodeLine lineNumber="7942"></CodeLine>
<Link id="l07943" /><CodeLine lineNumber="7943"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Val = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(<a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a> + 1));</span></CodeLine>
<Link id="l07944" /><CodeLine lineNumber="7944"><span class="doxyHighlight">      </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;GA = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;GlobalAddressSDNode&gt;</a>(Val);</span></CodeLine>
<Link id="l07945" /><CodeLine lineNumber="7945"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!GA)</span></CodeLine>
<Link id="l07946" /><CodeLine lineNumber="7946"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/#a7f2a3d4dcfee70225988aec53ff1e173">report&#95;fatal&#95;error</a>(</span></CodeLine>
<Link id="l07947" /><CodeLine lineNumber="7947"><span class="doxyHighlight">            </span><span class="doxyHighlightStringLiteral">&quot;llvm.icall.branch.funnel operand must be a GlobalValue&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l07948" /><CodeLine lineNumber="7948"><span class="doxyHighlight">      <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfa1eb7e8cfb9fedbbf4d8f497fed784976">Targets</a>.push&#95;back(&#123;<a href="/docs/api/namespaces/llvm/#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetGlobalAddress(</span></CodeLine>
<Link id="l07949" /><CodeLine lineNumber="7949"><span class="doxyHighlight">                                     GA-&gt;getGlobal(), sdl, Val.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>(),</span></CodeLine>
<Link id="l07950" /><CodeLine lineNumber="7950"><span class="doxyHighlight">                                     GA-&gt;getOffset())&#125;);</span></CodeLine>
<Link id="l07951" /><CodeLine lineNumber="7951"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l07952" /><CodeLine lineNumber="7952"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/#a74cdbd1e4f731e7d7cd83461b8b1de0b">llvm::sort</a>(Targets,</span></CodeLine>
<Link id="l07953" /><CodeLine lineNumber="7953"><span class="doxyHighlight">               &#91;&#93;(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> BranchFunnelTarget &amp;<a href="/docs/api/files/lib/lib/target/lib/target/mips/mips16isellowering-cpp/#ac16509a75e3d3fc46b9df1726be486ec">T1</a>, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> BranchFunnelTarget &amp;T2) &#123;</span></CodeLine>
<Link id="l07954" /><CodeLine lineNumber="7954"><span class="doxyHighlight">                 </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/files/lib/lib/target/lib/target/mips/mips16isellowering-cpp/#ac16509a75e3d3fc46b9df1726be486ec">T1</a>.Offset &lt; T2.Offset;</span></CodeLine>
<Link id="l07955" /><CodeLine lineNumber="7955"><span class="doxyHighlight">               &#125;);</span></CodeLine>
<Link id="l07956" /><CodeLine lineNumber="7956"></CodeLine>
<Link id="l07957" /><CodeLine lineNumber="7957"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;<a href="/docs/api/files/lib/lib/target/lib/target/mips/mips16isellowering-cpp/#a0acb682b8260ab1c60b918599864e2e5">T</a> : Targets) &#123;</span></CodeLine>
<Link id="l07958" /><CodeLine lineNumber="7958"><span class="doxyHighlight">      <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.push&#95;back(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetConstant(<a href="/docs/api/files/lib/lib/target/lib/target/mips/mips16isellowering-cpp/#a0acb682b8260ab1c60b918599864e2e5">T</a>.Offset, sdl, MVT::i32));</span></CodeLine>
<Link id="l07959" /><CodeLine lineNumber="7959"><span class="doxyHighlight">      <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.push&#95;back(<a href="/docs/api/files/lib/lib/target/lib/target/mips/mips16isellowering-cpp/#a0acb682b8260ab1c60b918599864e2e5">T</a>.Target);</span></CodeLine>
<Link id="l07960" /><CodeLine lineNumber="7960"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l07961" /><CodeLine lineNumber="7961"></CodeLine>
<Link id="l07962" /><CodeLine lineNumber="7962"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.push&#95;back(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getRoot()); </span><span class="doxyHighlightComment">// Chain</span></CodeLine>
<Link id="l07963" /><CodeLine lineNumber="7963"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMachineNode(TargetOpcode::ICALL&#95;BRANCH&#95;FUNNEL, sdl,</span></CodeLine>
<Link id="l07964" /><CodeLine lineNumber="7964"><span class="doxyHighlight">                                 MVT::Other, <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>),</span></CodeLine>
<Link id="l07965" /><CodeLine lineNumber="7965"><span class="doxyHighlight">              0);</span></CodeLine>
<Link id="l07966" /><CodeLine lineNumber="7966"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(<a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>);</span></CodeLine>
<Link id="l07967" /><CodeLine lineNumber="7967"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>);</span></CodeLine>
<Link id="l07968" /><CodeLine lineNumber="7968"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#a39e446f1647e793791c33d0d2412d088">HasTailCall</a> = </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07969" /><CodeLine lineNumber="7969"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07970" /><CodeLine lineNumber="7970"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07971" /><CodeLine lineNumber="7971"></CodeLine>
<Link id="l07972" /><CodeLine lineNumber="7972"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::wasm&#95;landingpad&#95;index:</span></CodeLine>
<Link id="l07973" /><CodeLine lineNumber="7973"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Information this intrinsic contained has been transferred to</span></CodeLine>
<Link id="l07974" /><CodeLine lineNumber="7974"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// MachineFunction in SelectionDAGISel::PrepareEHLandingPad. We can safely</span></CodeLine>
<Link id="l07975" /><CodeLine lineNumber="7975"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// delete it now.</span></CodeLine>
<Link id="l07976" /><CodeLine lineNumber="7976"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07977" /><CodeLine lineNumber="7977"></CodeLine>
<Link id="l07978" /><CodeLine lineNumber="7978"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::aarch64&#95;settag:</span></CodeLine>
<Link id="l07979" /><CodeLine lineNumber="7979"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::aarch64&#95;settag&#95;zero: &#123;</span></CodeLine>
<Link id="l07980" /><CodeLine lineNumber="7980"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> SelectionDAGTargetInfo &amp;TSI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSelectionDAGInfo();</span></CodeLine>
<Link id="l07981" /><CodeLine lineNumber="7981"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> ZeroMemory = <a href="/docs/api/namespaces/llvm/codeview/#a4e60e0c351f13aade28b451480c44e5aa8b0f368e62695dc13b998050ea15a2c5">Intrinsic</a> == Intrinsic::aarch64&#95;settag&#95;zero;</span></CodeLine>
<Link id="l07982" /><CodeLine lineNumber="7982"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Val = TSI.<a href="/docs/api/classes/llvm/selectiondagtargetinfo/#ad1cfa2c033245a06d51970733bc1a610">EmitTargetCodeForSetTag</a>(</span></CodeLine>
<Link id="l07983" /><CodeLine lineNumber="7983"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>, sdl, <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>(), <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)),</span></CodeLine>
<Link id="l07984" /><CodeLine lineNumber="7984"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1)), MachinePointerInfo(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)),</span></CodeLine>
<Link id="l07985" /><CodeLine lineNumber="7985"><span class="doxyHighlight">        ZeroMemory);</span></CodeLine>
<Link id="l07986" /><CodeLine lineNumber="7986"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(Val);</span></CodeLine>
<Link id="l07987" /><CodeLine lineNumber="7987"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Val);</span></CodeLine>
<Link id="l07988" /><CodeLine lineNumber="7988"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l07989" /><CodeLine lineNumber="7989"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l07990" /><CodeLine lineNumber="7990"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::amdgcn&#95;cs&#95;chain: &#123;</span></CodeLine>
<Link id="l07991" /><CodeLine lineNumber="7991"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.arg&#95;size() == 5 &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Additional args not supported yet&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l07992" /><CodeLine lineNumber="7992"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;ConstantInt&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(4))-&gt;isZero() &amp;&amp;</span></CodeLine>
<Link id="l07993" /><CodeLine lineNumber="7993"><span class="doxyHighlight">           </span><span class="doxyHighlightStringLiteral">&quot;Non-zero flags not supported yet&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l07994" /><CodeLine lineNumber="7994"></CodeLine>
<Link id="l07995" /><CodeLine lineNumber="7995"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// At this point we don&#39;t care if it&#39;s amdgpu&#95;cs&#95;chain or</span></CodeLine>
<Link id="l07996" /><CodeLine lineNumber="7996"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// amdgpu&#95;cs&#95;chain&#95;preserve.</span></CodeLine>
<Link id="l07997" /><CodeLine lineNumber="7997"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/callingconv/#abdf8cf606905c10634e831390981b0ed">CallingConv::ID</a> <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a77c69067ae8279bc00ab8757731e90d7">CC</a> = <a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4ca8d298f27ddf40e08cd5aacea9837784f">CallingConv::AMDGPU&#95;CS&#95;Chain</a>;</span></CodeLine>
<Link id="l07998" /><CodeLine lineNumber="7998"></CodeLine>
<Link id="l07999" /><CodeLine lineNumber="7999"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a88ee8e4eea43084bd8964682683da88caa1fa27779242b4902f7ae3bdd5c6d508">Type</a> &#42;RetTy = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType();</span></CodeLine>
<Link id="l08000" /><CodeLine lineNumber="8000"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(RetTy-&gt;<a href="/docs/api/classes/llvm/type/#ae8eaa0b4eeac52a2b2282cb1bfd981ae">isVoidTy</a>() &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Should not return&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l08001" /><CodeLine lineNumber="8001"></CodeLine>
<Link id="l08002" /><CodeLine lineNumber="8002"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/pdb/#a33e853ec74d48b1340d1d4bae772d30bac8ff9e15a93f800c74c05e7b37364816">Callee</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0));</span></CodeLine>
<Link id="l08003" /><CodeLine lineNumber="8003"></CodeLine>
<Link id="l08004" /><CodeLine lineNumber="8004"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// We only have 2 actual args: one for the SGPRs and one for the VGPRs.</span></CodeLine>
<Link id="l08005" /><CodeLine lineNumber="8005"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// We&#39;ll also tack the value of the EXEC mask at the end.</span></CodeLine>
<Link id="l08006" /><CodeLine lineNumber="8006"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/targetloweringbase/#ae4ac6bc14db22dbd7b94a3b1bd276796">TargetLowering::ArgListTy</a> <a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/key/#a1958a762261549463a280bac3274d6d5">Args</a>;</span></CodeLine>
<Link id="l08007" /><CodeLine lineNumber="8007"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/key/#a1958a762261549463a280bac3274d6d5">Args</a>.reserve(3);</span></CodeLine>
<Link id="l08008" /><CodeLine lineNumber="8008"></CodeLine>
<Link id="l08009" /><CodeLine lineNumber="8009"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> Idx : &#123;2, 3, 1&#125;) &#123;</span></CodeLine>
<Link id="l08010" /><CodeLine lineNumber="8010"><span class="doxyHighlight">      TargetLowering::ArgListEntry Arg;</span></CodeLine>
<Link id="l08011" /><CodeLine lineNumber="8011"><span class="doxyHighlight">      Arg.<a href="/docs/api/classes/llvm/targetloweringbase/arglistentry/#aa5f317ee61451763ecf2155fd2f623ba">Node</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(Idx));</span></CodeLine>
<Link id="l08012" /><CodeLine lineNumber="8012"><span class="doxyHighlight">      Arg.<a href="/docs/api/classes/llvm/targetloweringbase/arglistentry/#acada8d6359d8bd884ac2c199587adf7a">Ty</a> = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(Idx)-&gt;getType();</span></CodeLine>
<Link id="l08013" /><CodeLine lineNumber="8013"><span class="doxyHighlight">      Arg.<a href="/docs/api/classes/llvm/targetloweringbase/arglistentry/#a2b5fc958c69057eb6752424f6417ef42">setAttributes</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Idx);</span></CodeLine>
<Link id="l08014" /><CodeLine lineNumber="8014"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/key/#a1958a762261549463a280bac3274d6d5">Args</a>.push&#95;back(Arg);</span></CodeLine>
<Link id="l08015" /><CodeLine lineNumber="8015"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l08016" /><CodeLine lineNumber="8016"></CodeLine>
<Link id="l08017" /><CodeLine lineNumber="8017"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Args&#91;0&#93;.IsInReg &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;SGPR args should be marked inreg&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l08018" /><CodeLine lineNumber="8018"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Args&#91;1&#93;.IsInReg &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;VGPR args should not be marked inreg&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l08019" /><CodeLine lineNumber="8019"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/key/#a1958a762261549463a280bac3274d6d5">Args</a>&#91;2&#93;.IsInReg = </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">; </span><span class="doxyHighlightComment">// EXEC should be inreg</span></CodeLine>
<Link id="l08020" /><CodeLine lineNumber="8020"></CodeLine>
<Link id="l08021" /><CodeLine lineNumber="8021"><span class="doxyHighlight">    TargetLowering::CallLoweringInfo CLI(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>);</span></CodeLine>
<Link id="l08022" /><CodeLine lineNumber="8022"><span class="doxyHighlight">    CLI.setDebugLoc(<a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>())</span></CodeLine>
<Link id="l08023" /><CodeLine lineNumber="8023"><span class="doxyHighlight">        .setChain(<a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>())</span></CodeLine>
<Link id="l08024" /><CodeLine lineNumber="8024"><span class="doxyHighlight">        .setCallee(<a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a77c69067ae8279bc00ab8757731e90d7">CC</a>, RetTy, Callee, std::move(Args))</span></CodeLine>
<Link id="l08025" /><CodeLine lineNumber="8025"><span class="doxyHighlight">        .setNoReturn(</span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">)</span></CodeLine>
<Link id="l08026" /><CodeLine lineNumber="8026"><span class="doxyHighlight">        .setTailCall(</span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">)</span></CodeLine>
<Link id="l08027" /><CodeLine lineNumber="8027"><span class="doxyHighlight">        .setConvergent(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.isConvergent());</span></CodeLine>
<Link id="l08028" /><CodeLine lineNumber="8028"><span class="doxyHighlight">    CLI.CB = &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</span></CodeLine>
<Link id="l08029" /><CodeLine lineNumber="8029"><span class="doxyHighlight">    std::pair&lt;SDValue, SDValue&gt; <a href="/docs/api/namespaces/llvm/ms-demangle/#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> =</span></CodeLine>
<Link id="l08030" /><CodeLine lineNumber="8030"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagbuilder/#ab29b69c993fbb9a4b9d28c3600df005d">lowerInvokable</a>(CLI, </span><span class="doxyHighlightComment">/&#42;EHPadBB&#42;/</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l08031" /><CodeLine lineNumber="8031"><span class="doxyHighlight">    (void)Result;</span></CodeLine>
<Link id="l08032" /><CodeLine lineNumber="8032"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a href="/docs/api/namespaces/llvm/ms-demangle/#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>.first.getNode() &amp;&amp; !<a href="/docs/api/namespaces/llvm/ms-demangle/#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>.second.getNode() &amp;&amp;</span></CodeLine>
<Link id="l08033" /><CodeLine lineNumber="8033"><span class="doxyHighlight">           </span><span class="doxyHighlightStringLiteral">&quot;Should&#39;ve lowered as tail call&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l08034" /><CodeLine lineNumber="8034"></CodeLine>
<Link id="l08035" /><CodeLine lineNumber="8035"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#a39e446f1647e793791c33d0d2412d088">HasTailCall</a> = </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08036" /><CodeLine lineNumber="8036"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08037" /><CodeLine lineNumber="8037"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l08038" /><CodeLine lineNumber="8038"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::ptrmask: &#123;</span></CodeLine>
<Link id="l08039" /><CodeLine lineNumber="8039"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0));</span></CodeLine>
<Link id="l08040" /><CodeLine lineNumber="8040"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/bitmaskenumdetail/#a4562904154aff9698a612bc7f6086a4c">Mask</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(1));</span></CodeLine>
<Link id="l08041" /><CodeLine lineNumber="8041"></CodeLine>
<Link id="l08042" /><CodeLine lineNumber="8042"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// On arm64&#95;32, pointers are 32 bits when stored in memory, but</span></CodeLine>
<Link id="l08043" /><CodeLine lineNumber="8043"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// zero-extended to 64 bits when in registers.  Thus the mask is 32 bits to</span></CodeLine>
<Link id="l08044" /><CodeLine lineNumber="8044"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// match the index type, but the pointer is 64 bits, so the the mask must be</span></CodeLine>
<Link id="l08045" /><CodeLine lineNumber="8045"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// zero-extended up to 64 bits to match the pointer.</span></CodeLine>
<Link id="l08046" /><CodeLine lineNumber="8046"><span class="doxyHighlight">    EVT PtrVT =</span></CodeLine>
<Link id="l08047" /><CodeLine lineNumber="8047"><span class="doxyHighlight">        TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0)-&gt;getType());</span></CodeLine>
<Link id="l08048" /><CodeLine lineNumber="8048"><span class="doxyHighlight">    EVT MemVT =</span></CodeLine>
<Link id="l08049" /><CodeLine lineNumber="8049"><span class="doxyHighlight">        TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a02b5aaf4357ae931647439e312a034bc">getMemValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0)-&gt;getType());</span></CodeLine>
<Link id="l08050" /><CodeLine lineNumber="8050"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(PtrVT == <a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>.getValueType());</span></CodeLine>
<Link id="l08051" /><CodeLine lineNumber="8051"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(MemVT == <a href="/docs/api/namespaces/llvm/bitmaskenumdetail/#a4562904154aff9698a612bc7f6086a4c">Mask</a>.getValueType());</span></CodeLine>
<Link id="l08052" /><CodeLine lineNumber="8052"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (MemVT != PtrVT)</span></CodeLine>
<Link id="l08053" /><CodeLine lineNumber="8053"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/bitmaskenumdetail/#a4562904154aff9698a612bc7f6086a4c">Mask</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getPtrExtOrTrunc(Mask, sdl, PtrVT);</span></CodeLine>
<Link id="l08054" /><CodeLine lineNumber="8054"></CodeLine>
<Link id="l08055" /><CodeLine lineNumber="8055"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, sdl, PtrVT, <a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, Mask));</span></CodeLine>
<Link id="l08056" /><CodeLine lineNumber="8056"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08057" /><CodeLine lineNumber="8057"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l08058" /><CodeLine lineNumber="8058"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::threadlocal&#95;address: &#123;</span></CodeLine>
<Link id="l08059" /><CodeLine lineNumber="8059"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0)));</span></CodeLine>
<Link id="l08060" /><CodeLine lineNumber="8060"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08061" /><CodeLine lineNumber="8061"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l08062" /><CodeLine lineNumber="8062"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::get&#95;active&#95;lane&#95;mask: &#123;</span></CodeLine>
<Link id="l08063" /><CodeLine lineNumber="8063"><span class="doxyHighlight">    EVT CCVT = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType());</span></CodeLine>
<Link id="l08064" /><CodeLine lineNumber="8064"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/dwarf/#a5d3c920b66ea797d6adb243862fdf47a">Index</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0));</span></CodeLine>
<Link id="l08065" /><CodeLine lineNumber="8065"><span class="doxyHighlight">    EVT ElementVT = <a href="/docs/api/namespaces/llvm/dwarf/#a5d3c920b66ea797d6adb243862fdf47a">Index</a>.getValueType();</span></CodeLine>
<Link id="l08066" /><CodeLine lineNumber="8066"></CodeLine>
<Link id="l08067" /><CodeLine lineNumber="8067"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a6f5ac5f720a33ce370dfe004e68c6bb9">shouldExpandGetActiveLaneMask</a>(CCVT, ElementVT)) &#123;</span></CodeLine>
<Link id="l08068" /><CodeLine lineNumber="8068"><span class="doxyHighlight">      visitTargetIntrinsic(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Intrinsic);</span></CodeLine>
<Link id="l08069" /><CodeLine lineNumber="8069"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08070" /><CodeLine lineNumber="8070"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l08071" /><CodeLine lineNumber="8071"></CodeLine>
<Link id="l08072" /><CodeLine lineNumber="8072"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> TripCount = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(1));</span></CodeLine>
<Link id="l08073" /><CodeLine lineNumber="8073"><span class="doxyHighlight">    EVT VecTy = <a href="/docs/api/structs/llvm/evt/#a210ba6b43ba451b698857dd9de71bd15">EVT::getVectorVT</a>(&#42;<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getContext(), ElementVT,</span></CodeLine>
<Link id="l08074" /><CodeLine lineNumber="8074"><span class="doxyHighlight">                                 CCVT.<a href="/docs/api/structs/llvm/evt/#a3d102abca1c9c95f36546dff2f39273b">getVectorElementCount</a>());</span></CodeLine>
<Link id="l08075" /><CodeLine lineNumber="8075"></CodeLine>
<Link id="l08076" /><CodeLine lineNumber="8076"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> VectorIndex = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSplat(VecTy, sdl, Index);</span></CodeLine>
<Link id="l08077" /><CodeLine lineNumber="8077"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> VectorTripCount = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSplat(VecTy, sdl, TripCount);</span></CodeLine>
<Link id="l08078" /><CodeLine lineNumber="8078"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> VectorStep = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getStepVector(sdl, VecTy);</span></CodeLine>
<Link id="l08079" /><CodeLine lineNumber="8079"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> VectorInduction = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(</span></CodeLine>
<Link id="l08080" /><CodeLine lineNumber="8080"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a5e433873c201ad85c30e42da1ae05977">ISD::UADDSAT</a>, sdl, VecTy, VectorIndex, VectorStep);</span></CodeLine>
<Link id="l08081" /><CodeLine lineNumber="8081"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> SetCC = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSetCC(sdl, CCVT, VectorInduction,</span></CodeLine>
<Link id="l08082" /><CodeLine lineNumber="8082"><span class="doxyHighlight">                                 VectorTripCount, <a href="/docs/api/namespaces/llvm/isd/#ac3c3cf58d6d631af6a172457304d3d07a473200f06bdd611fdbed43d908b84305">ISD::CondCode::SETULT</a>);</span></CodeLine>
<Link id="l08083" /><CodeLine lineNumber="8083"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, SetCC);</span></CodeLine>
<Link id="l08084" /><CodeLine lineNumber="8084"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08085" /><CodeLine lineNumber="8085"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l08086" /><CodeLine lineNumber="8086"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::experimental&#95;get&#95;vector&#95;length: &#123;</span></CodeLine>
<Link id="l08087" /><CodeLine lineNumber="8087"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;ConstantInt&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(1))-&gt;getSExtValue() &gt; 0 &amp;&amp;</span></CodeLine>
<Link id="l08088" /><CodeLine lineNumber="8088"><span class="doxyHighlight">           </span><span class="doxyHighlightStringLiteral">&quot;Expected positive VF&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l08089" /><CodeLine lineNumber="8089"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> VF = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;ConstantInt&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(1))-&gt;getZExtValue();</span></CodeLine>
<Link id="l08090" /><CodeLine lineNumber="8090"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> IsScalable = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;ConstantInt&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(2))-&gt;isOne();</span></CodeLine>
<Link id="l08091" /><CodeLine lineNumber="8091"></CodeLine>
<Link id="l08092" /><CodeLine lineNumber="8092"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/#a845e08be4b0320d66901a66b0c0e9509">Count</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0));</span></CodeLine>
<Link id="l08093" /><CodeLine lineNumber="8093"><span class="doxyHighlight">    EVT CountVT = <a href="/docs/api/namespaces/llvm/#a845e08be4b0320d66901a66b0c0e9509">Count</a>.getValueType();</span></CodeLine>
<Link id="l08094" /><CodeLine lineNumber="8094"></CodeLine>
<Link id="l08095" /><CodeLine lineNumber="8095"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#aa621165d1642a0b466cc9c4ed76e4974">shouldExpandGetVectorLength</a>(CountVT, VF, IsScalable)) &#123;</span></CodeLine>
<Link id="l08096" /><CodeLine lineNumber="8096"><span class="doxyHighlight">      visitTargetIntrinsic(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Intrinsic);</span></CodeLine>
<Link id="l08097" /><CodeLine lineNumber="8097"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08098" /><CodeLine lineNumber="8098"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l08099" /><CodeLine lineNumber="8099"></CodeLine>
<Link id="l08100" /><CodeLine lineNumber="8100"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Expand to a umin between the trip count and the maximum elements the type</span></CodeLine>
<Link id="l08101" /><CodeLine lineNumber="8101"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// can hold.</span></CodeLine>
<Link id="l08102" /><CodeLine lineNumber="8102"><span class="doxyHighlight">    EVT VT = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType());</span></CodeLine>
<Link id="l08103" /><CodeLine lineNumber="8103"></CodeLine>
<Link id="l08104" /><CodeLine lineNumber="8104"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Extend the trip count to at least the result VT.</span></CodeLine>
<Link id="l08105" /><CodeLine lineNumber="8105"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (CountVT.<a href="/docs/api/structs/llvm/evt/#a3bf257bfbd279ecfad670be03b00210e">bitsLT</a>(VT)) &#123;</span></CodeLine>
<Link id="l08106" /><CodeLine lineNumber="8106"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/#a845e08be4b0320d66901a66b0c0e9509">Count</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">ISD::ZERO&#95;EXTEND</a>, sdl, VT, <a href="/docs/api/namespaces/llvm/#a845e08be4b0320d66901a66b0c0e9509">Count</a>);</span></CodeLine>
<Link id="l08107" /><CodeLine lineNumber="8107"><span class="doxyHighlight">      CountVT = VT;</span></CodeLine>
<Link id="l08108" /><CodeLine lineNumber="8108"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l08109" /><CodeLine lineNumber="8109"></CodeLine>
<Link id="l08110" /><CodeLine lineNumber="8110"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> MaxEVL = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getElementCount(sdl, CountVT,</span></CodeLine>
<Link id="l08111" /><CodeLine lineNumber="8111"><span class="doxyHighlight">                                         <a href="/docs/api/classes/llvm/elementcount/#a79ea372f9aa69492fccfafc0e5a1589c">ElementCount::get</a>(VF, IsScalable));</span></CodeLine>
<Link id="l08112" /><CodeLine lineNumber="8112"></CodeLine>
<Link id="l08113" /><CodeLine lineNumber="8113"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/#aac36edd0f1ce976f0025c98e88d3830ea1c692ed4bf463fb08fca4d8cb8201ac0">UMin</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a17126302da6199930e55e841ca1b082d">ISD::UMIN</a>, sdl, CountVT, <a href="/docs/api/namespaces/llvm/#a845e08be4b0320d66901a66b0c0e9509">Count</a>, MaxEVL);</span></CodeLine>
<Link id="l08114" /><CodeLine lineNumber="8114"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Clip to the result type if needed.</span></CodeLine>
<Link id="l08115" /><CodeLine lineNumber="8115"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Trunc = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>, sdl, VT, <a href="/docs/api/namespaces/llvm/#aac36edd0f1ce976f0025c98e88d3830ea1c692ed4bf463fb08fca4d8cb8201ac0">UMin</a>);</span></CodeLine>
<Link id="l08116" /><CodeLine lineNumber="8116"></CodeLine>
<Link id="l08117" /><CodeLine lineNumber="8117"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Trunc);</span></CodeLine>
<Link id="l08118" /><CodeLine lineNumber="8118"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08119" /><CodeLine lineNumber="8119"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l08120" /><CodeLine lineNumber="8120"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::experimental&#95;vector&#95;partial&#95;reduce&#95;add: &#123;</span></CodeLine>
<Link id="l08121" /><CodeLine lineNumber="8121"></CodeLine>
<Link id="l08122" /><CodeLine lineNumber="8122"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#aba6276c50c1251745bca2456e80bda1a">shouldExpandPartialReductionIntrinsic</a>(<a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;IntrinsicInst&gt;</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>))) &#123;</span></CodeLine>
<Link id="l08123" /><CodeLine lineNumber="8123"><span class="doxyHighlight">      visitTargetIntrinsic(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Intrinsic);</span></CodeLine>
<Link id="l08124" /><CodeLine lineNumber="8124"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08125" /><CodeLine lineNumber="8125"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l08126" /><CodeLine lineNumber="8126"></CodeLine>
<Link id="l08127" /><CodeLine lineNumber="8127"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getPartialReduceAdd(sdl, <a href="/docs/api/structs/llvm/evt/#a5db8faf73cf29bcefdb3bdfadf3dc2c1">EVT::getEVT</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType()),</span></CodeLine>
<Link id="l08128" /><CodeLine lineNumber="8128"><span class="doxyHighlight">                                         <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0)),</span></CodeLine>
<Link id="l08129" /><CodeLine lineNumber="8129"><span class="doxyHighlight">                                         <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(1))));</span></CodeLine>
<Link id="l08130" /><CodeLine lineNumber="8130"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08131" /><CodeLine lineNumber="8131"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l08132" /><CodeLine lineNumber="8132"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::experimental&#95;cttz&#95;elts: &#123;</span></CodeLine>
<Link id="l08133" /><CodeLine lineNumber="8133"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>();</span></CodeLine>
<Link id="l08134" /><CodeLine lineNumber="8134"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0));</span></CodeLine>
<Link id="l08135" /><CodeLine lineNumber="8135"><span class="doxyHighlight">    EVT OpVT = <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>.getValueType();</span></CodeLine>
<Link id="l08136" /><CodeLine lineNumber="8136"></CodeLine>
<Link id="l08137" /><CodeLine lineNumber="8137"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#abfa9c472441c00290a99dbdf52c03a9b">shouldExpandCttzElements</a>(OpVT)) &#123;</span></CodeLine>
<Link id="l08138" /><CodeLine lineNumber="8138"><span class="doxyHighlight">      visitTargetIntrinsic(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Intrinsic);</span></CodeLine>
<Link id="l08139" /><CodeLine lineNumber="8139"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08140" /><CodeLine lineNumber="8140"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l08141" /><CodeLine lineNumber="8141"></CodeLine>
<Link id="l08142" /><CodeLine lineNumber="8142"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (OpVT.<a href="/docs/api/structs/llvm/evt/#aa85c75e8eb097f02caeb5b9119eebfef">getScalarType</a>() != MVT::i1) &#123;</span></CodeLine>
<Link id="l08143" /><CodeLine lineNumber="8143"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Compare the input vector elements to zero &amp; use to count trailing zeros</span></CodeLine>
<Link id="l08144" /><CodeLine lineNumber="8144"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> AllZero = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getConstant(0, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, OpVT);</span></CodeLine>
<Link id="l08145" /><CodeLine lineNumber="8145"><span class="doxyHighlight">      OpVT = <a href="/docs/api/structs/llvm/evt/#a210ba6b43ba451b698857dd9de71bd15">EVT::getVectorVT</a>(&#42;<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getContext(), MVT::i1,</span></CodeLine>
<Link id="l08146" /><CodeLine lineNumber="8146"><span class="doxyHighlight">                              OpVT.<a href="/docs/api/structs/llvm/evt/#a3d102abca1c9c95f36546dff2f39273b">getVectorElementCount</a>());</span></CodeLine>
<Link id="l08147" /><CodeLine lineNumber="8147"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSetCC(<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, OpVT, <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>, AllZero, <a href="/docs/api/namespaces/llvm/isd/#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>);</span></CodeLine>
<Link id="l08148" /><CodeLine lineNumber="8148"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l08149" /><CodeLine lineNumber="8149"></CodeLine>
<Link id="l08150" /><CodeLine lineNumber="8150"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// If the zero-is-poison flag is set, we can assume the upper limit</span></CodeLine>
<Link id="l08151" /><CodeLine lineNumber="8151"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// of the result is VF-1.</span></CodeLine>
<Link id="l08152" /><CodeLine lineNumber="8152"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> ZeroIsPoison =</span></CodeLine>
<Link id="l08153" /><CodeLine lineNumber="8153"><span class="doxyHighlight">        !<a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;ConstantSDNode&gt;</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(1)))-&gt;isZero();</span></CodeLine>
<Link id="l08154" /><CodeLine lineNumber="8154"><span class="doxyHighlight">    ConstantRange VScaleRange(1, </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">); </span><span class="doxyHighlightComment">// Dummy value.</span></CodeLine>
<Link id="l08155" /><CodeLine lineNumber="8155"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;ScalableVectorType&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0)-&gt;getType()))</span></CodeLine>
<Link id="l08156" /><CodeLine lineNumber="8156"><span class="doxyHighlight">      VScaleRange = <a href="/docs/api/namespaces/llvm/#a880ecb27263b592a9c72b96378c10088">getVScaleRange</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getCaller(), 64);</span></CodeLine>
<Link id="l08157" /><CodeLine lineNumber="8157"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> EltWidth = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a54ea77d9e8070a1a18b224d984b12c1b">getBitWidthForCttzElements</a>(</span></CodeLine>
<Link id="l08158" /><CodeLine lineNumber="8158"><span class="doxyHighlight">        <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType(), OpVT.<a href="/docs/api/structs/llvm/evt/#a3d102abca1c9c95f36546dff2f39273b">getVectorElementCount</a>(), ZeroIsPoison, &amp;VScaleRange);</span></CodeLine>
<Link id="l08159" /><CodeLine lineNumber="8159"></CodeLine>
<Link id="l08160" /><CodeLine lineNumber="8160"><span class="doxyHighlight">    MVT NewEltTy = <a href="/docs/api/classes/llvm/mvt/#aded931e298cfa08b5038ca2b63c06bb8">MVT::getIntegerVT</a>(EltWidth);</span></CodeLine>
<Link id="l08161" /><CodeLine lineNumber="8161"></CodeLine>
<Link id="l08162" /><CodeLine lineNumber="8162"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Create the new vector type &amp; get the vector length</span></CodeLine>
<Link id="l08163" /><CodeLine lineNumber="8163"><span class="doxyHighlight">    EVT NewVT = <a href="/docs/api/structs/llvm/evt/#a210ba6b43ba451b698857dd9de71bd15">EVT::getVectorVT</a>(&#42;<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getContext(), NewEltTy,</span></CodeLine>
<Link id="l08164" /><CodeLine lineNumber="8164"><span class="doxyHighlight">                                 OpVT.<a href="/docs/api/structs/llvm/evt/#a3d102abca1c9c95f36546dff2f39273b">getVectorElementCount</a>());</span></CodeLine>
<Link id="l08165" /><CodeLine lineNumber="8165"></CodeLine>
<Link id="l08166" /><CodeLine lineNumber="8166"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> VL =</span></CodeLine>
<Link id="l08167" /><CodeLine lineNumber="8167"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getElementCount(<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, NewEltTy, OpVT.<a href="/docs/api/structs/llvm/evt/#a3d102abca1c9c95f36546dff2f39273b">getVectorElementCount</a>());</span></CodeLine>
<Link id="l08168" /><CodeLine lineNumber="8168"></CodeLine>
<Link id="l08169" /><CodeLine lineNumber="8169"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> StepVec = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getStepVector(<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, NewVT);</span></CodeLine>
<Link id="l08170" /><CodeLine lineNumber="8170"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> SplatVL = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSplat(NewVT, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VL);</span></CodeLine>
<Link id="l08171" /><CodeLine lineNumber="8171"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> StepVL = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, NewVT, SplatVL, StepVec);</span></CodeLine>
<Link id="l08172" /><CodeLine lineNumber="8172"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/mipsisd/#a422daf9aa810935178671306b651d69ba88a797f57846adb2c382b3732b471913">Ext</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a5183f3d72924bc7c77ba8d3f5de9f602">ISD::SIGN&#95;EXTEND</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, NewVT, <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>);</span></CodeLine>
<Link id="l08173" /><CodeLine lineNumber="8173"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/#aac36edd0f1ce976f0025c98e88d3830eac33315685a0cba3ce53be378b3c7874b">And</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, NewVT, StepVL, Ext);</span></CodeLine>
<Link id="l08174" /><CodeLine lineNumber="8174"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/pdb/#a81a0fae24e6bdfe240da4249a8da5978a6a061313d22e51e0f25b7cd4dc065233">Max</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::VECREDUCE&#95;UMAX, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, NewEltTy, <a href="/docs/api/namespaces/llvm/#aac36edd0f1ce976f0025c98e88d3830eac33315685a0cba3ce53be378b3c7874b">And</a>);</span></CodeLine>
<Link id="l08175" /><CodeLine lineNumber="8175"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Sub = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, NewEltTy, VL, Max);</span></CodeLine>
<Link id="l08176" /><CodeLine lineNumber="8176"></CodeLine>
<Link id="l08177" /><CodeLine lineNumber="8177"><span class="doxyHighlight">    EVT RetTy = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType());</span></CodeLine>
<Link id="l08178" /><CodeLine lineNumber="8178"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/mipsisd/#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">Ret</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getZExtOrTrunc(Sub, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, RetTy);</span></CodeLine>
<Link id="l08179" /><CodeLine lineNumber="8179"></CodeLine>
<Link id="l08180" /><CodeLine lineNumber="8180"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Ret);</span></CodeLine>
<Link id="l08181" /><CodeLine lineNumber="8181"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08182" /><CodeLine lineNumber="8182"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l08183" /><CodeLine lineNumber="8183"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::vector&#95;insert: &#123;</span></CodeLine>
<Link id="l08184" /><CodeLine lineNumber="8184"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Vec = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0));</span></CodeLine>
<Link id="l08185" /><CodeLine lineNumber="8185"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> SubVec = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(1));</span></CodeLine>
<Link id="l08186" /><CodeLine lineNumber="8186"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/dwarf/#a5d3c920b66ea797d6adb243862fdf47a">Index</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(2));</span></CodeLine>
<Link id="l08187" /><CodeLine lineNumber="8187"></CodeLine>
<Link id="l08188" /><CodeLine lineNumber="8188"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// The intrinsic&#39;s index type is i64, but the SDNode requires an index type</span></CodeLine>
<Link id="l08189" /><CodeLine lineNumber="8189"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// suitable for the target. Convert the index as required.</span></CodeLine>
<Link id="l08190" /><CodeLine lineNumber="8190"><span class="doxyHighlight">    MVT VectorIdxTy = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a2dd702dca28f51ec1137faed5d0e5837">getVectorIdxTy</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout());</span></CodeLine>
<Link id="l08191" /><CodeLine lineNumber="8191"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/dwarf/#a5d3c920b66ea797d6adb243862fdf47a">Index</a>.getValueType() != VectorIdxTy)</span></CodeLine>
<Link id="l08192" /><CodeLine lineNumber="8192"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/dwarf/#a5d3c920b66ea797d6adb243862fdf47a">Index</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVectorIdxConstant(<a href="/docs/api/namespaces/llvm/dwarf/#a5d3c920b66ea797d6adb243862fdf47a">Index</a>-&gt;getAsZExtVal(), sdl);</span></CodeLine>
<Link id="l08193" /><CodeLine lineNumber="8193"></CodeLine>
<Link id="l08194" /><CodeLine lineNumber="8194"><span class="doxyHighlight">    EVT ResultVT = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType());</span></CodeLine>
<Link id="l08195" /><CodeLine lineNumber="8195"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a1617abaedbb1d902bb3a5b3136684f9c">ISD::INSERT&#95;SUBVECTOR</a>, sdl, ResultVT, Vec, SubVec,</span></CodeLine>
<Link id="l08196" /><CodeLine lineNumber="8196"><span class="doxyHighlight">                             Index));</span></CodeLine>
<Link id="l08197" /><CodeLine lineNumber="8197"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08198" /><CodeLine lineNumber="8198"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l08199" /><CodeLine lineNumber="8199"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::vector&#95;extract: &#123;</span></CodeLine>
<Link id="l08200" /><CodeLine lineNumber="8200"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Vec = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0));</span></CodeLine>
<Link id="l08201" /><CodeLine lineNumber="8201"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/dwarf/#a5d3c920b66ea797d6adb243862fdf47a">Index</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(1));</span></CodeLine>
<Link id="l08202" /><CodeLine lineNumber="8202"><span class="doxyHighlight">    EVT ResultVT = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType());</span></CodeLine>
<Link id="l08203" /><CodeLine lineNumber="8203"></CodeLine>
<Link id="l08204" /><CodeLine lineNumber="8204"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// The intrinsic&#39;s index type is i64, but the SDNode requires an index type</span></CodeLine>
<Link id="l08205" /><CodeLine lineNumber="8205"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// suitable for the target. Convert the index as required.</span></CodeLine>
<Link id="l08206" /><CodeLine lineNumber="8206"><span class="doxyHighlight">    MVT VectorIdxTy = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a2dd702dca28f51ec1137faed5d0e5837">getVectorIdxTy</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout());</span></CodeLine>
<Link id="l08207" /><CodeLine lineNumber="8207"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/dwarf/#a5d3c920b66ea797d6adb243862fdf47a">Index</a>.getValueType() != VectorIdxTy)</span></CodeLine>
<Link id="l08208" /><CodeLine lineNumber="8208"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/dwarf/#a5d3c920b66ea797d6adb243862fdf47a">Index</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVectorIdxConstant(<a href="/docs/api/namespaces/llvm/dwarf/#a5d3c920b66ea797d6adb243862fdf47a">Index</a>-&gt;getAsZExtVal(), sdl);</span></CodeLine>
<Link id="l08209" /><CodeLine lineNumber="8209"></CodeLine>
<Link id="l08210" /><CodeLine lineNumber="8210"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</span></CodeLine>
<Link id="l08211" /><CodeLine lineNumber="8211"><span class="doxyHighlight">             <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9070de8a5c5b71851732c4c54e2ffedf">ISD::EXTRACT&#95;SUBVECTOR</a>, sdl, ResultVT, Vec, Index));</span></CodeLine>
<Link id="l08212" /><CodeLine lineNumber="8212"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08213" /><CodeLine lineNumber="8213"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l08214" /><CodeLine lineNumber="8214"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::experimental&#95;vector&#95;match: &#123;</span></CodeLine>
<Link id="l08215" /><CodeLine lineNumber="8215"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op1 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0));</span></CodeLine>
<Link id="l08216" /><CodeLine lineNumber="8216"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op2 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(1));</span></CodeLine>
<Link id="l08217" /><CodeLine lineNumber="8217"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/bitmaskenumdetail/#a4562904154aff9698a612bc7f6086a4c">Mask</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(2));</span></CodeLine>
<Link id="l08218" /><CodeLine lineNumber="8218"><span class="doxyHighlight">    EVT Op1VT = Op1.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>();</span></CodeLine>
<Link id="l08219" /><CodeLine lineNumber="8219"><span class="doxyHighlight">    EVT Op2VT = Op2.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>();</span></CodeLine>
<Link id="l08220" /><CodeLine lineNumber="8220"><span class="doxyHighlight">    EVT ResVT = <a href="/docs/api/namespaces/llvm/bitmaskenumdetail/#a4562904154aff9698a612bc7f6086a4c">Mask</a>.getValueType();</span></CodeLine>
<Link id="l08221" /><CodeLine lineNumber="8221"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> SearchSize = Op2VT.<a href="/docs/api/structs/llvm/evt/#ae245d70802e4ebe1cae2b6122c62a22a">getVectorNumElements</a>();</span></CodeLine>
<Link id="l08222" /><CodeLine lineNumber="8222"></CodeLine>
<Link id="l08223" /><CodeLine lineNumber="8223"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// If the target has native support for this vector match operation, lower</span></CodeLine>
<Link id="l08224" /><CodeLine lineNumber="8224"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// the intrinsic untouched; otherwise, expand it below.</span></CodeLine>
<Link id="l08225" /><CodeLine lineNumber="8225"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a9a2cc08cead6d2a17c0f776366d264a5">shouldExpandVectorMatch</a>(Op1VT, SearchSize)) &#123;</span></CodeLine>
<Link id="l08226" /><CodeLine lineNumber="8226"><span class="doxyHighlight">      visitTargetIntrinsic(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Intrinsic);</span></CodeLine>
<Link id="l08227" /><CodeLine lineNumber="8227"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08228" /><CodeLine lineNumber="8228"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l08229" /><CodeLine lineNumber="8229"></CodeLine>
<Link id="l08230" /><CodeLine lineNumber="8230"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/mipsisd/#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">Ret</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getConstant(0, sdl, ResVT);</span></CodeLine>
<Link id="l08231" /><CodeLine lineNumber="8231"></CodeLine>
<Link id="l08232" /><CodeLine lineNumber="8232"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> i = 0; i &lt; SearchSize; ++i) &#123;</span></CodeLine>
<Link id="l08233" /><CodeLine lineNumber="8233"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op2Elem = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9329e79f62e9ab9b41cfbcafd314bcbd">ISD::EXTRACT&#95;VECTOR&#95;ELT</a>, sdl,</span></CodeLine>
<Link id="l08234" /><CodeLine lineNumber="8234"><span class="doxyHighlight">                                    Op2VT.<a href="/docs/api/structs/llvm/evt/#abc4c6365ade17ad4443ad0e381e7479d">getVectorElementType</a>(), Op2,</span></CodeLine>
<Link id="l08235" /><CodeLine lineNumber="8235"><span class="doxyHighlight">                                    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVectorIdxConstant(i, sdl));</span></CodeLine>
<Link id="l08236" /><CodeLine lineNumber="8236"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/#a766456df1dd21e804cd4596304e10764a5b9bf50c6579a978e5c1104bf8787651">Splat</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a7f864031b6fb691b1525cbea92542ef1">ISD::SPLAT&#95;VECTOR</a>, sdl, Op1VT, Op2Elem);</span></CodeLine>
<Link id="l08237" /><CodeLine lineNumber="8237"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/x86/#a86730e94ae6fdf0fe3145b2acc88dea8ac9b4c62f6dc1bc5caf3c768b687cbf7e">Cmp</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSetCC(sdl, ResVT, Op1, <a href="/docs/api/namespaces/llvm/#a766456df1dd21e804cd4596304e10764a5b9bf50c6579a978e5c1104bf8787651">Splat</a>, <a href="/docs/api/namespaces/llvm/isd/#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a>);</span></CodeLine>
<Link id="l08238" /><CodeLine lineNumber="8238"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/mipsisd/#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">Ret</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>, sdl, ResVT, Ret, Cmp);</span></CodeLine>
<Link id="l08239" /><CodeLine lineNumber="8239"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l08240" /><CodeLine lineNumber="8240"></CodeLine>
<Link id="l08241" /><CodeLine lineNumber="8241"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, sdl, ResVT, Ret, Mask));</span></CodeLine>
<Link id="l08242" /><CodeLine lineNumber="8242"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08243" /><CodeLine lineNumber="8243"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l08244" /><CodeLine lineNumber="8244"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::vector&#95;reverse:</span></CodeLine>
<Link id="l08245" /><CodeLine lineNumber="8245"><span class="doxyHighlight">    visitVectorReverse(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</span></CodeLine>
<Link id="l08246" /><CodeLine lineNumber="8246"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08247" /><CodeLine lineNumber="8247"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::vector&#95;splice:</span></CodeLine>
<Link id="l08248" /><CodeLine lineNumber="8248"><span class="doxyHighlight">    visitVectorSplice(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</span></CodeLine>
<Link id="l08249" /><CodeLine lineNumber="8249"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08250" /><CodeLine lineNumber="8250"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::callbr&#95;landingpad:</span></CodeLine>
<Link id="l08251" /><CodeLine lineNumber="8251"><span class="doxyHighlight">    visitCallBrLandingPad(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</span></CodeLine>
<Link id="l08252" /><CodeLine lineNumber="8252"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08253" /><CodeLine lineNumber="8253"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::vector&#95;interleave2:</span></CodeLine>
<Link id="l08254" /><CodeLine lineNumber="8254"><span class="doxyHighlight">    visitVectorInterleave(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</span></CodeLine>
<Link id="l08255" /><CodeLine lineNumber="8255"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08256" /><CodeLine lineNumber="8256"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::vector&#95;deinterleave2:</span></CodeLine>
<Link id="l08257" /><CodeLine lineNumber="8257"><span class="doxyHighlight">    visitVectorDeinterleave(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</span></CodeLine>
<Link id="l08258" /><CodeLine lineNumber="8258"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08259" /><CodeLine lineNumber="8259"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::experimental&#95;vector&#95;compress:</span></CodeLine>
<Link id="l08260" /><CodeLine lineNumber="8260"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110adb06c311948bd9fb944ab3c433138181">ISD::VECTOR&#95;COMPRESS</a>, sdl,</span></CodeLine>
<Link id="l08261" /><CodeLine lineNumber="8261"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)).getValueType(),</span></CodeLine>
<Link id="l08262" /><CodeLine lineNumber="8262"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)),</span></CodeLine>
<Link id="l08263" /><CodeLine lineNumber="8263"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1)),</span></CodeLine>
<Link id="l08264" /><CodeLine lineNumber="8264"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(2)), Flags));</span></CodeLine>
<Link id="l08265" /><CodeLine lineNumber="8265"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08266" /><CodeLine lineNumber="8266"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::experimental&#95;convergence&#95;anchor:</span></CodeLine>
<Link id="l08267" /><CodeLine lineNumber="8267"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::experimental&#95;convergence&#95;entry:</span></CodeLine>
<Link id="l08268" /><CodeLine lineNumber="8268"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::experimental&#95;convergence&#95;loop:</span></CodeLine>
<Link id="l08269" /><CodeLine lineNumber="8269"><span class="doxyHighlight">    visitConvergenceControl(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Intrinsic);</span></CodeLine>
<Link id="l08270" /><CodeLine lineNumber="8270"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08271" /><CodeLine lineNumber="8271"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::experimental&#95;vector&#95;histogram&#95;add: &#123;</span></CodeLine>
<Link id="l08272" /><CodeLine lineNumber="8272"><span class="doxyHighlight">    visitVectorHistogram(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Intrinsic);</span></CodeLine>
<Link id="l08273" /><CodeLine lineNumber="8273"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08274" /><CodeLine lineNumber="8274"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l08275" /><CodeLine lineNumber="8275"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::experimental&#95;vector&#95;extract&#95;last&#95;active: &#123;</span></CodeLine>
<Link id="l08276" /><CodeLine lineNumber="8276"><span class="doxyHighlight">    visitVectorExtractLastActive(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Intrinsic);</span></CodeLine>
<Link id="l08277" /><CodeLine lineNumber="8277"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08278" /><CodeLine lineNumber="8278"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l08279" /><CodeLine lineNumber="8279"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l08280" /><CodeLine lineNumber="8280"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l08281" /><CodeLine lineNumber="8281"></CodeLine>
<Link id="l08282" /><CodeLine lineNumber="8282"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitConstrainedFPIntrinsic(</span></CodeLine>
<Link id="l08283" /><CodeLine lineNumber="8283"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/constrainedfpintrinsic">ConstrainedFPIntrinsic</a> &amp;FPI) &#123;</span></CodeLine>
<Link id="l08284" /><CodeLine lineNumber="8284"><span class="doxyHighlight">  SDLoc sdl = <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>();</span></CodeLine>
<Link id="l08285" /><CodeLine lineNumber="8285"></CodeLine>
<Link id="l08286" /><CodeLine lineNumber="8286"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// We do not need to serialize constrained FP intrinsics against</span></CodeLine>
<Link id="l08287" /><CodeLine lineNumber="8287"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// each other or against (nonvolatile) loads, so they can be</span></CodeLine>
<Link id="l08288" /><CodeLine lineNumber="8288"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// chained like loads.</span></CodeLine>
<Link id="l08289" /><CodeLine lineNumber="8289"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/anonymous-loadstorevectorizer-cpp-/#afd1adfcbfce320e6265935ce4d6299a3">Chain</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getRoot();</span></CodeLine>
<Link id="l08290" /><CodeLine lineNumber="8290"><span class="doxyHighlight">  SmallVector&lt;SDValue, 4&gt; Opers;</span></CodeLine>
<Link id="l08291" /><CodeLine lineNumber="8291"><span class="doxyHighlight">  Opers.<a href="/docs/api/classes/llvm/smallvectortemplatebase/#af42bfbc067df27c19ee2fc859df58799">push&#95;back</a>(Chain);</span></CodeLine>
<Link id="l08292" /><CodeLine lineNumber="8292"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0, <a href="/docs/api/files/lib/lib/ir/builtingcs-cpp/#abb2b3a60ccc38a28239e19a1646e0c8a">E</a> = FPI.<a href="/docs/api/classes/llvm/constrainedfpintrinsic/#a9ba9cd066476f18d59351934de5ee48d">getNonMetadataArgCount</a>(); <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a href="/docs/api/files/lib/lib/ir/builtingcs-cpp/#abb2b3a60ccc38a28239e19a1646e0c8a">E</a>; ++<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</span></CodeLine>
<Link id="l08293" /><CodeLine lineNumber="8293"><span class="doxyHighlight">    Opers.<a href="/docs/api/classes/llvm/smallvectortemplatebase/#af42bfbc067df27c19ee2fc859df58799">push&#95;back</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(FPI.<a href="/docs/api/classes/llvm/callbase/#aabd76e6a8a23a5af1ce4d3c310d88bcd">getArgOperand</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>)));</span></CodeLine>
<Link id="l08294" /><CodeLine lineNumber="8294"></CodeLine>
<Link id="l08295" /><CodeLine lineNumber="8295"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> pushOutChain = &#91;</span><span class="doxyHighlightKeyword">this</span><span class="doxyHighlight">&#93;(<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/ms-demangle/#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>, <a href="/docs/api/namespaces/llvm/fp/#a51c5e09b2604faec548aef87bd482630">fp::ExceptionBehavior</a> EB) &#123;</span></CodeLine>
<Link id="l08296" /><CodeLine lineNumber="8296"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a href="/docs/api/namespaces/llvm/ms-demangle/#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>.getNode()-&gt;getNumValues() == 2);</span></CodeLine>
<Link id="l08297" /><CodeLine lineNumber="8297"></CodeLine>
<Link id="l08298" /><CodeLine lineNumber="8298"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Push node to the appropriate list so that future instructions can be</span></CodeLine>
<Link id="l08299" /><CodeLine lineNumber="8299"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// chained up correctly.</span></CodeLine>
<Link id="l08300" /><CodeLine lineNumber="8300"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> OutChain = <a href="/docs/api/namespaces/llvm/ms-demangle/#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>.getValue(1);</span></CodeLine>
<Link id="l08301" /><CodeLine lineNumber="8301"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">switch</span><span class="doxyHighlight"> (EB) &#123;</span></CodeLine>
<Link id="l08302" /><CodeLine lineNumber="8302"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/fp/#a51c5e09b2604faec548aef87bd482630ad8009e7c0ce2967115e856052243ac62">fp::ExceptionBehavior::ebIgnore</a>:</span></CodeLine>
<Link id="l08303" /><CodeLine lineNumber="8303"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// The only reason why ebIgnore nodes still need to be chained is that</span></CodeLine>
<Link id="l08304" /><CodeLine lineNumber="8304"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// they might depend on the current rounding mode, and therefore must</span></CodeLine>
<Link id="l08305" /><CodeLine lineNumber="8305"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// not be moved across instruction that may change that mode.</span></CodeLine>
<Link id="l08306" /><CodeLine lineNumber="8306"><span class="doxyHighlight">      &#91;&#91;fallthrough&#93;&#93;;</span></CodeLine>
<Link id="l08307" /><CodeLine lineNumber="8307"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/fp/#a51c5e09b2604faec548aef87bd482630ac0971b3e4cf010afada5a9673a705e48">fp::ExceptionBehavior::ebMayTrap</a>:</span></CodeLine>
<Link id="l08308" /><CodeLine lineNumber="8308"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// These must not be moved across calls or instructions that may change</span></CodeLine>
<Link id="l08309" /><CodeLine lineNumber="8309"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// floating-point exception masks.</span></CodeLine>
<Link id="l08310" /><CodeLine lineNumber="8310"><span class="doxyHighlight">      PendingConstrainedFP.push&#95;back(OutChain);</span></CodeLine>
<Link id="l08311" /><CodeLine lineNumber="8311"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08312" /><CodeLine lineNumber="8312"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/fp/#a51c5e09b2604faec548aef87bd482630a5dfc3e95e600e911e26874be1f27dba7">fp::ExceptionBehavior::ebStrict</a>:</span></CodeLine>
<Link id="l08313" /><CodeLine lineNumber="8313"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// These must not be moved across calls or instructions that may change</span></CodeLine>
<Link id="l08314" /><CodeLine lineNumber="8314"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// floating-point exception masks or read floating-point exception flags.</span></CodeLine>
<Link id="l08315" /><CodeLine lineNumber="8315"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// In addition, they cannot be optimized out even if unused.</span></CodeLine>
<Link id="l08316" /><CodeLine lineNumber="8316"><span class="doxyHighlight">      PendingConstrainedFPStrict.push&#95;back(OutChain);</span></CodeLine>
<Link id="l08317" /><CodeLine lineNumber="8317"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08318" /><CodeLine lineNumber="8318"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l08319" /><CodeLine lineNumber="8319"><span class="doxyHighlight">  &#125;;</span></CodeLine>
<Link id="l08320" /><CodeLine lineNumber="8320"></CodeLine>
<Link id="l08321" /><CodeLine lineNumber="8321"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> TargetLowering &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l08322" /><CodeLine lineNumber="8322"><span class="doxyHighlight">  EVT VT = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), FPI.<a href="/docs/api/classes/llvm/value/#a0344a49526443edf90cc0aef3abd3337">getType</a>());</span></CodeLine>
<Link id="l08323" /><CodeLine lineNumber="8323"><span class="doxyHighlight">  SDVTList VTs = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVTList(VT, MVT::Other);</span></CodeLine>
<Link id="l08324" /><CodeLine lineNumber="8324"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/fp/#a51c5e09b2604faec548aef87bd482630">fp::ExceptionBehavior</a> EB = &#42;FPI.<a href="/docs/api/classes/llvm/constrainedfpintrinsic/#a00c4a5b0ef7928bc65dca7af9a5a2b37">getExceptionBehavior</a>();</span></CodeLine>
<Link id="l08325" /><CodeLine lineNumber="8325"></CodeLine>
<Link id="l08326" /><CodeLine lineNumber="8326"><span class="doxyHighlight">  SDNodeFlags <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>;</span></CodeLine>
<Link id="l08327" /><CodeLine lineNumber="8327"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (EB == <a href="/docs/api/namespaces/llvm/fp/#a51c5e09b2604faec548aef87bd482630ad8009e7c0ce2967115e856052243ac62">fp::ExceptionBehavior::ebIgnore</a>)</span></CodeLine>
<Link id="l08328" /><CodeLine lineNumber="8328"><span class="doxyHighlight">    <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setNoFPExcept(</span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l08329" /><CodeLine lineNumber="8329"></CodeLine>
<Link id="l08330" /><CodeLine lineNumber="8330"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;FPOp = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;FPMathOperator&gt;</a>(&amp;FPI))</span></CodeLine>
<Link id="l08331" /><CodeLine lineNumber="8331"><span class="doxyHighlight">    <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.copyFMF(&#42;FPOp);</span></CodeLine>
<Link id="l08332" /><CodeLine lineNumber="8332"></CodeLine>
<Link id="l08333" /><CodeLine lineNumber="8333"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> Opcode;</span></CodeLine>
<Link id="l08334" /><CodeLine lineNumber="8334"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">switch</span><span class="doxyHighlight"> (FPI.<a href="/docs/api/classes/llvm/intrinsicinst/#a7ff64b3625b6f9020556ed05a5f72af4">getIntrinsicID</a>()) &#123;</span></CodeLine>
<Link id="l08335" /><CodeLine lineNumber="8335"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">default</span><span class="doxyHighlight">: <a href="/docs/api/files/include/include/llvm/include/llvm/support/errorhandling-h/#ace243f5c25697a1107cce46626b3dc94">llvm&#95;unreachable</a>(</span><span class="doxyHighlightStringLiteral">&quot;Impossible intrinsic&quot;</span><span class="doxyHighlight">);  </span><span class="doxyHighlightComment">// Can&#39;t reach here.</span></CodeLine>
<Link id="l08336" /><CodeLine lineNumber="8336"><span class="doxyHighlightPreprocessor">#define DAG&#95;INSTRUCTION(NAME, NARG, ROUND&#95;MODE, INTRINSIC, DAGN)               \\</span></CodeLine>
<Link id="l08337" /><CodeLine lineNumber="8337"><span class="doxyHighlightPreprocessor">  case Intrinsic::INTRINSIC:                                                   \\</span></CodeLine>
<Link id="l08338" /><CodeLine lineNumber="8338"><span class="doxyHighlightPreprocessor">    Opcode = ISD::STRICT&#95;##DAGN;                                               \\</span></CodeLine>
<Link id="l08339" /><CodeLine lineNumber="8339"><span class="doxyHighlightPreprocessor">    break;</span></CodeLine>
<Link id="l08340" /><CodeLine lineNumber="8340"><span class="doxyHighlightPreprocessor">#include &quot;llvm/IR/ConstrainedOps.def&quot;</span></CodeLine>
<Link id="l08341" /><CodeLine lineNumber="8341"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::experimental&#95;constrained&#95;fmuladd: &#123;</span></CodeLine>
<Link id="l08342" /><CodeLine lineNumber="8342"><span class="doxyHighlight">    Opcode = <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a26ff7f7547f66e1a4f6d5e7efe4b2f59">ISD::STRICT&#95;FMA</a>;</span></CodeLine>
<Link id="l08343" /><CodeLine lineNumber="8343"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Break fmuladd into fmul and fadd.</span></CodeLine>
<Link id="l08344" /><CodeLine lineNumber="8344"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (TM.Options.AllowFPOpFusion == <a href="/docs/api/namespaces/llvm/fpopfusion/#a9c71bae9f02af273833fde586d529fc5a451b4af21652249f72a40a7f9b88ca4f">FPOpFusion::Strict</a> ||</span></CodeLine>
<Link id="l08345" /><CodeLine lineNumber="8345"><span class="doxyHighlight">        !TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a01e67f27ae5f75164e2591e9024df6ec">isFMAFasterThanFMulAndFAdd</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMachineFunction(), VT)) &#123;</span></CodeLine>
<Link id="l08346" /><CodeLine lineNumber="8346"><span class="doxyHighlight">      Opers.<a href="/docs/api/classes/llvm/smallvectortemplatebase/#ad97688dfe9cd802e2a0691cbe620218a">pop&#95;back</a>();</span></CodeLine>
<Link id="l08347" /><CodeLine lineNumber="8347"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/#aac36edd0f1ce976f0025c98e88d3830ea62b6d55816cf737bfc6f42e60df1a3f2">Mul</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a4b912b6be299d30d75b876e939d16fd6">ISD::STRICT&#95;FMUL</a>, sdl, VTs, Opers, Flags);</span></CodeLine>
<Link id="l08348" /><CodeLine lineNumber="8348"><span class="doxyHighlight">      pushOutChain(<a href="/docs/api/namespaces/llvm/#aac36edd0f1ce976f0025c98e88d3830ea62b6d55816cf737bfc6f42e60df1a3f2">Mul</a>, EB);</span></CodeLine>
<Link id="l08349" /><CodeLine lineNumber="8349"><span class="doxyHighlight">      Opcode = <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110ad11fa7fd2a91d210ecbdf09d56cd9f42">ISD::STRICT&#95;FADD</a>;</span></CodeLine>
<Link id="l08350" /><CodeLine lineNumber="8350"><span class="doxyHighlight">      Opers.<a href="/docs/api/classes/llvm/smallvectorimpl/#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</span></CodeLine>
<Link id="l08351" /><CodeLine lineNumber="8351"><span class="doxyHighlight">      Opers.<a href="/docs/api/classes/llvm/smallvectortemplatebase/#af42bfbc067df27c19ee2fc859df58799">push&#95;back</a>(<a href="/docs/api/namespaces/llvm/#aac36edd0f1ce976f0025c98e88d3830ea62b6d55816cf737bfc6f42e60df1a3f2">Mul</a>.getValue(1));</span></CodeLine>
<Link id="l08352" /><CodeLine lineNumber="8352"><span class="doxyHighlight">      Opers.<a href="/docs/api/classes/llvm/smallvectortemplatebase/#af42bfbc067df27c19ee2fc859df58799">push&#95;back</a>(<a href="/docs/api/namespaces/llvm/#aac36edd0f1ce976f0025c98e88d3830ea62b6d55816cf737bfc6f42e60df1a3f2">Mul</a>.getValue(0));</span></CodeLine>
<Link id="l08353" /><CodeLine lineNumber="8353"><span class="doxyHighlight">      Opers.<a href="/docs/api/classes/llvm/smallvectortemplatebase/#af42bfbc067df27c19ee2fc859df58799">push&#95;back</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(FPI.<a href="/docs/api/classes/llvm/callbase/#aabd76e6a8a23a5af1ce4d3c310d88bcd">getArgOperand</a>(2)));</span></CodeLine>
<Link id="l08354" /><CodeLine lineNumber="8354"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l08355" /><CodeLine lineNumber="8355"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08356" /><CodeLine lineNumber="8356"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l08357" /><CodeLine lineNumber="8357"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l08358" /><CodeLine lineNumber="8358"></CodeLine>
<Link id="l08359" /><CodeLine lineNumber="8359"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// A few strict DAG nodes carry additional operands that are not</span></CodeLine>
<Link id="l08360" /><CodeLine lineNumber="8360"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// set up by the default code above.</span></CodeLine>
<Link id="l08361" /><CodeLine lineNumber="8361"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">switch</span><span class="doxyHighlight"> (Opcode) &#123;</span></CodeLine>
<Link id="l08362" /><CodeLine lineNumber="8362"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">default</span><span class="doxyHighlight">: </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08363" /><CodeLine lineNumber="8363"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110ac2273d9cd04ba6e4a7c1a4b28ab1aaba">ISD::STRICT&#95;FP&#95;ROUND</a>:</span></CodeLine>
<Link id="l08364" /><CodeLine lineNumber="8364"><span class="doxyHighlight">    Opers.<a href="/docs/api/classes/llvm/smallvectortemplatebase/#af42bfbc067df27c19ee2fc859df58799">push&#95;back</a>(</span></CodeLine>
<Link id="l08365" /><CodeLine lineNumber="8365"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetConstant(0, sdl, TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout())));</span></CodeLine>
<Link id="l08366" /><CodeLine lineNumber="8366"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08367" /><CodeLine lineNumber="8367"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a0466b21bfb4f3596e41380d8e2d1956f">ISD::STRICT&#95;FSETCC</a>:</span></CodeLine>
<Link id="l08368" /><CodeLine lineNumber="8368"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a3c8d07d668872f2176fb34724cd799c4">ISD::STRICT&#95;FSETCCS</a>: &#123;</span></CodeLine>
<Link id="l08369" /><CodeLine lineNumber="8369"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;<a href="/docs/api/namespaces/llvm/mipsisd/#a422daf9aa810935178671306b651d69ba44b9c5d5769578c3a6689c52c3c9b1c1">FPCmp</a> = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;ConstrainedFPCmpIntrinsic&gt;</a>(&amp;FPI);</span></CodeLine>
<Link id="l08370" /><CodeLine lineNumber="8370"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/isd/#ac3c3cf58d6d631af6a172457304d3d07">ISD::CondCode</a> Condition = <a href="/docs/api/namespaces/llvm/#a8b3a8b47a5344da71953bc4eb38c5179">getFCmpCondCode</a>(<a href="/docs/api/namespaces/llvm/mipsisd/#a422daf9aa810935178671306b651d69ba44b9c5d5769578c3a6689c52c3c9b1c1">FPCmp</a>-&gt;getPredicate());</span></CodeLine>
<Link id="l08371" /><CodeLine lineNumber="8371"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (TM.Options.NoNaNsFPMath)</span></CodeLine>
<Link id="l08372" /><CodeLine lineNumber="8372"><span class="doxyHighlight">      Condition = <a href="/docs/api/namespaces/llvm/#ab85a42eddf5fd6beac822af946d5b1e2">getFCmpCodeWithoutNaN</a>(Condition);</span></CodeLine>
<Link id="l08373" /><CodeLine lineNumber="8373"><span class="doxyHighlight">    Opers.<a href="/docs/api/classes/llvm/smallvectortemplatebase/#af42bfbc067df27c19ee2fc859df58799">push&#95;back</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getCondCode(Condition));</span></CodeLine>
<Link id="l08374" /><CodeLine lineNumber="8374"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08375" /><CodeLine lineNumber="8375"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l08376" /><CodeLine lineNumber="8376"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l08377" /><CodeLine lineNumber="8377"></CodeLine>
<Link id="l08378" /><CodeLine lineNumber="8378"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/ms-demangle/#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(Opcode, sdl, VTs, Opers, Flags);</span></CodeLine>
<Link id="l08379" /><CodeLine lineNumber="8379"><span class="doxyHighlight">  pushOutChain(Result, EB);</span></CodeLine>
<Link id="l08380" /><CodeLine lineNumber="8380"></CodeLine>
<Link id="l08381" /><CodeLine lineNumber="8381"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> FPResult = <a href="/docs/api/namespaces/llvm/ms-demangle/#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>.getValue(0);</span></CodeLine>
<Link id="l08382" /><CodeLine lineNumber="8382"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;FPI, FPResult);</span></CodeLine>
<Link id="l08383" /><CodeLine lineNumber="8383"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l08384" /><CodeLine lineNumber="8384"></CodeLine>
<Link id="l08385" /><CodeLine lineNumber="8385" lineLink="#a4d180adab34368b65e2a43f64c7de814"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> <a href="#a4d180adab34368b65e2a43f64c7de814">getISDForVPIntrinsic</a>(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/vpintrinsic">VPIntrinsic</a> &amp;VPIntrin) &#123;</span></CodeLine>
<Link id="l08386" /><CodeLine lineNumber="8386"><span class="doxyHighlight">  std::optional&lt;unsigned&gt; ResOPC;</span></CodeLine>
<Link id="l08387" /><CodeLine lineNumber="8387"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">switch</span><span class="doxyHighlight"> (VPIntrin.<a href="/docs/api/classes/llvm/intrinsicinst/#a7ff64b3625b6f9020556ed05a5f72af4">getIntrinsicID</a>()) &#123;</span></CodeLine>
<Link id="l08388" /><CodeLine lineNumber="8388"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::vp&#95;ctlz: &#123;</span></CodeLine>
<Link id="l08389" /><CodeLine lineNumber="8389"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> IsZeroUndef = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;ConstantInt&gt;</a>(VPIntrin.<a href="/docs/api/classes/llvm/callbase/#aabd76e6a8a23a5af1ce4d3c310d88bcd">getArgOperand</a>(1))-&gt;isOne();</span></CodeLine>
<Link id="l08390" /><CodeLine lineNumber="8390"><span class="doxyHighlight">    ResOPC = IsZeroUndef ? ISD::VP&#95;CTLZ&#95;ZERO&#95;UNDEF : ISD::VP&#95;CTLZ;</span></CodeLine>
<Link id="l08391" /><CodeLine lineNumber="8391"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08392" /><CodeLine lineNumber="8392"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l08393" /><CodeLine lineNumber="8393"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::vp&#95;cttz: &#123;</span></CodeLine>
<Link id="l08394" /><CodeLine lineNumber="8394"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> IsZeroUndef = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;ConstantInt&gt;</a>(VPIntrin.<a href="/docs/api/classes/llvm/callbase/#aabd76e6a8a23a5af1ce4d3c310d88bcd">getArgOperand</a>(1))-&gt;isOne();</span></CodeLine>
<Link id="l08395" /><CodeLine lineNumber="8395"><span class="doxyHighlight">    ResOPC = IsZeroUndef ? ISD::VP&#95;CTTZ&#95;ZERO&#95;UNDEF : ISD::VP&#95;CTTZ;</span></CodeLine>
<Link id="l08396" /><CodeLine lineNumber="8396"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08397" /><CodeLine lineNumber="8397"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l08398" /><CodeLine lineNumber="8398"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::vp&#95;cttz&#95;elts: &#123;</span></CodeLine>
<Link id="l08399" /><CodeLine lineNumber="8399"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> IsZeroPoison = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;ConstantInt&gt;</a>(VPIntrin.<a href="/docs/api/classes/llvm/callbase/#aabd76e6a8a23a5af1ce4d3c310d88bcd">getArgOperand</a>(1))-&gt;isOne();</span></CodeLine>
<Link id="l08400" /><CodeLine lineNumber="8400"><span class="doxyHighlight">    ResOPC = IsZeroPoison ? ISD::VP&#95;CTTZ&#95;ELTS&#95;ZERO&#95;UNDEF : ISD::VP&#95;CTTZ&#95;ELTS;</span></CodeLine>
<Link id="l08401" /><CodeLine lineNumber="8401"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08402" /><CodeLine lineNumber="8402"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l08403" /><CodeLine lineNumber="8403"><span class="doxyHighlightPreprocessor">#define HELPER&#95;MAP&#95;VPID&#95;TO&#95;VPSD(VPID, VPSD)                                    \\</span></CodeLine>
<Link id="l08404" /><CodeLine lineNumber="8404"><span class="doxyHighlightPreprocessor">  case Intrinsic::VPID:                                                        \\</span></CodeLine>
<Link id="l08405" /><CodeLine lineNumber="8405"><span class="doxyHighlightPreprocessor">    ResOPC = ISD::VPSD;                                                        \\</span></CodeLine>
<Link id="l08406" /><CodeLine lineNumber="8406"><span class="doxyHighlightPreprocessor">    break;</span></CodeLine>
<Link id="l08407" /><CodeLine lineNumber="8407"><span class="doxyHighlightPreprocessor">#include &quot;llvm/IR/VPIntrinsics.def&quot;</span></CodeLine>
<Link id="l08408" /><CodeLine lineNumber="8408"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l08409" /><CodeLine lineNumber="8409"></CodeLine>
<Link id="l08410" /><CodeLine lineNumber="8410"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!ResOPC)</span></CodeLine>
<Link id="l08411" /><CodeLine lineNumber="8411"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/support/errorhandling-h/#ace243f5c25697a1107cce46626b3dc94">llvm&#95;unreachable</a>(</span></CodeLine>
<Link id="l08412" /><CodeLine lineNumber="8412"><span class="doxyHighlight">        </span><span class="doxyHighlightStringLiteral">&quot;Inconsistency: no SDNode available for this VPIntrinsic!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l08413" /><CodeLine lineNumber="8413"></CodeLine>
<Link id="l08414" /><CodeLine lineNumber="8414"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (&#42;ResOPC == ISD::VP&#95;REDUCE&#95;SEQ&#95;FADD ||</span></CodeLine>
<Link id="l08415" /><CodeLine lineNumber="8415"><span class="doxyHighlight">      &#42;ResOPC == ISD::VP&#95;REDUCE&#95;SEQ&#95;FMUL) &#123;</span></CodeLine>
<Link id="l08416" /><CodeLine lineNumber="8416"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (VPIntrin.<a href="/docs/api/classes/llvm/instruction/#a9a167f91db810097d281b1ed627f4575">getFastMathFlags</a>().<a href="/docs/api/classes/llvm/fastmathflags/#a9f3a7d3a575da12ac2fec17849b7b916">allowReassoc</a>())</span></CodeLine>
<Link id="l08417" /><CodeLine lineNumber="8417"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> &#42;ResOPC == ISD::VP&#95;REDUCE&#95;SEQ&#95;FADD ? ISD::VP&#95;REDUCE&#95;FADD</span></CodeLine>
<Link id="l08418" /><CodeLine lineNumber="8418"><span class="doxyHighlight">                                                : ISD::VP&#95;REDUCE&#95;FMUL;</span></CodeLine>
<Link id="l08419" /><CodeLine lineNumber="8419"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l08420" /><CodeLine lineNumber="8420"></CodeLine>
<Link id="l08421" /><CodeLine lineNumber="8421"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> &#42;ResOPC;</span></CodeLine>
<Link id="l08422" /><CodeLine lineNumber="8422"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l08423" /><CodeLine lineNumber="8423"></CodeLine>
<Link id="l08424" /><CodeLine lineNumber="8424"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitVPLoad(</span></CodeLine>
<Link id="l08425" /><CodeLine lineNumber="8425"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/vpintrinsic">VPIntrinsic</a> &amp;VPIntrin, <a href="/docs/api/structs/llvm/evt">EVT</a> VT,</span></CodeLine>
<Link id="l08426" /><CodeLine lineNumber="8426"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl&lt;SDValue&gt;</a> &amp;OpValues) &#123;</span></CodeLine>
<Link id="l08427" /><CodeLine lineNumber="8427"><span class="doxyHighlight">  SDLoc <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>();</span></CodeLine>
<Link id="l08428" /><CodeLine lineNumber="8428"><span class="doxyHighlight">  Value &#42;PtrOperand = VPIntrin.<a href="/docs/api/classes/llvm/callbase/#aabd76e6a8a23a5af1ce4d3c310d88bcd">getArgOperand</a>(0);</span></CodeLine>
<Link id="l08429" /><CodeLine lineNumber="8429"><span class="doxyHighlight">  MaybeAlign Alignment = VPIntrin.<a href="/docs/api/classes/llvm/vpintrinsic/#ae3a0c2dd2caff6d81180f9724a6d369e">getPointerAlignment</a>();</span></CodeLine>
<Link id="l08430" /><CodeLine lineNumber="8430"><span class="doxyHighlight">  AAMDNodes AAInfo = VPIntrin.<a href="/docs/api/classes/llvm/instruction/#aade703948f2fdabdc65868bdf42d3141">getAAMetadata</a>();</span></CodeLine>
<Link id="l08431" /><CodeLine lineNumber="8431"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> MDNode &#42;<a href="/docs/api/namespaces/llvm/logicalview/#a8d4dd8d1ec9d9328d03bb2b99aa74744a92711ef5b0215a076fef4a3abbfc2258">Ranges</a> = <a href="#ae1b80d5114dd1a73aacd01971f29d5ee">getRangeMetadata</a>(VPIntrin);</span></CodeLine>
<Link id="l08432" /><CodeLine lineNumber="8432"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/arm-mb/#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>;</span></CodeLine>
<Link id="l08433" /><CodeLine lineNumber="8433"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Do not serialize variable-length loads of constant memory with</span></CodeLine>
<Link id="l08434" /><CodeLine lineNumber="8434"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// anything.</span></CodeLine>
<Link id="l08435" /><CodeLine lineNumber="8435"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!Alignment)</span></CodeLine>
<Link id="l08436" /><CodeLine lineNumber="8436"><span class="doxyHighlight">    Alignment = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getEVTAlign(VT);</span></CodeLine>
<Link id="l08437" /><CodeLine lineNumber="8437"><span class="doxyHighlight">  MemoryLocation <a href="/docs/api/files/lib/lib/analysis/inlineorder-cpp/#a7ee6f0cb51c3b9056199e9a0001fe8c3ad01fd9b01e9dde8bd3dc247afbfb7218">ML</a> = <a href="/docs/api/classes/llvm/memorylocation/#a49f776e0940cc5d63d17d85ff6dac257">MemoryLocation::getAfter</a>(PtrOperand, AAInfo);</span></CodeLine>
<Link id="l08438" /><CodeLine lineNumber="8438"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> AddToChain = !<a href="/docs/api/classes/llvm/selectiondagbuilder/#a23f8a52e7e457d67b67aa86541f55c17">BatchAA</a> || !<a href="/docs/api/classes/llvm/selectiondagbuilder/#a23f8a52e7e457d67b67aa86541f55c17">BatchAA</a>-&gt;pointsToConstantMemory(<a href="/docs/api/files/lib/lib/analysis/inlineorder-cpp/#a7ee6f0cb51c3b9056199e9a0001fe8c3ad01fd9b01e9dde8bd3dc247afbfb7218">ML</a>);</span></CodeLine>
<Link id="l08439" /><CodeLine lineNumber="8439"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> InChain = AddToChain ? <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getRoot() : <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getEntryNode();</span></CodeLine>
<Link id="l08440" /><CodeLine lineNumber="8440"><span class="doxyHighlight">  MachineMemOperand &#42;MMO = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMachineFunction().getMachineMemOperand(</span></CodeLine>
<Link id="l08441" /><CodeLine lineNumber="8441"><span class="doxyHighlight">      MachinePointerInfo(PtrOperand), <a href="/docs/api/classes/llvm/machinememoperand/#aaa2020e47e35179234b9ea27d555b2dda7d12be6206e5b0026c71bbcd5cb76494">MachineMemOperand::MOLoad</a>,</span></CodeLine>
<Link id="l08442" /><CodeLine lineNumber="8442"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/locationsize/#a837cf7f4d88580c0adb92afc6a3b08b0">LocationSize::beforeOrAfterPointer</a>(), &#42;Alignment, AAInfo, Ranges);</span></CodeLine>
<Link id="l08443" /><CodeLine lineNumber="8443"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/arm-mb/#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getLoadVP(VT, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, InChain, OpValues&#91;0&#93;, OpValues&#91;1&#93;, OpValues&#91;2&#93;,</span></CodeLine>
<Link id="l08444" /><CodeLine lineNumber="8444"><span class="doxyHighlight">                     MMO, </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight"> </span><span class="doxyHighlightComment">/&#42;IsExpanding &#42;/</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l08445" /><CodeLine lineNumber="8445"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (AddToChain)</span></CodeLine>
<Link id="l08446" /><CodeLine lineNumber="8446"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#a9a1381eb77fac8d57f54f7bf25919a4e">PendingLoads</a>.push&#95;back(<a href="/docs/api/namespaces/llvm/arm-mb/#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>.getValue(1));</span></CodeLine>
<Link id="l08447" /><CodeLine lineNumber="8447"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;VPIntrin, LD);</span></CodeLine>
<Link id="l08448" /><CodeLine lineNumber="8448"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l08449" /><CodeLine lineNumber="8449"></CodeLine>
<Link id="l08450" /><CodeLine lineNumber="8450"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitVPGather(</span></CodeLine>
<Link id="l08451" /><CodeLine lineNumber="8451"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/vpintrinsic">VPIntrinsic</a> &amp;VPIntrin, <a href="/docs/api/structs/llvm/evt">EVT</a> VT,</span></CodeLine>
<Link id="l08452" /><CodeLine lineNumber="8452"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl&lt;SDValue&gt;</a> &amp;OpValues) &#123;</span></CodeLine>
<Link id="l08453" /><CodeLine lineNumber="8453"><span class="doxyHighlight">  SDLoc <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>();</span></CodeLine>
<Link id="l08454" /><CodeLine lineNumber="8454"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> TargetLowering &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l08455" /><CodeLine lineNumber="8455"><span class="doxyHighlight">  Value &#42;PtrOperand = VPIntrin.<a href="/docs/api/classes/llvm/callbase/#aabd76e6a8a23a5af1ce4d3c310d88bcd">getArgOperand</a>(0);</span></CodeLine>
<Link id="l08456" /><CodeLine lineNumber="8456"><span class="doxyHighlight">  MaybeAlign Alignment = VPIntrin.<a href="/docs/api/classes/llvm/vpintrinsic/#ae3a0c2dd2caff6d81180f9724a6d369e">getPointerAlignment</a>();</span></CodeLine>
<Link id="l08457" /><CodeLine lineNumber="8457"><span class="doxyHighlight">  AAMDNodes AAInfo = VPIntrin.<a href="/docs/api/classes/llvm/instruction/#aade703948f2fdabdc65868bdf42d3141">getAAMetadata</a>();</span></CodeLine>
<Link id="l08458" /><CodeLine lineNumber="8458"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> MDNode &#42;<a href="/docs/api/namespaces/llvm/logicalview/#a8d4dd8d1ec9d9328d03bb2b99aa74744a92711ef5b0215a076fef4a3abbfc2258">Ranges</a> = <a href="#ae1b80d5114dd1a73aacd01971f29d5ee">getRangeMetadata</a>(VPIntrin);</span></CodeLine>
<Link id="l08459" /><CodeLine lineNumber="8459"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/arm-mb/#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>;</span></CodeLine>
<Link id="l08460" /><CodeLine lineNumber="8460"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!Alignment)</span></CodeLine>
<Link id="l08461" /><CodeLine lineNumber="8461"><span class="doxyHighlight">    Alignment = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getEVTAlign(VT.<a href="/docs/api/structs/llvm/evt/#aa85c75e8eb097f02caeb5b9119eebfef">getScalarType</a>());</span></CodeLine>
<Link id="l08462" /><CodeLine lineNumber="8462"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> AS =</span></CodeLine>
<Link id="l08463" /><CodeLine lineNumber="8463"><span class="doxyHighlight">    PtrOperand-&gt;<a href="/docs/api/classes/llvm/value/#a0344a49526443edf90cc0aef3abd3337">getType</a>()-&gt;<a href="/docs/api/classes/llvm/type/#a7c742b32ebcd73d6dc851afac295b0f2">getScalarType</a>()-&gt;<a href="/docs/api/classes/llvm/type/#a5ab2d0b0f0b8ceec3b907184e7567197">getPointerAddressSpace</a>();</span></CodeLine>
<Link id="l08464" /><CodeLine lineNumber="8464"><span class="doxyHighlight">  MachineMemOperand &#42;MMO = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMachineFunction().getMachineMemOperand(</span></CodeLine>
<Link id="l08465" /><CodeLine lineNumber="8465"><span class="doxyHighlight">      MachinePointerInfo(AS), <a href="/docs/api/classes/llvm/machinememoperand/#aaa2020e47e35179234b9ea27d555b2dda7d12be6206e5b0026c71bbcd5cb76494">MachineMemOperand::MOLoad</a>,</span></CodeLine>
<Link id="l08466" /><CodeLine lineNumber="8466"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/locationsize/#a837cf7f4d88580c0adb92afc6a3b08b0">LocationSize::beforeOrAfterPointer</a>(), &#42;Alignment, AAInfo, Ranges);</span></CodeLine>
<Link id="l08467" /><CodeLine lineNumber="8467"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/sampleprof/#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>, <a href="/docs/api/namespaces/llvm/dwarf/#a5d3c920b66ea797d6adb243862fdf47a">Index</a>, Scale;</span></CodeLine>
<Link id="l08468" /><CodeLine lineNumber="8468"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/isd/#aa30bf48cd2a89f80c9c608adcabc53e3">ISD::MemIndexType</a> IndexType;</span></CodeLine>
<Link id="l08469" /><CodeLine lineNumber="8469"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> UniformBase = <a href="#a3e8b055fdb7e07479b83d69c15211d54">getUniformBase</a>(PtrOperand, <a href="/docs/api/namespaces/llvm/sampleprof/#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>, Index, IndexType, Scale,</span></CodeLine>
<Link id="l08470" /><CodeLine lineNumber="8470"><span class="doxyHighlight">                                    </span><span class="doxyHighlightKeyword">this</span><span class="doxyHighlight">, VPIntrin.<a href="/docs/api/classes/llvm/ilist-detail/node-parent-access/#a7e19e7508415378ad9523e0339b23e22">getParent</a>(),</span></CodeLine>
<Link id="l08471" /><CodeLine lineNumber="8471"><span class="doxyHighlight">                                    VT.<a href="/docs/api/structs/llvm/evt/#a2648fd0c9417e0aeb3e8b194c6509357">getScalarStoreSize</a>());</span></CodeLine>
<Link id="l08472" /><CodeLine lineNumber="8472"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!UniformBase) &#123;</span></CodeLine>
<Link id="l08473" /><CodeLine lineNumber="8473"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/sampleprof/#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getConstant(0, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout()));</span></CodeLine>
<Link id="l08474" /><CodeLine lineNumber="8474"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/dwarf/#a5d3c920b66ea797d6adb243862fdf47a">Index</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(PtrOperand);</span></CodeLine>
<Link id="l08475" /><CodeLine lineNumber="8475"><span class="doxyHighlight">    IndexType = <a href="/docs/api/namespaces/llvm/isd/#aa30bf48cd2a89f80c9c608adcabc53e3a0173acb50fe8c4337c23a98baab3f4db">ISD::SIGNED&#95;SCALED</a>;</span></CodeLine>
<Link id="l08476" /><CodeLine lineNumber="8476"><span class="doxyHighlight">    Scale = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetConstant(1, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout()));</span></CodeLine>
<Link id="l08477" /><CodeLine lineNumber="8477"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l08478" /><CodeLine lineNumber="8478"><span class="doxyHighlight">  EVT IdxVT = <a href="/docs/api/namespaces/llvm/dwarf/#a5d3c920b66ea797d6adb243862fdf47a">Index</a>.getValueType();</span></CodeLine>
<Link id="l08479" /><CodeLine lineNumber="8479"><span class="doxyHighlight">  EVT EltTy = IdxVT.<a href="/docs/api/structs/llvm/evt/#abc4c6365ade17ad4443ad0e381e7479d">getVectorElementType</a>();</span></CodeLine>
<Link id="l08480" /><CodeLine lineNumber="8480"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a5a5c0b8cc6da2f6db046ad5ca8e53163">shouldExtendGSIndex</a>(IdxVT, EltTy)) &#123;</span></CodeLine>
<Link id="l08481" /><CodeLine lineNumber="8481"><span class="doxyHighlight">    EVT NewIdxVT = IdxVT.<a href="/docs/api/structs/llvm/evt/#ad9d00ad929ec93255787f7f80c4659d9">changeVectorElementType</a>(EltTy);</span></CodeLine>
<Link id="l08482" /><CodeLine lineNumber="8482"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/dwarf/#a5d3c920b66ea797d6adb243862fdf47a">Index</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a5183f3d72924bc7c77ba8d3f5de9f602">ISD::SIGN&#95;EXTEND</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, NewIdxVT, Index);</span></CodeLine>
<Link id="l08483" /><CodeLine lineNumber="8483"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l08484" /><CodeLine lineNumber="8484"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/arm-mb/#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getGatherVP(</span></CodeLine>
<Link id="l08485" /><CodeLine lineNumber="8485"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVTList(VT, MVT::Other), VT, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</span></CodeLine>
<Link id="l08486" /><CodeLine lineNumber="8486"><span class="doxyHighlight">      &#123;DAG.getRoot(), Base, Index, Scale, OpValues&#91;1&#93;, OpValues&#91;2&#93;&#125;, MMO,</span></CodeLine>
<Link id="l08487" /><CodeLine lineNumber="8487"><span class="doxyHighlight">      IndexType);</span></CodeLine>
<Link id="l08488" /><CodeLine lineNumber="8488"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#a9a1381eb77fac8d57f54f7bf25919a4e">PendingLoads</a>.push&#95;back(<a href="/docs/api/namespaces/llvm/arm-mb/#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>.getValue(1));</span></CodeLine>
<Link id="l08489" /><CodeLine lineNumber="8489"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;VPIntrin, LD);</span></CodeLine>
<Link id="l08490" /><CodeLine lineNumber="8490"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l08491" /><CodeLine lineNumber="8491"></CodeLine>
<Link id="l08492" /><CodeLine lineNumber="8492"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitVPStore(</span></CodeLine>
<Link id="l08493" /><CodeLine lineNumber="8493"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/vpintrinsic">VPIntrinsic</a> &amp;VPIntrin, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl&lt;SDValue&gt;</a> &amp;OpValues) &#123;</span></CodeLine>
<Link id="l08494" /><CodeLine lineNumber="8494"><span class="doxyHighlight">  SDLoc <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>();</span></CodeLine>
<Link id="l08495" /><CodeLine lineNumber="8495"><span class="doxyHighlight">  Value &#42;PtrOperand = VPIntrin.<a href="/docs/api/classes/llvm/callbase/#aabd76e6a8a23a5af1ce4d3c310d88bcd">getArgOperand</a>(1);</span></CodeLine>
<Link id="l08496" /><CodeLine lineNumber="8496"><span class="doxyHighlight">  EVT VT = OpValues&#91;0&#93;.getValueType();</span></CodeLine>
<Link id="l08497" /><CodeLine lineNumber="8497"><span class="doxyHighlight">  MaybeAlign Alignment = VPIntrin.<a href="/docs/api/classes/llvm/vpintrinsic/#ae3a0c2dd2caff6d81180f9724a6d369e">getPointerAlignment</a>();</span></CodeLine>
<Link id="l08498" /><CodeLine lineNumber="8498"><span class="doxyHighlight">  AAMDNodes AAInfo = VPIntrin.<a href="/docs/api/classes/llvm/instruction/#aade703948f2fdabdc65868bdf42d3141">getAAMetadata</a>();</span></CodeLine>
<Link id="l08499" /><CodeLine lineNumber="8499"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/arm-mb/#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>;</span></CodeLine>
<Link id="l08500" /><CodeLine lineNumber="8500"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!Alignment)</span></CodeLine>
<Link id="l08501" /><CodeLine lineNumber="8501"><span class="doxyHighlight">    Alignment = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getEVTAlign(VT);</span></CodeLine>
<Link id="l08502" /><CodeLine lineNumber="8502"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = OpValues&#91;1&#93;;</span></CodeLine>
<Link id="l08503" /><CodeLine lineNumber="8503"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getUNDEF(<a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>.getValueType());</span></CodeLine>
<Link id="l08504" /><CodeLine lineNumber="8504"><span class="doxyHighlight">  MachineMemOperand &#42;MMO = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMachineFunction().getMachineMemOperand(</span></CodeLine>
<Link id="l08505" /><CodeLine lineNumber="8505"><span class="doxyHighlight">      MachinePointerInfo(PtrOperand), <a href="/docs/api/classes/llvm/machinememoperand/#aaa2020e47e35179234b9ea27d555b2ddaed357b1367bc90a56fefa4d1b0e17374">MachineMemOperand::MOStore</a>,</span></CodeLine>
<Link id="l08506" /><CodeLine lineNumber="8506"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/locationsize/#a837cf7f4d88580c0adb92afc6a3b08b0">LocationSize::beforeOrAfterPointer</a>(), &#42;Alignment, AAInfo);</span></CodeLine>
<Link id="l08507" /><CodeLine lineNumber="8507"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/arm-mb/#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getStoreVP(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ab41a8476a0c74bcf1a2bf665eeececd8">getMemoryRoot</a>(), <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, OpValues&#91;0&#93;, <a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, <a href="/docs/api/namespaces/llvm/#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>,</span></CodeLine>
<Link id="l08508" /><CodeLine lineNumber="8508"><span class="doxyHighlight">                      OpValues&#91;2&#93;, OpValues&#91;3&#93;, VT, MMO, <a href="/docs/api/namespaces/llvm/isd/#abee7ecb577fcade34eb16ccb7f503e31ade1c53e7b8a373e22ec53ff7bcbace9f">ISD::UNINDEXED</a>,</span></CodeLine>
<Link id="l08509" /><CodeLine lineNumber="8509"><span class="doxyHighlight">                      </span><span class="doxyHighlightComment">/&#42; IsTruncating &#42;/</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">, </span><span class="doxyHighlightComment">/&#42;IsCompressing&#42;/</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l08510" /><CodeLine lineNumber="8510"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(ST);</span></CodeLine>
<Link id="l08511" /><CodeLine lineNumber="8511"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;VPIntrin, ST);</span></CodeLine>
<Link id="l08512" /><CodeLine lineNumber="8512"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l08513" /><CodeLine lineNumber="8513"></CodeLine>
<Link id="l08514" /><CodeLine lineNumber="8514"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitVPScatter(</span></CodeLine>
<Link id="l08515" /><CodeLine lineNumber="8515"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/vpintrinsic">VPIntrinsic</a> &amp;VPIntrin, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl&lt;SDValue&gt;</a> &amp;OpValues) &#123;</span></CodeLine>
<Link id="l08516" /><CodeLine lineNumber="8516"><span class="doxyHighlight">  SDLoc <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>();</span></CodeLine>
<Link id="l08517" /><CodeLine lineNumber="8517"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> TargetLowering &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l08518" /><CodeLine lineNumber="8518"><span class="doxyHighlight">  Value &#42;PtrOperand = VPIntrin.<a href="/docs/api/classes/llvm/callbase/#aabd76e6a8a23a5af1ce4d3c310d88bcd">getArgOperand</a>(1);</span></CodeLine>
<Link id="l08519" /><CodeLine lineNumber="8519"><span class="doxyHighlight">  EVT VT = OpValues&#91;0&#93;.getValueType();</span></CodeLine>
<Link id="l08520" /><CodeLine lineNumber="8520"><span class="doxyHighlight">  MaybeAlign Alignment = VPIntrin.<a href="/docs/api/classes/llvm/vpintrinsic/#ae3a0c2dd2caff6d81180f9724a6d369e">getPointerAlignment</a>();</span></CodeLine>
<Link id="l08521" /><CodeLine lineNumber="8521"><span class="doxyHighlight">  AAMDNodes AAInfo = VPIntrin.<a href="/docs/api/classes/llvm/instruction/#aade703948f2fdabdc65868bdf42d3141">getAAMetadata</a>();</span></CodeLine>
<Link id="l08522" /><CodeLine lineNumber="8522"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/arm-mb/#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>;</span></CodeLine>
<Link id="l08523" /><CodeLine lineNumber="8523"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!Alignment)</span></CodeLine>
<Link id="l08524" /><CodeLine lineNumber="8524"><span class="doxyHighlight">    Alignment = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getEVTAlign(VT.<a href="/docs/api/structs/llvm/evt/#aa85c75e8eb097f02caeb5b9119eebfef">getScalarType</a>());</span></CodeLine>
<Link id="l08525" /><CodeLine lineNumber="8525"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> AS =</span></CodeLine>
<Link id="l08526" /><CodeLine lineNumber="8526"><span class="doxyHighlight">      PtrOperand-&gt;<a href="/docs/api/classes/llvm/value/#a0344a49526443edf90cc0aef3abd3337">getType</a>()-&gt;<a href="/docs/api/classes/llvm/type/#a7c742b32ebcd73d6dc851afac295b0f2">getScalarType</a>()-&gt;<a href="/docs/api/classes/llvm/type/#a5ab2d0b0f0b8ceec3b907184e7567197">getPointerAddressSpace</a>();</span></CodeLine>
<Link id="l08527" /><CodeLine lineNumber="8527"><span class="doxyHighlight">  MachineMemOperand &#42;MMO = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMachineFunction().getMachineMemOperand(</span></CodeLine>
<Link id="l08528" /><CodeLine lineNumber="8528"><span class="doxyHighlight">      MachinePointerInfo(AS), <a href="/docs/api/classes/llvm/machinememoperand/#aaa2020e47e35179234b9ea27d555b2ddaed357b1367bc90a56fefa4d1b0e17374">MachineMemOperand::MOStore</a>,</span></CodeLine>
<Link id="l08529" /><CodeLine lineNumber="8529"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/locationsize/#a837cf7f4d88580c0adb92afc6a3b08b0">LocationSize::beforeOrAfterPointer</a>(), &#42;Alignment, AAInfo);</span></CodeLine>
<Link id="l08530" /><CodeLine lineNumber="8530"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/sampleprof/#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>, <a href="/docs/api/namespaces/llvm/dwarf/#a5d3c920b66ea797d6adb243862fdf47a">Index</a>, Scale;</span></CodeLine>
<Link id="l08531" /><CodeLine lineNumber="8531"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/isd/#aa30bf48cd2a89f80c9c608adcabc53e3">ISD::MemIndexType</a> IndexType;</span></CodeLine>
<Link id="l08532" /><CodeLine lineNumber="8532"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> UniformBase = <a href="#a3e8b055fdb7e07479b83d69c15211d54">getUniformBase</a>(PtrOperand, <a href="/docs/api/namespaces/llvm/sampleprof/#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>, Index, IndexType, Scale,</span></CodeLine>
<Link id="l08533" /><CodeLine lineNumber="8533"><span class="doxyHighlight">                                    </span><span class="doxyHighlightKeyword">this</span><span class="doxyHighlight">, VPIntrin.<a href="/docs/api/classes/llvm/ilist-detail/node-parent-access/#a7e19e7508415378ad9523e0339b23e22">getParent</a>(),</span></CodeLine>
<Link id="l08534" /><CodeLine lineNumber="8534"><span class="doxyHighlight">                                    VT.<a href="/docs/api/structs/llvm/evt/#a2648fd0c9417e0aeb3e8b194c6509357">getScalarStoreSize</a>());</span></CodeLine>
<Link id="l08535" /><CodeLine lineNumber="8535"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!UniformBase) &#123;</span></CodeLine>
<Link id="l08536" /><CodeLine lineNumber="8536"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/sampleprof/#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getConstant(0, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout()));</span></CodeLine>
<Link id="l08537" /><CodeLine lineNumber="8537"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/dwarf/#a5d3c920b66ea797d6adb243862fdf47a">Index</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(PtrOperand);</span></CodeLine>
<Link id="l08538" /><CodeLine lineNumber="8538"><span class="doxyHighlight">    IndexType = <a href="/docs/api/namespaces/llvm/isd/#aa30bf48cd2a89f80c9c608adcabc53e3a0173acb50fe8c4337c23a98baab3f4db">ISD::SIGNED&#95;SCALED</a>;</span></CodeLine>
<Link id="l08539" /><CodeLine lineNumber="8539"><span class="doxyHighlight">    Scale =</span></CodeLine>
<Link id="l08540" /><CodeLine lineNumber="8540"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetConstant(1, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout()));</span></CodeLine>
<Link id="l08541" /><CodeLine lineNumber="8541"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l08542" /><CodeLine lineNumber="8542"><span class="doxyHighlight">  EVT IdxVT = <a href="/docs/api/namespaces/llvm/dwarf/#a5d3c920b66ea797d6adb243862fdf47a">Index</a>.getValueType();</span></CodeLine>
<Link id="l08543" /><CodeLine lineNumber="8543"><span class="doxyHighlight">  EVT EltTy = IdxVT.<a href="/docs/api/structs/llvm/evt/#abc4c6365ade17ad4443ad0e381e7479d">getVectorElementType</a>();</span></CodeLine>
<Link id="l08544" /><CodeLine lineNumber="8544"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a5a5c0b8cc6da2f6db046ad5ca8e53163">shouldExtendGSIndex</a>(IdxVT, EltTy)) &#123;</span></CodeLine>
<Link id="l08545" /><CodeLine lineNumber="8545"><span class="doxyHighlight">    EVT NewIdxVT = IdxVT.<a href="/docs/api/structs/llvm/evt/#ad9d00ad929ec93255787f7f80c4659d9">changeVectorElementType</a>(EltTy);</span></CodeLine>
<Link id="l08546" /><CodeLine lineNumber="8546"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/dwarf/#a5d3c920b66ea797d6adb243862fdf47a">Index</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a5183f3d72924bc7c77ba8d3f5de9f602">ISD::SIGN&#95;EXTEND</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, NewIdxVT, Index);</span></CodeLine>
<Link id="l08547" /><CodeLine lineNumber="8547"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l08548" /><CodeLine lineNumber="8548"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/arm-mb/#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getScatterVP(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVTList(MVT::Other), VT, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</span></CodeLine>
<Link id="l08549" /><CodeLine lineNumber="8549"><span class="doxyHighlight">                        &#123;getMemoryRoot(), OpValues&#91;0&#93;, Base, Index, Scale,</span></CodeLine>
<Link id="l08550" /><CodeLine lineNumber="8550"><span class="doxyHighlight">                         OpValues&#91;2&#93;, OpValues&#91;3&#93;&#125;,</span></CodeLine>
<Link id="l08551" /><CodeLine lineNumber="8551"><span class="doxyHighlight">                        MMO, IndexType);</span></CodeLine>
<Link id="l08552" /><CodeLine lineNumber="8552"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(ST);</span></CodeLine>
<Link id="l08553" /><CodeLine lineNumber="8553"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;VPIntrin, ST);</span></CodeLine>
<Link id="l08554" /><CodeLine lineNumber="8554"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l08555" /><CodeLine lineNumber="8555"></CodeLine>
<Link id="l08556" /><CodeLine lineNumber="8556"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitVPStridedLoad(</span></CodeLine>
<Link id="l08557" /><CodeLine lineNumber="8557"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/vpintrinsic">VPIntrinsic</a> &amp;VPIntrin, <a href="/docs/api/structs/llvm/evt">EVT</a> VT,</span></CodeLine>
<Link id="l08558" /><CodeLine lineNumber="8558"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl&lt;SDValue&gt;</a> &amp;OpValues) &#123;</span></CodeLine>
<Link id="l08559" /><CodeLine lineNumber="8559"><span class="doxyHighlight">  SDLoc <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>();</span></CodeLine>
<Link id="l08560" /><CodeLine lineNumber="8560"><span class="doxyHighlight">  Value &#42;PtrOperand = VPIntrin.<a href="/docs/api/classes/llvm/callbase/#aabd76e6a8a23a5af1ce4d3c310d88bcd">getArgOperand</a>(0);</span></CodeLine>
<Link id="l08561" /><CodeLine lineNumber="8561"><span class="doxyHighlight">  MaybeAlign Alignment = VPIntrin.<a href="/docs/api/classes/llvm/vpintrinsic/#ae3a0c2dd2caff6d81180f9724a6d369e">getPointerAlignment</a>();</span></CodeLine>
<Link id="l08562" /><CodeLine lineNumber="8562"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!Alignment)</span></CodeLine>
<Link id="l08563" /><CodeLine lineNumber="8563"><span class="doxyHighlight">    Alignment = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getEVTAlign(VT.<a href="/docs/api/structs/llvm/evt/#aa85c75e8eb097f02caeb5b9119eebfef">getScalarType</a>());</span></CodeLine>
<Link id="l08564" /><CodeLine lineNumber="8564"><span class="doxyHighlight">  AAMDNodes AAInfo = VPIntrin.<a href="/docs/api/classes/llvm/instruction/#aade703948f2fdabdc65868bdf42d3141">getAAMetadata</a>();</span></CodeLine>
<Link id="l08565" /><CodeLine lineNumber="8565"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> MDNode &#42;<a href="/docs/api/namespaces/llvm/logicalview/#a8d4dd8d1ec9d9328d03bb2b99aa74744a92711ef5b0215a076fef4a3abbfc2258">Ranges</a> = <a href="#ae1b80d5114dd1a73aacd01971f29d5ee">getRangeMetadata</a>(VPIntrin);</span></CodeLine>
<Link id="l08566" /><CodeLine lineNumber="8566"><span class="doxyHighlight">  MemoryLocation <a href="/docs/api/files/lib/lib/analysis/inlineorder-cpp/#a7ee6f0cb51c3b9056199e9a0001fe8c3ad01fd9b01e9dde8bd3dc247afbfb7218">ML</a> = <a href="/docs/api/classes/llvm/memorylocation/#a49f776e0940cc5d63d17d85ff6dac257">MemoryLocation::getAfter</a>(PtrOperand, AAInfo);</span></CodeLine>
<Link id="l08567" /><CodeLine lineNumber="8567"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> AddToChain = !<a href="/docs/api/classes/llvm/selectiondagbuilder/#a23f8a52e7e457d67b67aa86541f55c17">BatchAA</a> || !<a href="/docs/api/classes/llvm/selectiondagbuilder/#a23f8a52e7e457d67b67aa86541f55c17">BatchAA</a>-&gt;pointsToConstantMemory(<a href="/docs/api/files/lib/lib/analysis/inlineorder-cpp/#a7ee6f0cb51c3b9056199e9a0001fe8c3ad01fd9b01e9dde8bd3dc247afbfb7218">ML</a>);</span></CodeLine>
<Link id="l08568" /><CodeLine lineNumber="8568"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> InChain = AddToChain ? <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getRoot() : <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getEntryNode();</span></CodeLine>
<Link id="l08569" /><CodeLine lineNumber="8569"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> AS = PtrOperand-&gt;<a href="/docs/api/classes/llvm/value/#a0344a49526443edf90cc0aef3abd3337">getType</a>()-&gt;<a href="/docs/api/classes/llvm/type/#a5ab2d0b0f0b8ceec3b907184e7567197">getPointerAddressSpace</a>();</span></CodeLine>
<Link id="l08570" /><CodeLine lineNumber="8570"><span class="doxyHighlight">  MachineMemOperand &#42;MMO = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMachineFunction().getMachineMemOperand(</span></CodeLine>
<Link id="l08571" /><CodeLine lineNumber="8571"><span class="doxyHighlight">      MachinePointerInfo(AS), <a href="/docs/api/classes/llvm/machinememoperand/#aaa2020e47e35179234b9ea27d555b2dda7d12be6206e5b0026c71bbcd5cb76494">MachineMemOperand::MOLoad</a>,</span></CodeLine>
<Link id="l08572" /><CodeLine lineNumber="8572"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/locationsize/#a837cf7f4d88580c0adb92afc6a3b08b0">LocationSize::beforeOrAfterPointer</a>(), &#42;Alignment, AAInfo, Ranges);</span></CodeLine>
<Link id="l08573" /><CodeLine lineNumber="8573"></CodeLine>
<Link id="l08574" /><CodeLine lineNumber="8574"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/arm-mb/#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getStridedLoadVP(VT, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, InChain, OpValues&#91;0&#93;, OpValues&#91;1&#93;,</span></CodeLine>
<Link id="l08575" /><CodeLine lineNumber="8575"><span class="doxyHighlight">                                    OpValues&#91;2&#93;, OpValues&#91;3&#93;, MMO,</span></CodeLine>
<Link id="l08576" /><CodeLine lineNumber="8576"><span class="doxyHighlight">                                    </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight"> </span><span class="doxyHighlightComment">/&#42;IsExpanding&#42;/</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l08577" /><CodeLine lineNumber="8577"></CodeLine>
<Link id="l08578" /><CodeLine lineNumber="8578"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (AddToChain)</span></CodeLine>
<Link id="l08579" /><CodeLine lineNumber="8579"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#a9a1381eb77fac8d57f54f7bf25919a4e">PendingLoads</a>.push&#95;back(<a href="/docs/api/namespaces/llvm/arm-mb/#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>.getValue(1));</span></CodeLine>
<Link id="l08580" /><CodeLine lineNumber="8580"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;VPIntrin, LD);</span></CodeLine>
<Link id="l08581" /><CodeLine lineNumber="8581"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l08582" /><CodeLine lineNumber="8582"></CodeLine>
<Link id="l08583" /><CodeLine lineNumber="8583"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitVPStridedStore(</span></CodeLine>
<Link id="l08584" /><CodeLine lineNumber="8584"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/vpintrinsic">VPIntrinsic</a> &amp;VPIntrin, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl&lt;SDValue&gt;</a> &amp;OpValues) &#123;</span></CodeLine>
<Link id="l08585" /><CodeLine lineNumber="8585"><span class="doxyHighlight">  SDLoc <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>();</span></CodeLine>
<Link id="l08586" /><CodeLine lineNumber="8586"><span class="doxyHighlight">  Value &#42;PtrOperand = VPIntrin.<a href="/docs/api/classes/llvm/callbase/#aabd76e6a8a23a5af1ce4d3c310d88bcd">getArgOperand</a>(1);</span></CodeLine>
<Link id="l08587" /><CodeLine lineNumber="8587"><span class="doxyHighlight">  EVT VT = OpValues&#91;0&#93;.getValueType();</span></CodeLine>
<Link id="l08588" /><CodeLine lineNumber="8588"><span class="doxyHighlight">  MaybeAlign Alignment = VPIntrin.<a href="/docs/api/classes/llvm/vpintrinsic/#ae3a0c2dd2caff6d81180f9724a6d369e">getPointerAlignment</a>();</span></CodeLine>
<Link id="l08589" /><CodeLine lineNumber="8589"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!Alignment)</span></CodeLine>
<Link id="l08590" /><CodeLine lineNumber="8590"><span class="doxyHighlight">    Alignment = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getEVTAlign(VT.<a href="/docs/api/structs/llvm/evt/#aa85c75e8eb097f02caeb5b9119eebfef">getScalarType</a>());</span></CodeLine>
<Link id="l08591" /><CodeLine lineNumber="8591"><span class="doxyHighlight">  AAMDNodes AAInfo = VPIntrin.<a href="/docs/api/classes/llvm/instruction/#aade703948f2fdabdc65868bdf42d3141">getAAMetadata</a>();</span></CodeLine>
<Link id="l08592" /><CodeLine lineNumber="8592"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> AS = PtrOperand-&gt;<a href="/docs/api/classes/llvm/value/#a0344a49526443edf90cc0aef3abd3337">getType</a>()-&gt;<a href="/docs/api/classes/llvm/type/#a5ab2d0b0f0b8ceec3b907184e7567197">getPointerAddressSpace</a>();</span></CodeLine>
<Link id="l08593" /><CodeLine lineNumber="8593"><span class="doxyHighlight">  MachineMemOperand &#42;MMO = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMachineFunction().getMachineMemOperand(</span></CodeLine>
<Link id="l08594" /><CodeLine lineNumber="8594"><span class="doxyHighlight">      MachinePointerInfo(AS), <a href="/docs/api/classes/llvm/machinememoperand/#aaa2020e47e35179234b9ea27d555b2ddaed357b1367bc90a56fefa4d1b0e17374">MachineMemOperand::MOStore</a>,</span></CodeLine>
<Link id="l08595" /><CodeLine lineNumber="8595"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/locationsize/#a837cf7f4d88580c0adb92afc6a3b08b0">LocationSize::beforeOrAfterPointer</a>(), &#42;Alignment, AAInfo);</span></CodeLine>
<Link id="l08596" /><CodeLine lineNumber="8596"></CodeLine>
<Link id="l08597" /><CodeLine lineNumber="8597"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/arm-mb/#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getStridedStoreVP(</span></CodeLine>
<Link id="l08598" /><CodeLine lineNumber="8598"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ab41a8476a0c74bcf1a2bf665eeececd8">getMemoryRoot</a>(), <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, OpValues&#91;0&#93;, OpValues&#91;1&#93;,</span></CodeLine>
<Link id="l08599" /><CodeLine lineNumber="8599"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getUNDEF(OpValues&#91;1&#93;.getValueType()), OpValues&#91;2&#93;, OpValues&#91;3&#93;,</span></CodeLine>
<Link id="l08600" /><CodeLine lineNumber="8600"><span class="doxyHighlight">      OpValues&#91;4&#93;, VT, MMO, <a href="/docs/api/namespaces/llvm/isd/#abee7ecb577fcade34eb16ccb7f503e31ade1c53e7b8a373e22ec53ff7bcbace9f">ISD::UNINDEXED</a>, </span><span class="doxyHighlightComment">/&#42;IsTruncating&#42;/</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">,</span></CodeLine>
<Link id="l08601" /><CodeLine lineNumber="8601"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">/&#42;IsCompressing&#42;/</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l08602" /><CodeLine lineNumber="8602"></CodeLine>
<Link id="l08603" /><CodeLine lineNumber="8603"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(ST);</span></CodeLine>
<Link id="l08604" /><CodeLine lineNumber="8604"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;VPIntrin, ST);</span></CodeLine>
<Link id="l08605" /><CodeLine lineNumber="8605"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l08606" /><CodeLine lineNumber="8606"></CodeLine>
<Link id="l08607" /><CodeLine lineNumber="8607"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitVPCmp(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/vpcmpintrinsic">VPCmpIntrinsic</a> &amp;VPIntrin) &#123;</span></CodeLine>
<Link id="l08608" /><CodeLine lineNumber="8608"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> TargetLowering &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l08609" /><CodeLine lineNumber="8609"><span class="doxyHighlight">  SDLoc <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>();</span></CodeLine>
<Link id="l08610" /><CodeLine lineNumber="8610"></CodeLine>
<Link id="l08611" /><CodeLine lineNumber="8611"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/isd/#ac3c3cf58d6d631af6a172457304d3d07">ISD::CondCode</a> Condition;</span></CodeLine>
<Link id="l08612" /><CodeLine lineNumber="8612"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/cmpinst/#a2be3583dac92a031fa1458d4d992c78b">CmpInst::Predicate</a> <a href="/docs/api/namespaces/llvm/isd/#ac3c3cf58d6d631af6a172457304d3d07">CondCode</a> = VPIntrin.<a href="/docs/api/classes/llvm/vpcmpintrinsic/#abd4835d4ce4a46f73cc1a219b7b410b4">getPredicate</a>();</span></CodeLine>
<Link id="l08613" /><CodeLine lineNumber="8613"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> IsFP = VPIntrin.<a href="/docs/api/classes/llvm/user/#aa0a2cb1582d1cec317bd205085469ca1">getOperand</a>(0)-&gt;<a href="/docs/api/classes/llvm/value/#a0344a49526443edf90cc0aef3abd3337">getType</a>()-&gt;<a href="/docs/api/classes/llvm/type/#ad0709baa705ae62c4e09cdd47fb4b420">isFPOrFPVectorTy</a>();</span></CodeLine>
<Link id="l08614" /><CodeLine lineNumber="8614"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (IsFP) &#123;</span></CodeLine>
<Link id="l08615" /><CodeLine lineNumber="8615"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// FIXME: Regular fcmps are FPMathOperators which may have fast-math (nnan)</span></CodeLine>
<Link id="l08616" /><CodeLine lineNumber="8616"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// flags, but calls that don&#39;t return floating-point types can&#39;t be</span></CodeLine>
<Link id="l08617" /><CodeLine lineNumber="8617"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// FPMathOperators, like vp.fcmp. This affects constrained fcmp too.</span></CodeLine>
<Link id="l08618" /><CodeLine lineNumber="8618"><span class="doxyHighlight">    Condition = <a href="/docs/api/namespaces/llvm/#a8b3a8b47a5344da71953bc4eb38c5179">getFCmpCondCode</a>(CondCode);</span></CodeLine>
<Link id="l08619" /><CodeLine lineNumber="8619"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (TM.Options.NoNaNsFPMath)</span></CodeLine>
<Link id="l08620" /><CodeLine lineNumber="8620"><span class="doxyHighlight">      Condition = <a href="/docs/api/namespaces/llvm/#ab85a42eddf5fd6beac822af946d5b1e2">getFCmpCodeWithoutNaN</a>(Condition);</span></CodeLine>
<Link id="l08621" /><CodeLine lineNumber="8621"><span class="doxyHighlight">  &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l08622" /><CodeLine lineNumber="8622"><span class="doxyHighlight">    Condition = <a href="/docs/api/namespaces/llvm/#a0724f162df94451d626d918e992fe123">getICmpCondCode</a>(CondCode);</span></CodeLine>
<Link id="l08623" /><CodeLine lineNumber="8623"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l08624" /><CodeLine lineNumber="8624"></CodeLine>
<Link id="l08625" /><CodeLine lineNumber="8625"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op1 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(VPIntrin.<a href="/docs/api/classes/llvm/user/#aa0a2cb1582d1cec317bd205085469ca1">getOperand</a>(0));</span></CodeLine>
<Link id="l08626" /><CodeLine lineNumber="8626"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op2 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(VPIntrin.<a href="/docs/api/classes/llvm/user/#aa0a2cb1582d1cec317bd205085469ca1">getOperand</a>(1));</span></CodeLine>
<Link id="l08627" /><CodeLine lineNumber="8627"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// #2 is the condition code</span></CodeLine>
<Link id="l08628" /><CodeLine lineNumber="8628"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> MaskOp = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(VPIntrin.<a href="/docs/api/classes/llvm/user/#aa0a2cb1582d1cec317bd205085469ca1">getOperand</a>(3));</span></CodeLine>
<Link id="l08629" /><CodeLine lineNumber="8629"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> EVL = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(VPIntrin.<a href="/docs/api/classes/llvm/user/#aa0a2cb1582d1cec317bd205085469ca1">getOperand</a>(4));</span></CodeLine>
<Link id="l08630" /><CodeLine lineNumber="8630"><span class="doxyHighlight">  MVT EVLParamVT = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#afe90eb9875c06fb6c9116e088b77092e">getVPExplicitVectorLengthTy</a>();</span></CodeLine>
<Link id="l08631" /><CodeLine lineNumber="8631"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(EVLParamVT.<a href="/docs/api/classes/llvm/mvt/#abdeb0e345d1884804b99c02dafb2eb08">isScalarInteger</a>() &amp;&amp; EVLParamVT.<a href="/docs/api/classes/llvm/mvt/#abd2222d9dea561769d0dba19eac77edc">bitsGE</a>(MVT::i32) &amp;&amp;</span></CodeLine>
<Link id="l08632" /><CodeLine lineNumber="8632"><span class="doxyHighlight">         </span><span class="doxyHighlightStringLiteral">&quot;Unexpected target EVL type&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l08633" /><CodeLine lineNumber="8633"><span class="doxyHighlight">  EVL = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">ISD::ZERO&#95;EXTEND</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, EVLParamVT, EVL);</span></CodeLine>
<Link id="l08634" /><CodeLine lineNumber="8634"></CodeLine>
<Link id="l08635" /><CodeLine lineNumber="8635"><span class="doxyHighlight">  EVT DestVT = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo().getValueType(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(),</span></CodeLine>
<Link id="l08636" /><CodeLine lineNumber="8636"><span class="doxyHighlight">                                                        VPIntrin.<a href="/docs/api/classes/llvm/value/#a0344a49526443edf90cc0aef3abd3337">getType</a>());</span></CodeLine>
<Link id="l08637" /><CodeLine lineNumber="8637"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;VPIntrin,</span></CodeLine>
<Link id="l08638" /><CodeLine lineNumber="8638"><span class="doxyHighlight">           <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSetCCVP(<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, DestVT, Op1, Op2, Condition, MaskOp, EVL));</span></CodeLine>
<Link id="l08639" /><CodeLine lineNumber="8639"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l08640" /><CodeLine lineNumber="8640"></CodeLine>
<Link id="l08641" /><CodeLine lineNumber="8641"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitVectorPredicationIntrinsic(</span></CodeLine>
<Link id="l08642" /><CodeLine lineNumber="8642"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/vpintrinsic">VPIntrinsic</a> &amp;VPIntrin) &#123;</span></CodeLine>
<Link id="l08643" /><CodeLine lineNumber="8643"><span class="doxyHighlight">  SDLoc <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>();</span></CodeLine>
<Link id="l08644" /><CodeLine lineNumber="8644"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> Opcode = <a href="#a4d180adab34368b65e2a43f64c7de814">getISDForVPIntrinsic</a>(VPIntrin);</span></CodeLine>
<Link id="l08645" /><CodeLine lineNumber="8645"></CodeLine>
<Link id="l08646" /><CodeLine lineNumber="8646"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> IID = VPIntrin.<a href="/docs/api/classes/llvm/intrinsicinst/#a7ff64b3625b6f9020556ed05a5f72af4">getIntrinsicID</a>();</span></CodeLine>
<Link id="l08647" /><CodeLine lineNumber="8647"></CodeLine>
<Link id="l08648" /><CodeLine lineNumber="8648"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;CmpI = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;VPCmpIntrinsic&gt;</a>(&amp;VPIntrin))</span></CodeLine>
<Link id="l08649" /><CodeLine lineNumber="8649"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> visitVPCmp(&#42;CmpI);</span></CodeLine>
<Link id="l08650" /><CodeLine lineNumber="8650"></CodeLine>
<Link id="l08651" /><CodeLine lineNumber="8651"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;EVT, 4&gt;</a> ValueVTs;</span></CodeLine>
<Link id="l08652" /><CodeLine lineNumber="8652"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> TargetLowering &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l08653" /><CodeLine lineNumber="8653"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#ab99618b3d8988b758a67f5a1a6071095">ComputeValueVTs</a>(TLI, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), VPIntrin.<a href="/docs/api/classes/llvm/value/#a0344a49526443edf90cc0aef3abd3337">getType</a>(), ValueVTs);</span></CodeLine>
<Link id="l08654" /><CodeLine lineNumber="8654"><span class="doxyHighlight">  SDVTList VTs = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVTList(ValueVTs);</span></CodeLine>
<Link id="l08655" /><CodeLine lineNumber="8655"></CodeLine>
<Link id="l08656" /><CodeLine lineNumber="8656"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> EVLParamPos = <a href="/docs/api/classes/llvm/vpintrinsic/#a88782f243be6d837a183d7abfe7b1a3c">VPIntrinsic::getVectorLengthParamPos</a>(IID);</span></CodeLine>
<Link id="l08657" /><CodeLine lineNumber="8657"></CodeLine>
<Link id="l08658" /><CodeLine lineNumber="8658"><span class="doxyHighlight">  MVT EVLParamVT = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#afe90eb9875c06fb6c9116e088b77092e">getVPExplicitVectorLengthTy</a>();</span></CodeLine>
<Link id="l08659" /><CodeLine lineNumber="8659"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(EVLParamVT.<a href="/docs/api/classes/llvm/mvt/#abdeb0e345d1884804b99c02dafb2eb08">isScalarInteger</a>() &amp;&amp; EVLParamVT.<a href="/docs/api/classes/llvm/mvt/#abd2222d9dea561769d0dba19eac77edc">bitsGE</a>(MVT::i32) &amp;&amp;</span></CodeLine>
<Link id="l08660" /><CodeLine lineNumber="8660"><span class="doxyHighlight">         </span><span class="doxyHighlightStringLiteral">&quot;Unexpected target EVL type&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l08661" /><CodeLine lineNumber="8661"></CodeLine>
<Link id="l08662" /><CodeLine lineNumber="8662"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Request operands.</span></CodeLine>
<Link id="l08663" /><CodeLine lineNumber="8663"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;SDValue, 7&gt;</a> OpValues;</span></CodeLine>
<Link id="l08664" /><CodeLine lineNumber="8664"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; VPIntrin.<a href="/docs/api/classes/llvm/callbase/#adde2ea00dd2613ee41bfe91908e4e68e">arg&#95;size</a>(); ++<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l08665" /><CodeLine lineNumber="8665"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(VPIntrin.<a href="/docs/api/classes/llvm/callbase/#aabd76e6a8a23a5af1ce4d3c310d88bcd">getArgOperand</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</span></CodeLine>
<Link id="l08666" /><CodeLine lineNumber="8666"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a> == EVLParamPos)</span></CodeLine>
<Link id="l08667" /><CodeLine lineNumber="8667"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">ISD::ZERO&#95;EXTEND</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, EVLParamVT, <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>);</span></CodeLine>
<Link id="l08668" /><CodeLine lineNumber="8668"><span class="doxyHighlight">    OpValues.<a href="/docs/api/classes/llvm/smallvectortemplatebase/#af42bfbc067df27c19ee2fc859df58799">push&#95;back</a>(<a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>);</span></CodeLine>
<Link id="l08669" /><CodeLine lineNumber="8669"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l08670" /><CodeLine lineNumber="8670"></CodeLine>
<Link id="l08671" /><CodeLine lineNumber="8671"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">switch</span><span class="doxyHighlight"> (Opcode) &#123;</span></CodeLine>
<Link id="l08672" /><CodeLine lineNumber="8672"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">default</span><span class="doxyHighlight">: &#123;</span></CodeLine>
<Link id="l08673" /><CodeLine lineNumber="8673"><span class="doxyHighlight">    SDNodeFlags SDFlags;</span></CodeLine>
<Link id="l08674" /><CodeLine lineNumber="8674"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;FPMO = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;FPMathOperator&gt;</a>(&amp;VPIntrin))</span></CodeLine>
<Link id="l08675" /><CodeLine lineNumber="8675"><span class="doxyHighlight">      SDFlags.<a href="/docs/api/structs/llvm/sdnodeflags/#a2235a7b644c7eb6f9f405df4ece486a2">copyFMF</a>(&#42;FPMO);</span></CodeLine>
<Link id="l08676" /><CodeLine lineNumber="8676"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/ms-demangle/#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(Opcode, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VTs, OpValues, SDFlags);</span></CodeLine>
<Link id="l08677" /><CodeLine lineNumber="8677"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;VPIntrin, Result);</span></CodeLine>
<Link id="l08678" /><CodeLine lineNumber="8678"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08679" /><CodeLine lineNumber="8679"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l08680" /><CodeLine lineNumber="8680"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> ISD::VP&#95;LOAD:</span></CodeLine>
<Link id="l08681" /><CodeLine lineNumber="8681"><span class="doxyHighlight">    visitVPLoad(VPIntrin, ValueVTs&#91;0&#93;, OpValues);</span></CodeLine>
<Link id="l08682" /><CodeLine lineNumber="8682"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08683" /><CodeLine lineNumber="8683"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> ISD::VP&#95;GATHER:</span></CodeLine>
<Link id="l08684" /><CodeLine lineNumber="8684"><span class="doxyHighlight">    visitVPGather(VPIntrin, ValueVTs&#91;0&#93;, OpValues);</span></CodeLine>
<Link id="l08685" /><CodeLine lineNumber="8685"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08686" /><CodeLine lineNumber="8686"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> ISD::EXPERIMENTAL&#95;VP&#95;STRIDED&#95;LOAD:</span></CodeLine>
<Link id="l08687" /><CodeLine lineNumber="8687"><span class="doxyHighlight">    visitVPStridedLoad(VPIntrin, ValueVTs&#91;0&#93;, OpValues);</span></CodeLine>
<Link id="l08688" /><CodeLine lineNumber="8688"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08689" /><CodeLine lineNumber="8689"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> ISD::VP&#95;STORE:</span></CodeLine>
<Link id="l08690" /><CodeLine lineNumber="8690"><span class="doxyHighlight">    visitVPStore(VPIntrin, OpValues);</span></CodeLine>
<Link id="l08691" /><CodeLine lineNumber="8691"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08692" /><CodeLine lineNumber="8692"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> ISD::VP&#95;SCATTER:</span></CodeLine>
<Link id="l08693" /><CodeLine lineNumber="8693"><span class="doxyHighlight">    visitVPScatter(VPIntrin, OpValues);</span></CodeLine>
<Link id="l08694" /><CodeLine lineNumber="8694"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08695" /><CodeLine lineNumber="8695"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> ISD::EXPERIMENTAL&#95;VP&#95;STRIDED&#95;STORE:</span></CodeLine>
<Link id="l08696" /><CodeLine lineNumber="8696"><span class="doxyHighlight">    visitVPStridedStore(VPIntrin, OpValues);</span></CodeLine>
<Link id="l08697" /><CodeLine lineNumber="8697"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08698" /><CodeLine lineNumber="8698"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> ISD::VP&#95;FMULADD: &#123;</span></CodeLine>
<Link id="l08699" /><CodeLine lineNumber="8699"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(OpValues.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#a1c479a8c434377c2b8cb056bdfdfc201">size</a>() == 5 &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Unexpected number of operands&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l08700" /><CodeLine lineNumber="8700"><span class="doxyHighlight">    SDNodeFlags SDFlags;</span></CodeLine>
<Link id="l08701" /><CodeLine lineNumber="8701"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;FPMO = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;FPMathOperator&gt;</a>(&amp;VPIntrin))</span></CodeLine>
<Link id="l08702" /><CodeLine lineNumber="8702"><span class="doxyHighlight">      SDFlags.<a href="/docs/api/structs/llvm/sdnodeflags/#a2235a7b644c7eb6f9f405df4ece486a2">copyFMF</a>(&#42;FPMO);</span></CodeLine>
<Link id="l08703" /><CodeLine lineNumber="8703"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (TM.Options.AllowFPOpFusion != <a href="/docs/api/namespaces/llvm/fpopfusion/#a9c71bae9f02af273833fde586d529fc5a451b4af21652249f72a40a7f9b88ca4f">FPOpFusion::Strict</a> &amp;&amp;</span></CodeLine>
<Link id="l08704" /><CodeLine lineNumber="8704"><span class="doxyHighlight">        TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a01e67f27ae5f75164e2591e9024df6ec">isFMAFasterThanFMulAndFAdd</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMachineFunction(), ValueVTs&#91;0&#93;)) &#123;</span></CodeLine>
<Link id="l08705" /><CodeLine lineNumber="8705"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;VPIntrin, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::VP&#95;FMA, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VTs, OpValues, SDFlags));</span></CodeLine>
<Link id="l08706" /><CodeLine lineNumber="8706"><span class="doxyHighlight">    &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l08707" /><CodeLine lineNumber="8707"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/#aac36edd0f1ce976f0025c98e88d3830ea62b6d55816cf737bfc6f42e60df1a3f2">Mul</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(</span></CodeLine>
<Link id="l08708" /><CodeLine lineNumber="8708"><span class="doxyHighlight">          ISD::VP&#95;FMUL, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VTs,</span></CodeLine>
<Link id="l08709" /><CodeLine lineNumber="8709"><span class="doxyHighlight">          &#123;OpValues&#91;0&#93;, OpValues&#91;1&#93;, OpValues&#91;3&#93;, OpValues&#91;4&#93;&#125;, SDFlags);</span></CodeLine>
<Link id="l08710" /><CodeLine lineNumber="8710"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/#aac36edd0f1ce976f0025c98e88d3830eaec211f7c20af43e742bf2570c3cb84f9">Add</a> =</span></CodeLine>
<Link id="l08711" /><CodeLine lineNumber="8711"><span class="doxyHighlight">          <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::VP&#95;FADD, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VTs,</span></CodeLine>
<Link id="l08712" /><CodeLine lineNumber="8712"><span class="doxyHighlight">                      &#123;<a href="/docs/api/namespaces/llvm/#aac36edd0f1ce976f0025c98e88d3830ea62b6d55816cf737bfc6f42e60df1a3f2">Mul</a>, OpValues&#91;2&#93;, OpValues&#91;3&#93;, OpValues&#91;4&#93;&#125;, SDFlags);</span></CodeLine>
<Link id="l08713" /><CodeLine lineNumber="8713"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;VPIntrin, <a href="/docs/api/namespaces/llvm/#aac36edd0f1ce976f0025c98e88d3830eaec211f7c20af43e742bf2570c3cb84f9">Add</a>);</span></CodeLine>
<Link id="l08714" /><CodeLine lineNumber="8714"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l08715" /><CodeLine lineNumber="8715"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08716" /><CodeLine lineNumber="8716"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l08717" /><CodeLine lineNumber="8717"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> ISD::VP&#95;IS&#95;FPCLASS: &#123;</span></CodeLine>
<Link id="l08718" /><CodeLine lineNumber="8718"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> DataLayout DLayout = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout();</span></CodeLine>
<Link id="l08719" /><CodeLine lineNumber="8719"><span class="doxyHighlight">    EVT DestVT = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(DLayout, VPIntrin.<a href="/docs/api/classes/llvm/value/#a0344a49526443edf90cc0aef3abd3337">getType</a>());</span></CodeLine>
<Link id="l08720" /><CodeLine lineNumber="8720"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110aac2f0a84dd2aa5ee4c3f1385e9565f5e">Constant</a> = OpValues&#91;1&#93;-&gt;getAsZExtVal();</span></CodeLine>
<Link id="l08721" /><CodeLine lineNumber="8721"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/include/include/llvm/include/llvm/ir/genericconvergenceverifierimpl-h/#a2bb73b5d562083dde29e9091dd81bef3">Check</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetConstant(Constant, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, MVT::i32);</span></CodeLine>
<Link id="l08722" /><CodeLine lineNumber="8722"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/m68k/#ab3a288f2953d8eca3e363959fc2cf38ea5206560a306a2e085a437fd258eb57ce">V</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::VP&#95;IS&#95;FPCLASS, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, DestVT,</span></CodeLine>
<Link id="l08723" /><CodeLine lineNumber="8723"><span class="doxyHighlight">                            &#123;OpValues&#91;0&#93;, <a href="/docs/api/files/include/include/llvm/include/llvm/ir/genericconvergenceverifierimpl-h/#a2bb73b5d562083dde29e9091dd81bef3">Check</a>, OpValues&#91;2&#93;, OpValues&#91;3&#93;&#125;);</span></CodeLine>
<Link id="l08724" /><CodeLine lineNumber="8724"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;VPIntrin, V);</span></CodeLine>
<Link id="l08725" /><CodeLine lineNumber="8725"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08726" /><CodeLine lineNumber="8726"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l08727" /><CodeLine lineNumber="8727"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> ISD::VP&#95;INTTOPTR: &#123;</span></CodeLine>
<Link id="l08728" /><CodeLine lineNumber="8728"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a> = OpValues&#91;0&#93;;</span></CodeLine>
<Link id="l08729" /><CodeLine lineNumber="8729"><span class="doxyHighlight">    EVT DestVT = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), VPIntrin.<a href="/docs/api/classes/llvm/value/#a0344a49526443edf90cc0aef3abd3337">getType</a>());</span></CodeLine>
<Link id="l08730" /><CodeLine lineNumber="8730"><span class="doxyHighlight">    EVT PtrMemVT = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a02b5aaf4357ae931647439e312a034bc">getMemValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), VPIntrin.<a href="/docs/api/classes/llvm/value/#a0344a49526443edf90cc0aef3abd3337">getType</a>());</span></CodeLine>
<Link id="l08731" /><CodeLine lineNumber="8731"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVPPtrExtOrTrunc(<a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), DestVT, <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>, OpValues&#91;1&#93;,</span></CodeLine>
<Link id="l08732" /><CodeLine lineNumber="8732"><span class="doxyHighlight">                               OpValues&#91;2&#93;);</span></CodeLine>
<Link id="l08733" /><CodeLine lineNumber="8733"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVPZExtOrTrunc(<a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), PtrMemVT, <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>, OpValues&#91;1&#93;,</span></CodeLine>
<Link id="l08734" /><CodeLine lineNumber="8734"><span class="doxyHighlight">                             OpValues&#91;2&#93;);</span></CodeLine>
<Link id="l08735" /><CodeLine lineNumber="8735"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;VPIntrin, <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>);</span></CodeLine>
<Link id="l08736" /><CodeLine lineNumber="8736"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08737" /><CodeLine lineNumber="8737"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l08738" /><CodeLine lineNumber="8738"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> ISD::VP&#95;PTRTOINT: &#123;</span></CodeLine>
<Link id="l08739" /><CodeLine lineNumber="8739"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a> = OpValues&#91;0&#93;;</span></CodeLine>
<Link id="l08740" /><CodeLine lineNumber="8740"><span class="doxyHighlight">    EVT DestVT = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo().getValueType(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(),</span></CodeLine>
<Link id="l08741" /><CodeLine lineNumber="8741"><span class="doxyHighlight">                                                          VPIntrin.<a href="/docs/api/classes/llvm/value/#a0344a49526443edf90cc0aef3abd3337">getType</a>());</span></CodeLine>
<Link id="l08742" /><CodeLine lineNumber="8742"><span class="doxyHighlight">    EVT PtrMemVT = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a02b5aaf4357ae931647439e312a034bc">getMemValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(),</span></CodeLine>
<Link id="l08743" /><CodeLine lineNumber="8743"><span class="doxyHighlight">                                       VPIntrin.<a href="/docs/api/classes/llvm/user/#aa0a2cb1582d1cec317bd205085469ca1">getOperand</a>(0)-&gt;<a href="/docs/api/classes/llvm/value/#a0344a49526443edf90cc0aef3abd3337">getType</a>());</span></CodeLine>
<Link id="l08744" /><CodeLine lineNumber="8744"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVPPtrExtOrTrunc(<a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), PtrMemVT, <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>, OpValues&#91;1&#93;,</span></CodeLine>
<Link id="l08745" /><CodeLine lineNumber="8745"><span class="doxyHighlight">                               OpValues&#91;2&#93;);</span></CodeLine>
<Link id="l08746" /><CodeLine lineNumber="8746"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVPZExtOrTrunc(<a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), DestVT, <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>, OpValues&#91;1&#93;,</span></CodeLine>
<Link id="l08747" /><CodeLine lineNumber="8747"><span class="doxyHighlight">                             OpValues&#91;2&#93;);</span></CodeLine>
<Link id="l08748" /><CodeLine lineNumber="8748"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;VPIntrin, <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>);</span></CodeLine>
<Link id="l08749" /><CodeLine lineNumber="8749"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08750" /><CodeLine lineNumber="8750"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l08751" /><CodeLine lineNumber="8751"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> ISD::VP&#95;ABS:</span></CodeLine>
<Link id="l08752" /><CodeLine lineNumber="8752"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> ISD::VP&#95;CTLZ:</span></CodeLine>
<Link id="l08753" /><CodeLine lineNumber="8753"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> ISD::VP&#95;CTLZ&#95;ZERO&#95;UNDEF:</span></CodeLine>
<Link id="l08754" /><CodeLine lineNumber="8754"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> ISD::VP&#95;CTTZ:</span></CodeLine>
<Link id="l08755" /><CodeLine lineNumber="8755"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> ISD::VP&#95;CTTZ&#95;ZERO&#95;UNDEF:</span></CodeLine>
<Link id="l08756" /><CodeLine lineNumber="8756"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> ISD::VP&#95;CTTZ&#95;ELTS&#95;ZERO&#95;UNDEF:</span></CodeLine>
<Link id="l08757" /><CodeLine lineNumber="8757"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> ISD::VP&#95;CTTZ&#95;ELTS: &#123;</span></CodeLine>
<Link id="l08758" /><CodeLine lineNumber="8758"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/ms-demangle/#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> =</span></CodeLine>
<Link id="l08759" /><CodeLine lineNumber="8759"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(Opcode, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VTs, &#123;OpValues&#91;0&#93;, OpValues&#91;2&#93;, OpValues&#91;3&#93;&#125;);</span></CodeLine>
<Link id="l08760" /><CodeLine lineNumber="8760"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;VPIntrin, Result);</span></CodeLine>
<Link id="l08761" /><CodeLine lineNumber="8761"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08762" /><CodeLine lineNumber="8762"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l08763" /><CodeLine lineNumber="8763"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l08764" /><CodeLine lineNumber="8764"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l08765" /><CodeLine lineNumber="8765"></CodeLine>
<Link id="l08766" /><CodeLine lineNumber="8766"><span class="doxyHighlight"><a href="/docs/api/classes/llvm/sdvalue">SDValue</a> SelectionDAGBuilder::lowerStartEH(<a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Chain,</span></CodeLine>
<Link id="l08767" /><CodeLine lineNumber="8767"><span class="doxyHighlight">                                          </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42;EHPadBB,</span></CodeLine>
<Link id="l08768" /><CodeLine lineNumber="8768"><span class="doxyHighlight">                                          <a href="/docs/api/classes/llvm/mcsymbol">MCSymbol</a> &#42;&amp;BeginLabel) &#123;</span></CodeLine>
<Link id="l08769" /><CodeLine lineNumber="8769"><span class="doxyHighlight">  MachineFunction &amp;MF = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMachineFunction();</span></CodeLine>
<Link id="l08770" /><CodeLine lineNumber="8770"></CodeLine>
<Link id="l08771" /><CodeLine lineNumber="8771"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Insert a label before the invoke call to mark the try range.  This can be</span></CodeLine>
<Link id="l08772" /><CodeLine lineNumber="8772"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// used to detect deletion of the invoke via the MachineModuleInfo.</span></CodeLine>
<Link id="l08773" /><CodeLine lineNumber="8773"><span class="doxyHighlight">  BeginLabel = MF.<a href="/docs/api/classes/llvm/machinefunction/#a752546c51633c140d9ca4ab98b4781b6">getContext</a>().<a href="/docs/api/classes/llvm/mccontext/#a299bf2f0329389424760f4a7c8af75ac">createTempSymbol</a>();</span></CodeLine>
<Link id="l08774" /><CodeLine lineNumber="8774"></CodeLine>
<Link id="l08775" /><CodeLine lineNumber="8775"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// For SjLj, keep track of which landing pads go with which invokes</span></CodeLine>
<Link id="l08776" /><CodeLine lineNumber="8776"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// so as to maintain the ordering of pads in the LSDA.</span></CodeLine>
<Link id="l08777" /><CodeLine lineNumber="8777"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> CallSiteIndex = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.getCurrentCallSite();</span></CodeLine>
<Link id="l08778" /><CodeLine lineNumber="8778"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (CallSiteIndex) &#123;</span></CodeLine>
<Link id="l08779" /><CodeLine lineNumber="8779"><span class="doxyHighlight">    MF.<a href="/docs/api/classes/llvm/machinefunction/#a32db8859b8ef69b381a83229b2bf4cb9">setCallSiteBeginLabel</a>(BeginLabel, CallSiteIndex);</span></CodeLine>
<Link id="l08780" /><CodeLine lineNumber="8780"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#a53319e45ea515329480adf13f0098b4b">LPadToCallSiteMap</a>&#91;<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.getMBB(EHPadBB)&#93;.push&#95;back(CallSiteIndex);</span></CodeLine>
<Link id="l08781" /><CodeLine lineNumber="8781"></CodeLine>
<Link id="l08782" /><CodeLine lineNumber="8782"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Now that the call site is handled, stop tracking it.</span></CodeLine>
<Link id="l08783" /><CodeLine lineNumber="8783"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.setCurrentCallSite(0);</span></CodeLine>
<Link id="l08784" /><CodeLine lineNumber="8784"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l08785" /><CodeLine lineNumber="8785"></CodeLine>
<Link id="l08786" /><CodeLine lineNumber="8786"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getEHLabel(<a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), Chain, BeginLabel);</span></CodeLine>
<Link id="l08787" /><CodeLine lineNumber="8787"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l08788" /><CodeLine lineNumber="8788"></CodeLine>
<Link id="l08789" /><CodeLine lineNumber="8789"><span class="doxyHighlight"><a href="/docs/api/classes/llvm/sdvalue">SDValue</a> SelectionDAGBuilder::lowerEndEH(<a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Chain, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/invokeinst">InvokeInst</a> &#42;<a href="/docs/api/files/lib/lib/target/lib/target/nvptx/nvvmintrrange-cpp/#ac5804672fc0850438d63caec770647f8">II</a>,</span></CodeLine>
<Link id="l08790" /><CodeLine lineNumber="8790"><span class="doxyHighlight">                                        </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42;EHPadBB,</span></CodeLine>
<Link id="l08791" /><CodeLine lineNumber="8791"><span class="doxyHighlight">                                        <a href="/docs/api/classes/llvm/mcsymbol">MCSymbol</a> &#42;BeginLabel) &#123;</span></CodeLine>
<Link id="l08792" /><CodeLine lineNumber="8792"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(BeginLabel &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;BeginLabel should&#39;ve been set&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l08793" /><CodeLine lineNumber="8793"></CodeLine>
<Link id="l08794" /><CodeLine lineNumber="8794"><span class="doxyHighlight">  MachineFunction &amp;MF = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMachineFunction();</span></CodeLine>
<Link id="l08795" /><CodeLine lineNumber="8795"></CodeLine>
<Link id="l08796" /><CodeLine lineNumber="8796"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Insert a label at the end of the invoke call to mark the try range.  This</span></CodeLine>
<Link id="l08797" /><CodeLine lineNumber="8797"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// can be used to detect deletion of the invoke via the MachineModuleInfo.</span></CodeLine>
<Link id="l08798" /><CodeLine lineNumber="8798"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110aabb68e91001557f73ff8af63eb8d5883">MCSymbol</a> &#42;EndLabel = MF.<a href="/docs/api/classes/llvm/machinefunction/#a752546c51633c140d9ca4ab98b4781b6">getContext</a>().<a href="/docs/api/classes/llvm/mccontext/#a299bf2f0329389424760f4a7c8af75ac">createTempSymbol</a>();</span></CodeLine>
<Link id="l08799" /><CodeLine lineNumber="8799"><span class="doxyHighlight">  <a href="/docs/api/namespaces/anonymous-loadstorevectorizer-cpp-/#afd1adfcbfce320e6265935ce4d6299a3">Chain</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getEHLabel(<a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), Chain, EndLabel);</span></CodeLine>
<Link id="l08800" /><CodeLine lineNumber="8800"></CodeLine>
<Link id="l08801" /><CodeLine lineNumber="8801"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Inform MachineModuleInfo of range.</span></CodeLine>
<Link id="l08802" /><CodeLine lineNumber="8802"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> Pers = <a href="/docs/api/namespaces/llvm/#a8d508f23e2580095561902c39911fb9b">classifyEHPersonality</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.Fn-&gt;getPersonalityFn());</span></CodeLine>
<Link id="l08803" /><CodeLine lineNumber="8803"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// There is a platform (e.g. wasm) that uses funclet style IR but does not</span></CodeLine>
<Link id="l08804" /><CodeLine lineNumber="8804"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// actually use outlined funclets and their LSDA info style.</span></CodeLine>
<Link id="l08805" /><CodeLine lineNumber="8805"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (MF.<a href="/docs/api/classes/llvm/machinefunction/#ad40522ac860df72189255e38782acc3f">hasEHFunclets</a>() &amp;&amp; <a href="/docs/api/namespaces/llvm/#aa014490a40c9286ee7e026a2f579eea9">isFuncletEHPersonality</a>(Pers)) &#123;</span></CodeLine>
<Link id="l08806" /><CodeLine lineNumber="8806"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a href="/docs/api/files/lib/lib/target/lib/target/nvptx/nvvmintrrange-cpp/#ac5804672fc0850438d63caec770647f8">II</a> &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;II should&#39;ve been set&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l08807" /><CodeLine lineNumber="8807"><span class="doxyHighlight">    WinEHFuncInfo &#42;EHInfo = MF.<a href="/docs/api/classes/llvm/machinefunction/#a11cf771f7f11ea4fdacdbd5420371172">getWinEHFuncInfo</a>();</span></CodeLine>
<Link id="l08808" /><CodeLine lineNumber="8808"><span class="doxyHighlight">    EHInfo-&gt;<a href="/docs/api/structs/llvm/winehfuncinfo/#a068f5a93381c54e7d8a42e8ad7a4c95e">addIPToStateRange</a>(<a href="/docs/api/files/lib/lib/target/lib/target/nvptx/nvvmintrrange-cpp/#ac5804672fc0850438d63caec770647f8">II</a>, BeginLabel, EndLabel);</span></CodeLine>
<Link id="l08809" /><CodeLine lineNumber="8809"><span class="doxyHighlight">  &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="/docs/api/namespaces/llvm/#a5309dbf19ec5ccffe3072c6087e106d3">isScopedEHPersonality</a>(Pers)) &#123;</span></CodeLine>
<Link id="l08810" /><CodeLine lineNumber="8810"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(EHPadBB);</span></CodeLine>
<Link id="l08811" /><CodeLine lineNumber="8811"><span class="doxyHighlight">    MF.<a href="/docs/api/classes/llvm/machinefunction/#adbfecbe1544a1740757b381ffcb8af10">addInvoke</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.getMBB(EHPadBB), BeginLabel, EndLabel);</span></CodeLine>
<Link id="l08812" /><CodeLine lineNumber="8812"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l08813" /><CodeLine lineNumber="8813"></CodeLine>
<Link id="l08814" /><CodeLine lineNumber="8814"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/anonymous-loadstorevectorizer-cpp-/#afd1adfcbfce320e6265935ce4d6299a3">Chain</a>;</span></CodeLine>
<Link id="l08815" /><CodeLine lineNumber="8815"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l08816" /><CodeLine lineNumber="8816"></CodeLine>
<Link id="l08817" /><CodeLine lineNumber="8817"><span class="doxyHighlight">std::pair&lt;SDValue, SDValue&gt;</span></CodeLine>
<Link id="l08818" /><CodeLine lineNumber="8818" lineLink="/docs/api/classes/llvm/selectiondagbuilder/#ab29b69c993fbb9a4b9d28c3600df005d"><span class="doxyHighlight"><a href="/docs/api/classes/llvm/selectiondagbuilder/#ab29b69c993fbb9a4b9d28c3600df005d">SelectionDAGBuilder::lowerInvokable</a>(<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo">TargetLowering::CallLoweringInfo</a> &amp;CLI,</span></CodeLine>
<Link id="l08819" /><CodeLine lineNumber="8819"><span class="doxyHighlight">                                    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42;EHPadBB) &#123;</span></CodeLine>
<Link id="l08820" /><CodeLine lineNumber="8820"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/mcsymbol">MCSymbol</a> &#42;BeginLabel = </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08821" /><CodeLine lineNumber="8821"></CodeLine>
<Link id="l08822" /><CodeLine lineNumber="8822"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (EHPadBB) &#123;</span></CodeLine>
<Link id="l08823" /><CodeLine lineNumber="8823"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Both PendingLoads and PendingExports must be flushed here;</span></CodeLine>
<Link id="l08824" /><CodeLine lineNumber="8824"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// this call might not return.</span></CodeLine>
<Link id="l08825" /><CodeLine lineNumber="8825"><span class="doxyHighlight">    (void)<a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>();</span></CodeLine>
<Link id="l08826" /><CodeLine lineNumber="8826"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(lowerStartEH(<a href="/docs/api/classes/llvm/selectiondagbuilder/#aef34360e8bb4bdecf3fd6345ff504f81">getControlRoot</a>(), EHPadBB, BeginLabel));</span></CodeLine>
<Link id="l08827" /><CodeLine lineNumber="8827"><span class="doxyHighlight">    CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#ae8c9a19c4e49854df72efd6a33299ca6">setChain</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>());</span></CodeLine>
<Link id="l08828" /><CodeLine lineNumber="8828"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l08829" /><CodeLine lineNumber="8829"></CodeLine>
<Link id="l08830" /><CodeLine lineNumber="8830"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetlowering">TargetLowering</a> &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l08831" /><CodeLine lineNumber="8831"><span class="doxyHighlight">  std::pair&lt;SDValue, SDValue&gt; Result = TLI.<a href="/docs/api/classes/llvm/targetlowering/#aabd42a6eddc3daec9153679b54f79300">LowerCallTo</a>(CLI);</span></CodeLine>
<Link id="l08832" /><CodeLine lineNumber="8832"></CodeLine>
<Link id="l08833" /><CodeLine lineNumber="8833"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#a283b7df55a414e3185b56aeea1ec7ee7">IsTailCall</a> || Result.second.getNode()) &amp;&amp;</span></CodeLine>
<Link id="l08834" /><CodeLine lineNumber="8834"><span class="doxyHighlight">         </span><span class="doxyHighlightStringLiteral">&quot;Non-null chain expected with non-tail call!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l08835" /><CodeLine lineNumber="8835"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((Result.second.getNode() || !Result.first.getNode()) &amp;&amp;</span></CodeLine>
<Link id="l08836" /><CodeLine lineNumber="8836"><span class="doxyHighlight">         </span><span class="doxyHighlightStringLiteral">&quot;Null value expected with tail call!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l08837" /><CodeLine lineNumber="8837"></CodeLine>
<Link id="l08838" /><CodeLine lineNumber="8838"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!Result.second.getNode()) &#123;</span></CodeLine>
<Link id="l08839" /><CodeLine lineNumber="8839"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// As a special case, a null chain means that a tail call has been emitted</span></CodeLine>
<Link id="l08840" /><CodeLine lineNumber="8840"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// and the DAG root is already updated.</span></CodeLine>
<Link id="l08841" /><CodeLine lineNumber="8841"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#a39e446f1647e793791c33d0d2412d088">HasTailCall</a> = </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08842" /><CodeLine lineNumber="8842"></CodeLine>
<Link id="l08843" /><CodeLine lineNumber="8843"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Since there&#39;s no actual continuation from this block, nothing can be</span></CodeLine>
<Link id="l08844" /><CodeLine lineNumber="8844"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// relying on us setting vregs for them.</span></CodeLine>
<Link id="l08845" /><CodeLine lineNumber="8845"><span class="doxyHighlight">    PendingExports.clear();</span></CodeLine>
<Link id="l08846" /><CodeLine lineNumber="8846"><span class="doxyHighlight">  &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l08847" /><CodeLine lineNumber="8847"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(Result.second);</span></CodeLine>
<Link id="l08848" /><CodeLine lineNumber="8848"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l08849" /><CodeLine lineNumber="8849"></CodeLine>
<Link id="l08850" /><CodeLine lineNumber="8850"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (EHPadBB) &#123;</span></CodeLine>
<Link id="l08851" /><CodeLine lineNumber="8851"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(lowerEndEH(<a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>(), <a href="/docs/api/namespaces/llvm/#a3e627c32543ca70720c4270a8b11da3f">cast&#95;or&#95;null&lt;InvokeInst&gt;</a>(CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#acd79db0f7d45129e8af1258541861ef8">CB</a>), EHPadBB,</span></CodeLine>
<Link id="l08852" /><CodeLine lineNumber="8852"><span class="doxyHighlight">                           BeginLabel));</span></CodeLine>
<Link id="l08853" /><CodeLine lineNumber="8853"><span class="doxyHighlight">    Result.second = <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>();</span></CodeLine>
<Link id="l08854" /><CodeLine lineNumber="8854"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l08855" /><CodeLine lineNumber="8855"></CodeLine>
<Link id="l08856" /><CodeLine lineNumber="8856"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> Result;</span></CodeLine>
<Link id="l08857" /><CodeLine lineNumber="8857"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l08858" /><CodeLine lineNumber="8858"></CodeLine>
<Link id="l08859" /><CodeLine lineNumber="8859" lineLink="/docs/api/classes/llvm/selectiondagbuilder/#a2b4653fa0c302d9cbe4e7839d711e76a"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#a2b4653fa0c302d9cbe4e7839d711e76a">SelectionDAGBuilder::LowerCallTo</a>(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/callbase">CallBase</a> &amp;CB, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Callee,</span></CodeLine>
<Link id="l08860" /><CodeLine lineNumber="8860"><span class="doxyHighlight">                                      </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> isTailCall, </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> isMustTailCall,</span></CodeLine>
<Link id="l08861" /><CodeLine lineNumber="8861"><span class="doxyHighlight">                                      </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42;EHPadBB,</span></CodeLine>
<Link id="l08862" /><CodeLine lineNumber="8862"><span class="doxyHighlight">                                      </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/structs/llvm/targetlowering/ptrauthinfo">TargetLowering::PtrAuthInfo</a> &#42;PAI) &#123;</span></CodeLine>
<Link id="l08863" /><CodeLine lineNumber="8863"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout();</span></CodeLine>
<Link id="l08864" /><CodeLine lineNumber="8864"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/functiontype">FunctionType</a> &#42;FTy = CB.<a href="/docs/api/classes/llvm/callbase/#ac3c35bd078a268a207f607d0f57dadba">getFunctionType</a>();</span></CodeLine>
<Link id="l08865" /><CodeLine lineNumber="8865"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/type">Type</a> &#42;RetTy = CB.<a href="/docs/api/classes/llvm/value/#a0344a49526443edf90cc0aef3abd3337">getType</a>();</span></CodeLine>
<Link id="l08866" /><CodeLine lineNumber="8866"></CodeLine>
<Link id="l08867" /><CodeLine lineNumber="8867"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/targetloweringbase/#ae4ac6bc14db22dbd7b94a3b1bd276796">TargetLowering::ArgListTy</a> Args;</span></CodeLine>
<Link id="l08868" /><CodeLine lineNumber="8868"><span class="doxyHighlight">  Args.reserve(CB.<a href="/docs/api/classes/llvm/callbase/#adde2ea00dd2613ee41bfe91908e4e68e">arg&#95;size</a>());</span></CodeLine>
<Link id="l08869" /><CodeLine lineNumber="8869"></CodeLine>
<Link id="l08870" /><CodeLine lineNumber="8870"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;SwiftErrorVal = </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08871" /><CodeLine lineNumber="8871"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetlowering">TargetLowering</a> &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l08872" /><CodeLine lineNumber="8872"></CodeLine>
<Link id="l08873" /><CodeLine lineNumber="8873"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (isTailCall) &#123;</span></CodeLine>
<Link id="l08874" /><CodeLine lineNumber="8874"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Avoid emitting tail calls in functions with the disable-tail-calls</span></CodeLine>
<Link id="l08875" /><CodeLine lineNumber="8875"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// attribute.</span></CodeLine>
<Link id="l08876" /><CodeLine lineNumber="8876"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;Caller = CB.<a href="/docs/api/classes/llvm/ilist-detail/node-parent-access/#a7e19e7508415378ad9523e0339b23e22">getParent</a>()-&gt;getParent();</span></CodeLine>
<Link id="l08877" /><CodeLine lineNumber="8877"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Caller-&gt;getFnAttribute(</span><span class="doxyHighlightStringLiteral">&quot;disable-tail-calls&quot;</span><span class="doxyHighlight">).getValueAsString() ==</span></CodeLine>
<Link id="l08878" /><CodeLine lineNumber="8878"><span class="doxyHighlight">        </span><span class="doxyHighlightStringLiteral">&quot;true&quot;</span><span class="doxyHighlight"> &amp;&amp; !isMustTailCall)</span></CodeLine>
<Link id="l08879" /><CodeLine lineNumber="8879"><span class="doxyHighlight">      isTailCall = </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08880" /><CodeLine lineNumber="8880"></CodeLine>
<Link id="l08881" /><CodeLine lineNumber="8881"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// We can&#39;t tail call inside a function with a swifterror argument. Lowering</span></CodeLine>
<Link id="l08882" /><CodeLine lineNumber="8882"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// does not support this yet. It would have to move into the swifterror</span></CodeLine>
<Link id="l08883" /><CodeLine lineNumber="8883"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// register before the call.</span></CodeLine>
<Link id="l08884" /><CodeLine lineNumber="8884"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (TLI.<a href="/docs/api/classes/llvm/targetlowering/#a17694ad399c24aae0d2c0ecfbecfea5a">supportSwiftError</a>() &amp;&amp;</span></CodeLine>
<Link id="l08885" /><CodeLine lineNumber="8885"><span class="doxyHighlight">        Caller-&gt;getAttributes().hasAttrSomewhere(Attribute::SwiftError))</span></CodeLine>
<Link id="l08886" /><CodeLine lineNumber="8886"><span class="doxyHighlight">      isTailCall = </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08887" /><CodeLine lineNumber="8887"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l08888" /><CodeLine lineNumber="8888"></CodeLine>
<Link id="l08889" /><CodeLine lineNumber="8889"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a> = CB.<a href="/docs/api/classes/llvm/callbase/#a4fb513d744ca72275932b2c7003f16f6">arg&#95;begin</a>(), E = CB.<a href="/docs/api/classes/llvm/callbase/#ac0f11b96f81b2769dd23d028e3189075">arg&#95;end</a>(); <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l08890" /><CodeLine lineNumber="8890"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/targetloweringbase/arglistentry">TargetLowering::ArgListEntry</a> Entry;</span></CodeLine>
<Link id="l08891" /><CodeLine lineNumber="8891"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;V = &#42;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</span></CodeLine>
<Link id="l08892" /><CodeLine lineNumber="8892"></CodeLine>
<Link id="l08893" /><CodeLine lineNumber="8893"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Skip empty types</span></CodeLine>
<Link id="l08894" /><CodeLine lineNumber="8894"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (V-&gt;getType()-&gt;isEmptyTy())</span></CodeLine>
<Link id="l08895" /><CodeLine lineNumber="8895"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">continue</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08896" /><CodeLine lineNumber="8896"></CodeLine>
<Link id="l08897" /><CodeLine lineNumber="8897"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> ArgNode = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(V);</span></CodeLine>
<Link id="l08898" /><CodeLine lineNumber="8898"><span class="doxyHighlight">    Entry.Node = ArgNode; Entry.Ty = V-&gt;getType();</span></CodeLine>
<Link id="l08899" /><CodeLine lineNumber="8899"></CodeLine>
<Link id="l08900" /><CodeLine lineNumber="8900"><span class="doxyHighlight">    Entry.setAttributes(&amp;CB, <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a> - CB.<a href="/docs/api/classes/llvm/callbase/#a4fb513d744ca72275932b2c7003f16f6">arg&#95;begin</a>());</span></CodeLine>
<Link id="l08901" /><CodeLine lineNumber="8901"></CodeLine>
<Link id="l08902" /><CodeLine lineNumber="8902"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Use swifterror virtual register as input to the call.</span></CodeLine>
<Link id="l08903" /><CodeLine lineNumber="8903"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Entry.IsSwiftError &amp;&amp; TLI.<a href="/docs/api/classes/llvm/targetlowering/#a17694ad399c24aae0d2c0ecfbecfea5a">supportSwiftError</a>()) &#123;</span></CodeLine>
<Link id="l08904" /><CodeLine lineNumber="8904"><span class="doxyHighlight">      SwiftErrorVal = V;</span></CodeLine>
<Link id="l08905" /><CodeLine lineNumber="8905"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// We find the virtual register for the actual swifterror argument.</span></CodeLine>
<Link id="l08906" /><CodeLine lineNumber="8906"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Instead of using the Value, we use the virtual register instead.</span></CodeLine>
<Link id="l08907" /><CodeLine lineNumber="8907"><span class="doxyHighlight">      Entry.Node =</span></CodeLine>
<Link id="l08908" /><CodeLine lineNumber="8908"><span class="doxyHighlight">          <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getRegister(<a href="/docs/api/classes/llvm/selectiondagbuilder/#a4ac2cfd1783912207570d7cce74a3ea2">SwiftError</a>.getOrCreateVRegUseAt(&amp;CB, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.MBB, V),</span></CodeLine>
<Link id="l08909" /><CodeLine lineNumber="8909"><span class="doxyHighlight">                          <a href="/docs/api/structs/llvm/evt">EVT</a>(TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>)));</span></CodeLine>
<Link id="l08910" /><CodeLine lineNumber="8910"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l08911" /><CodeLine lineNumber="8911"></CodeLine>
<Link id="l08912" /><CodeLine lineNumber="8912"><span class="doxyHighlight">    Args.push&#95;back(Entry);</span></CodeLine>
<Link id="l08913" /><CodeLine lineNumber="8913"></CodeLine>
<Link id="l08914" /><CodeLine lineNumber="8914"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// If we have an explicit sret argument that is an Instruction, (i.e., it</span></CodeLine>
<Link id="l08915" /><CodeLine lineNumber="8915"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// might point to function-local memory), we can&#39;t meaningfully tail-call.</span></CodeLine>
<Link id="l08916" /><CodeLine lineNumber="8916"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Entry.IsSRet &amp;&amp; <a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;Instruction&gt;</a>(V))</span></CodeLine>
<Link id="l08917" /><CodeLine lineNumber="8917"><span class="doxyHighlight">      isTailCall = </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08918" /><CodeLine lineNumber="8918"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l08919" /><CodeLine lineNumber="8919"></CodeLine>
<Link id="l08920" /><CodeLine lineNumber="8920"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// If call site has a cfguardtarget operand bundle, create and add an</span></CodeLine>
<Link id="l08921" /><CodeLine lineNumber="8921"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// additional ArgListEntry.</span></CodeLine>
<Link id="l08922" /><CodeLine lineNumber="8922"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> Bundle = CB.<a href="/docs/api/classes/llvm/callbase/#a23ab5f34fb7b9476d45da0102ecbfae6">getOperandBundle</a>(<a href="/docs/api/classes/llvm/llvmcontext/#a44d727ac5fccf852bfb2bae3e06adc9ca7ccabf0c8cf51c267c1e0cd9a66261d8">LLVMContext::OB&#95;cfguardtarget</a>)) &#123;</span></CodeLine>
<Link id="l08923" /><CodeLine lineNumber="8923"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/targetloweringbase/arglistentry">TargetLowering::ArgListEntry</a> Entry;</span></CodeLine>
<Link id="l08924" /><CodeLine lineNumber="8924"><span class="doxyHighlight">    Value &#42;V = Bundle-&gt;Inputs&#91;0&#93;;</span></CodeLine>
<Link id="l08925" /><CodeLine lineNumber="8925"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> ArgNode = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(V);</span></CodeLine>
<Link id="l08926" /><CodeLine lineNumber="8926"><span class="doxyHighlight">    Entry.Node = ArgNode;</span></CodeLine>
<Link id="l08927" /><CodeLine lineNumber="8927"><span class="doxyHighlight">    Entry.Ty = V-&gt;getType();</span></CodeLine>
<Link id="l08928" /><CodeLine lineNumber="8928"><span class="doxyHighlight">    Entry.IsCFGuardTarget = </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08929" /><CodeLine lineNumber="8929"><span class="doxyHighlight">    Args.push&#95;back(Entry);</span></CodeLine>
<Link id="l08930" /><CodeLine lineNumber="8930"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l08931" /><CodeLine lineNumber="8931"></CodeLine>
<Link id="l08932" /><CodeLine lineNumber="8932"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Check if target-independent constraints permit a tail call here.</span></CodeLine>
<Link id="l08933" /><CodeLine lineNumber="8933"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Target-dependent constraints are checked within TLI-&gt;LowerCallTo.</span></CodeLine>
<Link id="l08934" /><CodeLine lineNumber="8934"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (isTailCall &amp;&amp; !<a href="/docs/api/namespaces/llvm/#ab2fadbd4626ccfbf3d2cabd27003d597">isInTailCallPosition</a>(CB, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTarget()))</span></CodeLine>
<Link id="l08935" /><CodeLine lineNumber="8935"><span class="doxyHighlight">    isTailCall = </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08936" /><CodeLine lineNumber="8936"></CodeLine>
<Link id="l08937" /><CodeLine lineNumber="8937"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Disable tail calls if there is an swifterror argument. Targets have not</span></CodeLine>
<Link id="l08938" /><CodeLine lineNumber="8938"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// been updated to support tail calls.</span></CodeLine>
<Link id="l08939" /><CodeLine lineNumber="8939"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (TLI.<a href="/docs/api/classes/llvm/targetlowering/#a17694ad399c24aae0d2c0ecfbecfea5a">supportSwiftError</a>() &amp;&amp; SwiftErrorVal)</span></CodeLine>
<Link id="l08940" /><CodeLine lineNumber="8940"><span class="doxyHighlight">    isTailCall = </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08941" /><CodeLine lineNumber="8941"></CodeLine>
<Link id="l08942" /><CodeLine lineNumber="8942"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/constantint">ConstantInt</a> &#42;CFIType = </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l08943" /><CodeLine lineNumber="8943"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (CB.<a href="/docs/api/classes/llvm/callbase/#a574efc7d85ff014d5f15e077f3c82e6b">isIndirectCall</a>()) &#123;</span></CodeLine>
<Link id="l08944" /><CodeLine lineNumber="8944"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> Bundle = CB.<a href="/docs/api/classes/llvm/callbase/#a23ab5f34fb7b9476d45da0102ecbfae6">getOperandBundle</a>(<a href="/docs/api/classes/llvm/llvmcontext/#a44d727ac5fccf852bfb2bae3e06adc9cadb925bc2eb2c117b3ec0b76d1e267127">LLVMContext::OB&#95;kcfi</a>)) &#123;</span></CodeLine>
<Link id="l08945" /><CodeLine lineNumber="8945"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!TLI.<a href="/docs/api/classes/llvm/targetlowering/#a0160cf5c2cae2754444db153907790a2">supportKCFIBundles</a>())</span></CodeLine>
<Link id="l08946" /><CodeLine lineNumber="8946"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/#a7f2a3d4dcfee70225988aec53ff1e173">report&#95;fatal&#95;error</a>(</span></CodeLine>
<Link id="l08947" /><CodeLine lineNumber="8947"><span class="doxyHighlight">            </span><span class="doxyHighlightStringLiteral">&quot;Target doesn&#39;t support calls with kcfi operand bundles.&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l08948" /><CodeLine lineNumber="8948"><span class="doxyHighlight">      CFIType = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;ConstantInt&gt;</a>(Bundle-&gt;Inputs&#91;0&#93;);</span></CodeLine>
<Link id="l08949" /><CodeLine lineNumber="8949"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(CFIType-&gt;<a href="/docs/api/classes/llvm/value/#a0344a49526443edf90cc0aef3abd3337">getType</a>()-&gt;<a href="/docs/api/classes/llvm/type/#ac6d28a9b11139182134a9618028a0d07">isIntegerTy</a>(32) &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Invalid CFI type&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l08950" /><CodeLine lineNumber="8950"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l08951" /><CodeLine lineNumber="8951"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l08952" /><CodeLine lineNumber="8952"></CodeLine>
<Link id="l08953" /><CodeLine lineNumber="8953"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> ConvControlToken;</span></CodeLine>
<Link id="l08954" /><CodeLine lineNumber="8954"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> Bundle = CB.<a href="/docs/api/classes/llvm/callbase/#a23ab5f34fb7b9476d45da0102ecbfae6">getOperandBundle</a>(<a href="/docs/api/classes/llvm/llvmcontext/#a44d727ac5fccf852bfb2bae3e06adc9cacdf8ff962c6163eb5fae1f9b2fb5142a">LLVMContext::OB&#95;convergencectrl</a>)) &#123;</span></CodeLine>
<Link id="l08955" /><CodeLine lineNumber="8955"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;Token = Bundle-&gt;Inputs&#91;0&#93;.get();</span></CodeLine>
<Link id="l08956" /><CodeLine lineNumber="8956"><span class="doxyHighlight">    ConvControlToken = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(Token);</span></CodeLine>
<Link id="l08957" /><CodeLine lineNumber="8957"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l08958" /><CodeLine lineNumber="8958"></CodeLine>
<Link id="l08959" /><CodeLine lineNumber="8959"><span class="doxyHighlight">  <a href="/docs/api/structs/llvm/targetlowering/callloweringinfo">TargetLowering::CallLoweringInfo</a> CLI(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>);</span></CodeLine>
<Link id="l08960" /><CodeLine lineNumber="8960"><span class="doxyHighlight">  CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#aa05efb86ccf079a618d7ccc2d0984510">setDebugLoc</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>())</span></CodeLine>
<Link id="l08961" /><CodeLine lineNumber="8961"><span class="doxyHighlight">      .<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#ae8c9a19c4e49854df72efd6a33299ca6">setChain</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>())</span></CodeLine>
<Link id="l08962" /><CodeLine lineNumber="8962"><span class="doxyHighlight">      .<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#af85f2971df75297dfac1455dc7211b11">setCallee</a>(RetTy, FTy, Callee, std::move(Args), CB)</span></CodeLine>
<Link id="l08963" /><CodeLine lineNumber="8963"><span class="doxyHighlight">      .<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#aa8b90e2248ac4afd696fe04d0363dba4">setTailCall</a>(isTailCall)</span></CodeLine>
<Link id="l08964" /><CodeLine lineNumber="8964"><span class="doxyHighlight">      .<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#a03ba2eacb6adc820c314cd1455f1c504">setConvergent</a>(CB.<a href="/docs/api/classes/llvm/callbase/#ac32c9ebab7dfd3db749d0ab5e6e58b3e">isConvergent</a>())</span></CodeLine>
<Link id="l08965" /><CodeLine lineNumber="8965"><span class="doxyHighlight">      .<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#ab8d48ba57acd45e77101777a817ac8ce">setIsPreallocated</a>(</span></CodeLine>
<Link id="l08966" /><CodeLine lineNumber="8966"><span class="doxyHighlight">          CB.<a href="/docs/api/classes/llvm/callbase/#a652220e0fde7043b474f1d6a85cd0452">countOperandBundlesOfType</a>(<a href="/docs/api/classes/llvm/llvmcontext/#a44d727ac5fccf852bfb2bae3e06adc9ca1ad9f9f842cf7ba87b3db9b1d8870b9f">LLVMContext::OB&#95;preallocated</a>) != 0)</span></CodeLine>
<Link id="l08967" /><CodeLine lineNumber="8967"><span class="doxyHighlight">      .<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#a248c253e17dbe9b14e68b192cf3962b5">setCFIType</a>(CFIType)</span></CodeLine>
<Link id="l08968" /><CodeLine lineNumber="8968"><span class="doxyHighlight">      .<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#ac08f737dbe6416c568d445a0fb062553">setConvergenceControlToken</a>(ConvControlToken);</span></CodeLine>
<Link id="l08969" /><CodeLine lineNumber="8969"></CodeLine>
<Link id="l08970" /><CodeLine lineNumber="8970"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Set the pointer authentication info if we have it.</span></CodeLine>
<Link id="l08971" /><CodeLine lineNumber="8971"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (PAI) &#123;</span></CodeLine>
<Link id="l08972" /><CodeLine lineNumber="8972"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!TLI.<a href="/docs/api/classes/llvm/targetlowering/#a12cbb115116dd32eb6c32ba191761093">supportPtrAuthBundles</a>())</span></CodeLine>
<Link id="l08973" /><CodeLine lineNumber="8973"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/#a7f2a3d4dcfee70225988aec53ff1e173">report&#95;fatal&#95;error</a>(</span></CodeLine>
<Link id="l08974" /><CodeLine lineNumber="8974"><span class="doxyHighlight">          </span><span class="doxyHighlightStringLiteral">&quot;This target doesn&#39;t support calls with ptrauth operand bundles.&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l08975" /><CodeLine lineNumber="8975"><span class="doxyHighlight">    CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#af34cfef3c11acfa3c1f2437f25984765">setPtrAuth</a>(&#42;PAI);</span></CodeLine>
<Link id="l08976" /><CodeLine lineNumber="8976"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l08977" /><CodeLine lineNumber="8977"></CodeLine>
<Link id="l08978" /><CodeLine lineNumber="8978"><span class="doxyHighlight">  std::pair&lt;SDValue, SDValue&gt; Result = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ab29b69c993fbb9a4b9d28c3600df005d">lowerInvokable</a>(CLI, EHPadBB);</span></CodeLine>
<Link id="l08979" /><CodeLine lineNumber="8979"></CodeLine>
<Link id="l08980" /><CodeLine lineNumber="8980"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Result.first.getNode()) &#123;</span></CodeLine>
<Link id="l08981" /><CodeLine lineNumber="8981"><span class="doxyHighlight">    Result.first = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a3756185351596750edbb4790d9923eea">lowerRangeToAssertZExt</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>, CB, Result.first);</span></CodeLine>
<Link id="l08982" /><CodeLine lineNumber="8982"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;CB, Result.first);</span></CodeLine>
<Link id="l08983" /><CodeLine lineNumber="8983"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l08984" /><CodeLine lineNumber="8984"></CodeLine>
<Link id="l08985" /><CodeLine lineNumber="8985"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// The last element of CLI.InVals has the SDValue for swifterror return.</span></CodeLine>
<Link id="l08986" /><CodeLine lineNumber="8986"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Here we copy it to a virtual register and update SwiftErrorMap for</span></CodeLine>
<Link id="l08987" /><CodeLine lineNumber="8987"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// book-keeping.</span></CodeLine>
<Link id="l08988" /><CodeLine lineNumber="8988"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (SwiftErrorVal &amp;&amp; TLI.<a href="/docs/api/classes/llvm/targetlowering/#a17694ad399c24aae0d2c0ecfbecfea5a">supportSwiftError</a>()) &#123;</span></CodeLine>
<Link id="l08989" /><CodeLine lineNumber="8989"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Get the last element of InVals.</span></CodeLine>
<Link id="l08990" /><CodeLine lineNumber="8990"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Src = CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#a58a3dfbca60dd5811b252fca05b254d3">InVals</a>.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#acd9e771a3296c6b24146955754620557">back</a>();</span></CodeLine>
<Link id="l08991" /><CodeLine lineNumber="8991"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/register">Register</a> VReg =</span></CodeLine>
<Link id="l08992" /><CodeLine lineNumber="8992"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagbuilder/#a4ac2cfd1783912207570d7cce74a3ea2">SwiftError</a>.getOrCreateVRegDefAt(&amp;CB, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.MBB, SwiftErrorVal);</span></CodeLine>
<Link id="l08993" /><CodeLine lineNumber="8993"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> CopyNode = CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#ae76ac9826f02f95aae34e845ac110244">DAG</a>.<a href="/docs/api/classes/llvm/selectiondag/#a155ffe05aa8e1991b486a7f96ff2e828">getCopyToReg</a>(Result.second, CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#a3b6fcbb7bdd8ae29e8af4cd38bce7a40">DL</a>, VReg, Src);</span></CodeLine>
<Link id="l08994" /><CodeLine lineNumber="8994"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(CopyNode);</span></CodeLine>
<Link id="l08995" /><CodeLine lineNumber="8995"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l08996" /><CodeLine lineNumber="8996"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l08997" /><CodeLine lineNumber="8997"></CodeLine>
<Link id="l08998" /><CodeLine lineNumber="8998" lineLink="#a8eaaa1b4edc9934bfea0469269f3d869"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="#a8eaaa1b4edc9934bfea0469269f3d869">getMemCmpLoad</a>(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/value">Value</a> &#42;PtrVal, <a href="/docs/api/classes/llvm/mvt">MVT</a> LoadVT,</span></CodeLine>
<Link id="l08999" /><CodeLine lineNumber="8999"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder">SelectionDAGBuilder</a> &amp;Builder) &#123;</span></CodeLine>
<Link id="l09000" /><CodeLine lineNumber="9000"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Check to see if this load can be trivially constant folded, e.g. if the</span></CodeLine>
<Link id="l09001" /><CodeLine lineNumber="9001"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// input is from a string literal.</span></CodeLine>
<Link id="l09002" /><CodeLine lineNumber="9002"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/constant">Constant</a> &#42;LoadInput = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;Constant&gt;</a>(PtrVal)) &#123;</span></CodeLine>
<Link id="l09003" /><CodeLine lineNumber="9003"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Cast pointer to the type we really want to load.</span></CodeLine>
<Link id="l09004" /><CodeLine lineNumber="9004"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/type">Type</a> &#42;LoadTy =</span></CodeLine>
<Link id="l09005" /><CodeLine lineNumber="9005"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/type/#acaf8e4c3e40e01e848c1fad5f05b81cd">Type::getIntNTy</a>(PtrVal-&gt;<a href="/docs/api/classes/llvm/value/#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>(), LoadVT.<a href="/docs/api/classes/llvm/mvt/#a2e101ce5736aa0643639fd3adae18088">getScalarSizeInBits</a>());</span></CodeLine>
<Link id="l09006" /><CodeLine lineNumber="9006"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (LoadVT.<a href="/docs/api/classes/llvm/mvt/#a425636b56fa037ed7b19ef7f9de30df9">isVector</a>())</span></CodeLine>
<Link id="l09007" /><CodeLine lineNumber="9007"><span class="doxyHighlight">      LoadTy = <a href="/docs/api/classes/llvm/fixedvectortype/#af9a870d5df50fe0133a410b7c9114c80">FixedVectorType::get</a>(LoadTy, LoadVT.<a href="/docs/api/classes/llvm/mvt/#a3a371e99982e3168caf644d82298fcac">getVectorNumElements</a>());</span></CodeLine>
<Link id="l09008" /><CodeLine lineNumber="9008"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/constant">Constant</a> &#42;LoadCst =</span></CodeLine>
<Link id="l09009" /><CodeLine lineNumber="9009"><span class="doxyHighlight">            <a href="/docs/api/namespaces/llvm/#ad95650d790f6f9d252cf0cd0e0094368">ConstantFoldLoadFromConstPtr</a>(</span><span class="doxyHighlightKeyword">const&#95;cast&lt;</span><span class="doxyHighlight"><a href="/docs/api/classes/llvm/constant">Constant</a> &#42;</span><span class="doxyHighlightKeyword">&gt;</span><span class="doxyHighlight">(LoadInput),</span></CodeLine>
<Link id="l09010" /><CodeLine lineNumber="9010"><span class="doxyHighlight">                                         LoadTy, Builder.<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.<a href="/docs/api/classes/llvm/selectiondag/#a6b442ac8a9fc6147b95ccfb2c3322121">getDataLayout</a>()))</span></CodeLine>
<Link id="l09011" /><CodeLine lineNumber="9011"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> Builder.<a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(LoadCst);</span></CodeLine>
<Link id="l09012" /><CodeLine lineNumber="9012"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l09013" /><CodeLine lineNumber="9013"></CodeLine>
<Link id="l09014" /><CodeLine lineNumber="9014"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Otherwise, we have to emit the load.  If the pointer is to unfoldable but</span></CodeLine>
<Link id="l09015" /><CodeLine lineNumber="9015"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// still constant memory, the input chain can be the entry node.</span></CodeLine>
<Link id="l09016" /><CodeLine lineNumber="9016"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Root;</span></CodeLine>
<Link id="l09017" /><CodeLine lineNumber="9017"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> ConstantMemory = </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09018" /><CodeLine lineNumber="9018"></CodeLine>
<Link id="l09019" /><CodeLine lineNumber="9019"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Do not serialize (non-volatile) loads of constant memory with anything.</span></CodeLine>
<Link id="l09020" /><CodeLine lineNumber="9020"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Builder.<a href="/docs/api/classes/llvm/selectiondagbuilder/#a23f8a52e7e457d67b67aa86541f55c17">BatchAA</a> &amp;&amp; Builder.<a href="/docs/api/classes/llvm/selectiondagbuilder/#a23f8a52e7e457d67b67aa86541f55c17">BatchAA</a>-&gt;<a href="/docs/api/classes/llvm/batchaaresults/#abeab639d4ce23039f7777ba26b24cb77">pointsToConstantMemory</a>(PtrVal)) &#123;</span></CodeLine>
<Link id="l09021" /><CodeLine lineNumber="9021"><span class="doxyHighlight">    Root = Builder.<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.<a href="/docs/api/classes/llvm/selectiondag/#af0f68c9c0e4a38aebd5773f80dd5b716">getEntryNode</a>();</span></CodeLine>
<Link id="l09022" /><CodeLine lineNumber="9022"><span class="doxyHighlight">    ConstantMemory = </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09023" /><CodeLine lineNumber="9023"><span class="doxyHighlight">  &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l09024" /><CodeLine lineNumber="9024"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Do not serialize non-volatile loads against each other.</span></CodeLine>
<Link id="l09025" /><CodeLine lineNumber="9025"><span class="doxyHighlight">    Root = Builder.<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.<a href="/docs/api/classes/llvm/selectiondag/#a0b02716fe6bb52c384caec3a1f8268be">getRoot</a>();</span></CodeLine>
<Link id="l09026" /><CodeLine lineNumber="9026"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l09027" /><CodeLine lineNumber="9027"></CodeLine>
<Link id="l09028" /><CodeLine lineNumber="9028"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = Builder.<a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(PtrVal);</span></CodeLine>
<Link id="l09029" /><CodeLine lineNumber="9029"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> LoadVal =</span></CodeLine>
<Link id="l09030" /><CodeLine lineNumber="9030"><span class="doxyHighlight">      Builder.<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.<a href="/docs/api/classes/llvm/selectiondag/#a3c3b16945cf064f59363bdefdfe2b492">getLoad</a>(LoadVT, Builder.<a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), Root, <a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>,</span></CodeLine>
<Link id="l09031" /><CodeLine lineNumber="9031"><span class="doxyHighlight">                          <a href="/docs/api/structs/llvm/machinepointerinfo">MachinePointerInfo</a>(PtrVal), <a href="/docs/api/structs/llvm/align">Align</a>(1));</span></CodeLine>
<Link id="l09032" /><CodeLine lineNumber="9032"></CodeLine>
<Link id="l09033" /><CodeLine lineNumber="9033"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!ConstantMemory)</span></CodeLine>
<Link id="l09034" /><CodeLine lineNumber="9034"><span class="doxyHighlight">    Builder.<a href="/docs/api/classes/llvm/selectiondagbuilder/#a9a1381eb77fac8d57f54f7bf25919a4e">PendingLoads</a>.push&#95;back(LoadVal.<a href="/docs/api/classes/llvm/sdvalue/#a64932427432abeb61241e98bea167580">getValue</a>(1));</span></CodeLine>
<Link id="l09035" /><CodeLine lineNumber="9035"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> LoadVal;</span></CodeLine>
<Link id="l09036" /><CodeLine lineNumber="9036"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l09037" /><CodeLine lineNumber="9037"></CodeLine>
<Link id="l09038" /><CodeLine lineNumber="9038"><span class="doxyHighlightComment">/// Record the value for an instruction that produces an integer result,</span></CodeLine>
<Link id="l09039" /><CodeLine lineNumber="9039"><span class="doxyHighlightComment">/// converting the type where necessary.</span></CodeLine>
<Link id="l09040" /><CodeLine lineNumber="9040"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::processIntegerCallValue(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/instruction">Instruction</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</span></CodeLine>
<Link id="l09041" /><CodeLine lineNumber="9041"><span class="doxyHighlight">                                                  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="/docs/api/classes/llvm/value">Value</a>,</span></CodeLine>
<Link id="l09042" /><CodeLine lineNumber="9042"><span class="doxyHighlight">                                                  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> IsSigned) &#123;</span></CodeLine>
<Link id="l09043" /><CodeLine lineNumber="9043"><span class="doxyHighlight">  EVT VT = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo().getValueType(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(),</span></CodeLine>
<Link id="l09044" /><CodeLine lineNumber="9044"><span class="doxyHighlight">                                                    <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType(), </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l09045" /><CodeLine lineNumber="9045"><span class="doxyHighlight">  Value = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getExtOrTrunc(IsSigned, Value, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), VT);</span></CodeLine>
<Link id="l09046" /><CodeLine lineNumber="9046"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Value);</span></CodeLine>
<Link id="l09047" /><CodeLine lineNumber="9047"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l09048" /><CodeLine lineNumber="9048"></CodeLine>
<Link id="l09049" /><CodeLine lineNumber="9049"><span class="doxyHighlightComment">/// See if we can lower a memcmp/bcmp call into an optimized form. If so, return</span></CodeLine>
<Link id="l09050" /><CodeLine lineNumber="9050"><span class="doxyHighlightComment">/// true and lower it. Otherwise return false, and it will be lowered like a</span></CodeLine>
<Link id="l09051" /><CodeLine lineNumber="9051"><span class="doxyHighlightComment">/// normal call.</span></CodeLine>
<Link id="l09052" /><CodeLine lineNumber="9052"><span class="doxyHighlightComment">/// The caller already checked that \\p I calls the appropriate LibFunc with a</span></CodeLine>
<Link id="l09053" /><CodeLine lineNumber="9053"><span class="doxyHighlightComment">/// correct prototype.</span></CodeLine>
<Link id="l09054" /><CodeLine lineNumber="9054"><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> SelectionDAGBuilder::visitMemCmpBCmpCall(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/callinst">CallInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l09055" /><CodeLine lineNumber="9055"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;<a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0), &#42;<a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1);</span></CodeLine>
<Link id="l09056" /><CodeLine lineNumber="9056"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;<a href="/docs/api/files/lib/lib/analysis/inlineorder-cpp/#a7ee6f0cb51c3b9056199e9a0001fe8c3a6f6cb72d544962fa333e2e34ce64f719">Size</a> = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(2);</span></CodeLine>
<Link id="l09057" /><CodeLine lineNumber="9057"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> ConstantSDNode &#42;CSize = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;ConstantSDNode&gt;</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/analysis/inlineorder-cpp/#a7ee6f0cb51c3b9056199e9a0001fe8c3a6f6cb72d544962fa333e2e34ce64f719">Size</a>));</span></CodeLine>
<Link id="l09058" /><CodeLine lineNumber="9058"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (CSize &amp;&amp; CSize-&gt;<a href="/docs/api/classes/llvm/constantsdnode/#a5cb49674ec65724b4d9aecb48588a13a">getZExtValue</a>() == 0) &#123;</span></CodeLine>
<Link id="l09059" /><CodeLine lineNumber="9059"><span class="doxyHighlight">    EVT CallVT = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo().getValueType(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(),</span></CodeLine>
<Link id="l09060" /><CodeLine lineNumber="9060"><span class="doxyHighlight">                                                          <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType(), </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l09061" /><CodeLine lineNumber="9061"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getConstant(0, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), CallVT));</span></CodeLine>
<Link id="l09062" /><CodeLine lineNumber="9062"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09063" /><CodeLine lineNumber="9063"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l09064" /><CodeLine lineNumber="9064"></CodeLine>
<Link id="l09065" /><CodeLine lineNumber="9065"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> SelectionDAGTargetInfo &amp;TSI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSelectionDAGInfo();</span></CodeLine>
<Link id="l09066" /><CodeLine lineNumber="9066"><span class="doxyHighlight">  std::pair&lt;SDValue, SDValue&gt; Res = TSI.<a href="/docs/api/classes/llvm/selectiondagtargetinfo/#a4516852c8aca6ffe73e55e46f57e343f">EmitTargetCodeForMemcmp</a>(</span></CodeLine>
<Link id="l09067" /><CodeLine lineNumber="9067"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getRoot(), <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>), <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>),</span></CodeLine>
<Link id="l09068" /><CodeLine lineNumber="9068"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/analysis/inlineorder-cpp/#a7ee6f0cb51c3b9056199e9a0001fe8c3a6f6cb72d544962fa333e2e34ce64f719">Size</a>), MachinePointerInfo(<a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>), MachinePointerInfo(<a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>));</span></CodeLine>
<Link id="l09069" /><CodeLine lineNumber="9069"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Res.first.getNode()) &#123;</span></CodeLine>
<Link id="l09070" /><CodeLine lineNumber="9070"><span class="doxyHighlight">    processIntegerCallValue(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Res.first, </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l09071" /><CodeLine lineNumber="9071"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#a9a1381eb77fac8d57f54f7bf25919a4e">PendingLoads</a>.push&#95;back(Res.second);</span></CodeLine>
<Link id="l09072" /><CodeLine lineNumber="9072"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09073" /><CodeLine lineNumber="9073"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l09074" /><CodeLine lineNumber="9074"></CodeLine>
<Link id="l09075" /><CodeLine lineNumber="9075"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// memcmp(S1,S2,2) != 0 -&gt; (&#42;(short&#42;)LHS != &#42;(short&#42;)RHS)  != 0</span></CodeLine>
<Link id="l09076" /><CodeLine lineNumber="9076"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// memcmp(S1,S2,4) != 0 -&gt; (&#42;(int&#42;)LHS != &#42;(int&#42;)RHS)  != 0</span></CodeLine>
<Link id="l09077" /><CodeLine lineNumber="9077"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!CSize || !<a href="/docs/api/namespaces/llvm/#a1c4687f9c44e149d4893bd81b7ddce3b">isOnlyUsedInZeroEqualityComparison</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</span></CodeLine>
<Link id="l09078" /><CodeLine lineNumber="9078"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09079" /><CodeLine lineNumber="9079"></CodeLine>
<Link id="l09080" /><CodeLine lineNumber="9080"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// If the target has a fast compare for the given size, it will return a</span></CodeLine>
<Link id="l09081" /><CodeLine lineNumber="9081"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// preferred load type for that size. Require that the load VT is legal and</span></CodeLine>
<Link id="l09082" /><CodeLine lineNumber="9082"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// that the target supports unaligned loads of that type. Otherwise, return</span></CodeLine>
<Link id="l09083" /><CodeLine lineNumber="9083"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// INVALID.</span></CodeLine>
<Link id="l09084" /><CodeLine lineNumber="9084"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> hasFastLoadsAndCompare = &#91;&amp;&#93;(</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumBits) &#123;</span></CodeLine>
<Link id="l09085" /><CodeLine lineNumber="9085"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> TargetLowering &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l09086" /><CodeLine lineNumber="9086"><span class="doxyHighlight">    MVT LVT = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#aaec1f554f594ab5ab55d5ddc8c3b5708">hasFastEqualityCompare</a>(NumBits);</span></CodeLine>
<Link id="l09087" /><CodeLine lineNumber="9087"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (LVT != <a href="/docs/api/classes/llvm/mvt/#a184043a6ab3a9922618b34117003e64daf4f312520aaba4506b874a3f83fe2464">MVT::INVALID&#95;SIMPLE&#95;VALUE&#95;TYPE</a>) &#123;</span></CodeLine>
<Link id="l09088" /><CodeLine lineNumber="9088"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// TODO: Handle 5 byte compare as 4-byte + 1 byte.</span></CodeLine>
<Link id="l09089" /><CodeLine lineNumber="9089"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// TODO: Handle 8 byte compare on x86-32 as two 32-bit loads.</span></CodeLine>
<Link id="l09090" /><CodeLine lineNumber="9090"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// TODO: Check alignment of src and dest ptrs.</span></CodeLine>
<Link id="l09091" /><CodeLine lineNumber="9091"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> DstAS = <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a href="/docs/api/classes/llvm/value/#a0344a49526443edf90cc0aef3abd3337">getType</a>()-&gt;<a href="/docs/api/classes/llvm/type/#a5ab2d0b0f0b8ceec3b907184e7567197">getPointerAddressSpace</a>();</span></CodeLine>
<Link id="l09092" /><CodeLine lineNumber="9092"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> SrcAS = <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;<a href="/docs/api/classes/llvm/value/#a0344a49526443edf90cc0aef3abd3337">getType</a>()-&gt;<a href="/docs/api/classes/llvm/type/#a5ab2d0b0f0b8ceec3b907184e7567197">getPointerAddressSpace</a>();</span></CodeLine>
<Link id="l09093" /><CodeLine lineNumber="9093"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a80b305b278aa0e04f80312e15b2b6d54">isTypeLegal</a>(LVT) ||</span></CodeLine>
<Link id="l09094" /><CodeLine lineNumber="9094"><span class="doxyHighlight">          !TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a63b5343b9da17f8bcc83ec545022f5c7">allowsMisalignedMemoryAccesses</a>(LVT, SrcAS) ||</span></CodeLine>
<Link id="l09095" /><CodeLine lineNumber="9095"><span class="doxyHighlight">          !TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a63b5343b9da17f8bcc83ec545022f5c7">allowsMisalignedMemoryAccesses</a>(LVT, DstAS))</span></CodeLine>
<Link id="l09096" /><CodeLine lineNumber="9096"><span class="doxyHighlight">        LVT = <a href="/docs/api/classes/llvm/mvt/#a184043a6ab3a9922618b34117003e64daf4f312520aaba4506b874a3f83fe2464">MVT::INVALID&#95;SIMPLE&#95;VALUE&#95;TYPE</a>;</span></CodeLine>
<Link id="l09097" /><CodeLine lineNumber="9097"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l09098" /><CodeLine lineNumber="9098"></CodeLine>
<Link id="l09099" /><CodeLine lineNumber="9099"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> LVT;</span></CodeLine>
<Link id="l09100" /><CodeLine lineNumber="9100"><span class="doxyHighlight">  &#125;;</span></CodeLine>
<Link id="l09101" /><CodeLine lineNumber="9101"></CodeLine>
<Link id="l09102" /><CodeLine lineNumber="9102"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// This turns into unaligned loads. We only do this if the target natively</span></CodeLine>
<Link id="l09103" /><CodeLine lineNumber="9103"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// supports the MVT we&#39;ll be loading or if it is small enough (&lt;= 4) that</span></CodeLine>
<Link id="l09104" /><CodeLine lineNumber="9104"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// we&#39;ll only produce a small number of byte loads.</span></CodeLine>
<Link id="l09105" /><CodeLine lineNumber="9105"><span class="doxyHighlight">  MVT LoadVT;</span></CodeLine>
<Link id="l09106" /><CodeLine lineNumber="9106"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumBitsToCompare = CSize-&gt;<a href="/docs/api/classes/llvm/constantsdnode/#a5cb49674ec65724b4d9aecb48588a13a">getZExtValue</a>() &#42; 8;</span></CodeLine>
<Link id="l09107" /><CodeLine lineNumber="9107"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">switch</span><span class="doxyHighlight"> (NumBitsToCompare) &#123;</span></CodeLine>
<Link id="l09108" /><CodeLine lineNumber="9108"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">default</span><span class="doxyHighlight">:</span></CodeLine>
<Link id="l09109" /><CodeLine lineNumber="9109"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09110" /><CodeLine lineNumber="9110"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> 16:</span></CodeLine>
<Link id="l09111" /><CodeLine lineNumber="9111"><span class="doxyHighlight">    LoadVT = MVT::i16;</span></CodeLine>
<Link id="l09112" /><CodeLine lineNumber="9112"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09113" /><CodeLine lineNumber="9113"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> 32:</span></CodeLine>
<Link id="l09114" /><CodeLine lineNumber="9114"><span class="doxyHighlight">    LoadVT = MVT::i32;</span></CodeLine>
<Link id="l09115" /><CodeLine lineNumber="9115"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09116" /><CodeLine lineNumber="9116"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> 64:</span></CodeLine>
<Link id="l09117" /><CodeLine lineNumber="9117"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> 128:</span></CodeLine>
<Link id="l09118" /><CodeLine lineNumber="9118"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> 256:</span></CodeLine>
<Link id="l09119" /><CodeLine lineNumber="9119"><span class="doxyHighlight">    LoadVT = hasFastLoadsAndCompare(NumBitsToCompare);</span></CodeLine>
<Link id="l09120" /><CodeLine lineNumber="9120"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09121" /><CodeLine lineNumber="9121"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l09122" /><CodeLine lineNumber="9122"></CodeLine>
<Link id="l09123" /><CodeLine lineNumber="9123"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (LoadVT == <a href="/docs/api/classes/llvm/mvt/#a184043a6ab3a9922618b34117003e64daf4f312520aaba4506b874a3f83fe2464">MVT::INVALID&#95;SIMPLE&#95;VALUE&#95;TYPE</a>)</span></CodeLine>
<Link id="l09124" /><CodeLine lineNumber="9124"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09125" /><CodeLine lineNumber="9125"></CodeLine>
<Link id="l09126" /><CodeLine lineNumber="9126"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> LoadL = <a href="#a8eaaa1b4edc9934bfea0469269f3d869">getMemCmpLoad</a>(<a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, LoadVT, &#42;</span><span class="doxyHighlightKeyword">this</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l09127" /><CodeLine lineNumber="9127"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> LoadR = <a href="#a8eaaa1b4edc9934bfea0469269f3d869">getMemCmpLoad</a>(<a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, LoadVT, &#42;</span><span class="doxyHighlightKeyword">this</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l09128" /><CodeLine lineNumber="9128"></CodeLine>
<Link id="l09129" /><CodeLine lineNumber="9129"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Bitcast to a wide integer type if the loads are vectors.</span></CodeLine>
<Link id="l09130" /><CodeLine lineNumber="9130"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (LoadVT.<a href="/docs/api/classes/llvm/mvt/#a425636b56fa037ed7b19ef7f9de30df9">isVector</a>()) &#123;</span></CodeLine>
<Link id="l09131" /><CodeLine lineNumber="9131"><span class="doxyHighlight">    EVT CmpVT = <a href="/docs/api/structs/llvm/evt/#a752372e170e4e7c595bf8810bb52adf2">EVT::getIntegerVT</a>(<a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>-&gt;<a href="/docs/api/classes/llvm/value/#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>(), LoadVT.<a href="/docs/api/classes/llvm/mvt/#a7be7c6dd92efc0d6f866d4a3b433eed0">getSizeInBits</a>());</span></CodeLine>
<Link id="l09132" /><CodeLine lineNumber="9132"><span class="doxyHighlight">    LoadL = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getBitcast(CmpVT, LoadL);</span></CodeLine>
<Link id="l09133" /><CodeLine lineNumber="9133"><span class="doxyHighlight">    LoadR = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getBitcast(CmpVT, LoadR);</span></CodeLine>
<Link id="l09134" /><CodeLine lineNumber="9134"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l09135" /><CodeLine lineNumber="9135"></CodeLine>
<Link id="l09136" /><CodeLine lineNumber="9136"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/x86/#a86730e94ae6fdf0fe3145b2acc88dea8ac9b4c62f6dc1bc5caf3c768b687cbf7e">Cmp</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSetCC(<a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), MVT::i1, LoadL, LoadR, <a href="/docs/api/namespaces/llvm/isd/#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>);</span></CodeLine>
<Link id="l09137" /><CodeLine lineNumber="9137"><span class="doxyHighlight">  processIntegerCallValue(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Cmp, </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l09138" /><CodeLine lineNumber="9138"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09139" /><CodeLine lineNumber="9139"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l09140" /><CodeLine lineNumber="9140"></CodeLine>
<Link id="l09141" /><CodeLine lineNumber="9141"><span class="doxyHighlightComment">/// See if we can lower a memchr call into an optimized form. If so, return</span></CodeLine>
<Link id="l09142" /><CodeLine lineNumber="9142"><span class="doxyHighlightComment">/// true and lower it. Otherwise return false, and it will be lowered like a</span></CodeLine>
<Link id="l09143" /><CodeLine lineNumber="9143"><span class="doxyHighlightComment">/// normal call.</span></CodeLine>
<Link id="l09144" /><CodeLine lineNumber="9144"><span class="doxyHighlightComment">/// The caller already checked that \\p I calls the appropriate LibFunc with a</span></CodeLine>
<Link id="l09145" /><CodeLine lineNumber="9145"><span class="doxyHighlightComment">/// correct prototype.</span></CodeLine>
<Link id="l09146" /><CodeLine lineNumber="9146"><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> SelectionDAGBuilder::visitMemChrCall(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/callinst">CallInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l09147" /><CodeLine lineNumber="9147"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;<a href="/docs/api/namespaces/anonymous-linkmodules-cpp-/#ab56eb2027bc9c069aa696e54de8b4298a276e79316561733d64abdf00f8e8ae48">Src</a> = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0);</span></CodeLine>
<Link id="l09148" /><CodeLine lineNumber="9148"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;<a href="/docs/api/namespaces/llvm/pdb/#a29a5bdf367e3f74df9228dfce2c93a6fa8e95e84813830072b7516cfaa7dbc1a9">Char</a> = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1);</span></CodeLine>
<Link id="l09149" /><CodeLine lineNumber="9149"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;<a href="/docs/api/namespaces/llvm/#a05f5b9a11bdcc5feba62899f95dcf878af6d9f1c7b49b7601fae6a545002a6763">Length</a> = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(2);</span></CodeLine>
<Link id="l09150" /><CodeLine lineNumber="9150"></CodeLine>
<Link id="l09151" /><CodeLine lineNumber="9151"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> SelectionDAGTargetInfo &amp;TSI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSelectionDAGInfo();</span></CodeLine>
<Link id="l09152" /><CodeLine lineNumber="9152"><span class="doxyHighlight">  std::pair&lt;SDValue, SDValue&gt; Res =</span></CodeLine>
<Link id="l09153" /><CodeLine lineNumber="9153"><span class="doxyHighlight">    TSI.<a href="/docs/api/classes/llvm/selectiondagtargetinfo/#a7421121667c86338edabcd58422fc0de">EmitTargetCodeForMemchr</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getRoot(),</span></CodeLine>
<Link id="l09154" /><CodeLine lineNumber="9154"><span class="doxyHighlight">                                <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(Src), <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(Char), <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/namespaces/llvm/#a05f5b9a11bdcc5feba62899f95dcf878af6d9f1c7b49b7601fae6a545002a6763">Length</a>),</span></CodeLine>
<Link id="l09155" /><CodeLine lineNumber="9155"><span class="doxyHighlight">                                MachinePointerInfo(Src));</span></CodeLine>
<Link id="l09156" /><CodeLine lineNumber="9156"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Res.first.getNode()) &#123;</span></CodeLine>
<Link id="l09157" /><CodeLine lineNumber="9157"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Res.first);</span></CodeLine>
<Link id="l09158" /><CodeLine lineNumber="9158"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#a9a1381eb77fac8d57f54f7bf25919a4e">PendingLoads</a>.push&#95;back(Res.second);</span></CodeLine>
<Link id="l09159" /><CodeLine lineNumber="9159"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09160" /><CodeLine lineNumber="9160"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l09161" /><CodeLine lineNumber="9161"></CodeLine>
<Link id="l09162" /><CodeLine lineNumber="9162"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09163" /><CodeLine lineNumber="9163"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l09164" /><CodeLine lineNumber="9164"></CodeLine>
<Link id="l09165" /><CodeLine lineNumber="9165"><span class="doxyHighlightComment">/// See if we can lower a mempcpy call into an optimized form. If so, return</span></CodeLine>
<Link id="l09166" /><CodeLine lineNumber="9166"><span class="doxyHighlightComment">/// true and lower it. Otherwise return false, and it will be lowered like a</span></CodeLine>
<Link id="l09167" /><CodeLine lineNumber="9167"><span class="doxyHighlightComment">/// normal call.</span></CodeLine>
<Link id="l09168" /><CodeLine lineNumber="9168"><span class="doxyHighlightComment">/// The caller already checked that \\p I calls the appropriate LibFunc with a</span></CodeLine>
<Link id="l09169" /><CodeLine lineNumber="9169"><span class="doxyHighlightComment">/// correct prototype.</span></CodeLine>
<Link id="l09170" /><CodeLine lineNumber="9170"><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> SelectionDAGBuilder::visitMemPCpyCall(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/callinst">CallInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l09171" /><CodeLine lineNumber="9171"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/anonymous-linkmodules-cpp-/#ab56eb2027bc9c069aa696e54de8b4298a1448a68418666ed85e07646744af82ef">Dst</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0));</span></CodeLine>
<Link id="l09172" /><CodeLine lineNumber="9172"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/anonymous-linkmodules-cpp-/#ab56eb2027bc9c069aa696e54de8b4298a276e79316561733d64abdf00f8e8ae48">Src</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1));</span></CodeLine>
<Link id="l09173" /><CodeLine lineNumber="9173"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/lib/lib/analysis/inlineorder-cpp/#a7ee6f0cb51c3b9056199e9a0001fe8c3a6f6cb72d544962fa333e2e34ce64f719">Size</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(2));</span></CodeLine>
<Link id="l09174" /><CodeLine lineNumber="9174"></CodeLine>
<Link id="l09175" /><CodeLine lineNumber="9175"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/arg/key/#a6b334a5f83504ebc99cc59f4f333ff98">Align</a> DstAlign = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.InferPtrAlign(Dst).valueOrOne();</span></CodeLine>
<Link id="l09176" /><CodeLine lineNumber="9176"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/arg/key/#a6b334a5f83504ebc99cc59f4f333ff98">Align</a> SrcAlign = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.InferPtrAlign(Src).valueOrOne();</span></CodeLine>
<Link id="l09177" /><CodeLine lineNumber="9177"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// DAG::getMemcpy needs Alignment to be defined.</span></CodeLine>
<Link id="l09178" /><CodeLine lineNumber="9178"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/arg/key/#a6b334a5f83504ebc99cc59f4f333ff98">Align</a> Alignment = std::min(DstAlign, SrcAlign);</span></CodeLine>
<Link id="l09179" /><CodeLine lineNumber="9179"></CodeLine>
<Link id="l09180" /><CodeLine lineNumber="9180"><span class="doxyHighlight">  SDLoc sdl = <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>();</span></CodeLine>
<Link id="l09181" /><CodeLine lineNumber="9181"></CodeLine>
<Link id="l09182" /><CodeLine lineNumber="9182"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// In the mempcpy context we need to pass in a false value for isTailCall</span></CodeLine>
<Link id="l09183" /><CodeLine lineNumber="9183"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// because the return pointer needs to be adjusted by the size of</span></CodeLine>
<Link id="l09184" /><CodeLine lineNumber="9184"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// the copied memory.</span></CodeLine>
<Link id="l09185" /><CodeLine lineNumber="9185"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Root = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ab41a8476a0c74bcf1a2bf665eeececd8">getMemoryRoot</a>();</span></CodeLine>
<Link id="l09186" /><CodeLine lineNumber="9186"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> MC = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMemcpy(</span></CodeLine>
<Link id="l09187" /><CodeLine lineNumber="9187"><span class="doxyHighlight">      Root, sdl, Dst, Src, <a href="/docs/api/files/lib/lib/analysis/inlineorder-cpp/#a7ee6f0cb51c3b9056199e9a0001fe8c3a6f6cb72d544962fa333e2e34ce64f719">Size</a>, Alignment, </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">, </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">, </span><span class="doxyHighlightComment">/&#42;CI=&#42;/</span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">,</span></CodeLine>
<Link id="l09188" /><CodeLine lineNumber="9188"><span class="doxyHighlight">      std::nullopt, MachinePointerInfo(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)),</span></CodeLine>
<Link id="l09189" /><CodeLine lineNumber="9189"><span class="doxyHighlight">      MachinePointerInfo(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1)), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getAAMetadata());</span></CodeLine>
<Link id="l09190" /><CodeLine lineNumber="9190"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(MC.<a href="/docs/api/classes/llvm/sdvalue/#a2b08aa629a6326d1a0444ee6d477c39d">getNode</a>() != </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight"> &amp;&amp;</span></CodeLine>
<Link id="l09191" /><CodeLine lineNumber="9191"><span class="doxyHighlight">         </span><span class="doxyHighlightStringLiteral">&quot;&#42;&#42; memcpy should not be lowered as TailCall in mempcpy context &#42;&#42;&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l09192" /><CodeLine lineNumber="9192"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(MC);</span></CodeLine>
<Link id="l09193" /><CodeLine lineNumber="9193"></CodeLine>
<Link id="l09194" /><CodeLine lineNumber="9194"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Check if Size needs to be truncated or extended.</span></CodeLine>
<Link id="l09195" /><CodeLine lineNumber="9195"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/analysis/inlineorder-cpp/#a7ee6f0cb51c3b9056199e9a0001fe8c3a6f6cb72d544962fa333e2e34ce64f719">Size</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSExtOrTrunc(<a href="/docs/api/files/lib/lib/analysis/inlineorder-cpp/#a7ee6f0cb51c3b9056199e9a0001fe8c3a6f6cb72d544962fa333e2e34ce64f719">Size</a>, sdl, <a href="/docs/api/namespaces/anonymous-linkmodules-cpp-/#ab56eb2027bc9c069aa696e54de8b4298a1448a68418666ed85e07646744af82ef">Dst</a>.getValueType());</span></CodeLine>
<Link id="l09196" /><CodeLine lineNumber="9196"></CodeLine>
<Link id="l09197" /><CodeLine lineNumber="9197"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Adjust return pointer to point just past the last dst byte.</span></CodeLine>
<Link id="l09198" /><CodeLine lineNumber="9198"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> DstPlusSize = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, sdl, <a href="/docs/api/namespaces/anonymous-linkmodules-cpp-/#ab56eb2027bc9c069aa696e54de8b4298a1448a68418666ed85e07646744af82ef">Dst</a>.getValueType(),</span></CodeLine>
<Link id="l09199" /><CodeLine lineNumber="9199"><span class="doxyHighlight">                                    Dst, <a href="/docs/api/files/lib/lib/analysis/inlineorder-cpp/#a7ee6f0cb51c3b9056199e9a0001fe8c3a6f6cb72d544962fa333e2e34ce64f719">Size</a>);</span></CodeLine>
<Link id="l09200" /><CodeLine lineNumber="9200"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, DstPlusSize);</span></CodeLine>
<Link id="l09201" /><CodeLine lineNumber="9201"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09202" /><CodeLine lineNumber="9202"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l09203" /><CodeLine lineNumber="9203"></CodeLine>
<Link id="l09204" /><CodeLine lineNumber="9204"><span class="doxyHighlightComment">/// See if we can lower a strcpy call into an optimized form.  If so, return</span></CodeLine>
<Link id="l09205" /><CodeLine lineNumber="9205"><span class="doxyHighlightComment">/// true and lower it, otherwise return false and it will be lowered like a</span></CodeLine>
<Link id="l09206" /><CodeLine lineNumber="9206"><span class="doxyHighlightComment">/// normal call.</span></CodeLine>
<Link id="l09207" /><CodeLine lineNumber="9207"><span class="doxyHighlightComment">/// The caller already checked that \\p I calls the appropriate LibFunc with a</span></CodeLine>
<Link id="l09208" /><CodeLine lineNumber="9208"><span class="doxyHighlightComment">/// correct prototype.</span></CodeLine>
<Link id="l09209" /><CodeLine lineNumber="9209"><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> SelectionDAGBuilder::visitStrCpyCall(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/callinst">CallInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> isStpcpy) &#123;</span></CodeLine>
<Link id="l09210" /><CodeLine lineNumber="9210"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;Arg0 = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0), &#42;Arg1 = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1);</span></CodeLine>
<Link id="l09211" /><CodeLine lineNumber="9211"></CodeLine>
<Link id="l09212" /><CodeLine lineNumber="9212"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> SelectionDAGTargetInfo &amp;TSI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSelectionDAGInfo();</span></CodeLine>
<Link id="l09213" /><CodeLine lineNumber="9213"><span class="doxyHighlight">  std::pair&lt;SDValue, SDValue&gt; Res =</span></CodeLine>
<Link id="l09214" /><CodeLine lineNumber="9214"><span class="doxyHighlight">    TSI.<a href="/docs/api/classes/llvm/selectiondagtargetinfo/#a65ab13bbeee8f7d42c34cce961e1a5cf">EmitTargetCodeForStrcpy</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>(),</span></CodeLine>
<Link id="l09215" /><CodeLine lineNumber="9215"><span class="doxyHighlight">                                <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(Arg0), <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(Arg1),</span></CodeLine>
<Link id="l09216" /><CodeLine lineNumber="9216"><span class="doxyHighlight">                                MachinePointerInfo(Arg0),</span></CodeLine>
<Link id="l09217" /><CodeLine lineNumber="9217"><span class="doxyHighlight">                                MachinePointerInfo(Arg1), isStpcpy);</span></CodeLine>
<Link id="l09218" /><CodeLine lineNumber="9218"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Res.first.getNode()) &#123;</span></CodeLine>
<Link id="l09219" /><CodeLine lineNumber="9219"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Res.first);</span></CodeLine>
<Link id="l09220" /><CodeLine lineNumber="9220"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(Res.second);</span></CodeLine>
<Link id="l09221" /><CodeLine lineNumber="9221"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09222" /><CodeLine lineNumber="9222"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l09223" /><CodeLine lineNumber="9223"></CodeLine>
<Link id="l09224" /><CodeLine lineNumber="9224"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09225" /><CodeLine lineNumber="9225"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l09226" /><CodeLine lineNumber="9226"></CodeLine>
<Link id="l09227" /><CodeLine lineNumber="9227"><span class="doxyHighlightComment">/// See if we can lower a strcmp call into an optimized form.  If so, return</span></CodeLine>
<Link id="l09228" /><CodeLine lineNumber="9228"><span class="doxyHighlightComment">/// true and lower it, otherwise return false and it will be lowered like a</span></CodeLine>
<Link id="l09229" /><CodeLine lineNumber="9229"><span class="doxyHighlightComment">/// normal call.</span></CodeLine>
<Link id="l09230" /><CodeLine lineNumber="9230"><span class="doxyHighlightComment">/// The caller already checked that \\p I calls the appropriate LibFunc with a</span></CodeLine>
<Link id="l09231" /><CodeLine lineNumber="9231"><span class="doxyHighlightComment">/// correct prototype.</span></CodeLine>
<Link id="l09232" /><CodeLine lineNumber="9232"><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> SelectionDAGBuilder::visitStrCmpCall(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/callinst">CallInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l09233" /><CodeLine lineNumber="9233"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;Arg0 = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0), &#42;Arg1 = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1);</span></CodeLine>
<Link id="l09234" /><CodeLine lineNumber="9234"></CodeLine>
<Link id="l09235" /><CodeLine lineNumber="9235"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> SelectionDAGTargetInfo &amp;TSI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSelectionDAGInfo();</span></CodeLine>
<Link id="l09236" /><CodeLine lineNumber="9236"><span class="doxyHighlight">  std::pair&lt;SDValue, SDValue&gt; Res =</span></CodeLine>
<Link id="l09237" /><CodeLine lineNumber="9237"><span class="doxyHighlight">    TSI.<a href="/docs/api/classes/llvm/selectiondagtargetinfo/#a947e39cc695af597abaa0346c49f78a7">EmitTargetCodeForStrcmp</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getRoot(),</span></CodeLine>
<Link id="l09238" /><CodeLine lineNumber="9238"><span class="doxyHighlight">                                <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(Arg0), <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(Arg1),</span></CodeLine>
<Link id="l09239" /><CodeLine lineNumber="9239"><span class="doxyHighlight">                                MachinePointerInfo(Arg0),</span></CodeLine>
<Link id="l09240" /><CodeLine lineNumber="9240"><span class="doxyHighlight">                                MachinePointerInfo(Arg1));</span></CodeLine>
<Link id="l09241" /><CodeLine lineNumber="9241"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Res.first.getNode()) &#123;</span></CodeLine>
<Link id="l09242" /><CodeLine lineNumber="9242"><span class="doxyHighlight">    processIntegerCallValue(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Res.first, </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l09243" /><CodeLine lineNumber="9243"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#a9a1381eb77fac8d57f54f7bf25919a4e">PendingLoads</a>.push&#95;back(Res.second);</span></CodeLine>
<Link id="l09244" /><CodeLine lineNumber="9244"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09245" /><CodeLine lineNumber="9245"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l09246" /><CodeLine lineNumber="9246"></CodeLine>
<Link id="l09247" /><CodeLine lineNumber="9247"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09248" /><CodeLine lineNumber="9248"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l09249" /><CodeLine lineNumber="9249"></CodeLine>
<Link id="l09250" /><CodeLine lineNumber="9250"><span class="doxyHighlightComment">/// See if we can lower a strlen call into an optimized form.  If so, return</span></CodeLine>
<Link id="l09251" /><CodeLine lineNumber="9251"><span class="doxyHighlightComment">/// true and lower it, otherwise return false and it will be lowered like a</span></CodeLine>
<Link id="l09252" /><CodeLine lineNumber="9252"><span class="doxyHighlightComment">/// normal call.</span></CodeLine>
<Link id="l09253" /><CodeLine lineNumber="9253"><span class="doxyHighlightComment">/// The caller already checked that \\p I calls the appropriate LibFunc with a</span></CodeLine>
<Link id="l09254" /><CodeLine lineNumber="9254"><span class="doxyHighlightComment">/// correct prototype.</span></CodeLine>
<Link id="l09255" /><CodeLine lineNumber="9255"><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> SelectionDAGBuilder::visitStrLenCall(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/callinst">CallInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l09256" /><CodeLine lineNumber="9256"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;Arg0 = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0);</span></CodeLine>
<Link id="l09257" /><CodeLine lineNumber="9257"></CodeLine>
<Link id="l09258" /><CodeLine lineNumber="9258"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> SelectionDAGTargetInfo &amp;TSI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSelectionDAGInfo();</span></CodeLine>
<Link id="l09259" /><CodeLine lineNumber="9259"><span class="doxyHighlight">  std::pair&lt;SDValue, SDValue&gt; Res =</span></CodeLine>
<Link id="l09260" /><CodeLine lineNumber="9260"><span class="doxyHighlight">    TSI.<a href="/docs/api/classes/llvm/selectiondagtargetinfo/#ab362cdf332cdfaabcfee49ba4ab5d7fa">EmitTargetCodeForStrlen</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getRoot(),</span></CodeLine>
<Link id="l09261" /><CodeLine lineNumber="9261"><span class="doxyHighlight">                                <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(Arg0), MachinePointerInfo(Arg0));</span></CodeLine>
<Link id="l09262" /><CodeLine lineNumber="9262"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Res.first.getNode()) &#123;</span></CodeLine>
<Link id="l09263" /><CodeLine lineNumber="9263"><span class="doxyHighlight">    processIntegerCallValue(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Res.first, </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l09264" /><CodeLine lineNumber="9264"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#a9a1381eb77fac8d57f54f7bf25919a4e">PendingLoads</a>.push&#95;back(Res.second);</span></CodeLine>
<Link id="l09265" /><CodeLine lineNumber="9265"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09266" /><CodeLine lineNumber="9266"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l09267" /><CodeLine lineNumber="9267"></CodeLine>
<Link id="l09268" /><CodeLine lineNumber="9268"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09269" /><CodeLine lineNumber="9269"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l09270" /><CodeLine lineNumber="9270"></CodeLine>
<Link id="l09271" /><CodeLine lineNumber="9271"><span class="doxyHighlightComment">/// See if we can lower a strnlen call into an optimized form.  If so, return</span></CodeLine>
<Link id="l09272" /><CodeLine lineNumber="9272"><span class="doxyHighlightComment">/// true and lower it, otherwise return false and it will be lowered like a</span></CodeLine>
<Link id="l09273" /><CodeLine lineNumber="9273"><span class="doxyHighlightComment">/// normal call.</span></CodeLine>
<Link id="l09274" /><CodeLine lineNumber="9274"><span class="doxyHighlightComment">/// The caller already checked that \\p I calls the appropriate LibFunc with a</span></CodeLine>
<Link id="l09275" /><CodeLine lineNumber="9275"><span class="doxyHighlightComment">/// correct prototype.</span></CodeLine>
<Link id="l09276" /><CodeLine lineNumber="9276"><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> SelectionDAGBuilder::visitStrNLenCall(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/callinst">CallInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l09277" /><CodeLine lineNumber="9277"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;Arg0 = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0), &#42;Arg1 = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1);</span></CodeLine>
<Link id="l09278" /><CodeLine lineNumber="9278"></CodeLine>
<Link id="l09279" /><CodeLine lineNumber="9279"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> SelectionDAGTargetInfo &amp;TSI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSelectionDAGInfo();</span></CodeLine>
<Link id="l09280" /><CodeLine lineNumber="9280"><span class="doxyHighlight">  std::pair&lt;SDValue, SDValue&gt; Res =</span></CodeLine>
<Link id="l09281" /><CodeLine lineNumber="9281"><span class="doxyHighlight">    TSI.<a href="/docs/api/classes/llvm/selectiondagtargetinfo/#a40d551438fa8a8d608647e4c46f26693">EmitTargetCodeForStrnlen</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getRoot(),</span></CodeLine>
<Link id="l09282" /><CodeLine lineNumber="9282"><span class="doxyHighlight">                                 <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(Arg0), <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(Arg1),</span></CodeLine>
<Link id="l09283" /><CodeLine lineNumber="9283"><span class="doxyHighlight">                                 MachinePointerInfo(Arg0));</span></CodeLine>
<Link id="l09284" /><CodeLine lineNumber="9284"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Res.first.getNode()) &#123;</span></CodeLine>
<Link id="l09285" /><CodeLine lineNumber="9285"><span class="doxyHighlight">    processIntegerCallValue(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Res.first, </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l09286" /><CodeLine lineNumber="9286"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#a9a1381eb77fac8d57f54f7bf25919a4e">PendingLoads</a>.push&#95;back(Res.second);</span></CodeLine>
<Link id="l09287" /><CodeLine lineNumber="9287"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09288" /><CodeLine lineNumber="9288"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l09289" /><CodeLine lineNumber="9289"></CodeLine>
<Link id="l09290" /><CodeLine lineNumber="9290"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09291" /><CodeLine lineNumber="9291"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l09292" /><CodeLine lineNumber="9292"></CodeLine>
<Link id="l09293" /><CodeLine lineNumber="9293"><span class="doxyHighlightComment">/// See if we can lower a unary floating-point operation into an SDNode with</span></CodeLine>
<Link id="l09294" /><CodeLine lineNumber="9294"><span class="doxyHighlightComment">/// the specified Opcode.  If so, return true and lower it, otherwise return</span></CodeLine>
<Link id="l09295" /><CodeLine lineNumber="9295"><span class="doxyHighlightComment">/// false and it will be lowered like a normal call.</span></CodeLine>
<Link id="l09296" /><CodeLine lineNumber="9296"><span class="doxyHighlightComment">/// The caller already checked that \\p I calls the appropriate LibFunc with a</span></CodeLine>
<Link id="l09297" /><CodeLine lineNumber="9297"><span class="doxyHighlightComment">/// correct prototype.</span></CodeLine>
<Link id="l09298" /><CodeLine lineNumber="9298"><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> SelectionDAGBuilder::visitUnaryFloatCall(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/callinst">CallInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</span></CodeLine>
<Link id="l09299" /><CodeLine lineNumber="9299"><span class="doxyHighlight">                                              </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> Opcode) &#123;</span></CodeLine>
<Link id="l09300" /><CodeLine lineNumber="9300"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// We already checked this call&#39;s prototype; verify it doesn&#39;t modify errno.</span></CodeLine>
<Link id="l09301" /><CodeLine lineNumber="9301"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.onlyReadsMemory())</span></CodeLine>
<Link id="l09302" /><CodeLine lineNumber="9302"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09303" /><CodeLine lineNumber="9303"></CodeLine>
<Link id="l09304" /><CodeLine lineNumber="9304"><span class="doxyHighlight">  SDNodeFlags <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>;</span></CodeLine>
<Link id="l09305" /><CodeLine lineNumber="9305"><span class="doxyHighlight">  <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.copyFMF(<a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;FPMathOperator&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</span></CodeLine>
<Link id="l09306" /><CodeLine lineNumber="9306"></CodeLine>
<Link id="l09307" /><CodeLine lineNumber="9307"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Tmp = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0));</span></CodeLine>
<Link id="l09308" /><CodeLine lineNumber="9308"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</span></CodeLine>
<Link id="l09309" /><CodeLine lineNumber="9309"><span class="doxyHighlight">           <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(Opcode, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), Tmp.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>(), Tmp, Flags));</span></CodeLine>
<Link id="l09310" /><CodeLine lineNumber="9310"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09311" /><CodeLine lineNumber="9311"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l09312" /><CodeLine lineNumber="9312"></CodeLine>
<Link id="l09313" /><CodeLine lineNumber="9313"><span class="doxyHighlightComment">/// See if we can lower a binary floating-point operation into an SDNode with</span></CodeLine>
<Link id="l09314" /><CodeLine lineNumber="9314"><span class="doxyHighlightComment">/// the specified Opcode. If so, return true and lower it. Otherwise return</span></CodeLine>
<Link id="l09315" /><CodeLine lineNumber="9315"><span class="doxyHighlightComment">/// false, and it will be lowered like a normal call.</span></CodeLine>
<Link id="l09316" /><CodeLine lineNumber="9316"><span class="doxyHighlightComment">/// The caller already checked that \\p I calls the appropriate LibFunc with a</span></CodeLine>
<Link id="l09317" /><CodeLine lineNumber="9317"><span class="doxyHighlightComment">/// correct prototype.</span></CodeLine>
<Link id="l09318" /><CodeLine lineNumber="9318"><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> SelectionDAGBuilder::visitBinaryFloatCall(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/callinst">CallInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</span></CodeLine>
<Link id="l09319" /><CodeLine lineNumber="9319"><span class="doxyHighlight">                                               </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> Opcode) &#123;</span></CodeLine>
<Link id="l09320" /><CodeLine lineNumber="9320"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// We already checked this call&#39;s prototype; verify it doesn&#39;t modify errno.</span></CodeLine>
<Link id="l09321" /><CodeLine lineNumber="9321"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.onlyReadsMemory())</span></CodeLine>
<Link id="l09322" /><CodeLine lineNumber="9322"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09323" /><CodeLine lineNumber="9323"></CodeLine>
<Link id="l09324" /><CodeLine lineNumber="9324"><span class="doxyHighlight">  SDNodeFlags <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>;</span></CodeLine>
<Link id="l09325" /><CodeLine lineNumber="9325"><span class="doxyHighlight">  <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.copyFMF(<a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;FPMathOperator&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</span></CodeLine>
<Link id="l09326" /><CodeLine lineNumber="9326"></CodeLine>
<Link id="l09327" /><CodeLine lineNumber="9327"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Tmp0 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0));</span></CodeLine>
<Link id="l09328" /><CodeLine lineNumber="9328"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Tmp1 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1));</span></CodeLine>
<Link id="l09329" /><CodeLine lineNumber="9329"><span class="doxyHighlight">  EVT VT = Tmp0.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>();</span></CodeLine>
<Link id="l09330" /><CodeLine lineNumber="9330"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(Opcode, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), VT, Tmp0, Tmp1, Flags));</span></CodeLine>
<Link id="l09331" /><CodeLine lineNumber="9331"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09332" /><CodeLine lineNumber="9332"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l09333" /><CodeLine lineNumber="9333"></CodeLine>
<Link id="l09334" /><CodeLine lineNumber="9334"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitCall(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/callinst">CallInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l09335" /><CodeLine lineNumber="9335"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Handle inline assembly differently.</span></CodeLine>
<Link id="l09336" /><CodeLine lineNumber="9336"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.isInlineAsm()) &#123;</span></CodeLine>
<Link id="l09337" /><CodeLine lineNumber="9337"><span class="doxyHighlight">    visitInlineAsm(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</span></CodeLine>
<Link id="l09338" /><CodeLine lineNumber="9338"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09339" /><CodeLine lineNumber="9339"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l09340" /><CodeLine lineNumber="9340"></CodeLine>
<Link id="l09341" /><CodeLine lineNumber="9341"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#a259334992127b809a034f025fc2bd13f">diagnoseDontCall</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</span></CodeLine>
<Link id="l09342" /><CodeLine lineNumber="9342"></CodeLine>
<Link id="l09343" /><CodeLine lineNumber="9343"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Function &#42;<a href="/docs/api/files/lib/lib/support/md5-cpp/#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getCalledFunction()) &#123;</span></CodeLine>
<Link id="l09344" /><CodeLine lineNumber="9344"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/support/md5-cpp/#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;isDeclaration()) &#123;</span></CodeLine>
<Link id="l09345" /><CodeLine lineNumber="9345"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Is this an LLVM intrinsic or a target-specific intrinsic?</span></CodeLine>
<Link id="l09346" /><CodeLine lineNumber="9346"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> IID = <a href="/docs/api/files/lib/lib/support/md5-cpp/#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getIntrinsicID();</span></CodeLine>
<Link id="l09347" /><CodeLine lineNumber="9347"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!IID)</span></CodeLine>
<Link id="l09348" /><CodeLine lineNumber="9348"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> TargetIntrinsicInfo &#42;<a href="/docs/api/files/lib/lib/target/lib/target/nvptx/nvvmintrrange-cpp/#ac5804672fc0850438d63caec770647f8">II</a> = TM.getIntrinsicInfo())</span></CodeLine>
<Link id="l09349" /><CodeLine lineNumber="9349"><span class="doxyHighlight">          IID = <a href="/docs/api/files/lib/lib/target/lib/target/nvptx/nvvmintrrange-cpp/#ac5804672fc0850438d63caec770647f8">II</a>-&gt;getIntrinsicID(<a href="/docs/api/files/lib/lib/support/md5-cpp/#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</span></CodeLine>
<Link id="l09350" /><CodeLine lineNumber="9350"></CodeLine>
<Link id="l09351" /><CodeLine lineNumber="9351"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (IID) &#123;</span></CodeLine>
<Link id="l09352" /><CodeLine lineNumber="9352"><span class="doxyHighlight">        visitIntrinsicCall(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, IID);</span></CodeLine>
<Link id="l09353" /><CodeLine lineNumber="9353"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09354" /><CodeLine lineNumber="9354"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l09355" /><CodeLine lineNumber="9355"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l09356" /><CodeLine lineNumber="9356"></CodeLine>
<Link id="l09357" /><CodeLine lineNumber="9357"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Check for well-known libc/libm calls.  If the function is internal, it</span></CodeLine>
<Link id="l09358" /><CodeLine lineNumber="9358"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// can&#39;t be a library call.  Don&#39;t do the check if marked as nobuiltin for</span></CodeLine>
<Link id="l09359" /><CodeLine lineNumber="9359"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// some reason or the call site requires strict floating point semantics.</span></CodeLine>
<Link id="l09360" /><CodeLine lineNumber="9360"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/#a26a5e408fc09c5664d2bbb2d7fae154e">LibFunc</a> <a href="/docs/api/namespaces/llvm/rdf/#ad43aeb5ac76bcef25986fbb0918d1165">Func</a>;</span></CodeLine>
<Link id="l09361" /><CodeLine lineNumber="9361"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.isNoBuiltin() &amp;&amp; !<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.isStrictFP() &amp;&amp; !<a href="/docs/api/files/lib/lib/support/md5-cpp/#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;hasLocalLinkage() &amp;&amp;</span></CodeLine>
<Link id="l09362" /><CodeLine lineNumber="9362"><span class="doxyHighlight">        <a href="/docs/api/files/lib/lib/support/md5-cpp/#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;hasName() &amp;&amp; <a href="/docs/api/classes/llvm/selectiondagbuilder/#ae283c81e2135fac41f1896dd39c4cc40">LibInfo</a>-&gt;getLibFunc(&#42;<a href="/docs/api/files/lib/lib/support/md5-cpp/#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, Func) &amp;&amp;</span></CodeLine>
<Link id="l09363" /><CodeLine lineNumber="9363"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagbuilder/#ae283c81e2135fac41f1896dd39c4cc40">LibInfo</a>-&gt;hasOptimizedCodeGen(Func)) &#123;</span></CodeLine>
<Link id="l09364" /><CodeLine lineNumber="9364"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">switch</span><span class="doxyHighlight"> (Func) &#123;</span></CodeLine>
<Link id="l09365" /><CodeLine lineNumber="9365"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">default</span><span class="doxyHighlight">: </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09366" /><CodeLine lineNumber="9366"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;bcmp:</span></CodeLine>
<Link id="l09367" /><CodeLine lineNumber="9367"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (visitMemCmpBCmpCall(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</span></CodeLine>
<Link id="l09368" /><CodeLine lineNumber="9368"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09369" /><CodeLine lineNumber="9369"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09370" /><CodeLine lineNumber="9370"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;copysign:</span></CodeLine>
<Link id="l09371" /><CodeLine lineNumber="9371"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;copysignf:</span></CodeLine>
<Link id="l09372" /><CodeLine lineNumber="9372"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;copysignl:</span></CodeLine>
<Link id="l09373" /><CodeLine lineNumber="9373"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// We already checked this call&#39;s prototype; verify it doesn&#39;t modify</span></CodeLine>
<Link id="l09374" /><CodeLine lineNumber="9374"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// errno.</span></CodeLine>
<Link id="l09375" /><CodeLine lineNumber="9375"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.onlyReadsMemory()) &#123;</span></CodeLine>
<Link id="l09376" /><CodeLine lineNumber="9376"><span class="doxyHighlight">          <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0));</span></CodeLine>
<Link id="l09377" /><CodeLine lineNumber="9377"><span class="doxyHighlight">          <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1));</span></CodeLine>
<Link id="l09378" /><CodeLine lineNumber="9378"><span class="doxyHighlight">          <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110aeffc3319657e213a530ce583603f7221">ISD::FCOPYSIGN</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(),</span></CodeLine>
<Link id="l09379" /><CodeLine lineNumber="9379"><span class="doxyHighlight">                                   <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>.getValueType(), <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>));</span></CodeLine>
<Link id="l09380" /><CodeLine lineNumber="9380"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09381" /><CodeLine lineNumber="9381"><span class="doxyHighlight">        &#125;</span></CodeLine>
<Link id="l09382" /><CodeLine lineNumber="9382"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09383" /><CodeLine lineNumber="9383"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;fabs:</span></CodeLine>
<Link id="l09384" /><CodeLine lineNumber="9384"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;fabsf:</span></CodeLine>
<Link id="l09385" /><CodeLine lineNumber="9385"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;fabsl:</span></CodeLine>
<Link id="l09386" /><CodeLine lineNumber="9386"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (visitUnaryFloatCall(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, ISD::FABS))</span></CodeLine>
<Link id="l09387" /><CodeLine lineNumber="9387"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09388" /><CodeLine lineNumber="9388"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09389" /><CodeLine lineNumber="9389"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;fmin:</span></CodeLine>
<Link id="l09390" /><CodeLine lineNumber="9390"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;fminf:</span></CodeLine>
<Link id="l09391" /><CodeLine lineNumber="9391"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;fminl:</span></CodeLine>
<Link id="l09392" /><CodeLine lineNumber="9392"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (visitBinaryFloatCall(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, ISD::FMINNUM))</span></CodeLine>
<Link id="l09393" /><CodeLine lineNumber="9393"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09394" /><CodeLine lineNumber="9394"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09395" /><CodeLine lineNumber="9395"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;fmax:</span></CodeLine>
<Link id="l09396" /><CodeLine lineNumber="9396"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;fmaxf:</span></CodeLine>
<Link id="l09397" /><CodeLine lineNumber="9397"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;fmaxl:</span></CodeLine>
<Link id="l09398" /><CodeLine lineNumber="9398"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (visitBinaryFloatCall(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, ISD::FMAXNUM))</span></CodeLine>
<Link id="l09399" /><CodeLine lineNumber="9399"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09400" /><CodeLine lineNumber="9400"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09401" /><CodeLine lineNumber="9401"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;fminimum&#95;num:</span></CodeLine>
<Link id="l09402" /><CodeLine lineNumber="9402"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;fminimum&#95;numf:</span></CodeLine>
<Link id="l09403" /><CodeLine lineNumber="9403"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;fminimum&#95;numl:</span></CodeLine>
<Link id="l09404" /><CodeLine lineNumber="9404"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (visitBinaryFloatCall(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, ISD::FMINIMUMNUM))</span></CodeLine>
<Link id="l09405" /><CodeLine lineNumber="9405"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09406" /><CodeLine lineNumber="9406"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09407" /><CodeLine lineNumber="9407"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;fmaximum&#95;num:</span></CodeLine>
<Link id="l09408" /><CodeLine lineNumber="9408"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;fmaximum&#95;numf:</span></CodeLine>
<Link id="l09409" /><CodeLine lineNumber="9409"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;fmaximum&#95;numl:</span></CodeLine>
<Link id="l09410" /><CodeLine lineNumber="9410"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (visitBinaryFloatCall(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, ISD::FMAXIMUMNUM))</span></CodeLine>
<Link id="l09411" /><CodeLine lineNumber="9411"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09412" /><CodeLine lineNumber="9412"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09413" /><CodeLine lineNumber="9413"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;sin:</span></CodeLine>
<Link id="l09414" /><CodeLine lineNumber="9414"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;sinf:</span></CodeLine>
<Link id="l09415" /><CodeLine lineNumber="9415"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;sinl:</span></CodeLine>
<Link id="l09416" /><CodeLine lineNumber="9416"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (visitUnaryFloatCall(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, ISD::FSIN))</span></CodeLine>
<Link id="l09417" /><CodeLine lineNumber="9417"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09418" /><CodeLine lineNumber="9418"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09419" /><CodeLine lineNumber="9419"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;cos:</span></CodeLine>
<Link id="l09420" /><CodeLine lineNumber="9420"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;cosf:</span></CodeLine>
<Link id="l09421" /><CodeLine lineNumber="9421"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;cosl:</span></CodeLine>
<Link id="l09422" /><CodeLine lineNumber="9422"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (visitUnaryFloatCall(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, ISD::FCOS))</span></CodeLine>
<Link id="l09423" /><CodeLine lineNumber="9423"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09424" /><CodeLine lineNumber="9424"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09425" /><CodeLine lineNumber="9425"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;tan:</span></CodeLine>
<Link id="l09426" /><CodeLine lineNumber="9426"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;tanf:</span></CodeLine>
<Link id="l09427" /><CodeLine lineNumber="9427"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;tanl:</span></CodeLine>
<Link id="l09428" /><CodeLine lineNumber="9428"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (visitUnaryFloatCall(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, ISD::FTAN))</span></CodeLine>
<Link id="l09429" /><CodeLine lineNumber="9429"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09430" /><CodeLine lineNumber="9430"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09431" /><CodeLine lineNumber="9431"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;asin:</span></CodeLine>
<Link id="l09432" /><CodeLine lineNumber="9432"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;asinf:</span></CodeLine>
<Link id="l09433" /><CodeLine lineNumber="9433"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;asinl:</span></CodeLine>
<Link id="l09434" /><CodeLine lineNumber="9434"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (visitUnaryFloatCall(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, ISD::FASIN))</span></CodeLine>
<Link id="l09435" /><CodeLine lineNumber="9435"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09436" /><CodeLine lineNumber="9436"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09437" /><CodeLine lineNumber="9437"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;acos:</span></CodeLine>
<Link id="l09438" /><CodeLine lineNumber="9438"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;acosf:</span></CodeLine>
<Link id="l09439" /><CodeLine lineNumber="9439"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;acosl:</span></CodeLine>
<Link id="l09440" /><CodeLine lineNumber="9440"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (visitUnaryFloatCall(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, ISD::FACOS))</span></CodeLine>
<Link id="l09441" /><CodeLine lineNumber="9441"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09442" /><CodeLine lineNumber="9442"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09443" /><CodeLine lineNumber="9443"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;atan:</span></CodeLine>
<Link id="l09444" /><CodeLine lineNumber="9444"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;atanf:</span></CodeLine>
<Link id="l09445" /><CodeLine lineNumber="9445"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;atanl:</span></CodeLine>
<Link id="l09446" /><CodeLine lineNumber="9446"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (visitUnaryFloatCall(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, ISD::FATAN))</span></CodeLine>
<Link id="l09447" /><CodeLine lineNumber="9447"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09448" /><CodeLine lineNumber="9448"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09449" /><CodeLine lineNumber="9449"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;atan2:</span></CodeLine>
<Link id="l09450" /><CodeLine lineNumber="9450"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;atan2f:</span></CodeLine>
<Link id="l09451" /><CodeLine lineNumber="9451"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;atan2l:</span></CodeLine>
<Link id="l09452" /><CodeLine lineNumber="9452"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (visitBinaryFloatCall(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, ISD::FATAN2))</span></CodeLine>
<Link id="l09453" /><CodeLine lineNumber="9453"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09454" /><CodeLine lineNumber="9454"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09455" /><CodeLine lineNumber="9455"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;sinh:</span></CodeLine>
<Link id="l09456" /><CodeLine lineNumber="9456"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;sinhf:</span></CodeLine>
<Link id="l09457" /><CodeLine lineNumber="9457"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;sinhl:</span></CodeLine>
<Link id="l09458" /><CodeLine lineNumber="9458"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (visitUnaryFloatCall(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, ISD::FSINH))</span></CodeLine>
<Link id="l09459" /><CodeLine lineNumber="9459"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09460" /><CodeLine lineNumber="9460"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09461" /><CodeLine lineNumber="9461"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;cosh:</span></CodeLine>
<Link id="l09462" /><CodeLine lineNumber="9462"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;coshf:</span></CodeLine>
<Link id="l09463" /><CodeLine lineNumber="9463"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;coshl:</span></CodeLine>
<Link id="l09464" /><CodeLine lineNumber="9464"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (visitUnaryFloatCall(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, ISD::FCOSH))</span></CodeLine>
<Link id="l09465" /><CodeLine lineNumber="9465"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09466" /><CodeLine lineNumber="9466"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09467" /><CodeLine lineNumber="9467"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;tanh:</span></CodeLine>
<Link id="l09468" /><CodeLine lineNumber="9468"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;tanhf:</span></CodeLine>
<Link id="l09469" /><CodeLine lineNumber="9469"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;tanhl:</span></CodeLine>
<Link id="l09470" /><CodeLine lineNumber="9470"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (visitUnaryFloatCall(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, ISD::FTANH))</span></CodeLine>
<Link id="l09471" /><CodeLine lineNumber="9471"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09472" /><CodeLine lineNumber="9472"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09473" /><CodeLine lineNumber="9473"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;sqrt:</span></CodeLine>
<Link id="l09474" /><CodeLine lineNumber="9474"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;sqrtf:</span></CodeLine>
<Link id="l09475" /><CodeLine lineNumber="9475"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;sqrtl:</span></CodeLine>
<Link id="l09476" /><CodeLine lineNumber="9476"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;sqrt&#95;finite:</span></CodeLine>
<Link id="l09477" /><CodeLine lineNumber="9477"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;sqrtf&#95;finite:</span></CodeLine>
<Link id="l09478" /><CodeLine lineNumber="9478"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;sqrtl&#95;finite:</span></CodeLine>
<Link id="l09479" /><CodeLine lineNumber="9479"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (visitUnaryFloatCall(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, ISD::FSQRT))</span></CodeLine>
<Link id="l09480" /><CodeLine lineNumber="9480"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09481" /><CodeLine lineNumber="9481"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09482" /><CodeLine lineNumber="9482"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;floor:</span></CodeLine>
<Link id="l09483" /><CodeLine lineNumber="9483"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;floorf:</span></CodeLine>
<Link id="l09484" /><CodeLine lineNumber="9484"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;floorl:</span></CodeLine>
<Link id="l09485" /><CodeLine lineNumber="9485"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (visitUnaryFloatCall(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, ISD::FFLOOR))</span></CodeLine>
<Link id="l09486" /><CodeLine lineNumber="9486"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09487" /><CodeLine lineNumber="9487"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09488" /><CodeLine lineNumber="9488"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;nearbyint:</span></CodeLine>
<Link id="l09489" /><CodeLine lineNumber="9489"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;nearbyintf:</span></CodeLine>
<Link id="l09490" /><CodeLine lineNumber="9490"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;nearbyintl:</span></CodeLine>
<Link id="l09491" /><CodeLine lineNumber="9491"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (visitUnaryFloatCall(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, ISD::FNEARBYINT))</span></CodeLine>
<Link id="l09492" /><CodeLine lineNumber="9492"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09493" /><CodeLine lineNumber="9493"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09494" /><CodeLine lineNumber="9494"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;ceil:</span></CodeLine>
<Link id="l09495" /><CodeLine lineNumber="9495"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;ceilf:</span></CodeLine>
<Link id="l09496" /><CodeLine lineNumber="9496"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;ceill:</span></CodeLine>
<Link id="l09497" /><CodeLine lineNumber="9497"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (visitUnaryFloatCall(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, ISD::FCEIL))</span></CodeLine>
<Link id="l09498" /><CodeLine lineNumber="9498"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09499" /><CodeLine lineNumber="9499"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09500" /><CodeLine lineNumber="9500"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;rint:</span></CodeLine>
<Link id="l09501" /><CodeLine lineNumber="9501"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;rintf:</span></CodeLine>
<Link id="l09502" /><CodeLine lineNumber="9502"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;rintl:</span></CodeLine>
<Link id="l09503" /><CodeLine lineNumber="9503"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (visitUnaryFloatCall(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, ISD::FRINT))</span></CodeLine>
<Link id="l09504" /><CodeLine lineNumber="9504"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09505" /><CodeLine lineNumber="9505"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09506" /><CodeLine lineNumber="9506"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;round:</span></CodeLine>
<Link id="l09507" /><CodeLine lineNumber="9507"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;roundf:</span></CodeLine>
<Link id="l09508" /><CodeLine lineNumber="9508"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;roundl:</span></CodeLine>
<Link id="l09509" /><CodeLine lineNumber="9509"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (visitUnaryFloatCall(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, ISD::FROUND))</span></CodeLine>
<Link id="l09510" /><CodeLine lineNumber="9510"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09511" /><CodeLine lineNumber="9511"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09512" /><CodeLine lineNumber="9512"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;trunc:</span></CodeLine>
<Link id="l09513" /><CodeLine lineNumber="9513"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;truncf:</span></CodeLine>
<Link id="l09514" /><CodeLine lineNumber="9514"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;truncl:</span></CodeLine>
<Link id="l09515" /><CodeLine lineNumber="9515"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (visitUnaryFloatCall(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, ISD::FTRUNC))</span></CodeLine>
<Link id="l09516" /><CodeLine lineNumber="9516"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09517" /><CodeLine lineNumber="9517"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09518" /><CodeLine lineNumber="9518"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;log2:</span></CodeLine>
<Link id="l09519" /><CodeLine lineNumber="9519"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;log2f:</span></CodeLine>
<Link id="l09520" /><CodeLine lineNumber="9520"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;log2l:</span></CodeLine>
<Link id="l09521" /><CodeLine lineNumber="9521"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (visitUnaryFloatCall(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, ISD::FLOG2))</span></CodeLine>
<Link id="l09522" /><CodeLine lineNumber="9522"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09523" /><CodeLine lineNumber="9523"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09524" /><CodeLine lineNumber="9524"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;exp2:</span></CodeLine>
<Link id="l09525" /><CodeLine lineNumber="9525"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;exp2f:</span></CodeLine>
<Link id="l09526" /><CodeLine lineNumber="9526"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;exp2l:</span></CodeLine>
<Link id="l09527" /><CodeLine lineNumber="9527"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (visitUnaryFloatCall(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, ISD::FEXP2))</span></CodeLine>
<Link id="l09528" /><CodeLine lineNumber="9528"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09529" /><CodeLine lineNumber="9529"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09530" /><CodeLine lineNumber="9530"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;exp10:</span></CodeLine>
<Link id="l09531" /><CodeLine lineNumber="9531"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;exp10f:</span></CodeLine>
<Link id="l09532" /><CodeLine lineNumber="9532"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;exp10l:</span></CodeLine>
<Link id="l09533" /><CodeLine lineNumber="9533"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (visitUnaryFloatCall(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, ISD::FEXP10))</span></CodeLine>
<Link id="l09534" /><CodeLine lineNumber="9534"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09535" /><CodeLine lineNumber="9535"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09536" /><CodeLine lineNumber="9536"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;ldexp:</span></CodeLine>
<Link id="l09537" /><CodeLine lineNumber="9537"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;ldexpf:</span></CodeLine>
<Link id="l09538" /><CodeLine lineNumber="9538"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;ldexpl:</span></CodeLine>
<Link id="l09539" /><CodeLine lineNumber="9539"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (visitBinaryFloatCall(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, ISD::FLDEXP))</span></CodeLine>
<Link id="l09540" /><CodeLine lineNumber="9540"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09541" /><CodeLine lineNumber="9541"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09542" /><CodeLine lineNumber="9542"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;memcmp:</span></CodeLine>
<Link id="l09543" /><CodeLine lineNumber="9543"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (visitMemCmpBCmpCall(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</span></CodeLine>
<Link id="l09544" /><CodeLine lineNumber="9544"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09545" /><CodeLine lineNumber="9545"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09546" /><CodeLine lineNumber="9546"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;mempcpy:</span></CodeLine>
<Link id="l09547" /><CodeLine lineNumber="9547"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (visitMemPCpyCall(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</span></CodeLine>
<Link id="l09548" /><CodeLine lineNumber="9548"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09549" /><CodeLine lineNumber="9549"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09550" /><CodeLine lineNumber="9550"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;memchr:</span></CodeLine>
<Link id="l09551" /><CodeLine lineNumber="9551"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (visitMemChrCall(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</span></CodeLine>
<Link id="l09552" /><CodeLine lineNumber="9552"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09553" /><CodeLine lineNumber="9553"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09554" /><CodeLine lineNumber="9554"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;strcpy:</span></CodeLine>
<Link id="l09555" /><CodeLine lineNumber="9555"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (visitStrCpyCall(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">))</span></CodeLine>
<Link id="l09556" /><CodeLine lineNumber="9556"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09557" /><CodeLine lineNumber="9557"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09558" /><CodeLine lineNumber="9558"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;stpcpy:</span></CodeLine>
<Link id="l09559" /><CodeLine lineNumber="9559"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (visitStrCpyCall(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">))</span></CodeLine>
<Link id="l09560" /><CodeLine lineNumber="9560"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09561" /><CodeLine lineNumber="9561"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09562" /><CodeLine lineNumber="9562"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;strcmp:</span></CodeLine>
<Link id="l09563" /><CodeLine lineNumber="9563"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (visitStrCmpCall(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</span></CodeLine>
<Link id="l09564" /><CodeLine lineNumber="9564"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09565" /><CodeLine lineNumber="9565"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09566" /><CodeLine lineNumber="9566"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;strlen:</span></CodeLine>
<Link id="l09567" /><CodeLine lineNumber="9567"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (visitStrLenCall(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</span></CodeLine>
<Link id="l09568" /><CodeLine lineNumber="9568"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09569" /><CodeLine lineNumber="9569"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09570" /><CodeLine lineNumber="9570"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> LibFunc&#95;strnlen:</span></CodeLine>
<Link id="l09571" /><CodeLine lineNumber="9571"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (visitStrNLenCall(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</span></CodeLine>
<Link id="l09572" /><CodeLine lineNumber="9572"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09573" /><CodeLine lineNumber="9573"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09574" /><CodeLine lineNumber="9574"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l09575" /><CodeLine lineNumber="9575"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l09576" /><CodeLine lineNumber="9576"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l09577" /><CodeLine lineNumber="9577"></CodeLine>
<Link id="l09578" /><CodeLine lineNumber="9578"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.countOperandBundlesOfType(<a href="/docs/api/classes/llvm/llvmcontext/#a44d727ac5fccf852bfb2bae3e06adc9cadd4d7ff61cc637f50c78417fc8e67c15">LLVMContext::OB&#95;ptrauth</a>)) &#123;</span></CodeLine>
<Link id="l09579" /><CodeLine lineNumber="9579"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ac9742261cd7ee88cb99ec122fc61f5e8">LowerCallSiteWithPtrAuthBundle</a>(<a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;CallBase&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>), </span><span class="doxyHighlightComment">/&#42;EHPadBB=&#42;/</span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l09580" /><CodeLine lineNumber="9580"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09581" /><CodeLine lineNumber="9581"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l09582" /><CodeLine lineNumber="9582"></CodeLine>
<Link id="l09583" /><CodeLine lineNumber="9583"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Deopt bundles are lowered in LowerCallSiteWithDeoptBundle, and we don&#39;t</span></CodeLine>
<Link id="l09584" /><CodeLine lineNumber="9584"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// have to do anything here to lower funclet bundles.</span></CodeLine>
<Link id="l09585" /><CodeLine lineNumber="9585"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// CFGuardTarget bundles are lowered in LowerCallTo.</span></CodeLine>
<Link id="l09586" /><CodeLine lineNumber="9586"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.hasOperandBundlesOtherThan(</span></CodeLine>
<Link id="l09587" /><CodeLine lineNumber="9587"><span class="doxyHighlight">             &#123;LLVMContext::OB&#95;deopt, LLVMContext::OB&#95;funclet,</span></CodeLine>
<Link id="l09588" /><CodeLine lineNumber="9588"><span class="doxyHighlight">              LLVMContext::OB&#95;cfguardtarget, LLVMContext::OB&#95;preallocated,</span></CodeLine>
<Link id="l09589" /><CodeLine lineNumber="9589"><span class="doxyHighlight">              LLVMContext::OB&#95;clang&#95;arc&#95;attachedcall, LLVMContext::OB&#95;kcfi,</span></CodeLine>
<Link id="l09590" /><CodeLine lineNumber="9590"><span class="doxyHighlight">              LLVMContext::OB&#95;convergencectrl&#125;) &amp;&amp;</span></CodeLine>
<Link id="l09591" /><CodeLine lineNumber="9591"><span class="doxyHighlight">         </span><span class="doxyHighlightStringLiteral">&quot;Cannot lower calls with arbitrary operand bundles!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l09592" /><CodeLine lineNumber="9592"></CodeLine>
<Link id="l09593" /><CodeLine lineNumber="9593"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/pdb/#a33e853ec74d48b1340d1d4bae772d30bac8ff9e15a93f800c74c05e7b37364816">Callee</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getCalledOperand());</span></CodeLine>
<Link id="l09594" /><CodeLine lineNumber="9594"></CodeLine>
<Link id="l09595" /><CodeLine lineNumber="9595"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.hasDeoptState())</span></CodeLine>
<Link id="l09596" /><CodeLine lineNumber="9596"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#a475d759da0893604f08519960a12d297">LowerCallSiteWithDeoptBundle</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Callee, </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l09597" /><CodeLine lineNumber="9597"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">else</span></CodeLine>
<Link id="l09598" /><CodeLine lineNumber="9598"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Check if we can potentially perform a tail call. More detailed checking</span></CodeLine>
<Link id="l09599" /><CodeLine lineNumber="9599"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// is be done within LowerCallTo, after more information about the call is</span></CodeLine>
<Link id="l09600" /><CodeLine lineNumber="9600"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// known.</span></CodeLine>
<Link id="l09601" /><CodeLine lineNumber="9601"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#a2b4653fa0c302d9cbe4e7839d711e76a">LowerCallTo</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Callee, <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.isTailCall(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.isMustTailCall());</span></CodeLine>
<Link id="l09602" /><CodeLine lineNumber="9602"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l09603" /><CodeLine lineNumber="9603"></CodeLine>
<Link id="l09604" /><CodeLine lineNumber="9604" lineLink="/docs/api/classes/llvm/selectiondagbuilder/#ac9742261cd7ee88cb99ec122fc61f5e8"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#ac9742261cd7ee88cb99ec122fc61f5e8">SelectionDAGBuilder::LowerCallSiteWithPtrAuthBundle</a>(</span></CodeLine>
<Link id="l09605" /><CodeLine lineNumber="9605"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/callbase">CallBase</a> &amp;CB, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42;EHPadBB) &#123;</span></CodeLine>
<Link id="l09606" /><CodeLine lineNumber="9606"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> PAB = CB.<a href="/docs/api/classes/llvm/callbase/#a23ab5f34fb7b9476d45da0102ecbfae6">getOperandBundle</a>(</span><span class="doxyHighlightStringLiteral">&quot;ptrauth&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l09607" /><CodeLine lineNumber="9607"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;CalleeV = CB.<a href="/docs/api/classes/llvm/callbase/#a8d13199cbf4d080d3b5dcf330dad5d2c">getCalledOperand</a>();</span></CodeLine>
<Link id="l09608" /><CodeLine lineNumber="9608"></CodeLine>
<Link id="l09609" /><CodeLine lineNumber="9609"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Gather the call ptrauth data from the operand bundle:</span></CodeLine>
<Link id="l09610" /><CodeLine lineNumber="9610"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">//   &#91; i32 &lt;key&gt;, i64 &lt;discriminator&gt; &#93;</span></CodeLine>
<Link id="l09611" /><CodeLine lineNumber="9611"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;<a href="/docs/api/namespaces/llvm/#a98c6256d0644613c6b5b3e2ef06ef5ce">Key</a> = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;ConstantInt&gt;</a>(PAB-&gt;Inputs&#91;0&#93;);</span></CodeLine>
<Link id="l09612" /><CodeLine lineNumber="9612"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;Discriminator = PAB-&gt;Inputs&#91;1&#93;;</span></CodeLine>
<Link id="l09613" /><CodeLine lineNumber="9613"></CodeLine>
<Link id="l09614" /><CodeLine lineNumber="9614"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a href="/docs/api/namespaces/llvm/#a98c6256d0644613c6b5b3e2ef06ef5ce">Key</a>-&gt;getType()-&gt;isIntegerTy(32) &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Invalid ptrauth key&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l09615" /><CodeLine lineNumber="9615"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Discriminator-&gt;getType()-&gt;isIntegerTy(64) &amp;&amp;</span></CodeLine>
<Link id="l09616" /><CodeLine lineNumber="9616"><span class="doxyHighlight">         </span><span class="doxyHighlightStringLiteral">&quot;Invalid ptrauth discriminator&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l09617" /><CodeLine lineNumber="9617"></CodeLine>
<Link id="l09618" /><CodeLine lineNumber="9618"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Look through ptrauth constants to find the raw callee.</span></CodeLine>
<Link id="l09619" /><CodeLine lineNumber="9619"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Do a direct unauthenticated call if we found it and everything matches.</span></CodeLine>
<Link id="l09620" /><CodeLine lineNumber="9620"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;CalleeCPA = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;ConstantPtrAuth&gt;</a>(CalleeV))</span></CodeLine>
<Link id="l09621" /><CodeLine lineNumber="9621"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (CalleeCPA-&gt;isKnownCompatibleWith(<a href="/docs/api/namespaces/llvm/#a98c6256d0644613c6b5b3e2ef06ef5ce">Key</a>, Discriminator,</span></CodeLine>
<Link id="l09622" /><CodeLine lineNumber="9622"><span class="doxyHighlight">                                         <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout()))</span></CodeLine>
<Link id="l09623" /><CodeLine lineNumber="9623"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#a2b4653fa0c302d9cbe4e7839d711e76a">LowerCallTo</a>(CB, <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(CalleeCPA-&gt;getPointer()), CB.<a href="/docs/api/classes/llvm/callbase/#af2c6594a90c163f7347396d39e094abe">isTailCall</a>(),</span></CodeLine>
<Link id="l09624" /><CodeLine lineNumber="9624"><span class="doxyHighlight">                         CB.<a href="/docs/api/classes/llvm/callbase/#a50426b12f4acb3d9f74d0778948e9597">isMustTailCall</a>(), EHPadBB);</span></CodeLine>
<Link id="l09625" /><CodeLine lineNumber="9625"></CodeLine>
<Link id="l09626" /><CodeLine lineNumber="9626"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Functions should never be ptrauth-called directly.</span></CodeLine>
<Link id="l09627" /><CodeLine lineNumber="9627"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;Function&gt;</a>(CalleeV) &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;invalid direct ptrauth call&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l09628" /><CodeLine lineNumber="9628"></CodeLine>
<Link id="l09629" /><CodeLine lineNumber="9629"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Otherwise, do an authenticated indirect call.</span></CodeLine>
<Link id="l09630" /><CodeLine lineNumber="9630"><span class="doxyHighlight">  <a href="/docs/api/structs/llvm/targetlowering/ptrauthinfo">TargetLowering::PtrAuthInfo</a> PAI = &#123;<a href="/docs/api/namespaces/llvm/#a98c6256d0644613c6b5b3e2ef06ef5ce">Key</a>-&gt;getZExtValue(),</span></CodeLine>
<Link id="l09631" /><CodeLine lineNumber="9631"><span class="doxyHighlight">                                     <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(Discriminator)&#125;;</span></CodeLine>
<Link id="l09632" /><CodeLine lineNumber="9632"></CodeLine>
<Link id="l09633" /><CodeLine lineNumber="9633"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#a2b4653fa0c302d9cbe4e7839d711e76a">LowerCallTo</a>(CB, <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(CalleeV), CB.<a href="/docs/api/classes/llvm/callbase/#af2c6594a90c163f7347396d39e094abe">isTailCall</a>(), CB.<a href="/docs/api/classes/llvm/callbase/#a50426b12f4acb3d9f74d0778948e9597">isMustTailCall</a>(),</span></CodeLine>
<Link id="l09634" /><CodeLine lineNumber="9634"><span class="doxyHighlight">              EHPadBB, &amp;PAI);</span></CodeLine>
<Link id="l09635" /><CodeLine lineNumber="9635"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l09636" /><CodeLine lineNumber="9636"></CodeLine>
<Link id="l09637" /><CodeLine lineNumber="9637" lineLink="/docs/api/namespaces/anonymous-selectiondagbuilder-cpp-"><span class="doxyHighlightKeyword">namespace </span><span class="doxyHighlight">&#123;</span></CodeLine>
<Link id="l09638" /><CodeLine lineNumber="9638"></CodeLine>
<Link id="l09639" /><CodeLine lineNumber="9639"><span class="doxyHighlightComment">/// AsmOperandInfo - This contains information for each constraint that we are</span></CodeLine>
<Link id="l09640" /><CodeLine lineNumber="9640"><span class="doxyHighlightComment">/// lowering.</span></CodeLine>
<Link id="l09641" /><CodeLine lineNumber="9641" lineLink="/docs/api/classes/anonymous-namespace-selectiondagbuilder-cpp-/sdiselasmoperandinfo"><span class="doxyHighlightKeyword">class </span><span class="doxyHighlight"><a href="/docs/api/classes/anonymous-namespace-selectiondagbuilder-cpp-/sdiselasmoperandinfo/#a87befb4affba58089c58a8b811fccc7c">SDISelAsmOperandInfo</a> : </span><span class="doxyHighlightKeyword">public</span><span class="doxyHighlight"> TargetLowering::AsmOperandInfo &#123;</span></CodeLine>
<Link id="l09642" /><CodeLine lineNumber="9642"><span class="doxyHighlightKeyword">public</span><span class="doxyHighlight">:</span></CodeLine>
<Link id="l09643" /><CodeLine lineNumber="9643"><span class="doxyHighlightComment">  /// CallOperand - If this is the result output operand or a clobber</span></CodeLine>
<Link id="l09644" /><CodeLine lineNumber="9644"><span class="doxyHighlightComment">  /// this is null, otherwise it is the incoming operand to the CallInst.</span></CodeLine>
<Link id="l09645" /><CodeLine lineNumber="9645"><span class="doxyHighlightComment">  /// This gets modified as the asm is processed.</span></CodeLine>
<Link id="l09646" /><CodeLine lineNumber="9646" lineLink="/docs/api/classes/anonymous-namespace-selectiondagbuilder-cpp-/sdiselasmoperandinfo/#a4bb7e0d9dfb8c2252566830d05329c23"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="/docs/api/classes/anonymous-namespace-selectiondagbuilder-cpp-/sdiselasmoperandinfo/#a4bb7e0d9dfb8c2252566830d05329c23">CallOperand</a>;</span></CodeLine>
<Link id="l09647" /><CodeLine lineNumber="9647"></CodeLine>
<Link id="l09648" /><CodeLine lineNumber="9648"><span class="doxyHighlightComment">  /// AssignedRegs - If this is a register or register class operand, this</span></CodeLine>
<Link id="l09649" /><CodeLine lineNumber="9649"><span class="doxyHighlightComment">  /// contains the set of register corresponding to the operand.</span></CodeLine>
<Link id="l09650" /><CodeLine lineNumber="9650" lineLink="/docs/api/classes/anonymous-namespace-selectiondagbuilder-cpp-/sdiselasmoperandinfo/#adc707c406752594ff570113499f1e753"><span class="doxyHighlight">  <a href="/docs/api/structs/llvm/regsforvalue">RegsForValue</a> <a href="/docs/api/classes/anonymous-namespace-selectiondagbuilder-cpp-/sdiselasmoperandinfo/#adc707c406752594ff570113499f1e753">AssignedRegs</a>;</span></CodeLine>
<Link id="l09651" /><CodeLine lineNumber="9651"></CodeLine>
<Link id="l09652" /><CodeLine lineNumber="9652" lineLink="/docs/api/classes/anonymous-namespace-selectiondagbuilder-cpp-/sdiselasmoperandinfo/#a87befb4affba58089c58a8b811fccc7c"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">explicit</span><span class="doxyHighlight"> <a href="/docs/api/classes/anonymous-namespace-selectiondagbuilder-cpp-/sdiselasmoperandinfo/#a87befb4affba58089c58a8b811fccc7c">SDISelAsmOperandInfo</a>(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> TargetLowering::AsmOperandInfo &amp;<a href="/docs/api/files/lib/lib/analysis/lazyvalueinfo-cpp/#ad7f64bcc544dcefb2e068282af1c549d">info</a>)</span></CodeLine>
<Link id="l09653" /><CodeLine lineNumber="9653"><span class="doxyHighlight">    : <a href="/docs/api/classes/llvm/targetlowering">TargetLowering</a>::AsmOperandInfo(<a href="/docs/api/files/lib/lib/analysis/lazyvalueinfo-cpp/#ad7f64bcc544dcefb2e068282af1c549d">info</a>), <a href="/docs/api/classes/anonymous-namespace-selectiondagbuilder-cpp-/sdiselasmoperandinfo/#a4bb7e0d9dfb8c2252566830d05329c23">CallOperand</a>(nullptr, 0) &#123;</span></CodeLine>
<Link id="l09654" /><CodeLine lineNumber="9654"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l09655" /><CodeLine lineNumber="9655"></CodeLine>
<Link id="l09656" /><CodeLine lineNumber="9656"><span class="doxyHighlightComment">  /// Whether or not this operand accesses memory</span></CodeLine>
<Link id="l09657" /><CodeLine lineNumber="9657" lineLink="/docs/api/classes/anonymous-namespace-selectiondagbuilder-cpp-/sdiselasmoperandinfo/#a4720526a8ca364f5afe46d3fd069c108"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="/docs/api/classes/anonymous-namespace-selectiondagbuilder-cpp-/sdiselasmoperandinfo/#a4720526a8ca364f5afe46d3fd069c108">hasMemory</a>(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetlowering">TargetLowering</a> &amp;TLI)</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123;</span></CodeLine>
<Link id="l09658" /><CodeLine lineNumber="9658"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Indirect operand accesses access memory.</span></CodeLine>
<Link id="l09659" /><CodeLine lineNumber="9659"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (isIndirect)</span></CodeLine>
<Link id="l09660" /><CodeLine lineNumber="9660"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09661" /><CodeLine lineNumber="9661"></CodeLine>
<Link id="l09662" /><CodeLine lineNumber="9662"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;Code : Codes)</span></CodeLine>
<Link id="l09663" /><CodeLine lineNumber="9663"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (TLI.<a href="/docs/api/classes/llvm/targetlowering/#a45b2deb637d370d68d3bd3786c21e415">getConstraintType</a>(Code) == <a href="/docs/api/classes/llvm/targetlowering/#a0b0176781cd4fd9f45cc739f1d007116a420d729d2e7d056ec884c094ccdc4467">TargetLowering::C&#95;Memory</a>)</span></CodeLine>
<Link id="l09664" /><CodeLine lineNumber="9664"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09665" /><CodeLine lineNumber="9665"></CodeLine>
<Link id="l09666" /><CodeLine lineNumber="9666"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09667" /><CodeLine lineNumber="9667"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l09668" /><CodeLine lineNumber="9668"><span class="doxyHighlight">&#125;;</span></CodeLine>
<Link id="l09669" /><CodeLine lineNumber="9669"></CodeLine>
<Link id="l09670" /><CodeLine lineNumber="9670"></CodeLine>
<Link id="l09671" /><CodeLine lineNumber="9671"><span class="doxyHighlight">&#125; </span><span class="doxyHighlightComment">// end anonymous namespace</span></CodeLine>
<Link id="l09672" /><CodeLine lineNumber="9672"></CodeLine>
<Link id="l09673" /><CodeLine lineNumber="9673"><span class="doxyHighlightComment">/// Make sure that the output operand \\p OpInfo and its corresponding input</span></CodeLine>
<Link id="l09674" /><CodeLine lineNumber="9674"><span class="doxyHighlightComment">/// operand \\p MatchingOpInfo have compatible constraint types (otherwise error</span></CodeLine>
<Link id="l09675" /><CodeLine lineNumber="9675"><span class="doxyHighlightComment">/// out).</span></CodeLine>
<Link id="l09676" /><CodeLine lineNumber="9676" lineLink="#a5ec1b0ffb0fbbbc5d74381b0b1d38ae1"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="#a5ec1b0ffb0fbbbc5d74381b0b1d38ae1">patchMatchingInput</a>(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> SDISelAsmOperandInfo &amp;OpInfo,</span></CodeLine>
<Link id="l09677" /><CodeLine lineNumber="9677"><span class="doxyHighlight">                               SDISelAsmOperandInfo &amp;MatchingOpInfo,</span></CodeLine>
<Link id="l09678" /><CodeLine lineNumber="9678"><span class="doxyHighlight">                               <a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp;DAG) &#123;</span></CodeLine>
<Link id="l09679" /><CodeLine lineNumber="9679"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (OpInfo.ConstraintVT == MatchingOpInfo.ConstraintVT)</span></CodeLine>
<Link id="l09680" /><CodeLine lineNumber="9680"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09681" /><CodeLine lineNumber="9681"></CodeLine>
<Link id="l09682" /><CodeLine lineNumber="9682"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetregisterinfo">TargetRegisterInfo</a> &#42;<a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = DAG.<a href="/docs/api/classes/llvm/selectiondag/#a150a6b1d332e8d13b77970bd05a235ca">getSubtarget</a>().<a href="/docs/api/classes/llvm/targetsubtargetinfo/#a43c530c830206ecf5ad3359364634c75">getRegisterInfo</a>();</span></CodeLine>
<Link id="l09683" /><CodeLine lineNumber="9683"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;TLI = DAG.<a href="/docs/api/classes/llvm/selectiondag/#a4c20c587f89ae2926f9e8a99093e8419">getTargetLoweringInfo</a>();</span></CodeLine>
<Link id="l09684" /><CodeLine lineNumber="9684"></CodeLine>
<Link id="l09685" /><CodeLine lineNumber="9685"><span class="doxyHighlight">  std::pair&lt;unsigned, const TargetRegisterClass &#42;&gt; MatchRC =</span></CodeLine>
<Link id="l09686" /><CodeLine lineNumber="9686"><span class="doxyHighlight">      TLI.<a href="/docs/api/classes/llvm/targetlowering/#af09507c47dcb4cdb2a13064aaa6d5243">getRegForInlineAsmConstraint</a>(<a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>, OpInfo.ConstraintCode,</span></CodeLine>
<Link id="l09687" /><CodeLine lineNumber="9687"><span class="doxyHighlight">                                       OpInfo.ConstraintVT);</span></CodeLine>
<Link id="l09688" /><CodeLine lineNumber="9688"><span class="doxyHighlight">  std::pair&lt;unsigned, const TargetRegisterClass &#42;&gt; InputRC =</span></CodeLine>
<Link id="l09689" /><CodeLine lineNumber="9689"><span class="doxyHighlight">      TLI.<a href="/docs/api/classes/llvm/targetlowering/#af09507c47dcb4cdb2a13064aaa6d5243">getRegForInlineAsmConstraint</a>(<a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>, MatchingOpInfo.ConstraintCode,</span></CodeLine>
<Link id="l09690" /><CodeLine lineNumber="9690"><span class="doxyHighlight">                                       MatchingOpInfo.ConstraintVT);</span></CodeLine>
<Link id="l09691" /><CodeLine lineNumber="9691"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> OutOpIsIntOrFP =</span></CodeLine>
<Link id="l09692" /><CodeLine lineNumber="9692"><span class="doxyHighlight">      OpInfo.ConstraintVT.isInteger() || OpInfo.ConstraintVT.isFloatingPoint();</span></CodeLine>
<Link id="l09693" /><CodeLine lineNumber="9693"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> InOpIsIntOrFP = MatchingOpInfo.ConstraintVT.isInteger() ||</span></CodeLine>
<Link id="l09694" /><CodeLine lineNumber="9694"><span class="doxyHighlight">                             MatchingOpInfo.ConstraintVT.isFloatingPoint();</span></CodeLine>
<Link id="l09695" /><CodeLine lineNumber="9695"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> ((OutOpIsIntOrFP != InOpIsIntOrFP) || (MatchRC.second != InputRC.second)) &#123;</span></CodeLine>
<Link id="l09696" /><CodeLine lineNumber="9696"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// FIXME: error out in a more elegant fashion</span></CodeLine>
<Link id="l09697" /><CodeLine lineNumber="9697"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/#a7f2a3d4dcfee70225988aec53ff1e173">report&#95;fatal&#95;error</a>(</span><span class="doxyHighlightStringLiteral">&quot;Unsupported asm: input constraint&quot;</span></CodeLine>
<Link id="l09698" /><CodeLine lineNumber="9698"><span class="doxyHighlight">                       </span><span class="doxyHighlightStringLiteral">&quot; with a matching output constraint of&quot;</span></CodeLine>
<Link id="l09699" /><CodeLine lineNumber="9699"><span class="doxyHighlight">                       </span><span class="doxyHighlightStringLiteral">&quot; incompatible type!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l09700" /><CodeLine lineNumber="9700"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l09701" /><CodeLine lineNumber="9701"><span class="doxyHighlight">  MatchingOpInfo.ConstraintVT = OpInfo.ConstraintVT;</span></CodeLine>
<Link id="l09702" /><CodeLine lineNumber="9702"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l09703" /><CodeLine lineNumber="9703"></CodeLine>
<Link id="l09704" /><CodeLine lineNumber="9704"><span class="doxyHighlightComment">/// Get a direct memory input to behave well as an indirect operand.</span></CodeLine>
<Link id="l09705" /><CodeLine lineNumber="9705"><span class="doxyHighlightComment">/// This may introduce stores, hence the need for a \\p Chain.</span></CodeLine>
<Link id="l09706" /><CodeLine lineNumber="9706"><span class="doxyHighlightComment">/// \\return The (possibly updated) chain.</span></CodeLine>
<Link id="l09707" /><CodeLine lineNumber="9707" lineLink="#a94b8d8925deffd735f51d36b77d3f9ca"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="#a94b8d8925deffd735f51d36b77d3f9ca">getAddressForMemoryInput</a>(<a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Chain, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> &amp;Location,</span></CodeLine>
<Link id="l09708" /><CodeLine lineNumber="9708"><span class="doxyHighlight">                                        SDISelAsmOperandInfo &amp;OpInfo,</span></CodeLine>
<Link id="l09709" /><CodeLine lineNumber="9709"><span class="doxyHighlight">                                        <a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp;DAG) &#123;</span></CodeLine>
<Link id="l09710" /><CodeLine lineNumber="9710"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetlowering">TargetLowering</a> &amp;TLI = DAG.<a href="/docs/api/classes/llvm/selectiondag/#a4c20c587f89ae2926f9e8a99093e8419">getTargetLoweringInfo</a>();</span></CodeLine>
<Link id="l09711" /><CodeLine lineNumber="9711"></CodeLine>
<Link id="l09712" /><CodeLine lineNumber="9712"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// If we don&#39;t have an indirect input, put it in the constpool if we can,</span></CodeLine>
<Link id="l09713" /><CodeLine lineNumber="9713"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// otherwise spill it to a stack slot.</span></CodeLine>
<Link id="l09714" /><CodeLine lineNumber="9714"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// TODO: This isn&#39;t quite right. We need to handle these according to</span></CodeLine>
<Link id="l09715" /><CodeLine lineNumber="9715"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// the addressing mode that the constraint wants. Also, this may take</span></CodeLine>
<Link id="l09716" /><CodeLine lineNumber="9716"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// an additional register for the computation and we don&#39;t want that</span></CodeLine>
<Link id="l09717" /><CodeLine lineNumber="9717"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// either.</span></CodeLine>
<Link id="l09718" /><CodeLine lineNumber="9718"></CodeLine>
<Link id="l09719" /><CodeLine lineNumber="9719"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// If the operand is a float, integer, or vector constant, spill to a</span></CodeLine>
<Link id="l09720" /><CodeLine lineNumber="9720"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// constant pool entry to get its address.</span></CodeLine>
<Link id="l09721" /><CodeLine lineNumber="9721"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/value">Value</a> &#42;OpVal = OpInfo.CallOperandVal;</span></CodeLine>
<Link id="l09722" /><CodeLine lineNumber="9722"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;ConstantFP&gt;</a>(OpVal) || <a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;ConstantInt&gt;</a>(OpVal) ||</span></CodeLine>
<Link id="l09723" /><CodeLine lineNumber="9723"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;ConstantVector&gt;</a>(OpVal) || <a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;ConstantDataVector&gt;</a>(OpVal)) &#123;</span></CodeLine>
<Link id="l09724" /><CodeLine lineNumber="9724"><span class="doxyHighlight">    OpInfo.CallOperand = DAG.<a href="/docs/api/classes/llvm/selectiondag/#a22c327ddfcb98f911f3197180981f41e">getConstantPool</a>(</span></CodeLine>
<Link id="l09725" /><CodeLine lineNumber="9725"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;Constant&gt;</a>(OpVal), TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(DAG.<a href="/docs/api/classes/llvm/selectiondag/#a6b442ac8a9fc6147b95ccfb2c3322121">getDataLayout</a>()));</span></CodeLine>
<Link id="l09726" /><CodeLine lineNumber="9726"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> Chain;</span></CodeLine>
<Link id="l09727" /><CodeLine lineNumber="9727"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l09728" /><CodeLine lineNumber="9728"></CodeLine>
<Link id="l09729" /><CodeLine lineNumber="9729"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Otherwise, create a stack slot and emit a store to it before the asm.</span></CodeLine>
<Link id="l09730" /><CodeLine lineNumber="9730"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/type">Type</a> &#42;Ty = OpVal-&gt;<a href="/docs/api/classes/llvm/value/#a0344a49526443edf90cc0aef3abd3337">getType</a>();</span></CodeLine>
<Link id="l09731" /><CodeLine lineNumber="9731"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a> = DAG.<a href="/docs/api/classes/llvm/selectiondag/#a6b442ac8a9fc6147b95ccfb2c3322121">getDataLayout</a>();</span></CodeLine>
<Link id="l09732" /><CodeLine lineNumber="9732"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/typesize">TypeSize</a> TySize = <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getTypeAllocSize(Ty);</span></CodeLine>
<Link id="l09733" /><CodeLine lineNumber="9733"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/machinefunction">MachineFunction</a> &amp;MF = DAG.<a href="/docs/api/classes/llvm/selectiondag/#ac64ec73b0617befef1fb2eae78d12b5f">getMachineFunction</a>();</span></CodeLine>
<Link id="l09734" /><CodeLine lineNumber="9734"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetframelowering">TargetFrameLowering</a> &#42;TFI = MF.<a href="/docs/api/classes/llvm/machinefunction/#a3825368aca2bc1550d173660df4da6a6">getSubtarget</a>().<a href="/docs/api/classes/llvm/targetsubtargetinfo/#ac83b44e69c9f9f4f9d60be2d72f4a5df">getFrameLowering</a>();</span></CodeLine>
<Link id="l09735" /><CodeLine lineNumber="9735"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">int</span><span class="doxyHighlight"> StackID = 0;</span></CodeLine>
<Link id="l09736" /><CodeLine lineNumber="9736"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (TySize.<a href="/docs/api/classes/llvm/details/fixedorscalablequantity/#a9188f84e1dd67530330dcab9cae787d7">isScalable</a>())</span></CodeLine>
<Link id="l09737" /><CodeLine lineNumber="9737"><span class="doxyHighlight">    StackID = TFI-&gt;<a href="/docs/api/classes/llvm/targetframelowering/#a5fea26e6022c2ee4c4e5a9c74d6dbbb3">getStackIDForScalableVectors</a>();</span></CodeLine>
<Link id="l09738" /><CodeLine lineNumber="9738"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">int</span><span class="doxyHighlight"> SSFI = MF.<a href="/docs/api/classes/llvm/machinefunction/#a54f334a9c8ca6d105eae383ae87e4524">getFrameInfo</a>().<a href="/docs/api/classes/llvm/machineframeinfo/#a1ae307f415a8989475e3f7ddd6eefc8b">CreateStackObject</a>(TySize.<a href="/docs/api/classes/llvm/details/fixedorscalablequantity/#ac4ab9dd9440c55bee1aa4a1195cee759">getKnownMinValue</a>(),</span></CodeLine>
<Link id="l09739" /><CodeLine lineNumber="9739"><span class="doxyHighlight">                                                 <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getPrefTypeAlign(Ty), </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">,</span></CodeLine>
<Link id="l09740" /><CodeLine lineNumber="9740"><span class="doxyHighlight">                                                 </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">, StackID);</span></CodeLine>
<Link id="l09741" /><CodeLine lineNumber="9741"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> StackSlot = DAG.<a href="/docs/api/classes/llvm/selectiondag/#acb59cbd8f4a8c1cf820b2b540aebdac1">getFrameIndex</a>(SSFI, TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#aeff3faad50d459c3f486bb4ac76789af">getFrameIndexTy</a>(<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>));</span></CodeLine>
<Link id="l09742" /><CodeLine lineNumber="9742"><span class="doxyHighlight">  Chain = DAG.<a href="/docs/api/classes/llvm/selectiondag/#a8063c77c39146c0790e66f5e0679475c">getTruncStore</a>(Chain, Location, OpInfo.CallOperand, StackSlot,</span></CodeLine>
<Link id="l09743" /><CodeLine lineNumber="9743"><span class="doxyHighlight">                            <a href="/docs/api/structs/llvm/machinepointerinfo/#ad8ce1aee13dbdcc05d20284a30e83170">MachinePointerInfo::getFixedStack</a>(MF, SSFI),</span></CodeLine>
<Link id="l09744" /><CodeLine lineNumber="9744"><span class="doxyHighlight">                            TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a02b5aaf4357ae931647439e312a034bc">getMemValueType</a>(<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Ty));</span></CodeLine>
<Link id="l09745" /><CodeLine lineNumber="9745"><span class="doxyHighlight">  OpInfo.CallOperand = StackSlot;</span></CodeLine>
<Link id="l09746" /><CodeLine lineNumber="9746"></CodeLine>
<Link id="l09747" /><CodeLine lineNumber="9747"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> Chain;</span></CodeLine>
<Link id="l09748" /><CodeLine lineNumber="9748"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l09749" /><CodeLine lineNumber="9749"></CodeLine>
<Link id="l09750" /><CodeLine lineNumber="9750"><span class="doxyHighlightComment">/// GetRegistersForValue - Assign registers (virtual or physical) for the</span></CodeLine>
<Link id="l09751" /><CodeLine lineNumber="9751"><span class="doxyHighlightComment">/// specified operand.  We prefer to assign virtual registers, to allow the</span></CodeLine>
<Link id="l09752" /><CodeLine lineNumber="9752"><span class="doxyHighlightComment">/// register allocator to handle the assignment process.  However, if the asm</span></CodeLine>
<Link id="l09753" /><CodeLine lineNumber="9753"><span class="doxyHighlightComment">/// uses features that we can&#39;t model on machineinstrs, we have SDISel do the</span></CodeLine>
<Link id="l09754" /><CodeLine lineNumber="9754"><span class="doxyHighlightComment">/// allocation.  This produces generally horrible, but correct, code.</span></CodeLine>
<Link id="l09755" /><CodeLine lineNumber="9755"><span class="doxyHighlightComment">///</span></CodeLine>
<Link id="l09756" /><CodeLine lineNumber="9756"><span class="doxyHighlightComment">///   OpInfo describes the operand</span></CodeLine>
<Link id="l09757" /><CodeLine lineNumber="9757"><span class="doxyHighlightComment">///   RefOpInfo describes the matching operand if any, the operand otherwise</span></CodeLine>
<Link id="l09758" /><CodeLine lineNumber="9758"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> std::optional&lt;unsigned&gt;</span></CodeLine>
<Link id="l09759" /><CodeLine lineNumber="9759" lineLink="#aa2b5a0a0f6bf1b5480337a01257df8b6"><span class="doxyHighlight"><a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/inlineasmlowering-cpp/#a43762e6a22fd0e7b98b8115946fc87b6">getRegistersForValue</a>(<a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp;DAG, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> &amp;<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</span></CodeLine>
<Link id="l09760" /><CodeLine lineNumber="9760"><span class="doxyHighlight">                     SDISelAsmOperandInfo &amp;OpInfo,</span></CodeLine>
<Link id="l09761" /><CodeLine lineNumber="9761"><span class="doxyHighlight">                     SDISelAsmOperandInfo &amp;RefOpInfo) &#123;</span></CodeLine>
<Link id="l09762" /><CodeLine lineNumber="9762"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/llvmcontext">LLVMContext</a> &amp;Context = &#42;DAG.<a href="/docs/api/classes/llvm/selectiondag/#adecf615928faed0c8a082ffdb65dfea0">getContext</a>();</span></CodeLine>
<Link id="l09763" /><CodeLine lineNumber="9763"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetlowering">TargetLowering</a> &amp;TLI = DAG.<a href="/docs/api/classes/llvm/selectiondag/#a4c20c587f89ae2926f9e8a99093e8419">getTargetLoweringInfo</a>();</span></CodeLine>
<Link id="l09764" /><CodeLine lineNumber="9764"></CodeLine>
<Link id="l09765" /><CodeLine lineNumber="9765"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/machinefunction">MachineFunction</a> &amp;MF = DAG.<a href="/docs/api/classes/llvm/selectiondag/#ac64ec73b0617befef1fb2eae78d12b5f">getMachineFunction</a>();</span></CodeLine>
<Link id="l09766" /><CodeLine lineNumber="9766"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/smallvector">SmallVector&lt;Register, 4&gt;</a> Regs;</span></CodeLine>
<Link id="l09767" /><CodeLine lineNumber="9767"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetregisterinfo">TargetRegisterInfo</a> &amp;<a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = &#42;MF.<a href="/docs/api/classes/llvm/machinefunction/#a3825368aca2bc1550d173660df4da6a6">getSubtarget</a>().<a href="/docs/api/classes/llvm/targetsubtargetinfo/#a43c530c830206ecf5ad3359364634c75">getRegisterInfo</a>();</span></CodeLine>
<Link id="l09768" /><CodeLine lineNumber="9768"></CodeLine>
<Link id="l09769" /><CodeLine lineNumber="9769"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// No work to do for memory/address operands.</span></CodeLine>
<Link id="l09770" /><CodeLine lineNumber="9770"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (OpInfo.ConstraintType == <a href="/docs/api/classes/llvm/targetlowering/#a0b0176781cd4fd9f45cc739f1d007116a420d729d2e7d056ec884c094ccdc4467">TargetLowering::C&#95;Memory</a> ||</span></CodeLine>
<Link id="l09771" /><CodeLine lineNumber="9771"><span class="doxyHighlight">      OpInfo.ConstraintType == <a href="/docs/api/classes/llvm/targetlowering/#a0b0176781cd4fd9f45cc739f1d007116abd588753884964e239e61d80ebc2f039">TargetLowering::C&#95;Address</a>)</span></CodeLine>
<Link id="l09772" /><CodeLine lineNumber="9772"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> std::nullopt;</span></CodeLine>
<Link id="l09773" /><CodeLine lineNumber="9773"></CodeLine>
<Link id="l09774" /><CodeLine lineNumber="9774"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// If this is a constraint for a single physreg, or a constraint for a</span></CodeLine>
<Link id="l09775" /><CodeLine lineNumber="9775"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// register class, find it.</span></CodeLine>
<Link id="l09776" /><CodeLine lineNumber="9776"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> AssignedReg;</span></CodeLine>
<Link id="l09777" /><CodeLine lineNumber="9777"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetregisterclass">TargetRegisterClass</a> &#42;RC;</span></CodeLine>
<Link id="l09778" /><CodeLine lineNumber="9778"><span class="doxyHighlight">  std::tie(AssignedReg, RC) = TLI.<a href="/docs/api/classes/llvm/targetlowering/#af09507c47dcb4cdb2a13064aaa6d5243">getRegForInlineAsmConstraint</a>(</span></CodeLine>
<Link id="l09779" /><CodeLine lineNumber="9779"><span class="doxyHighlight">      &amp;<a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>, RefOpInfo.ConstraintCode, RefOpInfo.ConstraintVT);</span></CodeLine>
<Link id="l09780" /><CodeLine lineNumber="9780"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// RC is unset only on failure. Return immediately.</span></CodeLine>
<Link id="l09781" /><CodeLine lineNumber="9781"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!RC)</span></CodeLine>
<Link id="l09782" /><CodeLine lineNumber="9782"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> std::nullopt;</span></CodeLine>
<Link id="l09783" /><CodeLine lineNumber="9783"></CodeLine>
<Link id="l09784" /><CodeLine lineNumber="9784"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Get the actual register value type.  This is important, because the user</span></CodeLine>
<Link id="l09785" /><CodeLine lineNumber="9785"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// may have asked for (e.g.) the AX register in i32 type.  We need to</span></CodeLine>
<Link id="l09786" /><CodeLine lineNumber="9786"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// remember that AX is actually i16 to get the right extension.</span></CodeLine>
<Link id="l09787" /><CodeLine lineNumber="9787"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/mvt">MVT</a> RegVT = &#42;<a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>.legalclasstypes&#95;begin(&#42;RC);</span></CodeLine>
<Link id="l09788" /><CodeLine lineNumber="9788"></CodeLine>
<Link id="l09789" /><CodeLine lineNumber="9789"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (OpInfo.ConstraintVT != MVT::Other &amp;&amp; RegVT != MVT::Untyped) &#123;</span></CodeLine>
<Link id="l09790" /><CodeLine lineNumber="9790"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// If this is an FP operand in an integer register (or visa versa), or more</span></CodeLine>
<Link id="l09791" /><CodeLine lineNumber="9791"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// generally if the operand value disagrees with the register class we plan</span></CodeLine>
<Link id="l09792" /><CodeLine lineNumber="9792"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// to stick it in, fix the operand type.</span></CodeLine>
<Link id="l09793" /><CodeLine lineNumber="9793"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l09794" /><CodeLine lineNumber="9794"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// If this is an input value, the bitcast to the new type is done now.</span></CodeLine>
<Link id="l09795" /><CodeLine lineNumber="9795"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Bitcast for output value is done at the end of visitInlineAsm().</span></CodeLine>
<Link id="l09796" /><CodeLine lineNumber="9796"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> ((OpInfo.Type == <a href="/docs/api/classes/llvm/inlineasm/#a511f48809ad14f13e50b957a137a9d34aabfa616f81b4833fdf462b07aabfa53f">InlineAsm::isOutput</a> ||</span></CodeLine>
<Link id="l09797" /><CodeLine lineNumber="9797"><span class="doxyHighlight">         OpInfo.Type == <a href="/docs/api/classes/llvm/inlineasm/#a511f48809ad14f13e50b957a137a9d34a79ca3881430605a6c7da5227cfb115d6">InlineAsm::isInput</a>) &amp;&amp;</span></CodeLine>
<Link id="l09798" /><CodeLine lineNumber="9798"><span class="doxyHighlight">        !<a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>.isTypeLegalForClass(&#42;RC, OpInfo.ConstraintVT)) &#123;</span></CodeLine>
<Link id="l09799" /><CodeLine lineNumber="9799"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Try to convert to the first EVT that the reg class contains.  If the</span></CodeLine>
<Link id="l09800" /><CodeLine lineNumber="9800"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// types are identical size, use a bitcast to convert (e.g. two differing</span></CodeLine>
<Link id="l09801" /><CodeLine lineNumber="9801"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// vector types).  Note: output bitcast is done at the end of</span></CodeLine>
<Link id="l09802" /><CodeLine lineNumber="9802"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// visitInlineAsm().</span></CodeLine>
<Link id="l09803" /><CodeLine lineNumber="9803"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (RegVT.<a href="/docs/api/classes/llvm/mvt/#a7be7c6dd92efc0d6f866d4a3b433eed0">getSizeInBits</a>() == OpInfo.ConstraintVT.getSizeInBits()) &#123;</span></CodeLine>
<Link id="l09804" /><CodeLine lineNumber="9804"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// Exclude indirect inputs while they are unsupported because the code</span></CodeLine>
<Link id="l09805" /><CodeLine lineNumber="9805"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// to perform the load is missing and thus OpInfo.CallOperand still</span></CodeLine>
<Link id="l09806" /><CodeLine lineNumber="9806"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// refers to the input address rather than the pointed-to value.</span></CodeLine>
<Link id="l09807" /><CodeLine lineNumber="9807"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (OpInfo.Type == <a href="/docs/api/classes/llvm/inlineasm/#a511f48809ad14f13e50b957a137a9d34a79ca3881430605a6c7da5227cfb115d6">InlineAsm::isInput</a> &amp;&amp; !OpInfo.isIndirect)</span></CodeLine>
<Link id="l09808" /><CodeLine lineNumber="9808"><span class="doxyHighlight">          OpInfo.CallOperand =</span></CodeLine>
<Link id="l09809" /><CodeLine lineNumber="9809"><span class="doxyHighlight">              DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::BITCAST, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, RegVT, OpInfo.CallOperand);</span></CodeLine>
<Link id="l09810" /><CodeLine lineNumber="9810"><span class="doxyHighlight">        OpInfo.ConstraintVT = RegVT;</span></CodeLine>
<Link id="l09811" /><CodeLine lineNumber="9811"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// If the operand is an FP value and we want it in integer registers,</span></CodeLine>
<Link id="l09812" /><CodeLine lineNumber="9812"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// use the corresponding integer type. This turns an f64 value into</span></CodeLine>
<Link id="l09813" /><CodeLine lineNumber="9813"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// i64, which can be passed with two i32 values on a 32-bit machine.</span></CodeLine>
<Link id="l09814" /><CodeLine lineNumber="9814"><span class="doxyHighlight">      &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (RegVT.<a href="/docs/api/classes/llvm/mvt/#a437cf7bc875369cbe0ea62f949626f0b">isInteger</a>() &amp;&amp; OpInfo.ConstraintVT.isFloatingPoint()) &#123;</span></CodeLine>
<Link id="l09815" /><CodeLine lineNumber="9815"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/mvt">MVT</a> VT = <a href="/docs/api/classes/llvm/mvt/#aded931e298cfa08b5038ca2b63c06bb8">MVT::getIntegerVT</a>(OpInfo.ConstraintVT.getSizeInBits());</span></CodeLine>
<Link id="l09816" /><CodeLine lineNumber="9816"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (OpInfo.Type == <a href="/docs/api/classes/llvm/inlineasm/#a511f48809ad14f13e50b957a137a9d34a79ca3881430605a6c7da5227cfb115d6">InlineAsm::isInput</a>)</span></CodeLine>
<Link id="l09817" /><CodeLine lineNumber="9817"><span class="doxyHighlight">          OpInfo.CallOperand =</span></CodeLine>
<Link id="l09818" /><CodeLine lineNumber="9818"><span class="doxyHighlight">              DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(ISD::BITCAST, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, OpInfo.CallOperand);</span></CodeLine>
<Link id="l09819" /><CodeLine lineNumber="9819"><span class="doxyHighlight">        OpInfo.ConstraintVT = VT;</span></CodeLine>
<Link id="l09820" /><CodeLine lineNumber="9820"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l09821" /><CodeLine lineNumber="9821"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l09822" /><CodeLine lineNumber="9822"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l09823" /><CodeLine lineNumber="9823"></CodeLine>
<Link id="l09824" /><CodeLine lineNumber="9824"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// No need to allocate a matching input constraint since the constraint it&#39;s</span></CodeLine>
<Link id="l09825" /><CodeLine lineNumber="9825"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// matching to has already been allocated.</span></CodeLine>
<Link id="l09826" /><CodeLine lineNumber="9826"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (OpInfo.isMatchingInputConstraint())</span></CodeLine>
<Link id="l09827" /><CodeLine lineNumber="9827"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> std::nullopt;</span></CodeLine>
<Link id="l09828" /><CodeLine lineNumber="9828"></CodeLine>
<Link id="l09829" /><CodeLine lineNumber="9829"><span class="doxyHighlight">  <a href="/docs/api/structs/llvm/evt">EVT</a> ValueVT = OpInfo.ConstraintVT;</span></CodeLine>
<Link id="l09830" /><CodeLine lineNumber="9830"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (OpInfo.ConstraintVT == MVT::Other)</span></CodeLine>
<Link id="l09831" /><CodeLine lineNumber="9831"><span class="doxyHighlight">    ValueVT = RegVT;</span></CodeLine>
<Link id="l09832" /><CodeLine lineNumber="9832"></CodeLine>
<Link id="l09833" /><CodeLine lineNumber="9833"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Initialize NumRegs.</span></CodeLine>
<Link id="l09834" /><CodeLine lineNumber="9834"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumRegs = 1;</span></CodeLine>
<Link id="l09835" /><CodeLine lineNumber="9835"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (OpInfo.ConstraintVT != MVT::Other)</span></CodeLine>
<Link id="l09836" /><CodeLine lineNumber="9836"><span class="doxyHighlight">    NumRegs = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a42bf7ed3daec395fe644414494888bc6">getNumRegisters</a>(Context, OpInfo.ConstraintVT, RegVT);</span></CodeLine>
<Link id="l09837" /><CodeLine lineNumber="9837"></CodeLine>
<Link id="l09838" /><CodeLine lineNumber="9838"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// If this is a constraint for a specific physical register, like &#123;r17&#125;,</span></CodeLine>
<Link id="l09839" /><CodeLine lineNumber="9839"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// assign it now.</span></CodeLine>
<Link id="l09840" /><CodeLine lineNumber="9840"></CodeLine>
<Link id="l09841" /><CodeLine lineNumber="9841"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// If this associated to a specific register, initialize iterator to correct</span></CodeLine>
<Link id="l09842" /><CodeLine lineNumber="9842"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// place. If virtual, make sure we have enough registers</span></CodeLine>
<Link id="l09843" /><CodeLine lineNumber="9843"></CodeLine>
<Link id="l09844" /><CodeLine lineNumber="9844"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Initialize iterator if necessary</span></CodeLine>
<Link id="l09845" /><CodeLine lineNumber="9845"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/targetregisterclass/#a54bad443892b02e3fc9ebd886e4e0110">TargetRegisterClass::iterator</a> <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a> = RC-&gt;<a href="/docs/api/classes/llvm/targetregisterclass/#ae39f39f7451b8556a479efc27ad2a149">begin</a>();</span></CodeLine>
<Link id="l09846" /><CodeLine lineNumber="9846"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/machineregisterinfo">MachineRegisterInfo</a> &amp;<a href="/docs/api/structs/reginfo">RegInfo</a> = MF.<a href="/docs/api/classes/llvm/machinefunction/#a810234b6b3d223b7c74a4253fcc5ea5e">getRegInfo</a>();</span></CodeLine>
<Link id="l09847" /><CodeLine lineNumber="9847"></CodeLine>
<Link id="l09848" /><CodeLine lineNumber="9848"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Do not check for single registers.</span></CodeLine>
<Link id="l09849" /><CodeLine lineNumber="9849"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (AssignedReg) &#123;</span></CodeLine>
<Link id="l09850" /><CodeLine lineNumber="9850"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a> = std::find(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, RC-&gt;<a href="/docs/api/classes/llvm/targetregisterclass/#a881bc79908403b2d42dc1c4377e5cbb6">end</a>(), AssignedReg);</span></CodeLine>
<Link id="l09851" /><CodeLine lineNumber="9851"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a> == RC-&gt;<a href="/docs/api/classes/llvm/targetregisterclass/#a881bc79908403b2d42dc1c4377e5cbb6">end</a>()) &#123;</span></CodeLine>
<Link id="l09852" /><CodeLine lineNumber="9852"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// RC does not contain the selected register, which indicates a</span></CodeLine>
<Link id="l09853" /><CodeLine lineNumber="9853"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// mismatch between the register and the required type/bitwidth.</span></CodeLine>
<Link id="l09854" /><CodeLine lineNumber="9854"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> &#123;AssignedReg&#125;;</span></CodeLine>
<Link id="l09855" /><CodeLine lineNumber="9855"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l09856" /><CodeLine lineNumber="9856"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l09857" /><CodeLine lineNumber="9857"></CodeLine>
<Link id="l09858" /><CodeLine lineNumber="9858"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (; NumRegs; --NumRegs, ++<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l09859" /><CodeLine lineNumber="9859"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a> != RC-&gt;<a href="/docs/api/classes/llvm/targetregisterclass/#a881bc79908403b2d42dc1c4377e5cbb6">end</a>() &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Ran out of registers to allocate!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l09860" /><CodeLine lineNumber="9860"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/register">Register</a> R = AssignedReg ? <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/mem2reg-cpp/#a6fde3eb6ca09ddf2fd76432176d817bb">Register</a>(&#42;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) : <a href="/docs/api/structs/reginfo">RegInfo</a>.createVirtualRegister(RC);</span></CodeLine>
<Link id="l09861" /><CodeLine lineNumber="9861"><span class="doxyHighlight">    Regs.<a href="/docs/api/classes/llvm/smallvectortemplatebase/#af42bfbc067df27c19ee2fc859df58799">push&#95;back</a>(R);</span></CodeLine>
<Link id="l09862" /><CodeLine lineNumber="9862"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l09863" /><CodeLine lineNumber="9863"></CodeLine>
<Link id="l09864" /><CodeLine lineNumber="9864"><span class="doxyHighlight">  OpInfo.AssignedRegs = <a href="/docs/api/structs/llvm/regsforvalue">RegsForValue</a>(Regs, RegVT, ValueVT);</span></CodeLine>
<Link id="l09865" /><CodeLine lineNumber="9865"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> std::nullopt;</span></CodeLine>
<Link id="l09866" /><CodeLine lineNumber="9866"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l09867" /><CodeLine lineNumber="9867"></CodeLine>
<Link id="l09868" /><CodeLine lineNumber="9868"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordType">unsigned</span></CodeLine>
<Link id="l09869" /><CodeLine lineNumber="9869" lineLink="#a56df539ec704429b22fbfbe90cb7941e"><span class="doxyHighlight"><a href="#a56df539ec704429b22fbfbe90cb7941e">findMatchingInlineAsmOperand</a>(</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> OperandNo,</span></CodeLine>
<Link id="l09870" /><CodeLine lineNumber="9870"><span class="doxyHighlight">                             </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> std::vector&lt;SDValue&gt; &amp;AsmNodeOperands) &#123;</span></CodeLine>
<Link id="l09871" /><CodeLine lineNumber="9871"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Scan until we find the definition we already emitted of this operand.</span></CodeLine>
<Link id="l09872" /><CodeLine lineNumber="9872"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> CurOp = <a href="/docs/api/classes/llvm/inlineasm/#af263df97504e0800bba5e552246b7370afed51603ce2d64ec9af92ff0154913ca">InlineAsm::Op&#95;FirstOperand</a>;</span></CodeLine>
<Link id="l09873" /><CodeLine lineNumber="9873"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (; OperandNo; --OperandNo) &#123;</span></CodeLine>
<Link id="l09874" /><CodeLine lineNumber="9874"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Advance to the next operand.</span></CodeLine>
<Link id="l09875" /><CodeLine lineNumber="9875"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> OpFlag = AsmNodeOperands&#91;CurOp&#93;-&gt;getAsZExtVal();</span></CodeLine>
<Link id="l09876" /><CodeLine lineNumber="9876"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/inlineasm/flag">InlineAsm::Flag</a> <a href="/docs/api/files/lib/lib/support/md5-cpp/#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>(OpFlag);</span></CodeLine>
<Link id="l09877" /><CodeLine lineNumber="9877"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(</span></CodeLine>
<Link id="l09878" /><CodeLine lineNumber="9878"><span class="doxyHighlight">        (<a href="/docs/api/files/lib/lib/support/md5-cpp/#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.isRegDefKind() || <a href="/docs/api/files/lib/lib/support/md5-cpp/#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.isRegDefEarlyClobberKind() || <a href="/docs/api/files/lib/lib/support/md5-cpp/#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.isMemKind()) &amp;&amp;</span></CodeLine>
<Link id="l09879" /><CodeLine lineNumber="9879"><span class="doxyHighlight">        </span><span class="doxyHighlightStringLiteral">&quot;Skipped past definitions?&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l09880" /><CodeLine lineNumber="9880"><span class="doxyHighlight">    CurOp += <a href="/docs/api/files/lib/lib/support/md5-cpp/#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getNumOperandRegisters() + 1;</span></CodeLine>
<Link id="l09881" /><CodeLine lineNumber="9881"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l09882" /><CodeLine lineNumber="9882"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> CurOp;</span></CodeLine>
<Link id="l09883" /><CodeLine lineNumber="9883"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l09884" /><CodeLine lineNumber="9884"></CodeLine>
<Link id="l09885" /><CodeLine lineNumber="9885"><span class="doxyHighlightKeyword">namespace </span><span class="doxyHighlight">&#123;</span></CodeLine>
<Link id="l09886" /><CodeLine lineNumber="9886"></CodeLine>
<Link id="l09887" /><CodeLine lineNumber="9887" lineLink="/docs/api/classes/anonymous-namespace-selectiondagbuilder-cpp-/extraflags"><span class="doxyHighlightKeyword">class </span><span class="doxyHighlight"><a href="/docs/api/classes/anonymous-namespace-selectiondagbuilder-cpp-/extraflags/#aef2040c47343a854227199a12627c315">ExtraFlags</a> &#123;</span></CodeLine>
<Link id="l09888" /><CodeLine lineNumber="9888"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> Flags = 0;</span></CodeLine>
<Link id="l09889" /><CodeLine lineNumber="9889"></CodeLine>
<Link id="l09890" /><CodeLine lineNumber="9890"><span class="doxyHighlightKeyword">public</span><span class="doxyHighlight">:</span></CodeLine>
<Link id="l09891" /><CodeLine lineNumber="9891" lineLink="/docs/api/classes/anonymous-namespace-selectiondagbuilder-cpp-/extraflags/#aef2040c47343a854227199a12627c315"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">explicit</span><span class="doxyHighlight"> <a href="/docs/api/classes/anonymous-namespace-selectiondagbuilder-cpp-/extraflags/#aef2040c47343a854227199a12627c315">ExtraFlags</a>(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/callbase">CallBase</a> &amp;<a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>) &#123;</span></CodeLine>
<Link id="l09892" /><CodeLine lineNumber="9892"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/inlineasm">InlineAsm</a> &#42;IA = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;InlineAsm&gt;</a>(<a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>.getCalledOperand());</span></CodeLine>
<Link id="l09893" /><CodeLine lineNumber="9893"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (IA-&gt;hasSideEffects())</span></CodeLine>
<Link id="l09894" /><CodeLine lineNumber="9894"><span class="doxyHighlight">      Flags |= <a href="/docs/api/classes/llvm/inlineasm/#af263df97504e0800bba5e552246b7370a68a61079919e61d3af1002124c2f1ff9">InlineAsm::Extra&#95;HasSideEffects</a>;</span></CodeLine>
<Link id="l09895" /><CodeLine lineNumber="9895"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (IA-&gt;isAlignStack())</span></CodeLine>
<Link id="l09896" /><CodeLine lineNumber="9896"><span class="doxyHighlight">      Flags |= <a href="/docs/api/classes/llvm/inlineasm/#af263df97504e0800bba5e552246b7370ada6152484586a08fa711d4b0d44c87e5">InlineAsm::Extra&#95;IsAlignStack</a>;</span></CodeLine>
<Link id="l09897" /><CodeLine lineNumber="9897"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>.isConvergent())</span></CodeLine>
<Link id="l09898" /><CodeLine lineNumber="9898"><span class="doxyHighlight">      Flags |= <a href="/docs/api/classes/llvm/inlineasm/#af263df97504e0800bba5e552246b7370a9921f5d5868939f49675e7fe34d1be70">InlineAsm::Extra&#95;IsConvergent</a>;</span></CodeLine>
<Link id="l09899" /><CodeLine lineNumber="9899"><span class="doxyHighlight">    Flags |= IA-&gt;getDialect() &#42; <a href="/docs/api/classes/llvm/inlineasm/#af263df97504e0800bba5e552246b7370abff974c258dde829c1c6b6f32667be3a">InlineAsm::Extra&#95;AsmDialect</a>;</span></CodeLine>
<Link id="l09900" /><CodeLine lineNumber="9900"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l09901" /><CodeLine lineNumber="9901"></CodeLine>
<Link id="l09902" /><CodeLine lineNumber="9902" lineLink="/docs/api/classes/anonymous-namespace-selectiondagbuilder-cpp-/extraflags/#a14c641b435afd6763e590e9c5900dcc7"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/classes/anonymous-namespace-selectiondagbuilder-cpp-/extraflags/#a14c641b435afd6763e590e9c5900dcc7">update</a>(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> TargetLowering::AsmOperandInfo &amp;OpInfo) &#123;</span></CodeLine>
<Link id="l09903" /><CodeLine lineNumber="9903"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Ideally, we would only check against memory constraints.  However, the</span></CodeLine>
<Link id="l09904" /><CodeLine lineNumber="9904"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// meaning of an Other constraint can be target-specific and we can&#39;t easily</span></CodeLine>
<Link id="l09905" /><CodeLine lineNumber="9905"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// reason about it.  Therefore, be conservative and set MayLoad/MayStore</span></CodeLine>
<Link id="l09906" /><CodeLine lineNumber="9906"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// for Other constraints as well.</span></CodeLine>
<Link id="l09907" /><CodeLine lineNumber="9907"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (OpInfo.ConstraintType == <a href="/docs/api/classes/llvm/targetlowering/#a0b0176781cd4fd9f45cc739f1d007116a420d729d2e7d056ec884c094ccdc4467">TargetLowering::C&#95;Memory</a> ||</span></CodeLine>
<Link id="l09908" /><CodeLine lineNumber="9908"><span class="doxyHighlight">        OpInfo.ConstraintType == <a href="/docs/api/classes/llvm/targetlowering/#a0b0176781cd4fd9f45cc739f1d007116abc9c279d343d2f957ab51b37ff39e88e">TargetLowering::C&#95;Other</a>) &#123;</span></CodeLine>
<Link id="l09909" /><CodeLine lineNumber="9909"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (OpInfo.Type == <a href="/docs/api/classes/llvm/inlineasm/#a511f48809ad14f13e50b957a137a9d34a79ca3881430605a6c7da5227cfb115d6">InlineAsm::isInput</a>)</span></CodeLine>
<Link id="l09910" /><CodeLine lineNumber="9910"><span class="doxyHighlight">        Flags |= <a href="/docs/api/classes/llvm/inlineasm/#af263df97504e0800bba5e552246b7370aa21b27c3cc4550dcd3ff599dbe76d0c3">InlineAsm::Extra&#95;MayLoad</a>;</span></CodeLine>
<Link id="l09911" /><CodeLine lineNumber="9911"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (OpInfo.Type == <a href="/docs/api/classes/llvm/inlineasm/#a511f48809ad14f13e50b957a137a9d34aabfa616f81b4833fdf462b07aabfa53f">InlineAsm::isOutput</a>)</span></CodeLine>
<Link id="l09912" /><CodeLine lineNumber="9912"><span class="doxyHighlight">        Flags |= <a href="/docs/api/classes/llvm/inlineasm/#af263df97504e0800bba5e552246b7370ab01e1dce8dabbbb3d14ed5f34c366008">InlineAsm::Extra&#95;MayStore</a>;</span></CodeLine>
<Link id="l09913" /><CodeLine lineNumber="9913"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (OpInfo.Type == <a href="/docs/api/classes/llvm/inlineasm/#a511f48809ad14f13e50b957a137a9d34adf39e7f7e158f2ccacae6d4446197322">InlineAsm::isClobber</a>)</span></CodeLine>
<Link id="l09914" /><CodeLine lineNumber="9914"><span class="doxyHighlight">        Flags |= (<a href="/docs/api/classes/llvm/inlineasm/#af263df97504e0800bba5e552246b7370aa21b27c3cc4550dcd3ff599dbe76d0c3">InlineAsm::Extra&#95;MayLoad</a> | <a href="/docs/api/classes/llvm/inlineasm/#af263df97504e0800bba5e552246b7370ab01e1dce8dabbbb3d14ed5f34c366008">InlineAsm::Extra&#95;MayStore</a>);</span></CodeLine>
<Link id="l09915" /><CodeLine lineNumber="9915"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l09916" /><CodeLine lineNumber="9916"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l09917" /><CodeLine lineNumber="9917"></CodeLine>
<Link id="l09918" /><CodeLine lineNumber="9918" lineLink="/docs/api/classes/anonymous-namespace-selectiondagbuilder-cpp-/extraflags/#af73455dcdcca95378d2b69823c42886e"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> <a href="/docs/api/classes/anonymous-namespace-selectiondagbuilder-cpp-/extraflags/#af73455dcdcca95378d2b69823c42886e">get</a>()</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123; </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> Flags; &#125;</span></CodeLine>
<Link id="l09919" /><CodeLine lineNumber="9919"><span class="doxyHighlight">&#125;;</span></CodeLine>
<Link id="l09920" /><CodeLine lineNumber="9920"></CodeLine>
<Link id="l09921" /><CodeLine lineNumber="9921"><span class="doxyHighlight">&#125; </span><span class="doxyHighlightComment">// end anonymous namespace</span></CodeLine>
<Link id="l09922" /><CodeLine lineNumber="9922"></CodeLine>
<Link id="l09923" /><CodeLine lineNumber="9923" lineLink="#aa5423d2fba2a995d71e3294b14a19bbc"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="#aa5423d2fba2a995d71e3294b14a19bbc">isFunction</a>(<a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>) &#123;</span></CodeLine>
<Link id="l09924" /><CodeLine lineNumber="9924"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a> &amp;&amp; <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>.getOpcode() == <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a30316f8f9985260c49d7c26bc70a6cad">ISD::GlobalAddress</a>) &#123;</span></CodeLine>
<Link id="l09925" /><CodeLine lineNumber="9925"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;GA = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;GlobalAddressSDNode&gt;</a>(<a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>)) &#123;</span></CodeLine>
<Link id="l09926" /><CodeLine lineNumber="9926"><span class="doxyHighlight">      </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> Fn = <a href="/docs/api/namespaces/llvm/#a5f6182886dc2f96c204299e92c1565d5">dyn&#95;cast&#95;or&#95;null&lt;Function&gt;</a>(GA-&gt;getGlobal());</span></CodeLine>
<Link id="l09927" /><CodeLine lineNumber="9927"></CodeLine>
<Link id="l09928" /><CodeLine lineNumber="9928"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// In normal &quot;call dllimport func&quot; instruction (non-inlineasm) it force</span></CodeLine>
<Link id="l09929" /><CodeLine lineNumber="9929"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// indirect access by specifing call opcode. And usually specially print</span></CodeLine>
<Link id="l09930" /><CodeLine lineNumber="9930"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// asm with indirect symbol (i.g: &quot;&#42;&quot;) according to opcode. Inline asm can</span></CodeLine>
<Link id="l09931" /><CodeLine lineNumber="9931"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// not do in this way now. (In fact, this is similar with &quot;Data Access&quot;</span></CodeLine>
<Link id="l09932" /><CodeLine lineNumber="9932"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// action). So here we ignore dllimport function.</span></CodeLine>
<Link id="l09933" /><CodeLine lineNumber="9933"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Fn &amp;&amp; !Fn-&gt;<a href="/docs/api/classes/llvm/globalvalue/#a66501d6d43642a526ab769458d700aa4">hasDLLImportStorageClass</a>())</span></CodeLine>
<Link id="l09934" /><CodeLine lineNumber="9934"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09935" /><CodeLine lineNumber="9935"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l09936" /><CodeLine lineNumber="9936"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l09937" /><CodeLine lineNumber="9937"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l09938" /><CodeLine lineNumber="9938"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l09939" /><CodeLine lineNumber="9939"></CodeLine>
<Link id="l09940" /><CodeLine lineNumber="9940"><span class="doxyHighlightComment">/// visitInlineAsm - Handle a call to an InlineAsm object.</span></CodeLine>
<Link id="l09941" /><CodeLine lineNumber="9941"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitInlineAsm(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/callbase">CallBase</a> &amp;<a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>,</span></CodeLine>
<Link id="l09942" /><CodeLine lineNumber="9942"><span class="doxyHighlight">                                         </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42;EHPadBB) &#123;</span></CodeLine>
<Link id="l09943" /><CodeLine lineNumber="9943"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> InlineAsm &#42;<a href="/docs/api/namespaces/llvm/aarch64packey/#abf4394f452bde3f544999858d71e4b46aaf2ff1a10f3f3b211d7781a33e4c1e05">IA</a> = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;InlineAsm&gt;</a>(<a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>.<a href="/docs/api/classes/llvm/callbase/#a8d13199cbf4d080d3b5dcf330dad5d2c">getCalledOperand</a>());</span></CodeLine>
<Link id="l09944" /><CodeLine lineNumber="9944"></CodeLine>
<Link id="l09945" /><CodeLine lineNumber="9945"><span class="doxyHighlightComment">  /// ConstraintOperands - Information about all of the constraints.</span></CodeLine>
<Link id="l09946" /><CodeLine lineNumber="9946"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;SDISelAsmOperandInfo, 16&gt;</a> ConstraintOperands;</span></CodeLine>
<Link id="l09947" /><CodeLine lineNumber="9947"></CodeLine>
<Link id="l09948" /><CodeLine lineNumber="9948"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> TargetLowering &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l09949" /><CodeLine lineNumber="9949"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/targetlowering/#a3db162658a7687e8a5df34f5a6aaa840">TargetLowering::AsmOperandInfoVector</a> TargetConstraints = TLI.<a href="/docs/api/classes/llvm/targetlowering/#a1c5e8b6aef41aead06d61ff0530ed9c2">ParseConstraints</a>(</span></CodeLine>
<Link id="l09950" /><CodeLine lineNumber="9950"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSubtarget().getRegisterInfo(), <a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>);</span></CodeLine>
<Link id="l09951" /><CodeLine lineNumber="9951"></CodeLine>
<Link id="l09952" /><CodeLine lineNumber="9952"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// First Pass: Calculate HasSideEffects and ExtraFlags (AlignStack,</span></CodeLine>
<Link id="l09953" /><CodeLine lineNumber="9953"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// AsmDialect, MayLoad, MayStore).</span></CodeLine>
<Link id="l09954" /><CodeLine lineNumber="9954"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> HasSideEffect = <a href="/docs/api/namespaces/llvm/aarch64packey/#abf4394f452bde3f544999858d71e4b46aaf2ff1a10f3f3b211d7781a33e4c1e05">IA</a>-&gt;hasSideEffects();</span></CodeLine>
<Link id="l09955" /><CodeLine lineNumber="9955"><span class="doxyHighlight">  ExtraFlags ExtraInfo(<a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>);</span></CodeLine>
<Link id="l09956" /><CodeLine lineNumber="9956"></CodeLine>
<Link id="l09957" /><CodeLine lineNumber="9957"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;<a href="/docs/api/files/lib/lib/target/lib/target/mips/mips16isellowering-cpp/#a0acb682b8260ab1c60b918599864e2e5">T</a> : TargetConstraints) &#123;</span></CodeLine>
<Link id="l09958" /><CodeLine lineNumber="9958"><span class="doxyHighlight">    ConstraintOperands.<a href="/docs/api/classes/llvm/smallvectortemplatebase/#af42bfbc067df27c19ee2fc859df58799">push&#95;back</a>(SDISelAsmOperandInfo(<a href="/docs/api/files/lib/lib/target/lib/target/mips/mips16isellowering-cpp/#a0acb682b8260ab1c60b918599864e2e5">T</a>));</span></CodeLine>
<Link id="l09959" /><CodeLine lineNumber="9959"><span class="doxyHighlight">    SDISelAsmOperandInfo &amp;OpInfo = ConstraintOperands.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#acd9e771a3296c6b24146955754620557">back</a>();</span></CodeLine>
<Link id="l09960" /><CodeLine lineNumber="9960"></CodeLine>
<Link id="l09961" /><CodeLine lineNumber="9961"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (OpInfo.CallOperandVal)</span></CodeLine>
<Link id="l09962" /><CodeLine lineNumber="9962"><span class="doxyHighlight">      OpInfo.CallOperand = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(OpInfo.CallOperandVal);</span></CodeLine>
<Link id="l09963" /><CodeLine lineNumber="9963"></CodeLine>
<Link id="l09964" /><CodeLine lineNumber="9964"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!HasSideEffect)</span></CodeLine>
<Link id="l09965" /><CodeLine lineNumber="9965"><span class="doxyHighlight">      HasSideEffect = OpInfo.hasMemory(TLI);</span></CodeLine>
<Link id="l09966" /><CodeLine lineNumber="9966"></CodeLine>
<Link id="l09967" /><CodeLine lineNumber="9967"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Determine if this InlineAsm MayLoad or MayStore based on the constraints.</span></CodeLine>
<Link id="l09968" /><CodeLine lineNumber="9968"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// FIXME: Could we compute this on OpInfo rather than T?</span></CodeLine>
<Link id="l09969" /><CodeLine lineNumber="9969"></CodeLine>
<Link id="l09970" /><CodeLine lineNumber="9970"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Compute the constraint code and ConstraintType to use.</span></CodeLine>
<Link id="l09971" /><CodeLine lineNumber="9971"><span class="doxyHighlight">    TLI.<a href="/docs/api/classes/llvm/targetlowering/#a279a7f92d056886ac713c0f06cc73045">ComputeConstraintToUse</a>(<a href="/docs/api/files/lib/lib/target/lib/target/mips/mips16isellowering-cpp/#a0acb682b8260ab1c60b918599864e2e5">T</a>, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a>());</span></CodeLine>
<Link id="l09972" /><CodeLine lineNumber="9972"></CodeLine>
<Link id="l09973" /><CodeLine lineNumber="9973"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/target/lib/target/mips/mips16isellowering-cpp/#a0acb682b8260ab1c60b918599864e2e5">T</a>.ConstraintType == <a href="/docs/api/classes/llvm/targetlowering/#a0b0176781cd4fd9f45cc739f1d007116a7bc0fe0fa6be5eaabb77e46c8d9ab2c8">TargetLowering::C&#95;Immediate</a> &amp;&amp;</span></CodeLine>
<Link id="l09974" /><CodeLine lineNumber="9974"><span class="doxyHighlight">        OpInfo.CallOperand &amp;&amp; !<a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;ConstantSDNode&gt;</a>(OpInfo.CallOperand))</span></CodeLine>
<Link id="l09975" /><CodeLine lineNumber="9975"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// We&#39;ve delayed emitting a diagnostic like the &quot;n&quot; constraint because</span></CodeLine>
<Link id="l09976" /><CodeLine lineNumber="9976"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// inlining could cause an integer showing up.</span></CodeLine>
<Link id="l09977" /><CodeLine lineNumber="9977"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> emitInlineAsmError(<a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>, </span><span class="doxyHighlightStringLiteral">&quot;constraint &#39;&quot;</span><span class="doxyHighlight"> + Twine(<a href="/docs/api/files/lib/lib/target/lib/target/mips/mips16isellowering-cpp/#a0acb682b8260ab1c60b918599864e2e5">T</a>.ConstraintCode) +</span></CodeLine>
<Link id="l09978" /><CodeLine lineNumber="9978"><span class="doxyHighlight">                                          </span><span class="doxyHighlightStringLiteral">&quot;&#39; expects an integer constant &quot;</span></CodeLine>
<Link id="l09979" /><CodeLine lineNumber="9979"><span class="doxyHighlight">                                          </span><span class="doxyHighlightStringLiteral">&quot;expression&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l09980" /><CodeLine lineNumber="9980"></CodeLine>
<Link id="l09981" /><CodeLine lineNumber="9981"><span class="doxyHighlight">    ExtraInfo.update(<a href="/docs/api/files/lib/lib/target/lib/target/mips/mips16isellowering-cpp/#a0acb682b8260ab1c60b918599864e2e5">T</a>);</span></CodeLine>
<Link id="l09982" /><CodeLine lineNumber="9982"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l09983" /><CodeLine lineNumber="9983"></CodeLine>
<Link id="l09984" /><CodeLine lineNumber="9984"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// We won&#39;t need to flush pending loads if this asm doesn&#39;t touch</span></CodeLine>
<Link id="l09985" /><CodeLine lineNumber="9985"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// memory and is nonvolatile.</span></CodeLine>
<Link id="l09986" /><CodeLine lineNumber="9986"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Glue, <a href="/docs/api/namespaces/anonymous-loadstorevectorizer-cpp-/#afd1adfcbfce320e6265935ce4d6299a3">Chain</a> = (HasSideEffect) ? <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>() : <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getRoot();</span></CodeLine>
<Link id="l09987" /><CodeLine lineNumber="9987"></CodeLine>
<Link id="l09988" /><CodeLine lineNumber="9988"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> EmitEHLabels = <a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;InvokeInst&gt;</a>(<a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>);</span></CodeLine>
<Link id="l09989" /><CodeLine lineNumber="9989"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (EmitEHLabels) &#123;</span></CodeLine>
<Link id="l09990" /><CodeLine lineNumber="9990"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(EHPadBB &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;InvokeInst must have an EHPadBB&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l09991" /><CodeLine lineNumber="9991"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l09992" /><CodeLine lineNumber="9992"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> IsCallBr = <a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;CallBrInst&gt;</a>(<a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>);</span></CodeLine>
<Link id="l09993" /><CodeLine lineNumber="9993"></CodeLine>
<Link id="l09994" /><CodeLine lineNumber="9994"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (IsCallBr || EmitEHLabels) &#123;</span></CodeLine>
<Link id="l09995" /><CodeLine lineNumber="9995"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// If this is a callbr or invoke we need to flush pending exports since</span></CodeLine>
<Link id="l09996" /><CodeLine lineNumber="9996"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// inlineasm&#95;br and invoke are terminators.</span></CodeLine>
<Link id="l09997" /><CodeLine lineNumber="9997"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// We need to do this before nodes are glued to the inlineasm&#95;br node.</span></CodeLine>
<Link id="l09998" /><CodeLine lineNumber="9998"><span class="doxyHighlight">    <a href="/docs/api/namespaces/anonymous-loadstorevectorizer-cpp-/#afd1adfcbfce320e6265935ce4d6299a3">Chain</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#aef34360e8bb4bdecf3fd6345ff504f81">getControlRoot</a>();</span></CodeLine>
<Link id="l09999" /><CodeLine lineNumber="9999"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l10000" /><CodeLine lineNumber="10000"></CodeLine>
<Link id="l10001" /><CodeLine lineNumber="10001"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110aabb68e91001557f73ff8af63eb8d5883">MCSymbol</a> &#42;BeginLabel = </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l10002" /><CodeLine lineNumber="10002"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (EmitEHLabels) &#123;</span></CodeLine>
<Link id="l10003" /><CodeLine lineNumber="10003"><span class="doxyHighlight">    <a href="/docs/api/namespaces/anonymous-loadstorevectorizer-cpp-/#afd1adfcbfce320e6265935ce4d6299a3">Chain</a> = lowerStartEH(Chain, EHPadBB, BeginLabel);</span></CodeLine>
<Link id="l10004" /><CodeLine lineNumber="10004"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l10005" /><CodeLine lineNumber="10005"></CodeLine>
<Link id="l10006" /><CodeLine lineNumber="10006"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">int</span><span class="doxyHighlight"> OpNo = -1;</span></CodeLine>
<Link id="l10007" /><CodeLine lineNumber="10007"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;StringRef&gt;</a> AsmStrs;</span></CodeLine>
<Link id="l10008" /><CodeLine lineNumber="10008"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/aarch64packey/#abf4394f452bde3f544999858d71e4b46aaf2ff1a10f3f3b211d7781a33e4c1e05">IA</a>-&gt;collectAsmStrs(AsmStrs);</span></CodeLine>
<Link id="l10009" /><CodeLine lineNumber="10009"></CodeLine>
<Link id="l10010" /><CodeLine lineNumber="10010"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Second pass over the constraints: compute which constraint option to use.</span></CodeLine>
<Link id="l10011" /><CodeLine lineNumber="10011"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (SDISelAsmOperandInfo &amp;OpInfo : ConstraintOperands) &#123;</span></CodeLine>
<Link id="l10012" /><CodeLine lineNumber="10012"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (OpInfo.hasArg() || OpInfo.Type == <a href="/docs/api/classes/llvm/inlineasm/#a511f48809ad14f13e50b957a137a9d34aabfa616f81b4833fdf462b07aabfa53f">InlineAsm::isOutput</a>)</span></CodeLine>
<Link id="l10013" /><CodeLine lineNumber="10013"><span class="doxyHighlight">      OpNo++;</span></CodeLine>
<Link id="l10014" /><CodeLine lineNumber="10014"></CodeLine>
<Link id="l10015" /><CodeLine lineNumber="10015"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// If this is an output operand with a matching input operand, look up the</span></CodeLine>
<Link id="l10016" /><CodeLine lineNumber="10016"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// matching input. If their types mismatch, e.g. one is an integer, the</span></CodeLine>
<Link id="l10017" /><CodeLine lineNumber="10017"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// other is floating point, or their sizes are different, flag it as an</span></CodeLine>
<Link id="l10018" /><CodeLine lineNumber="10018"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// error.</span></CodeLine>
<Link id="l10019" /><CodeLine lineNumber="10019"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (OpInfo.hasMatchingInput()) &#123;</span></CodeLine>
<Link id="l10020" /><CodeLine lineNumber="10020"><span class="doxyHighlight">      SDISelAsmOperandInfo &amp;Input = ConstraintOperands&#91;OpInfo.MatchingInput&#93;;</span></CodeLine>
<Link id="l10021" /><CodeLine lineNumber="10021"><span class="doxyHighlight">      <a href="#a5ec1b0ffb0fbbbc5d74381b0b1d38ae1">patchMatchingInput</a>(OpInfo, Input, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>);</span></CodeLine>
<Link id="l10022" /><CodeLine lineNumber="10022"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l10023" /><CodeLine lineNumber="10023"></CodeLine>
<Link id="l10024" /><CodeLine lineNumber="10024"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Compute the constraint code and ConstraintType to use.</span></CodeLine>
<Link id="l10025" /><CodeLine lineNumber="10025"><span class="doxyHighlight">    TLI.<a href="/docs/api/classes/llvm/targetlowering/#a279a7f92d056886ac713c0f06cc73045">ComputeConstraintToUse</a>(OpInfo, OpInfo.CallOperand, &amp;<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>);</span></CodeLine>
<Link id="l10026" /><CodeLine lineNumber="10026"></CodeLine>
<Link id="l10027" /><CodeLine lineNumber="10027"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> ((OpInfo.ConstraintType == <a href="/docs/api/classes/llvm/targetlowering/#a0b0176781cd4fd9f45cc739f1d007116a420d729d2e7d056ec884c094ccdc4467">TargetLowering::C&#95;Memory</a> &amp;&amp;</span></CodeLine>
<Link id="l10028" /><CodeLine lineNumber="10028"><span class="doxyHighlight">         OpInfo.Type == <a href="/docs/api/classes/llvm/inlineasm/#a511f48809ad14f13e50b957a137a9d34adf39e7f7e158f2ccacae6d4446197322">InlineAsm::isClobber</a>) ||</span></CodeLine>
<Link id="l10029" /><CodeLine lineNumber="10029"><span class="doxyHighlight">        OpInfo.ConstraintType == <a href="/docs/api/classes/llvm/targetlowering/#a0b0176781cd4fd9f45cc739f1d007116abd588753884964e239e61d80ebc2f039">TargetLowering::C&#95;Address</a>)</span></CodeLine>
<Link id="l10030" /><CodeLine lineNumber="10030"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">continue</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l10031" /><CodeLine lineNumber="10031"></CodeLine>
<Link id="l10032" /><CodeLine lineNumber="10032"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// In Linux PIC model, there are 4 cases about value/label addressing:</span></CodeLine>
<Link id="l10033" /><CodeLine lineNumber="10033"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l10034" /><CodeLine lineNumber="10034"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// 1: Function call or Label jmp inside the module.</span></CodeLine>
<Link id="l10035" /><CodeLine lineNumber="10035"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// 2: Data access (such as global variable, static variable) inside module.</span></CodeLine>
<Link id="l10036" /><CodeLine lineNumber="10036"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// 3: Function call or Label jmp outside the module.</span></CodeLine>
<Link id="l10037" /><CodeLine lineNumber="10037"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// 4: Data access (such as global variable) outside the module.</span></CodeLine>
<Link id="l10038" /><CodeLine lineNumber="10038"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l10039" /><CodeLine lineNumber="10039"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Due to current llvm inline asm architecture designed to not &quot;recognize&quot;</span></CodeLine>
<Link id="l10040" /><CodeLine lineNumber="10040"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// the asm code, there are quite troubles for us to treat mem addressing</span></CodeLine>
<Link id="l10041" /><CodeLine lineNumber="10041"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// differently for same value/adress used in different instuctions.</span></CodeLine>
<Link id="l10042" /><CodeLine lineNumber="10042"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// For example, in pic model, call a func may in plt way or direclty</span></CodeLine>
<Link id="l10043" /><CodeLine lineNumber="10043"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// pc-related, but lea/mov a function adress may use got.</span></CodeLine>
<Link id="l10044" /><CodeLine lineNumber="10044"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l10045" /><CodeLine lineNumber="10045"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Here we try to &quot;recognize&quot; function call for the case 1 and case 3 in</span></CodeLine>
<Link id="l10046" /><CodeLine lineNumber="10046"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// inline asm. And try to adjust the constraint for them.</span></CodeLine>
<Link id="l10047" /><CodeLine lineNumber="10047"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l10048" /><CodeLine lineNumber="10048"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// TODO: Due to current inline asm didn&#39;t encourage to jmp to the outsider</span></CodeLine>
<Link id="l10049" /><CodeLine lineNumber="10049"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// label, so here we don&#39;t handle jmp function label now, but we need to</span></CodeLine>
<Link id="l10050" /><CodeLine lineNumber="10050"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// enhance it (especilly in PIC model) if we meet meaningful requirements.</span></CodeLine>
<Link id="l10051" /><CodeLine lineNumber="10051"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (OpInfo.isIndirect &amp;&amp; <a href="#aa5423d2fba2a995d71e3294b14a19bbc">isFunction</a>(OpInfo.CallOperand) &amp;&amp;</span></CodeLine>
<Link id="l10052" /><CodeLine lineNumber="10052"><span class="doxyHighlight">        TLI.<a href="/docs/api/classes/llvm/targetlowering/#aebfdd629d9e82d02230d041fadfa540c">isInlineAsmTargetBranch</a>(AsmStrs, OpNo) &amp;&amp;</span></CodeLine>
<Link id="l10053" /><CodeLine lineNumber="10053"><span class="doxyHighlight">        TM.getCodeModel() != <a href="/docs/api/namespaces/llvm/codemodel/#afc59396a9e5809fc92938e203d91a8dfa5208f558fccf9f63423fb5385bb3e75c">CodeModel::Large</a>) &#123;</span></CodeLine>
<Link id="l10054" /><CodeLine lineNumber="10054"><span class="doxyHighlight">      OpInfo.isIndirect = </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l10055" /><CodeLine lineNumber="10055"><span class="doxyHighlight">      OpInfo.ConstraintType = <a href="/docs/api/classes/llvm/targetlowering/#a0b0176781cd4fd9f45cc739f1d007116abd588753884964e239e61d80ebc2f039">TargetLowering::C&#95;Address</a>;</span></CodeLine>
<Link id="l10056" /><CodeLine lineNumber="10056"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l10057" /><CodeLine lineNumber="10057"></CodeLine>
<Link id="l10058" /><CodeLine lineNumber="10058"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// If this is a memory input, and if the operand is not indirect, do what we</span></CodeLine>
<Link id="l10059" /><CodeLine lineNumber="10059"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// need to provide an address for the memory input.</span></CodeLine>
<Link id="l10060" /><CodeLine lineNumber="10060"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (OpInfo.ConstraintType == <a href="/docs/api/classes/llvm/targetlowering/#a0b0176781cd4fd9f45cc739f1d007116a420d729d2e7d056ec884c094ccdc4467">TargetLowering::C&#95;Memory</a> &amp;&amp;</span></CodeLine>
<Link id="l10061" /><CodeLine lineNumber="10061"><span class="doxyHighlight">        !OpInfo.isIndirect) &#123;</span></CodeLine>
<Link id="l10062" /><CodeLine lineNumber="10062"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((OpInfo.isMultipleAlternative ||</span></CodeLine>
<Link id="l10063" /><CodeLine lineNumber="10063"><span class="doxyHighlight">              (OpInfo.Type == <a href="/docs/api/classes/llvm/inlineasm/#a511f48809ad14f13e50b957a137a9d34a79ca3881430605a6c7da5227cfb115d6">InlineAsm::isInput</a>)) &amp;&amp;</span></CodeLine>
<Link id="l10064" /><CodeLine lineNumber="10064"><span class="doxyHighlight">             </span><span class="doxyHighlightStringLiteral">&quot;Can only indirectify direct input operands!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l10065" /><CodeLine lineNumber="10065"></CodeLine>
<Link id="l10066" /><CodeLine lineNumber="10066"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Memory operands really want the address of the value.</span></CodeLine>
<Link id="l10067" /><CodeLine lineNumber="10067"><span class="doxyHighlight">      <a href="/docs/api/namespaces/anonymous-loadstorevectorizer-cpp-/#afd1adfcbfce320e6265935ce4d6299a3">Chain</a> = <a href="#a94b8d8925deffd735f51d36b77d3f9ca">getAddressForMemoryInput</a>(Chain, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), OpInfo, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>);</span></CodeLine>
<Link id="l10068" /><CodeLine lineNumber="10068"></CodeLine>
<Link id="l10069" /><CodeLine lineNumber="10069"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// There is no longer a Value&#42; corresponding to this operand.</span></CodeLine>
<Link id="l10070" /><CodeLine lineNumber="10070"><span class="doxyHighlight">      OpInfo.CallOperandVal = </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l10071" /><CodeLine lineNumber="10071"></CodeLine>
<Link id="l10072" /><CodeLine lineNumber="10072"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// It is now an indirect operand.</span></CodeLine>
<Link id="l10073" /><CodeLine lineNumber="10073"><span class="doxyHighlight">      OpInfo.isIndirect = </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l10074" /><CodeLine lineNumber="10074"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l10075" /><CodeLine lineNumber="10075"></CodeLine>
<Link id="l10076" /><CodeLine lineNumber="10076"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l10077" /><CodeLine lineNumber="10077"></CodeLine>
<Link id="l10078" /><CodeLine lineNumber="10078"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// AsmNodeOperands - The operands for the ISD::INLINEASM node.</span></CodeLine>
<Link id="l10079" /><CodeLine lineNumber="10079"><span class="doxyHighlight">  std::vector&lt;SDValue&gt; AsmNodeOperands;</span></CodeLine>
<Link id="l10080" /><CodeLine lineNumber="10080"><span class="doxyHighlight">  AsmNodeOperands.push&#95;back(<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a>());  </span><span class="doxyHighlightComment">// reserve space for input chain</span></CodeLine>
<Link id="l10081" /><CodeLine lineNumber="10081"><span class="doxyHighlight">  AsmNodeOperands.push&#95;back(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetExternalSymbol(</span></CodeLine>
<Link id="l10082" /><CodeLine lineNumber="10082"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/aarch64packey/#abf4394f452bde3f544999858d71e4b46aaf2ff1a10f3f3b211d7781a33e4c1e05">IA</a>-&gt;getAsmString().c&#95;str(), TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a8208962f1304ff6a21bf8a94c36cee5c">getProgramPointerTy</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout())));</span></CodeLine>
<Link id="l10083" /><CodeLine lineNumber="10083"></CodeLine>
<Link id="l10084" /><CodeLine lineNumber="10084"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// If we have a !srcloc metadata node associated with it, we want to attach</span></CodeLine>
<Link id="l10085" /><CodeLine lineNumber="10085"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// this to the ultimately generated inline asm machineinstr.  To do this, we</span></CodeLine>
<Link id="l10086" /><CodeLine lineNumber="10086"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// pass in the third operand as this (potentially null) inline asm MDNode.</span></CodeLine>
<Link id="l10087" /><CodeLine lineNumber="10087"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> MDNode &#42;SrcLoc = <a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>.<a href="/docs/api/classes/llvm/instruction/#a6c09737e146b2d816c911a047ac67ba4">getMetadata</a>(</span><span class="doxyHighlightStringLiteral">&quot;srcloc&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l10088" /><CodeLine lineNumber="10088"><span class="doxyHighlight">  AsmNodeOperands.push&#95;back(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMDNode(SrcLoc));</span></CodeLine>
<Link id="l10089" /><CodeLine lineNumber="10089"></CodeLine>
<Link id="l10090" /><CodeLine lineNumber="10090"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Remember the HasSideEffect, AlignStack, AsmDialect, MayLoad and MayStore</span></CodeLine>
<Link id="l10091" /><CodeLine lineNumber="10091"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// bits as operand 3</span></CodeLine>
<Link id="l10092" /><CodeLine lineNumber="10092"><span class="doxyHighlight">  AsmNodeOperands.push&#95;back(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetConstant(</span></CodeLine>
<Link id="l10093" /><CodeLine lineNumber="10093"><span class="doxyHighlight">      ExtraInfo.get(), <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout())));</span></CodeLine>
<Link id="l10094" /><CodeLine lineNumber="10094"></CodeLine>
<Link id="l10095" /><CodeLine lineNumber="10095"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Third pass: Loop over operands to prepare DAG-level operands.. As part of</span></CodeLine>
<Link id="l10096" /><CodeLine lineNumber="10096"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// this, assign virtual and physical registers for inputs and otput.</span></CodeLine>
<Link id="l10097" /><CodeLine lineNumber="10097"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (SDISelAsmOperandInfo &amp;OpInfo : ConstraintOperands) &#123;</span></CodeLine>
<Link id="l10098" /><CodeLine lineNumber="10098"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Assign Registers.</span></CodeLine>
<Link id="l10099" /><CodeLine lineNumber="10099"><span class="doxyHighlight">    SDISelAsmOperandInfo &amp;RefOpInfo =</span></CodeLine>
<Link id="l10100" /><CodeLine lineNumber="10100"><span class="doxyHighlight">        OpInfo.isMatchingInputConstraint()</span></CodeLine>
<Link id="l10101" /><CodeLine lineNumber="10101"><span class="doxyHighlight">            ? ConstraintOperands&#91;OpInfo.getMatchedOperand()&#93;</span></CodeLine>
<Link id="l10102" /><CodeLine lineNumber="10102"><span class="doxyHighlight">            : OpInfo;</span></CodeLine>
<Link id="l10103" /><CodeLine lineNumber="10103"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> RegError =</span></CodeLine>
<Link id="l10104" /><CodeLine lineNumber="10104"><span class="doxyHighlight">        <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/inlineasmlowering-cpp/#a43762e6a22fd0e7b98b8115946fc87b6">getRegistersForValue</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), OpInfo, RefOpInfo);</span></CodeLine>
<Link id="l10105" /><CodeLine lineNumber="10105"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (RegError) &#123;</span></CodeLine>
<Link id="l10106" /><CodeLine lineNumber="10106"><span class="doxyHighlight">      </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> MachineFunction &amp;MF = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMachineFunction();</span></CodeLine>
<Link id="l10107" /><CodeLine lineNumber="10107"><span class="doxyHighlight">      </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> TargetRegisterInfo &amp;<a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = &#42;MF.<a href="/docs/api/classes/llvm/machinefunction/#a3825368aca2bc1550d173660df4da6a6">getSubtarget</a>().<a href="/docs/api/classes/llvm/targetsubtargetinfo/#a43c530c830206ecf5ad3359364634c75">getRegisterInfo</a>();</span></CodeLine>
<Link id="l10108" /><CodeLine lineNumber="10108"><span class="doxyHighlight">      </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordType">char</span><span class="doxyHighlight"> &#42;<a href="/docs/api/files/lib/lib/target/lib/target/ve/lvlgen-cpp/#a0a198e38a5def54ba58bebc655eda8e7">RegName</a> = <a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>.getName(&#42;RegError);</span></CodeLine>
<Link id="l10109" /><CodeLine lineNumber="10109"><span class="doxyHighlight">      emitInlineAsmError(<a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>, </span><span class="doxyHighlightStringLiteral">&quot;register &#39;&quot;</span><span class="doxyHighlight"> + Twine(<a href="/docs/api/files/lib/lib/target/lib/target/ve/lvlgen-cpp/#a0a198e38a5def54ba58bebc655eda8e7">RegName</a>) +</span></CodeLine>
<Link id="l10110" /><CodeLine lineNumber="10110"><span class="doxyHighlight">                                   </span><span class="doxyHighlightStringLiteral">&quot;&#39; allocated for constraint &#39;&quot;</span><span class="doxyHighlight"> +</span></CodeLine>
<Link id="l10111" /><CodeLine lineNumber="10111"><span class="doxyHighlight">                                   Twine(OpInfo.ConstraintCode) +</span></CodeLine>
<Link id="l10112" /><CodeLine lineNumber="10112"><span class="doxyHighlight">                                   </span><span class="doxyHighlightStringLiteral">&quot;&#39; does not match required type&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l10113" /><CodeLine lineNumber="10113"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l10114" /><CodeLine lineNumber="10114"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l10115" /><CodeLine lineNumber="10115"></CodeLine>
<Link id="l10116" /><CodeLine lineNumber="10116"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> DetectWriteToReservedRegister = &#91;&amp;&#93;() &#123;</span></CodeLine>
<Link id="l10117" /><CodeLine lineNumber="10117"><span class="doxyHighlight">      </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> MachineFunction &amp;MF = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMachineFunction();</span></CodeLine>
<Link id="l10118" /><CodeLine lineNumber="10118"><span class="doxyHighlight">      </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> TargetRegisterInfo &amp;<a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = &#42;MF.<a href="/docs/api/classes/llvm/machinefunction/#a3825368aca2bc1550d173660df4da6a6">getSubtarget</a>().<a href="/docs/api/classes/llvm/targetsubtargetinfo/#a43c530c830206ecf5ad3359364634c75">getRegisterInfo</a>();</span></CodeLine>
<Link id="l10119" /><CodeLine lineNumber="10119"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> <a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a359e1ff26f6d466d927a61aae45b05c3">Reg</a> : OpInfo.AssignedRegs.Regs) &#123;</span></CodeLine>
<Link id="l10120" /><CodeLine lineNumber="10120"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/classes/llvm/register/#afacc26f29d80e10be4785a96ed6444dc">Register::isPhysicalRegister</a>(<a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a359e1ff26f6d466d927a61aae45b05c3">Reg</a>) &amp;&amp;</span></CodeLine>
<Link id="l10121" /><CodeLine lineNumber="10121"><span class="doxyHighlight">            <a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>.isInlineAsmReadOnlyReg(MF, <a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a359e1ff26f6d466d927a61aae45b05c3">Reg</a>)) &#123;</span></CodeLine>
<Link id="l10122" /><CodeLine lineNumber="10122"><span class="doxyHighlight">          </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordType">char</span><span class="doxyHighlight"> &#42;<a href="/docs/api/files/lib/lib/target/lib/target/ve/lvlgen-cpp/#a0a198e38a5def54ba58bebc655eda8e7">RegName</a> = <a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>.getName(<a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a359e1ff26f6d466d927a61aae45b05c3">Reg</a>);</span></CodeLine>
<Link id="l10123" /><CodeLine lineNumber="10123"><span class="doxyHighlight">          emitInlineAsmError(<a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>, </span><span class="doxyHighlightStringLiteral">&quot;write to reserved register &#39;&quot;</span><span class="doxyHighlight"> +</span></CodeLine>
<Link id="l10124" /><CodeLine lineNumber="10124"><span class="doxyHighlight">                                       Twine(<a href="/docs/api/files/lib/lib/target/lib/target/ve/lvlgen-cpp/#a0a198e38a5def54ba58bebc655eda8e7">RegName</a>) + </span><span class="doxyHighlightStringLiteral">&quot;&#39;&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l10125" /><CodeLine lineNumber="10125"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l10126" /><CodeLine lineNumber="10126"><span class="doxyHighlight">        &#125;</span></CodeLine>
<Link id="l10127" /><CodeLine lineNumber="10127"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l10128" /><CodeLine lineNumber="10128"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l10129" /><CodeLine lineNumber="10129"><span class="doxyHighlight">    &#125;;</span></CodeLine>
<Link id="l10130" /><CodeLine lineNumber="10130"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((OpInfo.ConstraintType != <a href="/docs/api/classes/llvm/targetlowering/#a0b0176781cd4fd9f45cc739f1d007116abd588753884964e239e61d80ebc2f039">TargetLowering::C&#95;Address</a> ||</span></CodeLine>
<Link id="l10131" /><CodeLine lineNumber="10131"><span class="doxyHighlight">            (OpInfo.Type == <a href="/docs/api/classes/llvm/inlineasm/#a511f48809ad14f13e50b957a137a9d34a79ca3881430605a6c7da5227cfb115d6">InlineAsm::isInput</a> &amp;&amp;</span></CodeLine>
<Link id="l10132" /><CodeLine lineNumber="10132"><span class="doxyHighlight">             !OpInfo.isMatchingInputConstraint())) &amp;&amp;</span></CodeLine>
<Link id="l10133" /><CodeLine lineNumber="10133"><span class="doxyHighlight">           </span><span class="doxyHighlightStringLiteral">&quot;Only address as input operand is allowed.&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l10134" /><CodeLine lineNumber="10134"></CodeLine>
<Link id="l10135" /><CodeLine lineNumber="10135"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">switch</span><span class="doxyHighlight"> (OpInfo.Type) &#123;</span></CodeLine>
<Link id="l10136" /><CodeLine lineNumber="10136"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/inlineasm/#a511f48809ad14f13e50b957a137a9d34aabfa616f81b4833fdf462b07aabfa53f">InlineAsm::isOutput</a>:</span></CodeLine>
<Link id="l10137" /><CodeLine lineNumber="10137"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (OpInfo.ConstraintType == <a href="/docs/api/classes/llvm/targetlowering/#a0b0176781cd4fd9f45cc739f1d007116a420d729d2e7d056ec884c094ccdc4467">TargetLowering::C&#95;Memory</a>) &#123;</span></CodeLine>
<Link id="l10138" /><CodeLine lineNumber="10138"><span class="doxyHighlight">        </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/inlineasm/#af73223719f15f8ca95f36ce43aa9d6d0">InlineAsm::ConstraintCode</a> ConstraintID =</span></CodeLine>
<Link id="l10139" /><CodeLine lineNumber="10139"><span class="doxyHighlight">            TLI.<a href="/docs/api/classes/llvm/targetlowering/#a3acbc2d34d9a6d35b63a04f0ae20136c">getInlineAsmMemConstraint</a>(OpInfo.ConstraintCode);</span></CodeLine>
<Link id="l10140" /><CodeLine lineNumber="10140"><span class="doxyHighlight">        <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ConstraintID != <a href="/docs/api/classes/llvm/inlineasm/#af73223719f15f8ca95f36ce43aa9d6d0a88183b946cc5f0e8c96b2e66e1c74a7e">InlineAsm::ConstraintCode::Unknown</a> &amp;&amp;</span></CodeLine>
<Link id="l10141" /><CodeLine lineNumber="10141"><span class="doxyHighlight">               </span><span class="doxyHighlightStringLiteral">&quot;Failed to convert memory constraint code to constraint id.&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l10142" /><CodeLine lineNumber="10142"></CodeLine>
<Link id="l10143" /><CodeLine lineNumber="10143"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// Add information to the INLINEASM node to know about this output.</span></CodeLine>
<Link id="l10144" /><CodeLine lineNumber="10144"><span class="doxyHighlight">        InlineAsm::Flag OpFlags(<a href="/docs/api/classes/llvm/inlineasm/#a49585056d1d7051dd2bd6f012e5b5e94adba5553473d129a7985fb532dc249ff4">InlineAsm::Kind::Mem</a>, 1);</span></CodeLine>
<Link id="l10145" /><CodeLine lineNumber="10145"><span class="doxyHighlight">        OpFlags.setMemConstraint(ConstraintID);</span></CodeLine>
<Link id="l10146" /><CodeLine lineNumber="10146"><span class="doxyHighlight">        AsmNodeOperands.push&#95;back(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetConstant(OpFlags, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(),</span></CodeLine>
<Link id="l10147" /><CodeLine lineNumber="10147"><span class="doxyHighlight">                                                        MVT::i32));</span></CodeLine>
<Link id="l10148" /><CodeLine lineNumber="10148"><span class="doxyHighlight">        AsmNodeOperands.push&#95;back(OpInfo.CallOperand);</span></CodeLine>
<Link id="l10149" /><CodeLine lineNumber="10149"><span class="doxyHighlight">      &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l10150" /><CodeLine lineNumber="10150"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// Otherwise, this outputs to a register (directly for C&#95;Register /</span></CodeLine>
<Link id="l10151" /><CodeLine lineNumber="10151"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// C&#95;RegisterClass, and a target-defined fashion for</span></CodeLine>
<Link id="l10152" /><CodeLine lineNumber="10152"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// C&#95;Immediate/C&#95;Other). Find a register that we can use.</span></CodeLine>
<Link id="l10153" /><CodeLine lineNumber="10153"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (OpInfo.AssignedRegs.Regs.empty()) &#123;</span></CodeLine>
<Link id="l10154" /><CodeLine lineNumber="10154"><span class="doxyHighlight">          emitInlineAsmError(</span></CodeLine>
<Link id="l10155" /><CodeLine lineNumber="10155"><span class="doxyHighlight">              <a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>, </span><span class="doxyHighlightStringLiteral">&quot;couldn&#39;t allocate output register for constraint &#39;&quot;</span><span class="doxyHighlight"> +</span></CodeLine>
<Link id="l10156" /><CodeLine lineNumber="10156"><span class="doxyHighlight">                        Twine(OpInfo.ConstraintCode) + </span><span class="doxyHighlightStringLiteral">&quot;&#39;&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l10157" /><CodeLine lineNumber="10157"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l10158" /><CodeLine lineNumber="10158"><span class="doxyHighlight">        &#125;</span></CodeLine>
<Link id="l10159" /><CodeLine lineNumber="10159"></CodeLine>
<Link id="l10160" /><CodeLine lineNumber="10160"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (DetectWriteToReservedRegister())</span></CodeLine>
<Link id="l10161" /><CodeLine lineNumber="10161"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l10162" /><CodeLine lineNumber="10162"></CodeLine>
<Link id="l10163" /><CodeLine lineNumber="10163"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// Add information to the INLINEASM node to know that this register is</span></CodeLine>
<Link id="l10164" /><CodeLine lineNumber="10164"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// set.</span></CodeLine>
<Link id="l10165" /><CodeLine lineNumber="10165"><span class="doxyHighlight">        OpInfo.AssignedRegs.AddInlineAsmOperands(</span></CodeLine>
<Link id="l10166" /><CodeLine lineNumber="10166"><span class="doxyHighlight">            OpInfo.isEarlyClobber ? <a href="/docs/api/classes/llvm/inlineasm/#a49585056d1d7051dd2bd6f012e5b5e94adda36cdb69635bdfb9f3d925753dc2d3">InlineAsm::Kind::RegDefEarlyClobber</a></span></CodeLine>
<Link id="l10167" /><CodeLine lineNumber="10167"><span class="doxyHighlight">                                  : <a href="/docs/api/classes/llvm/inlineasm/#a49585056d1d7051dd2bd6f012e5b5e94a1fbd4693daf9a506101ec4cd36caa8dd">InlineAsm::Kind::RegDef</a>,</span></CodeLine>
<Link id="l10168" /><CodeLine lineNumber="10168"><span class="doxyHighlight">            </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">, 0, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>, AsmNodeOperands);</span></CodeLine>
<Link id="l10169" /><CodeLine lineNumber="10169"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l10170" /><CodeLine lineNumber="10170"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l10171" /><CodeLine lineNumber="10171"></CodeLine>
<Link id="l10172" /><CodeLine lineNumber="10172"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/inlineasm/#a511f48809ad14f13e50b957a137a9d34a79ca3881430605a6c7da5227cfb115d6">InlineAsm::isInput</a>:</span></CodeLine>
<Link id="l10173" /><CodeLine lineNumber="10173"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/inlineasm/#a511f48809ad14f13e50b957a137a9d34a2903cfed1fe44719f76b46abcac40955">InlineAsm::isLabel</a>: &#123;</span></CodeLine>
<Link id="l10174" /><CodeLine lineNumber="10174"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> InOperandVal = OpInfo.CallOperand;</span></CodeLine>
<Link id="l10175" /><CodeLine lineNumber="10175"></CodeLine>
<Link id="l10176" /><CodeLine lineNumber="10176"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (OpInfo.isMatchingInputConstraint()) &#123;</span></CodeLine>
<Link id="l10177" /><CodeLine lineNumber="10177"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// If this is required to match an output register we have already set,</span></CodeLine>
<Link id="l10178" /><CodeLine lineNumber="10178"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// just use its register.</span></CodeLine>
<Link id="l10179" /><CodeLine lineNumber="10179"><span class="doxyHighlight">        </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> CurOp = <a href="#a56df539ec704429b22fbfbe90cb7941e">findMatchingInlineAsmOperand</a>(OpInfo.getMatchedOperand(),</span></CodeLine>
<Link id="l10180" /><CodeLine lineNumber="10180"><span class="doxyHighlight">                                                  AsmNodeOperands);</span></CodeLine>
<Link id="l10181" /><CodeLine lineNumber="10181"><span class="doxyHighlight">        InlineAsm::Flag <a href="/docs/api/namespaces/llvm/mcid/#ab357441fcd1ea1f9b0d27c12700f6023">Flag</a>(AsmNodeOperands&#91;CurOp&#93;-&gt;getAsZExtVal());</span></CodeLine>
<Link id="l10182" /><CodeLine lineNumber="10182"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/mcid/#ab357441fcd1ea1f9b0d27c12700f6023">Flag</a>.isRegDefKind() || <a href="/docs/api/namespaces/llvm/mcid/#ab357441fcd1ea1f9b0d27c12700f6023">Flag</a>.isRegDefEarlyClobberKind()) &#123;</span></CodeLine>
<Link id="l10183" /><CodeLine lineNumber="10183"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (OpInfo.isIndirect) &#123;</span></CodeLine>
<Link id="l10184" /><CodeLine lineNumber="10184"><span class="doxyHighlight">            </span><span class="doxyHighlightComment">// This happens on gcc/testsuite/gcc.dg/pr8788-1.c</span></CodeLine>
<Link id="l10185" /><CodeLine lineNumber="10185"><span class="doxyHighlight">            emitInlineAsmError(<a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>, </span><span class="doxyHighlightStringLiteral">&quot;inline asm not supported yet: &quot;</span></CodeLine>
<Link id="l10186" /><CodeLine lineNumber="10186"><span class="doxyHighlight">                                     </span><span class="doxyHighlightStringLiteral">&quot;don&#39;t know how to handle tied &quot;</span></CodeLine>
<Link id="l10187" /><CodeLine lineNumber="10187"><span class="doxyHighlight">                                     </span><span class="doxyHighlightStringLiteral">&quot;indirect register inputs&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l10188" /><CodeLine lineNumber="10188"><span class="doxyHighlight">            </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l10189" /><CodeLine lineNumber="10189"><span class="doxyHighlight">          &#125;</span></CodeLine>
<Link id="l10190" /><CodeLine lineNumber="10190"></CodeLine>
<Link id="l10191" /><CodeLine lineNumber="10191"><span class="doxyHighlight">          SmallVector&lt;Register, 4&gt; Regs;</span></CodeLine>
<Link id="l10192" /><CodeLine lineNumber="10192"><span class="doxyHighlight">          MachineFunction &amp;MF = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMachineFunction();</span></CodeLine>
<Link id="l10193" /><CodeLine lineNumber="10193"><span class="doxyHighlight">          MachineRegisterInfo &amp;<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64advsimdscalarpass-cpp/#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = MF.<a href="/docs/api/classes/llvm/machinefunction/#a810234b6b3d223b7c74a4253fcc5ea5e">getRegInfo</a>();</span></CodeLine>
<Link id="l10194" /><CodeLine lineNumber="10194"><span class="doxyHighlight">          </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> TargetRegisterInfo &amp;<a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = &#42;MF.<a href="/docs/api/classes/llvm/machinefunction/#a3825368aca2bc1550d173660df4da6a6">getSubtarget</a>().<a href="/docs/api/classes/llvm/targetsubtargetinfo/#a43c530c830206ecf5ad3359364634c75">getRegisterInfo</a>();</span></CodeLine>
<Link id="l10195" /><CodeLine lineNumber="10195"><span class="doxyHighlight">          </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;<a href="/docs/api/namespaces/llvm/riscvfencefield/#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a> = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;RegisterSDNode&gt;</a>(AsmNodeOperands&#91;CurOp+1&#93;);</span></CodeLine>
<Link id="l10196" /><CodeLine lineNumber="10196"><span class="doxyHighlight">          <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/mem2reg-cpp/#a6fde3eb6ca09ddf2fd76432176d817bb">Register</a> TiedReg = <a href="/docs/api/namespaces/llvm/riscvfencefield/#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>-&gt;getReg();</span></CodeLine>
<Link id="l10197" /><CodeLine lineNumber="10197"><span class="doxyHighlight">          MVT RegVT = <a href="/docs/api/namespaces/llvm/riscvfencefield/#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>-&gt;getSimpleValueType(0);</span></CodeLine>
<Link id="l10198" /><CodeLine lineNumber="10198"><span class="doxyHighlight">          </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> TargetRegisterClass &#42;RC =</span></CodeLine>
<Link id="l10199" /><CodeLine lineNumber="10199"><span class="doxyHighlight">              TiedReg.<a href="/docs/api/classes/llvm/register/#ab203bbcbc320180b1da9e9a92ee0c784">isVirtual</a>()     ? <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64advsimdscalarpass-cpp/#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.getRegClass(TiedReg)</span></CodeLine>
<Link id="l10200" /><CodeLine lineNumber="10200"><span class="doxyHighlight">              : RegVT != MVT::Untyped ? TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a1a78b9f867cb5be3a052d6ad972484ca">getRegClassFor</a>(RegVT)</span></CodeLine>
<Link id="l10201" /><CodeLine lineNumber="10201"><span class="doxyHighlight">                                      : <a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>.getMinimalPhysRegClass(TiedReg);</span></CodeLine>
<Link id="l10202" /><CodeLine lineNumber="10202"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> i = 0, e = <a href="/docs/api/namespaces/llvm/mcid/#ab357441fcd1ea1f9b0d27c12700f6023">Flag</a>.getNumOperandRegisters(); i != e; ++i)</span></CodeLine>
<Link id="l10203" /><CodeLine lineNumber="10203"><span class="doxyHighlight">            Regs.<a href="/docs/api/classes/llvm/smallvectortemplatebase/#af42bfbc067df27c19ee2fc859df58799">push&#95;back</a>(<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64advsimdscalarpass-cpp/#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.createVirtualRegister(RC));</span></CodeLine>
<Link id="l10204" /><CodeLine lineNumber="10204"></CodeLine>
<Link id="l10205" /><CodeLine lineNumber="10205"><span class="doxyHighlight">          RegsForValue MatchedRegs(Regs, RegVT, InOperandVal.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>());</span></CodeLine>
<Link id="l10206" /><CodeLine lineNumber="10206"></CodeLine>
<Link id="l10207" /><CodeLine lineNumber="10207"><span class="doxyHighlight">          SDLoc dl = <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>();</span></CodeLine>
<Link id="l10208" /><CodeLine lineNumber="10208"><span class="doxyHighlight">          </span><span class="doxyHighlightComment">// Use the produced MatchedRegs object to</span></CodeLine>
<Link id="l10209" /><CodeLine lineNumber="10209"><span class="doxyHighlight">          MatchedRegs.getCopyToRegs(InOperandVal, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>, dl, Chain, &amp;Glue, &amp;<a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>);</span></CodeLine>
<Link id="l10210" /><CodeLine lineNumber="10210"><span class="doxyHighlight">          MatchedRegs.AddInlineAsmOperands(<a href="/docs/api/classes/llvm/inlineasm/#a49585056d1d7051dd2bd6f012e5b5e94a4ac13b7b2bba42947e897ffdf8797788">InlineAsm::Kind::RegUse</a>, </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">,</span></CodeLine>
<Link id="l10211" /><CodeLine lineNumber="10211"><span class="doxyHighlight">                                           OpInfo.getMatchedOperand(), dl, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>,</span></CodeLine>
<Link id="l10212" /><CodeLine lineNumber="10212"><span class="doxyHighlight">                                           AsmNodeOperands);</span></CodeLine>
<Link id="l10213" /><CodeLine lineNumber="10213"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l10214" /><CodeLine lineNumber="10214"><span class="doxyHighlight">        &#125;</span></CodeLine>
<Link id="l10215" /><CodeLine lineNumber="10215"></CodeLine>
<Link id="l10216" /><CodeLine lineNumber="10216"><span class="doxyHighlight">        <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a href="/docs/api/namespaces/llvm/mcid/#ab357441fcd1ea1f9b0d27c12700f6023">Flag</a>.isMemKind() &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Unknown matching constraint!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l10217" /><CodeLine lineNumber="10217"><span class="doxyHighlight">        <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a href="/docs/api/namespaces/llvm/mcid/#ab357441fcd1ea1f9b0d27c12700f6023">Flag</a>.getNumOperandRegisters() == 1 &amp;&amp;</span></CodeLine>
<Link id="l10218" /><CodeLine lineNumber="10218"><span class="doxyHighlight">               </span><span class="doxyHighlightStringLiteral">&quot;Unexpected number of operands&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l10219" /><CodeLine lineNumber="10219"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// Add information to the INLINEASM node to know about this input.</span></CodeLine>
<Link id="l10220" /><CodeLine lineNumber="10220"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// See InlineAsm.h isUseOperandTiedToDef.</span></CodeLine>
<Link id="l10221" /><CodeLine lineNumber="10221"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/mcid/#ab357441fcd1ea1f9b0d27c12700f6023">Flag</a>.clearMemConstraint();</span></CodeLine>
<Link id="l10222" /><CodeLine lineNumber="10222"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/mcid/#ab357441fcd1ea1f9b0d27c12700f6023">Flag</a>.setMatchingOp(OpInfo.getMatchedOperand());</span></CodeLine>
<Link id="l10223" /><CodeLine lineNumber="10223"><span class="doxyHighlight">        AsmNodeOperands.push&#95;back(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetConstant(</span></CodeLine>
<Link id="l10224" /><CodeLine lineNumber="10224"><span class="doxyHighlight">            Flag, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout())));</span></CodeLine>
<Link id="l10225" /><CodeLine lineNumber="10225"><span class="doxyHighlight">        AsmNodeOperands.push&#95;back(AsmNodeOperands&#91;CurOp+1&#93;);</span></CodeLine>
<Link id="l10226" /><CodeLine lineNumber="10226"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l10227" /><CodeLine lineNumber="10227"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l10228" /><CodeLine lineNumber="10228"></CodeLine>
<Link id="l10229" /><CodeLine lineNumber="10229"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Treat indirect &#39;X&#39; constraint as memory.</span></CodeLine>
<Link id="l10230" /><CodeLine lineNumber="10230"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (OpInfo.ConstraintType == <a href="/docs/api/classes/llvm/targetlowering/#a0b0176781cd4fd9f45cc739f1d007116abc9c279d343d2f957ab51b37ff39e88e">TargetLowering::C&#95;Other</a> &amp;&amp;</span></CodeLine>
<Link id="l10231" /><CodeLine lineNumber="10231"><span class="doxyHighlight">          OpInfo.isIndirect)</span></CodeLine>
<Link id="l10232" /><CodeLine lineNumber="10232"><span class="doxyHighlight">        OpInfo.ConstraintType = <a href="/docs/api/classes/llvm/targetlowering/#a0b0176781cd4fd9f45cc739f1d007116a420d729d2e7d056ec884c094ccdc4467">TargetLowering::C&#95;Memory</a>;</span></CodeLine>
<Link id="l10233" /><CodeLine lineNumber="10233"></CodeLine>
<Link id="l10234" /><CodeLine lineNumber="10234"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (OpInfo.ConstraintType == <a href="/docs/api/classes/llvm/targetlowering/#a0b0176781cd4fd9f45cc739f1d007116a7bc0fe0fa6be5eaabb77e46c8d9ab2c8">TargetLowering::C&#95;Immediate</a> ||</span></CodeLine>
<Link id="l10235" /><CodeLine lineNumber="10235"><span class="doxyHighlight">          OpInfo.ConstraintType == <a href="/docs/api/classes/llvm/targetlowering/#a0b0176781cd4fd9f45cc739f1d007116abc9c279d343d2f957ab51b37ff39e88e">TargetLowering::C&#95;Other</a>) &#123;</span></CodeLine>
<Link id="l10236" /><CodeLine lineNumber="10236"><span class="doxyHighlight">        std::vector&lt;SDValue&gt; <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>;</span></CodeLine>
<Link id="l10237" /><CodeLine lineNumber="10237"><span class="doxyHighlight">        TLI.<a href="/docs/api/classes/llvm/targetlowering/#ad3f2eb78e627fd0d785fd4119d299558">LowerAsmOperandForConstraint</a>(InOperandVal, OpInfo.ConstraintCode,</span></CodeLine>
<Link id="l10238" /><CodeLine lineNumber="10238"><span class="doxyHighlight">                                          <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>);</span></CodeLine>
<Link id="l10239" /><CodeLine lineNumber="10239"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.empty()) &#123;</span></CodeLine>
<Link id="l10240" /><CodeLine lineNumber="10240"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (OpInfo.ConstraintType == <a href="/docs/api/classes/llvm/targetlowering/#a0b0176781cd4fd9f45cc739f1d007116a7bc0fe0fa6be5eaabb77e46c8d9ab2c8">TargetLowering::C&#95;Immediate</a>)</span></CodeLine>
<Link id="l10241" /><CodeLine lineNumber="10241"><span class="doxyHighlight">            </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;ConstantSDNode&gt;</a>(InOperandVal)) &#123;</span></CodeLine>
<Link id="l10242" /><CodeLine lineNumber="10242"><span class="doxyHighlight">              emitInlineAsmError(<a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>, </span><span class="doxyHighlightStringLiteral">&quot;value out of range for constraint &#39;&quot;</span><span class="doxyHighlight"> +</span></CodeLine>
<Link id="l10243" /><CodeLine lineNumber="10243"><span class="doxyHighlight">                                           Twine(OpInfo.ConstraintCode) + </span><span class="doxyHighlightStringLiteral">&quot;&#39;&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l10244" /><CodeLine lineNumber="10244"><span class="doxyHighlight">              </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l10245" /><CodeLine lineNumber="10245"><span class="doxyHighlight">            &#125;</span></CodeLine>
<Link id="l10246" /><CodeLine lineNumber="10246"></CodeLine>
<Link id="l10247" /><CodeLine lineNumber="10247"><span class="doxyHighlight">          emitInlineAsmError(<a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>,</span></CodeLine>
<Link id="l10248" /><CodeLine lineNumber="10248"><span class="doxyHighlight">                             </span><span class="doxyHighlightStringLiteral">&quot;invalid operand for inline asm constraint &#39;&quot;</span><span class="doxyHighlight"> +</span></CodeLine>
<Link id="l10249" /><CodeLine lineNumber="10249"><span class="doxyHighlight">                                 Twine(OpInfo.ConstraintCode) + </span><span class="doxyHighlightStringLiteral">&quot;&#39;&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l10250" /><CodeLine lineNumber="10250"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l10251" /><CodeLine lineNumber="10251"><span class="doxyHighlight">        &#125;</span></CodeLine>
<Link id="l10252" /><CodeLine lineNumber="10252"></CodeLine>
<Link id="l10253" /><CodeLine lineNumber="10253"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// Add information to the INLINEASM node to know about this input.</span></CodeLine>
<Link id="l10254" /><CodeLine lineNumber="10254"><span class="doxyHighlight">        InlineAsm::Flag ResOpType(<a href="/docs/api/classes/llvm/inlineasm/#a49585056d1d7051dd2bd6f012e5b5e94ada9470e1aa5be1858e667318254dcb4b">InlineAsm::Kind::Imm</a>, <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.size());</span></CodeLine>
<Link id="l10255" /><CodeLine lineNumber="10255"><span class="doxyHighlight">        AsmNodeOperands.push&#95;back(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetConstant(</span></CodeLine>
<Link id="l10256" /><CodeLine lineNumber="10256"><span class="doxyHighlight">            ResOpType, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout())));</span></CodeLine>
<Link id="l10257" /><CodeLine lineNumber="10257"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/#a39d3d23a084c4544ee5903203db10e8a">llvm::append&#95;range</a>(AsmNodeOperands, <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>);</span></CodeLine>
<Link id="l10258" /><CodeLine lineNumber="10258"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l10259" /><CodeLine lineNumber="10259"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l10260" /><CodeLine lineNumber="10260"></CodeLine>
<Link id="l10261" /><CodeLine lineNumber="10261"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (OpInfo.ConstraintType == <a href="/docs/api/classes/llvm/targetlowering/#a0b0176781cd4fd9f45cc739f1d007116a420d729d2e7d056ec884c094ccdc4467">TargetLowering::C&#95;Memory</a>) &#123;</span></CodeLine>
<Link id="l10262" /><CodeLine lineNumber="10262"><span class="doxyHighlight">        <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((OpInfo.isIndirect ||</span></CodeLine>
<Link id="l10263" /><CodeLine lineNumber="10263"><span class="doxyHighlight">                OpInfo.ConstraintType != <a href="/docs/api/classes/llvm/targetlowering/#a0b0176781cd4fd9f45cc739f1d007116a420d729d2e7d056ec884c094ccdc4467">TargetLowering::C&#95;Memory</a>) &amp;&amp;</span></CodeLine>
<Link id="l10264" /><CodeLine lineNumber="10264"><span class="doxyHighlight">               </span><span class="doxyHighlightStringLiteral">&quot;Operand must be indirect to be a mem!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l10265" /><CodeLine lineNumber="10265"><span class="doxyHighlight">        <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(InOperandVal.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>() ==</span></CodeLine>
<Link id="l10266" /><CodeLine lineNumber="10266"><span class="doxyHighlight">                   TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout()) &amp;&amp;</span></CodeLine>
<Link id="l10267" /><CodeLine lineNumber="10267"><span class="doxyHighlight">               </span><span class="doxyHighlightStringLiteral">&quot;Memory operands expect pointer values&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l10268" /><CodeLine lineNumber="10268"></CodeLine>
<Link id="l10269" /><CodeLine lineNumber="10269"><span class="doxyHighlight">        </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/inlineasm/#af73223719f15f8ca95f36ce43aa9d6d0">InlineAsm::ConstraintCode</a> ConstraintID =</span></CodeLine>
<Link id="l10270" /><CodeLine lineNumber="10270"><span class="doxyHighlight">            TLI.<a href="/docs/api/classes/llvm/targetlowering/#a3acbc2d34d9a6d35b63a04f0ae20136c">getInlineAsmMemConstraint</a>(OpInfo.ConstraintCode);</span></CodeLine>
<Link id="l10271" /><CodeLine lineNumber="10271"><span class="doxyHighlight">        <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ConstraintID != <a href="/docs/api/classes/llvm/inlineasm/#af73223719f15f8ca95f36ce43aa9d6d0a88183b946cc5f0e8c96b2e66e1c74a7e">InlineAsm::ConstraintCode::Unknown</a> &amp;&amp;</span></CodeLine>
<Link id="l10272" /><CodeLine lineNumber="10272"><span class="doxyHighlight">               </span><span class="doxyHighlightStringLiteral">&quot;Failed to convert memory constraint code to constraint id.&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l10273" /><CodeLine lineNumber="10273"></CodeLine>
<Link id="l10274" /><CodeLine lineNumber="10274"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// Add information to the INLINEASM node to know about this input.</span></CodeLine>
<Link id="l10275" /><CodeLine lineNumber="10275"><span class="doxyHighlight">        InlineAsm::Flag ResOpType(<a href="/docs/api/classes/llvm/inlineasm/#a49585056d1d7051dd2bd6f012e5b5e94adba5553473d129a7985fb532dc249ff4">InlineAsm::Kind::Mem</a>, 1);</span></CodeLine>
<Link id="l10276" /><CodeLine lineNumber="10276"><span class="doxyHighlight">        ResOpType.setMemConstraint(ConstraintID);</span></CodeLine>
<Link id="l10277" /><CodeLine lineNumber="10277"><span class="doxyHighlight">        AsmNodeOperands.push&#95;back(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetConstant(ResOpType,</span></CodeLine>
<Link id="l10278" /><CodeLine lineNumber="10278"><span class="doxyHighlight">                                                        <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(),</span></CodeLine>
<Link id="l10279" /><CodeLine lineNumber="10279"><span class="doxyHighlight">                                                        MVT::i32));</span></CodeLine>
<Link id="l10280" /><CodeLine lineNumber="10280"><span class="doxyHighlight">        AsmNodeOperands.push&#95;back(InOperandVal);</span></CodeLine>
<Link id="l10281" /><CodeLine lineNumber="10281"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l10282" /><CodeLine lineNumber="10282"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l10283" /><CodeLine lineNumber="10283"></CodeLine>
<Link id="l10284" /><CodeLine lineNumber="10284"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (OpInfo.ConstraintType == <a href="/docs/api/classes/llvm/targetlowering/#a0b0176781cd4fd9f45cc739f1d007116abd588753884964e239e61d80ebc2f039">TargetLowering::C&#95;Address</a>) &#123;</span></CodeLine>
<Link id="l10285" /><CodeLine lineNumber="10285"><span class="doxyHighlight">        </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/inlineasm/#af73223719f15f8ca95f36ce43aa9d6d0">InlineAsm::ConstraintCode</a> ConstraintID =</span></CodeLine>
<Link id="l10286" /><CodeLine lineNumber="10286"><span class="doxyHighlight">            TLI.<a href="/docs/api/classes/llvm/targetlowering/#a3acbc2d34d9a6d35b63a04f0ae20136c">getInlineAsmMemConstraint</a>(OpInfo.ConstraintCode);</span></CodeLine>
<Link id="l10287" /><CodeLine lineNumber="10287"><span class="doxyHighlight">        <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ConstraintID != <a href="/docs/api/classes/llvm/inlineasm/#af73223719f15f8ca95f36ce43aa9d6d0a88183b946cc5f0e8c96b2e66e1c74a7e">InlineAsm::ConstraintCode::Unknown</a> &amp;&amp;</span></CodeLine>
<Link id="l10288" /><CodeLine lineNumber="10288"><span class="doxyHighlight">               </span><span class="doxyHighlightStringLiteral">&quot;Failed to convert memory constraint code to constraint id.&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l10289" /><CodeLine lineNumber="10289"></CodeLine>
<Link id="l10290" /><CodeLine lineNumber="10290"><span class="doxyHighlight">        InlineAsm::Flag ResOpType(<a href="/docs/api/classes/llvm/inlineasm/#a49585056d1d7051dd2bd6f012e5b5e94adba5553473d129a7985fb532dc249ff4">InlineAsm::Kind::Mem</a>, 1);</span></CodeLine>
<Link id="l10291" /><CodeLine lineNumber="10291"></CodeLine>
<Link id="l10292" /><CodeLine lineNumber="10292"><span class="doxyHighlight">        <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> AsmOp = InOperandVal;</span></CodeLine>
<Link id="l10293" /><CodeLine lineNumber="10293"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="#aa5423d2fba2a995d71e3294b14a19bbc">isFunction</a>(InOperandVal)) &#123;</span></CodeLine>
<Link id="l10294" /><CodeLine lineNumber="10294"><span class="doxyHighlight">          </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;GA = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;GlobalAddressSDNode&gt;</a>(InOperandVal);</span></CodeLine>
<Link id="l10295" /><CodeLine lineNumber="10295"><span class="doxyHighlight">          ResOpType = InlineAsm::Flag(<a href="/docs/api/classes/llvm/inlineasm/#a49585056d1d7051dd2bd6f012e5b5e94a00d0b4f2d7dcdaaef835b97cf5d1e0df">InlineAsm::Kind::Func</a>, 1);</span></CodeLine>
<Link id="l10296" /><CodeLine lineNumber="10296"><span class="doxyHighlight">          AsmOp = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetGlobalAddress(GA-&gt;getGlobal(), <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(),</span></CodeLine>
<Link id="l10297" /><CodeLine lineNumber="10297"><span class="doxyHighlight">                                             InOperandVal.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>(),</span></CodeLine>
<Link id="l10298" /><CodeLine lineNumber="10298"><span class="doxyHighlight">                                             GA-&gt;getOffset());</span></CodeLine>
<Link id="l10299" /><CodeLine lineNumber="10299"><span class="doxyHighlight">        &#125;</span></CodeLine>
<Link id="l10300" /><CodeLine lineNumber="10300"></CodeLine>
<Link id="l10301" /><CodeLine lineNumber="10301"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// Add information to the INLINEASM node to know about this input.</span></CodeLine>
<Link id="l10302" /><CodeLine lineNumber="10302"><span class="doxyHighlight">        ResOpType.setMemConstraint(ConstraintID);</span></CodeLine>
<Link id="l10303" /><CodeLine lineNumber="10303"></CodeLine>
<Link id="l10304" /><CodeLine lineNumber="10304"><span class="doxyHighlight">        AsmNodeOperands.push&#95;back(</span></CodeLine>
<Link id="l10305" /><CodeLine lineNumber="10305"><span class="doxyHighlight">            <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetConstant(ResOpType, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), MVT::i32));</span></CodeLine>
<Link id="l10306" /><CodeLine lineNumber="10306"></CodeLine>
<Link id="l10307" /><CodeLine lineNumber="10307"><span class="doxyHighlight">        AsmNodeOperands.push&#95;back(AsmOp);</span></CodeLine>
<Link id="l10308" /><CodeLine lineNumber="10308"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l10309" /><CodeLine lineNumber="10309"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l10310" /><CodeLine lineNumber="10310"></CodeLine>
<Link id="l10311" /><CodeLine lineNumber="10311"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (OpInfo.ConstraintType != <a href="/docs/api/classes/llvm/targetlowering/#a0b0176781cd4fd9f45cc739f1d007116a1d7718fd43ac0a5c715686a76f9cfd89">TargetLowering::C&#95;RegisterClass</a> &amp;&amp;</span></CodeLine>
<Link id="l10312" /><CodeLine lineNumber="10312"><span class="doxyHighlight">          OpInfo.ConstraintType != <a href="/docs/api/classes/llvm/targetlowering/#a0b0176781cd4fd9f45cc739f1d007116a85f9b8131f0608c03c58e4e23d875dfc">TargetLowering::C&#95;Register</a>) &#123;</span></CodeLine>
<Link id="l10313" /><CodeLine lineNumber="10313"><span class="doxyHighlight">        emitInlineAsmError(<a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>, </span><span class="doxyHighlightStringLiteral">&quot;unknown asm constraint &#39;&quot;</span><span class="doxyHighlight"> +</span></CodeLine>
<Link id="l10314" /><CodeLine lineNumber="10314"><span class="doxyHighlight">                                     Twine(OpInfo.ConstraintCode) + </span><span class="doxyHighlightStringLiteral">&quot;&#39;&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l10315" /><CodeLine lineNumber="10315"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l10316" /><CodeLine lineNumber="10316"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l10317" /><CodeLine lineNumber="10317"></CodeLine>
<Link id="l10318" /><CodeLine lineNumber="10318"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// TODO: Support this.</span></CodeLine>
<Link id="l10319" /><CodeLine lineNumber="10319"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (OpInfo.isIndirect) &#123;</span></CodeLine>
<Link id="l10320" /><CodeLine lineNumber="10320"><span class="doxyHighlight">        emitInlineAsmError(</span></CodeLine>
<Link id="l10321" /><CodeLine lineNumber="10321"><span class="doxyHighlight">            <a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>, </span><span class="doxyHighlightStringLiteral">&quot;Don&#39;t know how to handle indirect register inputs yet &quot;</span></CodeLine>
<Link id="l10322" /><CodeLine lineNumber="10322"><span class="doxyHighlight">                  </span><span class="doxyHighlightStringLiteral">&quot;for constraint &#39;&quot;</span><span class="doxyHighlight"> +</span></CodeLine>
<Link id="l10323" /><CodeLine lineNumber="10323"><span class="doxyHighlight">                      Twine(OpInfo.ConstraintCode) + </span><span class="doxyHighlightStringLiteral">&quot;&#39;&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l10324" /><CodeLine lineNumber="10324"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l10325" /><CodeLine lineNumber="10325"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l10326" /><CodeLine lineNumber="10326"></CodeLine>
<Link id="l10327" /><CodeLine lineNumber="10327"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Copy the input into the appropriate registers.</span></CodeLine>
<Link id="l10328" /><CodeLine lineNumber="10328"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (OpInfo.AssignedRegs.Regs.empty()) &#123;</span></CodeLine>
<Link id="l10329" /><CodeLine lineNumber="10329"><span class="doxyHighlight">        emitInlineAsmError(<a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>,</span></CodeLine>
<Link id="l10330" /><CodeLine lineNumber="10330"><span class="doxyHighlight">                           </span><span class="doxyHighlightStringLiteral">&quot;couldn&#39;t allocate input reg for constraint &#39;&quot;</span><span class="doxyHighlight"> +</span></CodeLine>
<Link id="l10331" /><CodeLine lineNumber="10331"><span class="doxyHighlight">                               Twine(OpInfo.ConstraintCode) + </span><span class="doxyHighlightStringLiteral">&quot;&#39;&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l10332" /><CodeLine lineNumber="10332"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l10333" /><CodeLine lineNumber="10333"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l10334" /><CodeLine lineNumber="10334"></CodeLine>
<Link id="l10335" /><CodeLine lineNumber="10335"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (DetectWriteToReservedRegister())</span></CodeLine>
<Link id="l10336" /><CodeLine lineNumber="10336"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l10337" /><CodeLine lineNumber="10337"></CodeLine>
<Link id="l10338" /><CodeLine lineNumber="10338"><span class="doxyHighlight">      SDLoc dl = <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>();</span></CodeLine>
<Link id="l10339" /><CodeLine lineNumber="10339"></CodeLine>
<Link id="l10340" /><CodeLine lineNumber="10340"><span class="doxyHighlight">      OpInfo.AssignedRegs.getCopyToRegs(InOperandVal, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>, dl, Chain, &amp;Glue,</span></CodeLine>
<Link id="l10341" /><CodeLine lineNumber="10341"><span class="doxyHighlight">                                        &amp;<a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>);</span></CodeLine>
<Link id="l10342" /><CodeLine lineNumber="10342"></CodeLine>
<Link id="l10343" /><CodeLine lineNumber="10343"><span class="doxyHighlight">      OpInfo.AssignedRegs.AddInlineAsmOperands(<a href="/docs/api/classes/llvm/inlineasm/#a49585056d1d7051dd2bd6f012e5b5e94a4ac13b7b2bba42947e897ffdf8797788">InlineAsm::Kind::RegUse</a>, </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">,</span></CodeLine>
<Link id="l10344" /><CodeLine lineNumber="10344"><span class="doxyHighlight">                                               0, dl, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>, AsmNodeOperands);</span></CodeLine>
<Link id="l10345" /><CodeLine lineNumber="10345"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l10346" /><CodeLine lineNumber="10346"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l10347" /><CodeLine lineNumber="10347"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/inlineasm/#a511f48809ad14f13e50b957a137a9d34adf39e7f7e158f2ccacae6d4446197322">InlineAsm::isClobber</a>:</span></CodeLine>
<Link id="l10348" /><CodeLine lineNumber="10348"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Add the clobbered value to the operand list, so that the register</span></CodeLine>
<Link id="l10349" /><CodeLine lineNumber="10349"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// allocator is aware that the physreg got clobbered.</span></CodeLine>
<Link id="l10350" /><CodeLine lineNumber="10350"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!OpInfo.AssignedRegs.Regs.empty())</span></CodeLine>
<Link id="l10351" /><CodeLine lineNumber="10351"><span class="doxyHighlight">        OpInfo.AssignedRegs.AddInlineAsmOperands(<a href="/docs/api/classes/llvm/inlineasm/#a49585056d1d7051dd2bd6f012e5b5e94ac50132234eb8c934e71b7f2f0fa5099c">InlineAsm::Kind::Clobber</a>,</span></CodeLine>
<Link id="l10352" /><CodeLine lineNumber="10352"><span class="doxyHighlight">                                                 </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">, 0, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>,</span></CodeLine>
<Link id="l10353" /><CodeLine lineNumber="10353"><span class="doxyHighlight">                                                 AsmNodeOperands);</span></CodeLine>
<Link id="l10354" /><CodeLine lineNumber="10354"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l10355" /><CodeLine lineNumber="10355"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l10356" /><CodeLine lineNumber="10356"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l10357" /><CodeLine lineNumber="10357"></CodeLine>
<Link id="l10358" /><CodeLine lineNumber="10358"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Finish up input operands.  Set the input chain and add the flag last.</span></CodeLine>
<Link id="l10359" /><CodeLine lineNumber="10359"><span class="doxyHighlight">  AsmNodeOperands&#91;<a href="/docs/api/classes/llvm/inlineasm/#af263df97504e0800bba5e552246b7370a561c23f9fc6d8fe79f70cebf74937b30">InlineAsm::Op&#95;InputChain</a>&#93; = <a href="/docs/api/namespaces/anonymous-loadstorevectorizer-cpp-/#afd1adfcbfce320e6265935ce4d6299a3">Chain</a>;</span></CodeLine>
<Link id="l10360" /><CodeLine lineNumber="10360"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Glue.<a href="/docs/api/classes/llvm/sdvalue/#a2b08aa629a6326d1a0444ee6d477c39d">getNode</a>()) AsmNodeOperands.push&#95;back(Glue);</span></CodeLine>
<Link id="l10361" /><CodeLine lineNumber="10361"></CodeLine>
<Link id="l10362" /><CodeLine lineNumber="10362"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> ISDOpc = IsCallBr ? ISD::INLINEASM&#95;BR : ISD::INLINEASM;</span></CodeLine>
<Link id="l10363" /><CodeLine lineNumber="10363"><span class="doxyHighlight">  <a href="/docs/api/namespaces/anonymous-loadstorevectorizer-cpp-/#afd1adfcbfce320e6265935ce4d6299a3">Chain</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISDOpc, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(),</span></CodeLine>
<Link id="l10364" /><CodeLine lineNumber="10364"><span class="doxyHighlight">                      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVTList(MVT::Other, MVT::Glue), AsmNodeOperands);</span></CodeLine>
<Link id="l10365" /><CodeLine lineNumber="10365"><span class="doxyHighlight">  Glue = <a href="/docs/api/namespaces/anonymous-loadstorevectorizer-cpp-/#afd1adfcbfce320e6265935ce4d6299a3">Chain</a>.getValue(1);</span></CodeLine>
<Link id="l10366" /><CodeLine lineNumber="10366"></CodeLine>
<Link id="l10367" /><CodeLine lineNumber="10367"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Do additional work to generate outputs.</span></CodeLine>
<Link id="l10368" /><CodeLine lineNumber="10368"></CodeLine>
<Link id="l10369" /><CodeLine lineNumber="10369"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;EVT, 1&gt;</a> ResultVTs;</span></CodeLine>
<Link id="l10370" /><CodeLine lineNumber="10370"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;SDValue, 1&gt;</a> ResultValues;</span></CodeLine>
<Link id="l10371" /><CodeLine lineNumber="10371"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;SDValue, 8&gt;</a> OutChains;</span></CodeLine>
<Link id="l10372" /><CodeLine lineNumber="10372"></CodeLine>
<Link id="l10373" /><CodeLine lineNumber="10373"><span class="doxyHighlight">  llvm::Type &#42;CallResultType = <a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>.<a href="/docs/api/classes/llvm/value/#a0344a49526443edf90cc0aef3abd3337">getType</a>();</span></CodeLine>
<Link id="l10374" /><CodeLine lineNumber="10374"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#ab9c6b351507d3c0730f4290919d43a12">ArrayRef&lt;Type &#42;&gt;</a> ResultTypes;</span></CodeLine>
<Link id="l10375" /><CodeLine lineNumber="10375"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (StructType &#42;StructResult = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;StructType&gt;</a>(CallResultType))</span></CodeLine>
<Link id="l10376" /><CodeLine lineNumber="10376"><span class="doxyHighlight">    ResultTypes = StructResult-&gt;elements();</span></CodeLine>
<Link id="l10377" /><CodeLine lineNumber="10377"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!CallResultType-&gt;<a href="/docs/api/classes/llvm/type/#ae8eaa0b4eeac52a2b2282cb1bfd981ae">isVoidTy</a>())</span></CodeLine>
<Link id="l10378" /><CodeLine lineNumber="10378"><span class="doxyHighlight">    ResultTypes = <a href="/docs/api/namespaces/llvm/#ab9c6b351507d3c0730f4290919d43a12">ArrayRef</a>(CallResultType);</span></CodeLine>
<Link id="l10379" /><CodeLine lineNumber="10379"></CodeLine>
<Link id="l10380" /><CodeLine lineNumber="10380"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> CurResultType = ResultTypes.<a href="/docs/api/classes/llvm/arrayref/#aab36927882fbfdcbb860d87fd9c30da8">begin</a>();</span></CodeLine>
<Link id="l10381" /><CodeLine lineNumber="10381"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> handleRegAssign = &#91;&amp;&#93;(<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/m68k/#ab3a288f2953d8eca3e363959fc2cf38ea5206560a306a2e085a437fd258eb57ce">V</a>) &#123;</span></CodeLine>
<Link id="l10382" /><CodeLine lineNumber="10382"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(CurResultType != ResultTypes.<a href="/docs/api/classes/llvm/arrayref/#a7ca5197533a9c1fb8a2bd30587fcec6b">end</a>() &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Unexpected value&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l10383" /><CodeLine lineNumber="10383"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((&#42;CurResultType)-&gt;isSized() &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Unexpected unsized type&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l10384" /><CodeLine lineNumber="10384"><span class="doxyHighlight">    EVT ResultVT = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), &#42;CurResultType);</span></CodeLine>
<Link id="l10385" /><CodeLine lineNumber="10385"><span class="doxyHighlight">    ++CurResultType;</span></CodeLine>
<Link id="l10386" /><CodeLine lineNumber="10386"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// If the type of the inline asm call site return value is different but has</span></CodeLine>
<Link id="l10387" /><CodeLine lineNumber="10387"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// same size as the type of the asm output bitcast it.  One example of this</span></CodeLine>
<Link id="l10388" /><CodeLine lineNumber="10388"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// is for vectors with different width / number of elements.  This can</span></CodeLine>
<Link id="l10389" /><CodeLine lineNumber="10389"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// happen for register classes that can contain multiple different value</span></CodeLine>
<Link id="l10390" /><CodeLine lineNumber="10390"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// types.  The preg or vreg allocated may not have the same VT as was</span></CodeLine>
<Link id="l10391" /><CodeLine lineNumber="10391"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// expected.</span></CodeLine>
<Link id="l10392" /><CodeLine lineNumber="10392"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l10393" /><CodeLine lineNumber="10393"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// This can also happen for a return value that disagrees with the register</span></CodeLine>
<Link id="l10394" /><CodeLine lineNumber="10394"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// class it is put in, eg. a double in a general-purpose register on a</span></CodeLine>
<Link id="l10395" /><CodeLine lineNumber="10395"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// 32-bit machine.</span></CodeLine>
<Link id="l10396" /><CodeLine lineNumber="10396"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (ResultVT != <a href="/docs/api/namespaces/llvm/m68k/#ab3a288f2953d8eca3e363959fc2cf38ea5206560a306a2e085a437fd258eb57ce">V</a>.getValueType() &amp;&amp;</span></CodeLine>
<Link id="l10397" /><CodeLine lineNumber="10397"><span class="doxyHighlight">        ResultVT.<a href="/docs/api/structs/llvm/evt/#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>() == <a href="/docs/api/namespaces/llvm/m68k/#ab3a288f2953d8eca3e363959fc2cf38ea5206560a306a2e085a437fd258eb57ce">V</a>.getValueSizeInBits())</span></CodeLine>
<Link id="l10398" /><CodeLine lineNumber="10398"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/m68k/#ab3a288f2953d8eca3e363959fc2cf38ea5206560a306a2e085a437fd258eb57ce">V</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::BITCAST, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), ResultVT, V);</span></CodeLine>
<Link id="l10399" /><CodeLine lineNumber="10399"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (ResultVT != <a href="/docs/api/namespaces/llvm/m68k/#ab3a288f2953d8eca3e363959fc2cf38ea5206560a306a2e085a437fd258eb57ce">V</a>.getValueType() &amp;&amp; ResultVT.<a href="/docs/api/structs/llvm/evt/#af975bf04c49cc895cfe38e7dc126a2f1">isInteger</a>() &amp;&amp;</span></CodeLine>
<Link id="l10400" /><CodeLine lineNumber="10400"><span class="doxyHighlight">             <a href="/docs/api/namespaces/llvm/m68k/#ab3a288f2953d8eca3e363959fc2cf38ea5206560a306a2e085a437fd258eb57ce">V</a>.getValueType().isInteger()) &#123;</span></CodeLine>
<Link id="l10401" /><CodeLine lineNumber="10401"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// If a result value was tied to an input value, the computed result</span></CodeLine>
<Link id="l10402" /><CodeLine lineNumber="10402"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// may have a wider width than the expected result.  Extract the</span></CodeLine>
<Link id="l10403" /><CodeLine lineNumber="10403"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// relevant portion.</span></CodeLine>
<Link id="l10404" /><CodeLine lineNumber="10404"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/m68k/#ab3a288f2953d8eca3e363959fc2cf38ea5206560a306a2e085a437fd258eb57ce">V</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), ResultVT, V);</span></CodeLine>
<Link id="l10405" /><CodeLine lineNumber="10405"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l10406" /><CodeLine lineNumber="10406"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ResultVT == <a href="/docs/api/namespaces/llvm/m68k/#ab3a288f2953d8eca3e363959fc2cf38ea5206560a306a2e085a437fd258eb57ce">V</a>.getValueType() &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Asm result value mismatch!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l10407" /><CodeLine lineNumber="10407"><span class="doxyHighlight">    ResultVTs.<a href="/docs/api/classes/llvm/smallvectortemplatebase/#af42bfbc067df27c19ee2fc859df58799">push&#95;back</a>(ResultVT);</span></CodeLine>
<Link id="l10408" /><CodeLine lineNumber="10408"><span class="doxyHighlight">    ResultValues.<a href="/docs/api/classes/llvm/smallvectortemplatebase/#af42bfbc067df27c19ee2fc859df58799">push&#95;back</a>(V);</span></CodeLine>
<Link id="l10409" /><CodeLine lineNumber="10409"><span class="doxyHighlight">  &#125;;</span></CodeLine>
<Link id="l10410" /><CodeLine lineNumber="10410"></CodeLine>
<Link id="l10411" /><CodeLine lineNumber="10411"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Deal with output operands.</span></CodeLine>
<Link id="l10412" /><CodeLine lineNumber="10412"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (SDISelAsmOperandInfo &amp;OpInfo : ConstraintOperands) &#123;</span></CodeLine>
<Link id="l10413" /><CodeLine lineNumber="10413"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (OpInfo.Type == <a href="/docs/api/classes/llvm/inlineasm/#a511f48809ad14f13e50b957a137a9d34aabfa616f81b4833fdf462b07aabfa53f">InlineAsm::isOutput</a>) &#123;</span></CodeLine>
<Link id="l10414" /><CodeLine lineNumber="10414"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Val;</span></CodeLine>
<Link id="l10415" /><CodeLine lineNumber="10415"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Skip trivial output operands.</span></CodeLine>
<Link id="l10416" /><CodeLine lineNumber="10416"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (OpInfo.AssignedRegs.Regs.empty())</span></CodeLine>
<Link id="l10417" /><CodeLine lineNumber="10417"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">continue</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l10418" /><CodeLine lineNumber="10418"></CodeLine>
<Link id="l10419" /><CodeLine lineNumber="10419"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">switch</span><span class="doxyHighlight"> (OpInfo.ConstraintType) &#123;</span></CodeLine>
<Link id="l10420" /><CodeLine lineNumber="10420"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetlowering/#a0b0176781cd4fd9f45cc739f1d007116a85f9b8131f0608c03c58e4e23d875dfc">TargetLowering::C&#95;Register</a>:</span></CodeLine>
<Link id="l10421" /><CodeLine lineNumber="10421"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetlowering/#a0b0176781cd4fd9f45cc739f1d007116a1d7718fd43ac0a5c715686a76f9cfd89">TargetLowering::C&#95;RegisterClass</a>:</span></CodeLine>
<Link id="l10422" /><CodeLine lineNumber="10422"><span class="doxyHighlight">        Val = OpInfo.AssignedRegs.getCopyFromRegs(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(),</span></CodeLine>
<Link id="l10423" /><CodeLine lineNumber="10423"><span class="doxyHighlight">                                                  Chain, &amp;Glue, &amp;<a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>);</span></CodeLine>
<Link id="l10424" /><CodeLine lineNumber="10424"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l10425" /><CodeLine lineNumber="10425"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetlowering/#a0b0176781cd4fd9f45cc739f1d007116a7bc0fe0fa6be5eaabb77e46c8d9ab2c8">TargetLowering::C&#95;Immediate</a>:</span></CodeLine>
<Link id="l10426" /><CodeLine lineNumber="10426"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetlowering/#a0b0176781cd4fd9f45cc739f1d007116abc9c279d343d2f957ab51b37ff39e88e">TargetLowering::C&#95;Other</a>:</span></CodeLine>
<Link id="l10427" /><CodeLine lineNumber="10427"><span class="doxyHighlight">        Val = TLI.<a href="/docs/api/classes/llvm/targetlowering/#a91072af01cf52109f52a15ea367157bf">LowerAsmOutputForConstraint</a>(Chain, Glue, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(),</span></CodeLine>
<Link id="l10428" /><CodeLine lineNumber="10428"><span class="doxyHighlight">                                              OpInfo, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>);</span></CodeLine>
<Link id="l10429" /><CodeLine lineNumber="10429"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l10430" /><CodeLine lineNumber="10430"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetlowering/#a0b0176781cd4fd9f45cc739f1d007116a420d729d2e7d056ec884c094ccdc4467">TargetLowering::C&#95;Memory</a>:</span></CodeLine>
<Link id="l10431" /><CodeLine lineNumber="10431"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">; </span><span class="doxyHighlightComment">// Already handled.</span></CodeLine>
<Link id="l10432" /><CodeLine lineNumber="10432"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetlowering/#a0b0176781cd4fd9f45cc739f1d007116abd588753884964e239e61d80ebc2f039">TargetLowering::C&#95;Address</a>:</span></CodeLine>
<Link id="l10433" /><CodeLine lineNumber="10433"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">; </span><span class="doxyHighlightComment">// Silence warning.</span></CodeLine>
<Link id="l10434" /><CodeLine lineNumber="10434"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetlowering/#a0b0176781cd4fd9f45cc739f1d007116ad4cd486b7360ed34c9553b6c9056b764">TargetLowering::C&#95;Unknown</a>:</span></CodeLine>
<Link id="l10435" /><CodeLine lineNumber="10435"><span class="doxyHighlight">        <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(</span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight"> &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Unexpected unknown constraint&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l10436" /><CodeLine lineNumber="10436"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l10437" /><CodeLine lineNumber="10437"></CodeLine>
<Link id="l10438" /><CodeLine lineNumber="10438"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Indirect output manifest as stores. Record output chains.</span></CodeLine>
<Link id="l10439" /><CodeLine lineNumber="10439"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (OpInfo.isIndirect) &#123;</span></CodeLine>
<Link id="l10440" /><CodeLine lineNumber="10440"><span class="doxyHighlight">        </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;<a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = OpInfo.CallOperandVal;</span></CodeLine>
<Link id="l10441" /><CodeLine lineNumber="10441"><span class="doxyHighlight">        <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Expected value CallOperandVal for indirect asm operand&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l10442" /><CodeLine lineNumber="10442"><span class="doxyHighlight">        <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/spii/#ad2b7483c625986ac800ae1c31ae4cce7a36b3dd3b84fde3f8494a9b18af131856">Store</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getStore(Chain, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), Val, <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>),</span></CodeLine>
<Link id="l10443" /><CodeLine lineNumber="10443"><span class="doxyHighlight">                                     MachinePointerInfo(<a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>));</span></CodeLine>
<Link id="l10444" /><CodeLine lineNumber="10444"><span class="doxyHighlight">        OutChains.<a href="/docs/api/classes/llvm/smallvectortemplatebase/#af42bfbc067df27c19ee2fc859df58799">push&#95;back</a>(Store);</span></CodeLine>
<Link id="l10445" /><CodeLine lineNumber="10445"><span class="doxyHighlight">      &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l10446" /><CodeLine lineNumber="10446"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// generate CopyFromRegs to associated registers.</span></CodeLine>
<Link id="l10447" /><CodeLine lineNumber="10447"><span class="doxyHighlight">        <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>.<a href="/docs/api/classes/llvm/value/#a0344a49526443edf90cc0aef3abd3337">getType</a>()-&gt;<a href="/docs/api/classes/llvm/type/#ae8eaa0b4eeac52a2b2282cb1bfd981ae">isVoidTy</a>() &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Bad inline asm!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l10448" /><CodeLine lineNumber="10448"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Val.<a href="/docs/api/classes/llvm/sdvalue/#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a01c94937492f3ac3fb1e0be8eb0b9ef1">ISD::MERGE&#95;VALUES</a>) &#123;</span></CodeLine>
<Link id="l10449" /><CodeLine lineNumber="10449"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> &amp;V : Val-&gt;<a href="/docs/api/classes/llvm/sdnode/#a2bb043b87aa8cdef6d1e9e14329aec6a">op&#95;values</a>())</span></CodeLine>
<Link id="l10450" /><CodeLine lineNumber="10450"><span class="doxyHighlight">            handleRegAssign(V);</span></CodeLine>
<Link id="l10451" /><CodeLine lineNumber="10451"><span class="doxyHighlight">        &#125; </span><span class="doxyHighlightKeywordFlow">else</span></CodeLine>
<Link id="l10452" /><CodeLine lineNumber="10452"><span class="doxyHighlight">          handleRegAssign(Val);</span></CodeLine>
<Link id="l10453" /><CodeLine lineNumber="10453"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l10454" /><CodeLine lineNumber="10454"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l10455" /><CodeLine lineNumber="10455"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l10456" /><CodeLine lineNumber="10456"></CodeLine>
<Link id="l10457" /><CodeLine lineNumber="10457"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Set results.</span></CodeLine>
<Link id="l10458" /><CodeLine lineNumber="10458"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!ResultValues.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#ad9a3c7bc26b130377bbafc170b5f88a2">empty</a>()) &#123;</span></CodeLine>
<Link id="l10459" /><CodeLine lineNumber="10459"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(CurResultType == ResultTypes.<a href="/docs/api/classes/llvm/arrayref/#a7ca5197533a9c1fb8a2bd30587fcec6b">end</a>() &amp;&amp;</span></CodeLine>
<Link id="l10460" /><CodeLine lineNumber="10460"><span class="doxyHighlight">           </span><span class="doxyHighlightStringLiteral">&quot;Mismatch in number of ResultTypes&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l10461" /><CodeLine lineNumber="10461"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ResultValues.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#a1c479a8c434377c2b8cb056bdfdfc201">size</a>() == ResultTypes.<a href="/docs/api/classes/llvm/arrayref/#a85ffb6531d4cda988ea81f18d4e56fb7">size</a>() &amp;&amp;</span></CodeLine>
<Link id="l10462" /><CodeLine lineNumber="10462"><span class="doxyHighlight">           </span><span class="doxyHighlightStringLiteral">&quot;Mismatch in number of output operands in asm result&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l10463" /><CodeLine lineNumber="10463"></CodeLine>
<Link id="l10464" /><CodeLine lineNumber="10464"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/m68k/#ab3a288f2953d8eca3e363959fc2cf38ea5206560a306a2e085a437fd258eb57ce">V</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a01c94937492f3ac3fb1e0be8eb0b9ef1">ISD::MERGE&#95;VALUES</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(),</span></CodeLine>
<Link id="l10465" /><CodeLine lineNumber="10465"><span class="doxyHighlight">                            <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVTList(ResultVTs), ResultValues);</span></CodeLine>
<Link id="l10466" /><CodeLine lineNumber="10466"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>, V);</span></CodeLine>
<Link id="l10467" /><CodeLine lineNumber="10467"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l10468" /><CodeLine lineNumber="10468"></CodeLine>
<Link id="l10469" /><CodeLine lineNumber="10469"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Collect store chains.</span></CodeLine>
<Link id="l10470" /><CodeLine lineNumber="10470"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!OutChains.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#ad9a3c7bc26b130377bbafc170b5f88a2">empty</a>())</span></CodeLine>
<Link id="l10471" /><CodeLine lineNumber="10471"><span class="doxyHighlight">    <a href="/docs/api/namespaces/anonymous-loadstorevectorizer-cpp-/#afd1adfcbfce320e6265935ce4d6299a3">Chain</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110ad469508535ce2082a1ab1f0e429187b8">ISD::TokenFactor</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), MVT::Other, OutChains);</span></CodeLine>
<Link id="l10472" /><CodeLine lineNumber="10472"></CodeLine>
<Link id="l10473" /><CodeLine lineNumber="10473"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (EmitEHLabels) &#123;</span></CodeLine>
<Link id="l10474" /><CodeLine lineNumber="10474"><span class="doxyHighlight">    <a href="/docs/api/namespaces/anonymous-loadstorevectorizer-cpp-/#afd1adfcbfce320e6265935ce4d6299a3">Chain</a> = lowerEndEH(Chain, <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;InvokeInst&gt;</a>(&amp;<a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>), EHPadBB, BeginLabel);</span></CodeLine>
<Link id="l10475" /><CodeLine lineNumber="10475"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l10476" /><CodeLine lineNumber="10476"></CodeLine>
<Link id="l10477" /><CodeLine lineNumber="10477"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Only Update Root if inline assembly has a memory effect.</span></CodeLine>
<Link id="l10478" /><CodeLine lineNumber="10478"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (ResultValues.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#ad9a3c7bc26b130377bbafc170b5f88a2">empty</a>() || HasSideEffect || !OutChains.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#ad9a3c7bc26b130377bbafc170b5f88a2">empty</a>() || IsCallBr ||</span></CodeLine>
<Link id="l10479" /><CodeLine lineNumber="10479"><span class="doxyHighlight">      EmitEHLabels)</span></CodeLine>
<Link id="l10480" /><CodeLine lineNumber="10480"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(Chain);</span></CodeLine>
<Link id="l10481" /><CodeLine lineNumber="10481"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l10482" /><CodeLine lineNumber="10482"></CodeLine>
<Link id="l10483" /><CodeLine lineNumber="10483"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::emitInlineAsmError(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/callbase">CallBase</a> &amp;<a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>,</span></CodeLine>
<Link id="l10484" /><CodeLine lineNumber="10484"><span class="doxyHighlight">                                             </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/twine">Twine</a> &amp;Message) &#123;</span></CodeLine>
<Link id="l10485" /><CodeLine lineNumber="10485"><span class="doxyHighlight">  LLVMContext &amp;Ctx = &#42;<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getContext();</span></CodeLine>
<Link id="l10486" /><CodeLine lineNumber="10486"><span class="doxyHighlight">  Ctx.<a href="/docs/api/classes/llvm/llvmcontext/#aad03ef5cfbe6e7cad076d9e45ba06592">diagnose</a>(DiagnosticInfoInlineAsm(<a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>, Message));</span></CodeLine>
<Link id="l10487" /><CodeLine lineNumber="10487"></CodeLine>
<Link id="l10488" /><CodeLine lineNumber="10488"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Make sure we leave the DAG in a valid state</span></CodeLine>
<Link id="l10489" /><CodeLine lineNumber="10489"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> TargetLowering &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l10490" /><CodeLine lineNumber="10490"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;EVT, 1&gt;</a> ValueVTs;</span></CodeLine>
<Link id="l10491" /><CodeLine lineNumber="10491"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#ab99618b3d8988b758a67f5a1a6071095">ComputeValueVTs</a>(TLI, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>.<a href="/docs/api/classes/llvm/value/#a0344a49526443edf90cc0aef3abd3337">getType</a>(), ValueVTs);</span></CodeLine>
<Link id="l10492" /><CodeLine lineNumber="10492"></CodeLine>
<Link id="l10493" /><CodeLine lineNumber="10493"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (ValueVTs.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#ad9a3c7bc26b130377bbafc170b5f88a2">empty</a>())</span></CodeLine>
<Link id="l10494" /><CodeLine lineNumber="10494"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l10495" /><CodeLine lineNumber="10495"></CodeLine>
<Link id="l10496" /><CodeLine lineNumber="10496"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;SDValue, 1&gt;</a> <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>;</span></CodeLine>
<Link id="l10497" /><CodeLine lineNumber="10497"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> EVT &amp;VT : ValueVTs)</span></CodeLine>
<Link id="l10498" /><CodeLine lineNumber="10498"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.push&#95;back(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getUNDEF(VT));</span></CodeLine>
<Link id="l10499" /><CodeLine lineNumber="10499"></CodeLine>
<Link id="l10500" /><CodeLine lineNumber="10500"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMergeValues(<a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>()));</span></CodeLine>
<Link id="l10501" /><CodeLine lineNumber="10501"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l10502" /><CodeLine lineNumber="10502"></CodeLine>
<Link id="l10503" /><CodeLine lineNumber="10503"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitVAStart(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/callinst">CallInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l10504" /><CodeLine lineNumber="10504"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::VASTART, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(),</span></CodeLine>
<Link id="l10505" /><CodeLine lineNumber="10505"><span class="doxyHighlight">                          MVT::Other, <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>(),</span></CodeLine>
<Link id="l10506" /><CodeLine lineNumber="10506"><span class="doxyHighlight">                          <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)),</span></CodeLine>
<Link id="l10507" /><CodeLine lineNumber="10507"><span class="doxyHighlight">                          <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSrcValue(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0))));</span></CodeLine>
<Link id="l10508" /><CodeLine lineNumber="10508"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l10509" /><CodeLine lineNumber="10509"></CodeLine>
<Link id="l10510" /><CodeLine lineNumber="10510"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitVAArg(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/vaarginst">VAArgInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l10511" /><CodeLine lineNumber="10511"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> TargetLowering &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l10512" /><CodeLine lineNumber="10512"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> DataLayout &amp;<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout();</span></CodeLine>
<Link id="l10513" /><CodeLine lineNumber="10513"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/m68k/#ab3a288f2953d8eca3e363959fc2cf38ea5206560a306a2e085a437fd258eb57ce">V</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVAArg(</span></CodeLine>
<Link id="l10514" /><CodeLine lineNumber="10514"><span class="doxyHighlight">      TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a02b5aaf4357ae931647439e312a034bc">getMemValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType()), <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(),</span></CodeLine>
<Link id="l10515" /><CodeLine lineNumber="10515"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>(), <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0)), <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSrcValue(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0)),</span></CodeLine>
<Link id="l10516" /><CodeLine lineNumber="10516"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getABITypeAlign(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType()).value());</span></CodeLine>
<Link id="l10517" /><CodeLine lineNumber="10517"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(<a href="/docs/api/namespaces/llvm/m68k/#ab3a288f2953d8eca3e363959fc2cf38ea5206560a306a2e085a437fd258eb57ce">V</a>.getValue(1));</span></CodeLine>
<Link id="l10518" /><CodeLine lineNumber="10518"></CodeLine>
<Link id="l10519" /><CodeLine lineNumber="10519"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType()-&gt;isPointerTy())</span></CodeLine>
<Link id="l10520" /><CodeLine lineNumber="10520"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/m68k/#ab3a288f2953d8eca3e363959fc2cf38ea5206560a306a2e085a437fd258eb57ce">V</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getPtrExtOrTrunc(</span></CodeLine>
<Link id="l10521" /><CodeLine lineNumber="10521"><span class="doxyHighlight">        V, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType()));</span></CodeLine>
<Link id="l10522" /><CodeLine lineNumber="10522"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, V);</span></CodeLine>
<Link id="l10523" /><CodeLine lineNumber="10523"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l10524" /><CodeLine lineNumber="10524"></CodeLine>
<Link id="l10525" /><CodeLine lineNumber="10525"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitVAEnd(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/callinst">CallInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l10526" /><CodeLine lineNumber="10526"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::VAEND, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(),</span></CodeLine>
<Link id="l10527" /><CodeLine lineNumber="10527"><span class="doxyHighlight">                          MVT::Other, <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>(),</span></CodeLine>
<Link id="l10528" /><CodeLine lineNumber="10528"><span class="doxyHighlight">                          <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)),</span></CodeLine>
<Link id="l10529" /><CodeLine lineNumber="10529"><span class="doxyHighlight">                          <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSrcValue(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0))));</span></CodeLine>
<Link id="l10530" /><CodeLine lineNumber="10530"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l10531" /><CodeLine lineNumber="10531"></CodeLine>
<Link id="l10532" /><CodeLine lineNumber="10532"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitVACopy(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/callinst">CallInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l10533" /><CodeLine lineNumber="10533"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::VACOPY, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(),</span></CodeLine>
<Link id="l10534" /><CodeLine lineNumber="10534"><span class="doxyHighlight">                          MVT::Other, <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>(),</span></CodeLine>
<Link id="l10535" /><CodeLine lineNumber="10535"><span class="doxyHighlight">                          <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)),</span></CodeLine>
<Link id="l10536" /><CodeLine lineNumber="10536"><span class="doxyHighlight">                          <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1)),</span></CodeLine>
<Link id="l10537" /><CodeLine lineNumber="10537"><span class="doxyHighlight">                          <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSrcValue(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0)),</span></CodeLine>
<Link id="l10538" /><CodeLine lineNumber="10538"><span class="doxyHighlight">                          <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSrcValue(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1))));</span></CodeLine>
<Link id="l10539" /><CodeLine lineNumber="10539"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l10540" /><CodeLine lineNumber="10540"></CodeLine>
<Link id="l10541" /><CodeLine lineNumber="10541" lineLink="/docs/api/classes/llvm/selectiondagbuilder/#a3756185351596750edbb4790d9923eea"><span class="doxyHighlight"><a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="/docs/api/classes/llvm/selectiondagbuilder/#a3756185351596750edbb4790d9923eea">SelectionDAGBuilder::lowerRangeToAssertZExt</a>(<a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp;<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>,</span></CodeLine>
<Link id="l10542" /><CodeLine lineNumber="10542"><span class="doxyHighlight">                                                    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/instruction">Instruction</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</span></CodeLine>
<Link id="l10543" /><CodeLine lineNumber="10543"><span class="doxyHighlight">                                                    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>) &#123;</span></CodeLine>
<Link id="l10544" /><CodeLine lineNumber="10544"><span class="doxyHighlight">  std::optional&lt;ConstantRange&gt; CR = <a href="/docs/api/files/lib/lib/analysis/instructionsimplify-cpp/#a407852423447c9c318189650976659fb">getRange</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</span></CodeLine>
<Link id="l10545" /><CodeLine lineNumber="10545"></CodeLine>
<Link id="l10546" /><CodeLine lineNumber="10546"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!CR || CR-&gt;isFullSet() || CR-&gt;isEmptySet() || CR-&gt;isUpperWrapped())</span></CodeLine>
<Link id="l10547" /><CodeLine lineNumber="10547"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>;</span></CodeLine>
<Link id="l10548" /><CodeLine lineNumber="10548"></CodeLine>
<Link id="l10549" /><CodeLine lineNumber="10549"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/apint">APInt</a> <a href="/docs/api/namespaces/llvm/#a9ac8e4e13ad96a39c3f8db9ed633ad2baff50b4aa1c9cc2197ef898436641c911">Lo</a> = CR-&gt;getUnsignedMin();</span></CodeLine>
<Link id="l10550" /><CodeLine lineNumber="10550"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="/docs/api/namespaces/llvm/#a9ac8e4e13ad96a39c3f8db9ed633ad2baff50b4aa1c9cc2197ef898436641c911">Lo</a>.isMinValue())</span></CodeLine>
<Link id="l10551" /><CodeLine lineNumber="10551"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>;</span></CodeLine>
<Link id="l10552" /><CodeLine lineNumber="10552"></CodeLine>
<Link id="l10553" /><CodeLine lineNumber="10553"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/apint">APInt</a> <a href="/docs/api/namespaces/llvm/#a9ac8e4e13ad96a39c3f8db9ed633ad2bac1a5298f939e87e8f962a5edfc206918">Hi</a> = CR-&gt;getUnsignedMax();</span></CodeLine>
<Link id="l10554" /><CodeLine lineNumber="10554"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> Bits = std::max(<a href="/docs/api/namespaces/llvm/#a9ac8e4e13ad96a39c3f8db9ed633ad2bac1a5298f939e87e8f962a5edfc206918">Hi</a>.getActiveBits(),</span></CodeLine>
<Link id="l10555" /><CodeLine lineNumber="10555"><span class="doxyHighlight">                           </span><span class="doxyHighlightKeyword">static&#95;cast&lt;</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlightKeyword">&gt;</span><span class="doxyHighlight">(<a href="/docs/api/classes/llvm/integertype/#a8bb58e9357b2f891f98fbbce353155efa03b0c213d98b3b6e73e3e0e4e0bdf1bf">IntegerType::MIN&#95;INT&#95;BITS</a>));</span></CodeLine>
<Link id="l10556" /><CodeLine lineNumber="10556"></CodeLine>
<Link id="l10557" /><CodeLine lineNumber="10557"><span class="doxyHighlight">  <a href="/docs/api/structs/llvm/evt">EVT</a> SmallVT = <a href="/docs/api/structs/llvm/evt/#a752372e170e4e7c595bf8810bb52adf2">EVT::getIntegerVT</a>(&#42;<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getContext(), Bits);</span></CodeLine>
<Link id="l10558" /><CodeLine lineNumber="10558"></CodeLine>
<Link id="l10559" /><CodeLine lineNumber="10559"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> <a href="/docs/api/classes/llvm/selectiondagbuilder/#a346bf6c4d7fca3ebce554ec2cdd80e87">SL</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>();</span></CodeLine>
<Link id="l10560" /><CodeLine lineNumber="10560"></CodeLine>
<Link id="l10561" /><CodeLine lineNumber="10561"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> ZExt = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110af23301e60475124fd80a2cb51f6ba863">ISD::AssertZext</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#a346bf6c4d7fca3ebce554ec2cdd80e87">SL</a>, <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>.getValueType(), <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>,</span></CodeLine>
<Link id="l10562" /><CodeLine lineNumber="10562"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getValueType(SmallVT));</span></CodeLine>
<Link id="l10563" /><CodeLine lineNumber="10563"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumVals = <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>.getNode()-&gt;getNumValues();</span></CodeLine>
<Link id="l10564" /><CodeLine lineNumber="10564"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (NumVals == 1)</span></CodeLine>
<Link id="l10565" /><CodeLine lineNumber="10565"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> ZExt;</span></CodeLine>
<Link id="l10566" /><CodeLine lineNumber="10566"></CodeLine>
<Link id="l10567" /><CodeLine lineNumber="10567"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/smallvector">SmallVector&lt;SDValue, 4&gt;</a> <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>;</span></CodeLine>
<Link id="l10568" /><CodeLine lineNumber="10568"></CodeLine>
<Link id="l10569" /><CodeLine lineNumber="10569"><span class="doxyHighlight">  <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.push&#95;back(ZExt);</span></CodeLine>
<Link id="l10570" /><CodeLine lineNumber="10570"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 1; <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a> != NumVals; ++<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</span></CodeLine>
<Link id="l10571" /><CodeLine lineNumber="10571"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.push&#95;back(<a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>.getValue(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</span></CodeLine>
<Link id="l10572" /><CodeLine lineNumber="10572"></CodeLine>
<Link id="l10573" /><CodeLine lineNumber="10573"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMergeValues(<a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#a346bf6c4d7fca3ebce554ec2cdd80e87">SL</a>);</span></CodeLine>
<Link id="l10574" /><CodeLine lineNumber="10574"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l10575" /><CodeLine lineNumber="10575"></CodeLine>
<Link id="l10576" /><CodeLine lineNumber="10576"><span class="doxyHighlightComment">/// Populate a CallLowerinInfo (into \\p CLI) based on the properties of</span></CodeLine>
<Link id="l10577" /><CodeLine lineNumber="10577"><span class="doxyHighlightComment">/// the call being lowered.</span></CodeLine>
<Link id="l10578" /><CodeLine lineNumber="10578"><span class="doxyHighlightComment">///</span></CodeLine>
<Link id="l10579" /><CodeLine lineNumber="10579"><span class="doxyHighlightComment">/// This is a helper for lowering intrinsics that follow a target calling</span></CodeLine>
<Link id="l10580" /><CodeLine lineNumber="10580"><span class="doxyHighlightComment">/// convention or require stack pointer adjustment. Only a subset of the</span></CodeLine>
<Link id="l10581" /><CodeLine lineNumber="10581"><span class="doxyHighlightComment">/// intrinsic&#39;s operands need to participate in the calling convention.</span></CodeLine>
<Link id="l10582" /><CodeLine lineNumber="10582" lineLink="/docs/api/classes/llvm/selectiondagbuilder/#a8a8a4b167d0244a5c34b6819dd3d5c56"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#a8a8a4b167d0244a5c34b6819dd3d5c56">SelectionDAGBuilder::populateCallLoweringInfo</a>(</span></CodeLine>
<Link id="l10583" /><CodeLine lineNumber="10583"><span class="doxyHighlight">    <a href="/docs/api/structs/llvm/targetlowering/callloweringinfo">TargetLowering::CallLoweringInfo</a> &amp;CLI, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/callbase">CallBase</a> &#42;<a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>,</span></CodeLine>
<Link id="l10584" /><CodeLine lineNumber="10584"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> ArgIdx, </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumArgs, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Callee, <a href="/docs/api/classes/llvm/type">Type</a> &#42;ReturnTy,</span></CodeLine>
<Link id="l10585" /><CodeLine lineNumber="10585"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/attributeset">AttributeSet</a> RetAttrs, </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> IsPatchPoint) &#123;</span></CodeLine>
<Link id="l10586" /><CodeLine lineNumber="10586"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/targetloweringbase/#ae4ac6bc14db22dbd7b94a3b1bd276796">TargetLowering::ArgListTy</a> Args;</span></CodeLine>
<Link id="l10587" /><CodeLine lineNumber="10587"><span class="doxyHighlight">  Args.reserve(NumArgs);</span></CodeLine>
<Link id="l10588" /><CodeLine lineNumber="10588"></CodeLine>
<Link id="l10589" /><CodeLine lineNumber="10589"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Populate the argument list.</span></CodeLine>
<Link id="l10590" /><CodeLine lineNumber="10590"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Attributes for args start at offset 1, after the return attribute.</span></CodeLine>
<Link id="l10591" /><CodeLine lineNumber="10591"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> ArgI = ArgIdx, ArgE = ArgIdx + NumArgs;</span></CodeLine>
<Link id="l10592" /><CodeLine lineNumber="10592"><span class="doxyHighlight">       ArgI != ArgE; ++ArgI) &#123;</span></CodeLine>
<Link id="l10593" /><CodeLine lineNumber="10593"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;V = <a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>-&gt;getOperand(ArgI);</span></CodeLine>
<Link id="l10594" /><CodeLine lineNumber="10594"></CodeLine>
<Link id="l10595" /><CodeLine lineNumber="10595"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!V-&gt;getType()-&gt;isEmptyTy() &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Empty type passed to intrinsic.&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l10596" /><CodeLine lineNumber="10596"></CodeLine>
<Link id="l10597" /><CodeLine lineNumber="10597"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/targetloweringbase/arglistentry">TargetLowering::ArgListEntry</a> Entry;</span></CodeLine>
<Link id="l10598" /><CodeLine lineNumber="10598"><span class="doxyHighlight">    Entry.Node = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(V);</span></CodeLine>
<Link id="l10599" /><CodeLine lineNumber="10599"><span class="doxyHighlight">    Entry.Ty = V-&gt;getType();</span></CodeLine>
<Link id="l10600" /><CodeLine lineNumber="10600"><span class="doxyHighlight">    Entry.setAttributes(<a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>, ArgI);</span></CodeLine>
<Link id="l10601" /><CodeLine lineNumber="10601"><span class="doxyHighlight">    Args.push&#95;back(Entry);</span></CodeLine>
<Link id="l10602" /><CodeLine lineNumber="10602"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l10603" /><CodeLine lineNumber="10603"></CodeLine>
<Link id="l10604" /><CodeLine lineNumber="10604"><span class="doxyHighlight">  CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#aa05efb86ccf079a618d7ccc2d0984510">setDebugLoc</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>())</span></CodeLine>
<Link id="l10605" /><CodeLine lineNumber="10605"><span class="doxyHighlight">      .<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#ae8c9a19c4e49854df72efd6a33299ca6">setChain</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>())</span></CodeLine>
<Link id="l10606" /><CodeLine lineNumber="10606"><span class="doxyHighlight">      .<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#af85f2971df75297dfac1455dc7211b11">setCallee</a>(<a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>-&gt;getCallingConv(), ReturnTy, Callee, std::move(Args),</span></CodeLine>
<Link id="l10607" /><CodeLine lineNumber="10607"><span class="doxyHighlight">                 RetAttrs)</span></CodeLine>
<Link id="l10608" /><CodeLine lineNumber="10608"><span class="doxyHighlight">      .<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#a92da69e2625a91ae468da5ed229a3a93">setDiscardResult</a>(<a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>-&gt;use&#95;empty())</span></CodeLine>
<Link id="l10609" /><CodeLine lineNumber="10609"><span class="doxyHighlight">      .<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#a982d72dbe5b2fdba331ff1d7099cb22c">setIsPatchPoint</a>(IsPatchPoint)</span></CodeLine>
<Link id="l10610" /><CodeLine lineNumber="10610"><span class="doxyHighlight">      .<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#ab8d48ba57acd45e77101777a817ac8ce">setIsPreallocated</a>(</span></CodeLine>
<Link id="l10611" /><CodeLine lineNumber="10611"><span class="doxyHighlight">          <a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>-&gt;countOperandBundlesOfType(<a href="/docs/api/classes/llvm/llvmcontext/#a44d727ac5fccf852bfb2bae3e06adc9ca1ad9f9f842cf7ba87b3db9b1d8870b9f">LLVMContext::OB&#95;preallocated</a>) != 0);</span></CodeLine>
<Link id="l10612" /><CodeLine lineNumber="10612"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l10613" /><CodeLine lineNumber="10613"></CodeLine>
<Link id="l10614" /><CodeLine lineNumber="10614"><span class="doxyHighlightComment">/// Add a stack map intrinsic call&#39;s live variable operands to a stackmap</span></CodeLine>
<Link id="l10615" /><CodeLine lineNumber="10615"><span class="doxyHighlightComment">/// or patchpoint target node&#39;s operand list.</span></CodeLine>
<Link id="l10616" /><CodeLine lineNumber="10616"><span class="doxyHighlightComment">///</span></CodeLine>
<Link id="l10617" /><CodeLine lineNumber="10617"><span class="doxyHighlightComment">/// Constants are converted to TargetConstants purely as an optimization to</span></CodeLine>
<Link id="l10618" /><CodeLine lineNumber="10618"><span class="doxyHighlightComment">/// avoid constant materialization and register allocation.</span></CodeLine>
<Link id="l10619" /><CodeLine lineNumber="10619"><span class="doxyHighlightComment">///</span></CodeLine>
<Link id="l10620" /><CodeLine lineNumber="10620"><span class="doxyHighlightComment">/// FrameIndex operands are converted to TargetFrameIndex so that ISEL does not</span></CodeLine>
<Link id="l10621" /><CodeLine lineNumber="10621"><span class="doxyHighlightComment">/// generate addess computation nodes, and so FinalizeISel can convert the</span></CodeLine>
<Link id="l10622" /><CodeLine lineNumber="10622"><span class="doxyHighlightComment">/// TargetFrameIndex into a DirectMemRefOp StackMap location. This avoids</span></CodeLine>
<Link id="l10623" /><CodeLine lineNumber="10623"><span class="doxyHighlightComment">/// address materialization and register allocation, but may also be required</span></CodeLine>
<Link id="l10624" /><CodeLine lineNumber="10624"><span class="doxyHighlightComment">/// for correctness. If a StackMap (or PatchPoint) intrinsic directly uses an</span></CodeLine>
<Link id="l10625" /><CodeLine lineNumber="10625"><span class="doxyHighlightComment">/// alloca in the entry block, then the runtime may assume that the alloca&#39;s</span></CodeLine>
<Link id="l10626" /><CodeLine lineNumber="10626"><span class="doxyHighlightComment">/// StackMap location can be read immediately after compilation and that the</span></CodeLine>
<Link id="l10627" /><CodeLine lineNumber="10627"><span class="doxyHighlightComment">/// location is valid at any point during execution (this is similar to the</span></CodeLine>
<Link id="l10628" /><CodeLine lineNumber="10628"><span class="doxyHighlightComment">/// assumption made by the llvm.gcroot intrinsic). If the alloca&#39;s location were</span></CodeLine>
<Link id="l10629" /><CodeLine lineNumber="10629"><span class="doxyHighlightComment">/// only available in a register, then the runtime would need to trap when</span></CodeLine>
<Link id="l10630" /><CodeLine lineNumber="10630"><span class="doxyHighlightComment">/// execution reaches the StackMap in order to read the alloca&#39;s location.</span></CodeLine>
<Link id="l10631" /><CodeLine lineNumber="10631" lineLink="#a21f33b0949c9004250a9978f1a5d3b3d"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="#a21f33b0949c9004250a9978f1a5d3b3d">addStackMapLiveVars</a>(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/callbase">CallBase</a> &amp;<a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>, </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> StartIdx,</span></CodeLine>
<Link id="l10632" /><CodeLine lineNumber="10632"><span class="doxyHighlight">                                </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/sdloc">SDLoc</a> &amp;<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl&lt;SDValue&gt;</a> &amp;<a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>,</span></CodeLine>
<Link id="l10633" /><CodeLine lineNumber="10633"><span class="doxyHighlight">                                <a href="/docs/api/classes/llvm/selectiondagbuilder">SelectionDAGBuilder</a> &amp;Builder) &#123;</span></CodeLine>
<Link id="l10634" /><CodeLine lineNumber="10634"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp;DAG = Builder.<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>;</span></CodeLine>
<Link id="l10635" /><CodeLine lineNumber="10635"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a> = StartIdx; <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; <a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>.arg&#95;size(); <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>++) &#123;</span></CodeLine>
<Link id="l10636" /><CodeLine lineNumber="10636"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a> = Builder.<a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>.getArgOperand(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</span></CodeLine>
<Link id="l10637" /><CodeLine lineNumber="10637"></CodeLine>
<Link id="l10638" /><CodeLine lineNumber="10638"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Things on the stack are pointer-typed, meaning that they are already</span></CodeLine>
<Link id="l10639" /><CodeLine lineNumber="10639"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// legal and can be emitted directly to target nodes.</span></CodeLine>
<Link id="l10640" /><CodeLine lineNumber="10640"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/classes/llvm/frameindexsdnode">FrameIndexSDNode</a> &#42;FI = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;FrameIndexSDNode&gt;</a>(<a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>)) &#123;</span></CodeLine>
<Link id="l10641" /><CodeLine lineNumber="10641"><span class="doxyHighlight">      <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.push&#95;back(DAG.<a href="/docs/api/classes/llvm/selectiondag/#a6ececde40ed933c2dfb5af16cb002529">getTargetFrameIndex</a>(FI-&gt;getIndex(), <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>.getValueType()));</span></CodeLine>
<Link id="l10642" /><CodeLine lineNumber="10642"><span class="doxyHighlight">    &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l10643" /><CodeLine lineNumber="10643"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Otherwise emit a target independent node to be legalised.</span></CodeLine>
<Link id="l10644" /><CodeLine lineNumber="10644"><span class="doxyHighlight">      <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.push&#95;back(Builder.<a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>.getArgOperand(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>)));</span></CodeLine>
<Link id="l10645" /><CodeLine lineNumber="10645"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l10646" /><CodeLine lineNumber="10646"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l10647" /><CodeLine lineNumber="10647"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l10648" /><CodeLine lineNumber="10648"></CodeLine>
<Link id="l10649" /><CodeLine lineNumber="10649"><span class="doxyHighlightComment">/// Lower llvm.experimental.stackmap.</span></CodeLine>
<Link id="l10650" /><CodeLine lineNumber="10650"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitStackmap(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/callinst">CallInst</a> &amp;CI) &#123;</span></CodeLine>
<Link id="l10651" /><CodeLine lineNumber="10651"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// void @llvm.experimental.stackmap(i64 &lt;id&gt;, i32 &lt;numShadowBytes&gt;,</span></CodeLine>
<Link id="l10652" /><CodeLine lineNumber="10652"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">//                                  &#91;live variables...&#93;)</span></CodeLine>
<Link id="l10653" /><CodeLine lineNumber="10653"></CodeLine>
<Link id="l10654" /><CodeLine lineNumber="10654"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(CI.<a href="/docs/api/classes/llvm/value/#a0344a49526443edf90cc0aef3abd3337">getType</a>()-&gt;<a href="/docs/api/classes/llvm/type/#ae8eaa0b4eeac52a2b2282cb1bfd981ae">isVoidTy</a>() &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Stackmap cannot return a value.&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l10655" /><CodeLine lineNumber="10655"></CodeLine>
<Link id="l10656" /><CodeLine lineNumber="10656"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/anonymous-loadstorevectorizer-cpp-/#afd1adfcbfce320e6265935ce4d6299a3">Chain</a>, InGlue, <a href="/docs/api/namespaces/llvm/pdb/#a33e853ec74d48b1340d1d4bae772d30bac8ff9e15a93f800c74c05e7b37364816">Callee</a>;</span></CodeLine>
<Link id="l10657" /><CodeLine lineNumber="10657"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;SDValue, 32&gt;</a> <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>;</span></CodeLine>
<Link id="l10658" /><CodeLine lineNumber="10658"></CodeLine>
<Link id="l10659" /><CodeLine lineNumber="10659"><span class="doxyHighlight">  SDLoc <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>();</span></CodeLine>
<Link id="l10660" /><CodeLine lineNumber="10660"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/pdb/#a33e853ec74d48b1340d1d4bae772d30bac8ff9e15a93f800c74c05e7b37364816">Callee</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(CI.<a href="/docs/api/classes/llvm/callbase/#a8d13199cbf4d080d3b5dcf330dad5d2c">getCalledOperand</a>());</span></CodeLine>
<Link id="l10661" /><CodeLine lineNumber="10661"></CodeLine>
<Link id="l10662" /><CodeLine lineNumber="10662"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// The stackmap intrinsic only records the live variables (the arguments</span></CodeLine>
<Link id="l10663" /><CodeLine lineNumber="10663"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// passed to it) and emits NOPS (if requested). Unlike the patchpoint</span></CodeLine>
<Link id="l10664" /><CodeLine lineNumber="10664"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// intrinsic, this won&#39;t be lowered to a function call. This means we don&#39;t</span></CodeLine>
<Link id="l10665" /><CodeLine lineNumber="10665"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// have to worry about calling conventions and target specific lowering code.</span></CodeLine>
<Link id="l10666" /><CodeLine lineNumber="10666"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Instead we perform the call lowering right here.</span></CodeLine>
<Link id="l10667" /><CodeLine lineNumber="10667"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l10668" /><CodeLine lineNumber="10668"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// chain, flag = CALLSEQ&#95;START(chain, 0, 0)</span></CodeLine>
<Link id="l10669" /><CodeLine lineNumber="10669"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// chain, flag = STACKMAP(id, nbytes, ..., chain, flag)</span></CodeLine>
<Link id="l10670" /><CodeLine lineNumber="10670"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// chain, flag = CALLSEQ&#95;END(chain, 0, 0, flag)</span></CodeLine>
<Link id="l10671" /><CodeLine lineNumber="10671"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l10672" /><CodeLine lineNumber="10672"><span class="doxyHighlight">  <a href="/docs/api/namespaces/anonymous-loadstorevectorizer-cpp-/#afd1adfcbfce320e6265935ce4d6299a3">Chain</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getCALLSEQ&#95;START(<a href="/docs/api/classes/llvm/selectiondagbuilder/#aa3e946c1fc678a70e849244389bd929a">getRoot</a>(), 0, 0, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>);</span></CodeLine>
<Link id="l10673" /><CodeLine lineNumber="10673"><span class="doxyHighlight">  InGlue = <a href="/docs/api/namespaces/anonymous-loadstorevectorizer-cpp-/#afd1adfcbfce320e6265935ce4d6299a3">Chain</a>.getValue(1);</span></CodeLine>
<Link id="l10674" /><CodeLine lineNumber="10674"></CodeLine>
<Link id="l10675" /><CodeLine lineNumber="10675"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Add the STACKMAP operands, starting with DAG house-keeping.</span></CodeLine>
<Link id="l10676" /><CodeLine lineNumber="10676"><span class="doxyHighlight">  <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.<a href="/docs/api/classes/llvm/smallvectortemplatebase/#af42bfbc067df27c19ee2fc859df58799">push&#95;back</a>(Chain);</span></CodeLine>
<Link id="l10677" /><CodeLine lineNumber="10677"><span class="doxyHighlight">  <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.push&#95;back(InGlue);</span></CodeLine>
<Link id="l10678" /><CodeLine lineNumber="10678"></CodeLine>
<Link id="l10679" /><CodeLine lineNumber="10679"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Add the &lt;id&gt;, &lt;numShadowBytes&gt; operands.</span></CodeLine>
<Link id="l10680" /><CodeLine lineNumber="10680"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l10681" /><CodeLine lineNumber="10681"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// These do not require legalisation, and can be emitted directly to target</span></CodeLine>
<Link id="l10682" /><CodeLine lineNumber="10682"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// constant nodes.</span></CodeLine>
<Link id="l10683" /><CodeLine lineNumber="10683"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/callingconv/#abdf8cf606905c10634e831390981b0ed">ID</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(CI.<a href="/docs/api/classes/llvm/callbase/#aabd76e6a8a23a5af1ce4d3c310d88bcd">getArgOperand</a>(0));</span></CodeLine>
<Link id="l10684" /><CodeLine lineNumber="10684"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a href="/docs/api/namespaces/llvm/callingconv/#abdf8cf606905c10634e831390981b0ed">ID</a>.getValueType() == MVT::i64);</span></CodeLine>
<Link id="l10685" /><CodeLine lineNumber="10685"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> IDConst =</span></CodeLine>
<Link id="l10686" /><CodeLine lineNumber="10686"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetConstant(<a href="/docs/api/namespaces/llvm/callingconv/#abdf8cf606905c10634e831390981b0ed">ID</a>-&gt;getAsZExtVal(), <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a href="/docs/api/namespaces/llvm/callingconv/#abdf8cf606905c10634e831390981b0ed">ID</a>.getValueType());</span></CodeLine>
<Link id="l10687" /><CodeLine lineNumber="10687"><span class="doxyHighlight">  <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.push&#95;back(IDConst);</span></CodeLine>
<Link id="l10688" /><CodeLine lineNumber="10688"></CodeLine>
<Link id="l10689" /><CodeLine lineNumber="10689"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Shad = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(CI.<a href="/docs/api/classes/llvm/callbase/#aabd76e6a8a23a5af1ce4d3c310d88bcd">getArgOperand</a>(1));</span></CodeLine>
<Link id="l10690" /><CodeLine lineNumber="10690"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Shad.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>() == MVT::i32);</span></CodeLine>
<Link id="l10691" /><CodeLine lineNumber="10691"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> ShadConst =</span></CodeLine>
<Link id="l10692" /><CodeLine lineNumber="10692"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetConstant(Shad-&gt;<a href="/docs/api/classes/llvm/sdnode/#a7c6e64fef2ad2ba4052cd8365e97e8d2">getAsZExtVal</a>(), <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Shad.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>());</span></CodeLine>
<Link id="l10693" /><CodeLine lineNumber="10693"><span class="doxyHighlight">  <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.push&#95;back(ShadConst);</span></CodeLine>
<Link id="l10694" /><CodeLine lineNumber="10694"></CodeLine>
<Link id="l10695" /><CodeLine lineNumber="10695"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Add the live variables.</span></CodeLine>
<Link id="l10696" /><CodeLine lineNumber="10696"><span class="doxyHighlight">  <a href="#a21f33b0949c9004250a9978f1a5d3b3d">addStackMapLiveVars</a>(CI, 2, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>, &#42;</span><span class="doxyHighlightKeyword">this</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l10697" /><CodeLine lineNumber="10697"></CodeLine>
<Link id="l10698" /><CodeLine lineNumber="10698"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Create the STACKMAP node.</span></CodeLine>
<Link id="l10699" /><CodeLine lineNumber="10699"><span class="doxyHighlight">  SDVTList NodeTys = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVTList(MVT::Other, MVT::Glue);</span></CodeLine>
<Link id="l10700" /><CodeLine lineNumber="10700"><span class="doxyHighlight">  <a href="/docs/api/namespaces/anonymous-loadstorevectorizer-cpp-/#afd1adfcbfce320e6265935ce4d6299a3">Chain</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::STACKMAP, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, NodeTys, <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>);</span></CodeLine>
<Link id="l10701" /><CodeLine lineNumber="10701"><span class="doxyHighlight">  InGlue = <a href="/docs/api/namespaces/anonymous-loadstorevectorizer-cpp-/#afd1adfcbfce320e6265935ce4d6299a3">Chain</a>.getValue(1);</span></CodeLine>
<Link id="l10702" /><CodeLine lineNumber="10702"></CodeLine>
<Link id="l10703" /><CodeLine lineNumber="10703"><span class="doxyHighlight">  <a href="/docs/api/namespaces/anonymous-loadstorevectorizer-cpp-/#afd1adfcbfce320e6265935ce4d6299a3">Chain</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getCALLSEQ&#95;END(Chain, 0, 0, InGlue, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>);</span></CodeLine>
<Link id="l10704" /><CodeLine lineNumber="10704"></CodeLine>
<Link id="l10705" /><CodeLine lineNumber="10705"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Stackmaps don&#39;t generate values, so nothing goes into the NodeMap.</span></CodeLine>
<Link id="l10706" /><CodeLine lineNumber="10706"></CodeLine>
<Link id="l10707" /><CodeLine lineNumber="10707"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Set the root to the target-lowered call chain.</span></CodeLine>
<Link id="l10708" /><CodeLine lineNumber="10708"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(Chain);</span></CodeLine>
<Link id="l10709" /><CodeLine lineNumber="10709"></CodeLine>
<Link id="l10710" /><CodeLine lineNumber="10710"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Inform the Frame Information that we have a stackmap in this function.</span></CodeLine>
<Link id="l10711" /><CodeLine lineNumber="10711"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.MF-&gt;getFrameInfo().setHasStackMap();</span></CodeLine>
<Link id="l10712" /><CodeLine lineNumber="10712"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l10713" /><CodeLine lineNumber="10713"></CodeLine>
<Link id="l10714" /><CodeLine lineNumber="10714"><span class="doxyHighlightComment">/// Lower llvm.experimental.patchpoint directly to its target opcode.</span></CodeLine>
<Link id="l10715" /><CodeLine lineNumber="10715"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitPatchpoint(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/callbase">CallBase</a> &amp;CB,</span></CodeLine>
<Link id="l10716" /><CodeLine lineNumber="10716"><span class="doxyHighlight">                                          </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42;EHPadBB) &#123;</span></CodeLine>
<Link id="l10717" /><CodeLine lineNumber="10717"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// &lt;ty&gt; @llvm.experimental.patchpoint.&lt;ty&gt;(i64 &lt;id&gt;,</span></CodeLine>
<Link id="l10718" /><CodeLine lineNumber="10718"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">//                                         i32 &lt;numBytes&gt;,</span></CodeLine>
<Link id="l10719" /><CodeLine lineNumber="10719"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">//                                         i8&#42; &lt;target&gt;,</span></CodeLine>
<Link id="l10720" /><CodeLine lineNumber="10720"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">//                                         i32 &lt;numArgs&gt;,</span></CodeLine>
<Link id="l10721" /><CodeLine lineNumber="10721"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">//                                         &#91;Args...&#93;,</span></CodeLine>
<Link id="l10722" /><CodeLine lineNumber="10722"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">//                                         &#91;live variables...&#93;)</span></CodeLine>
<Link id="l10723" /><CodeLine lineNumber="10723"></CodeLine>
<Link id="l10724" /><CodeLine lineNumber="10724"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/callingconv/#abdf8cf606905c10634e831390981b0ed">CallingConv::ID</a> <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a77c69067ae8279bc00ab8757731e90d7">CC</a> = CB.<a href="/docs/api/classes/llvm/callbase/#a3ff92cec76009e859cb0c419d6e8ba5f">getCallingConv</a>();</span></CodeLine>
<Link id="l10725" /><CodeLine lineNumber="10725"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> IsAnyRegCC = <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a77c69067ae8279bc00ab8757731e90d7">CC</a> == <a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4ca4f42667edde6e9cb80cfae6361e5e76a">CallingConv::AnyReg</a>;</span></CodeLine>
<Link id="l10726" /><CodeLine lineNumber="10726"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> HasDef = !CB.<a href="/docs/api/classes/llvm/value/#a0344a49526443edf90cc0aef3abd3337">getType</a>()-&gt;<a href="/docs/api/classes/llvm/type/#ae8eaa0b4eeac52a2b2282cb1bfd981ae">isVoidTy</a>();</span></CodeLine>
<Link id="l10727" /><CodeLine lineNumber="10727"><span class="doxyHighlight">  SDLoc dl = <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>();</span></CodeLine>
<Link id="l10728" /><CodeLine lineNumber="10728"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/pdb/#a33e853ec74d48b1340d1d4bae772d30bac8ff9e15a93f800c74c05e7b37364816">Callee</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(CB.<a href="/docs/api/classes/llvm/callbase/#aabd76e6a8a23a5af1ce4d3c310d88bcd">getArgOperand</a>(<a href="/docs/api/classes/llvm/patchpointopers/#a6892641fbb4193030fe2ad0108407e06a7c453e33050b23cf322d4c17b8912088">PatchPointOpers::TargetPos</a>));</span></CodeLine>
<Link id="l10729" /><CodeLine lineNumber="10729"></CodeLine>
<Link id="l10730" /><CodeLine lineNumber="10730"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Handle immediate and symbolic callees.</span></CodeLine>
<Link id="l10731" /><CodeLine lineNumber="10731"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight">&#42; ConstCallee = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;ConstantSDNode&gt;</a>(Callee))</span></CodeLine>
<Link id="l10732" /><CodeLine lineNumber="10732"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/pdb/#a33e853ec74d48b1340d1d4bae772d30bac8ff9e15a93f800c74c05e7b37364816">Callee</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getIntPtrConstant(ConstCallee-&gt;getZExtValue(), dl,</span></CodeLine>
<Link id="l10733" /><CodeLine lineNumber="10733"><span class="doxyHighlight">                                   </span><span class="doxyHighlightComment">/&#42;isTarget=&#42;/</span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l10734" /><CodeLine lineNumber="10734"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight">&#42; SymbolicCallee = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;GlobalAddressSDNode&gt;</a>(Callee))</span></CodeLine>
<Link id="l10735" /><CodeLine lineNumber="10735"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/pdb/#a33e853ec74d48b1340d1d4bae772d30bac8ff9e15a93f800c74c05e7b37364816">Callee</a> =  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetGlobalAddress(SymbolicCallee-&gt;getGlobal(),</span></CodeLine>
<Link id="l10736" /><CodeLine lineNumber="10736"><span class="doxyHighlight">                                         SDLoc(SymbolicCallee),</span></CodeLine>
<Link id="l10737" /><CodeLine lineNumber="10737"><span class="doxyHighlight">                                         SymbolicCallee-&gt;getValueType(0));</span></CodeLine>
<Link id="l10738" /><CodeLine lineNumber="10738"></CodeLine>
<Link id="l10739" /><CodeLine lineNumber="10739"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Get the real number of arguments participating in the call &lt;numArgs&gt;</span></CodeLine>
<Link id="l10740" /><CodeLine lineNumber="10740"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> NArgVal = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(CB.<a href="/docs/api/classes/llvm/callbase/#aabd76e6a8a23a5af1ce4d3c310d88bcd">getArgOperand</a>(<a href="/docs/api/classes/llvm/patchpointopers/#a6892641fbb4193030fe2ad0108407e06ae275100bf95af7c46359bfe61ba14152">PatchPointOpers::NArgPos</a>));</span></CodeLine>
<Link id="l10741" /><CodeLine lineNumber="10741"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumArgs = NArgVal-&gt;<a href="/docs/api/classes/llvm/sdnode/#a7c6e64fef2ad2ba4052cd8365e97e8d2">getAsZExtVal</a>();</span></CodeLine>
<Link id="l10742" /><CodeLine lineNumber="10742"></CodeLine>
<Link id="l10743" /><CodeLine lineNumber="10743"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Skip the four meta args: &lt;id&gt;, &lt;numNopBytes&gt;, &lt;target&gt;, &lt;numArgs&gt;</span></CodeLine>
<Link id="l10744" /><CodeLine lineNumber="10744"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Intrinsics include all meta-operands up to but not including CC.</span></CodeLine>
<Link id="l10745" /><CodeLine lineNumber="10745"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumMetaOpers = <a href="/docs/api/classes/llvm/patchpointopers/#a6892641fbb4193030fe2ad0108407e06a324a51adc0452a062355eff454118979">PatchPointOpers::CCPos</a>;</span></CodeLine>
<Link id="l10746" /><CodeLine lineNumber="10746"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(CB.<a href="/docs/api/classes/llvm/callbase/#adde2ea00dd2613ee41bfe91908e4e68e">arg&#95;size</a>() &gt;= NumMetaOpers + NumArgs &amp;&amp;</span></CodeLine>
<Link id="l10747" /><CodeLine lineNumber="10747"><span class="doxyHighlight">         </span><span class="doxyHighlightStringLiteral">&quot;Not enough arguments provided to the patchpoint intrinsic&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l10748" /><CodeLine lineNumber="10748"></CodeLine>
<Link id="l10749" /><CodeLine lineNumber="10749"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// For AnyRegCC the arguments are lowered later on manually.</span></CodeLine>
<Link id="l10750" /><CodeLine lineNumber="10750"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumCallArgs = IsAnyRegCC ? 0 : NumArgs;</span></CodeLine>
<Link id="l10751" /><CodeLine lineNumber="10751"><span class="doxyHighlight">  <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a88ee8e4eea43084bd8964682683da88caa1fa27779242b4902f7ae3bdd5c6d508">Type</a> &#42;ReturnTy =</span></CodeLine>
<Link id="l10752" /><CodeLine lineNumber="10752"><span class="doxyHighlight">      IsAnyRegCC ? <a href="/docs/api/classes/llvm/type/#a6e20e76960d952de088354cbcd14c3ab">Type::getVoidTy</a>(&#42;<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getContext()) : CB.<a href="/docs/api/files/lib/lib/object/tapifile-cpp/#a913a691648e20063bbd278e8f02d8430">getType</a>();</span></CodeLine>
<Link id="l10753" /><CodeLine lineNumber="10753"></CodeLine>
<Link id="l10754" /><CodeLine lineNumber="10754"><span class="doxyHighlight">  TargetLowering::CallLoweringInfo CLI(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>);</span></CodeLine>
<Link id="l10755" /><CodeLine lineNumber="10755"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#a8a8a4b167d0244a5c34b6819dd3d5c56">populateCallLoweringInfo</a>(CLI, &amp;CB, NumMetaOpers, NumCallArgs, Callee,</span></CodeLine>
<Link id="l10756" /><CodeLine lineNumber="10756"><span class="doxyHighlight">                           ReturnTy, CB.<a href="/docs/api/classes/llvm/callbase/#ae0c55761fce39dd71617690b04385193">getAttributes</a>().getRetAttrs(), </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l10757" /><CodeLine lineNumber="10757"><span class="doxyHighlight">  std::pair&lt;SDValue, SDValue&gt; <a href="/docs/api/namespaces/llvm/ms-demangle/#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ab29b69c993fbb9a4b9d28c3600df005d">lowerInvokable</a>(CLI, EHPadBB);</span></CodeLine>
<Link id="l10758" /><CodeLine lineNumber="10758"></CodeLine>
<Link id="l10759" /><CodeLine lineNumber="10759"><span class="doxyHighlight">  SDNode &#42;CallEnd = <a href="/docs/api/namespaces/llvm/ms-demangle/#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>.second.getNode();</span></CodeLine>
<Link id="l10760" /><CodeLine lineNumber="10760"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (CallEnd-&gt;<a href="/docs/api/classes/llvm/sdnode/#a23f2f5947fc429aff1270651c6d019ea">getOpcode</a>() == ISD::EH&#95;LABEL)</span></CodeLine>
<Link id="l10761" /><CodeLine lineNumber="10761"><span class="doxyHighlight">    CallEnd = CallEnd-&gt;<a href="/docs/api/classes/llvm/sdnode/#a8388f666d6e735f35837ad03ed1f7a7a">getOperand</a>(0).<a href="/docs/api/classes/llvm/sdvalue/#a2b08aa629a6326d1a0444ee6d477c39d">getNode</a>();</span></CodeLine>
<Link id="l10762" /><CodeLine lineNumber="10762"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (HasDef &amp;&amp; (CallEnd-&gt;<a href="/docs/api/classes/llvm/sdnode/#a23f2f5947fc429aff1270651c6d019ea">getOpcode</a>() == <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a84c47705bcf7271413738ae8bf3871e6">ISD::CopyFromReg</a>))</span></CodeLine>
<Link id="l10763" /><CodeLine lineNumber="10763"><span class="doxyHighlight">    CallEnd = CallEnd-&gt;<a href="/docs/api/classes/llvm/sdnode/#a8388f666d6e735f35837ad03ed1f7a7a">getOperand</a>(0).<a href="/docs/api/classes/llvm/sdvalue/#a2b08aa629a6326d1a0444ee6d477c39d">getNode</a>();</span></CodeLine>
<Link id="l10764" /><CodeLine lineNumber="10764"></CodeLine>
<Link id="l10765" /><CodeLine lineNumber="10765"><span class="doxyHighlightComment">  /// Get a call instruction from the call sequence chain.</span></CodeLine>
<Link id="l10766" /><CodeLine lineNumber="10766"><span class="doxyHighlightComment">  /// Tail calls are not allowed.</span></CodeLine>
<Link id="l10767" /><CodeLine lineNumber="10767"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(CallEnd-&gt;<a href="/docs/api/classes/llvm/sdnode/#a23f2f5947fc429aff1270651c6d019ea">getOpcode</a>() == ISD::CALLSEQ&#95;END &amp;&amp;</span></CodeLine>
<Link id="l10768" /><CodeLine lineNumber="10768"><span class="doxyHighlight">         </span><span class="doxyHighlightStringLiteral">&quot;Expected a callseq node.&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l10769" /><CodeLine lineNumber="10769"><span class="doxyHighlight">  SDNode &#42;<a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a> = CallEnd-&gt;<a href="/docs/api/classes/llvm/sdnode/#a8388f666d6e735f35837ad03ed1f7a7a">getOperand</a>(0).<a href="/docs/api/classes/llvm/sdvalue/#a2b08aa629a6326d1a0444ee6d477c39d">getNode</a>();</span></CodeLine>
<Link id="l10770" /><CodeLine lineNumber="10770"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> HasGlue = <a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>-&gt;getGluedNode();</span></CodeLine>
<Link id="l10771" /><CodeLine lineNumber="10771"></CodeLine>
<Link id="l10772" /><CodeLine lineNumber="10772"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Replace the target specific call node with the patchable intrinsic.</span></CodeLine>
<Link id="l10773" /><CodeLine lineNumber="10773"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;SDValue, 8&gt;</a> <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>;</span></CodeLine>
<Link id="l10774" /><CodeLine lineNumber="10774"></CodeLine>
<Link id="l10775" /><CodeLine lineNumber="10775"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Push the chain.</span></CodeLine>
<Link id="l10776" /><CodeLine lineNumber="10776"><span class="doxyHighlight">  <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.push&#95;back(&#42;(<a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>-&gt;<a href="/docs/api/classes/llvm/user/#a2eeb1c7ed1cfe403f2ae0470e36c07e2">op&#95;begin</a>()));</span></CodeLine>
<Link id="l10777" /><CodeLine lineNumber="10777"></CodeLine>
<Link id="l10778" /><CodeLine lineNumber="10778"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Optionally, push the glue (if any).</span></CodeLine>
<Link id="l10779" /><CodeLine lineNumber="10779"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (HasGlue)</span></CodeLine>
<Link id="l10780" /><CodeLine lineNumber="10780"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.push&#95;back(&#42;(<a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>-&gt;<a href="/docs/api/classes/llvm/user/#af41f58e730804d10b91fcff39b035f74">op&#95;end</a>() - 1));</span></CodeLine>
<Link id="l10781" /><CodeLine lineNumber="10781"></CodeLine>
<Link id="l10782" /><CodeLine lineNumber="10782"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Push the register mask info.</span></CodeLine>
<Link id="l10783" /><CodeLine lineNumber="10783"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (HasGlue)</span></CodeLine>
<Link id="l10784" /><CodeLine lineNumber="10784"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.push&#95;back(&#42;(<a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>-&gt;<a href="/docs/api/classes/llvm/user/#af41f58e730804d10b91fcff39b035f74">op&#95;end</a>() - 2));</span></CodeLine>
<Link id="l10785" /><CodeLine lineNumber="10785"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">else</span></CodeLine>
<Link id="l10786" /><CodeLine lineNumber="10786"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.push&#95;back(&#42;(<a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>-&gt;<a href="/docs/api/classes/llvm/user/#af41f58e730804d10b91fcff39b035f74">op&#95;end</a>() - 1));</span></CodeLine>
<Link id="l10787" /><CodeLine lineNumber="10787"></CodeLine>
<Link id="l10788" /><CodeLine lineNumber="10788"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Add the &lt;id&gt; and &lt;numBytes&gt; constants.</span></CodeLine>
<Link id="l10789" /><CodeLine lineNumber="10789"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> IDVal = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(CB.<a href="/docs/api/classes/llvm/callbase/#aabd76e6a8a23a5af1ce4d3c310d88bcd">getArgOperand</a>(<a href="/docs/api/classes/llvm/patchpointopers/#a6892641fbb4193030fe2ad0108407e06a08353423e1d98722d846a7c35ac15dc5">PatchPointOpers::IDPos</a>));</span></CodeLine>
<Link id="l10790" /><CodeLine lineNumber="10790"><span class="doxyHighlight">  <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.push&#95;back(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetConstant(IDVal-&gt;<a href="/docs/api/classes/llvm/sdnode/#a7c6e64fef2ad2ba4052cd8365e97e8d2">getAsZExtVal</a>(), dl, MVT::i64));</span></CodeLine>
<Link id="l10791" /><CodeLine lineNumber="10791"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> NBytesVal = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(CB.<a href="/docs/api/classes/llvm/callbase/#aabd76e6a8a23a5af1ce4d3c310d88bcd">getArgOperand</a>(<a href="/docs/api/classes/llvm/patchpointopers/#a6892641fbb4193030fe2ad0108407e06a67a19d60d058a368934cc4e9a9df8121">PatchPointOpers::NBytesPos</a>));</span></CodeLine>
<Link id="l10792" /><CodeLine lineNumber="10792"><span class="doxyHighlight">  <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.push&#95;back(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetConstant(NBytesVal-&gt;<a href="/docs/api/classes/llvm/sdnode/#a7c6e64fef2ad2ba4052cd8365e97e8d2">getAsZExtVal</a>(), dl, MVT::i32));</span></CodeLine>
<Link id="l10793" /><CodeLine lineNumber="10793"></CodeLine>
<Link id="l10794" /><CodeLine lineNumber="10794"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Add the callee.</span></CodeLine>
<Link id="l10795" /><CodeLine lineNumber="10795"><span class="doxyHighlight">  <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.push&#95;back(Callee);</span></CodeLine>
<Link id="l10796" /><CodeLine lineNumber="10796"></CodeLine>
<Link id="l10797" /><CodeLine lineNumber="10797"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Adjust &lt;numArgs&gt; to account for any arguments that have been passed on the</span></CodeLine>
<Link id="l10798" /><CodeLine lineNumber="10798"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// stack instead.</span></CodeLine>
<Link id="l10799" /><CodeLine lineNumber="10799"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Call Node: Chain, Target, &#123;Args&#125;, RegMask, &#91;Glue&#93;</span></CodeLine>
<Link id="l10800" /><CodeLine lineNumber="10800"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumCallRegArgs = <a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>-&gt;<a href="/docs/api/classes/llvm/user/#addec638786f763d967811b45cb662f1f">getNumOperands</a>() - (HasGlue ? 4 : 3);</span></CodeLine>
<Link id="l10801" /><CodeLine lineNumber="10801"><span class="doxyHighlight">  NumCallRegArgs = IsAnyRegCC ? NumArgs : NumCallRegArgs;</span></CodeLine>
<Link id="l10802" /><CodeLine lineNumber="10802"><span class="doxyHighlight">  <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.push&#95;back(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetConstant(NumCallRegArgs, dl, MVT::i32));</span></CodeLine>
<Link id="l10803" /><CodeLine lineNumber="10803"></CodeLine>
<Link id="l10804" /><CodeLine lineNumber="10804"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Add the calling convention</span></CodeLine>
<Link id="l10805" /><CodeLine lineNumber="10805"><span class="doxyHighlight">  <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.push&#95;back(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetConstant((</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight">)<a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a77c69067ae8279bc00ab8757731e90d7">CC</a>, dl, MVT::i32));</span></CodeLine>
<Link id="l10806" /><CodeLine lineNumber="10806"></CodeLine>
<Link id="l10807" /><CodeLine lineNumber="10807"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Add the arguments we omitted previously. The register allocator should</span></CodeLine>
<Link id="l10808" /><CodeLine lineNumber="10808"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// place these in any free register.</span></CodeLine>
<Link id="l10809" /><CodeLine lineNumber="10809"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (IsAnyRegCC)</span></CodeLine>
<Link id="l10810" /><CodeLine lineNumber="10810"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> i = NumMetaOpers, e = NumMetaOpers + NumArgs; i != <a href="/docs/api/namespaces/llvm/numbers/#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++i)</span></CodeLine>
<Link id="l10811" /><CodeLine lineNumber="10811"><span class="doxyHighlight">      <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.push&#95;back(<a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(CB.<a href="/docs/api/classes/llvm/callbase/#aabd76e6a8a23a5af1ce4d3c310d88bcd">getArgOperand</a>(i)));</span></CodeLine>
<Link id="l10812" /><CodeLine lineNumber="10812"></CodeLine>
<Link id="l10813" /><CodeLine lineNumber="10813"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Push the arguments from the call instruction.</span></CodeLine>
<Link id="l10814" /><CodeLine lineNumber="10814"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdnode/#a423c330f7f1bd8f3510e2bb304435217">SDNode::op&#95;iterator</a> <a href="/docs/api/namespaces/llvm/numbers/#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = HasGlue ? <a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>-&gt;<a href="/docs/api/classes/llvm/user/#af41f58e730804d10b91fcff39b035f74">op&#95;end</a>()-2 : <a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>-&gt;<a href="/docs/api/classes/llvm/user/#af41f58e730804d10b91fcff39b035f74">op&#95;end</a>()-1;</span></CodeLine>
<Link id="l10815" /><CodeLine lineNumber="10815"><span class="doxyHighlight">  <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>.append(<a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>-&gt;<a href="/docs/api/classes/llvm/user/#a2eeb1c7ed1cfe403f2ae0470e36c07e2">op&#95;begin</a>() + 2, e);</span></CodeLine>
<Link id="l10816" /><CodeLine lineNumber="10816"></CodeLine>
<Link id="l10817" /><CodeLine lineNumber="10817"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Push live variables for the stack map.</span></CodeLine>
<Link id="l10818" /><CodeLine lineNumber="10818"><span class="doxyHighlight">  <a href="#a21f33b0949c9004250a9978f1a5d3b3d">addStackMapLiveVars</a>(CB, NumMetaOpers + NumArgs, dl, <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>, &#42;</span><span class="doxyHighlightKeyword">this</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l10819" /><CodeLine lineNumber="10819"></CodeLine>
<Link id="l10820" /><CodeLine lineNumber="10820"><span class="doxyHighlight">  SDVTList NodeTys;</span></CodeLine>
<Link id="l10821" /><CodeLine lineNumber="10821"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (IsAnyRegCC &amp;&amp; HasDef) &#123;</span></CodeLine>
<Link id="l10822" /><CodeLine lineNumber="10822"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Create the return types based on the intrinsic definition</span></CodeLine>
<Link id="l10823" /><CodeLine lineNumber="10823"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> TargetLowering &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l10824" /><CodeLine lineNumber="10824"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;EVT, 3&gt;</a> ValueVTs;</span></CodeLine>
<Link id="l10825" /><CodeLine lineNumber="10825"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/#ab99618b3d8988b758a67f5a1a6071095">ComputeValueVTs</a>(TLI, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), CB.<a href="/docs/api/classes/llvm/value/#a0344a49526443edf90cc0aef3abd3337">getType</a>(), ValueVTs);</span></CodeLine>
<Link id="l10826" /><CodeLine lineNumber="10826"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ValueVTs.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#a1c479a8c434377c2b8cb056bdfdfc201">size</a>() == 1 &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Expected only one return value type.&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l10827" /><CodeLine lineNumber="10827"></CodeLine>
<Link id="l10828" /><CodeLine lineNumber="10828"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// There is always a chain and a glue type at the end</span></CodeLine>
<Link id="l10829" /><CodeLine lineNumber="10829"><span class="doxyHighlight">    ValueVTs.<a href="/docs/api/classes/llvm/smallvectortemplatebase/#af42bfbc067df27c19ee2fc859df58799">push&#95;back</a>(MVT::Other);</span></CodeLine>
<Link id="l10830" /><CodeLine lineNumber="10830"><span class="doxyHighlight">    ValueVTs.<a href="/docs/api/classes/llvm/smallvectortemplatebase/#af42bfbc067df27c19ee2fc859df58799">push&#95;back</a>(MVT::Glue);</span></CodeLine>
<Link id="l10831" /><CodeLine lineNumber="10831"><span class="doxyHighlight">    NodeTys = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVTList(ValueVTs);</span></CodeLine>
<Link id="l10832" /><CodeLine lineNumber="10832"><span class="doxyHighlight">  &#125; </span><span class="doxyHighlightKeywordFlow">else</span></CodeLine>
<Link id="l10833" /><CodeLine lineNumber="10833"><span class="doxyHighlight">    NodeTys = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVTList(MVT::Other, MVT::Glue);</span></CodeLine>
<Link id="l10834" /><CodeLine lineNumber="10834"></CodeLine>
<Link id="l10835" /><CodeLine lineNumber="10835"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Replace the target specific call node with a PATCHPOINT node.</span></CodeLine>
<Link id="l10836" /><CodeLine lineNumber="10836"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> PPV = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::PATCHPOINT, dl, NodeTys, <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a926d7ce2143863b7a2afda0fca4d2b65">Ops</a>);</span></CodeLine>
<Link id="l10837" /><CodeLine lineNumber="10837"></CodeLine>
<Link id="l10838" /><CodeLine lineNumber="10838"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Update the NodeMap.</span></CodeLine>
<Link id="l10839" /><CodeLine lineNumber="10839"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (HasDef) &#123;</span></CodeLine>
<Link id="l10840" /><CodeLine lineNumber="10840"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (IsAnyRegCC)</span></CodeLine>
<Link id="l10841" /><CodeLine lineNumber="10841"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;CB, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a>(PPV.<a href="/docs/api/classes/llvm/sdvalue/#a2b08aa629a6326d1a0444ee6d477c39d">getNode</a>(), 0));</span></CodeLine>
<Link id="l10842" /><CodeLine lineNumber="10842"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">else</span></CodeLine>
<Link id="l10843" /><CodeLine lineNumber="10843"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;CB, <a href="/docs/api/namespaces/llvm/ms-demangle/#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>.first);</span></CodeLine>
<Link id="l10844" /><CodeLine lineNumber="10844"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l10845" /><CodeLine lineNumber="10845"></CodeLine>
<Link id="l10846" /><CodeLine lineNumber="10846"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Fixup the consumers of the intrinsic. The chain and glue may be used in the</span></CodeLine>
<Link id="l10847" /><CodeLine lineNumber="10847"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// call sequence. Furthermore the location of the chain and glue can change</span></CodeLine>
<Link id="l10848" /><CodeLine lineNumber="10848"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// when the AnyReg calling convention is used and the intrinsic returns a</span></CodeLine>
<Link id="l10849" /><CodeLine lineNumber="10849"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// value.</span></CodeLine>
<Link id="l10850" /><CodeLine lineNumber="10850"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (IsAnyRegCC &amp;&amp; HasDef) &#123;</span></CodeLine>
<Link id="l10851" /><CodeLine lineNumber="10851"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> From&#91;&#93; = &#123;<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a>(<a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>, 0), <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a>(<a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>, 1)&#125;;</span></CodeLine>
<Link id="l10852" /><CodeLine lineNumber="10852"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> To&#91;&#93; = &#123;PPV.<a href="/docs/api/classes/llvm/sdvalue/#a64932427432abeb61241e98bea167580">getValue</a>(1), PPV.<a href="/docs/api/classes/llvm/sdvalue/#a64932427432abeb61241e98bea167580">getValue</a>(2)&#125;;</span></CodeLine>
<Link id="l10853" /><CodeLine lineNumber="10853"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.ReplaceAllUsesOfValuesWith(From, To, 2);</span></CodeLine>
<Link id="l10854" /><CodeLine lineNumber="10854"><span class="doxyHighlight">  &#125; </span><span class="doxyHighlightKeywordFlow">else</span></CodeLine>
<Link id="l10855" /><CodeLine lineNumber="10855"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.ReplaceAllUsesWith(<a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>, PPV.<a href="/docs/api/classes/llvm/sdvalue/#a2b08aa629a6326d1a0444ee6d477c39d">getNode</a>());</span></CodeLine>
<Link id="l10856" /><CodeLine lineNumber="10856"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.DeleteNode(<a href="/docs/api/groups/arcopt/#ga9c9cf6ad55eb23d77d083a184e416c09">Call</a>);</span></CodeLine>
<Link id="l10857" /><CodeLine lineNumber="10857"></CodeLine>
<Link id="l10858" /><CodeLine lineNumber="10858"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Inform the Frame Information that we have a patchpoint in this function.</span></CodeLine>
<Link id="l10859" /><CodeLine lineNumber="10859"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.MF-&gt;getFrameInfo().setHasPatchPoint();</span></CodeLine>
<Link id="l10860" /><CodeLine lineNumber="10860"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l10861" /><CodeLine lineNumber="10861"></CodeLine>
<Link id="l10862" /><CodeLine lineNumber="10862"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitVectorReduce(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/callinst">CallInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</span></CodeLine>
<Link id="l10863" /><CodeLine lineNumber="10863"><span class="doxyHighlight">                                            </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/intrinsic">Intrinsic</a>) &#123;</span></CodeLine>
<Link id="l10864" /><CodeLine lineNumber="10864"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> TargetLowering &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l10865" /><CodeLine lineNumber="10865"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op1 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(0));</span></CodeLine>
<Link id="l10866" /><CodeLine lineNumber="10866"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Op2;</span></CodeLine>
<Link id="l10867" /><CodeLine lineNumber="10867"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.arg&#95;size() &gt; 1)</span></CodeLine>
<Link id="l10868" /><CodeLine lineNumber="10868"><span class="doxyHighlight">    Op2 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getArgOperand(1));</span></CodeLine>
<Link id="l10869" /><CodeLine lineNumber="10869"><span class="doxyHighlight">  SDLoc dl = <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>();</span></CodeLine>
<Link id="l10870" /><CodeLine lineNumber="10870"><span class="doxyHighlight">  EVT VT = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType());</span></CodeLine>
<Link id="l10871" /><CodeLine lineNumber="10871"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Res;</span></CodeLine>
<Link id="l10872" /><CodeLine lineNumber="10872"><span class="doxyHighlight">  SDNodeFlags SDFlags;</span></CodeLine>
<Link id="l10873" /><CodeLine lineNumber="10873"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;FPMO = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;FPMathOperator&gt;</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</span></CodeLine>
<Link id="l10874" /><CodeLine lineNumber="10874"><span class="doxyHighlight">    SDFlags.<a href="/docs/api/structs/llvm/sdnodeflags/#a2235a7b644c7eb6f9f405df4ece486a2">copyFMF</a>(&#42;FPMO);</span></CodeLine>
<Link id="l10875" /><CodeLine lineNumber="10875"></CodeLine>
<Link id="l10876" /><CodeLine lineNumber="10876"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">switch</span><span class="doxyHighlight"> (Intrinsic) &#123;</span></CodeLine>
<Link id="l10877" /><CodeLine lineNumber="10877"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::vector&#95;reduce&#95;fadd:</span></CodeLine>
<Link id="l10878" /><CodeLine lineNumber="10878"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (SDFlags.<a href="/docs/api/structs/llvm/sdnodeflags/#af745696c584503a9d31c56e997190d68">hasAllowReassociation</a>())</span></CodeLine>
<Link id="l10879" /><CodeLine lineNumber="10879"><span class="doxyHighlight">      Res = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf">ISD::FADD</a>, dl, VT, Op1,</span></CodeLine>
<Link id="l10880" /><CodeLine lineNumber="10880"><span class="doxyHighlight">                        <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::VECREDUCE&#95;FADD, dl, VT, Op2, SDFlags),</span></CodeLine>
<Link id="l10881" /><CodeLine lineNumber="10881"><span class="doxyHighlight">                        SDFlags);</span></CodeLine>
<Link id="l10882" /><CodeLine lineNumber="10882"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">else</span></CodeLine>
<Link id="l10883" /><CodeLine lineNumber="10883"><span class="doxyHighlight">      Res = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::VECREDUCE&#95;SEQ&#95;FADD, dl, VT, Op1, Op2, SDFlags);</span></CodeLine>
<Link id="l10884" /><CodeLine lineNumber="10884"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l10885" /><CodeLine lineNumber="10885"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::vector&#95;reduce&#95;fmul:</span></CodeLine>
<Link id="l10886" /><CodeLine lineNumber="10886"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (SDFlags.<a href="/docs/api/structs/llvm/sdnodeflags/#af745696c584503a9d31c56e997190d68">hasAllowReassociation</a>())</span></CodeLine>
<Link id="l10887" /><CodeLine lineNumber="10887"><span class="doxyHighlight">      Res = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, VT, Op1,</span></CodeLine>
<Link id="l10888" /><CodeLine lineNumber="10888"><span class="doxyHighlight">                        <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::VECREDUCE&#95;FMUL, dl, VT, Op2, SDFlags),</span></CodeLine>
<Link id="l10889" /><CodeLine lineNumber="10889"><span class="doxyHighlight">                        SDFlags);</span></CodeLine>
<Link id="l10890" /><CodeLine lineNumber="10890"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">else</span></CodeLine>
<Link id="l10891" /><CodeLine lineNumber="10891"><span class="doxyHighlight">      Res = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::VECREDUCE&#95;SEQ&#95;FMUL, dl, VT, Op1, Op2, SDFlags);</span></CodeLine>
<Link id="l10892" /><CodeLine lineNumber="10892"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l10893" /><CodeLine lineNumber="10893"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::vector&#95;reduce&#95;add:</span></CodeLine>
<Link id="l10894" /><CodeLine lineNumber="10894"><span class="doxyHighlight">    Res = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::VECREDUCE&#95;ADD, dl, VT, Op1);</span></CodeLine>
<Link id="l10895" /><CodeLine lineNumber="10895"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l10896" /><CodeLine lineNumber="10896"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::vector&#95;reduce&#95;mul:</span></CodeLine>
<Link id="l10897" /><CodeLine lineNumber="10897"><span class="doxyHighlight">    Res = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::VECREDUCE&#95;MUL, dl, VT, Op1);</span></CodeLine>
<Link id="l10898" /><CodeLine lineNumber="10898"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l10899" /><CodeLine lineNumber="10899"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::vector&#95;reduce&#95;and:</span></CodeLine>
<Link id="l10900" /><CodeLine lineNumber="10900"><span class="doxyHighlight">    Res = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::VECREDUCE&#95;AND, dl, VT, Op1);</span></CodeLine>
<Link id="l10901" /><CodeLine lineNumber="10901"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l10902" /><CodeLine lineNumber="10902"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::vector&#95;reduce&#95;or:</span></CodeLine>
<Link id="l10903" /><CodeLine lineNumber="10903"><span class="doxyHighlight">    Res = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::VECREDUCE&#95;OR, dl, VT, Op1);</span></CodeLine>
<Link id="l10904" /><CodeLine lineNumber="10904"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l10905" /><CodeLine lineNumber="10905"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::vector&#95;reduce&#95;xor:</span></CodeLine>
<Link id="l10906" /><CodeLine lineNumber="10906"><span class="doxyHighlight">    Res = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::VECREDUCE&#95;XOR, dl, VT, Op1);</span></CodeLine>
<Link id="l10907" /><CodeLine lineNumber="10907"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l10908" /><CodeLine lineNumber="10908"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::vector&#95;reduce&#95;smax:</span></CodeLine>
<Link id="l10909" /><CodeLine lineNumber="10909"><span class="doxyHighlight">    Res = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::VECREDUCE&#95;SMAX, dl, VT, Op1);</span></CodeLine>
<Link id="l10910" /><CodeLine lineNumber="10910"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l10911" /><CodeLine lineNumber="10911"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::vector&#95;reduce&#95;smin:</span></CodeLine>
<Link id="l10912" /><CodeLine lineNumber="10912"><span class="doxyHighlight">    Res = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::VECREDUCE&#95;SMIN, dl, VT, Op1);</span></CodeLine>
<Link id="l10913" /><CodeLine lineNumber="10913"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l10914" /><CodeLine lineNumber="10914"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::vector&#95;reduce&#95;umax:</span></CodeLine>
<Link id="l10915" /><CodeLine lineNumber="10915"><span class="doxyHighlight">    Res = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::VECREDUCE&#95;UMAX, dl, VT, Op1);</span></CodeLine>
<Link id="l10916" /><CodeLine lineNumber="10916"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l10917" /><CodeLine lineNumber="10917"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::vector&#95;reduce&#95;umin:</span></CodeLine>
<Link id="l10918" /><CodeLine lineNumber="10918"><span class="doxyHighlight">    Res = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::VECREDUCE&#95;UMIN, dl, VT, Op1);</span></CodeLine>
<Link id="l10919" /><CodeLine lineNumber="10919"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l10920" /><CodeLine lineNumber="10920"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::vector&#95;reduce&#95;fmax:</span></CodeLine>
<Link id="l10921" /><CodeLine lineNumber="10921"><span class="doxyHighlight">    Res = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::VECREDUCE&#95;FMAX, dl, VT, Op1, SDFlags);</span></CodeLine>
<Link id="l10922" /><CodeLine lineNumber="10922"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l10923" /><CodeLine lineNumber="10923"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::vector&#95;reduce&#95;fmin:</span></CodeLine>
<Link id="l10924" /><CodeLine lineNumber="10924"><span class="doxyHighlight">    Res = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::VECREDUCE&#95;FMIN, dl, VT, Op1, SDFlags);</span></CodeLine>
<Link id="l10925" /><CodeLine lineNumber="10925"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l10926" /><CodeLine lineNumber="10926"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::vector&#95;reduce&#95;fmaximum:</span></CodeLine>
<Link id="l10927" /><CodeLine lineNumber="10927"><span class="doxyHighlight">    Res = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::VECREDUCE&#95;FMAXIMUM, dl, VT, Op1, SDFlags);</span></CodeLine>
<Link id="l10928" /><CodeLine lineNumber="10928"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l10929" /><CodeLine lineNumber="10929"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> Intrinsic::vector&#95;reduce&#95;fminimum:</span></CodeLine>
<Link id="l10930" /><CodeLine lineNumber="10930"><span class="doxyHighlight">    Res = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::VECREDUCE&#95;FMINIMUM, dl, VT, Op1, SDFlags);</span></CodeLine>
<Link id="l10931" /><CodeLine lineNumber="10931"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l10932" /><CodeLine lineNumber="10932"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">default</span><span class="doxyHighlight">:</span></CodeLine>
<Link id="l10933" /><CodeLine lineNumber="10933"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/support/errorhandling-h/#ace243f5c25697a1107cce46626b3dc94">llvm&#95;unreachable</a>(</span><span class="doxyHighlightStringLiteral">&quot;Unhandled vector reduce intrinsic&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l10934" /><CodeLine lineNumber="10934"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l10935" /><CodeLine lineNumber="10935"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Res);</span></CodeLine>
<Link id="l10936" /><CodeLine lineNumber="10936"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l10937" /><CodeLine lineNumber="10937"></CodeLine>
<Link id="l10938" /><CodeLine lineNumber="10938"><span class="doxyHighlightComment">/// Returns an AttributeList representing the attributes applied to the return</span></CodeLine>
<Link id="l10939" /><CodeLine lineNumber="10939"><span class="doxyHighlightComment">/// value of the given call.</span></CodeLine>
<Link id="l10940" /><CodeLine lineNumber="10940" lineLink="#a3c16ae9b6c38652cd59f72eeecc4e176"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> AttributeList <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/fastisel-cpp/#ae7c1fa2a94f420cac743955c3db73b28">getReturnAttrs</a>(<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo">TargetLowering::CallLoweringInfo</a> &amp;CLI) &#123;</span></CodeLine>
<Link id="l10941" /><CodeLine lineNumber="10941"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/smallvector">SmallVector&lt;Attribute::AttrKind, 2&gt;</a> Attrs;</span></CodeLine>
<Link id="l10942" /><CodeLine lineNumber="10942"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#aa70600610484cd4224ebf4b46656ef6a">RetSExt</a>)</span></CodeLine>
<Link id="l10943" /><CodeLine lineNumber="10943"><span class="doxyHighlight">    Attrs.push&#95;back(Attribute::SExt);</span></CodeLine>
<Link id="l10944" /><CodeLine lineNumber="10944"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#a6d1ffe16a83c436cac93b14e50ebf0bc">RetZExt</a>)</span></CodeLine>
<Link id="l10945" /><CodeLine lineNumber="10945"><span class="doxyHighlight">    Attrs.push&#95;back(Attribute::ZExt);</span></CodeLine>
<Link id="l10946" /><CodeLine lineNumber="10946"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#a06d8dcdadb7fe5b0b670265c16adcdc7">IsInReg</a>)</span></CodeLine>
<Link id="l10947" /><CodeLine lineNumber="10947"><span class="doxyHighlight">    Attrs.push&#95;back(Attribute::InReg);</span></CodeLine>
<Link id="l10948" /><CodeLine lineNumber="10948"></CodeLine>
<Link id="l10949" /><CodeLine lineNumber="10949"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> AttributeList::get(CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#add4f6f94fcf01be61720d26a49591535">RetTy</a>-&gt;<a href="/docs/api/classes/llvm/type/#a909eca4ba9e5eefc203c8e3770bdab25">getContext</a>(), AttributeList::ReturnIndex,</span></CodeLine>
<Link id="l10950" /><CodeLine lineNumber="10950"><span class="doxyHighlight">                            Attrs);</span></CodeLine>
<Link id="l10951" /><CodeLine lineNumber="10951"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l10952" /><CodeLine lineNumber="10952"></CodeLine>
<Link id="l10953" /><CodeLine lineNumber="10953"><span class="doxyHighlightComment">/// TargetLowering::LowerCallTo - This is the default LowerCallTo</span></CodeLine>
<Link id="l10954" /><CodeLine lineNumber="10954"><span class="doxyHighlightComment">/// implementation, which just calls LowerCall.</span></CodeLine>
<Link id="l10955" /><CodeLine lineNumber="10955"><span class="doxyHighlightComment">/// FIXME: When all targets are</span></CodeLine>
<Link id="l10956" /><CodeLine lineNumber="10956"><span class="doxyHighlightComment">/// migrated to using LowerCall, this hook should be integrated into SDISel.</span></CodeLine>
<Link id="l10957" /><CodeLine lineNumber="10957"><span class="doxyHighlight">std::pair&lt;SDValue, SDValue&gt;</span></CodeLine>
<Link id="l10958" /><CodeLine lineNumber="10958"><span class="doxyHighlight"><a href="/docs/api/classes/llvm/targetlowering/#aabd42a6eddc3daec9153679b54f79300">TargetLowering::LowerCallTo</a>(<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo">TargetLowering::CallLoweringInfo</a> &amp;CLI)</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123;</span></CodeLine>
<Link id="l10959" /><CodeLine lineNumber="10959"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Handle the incoming return values from the call.</span></CodeLine>
<Link id="l10960" /><CodeLine lineNumber="10960"><span class="doxyHighlight">  CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#a423dda4ff918d4145ccc1861f059f940">Ins</a>.clear();</span></CodeLine>
<Link id="l10961" /><CodeLine lineNumber="10961"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;EVT, 4&gt;</a> RetTys;</span></CodeLine>
<Link id="l10962" /><CodeLine lineNumber="10962"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;TypeSize, 4&gt;</a> <a href="/docs/api/namespaces/llvm/si/kernelinputoffsets/#a58b4eae4b0a45d478c7c0f3959b04612">Offsets</a>;</span></CodeLine>
<Link id="l10963" /><CodeLine lineNumber="10963"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a> = CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#ae76ac9826f02f95aae34e845ac110244">DAG</a>.<a href="/docs/api/classes/llvm/selectiondag/#a6b442ac8a9fc6147b95ccfb2c3322121">getDataLayout</a>();</span></CodeLine>
<Link id="l10964" /><CodeLine lineNumber="10964"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#ab99618b3d8988b758a67f5a1a6071095">ComputeValueVTs</a>(&#42;</span><span class="doxyHighlightKeyword">this</span><span class="doxyHighlight">, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#add4f6f94fcf01be61720d26a49591535">RetTy</a>, RetTys, &amp;Offsets);</span></CodeLine>
<Link id="l10965" /><CodeLine lineNumber="10965"></CodeLine>
<Link id="l10966" /><CodeLine lineNumber="10966"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#a587732fea793169dfae64b7f8386a8eb">IsPostTypeLegalization</a>) &#123;</span></CodeLine>
<Link id="l10967" /><CodeLine lineNumber="10967"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// If we are lowering a libcall after legalization, split the return type.</span></CodeLine>
<Link id="l10968" /><CodeLine lineNumber="10968"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;EVT, 4&gt;</a> OldRetTys;</span></CodeLine>
<Link id="l10969" /><CodeLine lineNumber="10969"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;TypeSize, 4&gt;</a> OldOffsets;</span></CodeLine>
<Link id="l10970" /><CodeLine lineNumber="10970"><span class="doxyHighlight">    RetTys.<a href="/docs/api/classes/llvm/smallvectorimpl/#abd962b7b01f49ce61ea41ee10c49e313">swap</a>(OldRetTys);</span></CodeLine>
<Link id="l10971" /><CodeLine lineNumber="10971"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/si/kernelinputoffsets/#a58b4eae4b0a45d478c7c0f3959b04612">Offsets</a>.swap(OldOffsets);</span></CodeLine>
<Link id="l10972" /><CodeLine lineNumber="10972"></CodeLine>
<Link id="l10973" /><CodeLine lineNumber="10973"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">size&#95;t</span><span class="doxyHighlight"> i = 0, e = OldRetTys.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#a1c479a8c434377c2b8cb056bdfdfc201">size</a>(); i != e; ++i) &#123;</span></CodeLine>
<Link id="l10974" /><CodeLine lineNumber="10974"><span class="doxyHighlight">      EVT RetVT = OldRetTys&#91;i&#93;;</span></CodeLine>
<Link id="l10975" /><CodeLine lineNumber="10975"><span class="doxyHighlight">      uint64&#95;t <a href="/docs/api/namespaces/llvm/#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = OldOffsets&#91;i&#93;;</span></CodeLine>
<Link id="l10976" /><CodeLine lineNumber="10976"><span class="doxyHighlight">      MVT RegisterVT = <a href="/docs/api/classes/llvm/targetloweringbase/#af344c6bd2d070c999525df85be7688cf">getRegisterType</a>(CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#add4f6f94fcf01be61720d26a49591535">RetTy</a>-&gt;<a href="/docs/api/classes/llvm/type/#a909eca4ba9e5eefc203c8e3770bdab25">getContext</a>(), RetVT);</span></CodeLine>
<Link id="l10977" /><CodeLine lineNumber="10977"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumRegs = <a href="/docs/api/classes/llvm/targetloweringbase/#a42bf7ed3daec395fe644414494888bc6">getNumRegisters</a>(CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#add4f6f94fcf01be61720d26a49591535">RetTy</a>-&gt;<a href="/docs/api/classes/llvm/type/#a909eca4ba9e5eefc203c8e3770bdab25">getContext</a>(), RetVT);</span></CodeLine>
<Link id="l10978" /><CodeLine lineNumber="10978"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> RegisterVTByteSZ = RegisterVT.<a href="/docs/api/classes/llvm/mvt/#a7be7c6dd92efc0d6f866d4a3b433eed0">getSizeInBits</a>() / 8;</span></CodeLine>
<Link id="l10979" /><CodeLine lineNumber="10979"><span class="doxyHighlight">      RetTys.<a href="/docs/api/classes/llvm/smallvectorimpl/#a7efd1f0c1206d95e4fe01a9b49a57b82">append</a>(NumRegs, RegisterVT);</span></CodeLine>
<Link id="l10980" /><CodeLine lineNumber="10980"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> j = 0; <a href="/docs/api/namespaces/llvm/m68k/#ab3a288f2953d8eca3e363959fc2cf38ea363b122c528f54df4a0446b6bab05515">j</a> != NumRegs; ++<a href="/docs/api/namespaces/llvm/m68k/#ab3a288f2953d8eca3e363959fc2cf38ea363b122c528f54df4a0446b6bab05515">j</a>)</span></CodeLine>
<Link id="l10981" /><CodeLine lineNumber="10981"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/si/kernelinputoffsets/#a58b4eae4b0a45d478c7c0f3959b04612">Offsets</a>.push&#95;back(<a href="/docs/api/classes/llvm/typesize/#a003b4369b4130e669dc9139798e0193c">TypeSize::getFixed</a>(<a href="/docs/api/namespaces/llvm/#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> + j &#42; RegisterVTByteSZ));</span></CodeLine>
<Link id="l10982" /><CodeLine lineNumber="10982"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l10983" /><CodeLine lineNumber="10983"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l10984" /><CodeLine lineNumber="10984"></CodeLine>
<Link id="l10985" /><CodeLine lineNumber="10985"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;ISD::OutputArg, 4&gt;</a> Outs;</span></CodeLine>
<Link id="l10986" /><CodeLine lineNumber="10986"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#a175f10e8ec1c2ec4fa24431ac5429a36">GetReturnInfo</a>(CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#ae47a430364102f6e179d49cb3411b955">CallConv</a>, CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#add4f6f94fcf01be61720d26a49591535">RetTy</a>, <a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/fastisel-cpp/#ae7c1fa2a94f420cac743955c3db73b28">getReturnAttrs</a>(CLI), Outs, &#42;</span><span class="doxyHighlightKeyword">this</span><span class="doxyHighlight">, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>);</span></CodeLine>
<Link id="l10987" /><CodeLine lineNumber="10987"></CodeLine>
<Link id="l10988" /><CodeLine lineNumber="10988"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetlowering/#afc21228b6db4542de1339af252b2a725">CanLowerReturn</a> =</span></CodeLine>
<Link id="l10989" /><CodeLine lineNumber="10989"><span class="doxyHighlight">      this-&gt;<a href="/docs/api/classes/llvm/targetlowering/#afc21228b6db4542de1339af252b2a725">CanLowerReturn</a>(CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#ae47a430364102f6e179d49cb3411b955">CallConv</a>, CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#ae76ac9826f02f95aae34e845ac110244">DAG</a>.<a href="/docs/api/classes/llvm/selectiondag/#ac64ec73b0617befef1fb2eae78d12b5f">getMachineFunction</a>(),</span></CodeLine>
<Link id="l10990" /><CodeLine lineNumber="10990"><span class="doxyHighlight">                           CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#a3eb6e80dc80f35553ccc33a89d691df8">IsVarArg</a>, Outs, CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#add4f6f94fcf01be61720d26a49591535">RetTy</a>-&gt;<a href="/docs/api/classes/llvm/type/#a909eca4ba9e5eefc203c8e3770bdab25">getContext</a>(), CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#add4f6f94fcf01be61720d26a49591535">RetTy</a>);</span></CodeLine>
<Link id="l10991" /><CodeLine lineNumber="10991"></CodeLine>
<Link id="l10992" /><CodeLine lineNumber="10992"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> DemoteStackSlot;</span></CodeLine>
<Link id="l10993" /><CodeLine lineNumber="10993"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">int</span><span class="doxyHighlight"> DemoteStackIdx = -100;</span></CodeLine>
<Link id="l10994" /><CodeLine lineNumber="10994"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="/docs/api/classes/llvm/targetlowering/#afc21228b6db4542de1339af252b2a725">CanLowerReturn</a>) &#123;</span></CodeLine>
<Link id="l10995" /><CodeLine lineNumber="10995"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// FIXME: equivalent assert?</span></CodeLine>
<Link id="l10996" /><CodeLine lineNumber="10996"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// assert(!CS.hasInAllocaArgument() &amp;&amp;</span></CodeLine>
<Link id="l10997" /><CodeLine lineNumber="10997"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">//        &quot;sret demotion is incompatible with inalloca&quot;);</span></CodeLine>
<Link id="l10998" /><CodeLine lineNumber="10998"><span class="doxyHighlight">    uint64&#95;t TySize = <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getTypeAllocSize(CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#add4f6f94fcf01be61720d26a49591535">RetTy</a>);</span></CodeLine>
<Link id="l10999" /><CodeLine lineNumber="10999"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/arg/key/#a6b334a5f83504ebc99cc59f4f333ff98">Align</a> Alignment = <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getPrefTypeAlign(CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#add4f6f94fcf01be61720d26a49591535">RetTy</a>);</span></CodeLine>
<Link id="l11000" /><CodeLine lineNumber="11000"><span class="doxyHighlight">    MachineFunction &amp;MF = CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#ae76ac9826f02f95aae34e845ac110244">DAG</a>.<a href="/docs/api/classes/llvm/selectiondag/#ac64ec73b0617befef1fb2eae78d12b5f">getMachineFunction</a>();</span></CodeLine>
<Link id="l11001" /><CodeLine lineNumber="11001"><span class="doxyHighlight">    DemoteStackIdx =</span></CodeLine>
<Link id="l11002" /><CodeLine lineNumber="11002"><span class="doxyHighlight">        MF.<a href="/docs/api/classes/llvm/machinefunction/#a54f334a9c8ca6d105eae383ae87e4524">getFrameInfo</a>().<a href="/docs/api/classes/llvm/machineframeinfo/#a1ae307f415a8989475e3f7ddd6eefc8b">CreateStackObject</a>(TySize, Alignment, </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l11003" /><CodeLine lineNumber="11003"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a88ee8e4eea43084bd8964682683da88caa1fa27779242b4902f7ae3bdd5c6d508">Type</a> &#42;StackSlotPtrType =</span></CodeLine>
<Link id="l11004" /><CodeLine lineNumber="11004"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/pointertype/#a8d7f800be5fd53dcfcdcbdc6fd9ccfe3">PointerType::get</a>(CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#add4f6f94fcf01be61720d26a49591535">RetTy</a>-&gt;<a href="/docs/api/classes/llvm/type/#a909eca4ba9e5eefc203c8e3770bdab25">getContext</a>(), <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getAllocaAddrSpace());</span></CodeLine>
<Link id="l11005" /><CodeLine lineNumber="11005"></CodeLine>
<Link id="l11006" /><CodeLine lineNumber="11006"><span class="doxyHighlight">    DemoteStackSlot = CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#ae76ac9826f02f95aae34e845ac110244">DAG</a>.<a href="/docs/api/classes/llvm/selectiondag/#acb59cbd8f4a8c1cf820b2b540aebdac1">getFrameIndex</a>(DemoteStackIdx, <a href="/docs/api/classes/llvm/targetloweringbase/#aeff3faad50d459c3f486bb4ac76789af">getFrameIndexTy</a>(<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>));</span></CodeLine>
<Link id="l11007" /><CodeLine lineNumber="11007"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/targetloweringbase/arglistentry">ArgListEntry</a> <a href="/docs/api/namespaces/llvm/coff/#ae7629a0652411dc2be61aea4fee2b39caadd024eaaab0666500593f30456bbc43">Entry</a>;</span></CodeLine>
<Link id="l11008" /><CodeLine lineNumber="11008"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/coff/#ae7629a0652411dc2be61aea4fee2b39caadd024eaaab0666500593f30456bbc43">Entry</a>.Node = DemoteStackSlot;</span></CodeLine>
<Link id="l11009" /><CodeLine lineNumber="11009"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/coff/#ae7629a0652411dc2be61aea4fee2b39caadd024eaaab0666500593f30456bbc43">Entry</a>.Ty = StackSlotPtrType;</span></CodeLine>
<Link id="l11010" /><CodeLine lineNumber="11010"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/coff/#ae7629a0652411dc2be61aea4fee2b39caadd024eaaab0666500593f30456bbc43">Entry</a>.IsSExt = </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l11011" /><CodeLine lineNumber="11011"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/coff/#ae7629a0652411dc2be61aea4fee2b39caadd024eaaab0666500593f30456bbc43">Entry</a>.IsZExt = </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l11012" /><CodeLine lineNumber="11012"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/coff/#ae7629a0652411dc2be61aea4fee2b39caadd024eaaab0666500593f30456bbc43">Entry</a>.IsInReg = </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l11013" /><CodeLine lineNumber="11013"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/coff/#ae7629a0652411dc2be61aea4fee2b39caadd024eaaab0666500593f30456bbc43">Entry</a>.IsSRet = </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l11014" /><CodeLine lineNumber="11014"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/coff/#ae7629a0652411dc2be61aea4fee2b39caadd024eaaab0666500593f30456bbc43">Entry</a>.IsNest = </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l11015" /><CodeLine lineNumber="11015"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/coff/#ae7629a0652411dc2be61aea4fee2b39caadd024eaaab0666500593f30456bbc43">Entry</a>.IsByVal = </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l11016" /><CodeLine lineNumber="11016"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/coff/#ae7629a0652411dc2be61aea4fee2b39caadd024eaaab0666500593f30456bbc43">Entry</a>.IsByRef = </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l11017" /><CodeLine lineNumber="11017"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/coff/#ae7629a0652411dc2be61aea4fee2b39caadd024eaaab0666500593f30456bbc43">Entry</a>.IsReturned = </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l11018" /><CodeLine lineNumber="11018"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/coff/#ae7629a0652411dc2be61aea4fee2b39caadd024eaaab0666500593f30456bbc43">Entry</a>.IsSwiftSelf = </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l11019" /><CodeLine lineNumber="11019"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/coff/#ae7629a0652411dc2be61aea4fee2b39caadd024eaaab0666500593f30456bbc43">Entry</a>.IsSwiftAsync = </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l11020" /><CodeLine lineNumber="11020"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/coff/#ae7629a0652411dc2be61aea4fee2b39caadd024eaaab0666500593f30456bbc43">Entry</a>.IsSwiftError = </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l11021" /><CodeLine lineNumber="11021"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/coff/#ae7629a0652411dc2be61aea4fee2b39caadd024eaaab0666500593f30456bbc43">Entry</a>.IsCFGuardTarget = </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l11022" /><CodeLine lineNumber="11022"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/coff/#ae7629a0652411dc2be61aea4fee2b39caadd024eaaab0666500593f30456bbc43">Entry</a>.Alignment = Alignment;</span></CodeLine>
<Link id="l11023" /><CodeLine lineNumber="11023"><span class="doxyHighlight">    CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#abbf22b8a1f5ed1623341605748ec8df4">getArgs</a>().insert(CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#abbf22b8a1f5ed1623341605748ec8df4">getArgs</a>().begin(), Entry);</span></CodeLine>
<Link id="l11024" /><CodeLine lineNumber="11024"><span class="doxyHighlight">    CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#aa2860be7d7f42a52797181279c5f5d63">NumFixedArgs</a> += 1;</span></CodeLine>
<Link id="l11025" /><CodeLine lineNumber="11025"><span class="doxyHighlight">    CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#abbf22b8a1f5ed1623341605748ec8df4">getArgs</a>()&#91;0&#93;.IndirectType = CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#add4f6f94fcf01be61720d26a49591535">RetTy</a>;</span></CodeLine>
<Link id="l11026" /><CodeLine lineNumber="11026"><span class="doxyHighlight">    CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#add4f6f94fcf01be61720d26a49591535">RetTy</a> = <a href="/docs/api/classes/llvm/type/#a6e20e76960d952de088354cbcd14c3ab">Type::getVoidTy</a>(CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#add4f6f94fcf01be61720d26a49591535">RetTy</a>-&gt;<a href="/docs/api/classes/llvm/type/#a909eca4ba9e5eefc203c8e3770bdab25">getContext</a>());</span></CodeLine>
<Link id="l11027" /><CodeLine lineNumber="11027"></CodeLine>
<Link id="l11028" /><CodeLine lineNumber="11028"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// sret demotion isn&#39;t compatible with tail-calls, since the sret argument</span></CodeLine>
<Link id="l11029" /><CodeLine lineNumber="11029"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// points into the callers stack frame.</span></CodeLine>
<Link id="l11030" /><CodeLine lineNumber="11030"><span class="doxyHighlight">    CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#a283b7df55a414e3185b56aeea1ec7ee7">IsTailCall</a> = </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l11031" /><CodeLine lineNumber="11031"><span class="doxyHighlight">  &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l11032" /><CodeLine lineNumber="11032"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> NeedsRegBlock = <a href="/docs/api/classes/llvm/targetlowering/#ac9df75d2d0cb54ed147aaf46cd2b1e84">functionArgumentNeedsConsecutiveRegisters</a>(</span></CodeLine>
<Link id="l11033" /><CodeLine lineNumber="11033"><span class="doxyHighlight">        CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#add4f6f94fcf01be61720d26a49591535">RetTy</a>, CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#ae47a430364102f6e179d49cb3411b955">CallConv</a>, CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#a3eb6e80dc80f35553ccc33a89d691df8">IsVarArg</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>);</span></CodeLine>
<Link id="l11034" /><CodeLine lineNumber="11034"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0, <a href="/docs/api/files/lib/lib/ir/builtingcs-cpp/#abb2b3a60ccc38a28239e19a1646e0c8a">E</a> = RetTys.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#a1c479a8c434377c2b8cb056bdfdfc201">size</a>(); <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a href="/docs/api/files/lib/lib/ir/builtingcs-cpp/#abb2b3a60ccc38a28239e19a1646e0c8a">E</a>; ++<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l11035" /><CodeLine lineNumber="11035"><span class="doxyHighlight">      ISD::ArgFlagsTy <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>;</span></CodeLine>
<Link id="l11036" /><CodeLine lineNumber="11036"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (NeedsRegBlock) &#123;</span></CodeLine>
<Link id="l11037" /><CodeLine lineNumber="11037"><span class="doxyHighlight">        <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setInConsecutiveRegs();</span></CodeLine>
<Link id="l11038" /><CodeLine lineNumber="11038"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a> == RetTys.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#a1c479a8c434377c2b8cb056bdfdfc201">size</a>() - 1)</span></CodeLine>
<Link id="l11039" /><CodeLine lineNumber="11039"><span class="doxyHighlight">          <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setInConsecutiveRegsLast();</span></CodeLine>
<Link id="l11040" /><CodeLine lineNumber="11040"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l11041" /><CodeLine lineNumber="11041"><span class="doxyHighlight">      EVT VT = RetTys&#91;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>&#93;;</span></CodeLine>
<Link id="l11042" /><CodeLine lineNumber="11042"><span class="doxyHighlight">      MVT RegisterVT = <a href="/docs/api/classes/llvm/targetloweringbase/#a347d293012b5070f6833926f3d2e50d7">getRegisterTypeForCallingConv</a>(CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#add4f6f94fcf01be61720d26a49591535">RetTy</a>-&gt;<a href="/docs/api/classes/llvm/type/#a909eca4ba9e5eefc203c8e3770bdab25">getContext</a>(),</span></CodeLine>
<Link id="l11043" /><CodeLine lineNumber="11043"><span class="doxyHighlight">                                                     CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#ae47a430364102f6e179d49cb3411b955">CallConv</a>, VT);</span></CodeLine>
<Link id="l11044" /><CodeLine lineNumber="11044"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumRegs = <a href="/docs/api/classes/llvm/targetloweringbase/#a315b23c0819f55fa9e7473c21992fc12">getNumRegistersForCallingConv</a>(CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#add4f6f94fcf01be61720d26a49591535">RetTy</a>-&gt;<a href="/docs/api/classes/llvm/type/#a909eca4ba9e5eefc203c8e3770bdab25">getContext</a>(),</span></CodeLine>
<Link id="l11045" /><CodeLine lineNumber="11045"><span class="doxyHighlight">                                                       CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#ae47a430364102f6e179d49cb3411b955">CallConv</a>, VT);</span></CodeLine>
<Link id="l11046" /><CodeLine lineNumber="11046"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> i = 0; i != NumRegs; ++i) &#123;</span></CodeLine>
<Link id="l11047" /><CodeLine lineNumber="11047"><span class="doxyHighlight">        ISD::InputArg MyFlags;</span></CodeLine>
<Link id="l11048" /><CodeLine lineNumber="11048"><span class="doxyHighlight">        MyFlags.<a href="/docs/api/structs/llvm/isd/inputarg/#ade84a7c18e5c4189eae57ebd21f77321">Flags</a> = <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>;</span></CodeLine>
<Link id="l11049" /><CodeLine lineNumber="11049"><span class="doxyHighlight">        MyFlags.<a href="/docs/api/structs/llvm/isd/inputarg/#a9b241995758f9cea8cecf597918d1488">VT</a> = RegisterVT;</span></CodeLine>
<Link id="l11050" /><CodeLine lineNumber="11050"><span class="doxyHighlight">        MyFlags.<a href="/docs/api/structs/llvm/isd/inputarg/#aada3fbab341597b0061de2f48db3a26d">ArgVT</a> = VT;</span></CodeLine>
<Link id="l11051" /><CodeLine lineNumber="11051"><span class="doxyHighlight">        MyFlags.<a href="/docs/api/structs/llvm/isd/inputarg/#a27823260c8966d6aa13c133689efe757">Used</a> = CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#ac0915ec58e22758e2c4381de292b4790">IsReturnValueUsed</a>;</span></CodeLine>
<Link id="l11052" /><CodeLine lineNumber="11052"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#add4f6f94fcf01be61720d26a49591535">RetTy</a>-&gt;<a href="/docs/api/classes/llvm/type/#a3b996fbf8458aafffc86cb98a68d0a47">isPointerTy</a>()) &#123;</span></CodeLine>
<Link id="l11053" /><CodeLine lineNumber="11053"><span class="doxyHighlight">          MyFlags.<a href="/docs/api/structs/llvm/isd/inputarg/#ade84a7c18e5c4189eae57ebd21f77321">Flags</a>.<a href="/docs/api/structs/llvm/isd/argflagsty/#a496b8eb214dba975403210ae91d42df7">setPointer</a>();</span></CodeLine>
<Link id="l11054" /><CodeLine lineNumber="11054"><span class="doxyHighlight">          MyFlags.<a href="/docs/api/structs/llvm/isd/inputarg/#ade84a7c18e5c4189eae57ebd21f77321">Flags</a>.<a href="/docs/api/structs/llvm/isd/argflagsty/#a6b9df481dc395254439a5af686b80b9a">setPointerAddrSpace</a>(</span></CodeLine>
<Link id="l11055" /><CodeLine lineNumber="11055"><span class="doxyHighlight">              <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;PointerType&gt;</a>(CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#add4f6f94fcf01be61720d26a49591535">RetTy</a>)-&gt;getAddressSpace());</span></CodeLine>
<Link id="l11056" /><CodeLine lineNumber="11056"><span class="doxyHighlight">        &#125;</span></CodeLine>
<Link id="l11057" /><CodeLine lineNumber="11057"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#aa70600610484cd4224ebf4b46656ef6a">RetSExt</a>)</span></CodeLine>
<Link id="l11058" /><CodeLine lineNumber="11058"><span class="doxyHighlight">          MyFlags.<a href="/docs/api/structs/llvm/isd/inputarg/#ade84a7c18e5c4189eae57ebd21f77321">Flags</a>.<a href="/docs/api/structs/llvm/isd/argflagsty/#a1134ea0aa4c8b2d3e344d48dca3c4d44">setSExt</a>();</span></CodeLine>
<Link id="l11059" /><CodeLine lineNumber="11059"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#a6d1ffe16a83c436cac93b14e50ebf0bc">RetZExt</a>)</span></CodeLine>
<Link id="l11060" /><CodeLine lineNumber="11060"><span class="doxyHighlight">          MyFlags.<a href="/docs/api/structs/llvm/isd/inputarg/#ade84a7c18e5c4189eae57ebd21f77321">Flags</a>.<a href="/docs/api/structs/llvm/isd/argflagsty/#a9d5e89b5f086590d776028ee2f095453">setZExt</a>();</span></CodeLine>
<Link id="l11061" /><CodeLine lineNumber="11061"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#a06d8dcdadb7fe5b0b670265c16adcdc7">IsInReg</a>)</span></CodeLine>
<Link id="l11062" /><CodeLine lineNumber="11062"><span class="doxyHighlight">          MyFlags.<a href="/docs/api/structs/llvm/isd/inputarg/#ade84a7c18e5c4189eae57ebd21f77321">Flags</a>.<a href="/docs/api/structs/llvm/isd/argflagsty/#ac8683d314a90a316cb67a685d42a8c28">setInReg</a>();</span></CodeLine>
<Link id="l11063" /><CodeLine lineNumber="11063"><span class="doxyHighlight">        CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#a423dda4ff918d4145ccc1861f059f940">Ins</a>.push&#95;back(MyFlags);</span></CodeLine>
<Link id="l11064" /><CodeLine lineNumber="11064"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l11065" /><CodeLine lineNumber="11065"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l11066" /><CodeLine lineNumber="11066"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l11067" /><CodeLine lineNumber="11067"></CodeLine>
<Link id="l11068" /><CodeLine lineNumber="11068"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// We push in swifterror return as the last element of CLI.Ins.</span></CodeLine>
<Link id="l11069" /><CodeLine lineNumber="11069"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/targetloweringbase/#ae4ac6bc14db22dbd7b94a3b1bd276796">ArgListTy</a> &amp;<a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/key/#a1958a762261549463a280bac3274d6d5">Args</a> = CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#abbf22b8a1f5ed1623341605748ec8df4">getArgs</a>();</span></CodeLine>
<Link id="l11070" /><CodeLine lineNumber="11070"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/classes/llvm/targetlowering/#a17694ad399c24aae0d2c0ecfbecfea5a">supportSwiftError</a>()) &#123;</span></CodeLine>
<Link id="l11071" /><CodeLine lineNumber="11071"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetloweringbase/arglistentry">ArgListEntry</a> &amp;Arg : Args) &#123;</span></CodeLine>
<Link id="l11072" /><CodeLine lineNumber="11072"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Arg.<a href="/docs/api/classes/llvm/targetloweringbase/arglistentry/#af228c1ab50d777eb5b70bad47c3061af">IsSwiftError</a>) &#123;</span></CodeLine>
<Link id="l11073" /><CodeLine lineNumber="11073"><span class="doxyHighlight">        ISD::InputArg MyFlags;</span></CodeLine>
<Link id="l11074" /><CodeLine lineNumber="11074"><span class="doxyHighlight">        MyFlags.<a href="/docs/api/structs/llvm/isd/inputarg/#a9b241995758f9cea8cecf597918d1488">VT</a> = <a href="/docs/api/classes/llvm/targetloweringbase/#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>);</span></CodeLine>
<Link id="l11075" /><CodeLine lineNumber="11075"><span class="doxyHighlight">        MyFlags.<a href="/docs/api/structs/llvm/isd/inputarg/#aada3fbab341597b0061de2f48db3a26d">ArgVT</a> = EVT(<a href="/docs/api/classes/llvm/targetloweringbase/#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>));</span></CodeLine>
<Link id="l11076" /><CodeLine lineNumber="11076"><span class="doxyHighlight">        MyFlags.<a href="/docs/api/structs/llvm/isd/inputarg/#ade84a7c18e5c4189eae57ebd21f77321">Flags</a>.<a href="/docs/api/structs/llvm/isd/argflagsty/#a8cd2538a9400e19ebc6514a5a166b655">setSwiftError</a>();</span></CodeLine>
<Link id="l11077" /><CodeLine lineNumber="11077"><span class="doxyHighlight">        CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#a423dda4ff918d4145ccc1861f059f940">Ins</a>.push&#95;back(MyFlags);</span></CodeLine>
<Link id="l11078" /><CodeLine lineNumber="11078"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l11079" /><CodeLine lineNumber="11079"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l11080" /><CodeLine lineNumber="11080"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l11081" /><CodeLine lineNumber="11081"></CodeLine>
<Link id="l11082" /><CodeLine lineNumber="11082"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Handle all of the outgoing arguments.</span></CodeLine>
<Link id="l11083" /><CodeLine lineNumber="11083"><span class="doxyHighlight">  CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#ad07ce660c9cb208ae98a53ad8b3ce1de">Outs</a>.clear();</span></CodeLine>
<Link id="l11084" /><CodeLine lineNumber="11084"><span class="doxyHighlight">  CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#adba9c4dde08bb0a9de1c99e7e039d8a0">OutVals</a>.clear();</span></CodeLine>
<Link id="l11085" /><CodeLine lineNumber="11085"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> i = 0, e = <a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/key/#a1958a762261549463a280bac3274d6d5">Args</a>.size(); i != e; ++i) &#123;</span></CodeLine>
<Link id="l11086" /><CodeLine lineNumber="11086"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;EVT, 4&gt;</a> ValueVTs;</span></CodeLine>
<Link id="l11087" /><CodeLine lineNumber="11087"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/#ab99618b3d8988b758a67f5a1a6071095">ComputeValueVTs</a>(&#42;</span><span class="doxyHighlightKeyword">this</span><span class="doxyHighlight">, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Args&#91;i&#93;.Ty, ValueVTs);</span></CodeLine>
<Link id="l11088" /><CodeLine lineNumber="11088"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// FIXME: Split arguments if CLI.IsPostTypeLegalization</span></CodeLine>
<Link id="l11089" /><CodeLine lineNumber="11089"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a88ee8e4eea43084bd8964682683da88caa1fa27779242b4902f7ae3bdd5c6d508">Type</a> &#42;FinalType = <a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/key/#a1958a762261549463a280bac3274d6d5">Args</a>&#91;i&#93;.Ty;</span></CodeLine>
<Link id="l11090" /><CodeLine lineNumber="11090"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Args&#91;i&#93;.IsByVal)</span></CodeLine>
<Link id="l11091" /><CodeLine lineNumber="11091"><span class="doxyHighlight">      FinalType = <a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/key/#a1958a762261549463a280bac3274d6d5">Args</a>&#91;i&#93;.IndirectType;</span></CodeLine>
<Link id="l11092" /><CodeLine lineNumber="11092"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> NeedsRegBlock = <a href="/docs/api/classes/llvm/targetlowering/#ac9df75d2d0cb54ed147aaf46cd2b1e84">functionArgumentNeedsConsecutiveRegisters</a>(</span></CodeLine>
<Link id="l11093" /><CodeLine lineNumber="11093"><span class="doxyHighlight">        FinalType, CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#ae47a430364102f6e179d49cb3411b955">CallConv</a>, CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#a3eb6e80dc80f35553ccc33a89d691df8">IsVarArg</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>);</span></CodeLine>
<Link id="l11094" /><CodeLine lineNumber="11094"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/#a066e2a31a13d6520e52ae1944f194662">Value</a> = 0, NumValues = ValueVTs.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#a1c479a8c434377c2b8cb056bdfdfc201">size</a>(); <a href="/docs/api/namespaces/llvm/#a066e2a31a13d6520e52ae1944f194662">Value</a> != NumValues;</span></CodeLine>
<Link id="l11095" /><CodeLine lineNumber="11095"><span class="doxyHighlight">         ++<a href="/docs/api/namespaces/llvm/#a066e2a31a13d6520e52ae1944f194662">Value</a>) &#123;</span></CodeLine>
<Link id="l11096" /><CodeLine lineNumber="11096"><span class="doxyHighlight">      EVT VT = ValueVTs&#91;<a href="/docs/api/namespaces/llvm/#a066e2a31a13d6520e52ae1944f194662">Value</a>&#93;;</span></CodeLine>
<Link id="l11097" /><CodeLine lineNumber="11097"><span class="doxyHighlight">      <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a88ee8e4eea43084bd8964682683da88caa1fa27779242b4902f7ae3bdd5c6d508">Type</a> &#42;ArgTy = VT.<a href="/docs/api/structs/llvm/evt/#ab0cfceeb37508e56f9c127e59766a668">getTypeForEVT</a>(CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#add4f6f94fcf01be61720d26a49591535">RetTy</a>-&gt;<a href="/docs/api/classes/llvm/type/#a909eca4ba9e5eefc203c8e3770bdab25">getContext</a>());</span></CodeLine>
<Link id="l11098" /><CodeLine lineNumber="11098"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a> = <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a>(Args&#91;i&#93;.<a href="/docs/api/namespaces/llvm/rdf/#ac54dd04d6e441d1b72195477e5bc1909">Node</a>.getNode(),</span></CodeLine>
<Link id="l11099" /><CodeLine lineNumber="11099"><span class="doxyHighlight">                           Args&#91;i&#93;.Node.getResNo() + <a href="/docs/api/namespaces/llvm/#a066e2a31a13d6520e52ae1944f194662">Value</a>);</span></CodeLine>
<Link id="l11100" /><CodeLine lineNumber="11100"><span class="doxyHighlight">      ISD::ArgFlagsTy <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>;</span></CodeLine>
<Link id="l11101" /><CodeLine lineNumber="11101"></CodeLine>
<Link id="l11102" /><CodeLine lineNumber="11102"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Certain targets (such as MIPS), may have a different ABI alignment</span></CodeLine>
<Link id="l11103" /><CodeLine lineNumber="11103"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// for a type depending on the context. Give the target a chance to</span></CodeLine>
<Link id="l11104" /><CodeLine lineNumber="11104"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// specify the alignment it wants.</span></CodeLine>
<Link id="l11105" /><CodeLine lineNumber="11105"><span class="doxyHighlight">      </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/arg/key/#a6b334a5f83504ebc99cc59f4f333ff98">Align</a> OriginalAlignment(<a href="/docs/api/classes/llvm/targetloweringbase/#a6aeac10266a6f9964330113072f23d4f">getABIAlignmentForCallingConv</a>(ArgTy, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>));</span></CodeLine>
<Link id="l11106" /><CodeLine lineNumber="11106"><span class="doxyHighlight">      <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setOrigAlign(OriginalAlignment);</span></CodeLine>
<Link id="l11107" /><CodeLine lineNumber="11107"></CodeLine>
<Link id="l11108" /><CodeLine lineNumber="11108"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Args&#91;i&#93;.Ty-&gt;isPointerTy()) &#123;</span></CodeLine>
<Link id="l11109" /><CodeLine lineNumber="11109"><span class="doxyHighlight">        <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setPointer();</span></CodeLine>
<Link id="l11110" /><CodeLine lineNumber="11110"><span class="doxyHighlight">        <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setPointerAddrSpace(</span></CodeLine>
<Link id="l11111" /><CodeLine lineNumber="11111"><span class="doxyHighlight">            <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;PointerType&gt;</a>(Args&#91;i&#93;.Ty)-&gt;<a href="/docs/api/files/lib/lib/target/lib/target/nvptx/nvptxaliasanalysis-cpp/#af6ab6e89a7e272521d7641859805a0ba">getAddressSpace</a>());</span></CodeLine>
<Link id="l11112" /><CodeLine lineNumber="11112"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l11113" /><CodeLine lineNumber="11113"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Args&#91;i&#93;.IsZExt)</span></CodeLine>
<Link id="l11114" /><CodeLine lineNumber="11114"><span class="doxyHighlight">        <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setZExt();</span></CodeLine>
<Link id="l11115" /><CodeLine lineNumber="11115"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Args&#91;i&#93;.IsSExt)</span></CodeLine>
<Link id="l11116" /><CodeLine lineNumber="11116"><span class="doxyHighlight">        <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setSExt();</span></CodeLine>
<Link id="l11117" /><CodeLine lineNumber="11117"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Args&#91;i&#93;.IsNoExt)</span></CodeLine>
<Link id="l11118" /><CodeLine lineNumber="11118"><span class="doxyHighlight">        <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setNoExt();</span></CodeLine>
<Link id="l11119" /><CodeLine lineNumber="11119"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Args&#91;i&#93;.IsInReg) &#123;</span></CodeLine>
<Link id="l11120" /><CodeLine lineNumber="11120"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// If we are using vectorcall calling convention, a structure that is</span></CodeLine>
<Link id="l11121" /><CodeLine lineNumber="11121"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// passed InReg - is surely an HVA</span></CodeLine>
<Link id="l11122" /><CodeLine lineNumber="11122"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#ae47a430364102f6e179d49cb3411b955">CallConv</a> == <a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cacfa4cc9bcdaefd5e969c258c994052b9">CallingConv::X86&#95;VectorCall</a> &amp;&amp;</span></CodeLine>
<Link id="l11123" /><CodeLine lineNumber="11123"><span class="doxyHighlight">            <a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;StructType&gt;</a>(FinalType)) &#123;</span></CodeLine>
<Link id="l11124" /><CodeLine lineNumber="11124"><span class="doxyHighlight">          </span><span class="doxyHighlightComment">// The first value of a structure is marked</span></CodeLine>
<Link id="l11125" /><CodeLine lineNumber="11125"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (0 == <a href="/docs/api/namespaces/llvm/#a066e2a31a13d6520e52ae1944f194662">Value</a>)</span></CodeLine>
<Link id="l11126" /><CodeLine lineNumber="11126"><span class="doxyHighlight">            <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setHvaStart();</span></CodeLine>
<Link id="l11127" /><CodeLine lineNumber="11127"><span class="doxyHighlight">          <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setHva();</span></CodeLine>
<Link id="l11128" /><CodeLine lineNumber="11128"><span class="doxyHighlight">        &#125;</span></CodeLine>
<Link id="l11129" /><CodeLine lineNumber="11129"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// Set InReg Flag</span></CodeLine>
<Link id="l11130" /><CodeLine lineNumber="11130"><span class="doxyHighlight">        <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setInReg();</span></CodeLine>
<Link id="l11131" /><CodeLine lineNumber="11131"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l11132" /><CodeLine lineNumber="11132"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Args&#91;i&#93;.IsSRet)</span></CodeLine>
<Link id="l11133" /><CodeLine lineNumber="11133"><span class="doxyHighlight">        <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setSRet();</span></CodeLine>
<Link id="l11134" /><CodeLine lineNumber="11134"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Args&#91;i&#93;.IsSwiftSelf)</span></CodeLine>
<Link id="l11135" /><CodeLine lineNumber="11135"><span class="doxyHighlight">        <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setSwiftSelf();</span></CodeLine>
<Link id="l11136" /><CodeLine lineNumber="11136"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Args&#91;i&#93;.IsSwiftAsync)</span></CodeLine>
<Link id="l11137" /><CodeLine lineNumber="11137"><span class="doxyHighlight">        <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setSwiftAsync();</span></CodeLine>
<Link id="l11138" /><CodeLine lineNumber="11138"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Args&#91;i&#93;.IsSwiftError)</span></CodeLine>
<Link id="l11139" /><CodeLine lineNumber="11139"><span class="doxyHighlight">        <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setSwiftError();</span></CodeLine>
<Link id="l11140" /><CodeLine lineNumber="11140"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Args&#91;i&#93;.IsCFGuardTarget)</span></CodeLine>
<Link id="l11141" /><CodeLine lineNumber="11141"><span class="doxyHighlight">        <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setCFGuardTarget();</span></CodeLine>
<Link id="l11142" /><CodeLine lineNumber="11142"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Args&#91;i&#93;.IsByVal)</span></CodeLine>
<Link id="l11143" /><CodeLine lineNumber="11143"><span class="doxyHighlight">        <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setByVal();</span></CodeLine>
<Link id="l11144" /><CodeLine lineNumber="11144"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Args&#91;i&#93;.IsByRef)</span></CodeLine>
<Link id="l11145" /><CodeLine lineNumber="11145"><span class="doxyHighlight">        <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setByRef();</span></CodeLine>
<Link id="l11146" /><CodeLine lineNumber="11146"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Args&#91;i&#93;.IsPreallocated) &#123;</span></CodeLine>
<Link id="l11147" /><CodeLine lineNumber="11147"><span class="doxyHighlight">        <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setPreallocated();</span></CodeLine>
<Link id="l11148" /><CodeLine lineNumber="11148"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// Set the byval flag for CCAssignFn callbacks that don&#39;t know about</span></CodeLine>
<Link id="l11149" /><CodeLine lineNumber="11149"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// preallocated.  This way we can know how many bytes we should&#39;ve</span></CodeLine>
<Link id="l11150" /><CodeLine lineNumber="11150"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// allocated and how many bytes a callee cleanup function will pop.  If</span></CodeLine>
<Link id="l11151" /><CodeLine lineNumber="11151"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// we port preallocated to more targets, we&#39;ll have to add custom</span></CodeLine>
<Link id="l11152" /><CodeLine lineNumber="11152"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// preallocated handling in the various CC lowering callbacks.</span></CodeLine>
<Link id="l11153" /><CodeLine lineNumber="11153"><span class="doxyHighlight">        <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setByVal();</span></CodeLine>
<Link id="l11154" /><CodeLine lineNumber="11154"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l11155" /><CodeLine lineNumber="11155"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Args&#91;i&#93;.IsInAlloca) &#123;</span></CodeLine>
<Link id="l11156" /><CodeLine lineNumber="11156"><span class="doxyHighlight">        <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setInAlloca();</span></CodeLine>
<Link id="l11157" /><CodeLine lineNumber="11157"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// Set the byval flag for CCAssignFn callbacks that don&#39;t know about</span></CodeLine>
<Link id="l11158" /><CodeLine lineNumber="11158"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// inalloca.  This way we can know how many bytes we should&#39;ve allocated</span></CodeLine>
<Link id="l11159" /><CodeLine lineNumber="11159"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// and how many bytes a callee cleanup function will pop.  If we port</span></CodeLine>
<Link id="l11160" /><CodeLine lineNumber="11160"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// inalloca to more targets, we&#39;ll have to add custom inalloca handling</span></CodeLine>
<Link id="l11161" /><CodeLine lineNumber="11161"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// in the various CC lowering callbacks.</span></CodeLine>
<Link id="l11162" /><CodeLine lineNumber="11162"><span class="doxyHighlight">        <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setByVal();</span></CodeLine>
<Link id="l11163" /><CodeLine lineNumber="11163"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l11164" /><CodeLine lineNumber="11164"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/arg/key/#a6b334a5f83504ebc99cc59f4f333ff98">Align</a> MemAlign;</span></CodeLine>
<Link id="l11165" /><CodeLine lineNumber="11165"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Args&#91;i&#93;.IsByVal || Args&#91;i&#93;.IsInAlloca || Args&#91;i&#93;.IsPreallocated) &#123;</span></CodeLine>
<Link id="l11166" /><CodeLine lineNumber="11166"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> FrameSize = <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getTypeAllocSize(Args&#91;i&#93;.IndirectType);</span></CodeLine>
<Link id="l11167" /><CodeLine lineNumber="11167"><span class="doxyHighlight">        <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setByValSize(FrameSize);</span></CodeLine>
<Link id="l11168" /><CodeLine lineNumber="11168"></CodeLine>
<Link id="l11169" /><CodeLine lineNumber="11169"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// info is not there but there are cases it cannot get right.</span></CodeLine>
<Link id="l11170" /><CodeLine lineNumber="11170"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> MA = Args&#91;i&#93;.Alignment)</span></CodeLine>
<Link id="l11171" /><CodeLine lineNumber="11171"><span class="doxyHighlight">          MemAlign = &#42;MA;</span></CodeLine>
<Link id="l11172" /><CodeLine lineNumber="11172"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">else</span></CodeLine>
<Link id="l11173" /><CodeLine lineNumber="11173"><span class="doxyHighlight">          MemAlign = <a href="/docs/api/classes/llvm/targetloweringbase/#a00e2bab3b9d978fef4c7b13f805eedc7">getByValTypeAlignment</a>(Args&#91;i&#93;.IndirectType, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>);</span></CodeLine>
<Link id="l11174" /><CodeLine lineNumber="11174"><span class="doxyHighlight">      &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> MA = Args&#91;i&#93;.Alignment) &#123;</span></CodeLine>
<Link id="l11175" /><CodeLine lineNumber="11175"><span class="doxyHighlight">        MemAlign = &#42;MA;</span></CodeLine>
<Link id="l11176" /><CodeLine lineNumber="11176"><span class="doxyHighlight">      &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l11177" /><CodeLine lineNumber="11177"><span class="doxyHighlight">        MemAlign = OriginalAlignment;</span></CodeLine>
<Link id="l11178" /><CodeLine lineNumber="11178"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l11179" /><CodeLine lineNumber="11179"><span class="doxyHighlight">      <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setMemAlign(MemAlign);</span></CodeLine>
<Link id="l11180" /><CodeLine lineNumber="11180"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Args&#91;i&#93;.IsNest)</span></CodeLine>
<Link id="l11181" /><CodeLine lineNumber="11181"><span class="doxyHighlight">        <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setNest();</span></CodeLine>
<Link id="l11182" /><CodeLine lineNumber="11182"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (NeedsRegBlock)</span></CodeLine>
<Link id="l11183" /><CodeLine lineNumber="11183"><span class="doxyHighlight">        <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setInConsecutiveRegs();</span></CodeLine>
<Link id="l11184" /><CodeLine lineNumber="11184"></CodeLine>
<Link id="l11185" /><CodeLine lineNumber="11185"><span class="doxyHighlight">      MVT PartVT = <a href="/docs/api/classes/llvm/targetloweringbase/#a347d293012b5070f6833926f3d2e50d7">getRegisterTypeForCallingConv</a>(CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#add4f6f94fcf01be61720d26a49591535">RetTy</a>-&gt;<a href="/docs/api/classes/llvm/type/#a909eca4ba9e5eefc203c8e3770bdab25">getContext</a>(),</span></CodeLine>
<Link id="l11186" /><CodeLine lineNumber="11186"><span class="doxyHighlight">                                                 CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#ae47a430364102f6e179d49cb3411b955">CallConv</a>, VT);</span></CodeLine>
<Link id="l11187" /><CodeLine lineNumber="11187"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumParts = <a href="/docs/api/classes/llvm/targetloweringbase/#a315b23c0819f55fa9e7473c21992fc12">getNumRegistersForCallingConv</a>(CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#add4f6f94fcf01be61720d26a49591535">RetTy</a>-&gt;<a href="/docs/api/classes/llvm/type/#a909eca4ba9e5eefc203c8e3770bdab25">getContext</a>(),</span></CodeLine>
<Link id="l11188" /><CodeLine lineNumber="11188"><span class="doxyHighlight">                                                        CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#ae47a430364102f6e179d49cb3411b955">CallConv</a>, VT);</span></CodeLine>
<Link id="l11189" /><CodeLine lineNumber="11189"><span class="doxyHighlight">      SmallVector&lt;SDValue, 4&gt; Parts(NumParts);</span></CodeLine>
<Link id="l11190" /><CodeLine lineNumber="11190"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110">ISD::NodeType</a> ExtendKind = <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a27d5d8ef82302b739ba3ca8be1a5513d">ISD::ANY&#95;EXTEND</a>;</span></CodeLine>
<Link id="l11191" /><CodeLine lineNumber="11191"></CodeLine>
<Link id="l11192" /><CodeLine lineNumber="11192"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Args&#91;i&#93;.IsSExt)</span></CodeLine>
<Link id="l11193" /><CodeLine lineNumber="11193"><span class="doxyHighlight">        ExtendKind = <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a5183f3d72924bc7c77ba8d3f5de9f602">ISD::SIGN&#95;EXTEND</a>;</span></CodeLine>
<Link id="l11194" /><CodeLine lineNumber="11194"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Args&#91;i&#93;.IsZExt)</span></CodeLine>
<Link id="l11195" /><CodeLine lineNumber="11195"><span class="doxyHighlight">        ExtendKind = <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">ISD::ZERO&#95;EXTEND</a>;</span></CodeLine>
<Link id="l11196" /><CodeLine lineNumber="11196"></CodeLine>
<Link id="l11197" /><CodeLine lineNumber="11197"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Conservatively only handle &#39;returned&#39; on non-vectors that can be lowered,</span></CodeLine>
<Link id="l11198" /><CodeLine lineNumber="11198"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// for now.</span></CodeLine>
<Link id="l11199" /><CodeLine lineNumber="11199"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Args&#91;i&#93;.IsReturned &amp;&amp; !<a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>.getValueType().isVector() &amp;&amp;</span></CodeLine>
<Link id="l11200" /><CodeLine lineNumber="11200"><span class="doxyHighlight">          <a href="/docs/api/classes/llvm/targetlowering/#afc21228b6db4542de1339af252b2a725">CanLowerReturn</a>) &#123;</span></CodeLine>
<Link id="l11201" /><CodeLine lineNumber="11201"><span class="doxyHighlight">        <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#add4f6f94fcf01be61720d26a49591535">RetTy</a> == Args&#91;i&#93;.Ty ||</span></CodeLine>
<Link id="l11202" /><CodeLine lineNumber="11202"><span class="doxyHighlight">                (CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#add4f6f94fcf01be61720d26a49591535">RetTy</a>-&gt;<a href="/docs/api/classes/llvm/type/#a3b996fbf8458aafffc86cb98a68d0a47">isPointerTy</a>() &amp;&amp; Args&#91;i&#93;.Ty-&gt;isPointerTy() &amp;&amp;</span></CodeLine>
<Link id="l11203" /><CodeLine lineNumber="11203"><span class="doxyHighlight">                 CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#add4f6f94fcf01be61720d26a49591535">RetTy</a>-&gt;<a href="/docs/api/classes/llvm/type/#a5ab2d0b0f0b8ceec3b907184e7567197">getPointerAddressSpace</a>() ==</span></CodeLine>
<Link id="l11204" /><CodeLine lineNumber="11204"><span class="doxyHighlight">                     Args&#91;i&#93;.Ty-&gt;getPointerAddressSpace())) &amp;&amp;</span></CodeLine>
<Link id="l11205" /><CodeLine lineNumber="11205"><span class="doxyHighlight">               RetTys.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#a1c479a8c434377c2b8cb056bdfdfc201">size</a>() == NumValues &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;unexpected use of &#39;returned&#39;&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l11206" /><CodeLine lineNumber="11206"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// Before passing &#39;returned&#39; to the target lowering code, ensure that</span></CodeLine>
<Link id="l11207" /><CodeLine lineNumber="11207"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// either the register MVT and the actual EVT are the same size or that</span></CodeLine>
<Link id="l11208" /><CodeLine lineNumber="11208"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// the return value and argument are extended in the same way; in these</span></CodeLine>
<Link id="l11209" /><CodeLine lineNumber="11209"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// cases it&#39;s safe to pass the argument register value unchanged as the</span></CodeLine>
<Link id="l11210" /><CodeLine lineNumber="11210"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// return register value (although it&#39;s at the target&#39;s option whether</span></CodeLine>
<Link id="l11211" /><CodeLine lineNumber="11211"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// to do so)</span></CodeLine>
<Link id="l11212" /><CodeLine lineNumber="11212"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// TODO: allow code generation to take advantage of partially preserved</span></CodeLine>
<Link id="l11213" /><CodeLine lineNumber="11213"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// registers rather than clobbering the entire register when the</span></CodeLine>
<Link id="l11214" /><CodeLine lineNumber="11214"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// parameter extension method is not compatible with the return</span></CodeLine>
<Link id="l11215" /><CodeLine lineNumber="11215"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// extension method</span></CodeLine>
<Link id="l11216" /><CodeLine lineNumber="11216"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> ((NumParts &#42; PartVT.<a href="/docs/api/classes/llvm/mvt/#a7be7c6dd92efc0d6f866d4a3b433eed0">getSizeInBits</a>() == VT.<a href="/docs/api/structs/llvm/evt/#a45e76d44a189e456d52e37ba3dda0fce">getSizeInBits</a>()) ||</span></CodeLine>
<Link id="l11217" /><CodeLine lineNumber="11217"><span class="doxyHighlight">            (ExtendKind != <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a27d5d8ef82302b739ba3ca8be1a5513d">ISD::ANY&#95;EXTEND</a> &amp;&amp; CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#aa70600610484cd4224ebf4b46656ef6a">RetSExt</a> == Args&#91;i&#93;.IsSExt &amp;&amp;</span></CodeLine>
<Link id="l11218" /><CodeLine lineNumber="11218"><span class="doxyHighlight">             CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#a6d1ffe16a83c436cac93b14e50ebf0bc">RetZExt</a> == Args&#91;i&#93;.IsZExt))</span></CodeLine>
<Link id="l11219" /><CodeLine lineNumber="11219"><span class="doxyHighlight">          <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setReturned();</span></CodeLine>
<Link id="l11220" /><CodeLine lineNumber="11220"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l11221" /><CodeLine lineNumber="11221"></CodeLine>
<Link id="l11222" /><CodeLine lineNumber="11222"><span class="doxyHighlight">      <a href="#a8910923e28ba24c5abedb60c66c86cc5">getCopyToParts</a>(CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#ae76ac9826f02f95aae34e845ac110244">DAG</a>, CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#a3b6fcbb7bdd8ae29e8af4cd38bce7a40">DL</a>, <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>, &amp;Parts&#91;0&#93;, NumParts, PartVT, CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#acd79db0f7d45129e8af1258541861ef8">CB</a>,</span></CodeLine>
<Link id="l11223" /><CodeLine lineNumber="11223"><span class="doxyHighlight">                     CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#ae47a430364102f6e179d49cb3411b955">CallConv</a>, ExtendKind);</span></CodeLine>
<Link id="l11224" /><CodeLine lineNumber="11224"></CodeLine>
<Link id="l11225" /><CodeLine lineNumber="11225"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> j = 0; <a href="/docs/api/namespaces/llvm/m68k/#ab3a288f2953d8eca3e363959fc2cf38ea363b122c528f54df4a0446b6bab05515">j</a> != NumParts; ++<a href="/docs/api/namespaces/llvm/m68k/#ab3a288f2953d8eca3e363959fc2cf38ea363b122c528f54df4a0446b6bab05515">j</a>) &#123;</span></CodeLine>
<Link id="l11226" /><CodeLine lineNumber="11226"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// if it isn&#39;t first piece, alignment must be 1</span></CodeLine>
<Link id="l11227" /><CodeLine lineNumber="11227"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// For scalable vectors the scalable part is currently handled</span></CodeLine>
<Link id="l11228" /><CodeLine lineNumber="11228"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// by individual targets, so we just use the known minimum size here.</span></CodeLine>
<Link id="l11229" /><CodeLine lineNumber="11229"><span class="doxyHighlight">        ISD::OutputArg MyFlags(</span></CodeLine>
<Link id="l11230" /><CodeLine lineNumber="11230"><span class="doxyHighlight">            Flags, Parts&#91;j&#93;.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>().<a href="/docs/api/files/lib/lib/codegen/lib/codegen/selectiondag/selectiondagisel-cpp/#a4ee68bef4d94f4873f75267990914ac6">getSimpleVT</a>(), VT,</span></CodeLine>
<Link id="l11231" /><CodeLine lineNumber="11231"><span class="doxyHighlight">            i &lt; CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#aa2860be7d7f42a52797181279c5f5d63">NumFixedArgs</a>, i,</span></CodeLine>
<Link id="l11232" /><CodeLine lineNumber="11232"><span class="doxyHighlight">            j &#42; Parts&#91;j&#93;.getValueType().getStoreSize().getKnownMinValue());</span></CodeLine>
<Link id="l11233" /><CodeLine lineNumber="11233"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (NumParts &gt; 1 &amp;&amp; j == 0)</span></CodeLine>
<Link id="l11234" /><CodeLine lineNumber="11234"><span class="doxyHighlight">          MyFlags.<a href="/docs/api/structs/llvm/isd/inputarg/#ade84a7c18e5c4189eae57ebd21f77321">Flags</a>.<a href="/docs/api/structs/llvm/isd/argflagsty/#a25c5036ad8186057b206a6be57ce383d">setSplit</a>();</span></CodeLine>
<Link id="l11235" /><CodeLine lineNumber="11235"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (j != 0) &#123;</span></CodeLine>
<Link id="l11236" /><CodeLine lineNumber="11236"><span class="doxyHighlight">          MyFlags.<a href="/docs/api/structs/llvm/isd/inputarg/#ade84a7c18e5c4189eae57ebd21f77321">Flags</a>.<a href="/docs/api/structs/llvm/isd/argflagsty/#aecf6befedde7c043848775fefeab8bd8">setOrigAlign</a>(<a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/arg/key/#a6b334a5f83504ebc99cc59f4f333ff98">Align</a>(1));</span></CodeLine>
<Link id="l11237" /><CodeLine lineNumber="11237"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (j == NumParts - 1)</span></CodeLine>
<Link id="l11238" /><CodeLine lineNumber="11238"><span class="doxyHighlight">            MyFlags.<a href="/docs/api/structs/llvm/isd/inputarg/#ade84a7c18e5c4189eae57ebd21f77321">Flags</a>.<a href="/docs/api/structs/llvm/isd/argflagsty/#adea6c8fe8105f3c0b27c0e72c7fbc40b">setSplitEnd</a>();</span></CodeLine>
<Link id="l11239" /><CodeLine lineNumber="11239"><span class="doxyHighlight">        &#125;</span></CodeLine>
<Link id="l11240" /><CodeLine lineNumber="11240"></CodeLine>
<Link id="l11241" /><CodeLine lineNumber="11241"><span class="doxyHighlight">        CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#ad07ce660c9cb208ae98a53ad8b3ce1de">Outs</a>.push&#95;back(MyFlags);</span></CodeLine>
<Link id="l11242" /><CodeLine lineNumber="11242"><span class="doxyHighlight">        CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#adba9c4dde08bb0a9de1c99e7e039d8a0">OutVals</a>.push&#95;back(Parts&#91;j&#93;);</span></CodeLine>
<Link id="l11243" /><CodeLine lineNumber="11243"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l11244" /><CodeLine lineNumber="11244"></CodeLine>
<Link id="l11245" /><CodeLine lineNumber="11245"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (NeedsRegBlock &amp;&amp; <a href="/docs/api/namespaces/llvm/#a066e2a31a13d6520e52ae1944f194662">Value</a> == NumValues - 1)</span></CodeLine>
<Link id="l11246" /><CodeLine lineNumber="11246"><span class="doxyHighlight">        CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#ad07ce660c9cb208ae98a53ad8b3ce1de">Outs</a>&#91;CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#ad07ce660c9cb208ae98a53ad8b3ce1de">Outs</a>.size() - 1&#93;.Flags.setInConsecutiveRegsLast();</span></CodeLine>
<Link id="l11247" /><CodeLine lineNumber="11247"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l11248" /><CodeLine lineNumber="11248"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l11249" /><CodeLine lineNumber="11249"></CodeLine>
<Link id="l11250" /><CodeLine lineNumber="11250"><span class="doxyHighlight">  SmallVector&lt;SDValue, 4&gt; InVals;</span></CodeLine>
<Link id="l11251" /><CodeLine lineNumber="11251"><span class="doxyHighlight">  CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#aa4872f31b8be67e8a1998454db0766bd">Chain</a> = <a href="/docs/api/classes/llvm/targetlowering/#a7446faa85fb7b6ebdbd136f514eee0af">LowerCall</a>(CLI, InVals);</span></CodeLine>
<Link id="l11252" /><CodeLine lineNumber="11252"></CodeLine>
<Link id="l11253" /><CodeLine lineNumber="11253"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Update CLI.InVals to use outside of this function.</span></CodeLine>
<Link id="l11254" /><CodeLine lineNumber="11254"><span class="doxyHighlight">  CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#a58a3dfbca60dd5811b252fca05b254d3">InVals</a> = InVals;</span></CodeLine>
<Link id="l11255" /><CodeLine lineNumber="11255"></CodeLine>
<Link id="l11256" /><CodeLine lineNumber="11256"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Verify that the target&#39;s LowerCall behaved as expected.</span></CodeLine>
<Link id="l11257" /><CodeLine lineNumber="11257"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#aa4872f31b8be67e8a1998454db0766bd">Chain</a>.<a href="/docs/api/classes/llvm/sdvalue/#a2b08aa629a6326d1a0444ee6d477c39d">getNode</a>() &amp;&amp; CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#aa4872f31b8be67e8a1998454db0766bd">Chain</a>.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>() == MVT::Other &amp;&amp;</span></CodeLine>
<Link id="l11258" /><CodeLine lineNumber="11258"><span class="doxyHighlight">         </span><span class="doxyHighlightStringLiteral">&quot;LowerCall didn&#39;t return a valid chain!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l11259" /><CodeLine lineNumber="11259"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((!CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#a283b7df55a414e3185b56aeea1ec7ee7">IsTailCall</a> || InVals.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#ad9a3c7bc26b130377bbafc170b5f88a2">empty</a>()) &amp;&amp;</span></CodeLine>
<Link id="l11260" /><CodeLine lineNumber="11260"><span class="doxyHighlight">         </span><span class="doxyHighlightStringLiteral">&quot;LowerCall emitted a return value for a tail call!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l11261" /><CodeLine lineNumber="11261"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#a283b7df55a414e3185b56aeea1ec7ee7">IsTailCall</a> || InVals.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#a1c479a8c434377c2b8cb056bdfdfc201">size</a>() == CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#a423dda4ff918d4145ccc1861f059f940">Ins</a>.size()) &amp;&amp;</span></CodeLine>
<Link id="l11262" /><CodeLine lineNumber="11262"><span class="doxyHighlight">         </span><span class="doxyHighlightStringLiteral">&quot;LowerCall didn&#39;t emit the correct number of values!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l11263" /><CodeLine lineNumber="11263"></CodeLine>
<Link id="l11264" /><CodeLine lineNumber="11264"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// For a tail call, the return value is merely live-out and there aren&#39;t</span></CodeLine>
<Link id="l11265" /><CodeLine lineNumber="11265"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// any nodes in the DAG representing it. Return a special value to</span></CodeLine>
<Link id="l11266" /><CodeLine lineNumber="11266"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// indicate that a tail call has been emitted and no more Instructions</span></CodeLine>
<Link id="l11267" /><CodeLine lineNumber="11267"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// should be processed in the current block.</span></CodeLine>
<Link id="l11268" /><CodeLine lineNumber="11268"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#a283b7df55a414e3185b56aeea1ec7ee7">IsTailCall</a>) &#123;</span></CodeLine>
<Link id="l11269" /><CodeLine lineNumber="11269"><span class="doxyHighlight">    CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#ae76ac9826f02f95aae34e845ac110244">DAG</a>.<a href="/docs/api/classes/llvm/selectiondag/#ae0fc3f54d06d2230bf93a19d45f51706">setRoot</a>(CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#aa4872f31b8be67e8a1998454db0766bd">Chain</a>);</span></CodeLine>
<Link id="l11270" /><CodeLine lineNumber="11270"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> std::make&#95;pair(<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a>(), <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a>());</span></CodeLine>
<Link id="l11271" /><CodeLine lineNumber="11271"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l11272" /><CodeLine lineNumber="11272"></CodeLine>
<Link id="l11273" /><CodeLine lineNumber="11273"><span class="doxyHighlightPreprocessor">#ifndef NDEBUG</span></CodeLine>
<Link id="l11274" /><CodeLine lineNumber="11274"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> i = 0, e = CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#a423dda4ff918d4145ccc1861f059f940">Ins</a>.size(); i != e; ++i) &#123;</span></CodeLine>
<Link id="l11275" /><CodeLine lineNumber="11275"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(InVals&#91;i&#93;.<a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/lib/target/amdgpu/utils/amdgpudelayedmcexpr-cpp/#a3b9e43a5529fa7d4adb2bad70198c9bd">getNode</a>() &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;LowerCall emitted a null value!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l11276" /><CodeLine lineNumber="11276"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(EVT(CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#a423dda4ff918d4145ccc1861f059f940">Ins</a>&#91;i&#93;.VT) == InVals&#91;i&#93;.getValueType() &amp;&amp;</span></CodeLine>
<Link id="l11277" /><CodeLine lineNumber="11277"><span class="doxyHighlight">           </span><span class="doxyHighlightStringLiteral">&quot;LowerCall emitted a value with the wrong type!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l11278" /><CodeLine lineNumber="11278"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l11279" /><CodeLine lineNumber="11279"><span class="doxyHighlightPreprocessor">#endif</span></CodeLine>
<Link id="l11280" /><CodeLine lineNumber="11280"></CodeLine>
<Link id="l11281" /><CodeLine lineNumber="11281"><span class="doxyHighlight">  SmallVector&lt;SDValue, 4&gt; ReturnValues;</span></CodeLine>
<Link id="l11282" /><CodeLine lineNumber="11282"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="/docs/api/classes/llvm/targetlowering/#afc21228b6db4542de1339af252b2a725">CanLowerReturn</a>) &#123;</span></CodeLine>
<Link id="l11283" /><CodeLine lineNumber="11283"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// The instruction result is the result of loading from the</span></CodeLine>
<Link id="l11284" /><CodeLine lineNumber="11284"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// hidden sret parameter.</span></CodeLine>
<Link id="l11285" /><CodeLine lineNumber="11285"><span class="doxyHighlight">    MVT PtrVT = <a href="/docs/api/classes/llvm/targetloweringbase/#a8aabf5d0aa80038973255ff2d1e1a9fc">getPointerTy</a>(<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getAllocaAddrSpace());</span></CodeLine>
<Link id="l11286" /><CodeLine lineNumber="11286"></CodeLine>
<Link id="l11287" /><CodeLine lineNumber="11287"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumValues = RetTys.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#a1c479a8c434377c2b8cb056bdfdfc201">size</a>();</span></CodeLine>
<Link id="l11288" /><CodeLine lineNumber="11288"><span class="doxyHighlight">    ReturnValues.<a href="/docs/api/classes/llvm/smallvectorimpl/#ad0b3d8447f88377b62d9c019f3c4e118">resize</a>(NumValues);</span></CodeLine>
<Link id="l11289" /><CodeLine lineNumber="11289"><span class="doxyHighlight">    SmallVector&lt;SDValue, 4&gt; Chains(NumValues);</span></CodeLine>
<Link id="l11290" /><CodeLine lineNumber="11290"></CodeLine>
<Link id="l11291" /><CodeLine lineNumber="11291"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// An aggregate return value cannot wrap around the address space, so</span></CodeLine>
<Link id="l11292" /><CodeLine lineNumber="11292"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// offsets to its parts don&#39;t wrap either.</span></CodeLine>
<Link id="l11293" /><CodeLine lineNumber="11293"><span class="doxyHighlight">    MachineFunction &amp;MF = CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#ae76ac9826f02f95aae34e845ac110244">DAG</a>.<a href="/docs/api/classes/llvm/selectiondag/#ac64ec73b0617befef1fb2eae78d12b5f">getMachineFunction</a>();</span></CodeLine>
<Link id="l11294" /><CodeLine lineNumber="11294"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/arg/key/#a6b334a5f83504ebc99cc59f4f333ff98">Align</a> HiddenSRetAlign = MF.<a href="/docs/api/classes/llvm/machinefunction/#a54f334a9c8ca6d105eae383ae87e4524">getFrameInfo</a>().<a href="/docs/api/classes/llvm/machineframeinfo/#a8320a54de0a273478de910ac3795058b">getObjectAlign</a>(DemoteStackIdx);</span></CodeLine>
<Link id="l11295" /><CodeLine lineNumber="11295"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> i = 0; i &lt; NumValues; ++i) &#123;</span></CodeLine>
<Link id="l11296" /><CodeLine lineNumber="11296"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/#aac36edd0f1ce976f0025c98e88d3830eaec211f7c20af43e742bf2570c3cb84f9">Add</a> =</span></CodeLine>
<Link id="l11297" /><CodeLine lineNumber="11297"><span class="doxyHighlight">          CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#ae76ac9826f02f95aae34e845ac110244">DAG</a>.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#a3b6fcbb7bdd8ae29e8af4cd38bce7a40">DL</a>, PtrVT, DemoteStackSlot,</span></CodeLine>
<Link id="l11298" /><CodeLine lineNumber="11298"><span class="doxyHighlight">                          CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#ae76ac9826f02f95aae34e845ac110244">DAG</a>.<a href="/docs/api/classes/llvm/selectiondag/#a7d26e2f2179b5a8a53381f8046e9d117">getConstant</a>(Offsets&#91;i&#93;, CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#a3b6fcbb7bdd8ae29e8af4cd38bce7a40">DL</a>, PtrVT),</span></CodeLine>
<Link id="l11299" /><CodeLine lineNumber="11299"><span class="doxyHighlight">                          <a href="/docs/api/structs/llvm/sdnodeflags/#a19128eb1e6729dd3cf2afce783620adaac54b29c7131ff0e1b276b346d4b640d2">SDNodeFlags::NoUnsignedWrap</a>);</span></CodeLine>
<Link id="l11300" /><CodeLine lineNumber="11300"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/m68k/#ab3a288f2953d8eca3e363959fc2cf38ead20caec3b48a1eef164cb4ca81ba2587">L</a> = CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#ae76ac9826f02f95aae34e845ac110244">DAG</a>.<a href="/docs/api/classes/llvm/selectiondag/#a3c3b16945cf064f59363bdefdfe2b492">getLoad</a>(</span></CodeLine>
<Link id="l11301" /><CodeLine lineNumber="11301"><span class="doxyHighlight">          RetTys&#91;i&#93;, CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#a3b6fcbb7bdd8ae29e8af4cd38bce7a40">DL</a>, CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#aa4872f31b8be67e8a1998454db0766bd">Chain</a>, <a href="/docs/api/namespaces/llvm/#aac36edd0f1ce976f0025c98e88d3830eaec211f7c20af43e742bf2570c3cb84f9">Add</a>,</span></CodeLine>
<Link id="l11302" /><CodeLine lineNumber="11302"><span class="doxyHighlight">          <a href="/docs/api/structs/llvm/machinepointerinfo/#ad8ce1aee13dbdcc05d20284a30e83170">MachinePointerInfo::getFixedStack</a>(CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#ae76ac9826f02f95aae34e845ac110244">DAG</a>.<a href="/docs/api/classes/llvm/selectiondag/#ac64ec73b0617befef1fb2eae78d12b5f">getMachineFunction</a>(),</span></CodeLine>
<Link id="l11303" /><CodeLine lineNumber="11303"><span class="doxyHighlight">                                            DemoteStackIdx, Offsets&#91;i&#93;),</span></CodeLine>
<Link id="l11304" /><CodeLine lineNumber="11304"><span class="doxyHighlight">          HiddenSRetAlign);</span></CodeLine>
<Link id="l11305" /><CodeLine lineNumber="11305"><span class="doxyHighlight">      ReturnValues&#91;i&#93; = <a href="/docs/api/namespaces/llvm/m68k/#ab3a288f2953d8eca3e363959fc2cf38ead20caec3b48a1eef164cb4ca81ba2587">L</a>;</span></CodeLine>
<Link id="l11306" /><CodeLine lineNumber="11306"><span class="doxyHighlight">      Chains&#91;i&#93; = <a href="/docs/api/namespaces/llvm/m68k/#ab3a288f2953d8eca3e363959fc2cf38ead20caec3b48a1eef164cb4ca81ba2587">L</a>.getValue(1);</span></CodeLine>
<Link id="l11307" /><CodeLine lineNumber="11307"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l11308" /><CodeLine lineNumber="11308"></CodeLine>
<Link id="l11309" /><CodeLine lineNumber="11309"><span class="doxyHighlight">    CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#aa4872f31b8be67e8a1998454db0766bd">Chain</a> = CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#ae76ac9826f02f95aae34e845ac110244">DAG</a>.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110ad469508535ce2082a1ab1f0e429187b8">ISD::TokenFactor</a>, CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#a3b6fcbb7bdd8ae29e8af4cd38bce7a40">DL</a>, MVT::Other, Chains);</span></CodeLine>
<Link id="l11310" /><CodeLine lineNumber="11310"><span class="doxyHighlight">  &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l11311" /><CodeLine lineNumber="11311"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Collect the legal value parts into potentially illegal values</span></CodeLine>
<Link id="l11312" /><CodeLine lineNumber="11312"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// that correspond to the original function&#39;s return values.</span></CodeLine>
<Link id="l11313" /><CodeLine lineNumber="11313"><span class="doxyHighlight">    std::optional&lt;ISD::NodeType&gt; AssertOp;</span></CodeLine>
<Link id="l11314" /><CodeLine lineNumber="11314"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#aa70600610484cd4224ebf4b46656ef6a">RetSExt</a>)</span></CodeLine>
<Link id="l11315" /><CodeLine lineNumber="11315"><span class="doxyHighlight">      AssertOp = <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110aee4f13218bdbb5c5697f7e786618ecb2">ISD::AssertSext</a>;</span></CodeLine>
<Link id="l11316" /><CodeLine lineNumber="11316"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#a6d1ffe16a83c436cac93b14e50ebf0bc">RetZExt</a>)</span></CodeLine>
<Link id="l11317" /><CodeLine lineNumber="11317"><span class="doxyHighlight">      AssertOp = <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110af23301e60475124fd80a2cb51f6ba863">ISD::AssertZext</a>;</span></CodeLine>
<Link id="l11318" /><CodeLine lineNumber="11318"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> CurReg = 0;</span></CodeLine>
<Link id="l11319" /><CodeLine lineNumber="11319"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (EVT VT : RetTys) &#123;</span></CodeLine>
<Link id="l11320" /><CodeLine lineNumber="11320"><span class="doxyHighlight">      MVT RegisterVT = <a href="/docs/api/classes/llvm/targetloweringbase/#a347d293012b5070f6833926f3d2e50d7">getRegisterTypeForCallingConv</a>(CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#add4f6f94fcf01be61720d26a49591535">RetTy</a>-&gt;<a href="/docs/api/classes/llvm/type/#a909eca4ba9e5eefc203c8e3770bdab25">getContext</a>(),</span></CodeLine>
<Link id="l11321" /><CodeLine lineNumber="11321"><span class="doxyHighlight">                                                     CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#ae47a430364102f6e179d49cb3411b955">CallConv</a>, VT);</span></CodeLine>
<Link id="l11322" /><CodeLine lineNumber="11322"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumRegs = <a href="/docs/api/classes/llvm/targetloweringbase/#a315b23c0819f55fa9e7473c21992fc12">getNumRegistersForCallingConv</a>(CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#add4f6f94fcf01be61720d26a49591535">RetTy</a>-&gt;<a href="/docs/api/classes/llvm/type/#a909eca4ba9e5eefc203c8e3770bdab25">getContext</a>(),</span></CodeLine>
<Link id="l11323" /><CodeLine lineNumber="11323"><span class="doxyHighlight">                                                       CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#ae47a430364102f6e179d49cb3411b955">CallConv</a>, VT);</span></CodeLine>
<Link id="l11324" /><CodeLine lineNumber="11324"></CodeLine>
<Link id="l11325" /><CodeLine lineNumber="11325"><span class="doxyHighlight">      ReturnValues.<a href="/docs/api/classes/llvm/smallvectortemplatebase/#af42bfbc067df27c19ee2fc859df58799">push&#95;back</a>(<a href="#acb8cf9e50c3979193572ea36f327d0a4">getCopyFromParts</a>(</span></CodeLine>
<Link id="l11326" /><CodeLine lineNumber="11326"><span class="doxyHighlight">          CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#ae76ac9826f02f95aae34e845ac110244">DAG</a>, CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#a3b6fcbb7bdd8ae29e8af4cd38bce7a40">DL</a>, &amp;InVals&#91;CurReg&#93;, NumRegs, RegisterVT, VT, </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">,</span></CodeLine>
<Link id="l11327" /><CodeLine lineNumber="11327"><span class="doxyHighlight">          CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#aa4872f31b8be67e8a1998454db0766bd">Chain</a>, CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#ae47a430364102f6e179d49cb3411b955">CallConv</a>, AssertOp));</span></CodeLine>
<Link id="l11328" /><CodeLine lineNumber="11328"><span class="doxyHighlight">      CurReg += NumRegs;</span></CodeLine>
<Link id="l11329" /><CodeLine lineNumber="11329"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l11330" /><CodeLine lineNumber="11330"></CodeLine>
<Link id="l11331" /><CodeLine lineNumber="11331"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// For a function returning void, there is no return value. We can&#39;t create</span></CodeLine>
<Link id="l11332" /><CodeLine lineNumber="11332"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// such a node, so we just return a null return value in that case. In</span></CodeLine>
<Link id="l11333" /><CodeLine lineNumber="11333"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// that case, nothing will actually look at the value.</span></CodeLine>
<Link id="l11334" /><CodeLine lineNumber="11334"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (ReturnValues.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#ad9a3c7bc26b130377bbafc170b5f88a2">empty</a>())</span></CodeLine>
<Link id="l11335" /><CodeLine lineNumber="11335"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> std::make&#95;pair(<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a>(), CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#aa4872f31b8be67e8a1998454db0766bd">Chain</a>);</span></CodeLine>
<Link id="l11336" /><CodeLine lineNumber="11336"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l11337" /><CodeLine lineNumber="11337"></CodeLine>
<Link id="l11338" /><CodeLine lineNumber="11338"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Res = CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#ae76ac9826f02f95aae34e845ac110244">DAG</a>.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a01c94937492f3ac3fb1e0be8eb0b9ef1">ISD::MERGE&#95;VALUES</a>, CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#a3b6fcbb7bdd8ae29e8af4cd38bce7a40">DL</a>,</span></CodeLine>
<Link id="l11339" /><CodeLine lineNumber="11339"><span class="doxyHighlight">                                CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#ae76ac9826f02f95aae34e845ac110244">DAG</a>.<a href="/docs/api/classes/llvm/selectiondag/#a196c23d6cb4d768d037970f1f35bbf66">getVTList</a>(RetTys), ReturnValues);</span></CodeLine>
<Link id="l11340" /><CodeLine lineNumber="11340"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> std::make&#95;pair(Res, CLI.<a href="/docs/api/structs/llvm/targetlowering/callloweringinfo/#aa4872f31b8be67e8a1998454db0766bd">Chain</a>);</span></CodeLine>
<Link id="l11341" /><CodeLine lineNumber="11341"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l11342" /><CodeLine lineNumber="11342"></CodeLine>
<Link id="l11343" /><CodeLine lineNumber="11343"><span class="doxyHighlightComment">/// Places new result values for the node in Results (their number</span></CodeLine>
<Link id="l11344" /><CodeLine lineNumber="11344"><span class="doxyHighlightComment">/// and types must exactly match those of the original return values of</span></CodeLine>
<Link id="l11345" /><CodeLine lineNumber="11345"><span class="doxyHighlightComment">/// the node), or leaves Results empty, which indicates that the node is not</span></CodeLine>
<Link id="l11346" /><CodeLine lineNumber="11346"><span class="doxyHighlightComment">/// to be custom lowered after all.</span></CodeLine>
<Link id="l11347" /><CodeLine lineNumber="11347"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetlowering/#a12431703c17466d24d4bf388ce467ea3">TargetLowering::LowerOperationWrapper</a>(<a href="/docs/api/classes/llvm/sdnode">SDNode</a> &#42;<a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>,</span></CodeLine>
<Link id="l11348" /><CodeLine lineNumber="11348"><span class="doxyHighlight">                                           <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl&lt;SDValue&gt;</a> &amp;<a href="/docs/api/files/lib/lib/analysis/aliasanalysis-cpp/#a7e344cff0feadf0b02223fee63cc7475">Results</a>,</span></CodeLine>
<Link id="l11349" /><CodeLine lineNumber="11349"><span class="doxyHighlight">                                           <a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp;DAG)</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123;</span></CodeLine>
<Link id="l11350" /><CodeLine lineNumber="11350"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Res = <a href="/docs/api/classes/llvm/targetlowering/#a04403a336136814ab74d9e2315bcfe23">LowerOperation</a>(<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a>(<a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>, 0), DAG);</span></CodeLine>
<Link id="l11351" /><CodeLine lineNumber="11351"></CodeLine>
<Link id="l11352" /><CodeLine lineNumber="11352"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!Res.<a href="/docs/api/classes/llvm/sdvalue/#a2b08aa629a6326d1a0444ee6d477c39d">getNode</a>())</span></CodeLine>
<Link id="l11353" /><CodeLine lineNumber="11353"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l11354" /><CodeLine lineNumber="11354"></CodeLine>
<Link id="l11355" /><CodeLine lineNumber="11355"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// If the original node has one result, take the return value from</span></CodeLine>
<Link id="l11356" /><CodeLine lineNumber="11356"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// LowerOperation as is. It might not be result number 0</span></CodeLine>
<Link id="l11357" /><CodeLine lineNumber="11357"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getNumValues() == 1) &#123;</span></CodeLine>
<Link id="l11358" /><CodeLine lineNumber="11358"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/analysis/aliasanalysis-cpp/#a7e344cff0feadf0b02223fee63cc7475">Results</a>.push&#95;back(Res);</span></CodeLine>
<Link id="l11359" /><CodeLine lineNumber="11359"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l11360" /><CodeLine lineNumber="11360"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l11361" /><CodeLine lineNumber="11361"></CodeLine>
<Link id="l11362" /><CodeLine lineNumber="11362"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// If the original node has multiple results, then the return node should</span></CodeLine>
<Link id="l11363" /><CodeLine lineNumber="11363"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// have the same number of results.</span></CodeLine>
<Link id="l11364" /><CodeLine lineNumber="11364"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((<a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getNumValues() == Res-&gt;<a href="/docs/api/classes/llvm/sdnode/#a7f06dbaee5fa2b239de548d0a775b25b">getNumValues</a>()) &amp;&amp;</span></CodeLine>
<Link id="l11365" /><CodeLine lineNumber="11365"><span class="doxyHighlight">      </span><span class="doxyHighlightStringLiteral">&quot;Lowering returned the wrong number of results!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l11366" /><CodeLine lineNumber="11366"></CodeLine>
<Link id="l11367" /><CodeLine lineNumber="11367"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Places new result values base on N result number.</span></CodeLine>
<Link id="l11368" /><CodeLine lineNumber="11368"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0, <a href="/docs/api/files/lib/lib/ir/builtingcs-cpp/#abb2b3a60ccc38a28239e19a1646e0c8a">E</a> = <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getNumValues(); <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a href="/docs/api/files/lib/lib/ir/builtingcs-cpp/#abb2b3a60ccc38a28239e19a1646e0c8a">E</a>; ++<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</span></CodeLine>
<Link id="l11369" /><CodeLine lineNumber="11369"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/analysis/aliasanalysis-cpp/#a7e344cff0feadf0b02223fee63cc7475">Results</a>.push&#95;back(Res.<a href="/docs/api/classes/llvm/sdvalue/#a64932427432abeb61241e98bea167580">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</span></CodeLine>
<Link id="l11370" /><CodeLine lineNumber="11370"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l11371" /><CodeLine lineNumber="11371"></CodeLine>
<Link id="l11372" /><CodeLine lineNumber="11372"><span class="doxyHighlight"><a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="/docs/api/classes/llvm/targetlowering/#a04403a336136814ab74d9e2315bcfe23">TargetLowering::LowerOperation</a>(<a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>, <a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp;DAG)</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123;</span></CodeLine>
<Link id="l11373" /><CodeLine lineNumber="11373"><span class="doxyHighlight">  <a href="/docs/api/files/include/include/llvm/include/llvm/support/errorhandling-h/#ace243f5c25697a1107cce46626b3dc94">llvm&#95;unreachable</a>(</span><span class="doxyHighlightStringLiteral">&quot;LowerOperation not implemented for this target!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l11374" /><CodeLine lineNumber="11374"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l11375" /><CodeLine lineNumber="11375"></CodeLine>
<Link id="l11376" /><CodeLine lineNumber="11376" lineLink="/docs/api/classes/llvm/selectiondagbuilder/#a5184df56e270750a839acad50a1b8501"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/selectiondagbuilder/#a5184df56e270750a839acad50a1b8501">SelectionDAGBuilder::CopyValueToVirtualRegister</a>(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;V,</span></CodeLine>
<Link id="l11377" /><CodeLine lineNumber="11377"><span class="doxyHighlight">                                                     </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> Reg,</span></CodeLine>
<Link id="l11378" /><CodeLine lineNumber="11378"><span class="doxyHighlight">                                                     <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110">ISD::NodeType</a> ExtendType) &#123;</span></CodeLine>
<Link id="l11379" /><CodeLine lineNumber="11379"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a4ad02593716678add54090c344959750">getNonRegisterValue</a>(V);</span></CodeLine>
<Link id="l11380" /><CodeLine lineNumber="11380"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((<a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>.getOpcode() != <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a84c47705bcf7271413738ae8bf3871e6">ISD::CopyFromReg</a> ||</span></CodeLine>
<Link id="l11381" /><CodeLine lineNumber="11381"><span class="doxyHighlight">          <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;RegisterSDNode&gt;</a>(<a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>.getOperand(1))-&gt;getReg() != Reg) &amp;&amp;</span></CodeLine>
<Link id="l11382" /><CodeLine lineNumber="11382"><span class="doxyHighlight">         </span><span class="doxyHighlightStringLiteral">&quot;Copy from a reg to the same reg!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l11383" /><CodeLine lineNumber="11383"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a href="/docs/api/classes/llvm/register/#afacc26f29d80e10be4785a96ed6444dc">Register::isPhysicalRegister</a>(Reg) &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Is a physreg&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l11384" /><CodeLine lineNumber="11384"></CodeLine>
<Link id="l11385" /><CodeLine lineNumber="11385"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetlowering">TargetLowering</a> &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l11386" /><CodeLine lineNumber="11386"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// If this is an InlineAsm we have to match the registers required, not the</span></CodeLine>
<Link id="l11387" /><CodeLine lineNumber="11387"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// notional registers required by the type.</span></CodeLine>
<Link id="l11388" /><CodeLine lineNumber="11388"></CodeLine>
<Link id="l11389" /><CodeLine lineNumber="11389"><span class="doxyHighlight">  <a href="/docs/api/structs/llvm/regsforvalue">RegsForValue</a> RFV(V-&gt;getContext(), TLI, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), Reg, V-&gt;getType(),</span></CodeLine>
<Link id="l11390" /><CodeLine lineNumber="11390"><span class="doxyHighlight">                   std::nullopt); </span><span class="doxyHighlightComment">// This is not an ABI copy.</span></CodeLine>
<Link id="l11391" /><CodeLine lineNumber="11391"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> Chain = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getEntryNode();</span></CodeLine>
<Link id="l11392" /><CodeLine lineNumber="11392"></CodeLine>
<Link id="l11393" /><CodeLine lineNumber="11393"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (ExtendType == <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a27d5d8ef82302b739ba3ca8be1a5513d">ISD::ANY&#95;EXTEND</a>) &#123;</span></CodeLine>
<Link id="l11394" /><CodeLine lineNumber="11394"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> PreferredExtendIt = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.PreferredExtendType.find(V);</span></CodeLine>
<Link id="l11395" /><CodeLine lineNumber="11395"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (PreferredExtendIt != <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.PreferredExtendType.end())</span></CodeLine>
<Link id="l11396" /><CodeLine lineNumber="11396"><span class="doxyHighlight">      ExtendType = PreferredExtendIt-&gt;second;</span></CodeLine>
<Link id="l11397" /><CodeLine lineNumber="11397"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l11398" /><CodeLine lineNumber="11398"><span class="doxyHighlight">  RFV.<a href="/docs/api/structs/llvm/regsforvalue/#adf93dd21d49c19700e980b15f19cb7d7">getCopyToRegs</a>(<a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), Chain, </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">, V, ExtendType);</span></CodeLine>
<Link id="l11399" /><CodeLine lineNumber="11399"><span class="doxyHighlight">  PendingExports.push&#95;back(Chain);</span></CodeLine>
<Link id="l11400" /><CodeLine lineNumber="11400"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l11401" /><CodeLine lineNumber="11401"></CodeLine>
<Link id="l11402" /><CodeLine lineNumber="11402"><span class="doxyHighlightPreprocessor">#include &quot;<a href="/docs/api/files/include/include/llvm/include/llvm/codegen/selectiondagisel-h">llvm/CodeGen/SelectionDAGISel.h</a>&quot;</span></CodeLine>
<Link id="l11403" /><CodeLine lineNumber="11403"></CodeLine>
<Link id="l11404" /><CodeLine lineNumber="11404"><span class="doxyHighlightComment">/// isOnlyUsedInEntryBlock - If the specified argument is only used in the</span></CodeLine>
<Link id="l11405" /><CodeLine lineNumber="11405"><span class="doxyHighlightComment">/// entry block, return true.  This includes arguments used by switches, since</span></CodeLine>
<Link id="l11406" /><CodeLine lineNumber="11406"><span class="doxyHighlightComment">/// the switch may expand into multiple basic blocks.</span></CodeLine>
<Link id="l11407" /><CodeLine lineNumber="11407" lineLink="#a97acf4298b4ca1010c06af4741609a89"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="#a97acf4298b4ca1010c06af4741609a89">isOnlyUsedInEntryBlock</a>(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/argument">Argument</a> &#42;<a href="/docs/api/files/lib/lib/ir/builtingcs-cpp/#a2e38c85003a042421cde1647632d0b72">A</a>, </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/fastisel">FastISel</a>) &#123;</span></CodeLine>
<Link id="l11408" /><CodeLine lineNumber="11408"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// With FastISel active, we may be splitting blocks, so force creation</span></CodeLine>
<Link id="l11409" /><CodeLine lineNumber="11409"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// of virtual registers for all non-dead arguments.</span></CodeLine>
<Link id="l11410" /><CodeLine lineNumber="11410"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/classes/llvm/fastisel">FastISel</a>)</span></CodeLine>
<Link id="l11411" /><CodeLine lineNumber="11411"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/files/lib/lib/ir/builtingcs-cpp/#a2e38c85003a042421cde1647632d0b72">A</a>-&gt;use&#95;empty();</span></CodeLine>
<Link id="l11412" /><CodeLine lineNumber="11412"></CodeLine>
<Link id="l11413" /><CodeLine lineNumber="11413"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &amp;Entry = <a href="/docs/api/files/lib/lib/ir/builtingcs-cpp/#a2e38c85003a042421cde1647632d0b72">A</a>-&gt;getParent()-&gt;front();</span></CodeLine>
<Link id="l11414" /><CodeLine lineNumber="11414"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/user">User</a> &#42;U : <a href="/docs/api/files/lib/lib/ir/builtingcs-cpp/#a2e38c85003a042421cde1647632d0b72">A</a>-&gt;users())</span></CodeLine>
<Link id="l11415" /><CodeLine lineNumber="11415"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;Instruction&gt;</a>(U)-&gt;<a href="/docs/api/files/lib/lib/analysis/basicaliasanalysis-cpp/#a1b8850f1ed44c12bc3501175a71c251c">getParent</a>() != &amp;Entry || <a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;SwitchInst&gt;</a>(U))</span></CodeLine>
<Link id="l11416" /><CodeLine lineNumber="11416"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;  </span><span class="doxyHighlightComment">// Use not in entry block.</span></CodeLine>
<Link id="l11417" /><CodeLine lineNumber="11417"></CodeLine>
<Link id="l11418" /><CodeLine lineNumber="11418"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l11419" /><CodeLine lineNumber="11419"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l11420" /><CodeLine lineNumber="11420"></CodeLine>
<Link id="l11421" /><CodeLine lineNumber="11421" lineLink="#a7963e46427251f855f76bfce3b167492"><span class="doxyHighlightKeyword">using </span><span class="doxyHighlight"><a href="#a7963e46427251f855f76bfce3b167492">ArgCopyElisionMapTy</a> =</span></CodeLine>
<Link id="l11422" /><CodeLine lineNumber="11422"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/densemap">DenseMap</a>&lt;</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/argument">Argument</a> &#42;,</span></CodeLine>
<Link id="l11423" /><CodeLine lineNumber="11423"><span class="doxyHighlight">             std::pair&lt;const AllocaInst &#42;, const StoreInst &#42;&gt;&gt;;</span></CodeLine>
<Link id="l11424" /><CodeLine lineNumber="11424"></CodeLine>
<Link id="l11425" /><CodeLine lineNumber="11425"><span class="doxyHighlightComment">/// Scan the entry block of the function in FuncInfo for arguments that look</span></CodeLine>
<Link id="l11426" /><CodeLine lineNumber="11426"><span class="doxyHighlightComment">/// like copies into a local alloca. Record any copied arguments in</span></CodeLine>
<Link id="l11427" /><CodeLine lineNumber="11427"><span class="doxyHighlightComment">/// ArgCopyElisionCandidates.</span></CodeLine>
<Link id="l11428" /><CodeLine lineNumber="11428"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordType">void</span></CodeLine>
<Link id="l11429" /><CodeLine lineNumber="11429" lineLink="#aa469012eee439764e752d32b1a557821"><span class="doxyHighlight"><a href="#aa469012eee439764e752d32b1a557821">findArgumentCopyElisionCandidates</a>(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/datalayout">DataLayout</a> &amp;<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</span></CodeLine>
<Link id="l11430" /><CodeLine lineNumber="11430"><span class="doxyHighlight">                                  <a href="/docs/api/classes/llvm/functionloweringinfo">FunctionLoweringInfo</a> &#42;FuncInfo,</span></CodeLine>
<Link id="l11431" /><CodeLine lineNumber="11431"><span class="doxyHighlight">                                  <a href="#a7963e46427251f855f76bfce3b167492">ArgCopyElisionMapTy</a> &amp;ArgCopyElisionCandidates) &#123;</span></CodeLine>
<Link id="l11432" /><CodeLine lineNumber="11432"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Record the state of every static alloca used in the entry block. Argument</span></CodeLine>
<Link id="l11433" /><CodeLine lineNumber="11433"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// allocas are all used in the entry block, so we need approximately as many</span></CodeLine>
<Link id="l11434" /><CodeLine lineNumber="11434"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// entries as we have arguments.</span></CodeLine>
<Link id="l11435" /><CodeLine lineNumber="11435"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">enum</span><span class="doxyHighlight"> StaticAllocaInfo &#123; <a href="/docs/api/files/lib/lib/target/lib/target/nvptx/nvptxisellowering-cpp/#ae1a90b5d85643644483b2ca70da4d13fa4e81c184ac3ad48a389cd4454c4a05bb">Unknown</a>, Clobbered, Elidable &#125;;</span></CodeLine>
<Link id="l11436" /><CodeLine lineNumber="11436"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/smalldensemap">SmallDenseMap&lt;const AllocaInst &#42;, StaticAllocaInfo, 8&gt;</a> StaticAllocas;</span></CodeLine>
<Link id="l11437" /><CodeLine lineNumber="11437"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumArgs = FuncInfo-&gt;Fn-&gt;arg&#95;size();</span></CodeLine>
<Link id="l11438" /><CodeLine lineNumber="11438"><span class="doxyHighlight">  StaticAllocas.<a href="/docs/api/classes/llvm/densemapbase/#ae292a4b96e7f74eb95a4176ddba7b821">reserve</a>(NumArgs &#42; 2);</span></CodeLine>
<Link id="l11439" /><CodeLine lineNumber="11439"></CodeLine>
<Link id="l11440" /><CodeLine lineNumber="11440"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> GetInfoIfStaticAlloca = &#91;&amp;&#93;(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/value">Value</a> &#42;V) -&gt; StaticAllocaInfo &#42; &#123;</span></CodeLine>
<Link id="l11441" /><CodeLine lineNumber="11441"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!V)</span></CodeLine>
<Link id="l11442" /><CodeLine lineNumber="11442"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l11443" /><CodeLine lineNumber="11443"><span class="doxyHighlight">    V = V-&gt;stripPointerCasts();</span></CodeLine>
<Link id="l11444" /><CodeLine lineNumber="11444"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;AI = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;AllocaInst&gt;</a>(V);</span></CodeLine>
<Link id="l11445" /><CodeLine lineNumber="11445"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!AI || !AI-&gt;isStaticAlloca() || !FuncInfo-&gt;StaticAllocaMap.count(AI))</span></CodeLine>
<Link id="l11446" /><CodeLine lineNumber="11446"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l11447" /><CodeLine lineNumber="11447"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> Iter = StaticAllocas.<a href="/docs/api/classes/llvm/densemapbase/#adb33f3ede2f5bfc9b3ee658aaf648492">insert</a>(&#123;AI, <a href="/docs/api/files/lib/lib/target/lib/target/nvptx/nvptxisellowering-cpp/#ae1a90b5d85643644483b2ca70da4d13fa4e81c184ac3ad48a389cd4454c4a05bb">Unknown</a>&#125;);</span></CodeLine>
<Link id="l11448" /><CodeLine lineNumber="11448"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> &amp;Iter.first-&gt;second;</span></CodeLine>
<Link id="l11449" /><CodeLine lineNumber="11449"><span class="doxyHighlight">  &#125;;</span></CodeLine>
<Link id="l11450" /><CodeLine lineNumber="11450"></CodeLine>
<Link id="l11451" /><CodeLine lineNumber="11451"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Look for stores of arguments to static allocas. Look through bitcasts and</span></CodeLine>
<Link id="l11452" /><CodeLine lineNumber="11452"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// GEPs to handle type coercions, as long as the alloca is fully initialized</span></CodeLine>
<Link id="l11453" /><CodeLine lineNumber="11453"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// by the store. Any non-store use of an alloca escapes it and any subsequent</span></CodeLine>
<Link id="l11454" /><CodeLine lineNumber="11454"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// unanalyzed store might write it.</span></CodeLine>
<Link id="l11455" /><CodeLine lineNumber="11455"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// FIXME: Handle structs initialized with multiple stores.</span></CodeLine>
<Link id="l11456" /><CodeLine lineNumber="11456"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/instruction">Instruction</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a> : FuncInfo-&gt;Fn-&gt;getEntryBlock()) &#123;</span></CodeLine>
<Link id="l11457" /><CodeLine lineNumber="11457"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Look for stores, and handle non-store uses conservatively.</span></CodeLine>
<Link id="l11458" /><CodeLine lineNumber="11458"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;<a href="/docs/api/namespaces/llvm/si">SI</a> = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;StoreInst&gt;</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</span></CodeLine>
<Link id="l11459" /><CodeLine lineNumber="11459"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="/docs/api/namespaces/llvm/si">SI</a>) &#123;</span></CodeLine>
<Link id="l11460" /><CodeLine lineNumber="11460"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// We will look through cast uses, so ignore them completely.</span></CodeLine>
<Link id="l11461" /><CodeLine lineNumber="11461"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.isCast())</span></CodeLine>
<Link id="l11462" /><CodeLine lineNumber="11462"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">continue</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l11463" /><CodeLine lineNumber="11463"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Ignore debug info and pseudo op intrinsics, they don&#39;t escape or store</span></CodeLine>
<Link id="l11464" /><CodeLine lineNumber="11464"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// to allocas.</span></CodeLine>
<Link id="l11465" /><CodeLine lineNumber="11465"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.isDebugOrPseudoInst())</span></CodeLine>
<Link id="l11466" /><CodeLine lineNumber="11466"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">continue</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l11467" /><CodeLine lineNumber="11467"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// This is an unknown instruction. Assume it escapes or writes to all</span></CodeLine>
<Link id="l11468" /><CodeLine lineNumber="11468"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// static alloca operands.</span></CodeLine>
<Link id="l11469" /><CodeLine lineNumber="11469"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/use">Use</a> &amp;U : <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.operands()) &#123;</span></CodeLine>
<Link id="l11470" /><CodeLine lineNumber="11470"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (StaticAllocaInfo &#42;<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp/#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a> = GetInfoIfStaticAlloca(U))</span></CodeLine>
<Link id="l11471" /><CodeLine lineNumber="11471"><span class="doxyHighlight">          &#42;<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp/#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a> = StaticAllocaInfo::Clobbered;</span></CodeLine>
<Link id="l11472" /><CodeLine lineNumber="11472"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l11473" /><CodeLine lineNumber="11473"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">continue</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l11474" /><CodeLine lineNumber="11474"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l11475" /><CodeLine lineNumber="11475"></CodeLine>
<Link id="l11476" /><CodeLine lineNumber="11476"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// If the stored value is a static alloca, mark it as escaped.</span></CodeLine>
<Link id="l11477" /><CodeLine lineNumber="11477"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (StaticAllocaInfo &#42;<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp/#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a> = GetInfoIfStaticAlloca(<a href="/docs/api/namespaces/llvm/si">SI</a>-&gt;getValueOperand()))</span></CodeLine>
<Link id="l11478" /><CodeLine lineNumber="11478"><span class="doxyHighlight">      &#42;<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp/#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a> = StaticAllocaInfo::Clobbered;</span></CodeLine>
<Link id="l11479" /><CodeLine lineNumber="11479"></CodeLine>
<Link id="l11480" /><CodeLine lineNumber="11480"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Check if the destination is a static alloca.</span></CodeLine>
<Link id="l11481" /><CodeLine lineNumber="11481"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/value">Value</a> &#42;Dst = <a href="/docs/api/namespaces/llvm/si">SI</a>-&gt;getPointerOperand()-&gt;stripPointerCasts();</span></CodeLine>
<Link id="l11482" /><CodeLine lineNumber="11482"><span class="doxyHighlight">    StaticAllocaInfo &#42;<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp/#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a> = GetInfoIfStaticAlloca(Dst);</span></CodeLine>
<Link id="l11483" /><CodeLine lineNumber="11483"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp/#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>)</span></CodeLine>
<Link id="l11484" /><CodeLine lineNumber="11484"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">continue</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l11485" /><CodeLine lineNumber="11485"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/allocainst">AllocaInst</a> &#42;AI = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;AllocaInst&gt;</a>(Dst);</span></CodeLine>
<Link id="l11486" /><CodeLine lineNumber="11486"></CodeLine>
<Link id="l11487" /><CodeLine lineNumber="11487"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Skip allocas that have been initialized or clobbered.</span></CodeLine>
<Link id="l11488" /><CodeLine lineNumber="11488"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (&#42;<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp/#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a> != StaticAllocaInfo::Unknown)</span></CodeLine>
<Link id="l11489" /><CodeLine lineNumber="11489"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">continue</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l11490" /><CodeLine lineNumber="11490"></CodeLine>
<Link id="l11491" /><CodeLine lineNumber="11491"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Check if the stored value is an argument, and that this store fully</span></CodeLine>
<Link id="l11492" /><CodeLine lineNumber="11492"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// initializes the alloca.</span></CodeLine>
<Link id="l11493" /><CodeLine lineNumber="11493"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// If the argument type has padding bits we can&#39;t directly forward a pointer</span></CodeLine>
<Link id="l11494" /><CodeLine lineNumber="11494"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// as the upper bits may contain garbage.</span></CodeLine>
<Link id="l11495" /><CodeLine lineNumber="11495"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Don&#39;t elide copies from the same argument twice.</span></CodeLine>
<Link id="l11496" /><CodeLine lineNumber="11496"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/value">Value</a> &#42;Val = <a href="/docs/api/namespaces/llvm/si">SI</a>-&gt;getValueOperand()-&gt;stripPointerCasts();</span></CodeLine>
<Link id="l11497" /><CodeLine lineNumber="11497"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;Arg = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;Argument&gt;</a>(Val);</span></CodeLine>
<Link id="l11498" /><CodeLine lineNumber="11498"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!Arg || Arg-&gt;hasPassPointeeByValueCopyAttr() ||</span></CodeLine>
<Link id="l11499" /><CodeLine lineNumber="11499"><span class="doxyHighlight">        Arg-&gt;getType()-&gt;isEmptyTy() ||</span></CodeLine>
<Link id="l11500" /><CodeLine lineNumber="11500"><span class="doxyHighlight">        <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getTypeStoreSize(Arg-&gt;getType()) !=</span></CodeLine>
<Link id="l11501" /><CodeLine lineNumber="11501"><span class="doxyHighlight">            <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getTypeAllocSize(AI-&gt;<a href="/docs/api/classes/llvm/allocainst/#a9b5ec84ea363eca9e35ddca20a5313af">getAllocatedType</a>()) ||</span></CodeLine>
<Link id="l11502" /><CodeLine lineNumber="11502"><span class="doxyHighlight">        !<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>.typeSizeEqualsStoreSize(Arg-&gt;getType()) ||</span></CodeLine>
<Link id="l11503" /><CodeLine lineNumber="11503"><span class="doxyHighlight">        ArgCopyElisionCandidates.count(Arg)) &#123;</span></CodeLine>
<Link id="l11504" /><CodeLine lineNumber="11504"><span class="doxyHighlight">      &#42;<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp/#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a> = StaticAllocaInfo::Clobbered;</span></CodeLine>
<Link id="l11505" /><CodeLine lineNumber="11505"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">continue</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l11506" /><CodeLine lineNumber="11506"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l11507" /><CodeLine lineNumber="11507"></CodeLine>
<Link id="l11508" /><CodeLine lineNumber="11508"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/support/debug-h/#a196897517069dda1bdb549e24468f7d7">LLVM&#95;DEBUG</a>(<a href="/docs/api/namespaces/llvm/#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; </span><span class="doxyHighlightStringLiteral">&quot;Found argument copy elision candidate: &quot;</span><span class="doxyHighlight"> &lt;&lt; &#42;AI</span></CodeLine>
<Link id="l11509" /><CodeLine lineNumber="11509"><span class="doxyHighlight">                      &lt;&lt; </span><span class="doxyHighlightCharLiteral">&#39;\\n&#39;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l11510" /><CodeLine lineNumber="11510"></CodeLine>
<Link id="l11511" /><CodeLine lineNumber="11511"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Mark this alloca and store for argument copy elision.</span></CodeLine>
<Link id="l11512" /><CodeLine lineNumber="11512"><span class="doxyHighlight">    &#42;<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp/#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a> = StaticAllocaInfo::Elidable;</span></CodeLine>
<Link id="l11513" /><CodeLine lineNumber="11513"><span class="doxyHighlight">    ArgCopyElisionCandidates.insert(&#123;Arg, &#123;AI, <a href="/docs/api/namespaces/llvm/si">SI</a>&#125;&#125;);</span></CodeLine>
<Link id="l11514" /><CodeLine lineNumber="11514"></CodeLine>
<Link id="l11515" /><CodeLine lineNumber="11515"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Stop scanning if we&#39;ve seen all arguments. This will happen early in -O0</span></CodeLine>
<Link id="l11516" /><CodeLine lineNumber="11516"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// builds, which is useful, because -O0 builds have large entry blocks and</span></CodeLine>
<Link id="l11517" /><CodeLine lineNumber="11517"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// many allocas.</span></CodeLine>
<Link id="l11518" /><CodeLine lineNumber="11518"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (ArgCopyElisionCandidates.size() == NumArgs)</span></CodeLine>
<Link id="l11519" /><CodeLine lineNumber="11519"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l11520" /><CodeLine lineNumber="11520"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l11521" /><CodeLine lineNumber="11521"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l11522" /><CodeLine lineNumber="11522"></CodeLine>
<Link id="l11523" /><CodeLine lineNumber="11523"><span class="doxyHighlightComment">/// Try to elide argument copies from memory into a local alloca. Succeeds if</span></CodeLine>
<Link id="l11524" /><CodeLine lineNumber="11524"><span class="doxyHighlightComment">/// ArgVal is a load from a suitable fixed stack object.</span></CodeLine>
<Link id="l11525" /><CodeLine lineNumber="11525" lineLink="#ae8ee5af33e0f1b85755cf5a1e4951793"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="#ae8ee5af33e0f1b85755cf5a1e4951793">tryToElideArgumentCopy</a>(</span></CodeLine>
<Link id="l11526" /><CodeLine lineNumber="11526"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/functionloweringinfo">FunctionLoweringInfo</a> &amp;FuncInfo, <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl&lt;SDValue&gt;</a> &amp;Chains,</span></CodeLine>
<Link id="l11527" /><CodeLine lineNumber="11527"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/densemap">DenseMap&lt;int, int&gt;</a> &amp;ArgCopyElisionFrameIndexMap,</span></CodeLine>
<Link id="l11528" /><CodeLine lineNumber="11528"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/smallptrsetimpl">SmallPtrSetImpl&lt;const Instruction &#42;&gt;</a> &amp;ElidedArgCopyInstrs,</span></CodeLine>
<Link id="l11529" /><CodeLine lineNumber="11529"><span class="doxyHighlight">    <a href="#a7963e46427251f855f76bfce3b167492">ArgCopyElisionMapTy</a> &amp;ArgCopyElisionCandidates, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/argument">Argument</a> &amp;Arg,</span></CodeLine>
<Link id="l11530" /><CodeLine lineNumber="11530"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/arrayref">ArrayRef&lt;SDValue&gt;</a> ArgVals, </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> &amp;ArgHasUses) &#123;</span></CodeLine>
<Link id="l11531" /><CodeLine lineNumber="11531"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Check if this is a load from a fixed stack object.</span></CodeLine>
<Link id="l11532" /><CodeLine lineNumber="11532"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;LNode = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;LoadSDNode&gt;</a>(ArgVals&#91;0&#93;);</span></CodeLine>
<Link id="l11533" /><CodeLine lineNumber="11533"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!LNode)</span></CodeLine>
<Link id="l11534" /><CodeLine lineNumber="11534"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l11535" /><CodeLine lineNumber="11535"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;FINode = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;FrameIndexSDNode&gt;</a>(LNode-&gt;getBasePtr().getNode());</span></CodeLine>
<Link id="l11536" /><CodeLine lineNumber="11536"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!FINode)</span></CodeLine>
<Link id="l11537" /><CodeLine lineNumber="11537"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l11538" /><CodeLine lineNumber="11538"></CodeLine>
<Link id="l11539" /><CodeLine lineNumber="11539"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Check that the fixed stack object is the right size and alignment.</span></CodeLine>
<Link id="l11540" /><CodeLine lineNumber="11540"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Look at the alignment that the user wrote on the alloca instead of looking</span></CodeLine>
<Link id="l11541" /><CodeLine lineNumber="11541"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// at the stack object.</span></CodeLine>
<Link id="l11542" /><CodeLine lineNumber="11542"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> ArgCopyIter = ArgCopyElisionCandidates.find(&amp;Arg);</span></CodeLine>
<Link id="l11543" /><CodeLine lineNumber="11543"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ArgCopyIter != ArgCopyElisionCandidates.end());</span></CodeLine>
<Link id="l11544" /><CodeLine lineNumber="11544"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/allocainst">AllocaInst</a> &#42;AI = ArgCopyIter-&gt;second.first;</span></CodeLine>
<Link id="l11545" /><CodeLine lineNumber="11545"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">int</span><span class="doxyHighlight"> FixedIndex = FINode-&gt;getIndex();</span></CodeLine>
<Link id="l11546" /><CodeLine lineNumber="11546"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">int</span><span class="doxyHighlight"> &amp;AllocaIndex = FuncInfo.StaticAllocaMap&#91;AI&#93;;</span></CodeLine>
<Link id="l11547" /><CodeLine lineNumber="11547"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">int</span><span class="doxyHighlight"> OldIndex = AllocaIndex;</span></CodeLine>
<Link id="l11548" /><CodeLine lineNumber="11548"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/machineframeinfo">MachineFrameInfo</a> &amp;MFI = FuncInfo.MF-&gt;getFrameInfo();</span></CodeLine>
<Link id="l11549" /><CodeLine lineNumber="11549"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (MFI.<a href="/docs/api/classes/llvm/machineframeinfo/#a9284fd53296d2a2f8ae654d000971000">getObjectSize</a>(FixedIndex) != MFI.<a href="/docs/api/classes/llvm/machineframeinfo/#a9284fd53296d2a2f8ae654d000971000">getObjectSize</a>(OldIndex)) &#123;</span></CodeLine>
<Link id="l11550" /><CodeLine lineNumber="11550"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/support/debug-h/#a196897517069dda1bdb549e24468f7d7">LLVM&#95;DEBUG</a>(</span></CodeLine>
<Link id="l11551" /><CodeLine lineNumber="11551"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; </span><span class="doxyHighlightStringLiteral">&quot;  argument copy elision failed due to bad fixed stack &quot;</span></CodeLine>
<Link id="l11552" /><CodeLine lineNumber="11552"><span class="doxyHighlight">                  </span><span class="doxyHighlightStringLiteral">&quot;object size\\n&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l11553" /><CodeLine lineNumber="11553"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l11554" /><CodeLine lineNumber="11554"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l11555" /><CodeLine lineNumber="11555"><span class="doxyHighlight">  <a href="/docs/api/structs/llvm/align">Align</a> RequiredAlignment = AI-&gt;<a href="/docs/api/classes/llvm/allocainst/#a42438d0a43720a6571c9138224481754">getAlign</a>();</span></CodeLine>
<Link id="l11556" /><CodeLine lineNumber="11556"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (MFI.<a href="/docs/api/classes/llvm/machineframeinfo/#a8320a54de0a273478de910ac3795058b">getObjectAlign</a>(FixedIndex) &lt; RequiredAlignment) &#123;</span></CodeLine>
<Link id="l11557" /><CodeLine lineNumber="11557"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/support/debug-h/#a196897517069dda1bdb549e24468f7d7">LLVM&#95;DEBUG</a>(<a href="/docs/api/namespaces/llvm/#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; </span><span class="doxyHighlightStringLiteral">&quot;  argument copy elision failed: alignment of alloca &quot;</span></CodeLine>
<Link id="l11558" /><CodeLine lineNumber="11558"><span class="doxyHighlight">                         </span><span class="doxyHighlightStringLiteral">&quot;greater than stack argument alignment (&quot;</span></CodeLine>
<Link id="l11559" /><CodeLine lineNumber="11559"><span class="doxyHighlight">                      &lt;&lt; <a href="/docs/api/namespaces/llvm/dwarf-linker/#a463a58e257d5f6fb2c39eb9a2474fc24ad46cdbe68b494ca6f426b0ca5269f6a4">DebugStr</a>(RequiredAlignment) &lt;&lt; </span><span class="doxyHighlightStringLiteral">&quot; vs &quot;</span></CodeLine>
<Link id="l11560" /><CodeLine lineNumber="11560"><span class="doxyHighlight">                      &lt;&lt; <a href="/docs/api/namespaces/llvm/dwarf-linker/#a463a58e257d5f6fb2c39eb9a2474fc24ad46cdbe68b494ca6f426b0ca5269f6a4">DebugStr</a>(MFI.<a href="/docs/api/classes/llvm/machineframeinfo/#a8320a54de0a273478de910ac3795058b">getObjectAlign</a>(FixedIndex)) &lt;&lt; </span><span class="doxyHighlightStringLiteral">&quot;)\\n&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l11561" /><CodeLine lineNumber="11561"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l11562" /><CodeLine lineNumber="11562"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l11563" /><CodeLine lineNumber="11563"></CodeLine>
<Link id="l11564" /><CodeLine lineNumber="11564"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Perform the elision. Delete the old stack object and replace its only use</span></CodeLine>
<Link id="l11565" /><CodeLine lineNumber="11565"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// in the variable info map. Mark the stack object as mutable and aliased.</span></CodeLine>
<Link id="l11566" /><CodeLine lineNumber="11566"><span class="doxyHighlight">  <a href="/docs/api/files/include/include/llvm/include/llvm/support/debug-h/#a196897517069dda1bdb549e24468f7d7">LLVM&#95;DEBUG</a>(&#123;</span></CodeLine>
<Link id="l11567" /><CodeLine lineNumber="11567"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; </span><span class="doxyHighlightStringLiteral">&quot;Eliding argument copy from &quot;</span><span class="doxyHighlight"> &lt;&lt; Arg &lt;&lt; </span><span class="doxyHighlightStringLiteral">&quot; to &quot;</span><span class="doxyHighlight"> &lt;&lt; &#42;AI &lt;&lt; </span><span class="doxyHighlightCharLiteral">&#39;\\n&#39;</span></CodeLine>
<Link id="l11568" /><CodeLine lineNumber="11568"><span class="doxyHighlight">           &lt;&lt; </span><span class="doxyHighlightStringLiteral">&quot;  Replacing frame index &quot;</span><span class="doxyHighlight"> &lt;&lt; OldIndex &lt;&lt; </span><span class="doxyHighlightStringLiteral">&quot; with &quot;</span><span class="doxyHighlight"> &lt;&lt; FixedIndex</span></CodeLine>
<Link id="l11569" /><CodeLine lineNumber="11569"><span class="doxyHighlight">           &lt;&lt; </span><span class="doxyHighlightCharLiteral">&#39;\\n&#39;</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l11570" /><CodeLine lineNumber="11570"><span class="doxyHighlight">  &#125;);</span></CodeLine>
<Link id="l11571" /><CodeLine lineNumber="11571"><span class="doxyHighlight">  MFI.<a href="/docs/api/classes/llvm/machineframeinfo/#ab356eaffcc04362671e727900a65ac52">RemoveStackObject</a>(OldIndex);</span></CodeLine>
<Link id="l11572" /><CodeLine lineNumber="11572"><span class="doxyHighlight">  MFI.<a href="/docs/api/classes/llvm/machineframeinfo/#a0d6c9ad6ad96f64b2fe861339c192f68">setIsImmutableObjectIndex</a>(FixedIndex, </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l11573" /><CodeLine lineNumber="11573"><span class="doxyHighlight">  MFI.<a href="/docs/api/classes/llvm/machineframeinfo/#a7dfc119c1adb845f7eea8851a7c6a69c">setIsAliasedObjectIndex</a>(FixedIndex, </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l11574" /><CodeLine lineNumber="11574"><span class="doxyHighlight">  AllocaIndex = FixedIndex;</span></CodeLine>
<Link id="l11575" /><CodeLine lineNumber="11575"><span class="doxyHighlight">  ArgCopyElisionFrameIndexMap.<a href="/docs/api/classes/llvm/densemapbase/#adb33f3ede2f5bfc9b3ee658aaf648492">insert</a>(&#123;OldIndex, FixedIndex&#125;);</span></CodeLine>
<Link id="l11576" /><CodeLine lineNumber="11576"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (<a href="/docs/api/classes/llvm/sdvalue">SDValue</a> ArgVal : ArgVals)</span></CodeLine>
<Link id="l11577" /><CodeLine lineNumber="11577"><span class="doxyHighlight">    Chains.<a href="/docs/api/classes/llvm/smallvectortemplatebase/#af42bfbc067df27c19ee2fc859df58799">push&#95;back</a>(ArgVal.getValue(1));</span></CodeLine>
<Link id="l11578" /><CodeLine lineNumber="11578"></CodeLine>
<Link id="l11579" /><CodeLine lineNumber="11579"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Avoid emitting code for the store implementing the copy.</span></CodeLine>
<Link id="l11580" /><CodeLine lineNumber="11580"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/storeinst">StoreInst</a> &#42;<a href="/docs/api/namespaces/llvm/si">SI</a> = ArgCopyIter-&gt;second.second;</span></CodeLine>
<Link id="l11581" /><CodeLine lineNumber="11581"><span class="doxyHighlight">  ElidedArgCopyInstrs.<a href="/docs/api/classes/llvm/smallptrsetimpl/#a9d834ae3da8c62c2b668dada51335eb0">insert</a>(<a href="/docs/api/namespaces/llvm/si">SI</a>);</span></CodeLine>
<Link id="l11582" /><CodeLine lineNumber="11582"></CodeLine>
<Link id="l11583" /><CodeLine lineNumber="11583"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Check for uses of the argument again so that we can avoid exporting ArgVal</span></CodeLine>
<Link id="l11584" /><CodeLine lineNumber="11584"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// if it is&#39;t used by anything other than the store.</span></CodeLine>
<Link id="l11585" /><CodeLine lineNumber="11585"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/value">Value</a> &#42;U : Arg.<a href="/docs/api/classes/llvm/value/#a411cf3e3932f209ce3374cb31adc1da6">users</a>()) &#123;</span></CodeLine>
<Link id="l11586" /><CodeLine lineNumber="11586"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (U != <a href="/docs/api/namespaces/llvm/si">SI</a>) &#123;</span></CodeLine>
<Link id="l11587" /><CodeLine lineNumber="11587"><span class="doxyHighlight">      ArgHasUses = </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l11588" /><CodeLine lineNumber="11588"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l11589" /><CodeLine lineNumber="11589"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l11590" /><CodeLine lineNumber="11590"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l11591" /><CodeLine lineNumber="11591"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l11592" /><CodeLine lineNumber="11592"></CodeLine>
<Link id="l11593" /><CodeLine lineNumber="11593"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGISel::LowerArguments(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/function">Function</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) &#123;</span></CodeLine>
<Link id="l11594" /><CodeLine lineNumber="11594"><span class="doxyHighlight">  SelectionDAG &amp;DAG = <a href="/docs/api/classes/llvm/selectiondagisel/#ac3f55f401d370bf1ba6759d32d53ec2d">SDB</a>-&gt;DAG;</span></CodeLine>
<Link id="l11595" /><CodeLine lineNumber="11595"><span class="doxyHighlight">  SDLoc dl = <a href="/docs/api/classes/llvm/selectiondagisel/#ac3f55f401d370bf1ba6759d32d53ec2d">SDB</a>-&gt;getCurSDLoc();</span></CodeLine>
<Link id="l11596" /><CodeLine lineNumber="11596"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> DataLayout &amp;<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a> = DAG.<a href="/docs/api/classes/llvm/selectiondag/#a6b442ac8a9fc6147b95ccfb2c3322121">getDataLayout</a>();</span></CodeLine>
<Link id="l11597" /><CodeLine lineNumber="11597"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;ISD::InputArg, 16&gt;</a> <a href="/docs/api/namespaces/llvm/mipsisd/#a422daf9aa810935178671306b651d69bad5006873d15f9569d1cf09deef3c6363">Ins</a>;</span></CodeLine>
<Link id="l11598" /><CodeLine lineNumber="11598"></CodeLine>
<Link id="l11599" /><CodeLine lineNumber="11599"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// In Naked functions we aren&#39;t going to save any registers.</span></CodeLine>
<Link id="l11600" /><CodeLine lineNumber="11600"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/support/md5-cpp/#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.hasFnAttribute(Attribute::Naked))</span></CodeLine>
<Link id="l11601" /><CodeLine lineNumber="11601"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l11602" /><CodeLine lineNumber="11602"></CodeLine>
<Link id="l11603" /><CodeLine lineNumber="11603"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="/docs/api/classes/llvm/selectiondagisel/#a024d81db0692653f69a019d1c973ebd0">FuncInfo</a>-&gt;CanLowerReturn) &#123;</span></CodeLine>
<Link id="l11604" /><CodeLine lineNumber="11604"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Put in an sret pointer parameter before all the other parameters.</span></CodeLine>
<Link id="l11605" /><CodeLine lineNumber="11605"><span class="doxyHighlight">    MVT ValueVT = <a href="/docs/api/classes/llvm/selectiondagisel/#a1ed864be04c93653277b0f5112a4f305">TLI</a>-&gt;getPointerTy(<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getAllocaAddrSpace());</span></CodeLine>
<Link id="l11606" /><CodeLine lineNumber="11606"></CodeLine>
<Link id="l11607" /><CodeLine lineNumber="11607"><span class="doxyHighlight">    ISD::ArgFlagsTy <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>;</span></CodeLine>
<Link id="l11608" /><CodeLine lineNumber="11608"><span class="doxyHighlight">    <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setSRet();</span></CodeLine>
<Link id="l11609" /><CodeLine lineNumber="11609"><span class="doxyHighlight">    MVT RegisterVT = <a href="/docs/api/classes/llvm/selectiondagisel/#a1ed864be04c93653277b0f5112a4f305">TLI</a>-&gt;getRegisterType(&#42;DAG.<a href="/docs/api/classes/llvm/selectiondag/#adecf615928faed0c8a082ffdb65dfea0">getContext</a>(), ValueVT);</span></CodeLine>
<Link id="l11610" /><CodeLine lineNumber="11610"><span class="doxyHighlight">    ISD::InputArg RetArg(Flags, RegisterVT, ValueVT, </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">,</span></CodeLine>
<Link id="l11611" /><CodeLine lineNumber="11611"><span class="doxyHighlight">                         <a href="/docs/api/structs/llvm/isd/inputarg/#a2895ad3d44927a6eca97cd3a516a40a7">ISD::InputArg::NoArgIndex</a>, 0);</span></CodeLine>
<Link id="l11612" /><CodeLine lineNumber="11612"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/mipsisd/#a422daf9aa810935178671306b651d69bad5006873d15f9569d1cf09deef3c6363">Ins</a>.push&#95;back(RetArg);</span></CodeLine>
<Link id="l11613" /><CodeLine lineNumber="11613"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l11614" /><CodeLine lineNumber="11614"></CodeLine>
<Link id="l11615" /><CodeLine lineNumber="11615"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Look for stores of arguments to static allocas. Mark such arguments with a</span></CodeLine>
<Link id="l11616" /><CodeLine lineNumber="11616"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// flag to ask the target to give us the memory location of that argument if</span></CodeLine>
<Link id="l11617" /><CodeLine lineNumber="11617"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// available.</span></CodeLine>
<Link id="l11618" /><CodeLine lineNumber="11618"><span class="doxyHighlight">  <a href="#a7963e46427251f855f76bfce3b167492">ArgCopyElisionMapTy</a> ArgCopyElisionCandidates;</span></CodeLine>
<Link id="l11619" /><CodeLine lineNumber="11619"><span class="doxyHighlight">  <a href="#aa469012eee439764e752d32b1a557821">findArgumentCopyElisionCandidates</a>(<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a href="/docs/api/classes/llvm/selectiondagisel/#a024d81db0692653f69a019d1c973ebd0">FuncInfo</a>.get(),</span></CodeLine>
<Link id="l11620" /><CodeLine lineNumber="11620"><span class="doxyHighlight">                                    ArgCopyElisionCandidates);</span></CodeLine>
<Link id="l11621" /><CodeLine lineNumber="11621"></CodeLine>
<Link id="l11622" /><CodeLine lineNumber="11622"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Set up the incoming argument description vector.</span></CodeLine>
<Link id="l11623" /><CodeLine lineNumber="11623"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Argument &amp;Arg : <a href="/docs/api/files/lib/lib/support/md5-cpp/#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.args()) &#123;</span></CodeLine>
<Link id="l11624" /><CodeLine lineNumber="11624"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> ArgNo = Arg.getArgNo();</span></CodeLine>
<Link id="l11625" /><CodeLine lineNumber="11625"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;EVT, 4&gt;</a> ValueVTs;</span></CodeLine>
<Link id="l11626" /><CodeLine lineNumber="11626"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/#ab99618b3d8988b758a67f5a1a6071095">ComputeValueVTs</a>(&#42;<a href="/docs/api/classes/llvm/selectiondagisel/#a1ed864be04c93653277b0f5112a4f305">TLI</a>, DAG.<a href="/docs/api/classes/llvm/selectiondag/#a6b442ac8a9fc6147b95ccfb2c3322121">getDataLayout</a>(), Arg.getType(), ValueVTs);</span></CodeLine>
<Link id="l11627" /><CodeLine lineNumber="11627"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> isArgValueUsed = !Arg.use&#95;empty();</span></CodeLine>
<Link id="l11628" /><CodeLine lineNumber="11628"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> PartBase = 0;</span></CodeLine>
<Link id="l11629" /><CodeLine lineNumber="11629"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a88ee8e4eea43084bd8964682683da88caa1fa27779242b4902f7ae3bdd5c6d508">Type</a> &#42;FinalType = Arg.getType();</span></CodeLine>
<Link id="l11630" /><CodeLine lineNumber="11630"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Arg.hasAttribute(Attribute::ByVal))</span></CodeLine>
<Link id="l11631" /><CodeLine lineNumber="11631"><span class="doxyHighlight">      FinalType = Arg.getParamByValType();</span></CodeLine>
<Link id="l11632" /><CodeLine lineNumber="11632"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> NeedsRegBlock = <a href="/docs/api/classes/llvm/selectiondagisel/#a1ed864be04c93653277b0f5112a4f305">TLI</a>-&gt;functionArgumentNeedsConsecutiveRegisters(</span></CodeLine>
<Link id="l11633" /><CodeLine lineNumber="11633"><span class="doxyHighlight">        FinalType, <a href="/docs/api/files/lib/lib/support/md5-cpp/#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getCallingConv(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.isVarArg(), <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>);</span></CodeLine>
<Link id="l11634" /><CodeLine lineNumber="11634"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/#a066e2a31a13d6520e52ae1944f194662">Value</a> = 0, NumValues = ValueVTs.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#a1c479a8c434377c2b8cb056bdfdfc201">size</a>();</span></CodeLine>
<Link id="l11635" /><CodeLine lineNumber="11635"><span class="doxyHighlight">         <a href="/docs/api/namespaces/llvm/#a066e2a31a13d6520e52ae1944f194662">Value</a> != NumValues; ++<a href="/docs/api/namespaces/llvm/#a066e2a31a13d6520e52ae1944f194662">Value</a>) &#123;</span></CodeLine>
<Link id="l11636" /><CodeLine lineNumber="11636"><span class="doxyHighlight">      EVT VT = ValueVTs&#91;<a href="/docs/api/namespaces/llvm/#a066e2a31a13d6520e52ae1944f194662">Value</a>&#93;;</span></CodeLine>
<Link id="l11637" /><CodeLine lineNumber="11637"><span class="doxyHighlight">      <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a88ee8e4eea43084bd8964682683da88caa1fa27779242b4902f7ae3bdd5c6d508">Type</a> &#42;ArgTy = VT.<a href="/docs/api/structs/llvm/evt/#ab0cfceeb37508e56f9c127e59766a668">getTypeForEVT</a>(&#42;DAG.<a href="/docs/api/classes/llvm/selectiondag/#adecf615928faed0c8a082ffdb65dfea0">getContext</a>());</span></CodeLine>
<Link id="l11638" /><CodeLine lineNumber="11638"><span class="doxyHighlight">      ISD::ArgFlagsTy <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>;</span></CodeLine>
<Link id="l11639" /><CodeLine lineNumber="11639"></CodeLine>
<Link id="l11640" /><CodeLine lineNumber="11640"></CodeLine>
<Link id="l11641" /><CodeLine lineNumber="11641"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Arg.getType()-&gt;isPointerTy()) &#123;</span></CodeLine>
<Link id="l11642" /><CodeLine lineNumber="11642"><span class="doxyHighlight">        <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setPointer();</span></CodeLine>
<Link id="l11643" /><CodeLine lineNumber="11643"><span class="doxyHighlight">        <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setPointerAddrSpace(</span></CodeLine>
<Link id="l11644" /><CodeLine lineNumber="11644"><span class="doxyHighlight">            <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;PointerType&gt;</a>(Arg.getType())-&gt;getAddressSpace());</span></CodeLine>
<Link id="l11645" /><CodeLine lineNumber="11645"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l11646" /><CodeLine lineNumber="11646"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Arg.hasAttribute(Attribute::ZExt))</span></CodeLine>
<Link id="l11647" /><CodeLine lineNumber="11647"><span class="doxyHighlight">        <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setZExt();</span></CodeLine>
<Link id="l11648" /><CodeLine lineNumber="11648"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Arg.hasAttribute(Attribute::SExt))</span></CodeLine>
<Link id="l11649" /><CodeLine lineNumber="11649"><span class="doxyHighlight">        <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setSExt();</span></CodeLine>
<Link id="l11650" /><CodeLine lineNumber="11650"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Arg.hasAttribute(Attribute::InReg)) &#123;</span></CodeLine>
<Link id="l11651" /><CodeLine lineNumber="11651"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// If we are using vectorcall calling convention, a structure that is</span></CodeLine>
<Link id="l11652" /><CodeLine lineNumber="11652"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// passed InReg - is surely an HVA</span></CodeLine>
<Link id="l11653" /><CodeLine lineNumber="11653"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/support/md5-cpp/#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getCallingConv() == <a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cacfa4cc9bcdaefd5e969c258c994052b9">CallingConv::X86&#95;VectorCall</a> &amp;&amp;</span></CodeLine>
<Link id="l11654" /><CodeLine lineNumber="11654"><span class="doxyHighlight">            <a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;StructType&gt;</a>(Arg.getType())) &#123;</span></CodeLine>
<Link id="l11655" /><CodeLine lineNumber="11655"><span class="doxyHighlight">          </span><span class="doxyHighlightComment">// The first value of a structure is marked</span></CodeLine>
<Link id="l11656" /><CodeLine lineNumber="11656"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (0 == <a href="/docs/api/namespaces/llvm/#a066e2a31a13d6520e52ae1944f194662">Value</a>)</span></CodeLine>
<Link id="l11657" /><CodeLine lineNumber="11657"><span class="doxyHighlight">            <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setHvaStart();</span></CodeLine>
<Link id="l11658" /><CodeLine lineNumber="11658"><span class="doxyHighlight">          <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setHva();</span></CodeLine>
<Link id="l11659" /><CodeLine lineNumber="11659"><span class="doxyHighlight">        &#125;</span></CodeLine>
<Link id="l11660" /><CodeLine lineNumber="11660"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// Set InReg Flag</span></CodeLine>
<Link id="l11661" /><CodeLine lineNumber="11661"><span class="doxyHighlight">        <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setInReg();</span></CodeLine>
<Link id="l11662" /><CodeLine lineNumber="11662"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l11663" /><CodeLine lineNumber="11663"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Arg.hasAttribute(Attribute::StructRet))</span></CodeLine>
<Link id="l11664" /><CodeLine lineNumber="11664"><span class="doxyHighlight">        <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setSRet();</span></CodeLine>
<Link id="l11665" /><CodeLine lineNumber="11665"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Arg.hasAttribute(Attribute::SwiftSelf))</span></CodeLine>
<Link id="l11666" /><CodeLine lineNumber="11666"><span class="doxyHighlight">        <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setSwiftSelf();</span></CodeLine>
<Link id="l11667" /><CodeLine lineNumber="11667"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Arg.hasAttribute(Attribute::SwiftAsync))</span></CodeLine>
<Link id="l11668" /><CodeLine lineNumber="11668"><span class="doxyHighlight">        <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setSwiftAsync();</span></CodeLine>
<Link id="l11669" /><CodeLine lineNumber="11669"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Arg.hasAttribute(Attribute::SwiftError))</span></CodeLine>
<Link id="l11670" /><CodeLine lineNumber="11670"><span class="doxyHighlight">        <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setSwiftError();</span></CodeLine>
<Link id="l11671" /><CodeLine lineNumber="11671"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Arg.hasAttribute(Attribute::ByVal))</span></CodeLine>
<Link id="l11672" /><CodeLine lineNumber="11672"><span class="doxyHighlight">        <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setByVal();</span></CodeLine>
<Link id="l11673" /><CodeLine lineNumber="11673"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Arg.hasAttribute(Attribute::ByRef))</span></CodeLine>
<Link id="l11674" /><CodeLine lineNumber="11674"><span class="doxyHighlight">        <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setByRef();</span></CodeLine>
<Link id="l11675" /><CodeLine lineNumber="11675"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Arg.hasAttribute(Attribute::InAlloca)) &#123;</span></CodeLine>
<Link id="l11676" /><CodeLine lineNumber="11676"><span class="doxyHighlight">        <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setInAlloca();</span></CodeLine>
<Link id="l11677" /><CodeLine lineNumber="11677"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// Set the byval flag for CCAssignFn callbacks that don&#39;t know about</span></CodeLine>
<Link id="l11678" /><CodeLine lineNumber="11678"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// inalloca.  This way we can know how many bytes we should&#39;ve allocated</span></CodeLine>
<Link id="l11679" /><CodeLine lineNumber="11679"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// and how many bytes a callee cleanup function will pop.  If we port</span></CodeLine>
<Link id="l11680" /><CodeLine lineNumber="11680"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// inalloca to more targets, we&#39;ll have to add custom inalloca handling</span></CodeLine>
<Link id="l11681" /><CodeLine lineNumber="11681"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// in the various CC lowering callbacks.</span></CodeLine>
<Link id="l11682" /><CodeLine lineNumber="11682"><span class="doxyHighlight">        <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setByVal();</span></CodeLine>
<Link id="l11683" /><CodeLine lineNumber="11683"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l11684" /><CodeLine lineNumber="11684"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Arg.hasAttribute(Attribute::Preallocated)) &#123;</span></CodeLine>
<Link id="l11685" /><CodeLine lineNumber="11685"><span class="doxyHighlight">        <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setPreallocated();</span></CodeLine>
<Link id="l11686" /><CodeLine lineNumber="11686"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// Set the byval flag for CCAssignFn callbacks that don&#39;t know about</span></CodeLine>
<Link id="l11687" /><CodeLine lineNumber="11687"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// preallocated.  This way we can know how many bytes we should&#39;ve</span></CodeLine>
<Link id="l11688" /><CodeLine lineNumber="11688"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// allocated and how many bytes a callee cleanup function will pop.  If</span></CodeLine>
<Link id="l11689" /><CodeLine lineNumber="11689"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// we port preallocated to more targets, we&#39;ll have to add custom</span></CodeLine>
<Link id="l11690" /><CodeLine lineNumber="11690"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// preallocated handling in the various CC lowering callbacks.</span></CodeLine>
<Link id="l11691" /><CodeLine lineNumber="11691"><span class="doxyHighlight">        <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setByVal();</span></CodeLine>
<Link id="l11692" /><CodeLine lineNumber="11692"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l11693" /><CodeLine lineNumber="11693"></CodeLine>
<Link id="l11694" /><CodeLine lineNumber="11694"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Certain targets (such as MIPS), may have a different ABI alignment</span></CodeLine>
<Link id="l11695" /><CodeLine lineNumber="11695"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// for a type depending on the context. Give the target a chance to</span></CodeLine>
<Link id="l11696" /><CodeLine lineNumber="11696"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// specify the alignment it wants.</span></CodeLine>
<Link id="l11697" /><CodeLine lineNumber="11697"><span class="doxyHighlight">      </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/arg/key/#a6b334a5f83504ebc99cc59f4f333ff98">Align</a> OriginalAlignment(</span></CodeLine>
<Link id="l11698" /><CodeLine lineNumber="11698"><span class="doxyHighlight">          <a href="/docs/api/classes/llvm/selectiondagisel/#a1ed864be04c93653277b0f5112a4f305">TLI</a>-&gt;getABIAlignmentForCallingConv(ArgTy, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>));</span></CodeLine>
<Link id="l11699" /><CodeLine lineNumber="11699"><span class="doxyHighlight">      <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setOrigAlign(OriginalAlignment);</span></CodeLine>
<Link id="l11700" /><CodeLine lineNumber="11700"></CodeLine>
<Link id="l11701" /><CodeLine lineNumber="11701"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/arg/key/#a6b334a5f83504ebc99cc59f4f333ff98">Align</a> MemAlign;</span></CodeLine>
<Link id="l11702" /><CodeLine lineNumber="11702"><span class="doxyHighlight">      <a href="/docs/api/files/include/include/llvm/include/llvm/demangle/itaniumdemangle-h/#a88ee8e4eea43084bd8964682683da88caa1fa27779242b4902f7ae3bdd5c6d508">Type</a> &#42;ArgMemTy = </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l11703" /><CodeLine lineNumber="11703"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.isByVal() || <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.isInAlloca() || <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.isPreallocated() ||</span></CodeLine>
<Link id="l11704" /><CodeLine lineNumber="11704"><span class="doxyHighlight">          <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.isByRef()) &#123;</span></CodeLine>
<Link id="l11705" /><CodeLine lineNumber="11705"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!ArgMemTy)</span></CodeLine>
<Link id="l11706" /><CodeLine lineNumber="11706"><span class="doxyHighlight">          ArgMemTy = Arg.getPointeeInMemoryValueType();</span></CodeLine>
<Link id="l11707" /><CodeLine lineNumber="11707"></CodeLine>
<Link id="l11708" /><CodeLine lineNumber="11708"><span class="doxyHighlight">        uint64&#95;t MemSize = <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getTypeAllocSize(ArgMemTy);</span></CodeLine>
<Link id="l11709" /><CodeLine lineNumber="11709"></CodeLine>
<Link id="l11710" /><CodeLine lineNumber="11710"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// For in-memory arguments, size and alignment should be passed from FE.</span></CodeLine>
<Link id="l11711" /><CodeLine lineNumber="11711"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// BE will guess if this info is not there but there are cases it cannot</span></CodeLine>
<Link id="l11712" /><CodeLine lineNumber="11712"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// get right.</span></CodeLine>
<Link id="l11713" /><CodeLine lineNumber="11713"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> ParamAlign = Arg.getParamStackAlign())</span></CodeLine>
<Link id="l11714" /><CodeLine lineNumber="11714"><span class="doxyHighlight">          MemAlign = &#42;ParamAlign;</span></CodeLine>
<Link id="l11715" /><CodeLine lineNumber="11715"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> ((ParamAlign = Arg.getParamAlign()))</span></CodeLine>
<Link id="l11716" /><CodeLine lineNumber="11716"><span class="doxyHighlight">          MemAlign = &#42;ParamAlign;</span></CodeLine>
<Link id="l11717" /><CodeLine lineNumber="11717"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">else</span></CodeLine>
<Link id="l11718" /><CodeLine lineNumber="11718"><span class="doxyHighlight">          MemAlign = <a href="/docs/api/classes/llvm/selectiondagisel/#a1ed864be04c93653277b0f5112a4f305">TLI</a>-&gt;getByValTypeAlignment(ArgMemTy, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>);</span></CodeLine>
<Link id="l11719" /><CodeLine lineNumber="11719"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.isByRef())</span></CodeLine>
<Link id="l11720" /><CodeLine lineNumber="11720"><span class="doxyHighlight">          <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setByRefSize(MemSize);</span></CodeLine>
<Link id="l11721" /><CodeLine lineNumber="11721"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">else</span></CodeLine>
<Link id="l11722" /><CodeLine lineNumber="11722"><span class="doxyHighlight">          <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setByValSize(MemSize);</span></CodeLine>
<Link id="l11723" /><CodeLine lineNumber="11723"><span class="doxyHighlight">      &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> ParamAlign = Arg.getParamStackAlign()) &#123;</span></CodeLine>
<Link id="l11724" /><CodeLine lineNumber="11724"><span class="doxyHighlight">        MemAlign = &#42;ParamAlign;</span></CodeLine>
<Link id="l11725" /><CodeLine lineNumber="11725"><span class="doxyHighlight">      &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l11726" /><CodeLine lineNumber="11726"><span class="doxyHighlight">        MemAlign = OriginalAlignment;</span></CodeLine>
<Link id="l11727" /><CodeLine lineNumber="11727"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l11728" /><CodeLine lineNumber="11728"><span class="doxyHighlight">      <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setMemAlign(MemAlign);</span></CodeLine>
<Link id="l11729" /><CodeLine lineNumber="11729"></CodeLine>
<Link id="l11730" /><CodeLine lineNumber="11730"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Arg.hasAttribute(Attribute::Nest))</span></CodeLine>
<Link id="l11731" /><CodeLine lineNumber="11731"><span class="doxyHighlight">        <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setNest();</span></CodeLine>
<Link id="l11732" /><CodeLine lineNumber="11732"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (NeedsRegBlock)</span></CodeLine>
<Link id="l11733" /><CodeLine lineNumber="11733"><span class="doxyHighlight">        <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setInConsecutiveRegs();</span></CodeLine>
<Link id="l11734" /><CodeLine lineNumber="11734"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (ArgCopyElisionCandidates.count(&amp;Arg))</span></CodeLine>
<Link id="l11735" /><CodeLine lineNumber="11735"><span class="doxyHighlight">        <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setCopyElisionCandidate();</span></CodeLine>
<Link id="l11736" /><CodeLine lineNumber="11736"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Arg.hasAttribute(Attribute::Returned))</span></CodeLine>
<Link id="l11737" /><CodeLine lineNumber="11737"><span class="doxyHighlight">        <a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.setReturned();</span></CodeLine>
<Link id="l11738" /><CodeLine lineNumber="11738"></CodeLine>
<Link id="l11739" /><CodeLine lineNumber="11739"><span class="doxyHighlight">      MVT RegisterVT = <a href="/docs/api/classes/llvm/selectiondagisel/#a1ed864be04c93653277b0f5112a4f305">TLI</a>-&gt;getRegisterTypeForCallingConv(</span></CodeLine>
<Link id="l11740" /><CodeLine lineNumber="11740"><span class="doxyHighlight">          &#42;<a href="/docs/api/classes/llvm/selectiondagisel/#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;getContext(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getCallingConv(), VT);</span></CodeLine>
<Link id="l11741" /><CodeLine lineNumber="11741"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumRegs = <a href="/docs/api/classes/llvm/selectiondagisel/#a1ed864be04c93653277b0f5112a4f305">TLI</a>-&gt;getNumRegistersForCallingConv(</span></CodeLine>
<Link id="l11742" /><CodeLine lineNumber="11742"><span class="doxyHighlight">          &#42;<a href="/docs/api/classes/llvm/selectiondagisel/#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;getContext(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getCallingConv(), VT);</span></CodeLine>
<Link id="l11743" /><CodeLine lineNumber="11743"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> i = 0; i != NumRegs; ++i) &#123;</span></CodeLine>
<Link id="l11744" /><CodeLine lineNumber="11744"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// For scalable vectors, use the minimum size; individual targets</span></CodeLine>
<Link id="l11745" /><CodeLine lineNumber="11745"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// are responsible for handling scalable vector arguments and</span></CodeLine>
<Link id="l11746" /><CodeLine lineNumber="11746"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// return values.</span></CodeLine>
<Link id="l11747" /><CodeLine lineNumber="11747"><span class="doxyHighlight">        ISD::InputArg MyFlags(</span></CodeLine>
<Link id="l11748" /><CodeLine lineNumber="11748"><span class="doxyHighlight">            Flags, RegisterVT, VT, isArgValueUsed, ArgNo,</span></CodeLine>
<Link id="l11749" /><CodeLine lineNumber="11749"><span class="doxyHighlight">            PartBase + i &#42; RegisterVT.<a href="/docs/api/classes/llvm/mvt/#ab8e1af73424a59a00656c9ffd505c03f">getStoreSize</a>().<a href="/docs/api/classes/llvm/details/fixedorscalablequantity/#ac4ab9dd9440c55bee1aa4a1195cee759">getKnownMinValue</a>());</span></CodeLine>
<Link id="l11750" /><CodeLine lineNumber="11750"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (NumRegs &gt; 1 &amp;&amp; i == 0)</span></CodeLine>
<Link id="l11751" /><CodeLine lineNumber="11751"><span class="doxyHighlight">          MyFlags.<a href="/docs/api/structs/llvm/isd/inputarg/#ade84a7c18e5c4189eae57ebd21f77321">Flags</a>.<a href="/docs/api/structs/llvm/isd/argflagsty/#a25c5036ad8186057b206a6be57ce383d">setSplit</a>();</span></CodeLine>
<Link id="l11752" /><CodeLine lineNumber="11752"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// if it isn&#39;t first piece, alignment must be 1</span></CodeLine>
<Link id="l11753" /><CodeLine lineNumber="11753"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (i &gt; 0) &#123;</span></CodeLine>
<Link id="l11754" /><CodeLine lineNumber="11754"><span class="doxyHighlight">          MyFlags.<a href="/docs/api/structs/llvm/isd/inputarg/#ade84a7c18e5c4189eae57ebd21f77321">Flags</a>.<a href="/docs/api/structs/llvm/isd/argflagsty/#aecf6befedde7c043848775fefeab8bd8">setOrigAlign</a>(<a href="/docs/api/namespaces/llvm/amdgpu/hsamd/kernel/arg/key/#a6b334a5f83504ebc99cc59f4f333ff98">Align</a>(1));</span></CodeLine>
<Link id="l11755" /><CodeLine lineNumber="11755"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (i == NumRegs - 1)</span></CodeLine>
<Link id="l11756" /><CodeLine lineNumber="11756"><span class="doxyHighlight">            MyFlags.<a href="/docs/api/structs/llvm/isd/inputarg/#ade84a7c18e5c4189eae57ebd21f77321">Flags</a>.<a href="/docs/api/structs/llvm/isd/argflagsty/#adea6c8fe8105f3c0b27c0e72c7fbc40b">setSplitEnd</a>();</span></CodeLine>
<Link id="l11757" /><CodeLine lineNumber="11757"><span class="doxyHighlight">        &#125;</span></CodeLine>
<Link id="l11758" /><CodeLine lineNumber="11758"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/mipsisd/#a422daf9aa810935178671306b651d69bad5006873d15f9569d1cf09deef3c6363">Ins</a>.push&#95;back(MyFlags);</span></CodeLine>
<Link id="l11759" /><CodeLine lineNumber="11759"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l11760" /><CodeLine lineNumber="11760"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (NeedsRegBlock &amp;&amp; <a href="/docs/api/namespaces/llvm/#a066e2a31a13d6520e52ae1944f194662">Value</a> == NumValues - 1)</span></CodeLine>
<Link id="l11761" /><CodeLine lineNumber="11761"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/mipsisd/#a422daf9aa810935178671306b651d69bad5006873d15f9569d1cf09deef3c6363">Ins</a>&#91;<a href="/docs/api/namespaces/llvm/mipsisd/#a422daf9aa810935178671306b651d69bad5006873d15f9569d1cf09deef3c6363">Ins</a>.size() - 1&#93;.Flags.setInConsecutiveRegsLast();</span></CodeLine>
<Link id="l11762" /><CodeLine lineNumber="11762"><span class="doxyHighlight">      PartBase += VT.<a href="/docs/api/structs/llvm/evt/#a1572b31fadbd0d758314b8d35a050410">getStoreSize</a>().<a href="/docs/api/classes/llvm/details/fixedorscalablequantity/#ac4ab9dd9440c55bee1aa4a1195cee759">getKnownMinValue</a>();</span></CodeLine>
<Link id="l11763" /><CodeLine lineNumber="11763"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l11764" /><CodeLine lineNumber="11764"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l11765" /><CodeLine lineNumber="11765"></CodeLine>
<Link id="l11766" /><CodeLine lineNumber="11766"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Call the target to set up the argument values.</span></CodeLine>
<Link id="l11767" /><CodeLine lineNumber="11767"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;SDValue, 8&gt;</a> InVals;</span></CodeLine>
<Link id="l11768" /><CodeLine lineNumber="11768"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> NewRoot = <a href="/docs/api/classes/llvm/selectiondagisel/#a1ed864be04c93653277b0f5112a4f305">TLI</a>-&gt;LowerFormalArguments(</span></CodeLine>
<Link id="l11769" /><CodeLine lineNumber="11769"><span class="doxyHighlight">      DAG.<a href="/docs/api/classes/llvm/selectiondag/#a0b02716fe6bb52c384caec3a1f8268be">getRoot</a>(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getCallingConv(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.isVarArg(), Ins, dl, DAG, InVals);</span></CodeLine>
<Link id="l11770" /><CodeLine lineNumber="11770"></CodeLine>
<Link id="l11771" /><CodeLine lineNumber="11771"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Verify that the target&#39;s LowerFormalArguments behaved as expected.</span></CodeLine>
<Link id="l11772" /><CodeLine lineNumber="11772"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(NewRoot.<a href="/docs/api/classes/llvm/sdvalue/#a2b08aa629a6326d1a0444ee6d477c39d">getNode</a>() &amp;&amp; NewRoot.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>() == MVT::Other &amp;&amp;</span></CodeLine>
<Link id="l11773" /><CodeLine lineNumber="11773"><span class="doxyHighlight">         </span><span class="doxyHighlightStringLiteral">&quot;LowerFormalArguments didn&#39;t return a valid chain!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l11774" /><CodeLine lineNumber="11774"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(InVals.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#a1c479a8c434377c2b8cb056bdfdfc201">size</a>() == <a href="/docs/api/namespaces/llvm/mipsisd/#a422daf9aa810935178671306b651d69bad5006873d15f9569d1cf09deef3c6363">Ins</a>.size() &amp;&amp;</span></CodeLine>
<Link id="l11775" /><CodeLine lineNumber="11775"><span class="doxyHighlight">         </span><span class="doxyHighlightStringLiteral">&quot;LowerFormalArguments didn&#39;t emit the correct number of values!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l11776" /><CodeLine lineNumber="11776"><span class="doxyHighlight">  <a href="/docs/api/files/include/include/llvm/include/llvm/support/debug-h/#a196897517069dda1bdb549e24468f7d7">LLVM&#95;DEBUG</a>(&#123;</span></CodeLine>
<Link id="l11777" /><CodeLine lineNumber="11777"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> i = 0, e = <a href="/docs/api/namespaces/llvm/mipsisd/#a422daf9aa810935178671306b651d69bad5006873d15f9569d1cf09deef3c6363">Ins</a>.size(); i != e; ++i) &#123;</span></CodeLine>
<Link id="l11778" /><CodeLine lineNumber="11778"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(InVals&#91;i&#93;.<a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/lib/target/amdgpu/utils/amdgpudelayedmcexpr-cpp/#a3b9e43a5529fa7d4adb2bad70198c9bd">getNode</a>() &amp;&amp;</span></CodeLine>
<Link id="l11779" /><CodeLine lineNumber="11779"><span class="doxyHighlight">             </span><span class="doxyHighlightStringLiteral">&quot;LowerFormalArguments emitted a null value!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l11780" /><CodeLine lineNumber="11780"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(EVT(Ins&#91;i&#93;.VT) == InVals&#91;i&#93;.<a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp/#a9df55d50aee24118cfdc34ecb32db484">getValueType</a>() &amp;&amp;</span></CodeLine>
<Link id="l11781" /><CodeLine lineNumber="11781"><span class="doxyHighlight">             </span><span class="doxyHighlightStringLiteral">&quot;LowerFormalArguments emitted a value with the wrong type!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l11782" /><CodeLine lineNumber="11782"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l11783" /><CodeLine lineNumber="11783"><span class="doxyHighlight">  &#125;);</span></CodeLine>
<Link id="l11784" /><CodeLine lineNumber="11784"></CodeLine>
<Link id="l11785" /><CodeLine lineNumber="11785"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Update the DAG with the new chain value resulting from argument lowering.</span></CodeLine>
<Link id="l11786" /><CodeLine lineNumber="11786"><span class="doxyHighlight">  DAG.<a href="/docs/api/classes/llvm/selectiondag/#ae0fc3f54d06d2230bf93a19d45f51706">setRoot</a>(NewRoot);</span></CodeLine>
<Link id="l11787" /><CodeLine lineNumber="11787"></CodeLine>
<Link id="l11788" /><CodeLine lineNumber="11788"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Set up the argument values.</span></CodeLine>
<Link id="l11789" /><CodeLine lineNumber="11789"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> i = 0;</span></CodeLine>
<Link id="l11790" /><CodeLine lineNumber="11790"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="/docs/api/classes/llvm/selectiondagisel/#a024d81db0692653f69a019d1c973ebd0">FuncInfo</a>-&gt;CanLowerReturn) &#123;</span></CodeLine>
<Link id="l11791" /><CodeLine lineNumber="11791"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Create a virtual register for the sret pointer, and put in a copy</span></CodeLine>
<Link id="l11792" /><CodeLine lineNumber="11792"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// from the sret argument into it.</span></CodeLine>
<Link id="l11793" /><CodeLine lineNumber="11793"><span class="doxyHighlight">    MVT VT = <a href="/docs/api/classes/llvm/selectiondagisel/#a1ed864be04c93653277b0f5112a4f305">TLI</a>-&gt;getPointerTy(<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getAllocaAddrSpace());</span></CodeLine>
<Link id="l11794" /><CodeLine lineNumber="11794"><span class="doxyHighlight">    MVT RegVT = <a href="/docs/api/classes/llvm/selectiondagisel/#a1ed864be04c93653277b0f5112a4f305">TLI</a>-&gt;getRegisterType(&#42;<a href="/docs/api/classes/llvm/selectiondagisel/#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;getContext(), VT);</span></CodeLine>
<Link id="l11795" /><CodeLine lineNumber="11795"><span class="doxyHighlight">    std::optional&lt;ISD::NodeType&gt; AssertOp;</span></CodeLine>
<Link id="l11796" /><CodeLine lineNumber="11796"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> ArgValue =</span></CodeLine>
<Link id="l11797" /><CodeLine lineNumber="11797"><span class="doxyHighlight">        <a href="#acb8cf9e50c3979193572ea36f327d0a4">getCopyFromParts</a>(DAG, dl, &amp;InVals&#91;0&#93;, 1, RegVT, VT, </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">, NewRoot,</span></CodeLine>
<Link id="l11798" /><CodeLine lineNumber="11798"><span class="doxyHighlight">                         <a href="/docs/api/files/lib/lib/support/md5-cpp/#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getCallingConv(), AssertOp);</span></CodeLine>
<Link id="l11799" /><CodeLine lineNumber="11799"></CodeLine>
<Link id="l11800" /><CodeLine lineNumber="11800"><span class="doxyHighlight">    MachineFunction&amp; <a href="/docs/api/classes/llvm/selectiondagisel/#a23107e32342f5488a5edfa71aff54700">MF</a> = <a href="/docs/api/classes/llvm/selectiondagisel/#ac3f55f401d370bf1ba6759d32d53ec2d">SDB</a>-&gt;DAG.getMachineFunction();</span></CodeLine>
<Link id="l11801" /><CodeLine lineNumber="11801"><span class="doxyHighlight">    MachineRegisterInfo&amp; <a href="/docs/api/classes/llvm/selectiondagisel/#a303effb01b1d92c71b15cc25b2438917">RegInfo</a> = <a href="/docs/api/classes/llvm/selectiondagisel/#a23107e32342f5488a5edfa71aff54700">MF</a>.getRegInfo();</span></CodeLine>
<Link id="l11802" /><CodeLine lineNumber="11802"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/mem2reg-cpp/#a6fde3eb6ca09ddf2fd76432176d817bb">Register</a> SRetReg =</span></CodeLine>
<Link id="l11803" /><CodeLine lineNumber="11803"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagisel/#a303effb01b1d92c71b15cc25b2438917">RegInfo</a>.createVirtualRegister(<a href="/docs/api/classes/llvm/selectiondagisel/#a1ed864be04c93653277b0f5112a4f305">TLI</a>-&gt;getRegClassFor(RegVT));</span></CodeLine>
<Link id="l11804" /><CodeLine lineNumber="11804"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagisel/#a024d81db0692653f69a019d1c973ebd0">FuncInfo</a>-&gt;DemoteRegister = SRetReg;</span></CodeLine>
<Link id="l11805" /><CodeLine lineNumber="11805"><span class="doxyHighlight">    NewRoot =</span></CodeLine>
<Link id="l11806" /><CodeLine lineNumber="11806"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagisel/#ac3f55f401d370bf1ba6759d32d53ec2d">SDB</a>-&gt;DAG.getCopyToReg(NewRoot, <a href="/docs/api/classes/llvm/selectiondagisel/#ac3f55f401d370bf1ba6759d32d53ec2d">SDB</a>-&gt;getCurSDLoc(), SRetReg, ArgValue);</span></CodeLine>
<Link id="l11807" /><CodeLine lineNumber="11807"><span class="doxyHighlight">    DAG.<a href="/docs/api/classes/llvm/selectiondag/#ae0fc3f54d06d2230bf93a19d45f51706">setRoot</a>(NewRoot);</span></CodeLine>
<Link id="l11808" /><CodeLine lineNumber="11808"></CodeLine>
<Link id="l11809" /><CodeLine lineNumber="11809"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// i indexes lowered arguments.  Bump it past the hidden sret argument.</span></CodeLine>
<Link id="l11810" /><CodeLine lineNumber="11810"><span class="doxyHighlight">    ++i;</span></CodeLine>
<Link id="l11811" /><CodeLine lineNumber="11811"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l11812" /><CodeLine lineNumber="11812"></CodeLine>
<Link id="l11813" /><CodeLine lineNumber="11813"><span class="doxyHighlight">  SmallVector&lt;SDValue, 4&gt; Chains;</span></CodeLine>
<Link id="l11814" /><CodeLine lineNumber="11814"><span class="doxyHighlight">  DenseMap&lt;int, int&gt; ArgCopyElisionFrameIndexMap;</span></CodeLine>
<Link id="l11815" /><CodeLine lineNumber="11815"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Argument &amp;Arg : <a href="/docs/api/files/lib/lib/support/md5-cpp/#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.args()) &#123;</span></CodeLine>
<Link id="l11816" /><CodeLine lineNumber="11816"><span class="doxyHighlight">    SmallVector&lt;SDValue, 4&gt; ArgValues;</span></CodeLine>
<Link id="l11817" /><CodeLine lineNumber="11817"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;EVT, 4&gt;</a> ValueVTs;</span></CodeLine>
<Link id="l11818" /><CodeLine lineNumber="11818"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/#ab99618b3d8988b758a67f5a1a6071095">ComputeValueVTs</a>(&#42;<a href="/docs/api/classes/llvm/selectiondagisel/#a1ed864be04c93653277b0f5112a4f305">TLI</a>, DAG.<a href="/docs/api/classes/llvm/selectiondag/#a6b442ac8a9fc6147b95ccfb2c3322121">getDataLayout</a>(), Arg.getType(), ValueVTs);</span></CodeLine>
<Link id="l11819" /><CodeLine lineNumber="11819"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumValues = ValueVTs.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#a1c479a8c434377c2b8cb056bdfdfc201">size</a>();</span></CodeLine>
<Link id="l11820" /><CodeLine lineNumber="11820"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (NumValues == 0)</span></CodeLine>
<Link id="l11821" /><CodeLine lineNumber="11821"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">continue</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l11822" /><CodeLine lineNumber="11822"></CodeLine>
<Link id="l11823" /><CodeLine lineNumber="11823"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> ArgHasUses = !Arg.use&#95;empty();</span></CodeLine>
<Link id="l11824" /><CodeLine lineNumber="11824"></CodeLine>
<Link id="l11825" /><CodeLine lineNumber="11825"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Elide the copying store if the target loaded this argument from a</span></CodeLine>
<Link id="l11826" /><CodeLine lineNumber="11826"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// suitable fixed stack object.</span></CodeLine>
<Link id="l11827" /><CodeLine lineNumber="11827"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Ins&#91;i&#93;.<a href="/docs/api/namespaces/anonymous-textstubv5-cpp-/#ad2f3f81faa370c8bf9a1f81612c90adfab74797a67aabe2a47afe04d0a92997a0">Flags</a>.isCopyElisionCandidate()) &#123;</span></CodeLine>
<Link id="l11828" /><CodeLine lineNumber="11828"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumParts = 0;</span></CodeLine>
<Link id="l11829" /><CodeLine lineNumber="11829"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (EVT VT : ValueVTs)</span></CodeLine>
<Link id="l11830" /><CodeLine lineNumber="11830"><span class="doxyHighlight">        NumParts += <a href="/docs/api/classes/llvm/selectiondagisel/#a1ed864be04c93653277b0f5112a4f305">TLI</a>-&gt;getNumRegistersForCallingConv(&#42;<a href="/docs/api/classes/llvm/selectiondagisel/#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;getContext(),</span></CodeLine>
<Link id="l11831" /><CodeLine lineNumber="11831"><span class="doxyHighlight">                                                       <a href="/docs/api/files/lib/lib/support/md5-cpp/#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getCallingConv(), VT);</span></CodeLine>
<Link id="l11832" /><CodeLine lineNumber="11832"></CodeLine>
<Link id="l11833" /><CodeLine lineNumber="11833"><span class="doxyHighlight">      <a href="#ae8ee5af33e0f1b85755cf5a1e4951793">tryToElideArgumentCopy</a>(&#42;<a href="/docs/api/classes/llvm/selectiondagisel/#a024d81db0692653f69a019d1c973ebd0">FuncInfo</a>, Chains, ArgCopyElisionFrameIndexMap,</span></CodeLine>
<Link id="l11834" /><CodeLine lineNumber="11834"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagisel/#a02a4526d9242966b370ec554375639de">ElidedArgCopyInstrs</a>, ArgCopyElisionCandidates, Arg,</span></CodeLine>
<Link id="l11835" /><CodeLine lineNumber="11835"><span class="doxyHighlight">                             <a href="/docs/api/namespaces/llvm/#ab9c6b351507d3c0730f4290919d43a12">ArrayRef</a>(&amp;InVals&#91;i&#93;, NumParts), ArgHasUses);</span></CodeLine>
<Link id="l11836" /><CodeLine lineNumber="11836"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l11837" /><CodeLine lineNumber="11837"></CodeLine>
<Link id="l11838" /><CodeLine lineNumber="11838"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// If this argument is unused then remember its value. It is used to generate</span></CodeLine>
<Link id="l11839" /><CodeLine lineNumber="11839"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// debugging information.</span></CodeLine>
<Link id="l11840" /><CodeLine lineNumber="11840"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> isSwiftErrorArg =</span></CodeLine>
<Link id="l11841" /><CodeLine lineNumber="11841"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagisel/#a1ed864be04c93653277b0f5112a4f305">TLI</a>-&gt;supportSwiftError() &amp;&amp;</span></CodeLine>
<Link id="l11842" /><CodeLine lineNumber="11842"><span class="doxyHighlight">        Arg.hasAttribute(Attribute::SwiftError);</span></CodeLine>
<Link id="l11843" /><CodeLine lineNumber="11843"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!ArgHasUses &amp;&amp; !isSwiftErrorArg) &#123;</span></CodeLine>
<Link id="l11844" /><CodeLine lineNumber="11844"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagisel/#ac3f55f401d370bf1ba6759d32d53ec2d">SDB</a>-&gt;setUnusedArgValue(&amp;Arg, InVals&#91;i&#93;);</span></CodeLine>
<Link id="l11845" /><CodeLine lineNumber="11845"></CodeLine>
<Link id="l11846" /><CodeLine lineNumber="11846"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Also remember any frame index for use in FastISel.</span></CodeLine>
<Link id="l11847" /><CodeLine lineNumber="11847"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (FrameIndexSDNode &#42;FI =</span></CodeLine>
<Link id="l11848" /><CodeLine lineNumber="11848"><span class="doxyHighlight">          <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;FrameIndexSDNode&gt;</a>(InVals&#91;i&#93;.<a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/lib/target/amdgpu/utils/amdgpudelayedmcexpr-cpp/#a3b9e43a5529fa7d4adb2bad70198c9bd">getNode</a>()))</span></CodeLine>
<Link id="l11849" /><CodeLine lineNumber="11849"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagisel/#a024d81db0692653f69a019d1c973ebd0">FuncInfo</a>-&gt;setArgumentFrameIndex(&amp;Arg, FI-&gt;getIndex());</span></CodeLine>
<Link id="l11850" /><CodeLine lineNumber="11850"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l11851" /><CodeLine lineNumber="11851"></CodeLine>
<Link id="l11852" /><CodeLine lineNumber="11852"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> Val = 0; Val != NumValues; ++Val) &#123;</span></CodeLine>
<Link id="l11853" /><CodeLine lineNumber="11853"><span class="doxyHighlight">      EVT VT = ValueVTs&#91;Val&#93;;</span></CodeLine>
<Link id="l11854" /><CodeLine lineNumber="11854"><span class="doxyHighlight">      MVT PartVT = <a href="/docs/api/classes/llvm/selectiondagisel/#a1ed864be04c93653277b0f5112a4f305">TLI</a>-&gt;getRegisterTypeForCallingConv(&#42;<a href="/docs/api/classes/llvm/selectiondagisel/#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;getContext(),</span></CodeLine>
<Link id="l11855" /><CodeLine lineNumber="11855"><span class="doxyHighlight">                                                      <a href="/docs/api/files/lib/lib/support/md5-cpp/#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getCallingConv(), VT);</span></CodeLine>
<Link id="l11856" /><CodeLine lineNumber="11856"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumParts = <a href="/docs/api/classes/llvm/selectiondagisel/#a1ed864be04c93653277b0f5112a4f305">TLI</a>-&gt;getNumRegistersForCallingConv(</span></CodeLine>
<Link id="l11857" /><CodeLine lineNumber="11857"><span class="doxyHighlight">          &#42;<a href="/docs/api/classes/llvm/selectiondagisel/#a2b37615f95f3e2fdd5564188c0965132">CurDAG</a>-&gt;getContext(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getCallingConv(), VT);</span></CodeLine>
<Link id="l11858" /><CodeLine lineNumber="11858"></CodeLine>
<Link id="l11859" /><CodeLine lineNumber="11859"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Even an apparent &#39;unused&#39; swifterror argument needs to be returned. So</span></CodeLine>
<Link id="l11860" /><CodeLine lineNumber="11860"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// we do generate a copy for it that can be used on return from the</span></CodeLine>
<Link id="l11861" /><CodeLine lineNumber="11861"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// function.</span></CodeLine>
<Link id="l11862" /><CodeLine lineNumber="11862"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (ArgHasUses || isSwiftErrorArg) &#123;</span></CodeLine>
<Link id="l11863" /><CodeLine lineNumber="11863"><span class="doxyHighlight">        std::optional&lt;ISD::NodeType&gt; AssertOp;</span></CodeLine>
<Link id="l11864" /><CodeLine lineNumber="11864"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Arg.hasAttribute(Attribute::SExt))</span></CodeLine>
<Link id="l11865" /><CodeLine lineNumber="11865"><span class="doxyHighlight">          AssertOp = <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110aee4f13218bdbb5c5697f7e786618ecb2">ISD::AssertSext</a>;</span></CodeLine>
<Link id="l11866" /><CodeLine lineNumber="11866"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Arg.hasAttribute(Attribute::ZExt))</span></CodeLine>
<Link id="l11867" /><CodeLine lineNumber="11867"><span class="doxyHighlight">          AssertOp = <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110af23301e60475124fd80a2cb51f6ba863">ISD::AssertZext</a>;</span></CodeLine>
<Link id="l11868" /><CodeLine lineNumber="11868"></CodeLine>
<Link id="l11869" /><CodeLine lineNumber="11869"><span class="doxyHighlight">        ArgValues.<a href="/docs/api/classes/llvm/smallvectortemplatebase/#af42bfbc067df27c19ee2fc859df58799">push&#95;back</a>(<a href="#acb8cf9e50c3979193572ea36f327d0a4">getCopyFromParts</a>(DAG, dl, &amp;InVals&#91;i&#93;, NumParts,</span></CodeLine>
<Link id="l11870" /><CodeLine lineNumber="11870"><span class="doxyHighlight">                                             PartVT, VT, </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">, NewRoot,</span></CodeLine>
<Link id="l11871" /><CodeLine lineNumber="11871"><span class="doxyHighlight">                                             <a href="/docs/api/files/lib/lib/support/md5-cpp/#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getCallingConv(), AssertOp));</span></CodeLine>
<Link id="l11872" /><CodeLine lineNumber="11872"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l11873" /><CodeLine lineNumber="11873"></CodeLine>
<Link id="l11874" /><CodeLine lineNumber="11874"><span class="doxyHighlight">      i += NumParts;</span></CodeLine>
<Link id="l11875" /><CodeLine lineNumber="11875"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l11876" /><CodeLine lineNumber="11876"></CodeLine>
<Link id="l11877" /><CodeLine lineNumber="11877"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// We don&#39;t need to do anything else for unused arguments.</span></CodeLine>
<Link id="l11878" /><CodeLine lineNumber="11878"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (ArgValues.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#ad9a3c7bc26b130377bbafc170b5f88a2">empty</a>())</span></CodeLine>
<Link id="l11879" /><CodeLine lineNumber="11879"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">continue</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l11880" /><CodeLine lineNumber="11880"></CodeLine>
<Link id="l11881" /><CodeLine lineNumber="11881"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Note down frame index.</span></CodeLine>
<Link id="l11882" /><CodeLine lineNumber="11882"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (FrameIndexSDNode &#42;FI =</span></CodeLine>
<Link id="l11883" /><CodeLine lineNumber="11883"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;FrameIndexSDNode&gt;</a>(ArgValues&#91;0&#93;.<a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/lib/target/amdgpu/utils/amdgpudelayedmcexpr-cpp/#a3b9e43a5529fa7d4adb2bad70198c9bd">getNode</a>()))</span></CodeLine>
<Link id="l11884" /><CodeLine lineNumber="11884"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagisel/#a024d81db0692653f69a019d1c973ebd0">FuncInfo</a>-&gt;setArgumentFrameIndex(&amp;Arg, FI-&gt;getIndex());</span></CodeLine>
<Link id="l11885" /><CodeLine lineNumber="11885"></CodeLine>
<Link id="l11886" /><CodeLine lineNumber="11886"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Res = DAG.<a href="/docs/api/classes/llvm/selectiondag/#a193d4ea30b27a0c86550ae249eefaeaa">getMergeValues</a>(<a href="/docs/api/namespaces/llvm/#ab9c6b351507d3c0730f4290919d43a12">ArrayRef</a>(ArgValues.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#a7b68be12c974b6b70bc86062f221a344">data</a>(), NumValues),</span></CodeLine>
<Link id="l11887" /><CodeLine lineNumber="11887"><span class="doxyHighlight">                                     <a href="/docs/api/classes/llvm/selectiondagisel/#ac3f55f401d370bf1ba6759d32d53ec2d">SDB</a>-&gt;getCurSDLoc());</span></CodeLine>
<Link id="l11888" /><CodeLine lineNumber="11888"></CodeLine>
<Link id="l11889" /><CodeLine lineNumber="11889"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagisel/#ac3f55f401d370bf1ba6759d32d53ec2d">SDB</a>-&gt;setValue(&amp;Arg, Res);</span></CodeLine>
<Link id="l11890" /><CodeLine lineNumber="11890"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="/docs/api/classes/llvm/selectiondagisel/#a0ead78650333eefc4d5591ca3db9ed4b">TM</a>.Options.EnableFastISel &amp;&amp; Res.<a href="/docs/api/classes/llvm/sdvalue/#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a41bd84b853e2c03fb1af1f4ca9ebdcaf">ISD::BUILD&#95;PAIR</a>) &#123;</span></CodeLine>
<Link id="l11891" /><CodeLine lineNumber="11891"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// We want to associate the argument with the frame index, among</span></CodeLine>
<Link id="l11892" /><CodeLine lineNumber="11892"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// involved operands, that correspond to the lowest address. The</span></CodeLine>
<Link id="l11893" /><CodeLine lineNumber="11893"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// getCopyFromParts function, called earlier, is swapping the order of</span></CodeLine>
<Link id="l11894" /><CodeLine lineNumber="11894"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// the operands to BUILD&#95;PAIR depending on endianness. The result of</span></CodeLine>
<Link id="l11895" /><CodeLine lineNumber="11895"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// that swapping is that the least significant bits of the argument will</span></CodeLine>
<Link id="l11896" /><CodeLine lineNumber="11896"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// be in the first operand of the BUILD&#95;PAIR node, and the most</span></CodeLine>
<Link id="l11897" /><CodeLine lineNumber="11897"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// significant bits will be in the second operand.</span></CodeLine>
<Link id="l11898" /><CodeLine lineNumber="11898"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> LowAddressOp = DAG.<a href="/docs/api/classes/llvm/selectiondag/#a6b442ac8a9fc6147b95ccfb2c3322121">getDataLayout</a>().<a href="/docs/api/classes/llvm/datalayout/#a84c1d72001dd5f34d9a55b3a7bb8a474">isBigEndian</a>() ? 1 : 0;</span></CodeLine>
<Link id="l11899" /><CodeLine lineNumber="11899"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (LoadSDNode &#42;LNode =</span></CodeLine>
<Link id="l11900" /><CodeLine lineNumber="11900"><span class="doxyHighlight">          <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;LoadSDNode&gt;</a>(Res.<a href="/docs/api/classes/llvm/sdvalue/#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(LowAddressOp).<a href="/docs/api/classes/llvm/sdvalue/#a2b08aa629a6326d1a0444ee6d477c39d">getNode</a>()))</span></CodeLine>
<Link id="l11901" /><CodeLine lineNumber="11901"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (FrameIndexSDNode &#42;FI =</span></CodeLine>
<Link id="l11902" /><CodeLine lineNumber="11902"><span class="doxyHighlight">            <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;FrameIndexSDNode&gt;</a>(LNode-&gt;getBasePtr().getNode()))</span></CodeLine>
<Link id="l11903" /><CodeLine lineNumber="11903"><span class="doxyHighlight">          <a href="/docs/api/classes/llvm/selectiondagisel/#a024d81db0692653f69a019d1c973ebd0">FuncInfo</a>-&gt;setArgumentFrameIndex(&amp;Arg, FI-&gt;getIndex());</span></CodeLine>
<Link id="l11904" /><CodeLine lineNumber="11904"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l11905" /><CodeLine lineNumber="11905"></CodeLine>
<Link id="l11906" /><CodeLine lineNumber="11906"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Analyses past this point are naive and don&#39;t expect an assertion.</span></CodeLine>
<Link id="l11907" /><CodeLine lineNumber="11907"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Res.<a href="/docs/api/classes/llvm/sdvalue/#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110af23301e60475124fd80a2cb51f6ba863">ISD::AssertZext</a>)</span></CodeLine>
<Link id="l11908" /><CodeLine lineNumber="11908"><span class="doxyHighlight">      Res = Res.<a href="/docs/api/classes/llvm/sdvalue/#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(0);</span></CodeLine>
<Link id="l11909" /><CodeLine lineNumber="11909"></CodeLine>
<Link id="l11910" /><CodeLine lineNumber="11910"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Update the SwiftErrorVRegDefMap.</span></CodeLine>
<Link id="l11911" /><CodeLine lineNumber="11911"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Res.<a href="/docs/api/classes/llvm/sdvalue/#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a84c47705bcf7271413738ae8bf3871e6">ISD::CopyFromReg</a> &amp;&amp; isSwiftErrorArg) &#123;</span></CodeLine>
<Link id="l11912" /><CodeLine lineNumber="11912"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/mem2reg-cpp/#a6fde3eb6ca09ddf2fd76432176d817bb">Register</a> <a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a359e1ff26f6d466d927a61aae45b05c3">Reg</a> = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;RegisterSDNode&gt;</a>(Res.<a href="/docs/api/classes/llvm/sdvalue/#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1))-&gt;getReg();</span></CodeLine>
<Link id="l11913" /><CodeLine lineNumber="11913"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a359e1ff26f6d466d927a61aae45b05c3">Reg</a>.isVirtual())</span></CodeLine>
<Link id="l11914" /><CodeLine lineNumber="11914"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagisel/#aa2a58f41258e495e96a86d22767d084d">SwiftError</a>-&gt;setCurrentVReg(<a href="/docs/api/classes/llvm/selectiondagisel/#a024d81db0692653f69a019d1c973ebd0">FuncInfo</a>-&gt;MBB, <a href="/docs/api/classes/llvm/selectiondagisel/#aa2a58f41258e495e96a86d22767d084d">SwiftError</a>-&gt;getFunctionArg(),</span></CodeLine>
<Link id="l11915" /><CodeLine lineNumber="11915"><span class="doxyHighlight">                                   <a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a359e1ff26f6d466d927a61aae45b05c3">Reg</a>);</span></CodeLine>
<Link id="l11916" /><CodeLine lineNumber="11916"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l11917" /><CodeLine lineNumber="11917"></CodeLine>
<Link id="l11918" /><CodeLine lineNumber="11918"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// If this argument is live outside of the entry block, insert a copy from</span></CodeLine>
<Link id="l11919" /><CodeLine lineNumber="11919"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// wherever we got it to the vreg that other BB&#39;s will reference it as.</span></CodeLine>
<Link id="l11920" /><CodeLine lineNumber="11920"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Res.<a href="/docs/api/classes/llvm/sdvalue/#ae779a9d142e6318d8fb0e4f0da32af0f">getOpcode</a>() == <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a84c47705bcf7271413738ae8bf3871e6">ISD::CopyFromReg</a>) &#123;</span></CodeLine>
<Link id="l11921" /><CodeLine lineNumber="11921"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// If we can, though, try to skip creating an unnecessary vreg.</span></CodeLine>
<Link id="l11922" /><CodeLine lineNumber="11922"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// FIXME: This isn&#39;t very clean... it would be nice to make this more</span></CodeLine>
<Link id="l11923" /><CodeLine lineNumber="11923"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// general.</span></CodeLine>
<Link id="l11924" /><CodeLine lineNumber="11924"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/mem2reg-cpp/#a6fde3eb6ca09ddf2fd76432176d817bb">Register</a> <a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a359e1ff26f6d466d927a61aae45b05c3">Reg</a> = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;RegisterSDNode&gt;</a>(Res.<a href="/docs/api/classes/llvm/sdvalue/#a977e54da724d62e7b08e2ad69723731e">getOperand</a>(1))-&gt;getReg();</span></CodeLine>
<Link id="l11925" /><CodeLine lineNumber="11925"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a359e1ff26f6d466d927a61aae45b05c3">Reg</a>.isVirtual()) &#123;</span></CodeLine>
<Link id="l11926" /><CodeLine lineNumber="11926"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagisel/#a024d81db0692653f69a019d1c973ebd0">FuncInfo</a>-&gt;ValueMap&#91;&amp;Arg&#93; = <a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a359e1ff26f6d466d927a61aae45b05c3">Reg</a>;</span></CodeLine>
<Link id="l11927" /><CodeLine lineNumber="11927"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">continue</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l11928" /><CodeLine lineNumber="11928"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l11929" /><CodeLine lineNumber="11929"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l11930" /><CodeLine lineNumber="11930"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="#a97acf4298b4ca1010c06af4741609a89">isOnlyUsedInEntryBlock</a>(&amp;Arg, <a href="/docs/api/classes/llvm/selectiondagisel/#a0ead78650333eefc4d5591ca3db9ed4b">TM</a>.Options.EnableFastISel)) &#123;</span></CodeLine>
<Link id="l11931" /><CodeLine lineNumber="11931"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagisel/#a024d81db0692653f69a019d1c973ebd0">FuncInfo</a>-&gt;InitializeRegForValue(&amp;Arg);</span></CodeLine>
<Link id="l11932" /><CodeLine lineNumber="11932"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagisel/#ac3f55f401d370bf1ba6759d32d53ec2d">SDB</a>-&gt;CopyToExportRegsIfNeeded(&amp;Arg);</span></CodeLine>
<Link id="l11933" /><CodeLine lineNumber="11933"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l11934" /><CodeLine lineNumber="11934"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l11935" /><CodeLine lineNumber="11935"></CodeLine>
<Link id="l11936" /><CodeLine lineNumber="11936"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!Chains.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#ad9a3c7bc26b130377bbafc170b5f88a2">empty</a>()) &#123;</span></CodeLine>
<Link id="l11937" /><CodeLine lineNumber="11937"><span class="doxyHighlight">    Chains.<a href="/docs/api/classes/llvm/smallvectortemplatebase/#af42bfbc067df27c19ee2fc859df58799">push&#95;back</a>(NewRoot);</span></CodeLine>
<Link id="l11938" /><CodeLine lineNumber="11938"><span class="doxyHighlight">    NewRoot = DAG.<a href="/docs/api/classes/llvm/selectiondag/#abad5b17501ce8972fb04a149611e7177">getNode</a>(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110ad469508535ce2082a1ab1f0e429187b8">ISD::TokenFactor</a>, dl, MVT::Other, Chains);</span></CodeLine>
<Link id="l11939" /><CodeLine lineNumber="11939"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l11940" /><CodeLine lineNumber="11940"></CodeLine>
<Link id="l11941" /><CodeLine lineNumber="11941"><span class="doxyHighlight">  DAG.<a href="/docs/api/classes/llvm/selectiondag/#ae0fc3f54d06d2230bf93a19d45f51706">setRoot</a>(NewRoot);</span></CodeLine>
<Link id="l11942" /><CodeLine lineNumber="11942"></CodeLine>
<Link id="l11943" /><CodeLine lineNumber="11943"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(i == InVals.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#a1c479a8c434377c2b8cb056bdfdfc201">size</a>() &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Argument register count mismatch!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l11944" /><CodeLine lineNumber="11944"></CodeLine>
<Link id="l11945" /><CodeLine lineNumber="11945"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// If any argument copy elisions occurred and we have debug info, update the</span></CodeLine>
<Link id="l11946" /><CodeLine lineNumber="11946"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// stale frame indices used in the dbg.declare variable info table.</span></CodeLine>
<Link id="l11947" /><CodeLine lineNumber="11947"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!ArgCopyElisionFrameIndexMap.<a href="/docs/api/classes/llvm/densemapbase/#a49c487a9395a6c384be8544cfb2cfccf">empty</a>()) &#123;</span></CodeLine>
<Link id="l11948" /><CodeLine lineNumber="11948"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (MachineFunction::VariableDbgInfo &amp;VI :</span></CodeLine>
<Link id="l11949" /><CodeLine lineNumber="11949"><span class="doxyHighlight">         <a href="/docs/api/classes/llvm/selectiondagisel/#a23107e32342f5488a5edfa71aff54700">MF</a>-&gt;getInStackSlotVariableDbgInfo()) &#123;</span></CodeLine>
<Link id="l11950" /><CodeLine lineNumber="11950"><span class="doxyHighlight">      </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a> = ArgCopyElisionFrameIndexMap.<a href="/docs/api/classes/llvm/densemapbase/#a0c047f127ed4380a6f383d70bec4eb94">find</a>(<a href="/docs/api/namespaces/llvm/siencodingfamily/#ac0e8470f1a7e777b89ff85c06a5d46e0a4a23b2b2d70dd9f7a94a1215e62cb0a0">VI</a>.getStackSlot());</span></CodeLine>
<Link id="l11951" /><CodeLine lineNumber="11951"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a> != ArgCopyElisionFrameIndexMap.<a href="/docs/api/classes/llvm/densemapbase/#a65520b9c67759099e313d0f4e7b5ff9e">end</a>())</span></CodeLine>
<Link id="l11952" /><CodeLine lineNumber="11952"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/siencodingfamily/#ac0e8470f1a7e777b89ff85c06a5d46e0a4a23b2b2d70dd9f7a94a1215e62cb0a0">VI</a>.updateStackSlot(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second);</span></CodeLine>
<Link id="l11953" /><CodeLine lineNumber="11953"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l11954" /><CodeLine lineNumber="11954"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l11955" /><CodeLine lineNumber="11955"></CodeLine>
<Link id="l11956" /><CodeLine lineNumber="11956"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Finally, if the target has anything special to do, allow it to do so.</span></CodeLine>
<Link id="l11957" /><CodeLine lineNumber="11957"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagisel/#a76ff42094a0a48132c4719d8acf65851">emitFunctionEntryCode</a>();</span></CodeLine>
<Link id="l11958" /><CodeLine lineNumber="11958"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l11959" /><CodeLine lineNumber="11959"></CodeLine>
<Link id="l11960" /><CodeLine lineNumber="11960"><span class="doxyHighlightComment">/// Handle PHI nodes in successor blocks.  Emit code into the SelectionDAG to</span></CodeLine>
<Link id="l11961" /><CodeLine lineNumber="11961"><span class="doxyHighlightComment">/// ensure constants are generated when needed.  Remember the virtual registers</span></CodeLine>
<Link id="l11962" /><CodeLine lineNumber="11962"><span class="doxyHighlightComment">/// that need to be added to the Machine PHI nodes as input.  We cannot just</span></CodeLine>
<Link id="l11963" /><CodeLine lineNumber="11963"><span class="doxyHighlightComment">/// directly add them, because expansion might result in multiple MBB&#39;s for one</span></CodeLine>
<Link id="l11964" /><CodeLine lineNumber="11964"><span class="doxyHighlightComment">/// BB.  As such, the start of the BB might correspond to a different MBB than</span></CodeLine>
<Link id="l11965" /><CodeLine lineNumber="11965"><span class="doxyHighlightComment">/// the end.</span></CodeLine>
<Link id="l11966" /><CodeLine lineNumber="11966"><span class="doxyHighlightKeywordType">void</span></CodeLine>
<Link id="l11967" /><CodeLine lineNumber="11967"><span class="doxyHighlight">SelectionDAGBuilder::HandlePHINodesInSuccessorBlocks(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42;LLVMBB) &#123;</span></CodeLine>
<Link id="l11968" /><CodeLine lineNumber="11968"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> TargetLowering &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l11969" /><CodeLine lineNumber="11969"></CodeLine>
<Link id="l11970" /><CodeLine lineNumber="11970"><span class="doxyHighlight">  SmallPtrSet&lt;MachineBasicBlock &#42;, 4&gt; SuccsHandled;</span></CodeLine>
<Link id="l11971" /><CodeLine lineNumber="11971"></CodeLine>
<Link id="l11972" /><CodeLine lineNumber="11972"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Check PHI nodes in successors that expect a value to be available from this</span></CodeLine>
<Link id="l11973" /><CodeLine lineNumber="11973"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// block.</span></CodeLine>
<Link id="l11974" /><CodeLine lineNumber="11974"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> BasicBlock &#42;SuccBB : <a href="/docs/api/namespaces/llvm/#a26e2a938b431eaa6eca2beaa96410c9d">successors</a>(LLVMBB-&gt;<a href="/docs/api/classes/llvm/basicblock/#aef9e9fcf4c5dfce90276ca16d91b8e46">getTerminator</a>())) &#123;</span></CodeLine>
<Link id="l11975" /><CodeLine lineNumber="11975"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!<a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;PHINode&gt;</a>(SuccBB-&gt;begin())) </span><span class="doxyHighlightKeywordFlow">continue</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l11976" /><CodeLine lineNumber="11976"><span class="doxyHighlight">    MachineBasicBlock &#42;SuccMBB = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.getMBB(SuccBB);</span></CodeLine>
<Link id="l11977" /><CodeLine lineNumber="11977"></CodeLine>
<Link id="l11978" /><CodeLine lineNumber="11978"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// If this terminator has multiple identical successors (common for</span></CodeLine>
<Link id="l11979" /><CodeLine lineNumber="11979"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// switches), only handle each succ once.</span></CodeLine>
<Link id="l11980" /><CodeLine lineNumber="11980"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!SuccsHandled.<a href="/docs/api/classes/llvm/smallptrsetimpl/#a9d834ae3da8c62c2b668dada51335eb0">insert</a>(SuccMBB).second)</span></CodeLine>
<Link id="l11981" /><CodeLine lineNumber="11981"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">continue</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l11982" /><CodeLine lineNumber="11982"></CodeLine>
<Link id="l11983" /><CodeLine lineNumber="11983"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/machinebasicblock/#ae34c996b58df9b9ce6695a0c8b70c533">MachineBasicBlock::iterator</a> <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a> = SuccMBB-&gt;<a href="/docs/api/classes/llvm/machinebasicblock/#ab2d91e7bec944efcbc39d8e30644f111">begin</a>();</span></CodeLine>
<Link id="l11984" /><CodeLine lineNumber="11984"></CodeLine>
<Link id="l11985" /><CodeLine lineNumber="11985"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// At this point we know that there is a 1-1 correspondence between LLVM PHI</span></CodeLine>
<Link id="l11986" /><CodeLine lineNumber="11986"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// nodes and Machine PHI nodes, but the incoming operands have not been</span></CodeLine>
<Link id="l11987" /><CodeLine lineNumber="11987"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// emitted yet.</span></CodeLine>
<Link id="l11988" /><CodeLine lineNumber="11988"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> PHINode &amp;PN : SuccBB-&gt;phis()) &#123;</span></CodeLine>
<Link id="l11989" /><CodeLine lineNumber="11989"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Ignore dead phi&#39;s.</span></CodeLine>
<Link id="l11990" /><CodeLine lineNumber="11990"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (PN.use&#95;empty())</span></CodeLine>
<Link id="l11991" /><CodeLine lineNumber="11991"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">continue</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l11992" /><CodeLine lineNumber="11992"></CodeLine>
<Link id="l11993" /><CodeLine lineNumber="11993"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Skip empty types</span></CodeLine>
<Link id="l11994" /><CodeLine lineNumber="11994"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (PN.getType()-&gt;isEmptyTy())</span></CodeLine>
<Link id="l11995" /><CodeLine lineNumber="11995"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">continue</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l11996" /><CodeLine lineNumber="11996"></CodeLine>
<Link id="l11997" /><CodeLine lineNumber="11997"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> <a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a359e1ff26f6d466d927a61aae45b05c3">Reg</a>;</span></CodeLine>
<Link id="l11998" /><CodeLine lineNumber="11998"><span class="doxyHighlight">      </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;PHIOp = PN.getIncomingValueForBlock(LLVMBB);</span></CodeLine>
<Link id="l11999" /><CodeLine lineNumber="11999"></CodeLine>
<Link id="l12000" /><CodeLine lineNumber="12000"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;<a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a> = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;Constant&gt;</a>(PHIOp)) &#123;</span></CodeLine>
<Link id="l12001" /><CodeLine lineNumber="12001"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> &amp;RegOut = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a7bdfdf9731f7e5501dea5dd410ebf9ef">ConstantsOut</a>&#91;<a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a>&#93;;</span></CodeLine>
<Link id="l12002" /><CodeLine lineNumber="12002"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (RegOut == 0) &#123;</span></CodeLine>
<Link id="l12003" /><CodeLine lineNumber="12003"><span class="doxyHighlight">          RegOut = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.CreateRegs(<a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a>);</span></CodeLine>
<Link id="l12004" /><CodeLine lineNumber="12004"><span class="doxyHighlight">          </span><span class="doxyHighlightComment">// We need to zero/sign extend ConstantInt phi operands to match</span></CodeLine>
<Link id="l12005" /><CodeLine lineNumber="12005"><span class="doxyHighlight">          </span><span class="doxyHighlightComment">// assumptions in FunctionLoweringInfo::ComputePHILiveOutRegInfo.</span></CodeLine>
<Link id="l12006" /><CodeLine lineNumber="12006"><span class="doxyHighlight">          <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110">ISD::NodeType</a> ExtendType = <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a27d5d8ef82302b739ba3ca8be1a5513d">ISD::ANY&#95;EXTEND</a>;</span></CodeLine>
<Link id="l12007" /><CodeLine lineNumber="12007"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;CI = <a href="/docs/api/namespaces/llvm/#a22eeee01734061ac1b31ccd994c49eef">dyn&#95;cast&lt;ConstantInt&gt;</a>(<a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a>))</span></CodeLine>
<Link id="l12008" /><CodeLine lineNumber="12008"><span class="doxyHighlight">            ExtendType = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#abfb7e47fcae1e6162074daa8925bfdf7">signExtendConstant</a>(CI) ? <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a5183f3d72924bc7c77ba8d3f5de9f602">ISD::SIGN&#95;EXTEND</a></span></CodeLine>
<Link id="l12009" /><CodeLine lineNumber="12009"><span class="doxyHighlight">                                                    : <a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">ISD::ZERO&#95;EXTEND</a>;</span></CodeLine>
<Link id="l12010" /><CodeLine lineNumber="12010"><span class="doxyHighlight">          <a href="/docs/api/classes/llvm/selectiondagbuilder/#a5184df56e270750a839acad50a1b8501">CopyValueToVirtualRegister</a>(<a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a>, RegOut, ExtendType);</span></CodeLine>
<Link id="l12011" /><CodeLine lineNumber="12011"><span class="doxyHighlight">        &#125;</span></CodeLine>
<Link id="l12012" /><CodeLine lineNumber="12012"><span class="doxyHighlight">        <a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a359e1ff26f6d466d927a61aae45b05c3">Reg</a> = RegOut;</span></CodeLine>
<Link id="l12013" /><CodeLine lineNumber="12013"><span class="doxyHighlight">      &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l12014" /><CodeLine lineNumber="12014"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/densemapbase/#a214e872d61db2ea8cb023f127cafd0b9">DenseMap&lt;const Value &#42;, Register&gt;::iterator</a> <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a> =</span></CodeLine>
<Link id="l12015" /><CodeLine lineNumber="12015"><span class="doxyHighlight">          <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.ValueMap.find(PHIOp);</span></CodeLine>
<Link id="l12016" /><CodeLine lineNumber="12016"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.ValueMap.end())</span></CodeLine>
<Link id="l12017" /><CodeLine lineNumber="12017"><span class="doxyHighlight">          <a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a359e1ff26f6d466d927a61aae45b05c3">Reg</a> = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second;</span></CodeLine>
<Link id="l12018" /><CodeLine lineNumber="12018"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l12019" /><CodeLine lineNumber="12019"><span class="doxyHighlight">          <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;AllocaInst&gt;</a>(PHIOp) &amp;&amp;</span></CodeLine>
<Link id="l12020" /><CodeLine lineNumber="12020"><span class="doxyHighlight">                 <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.StaticAllocaMap.count(<a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;AllocaInst&gt;</a>(PHIOp)) &amp;&amp;</span></CodeLine>
<Link id="l12021" /><CodeLine lineNumber="12021"><span class="doxyHighlight">                 </span><span class="doxyHighlightStringLiteral">&quot;Didn&#39;t codegen value into a register!??&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l12022" /><CodeLine lineNumber="12022"><span class="doxyHighlight">          <a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a359e1ff26f6d466d927a61aae45b05c3">Reg</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.CreateRegs(PHIOp);</span></CodeLine>
<Link id="l12023" /><CodeLine lineNumber="12023"><span class="doxyHighlight">          <a href="/docs/api/classes/llvm/selectiondagbuilder/#a5184df56e270750a839acad50a1b8501">CopyValueToVirtualRegister</a>(PHIOp, <a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a359e1ff26f6d466d927a61aae45b05c3">Reg</a>);</span></CodeLine>
<Link id="l12024" /><CodeLine lineNumber="12024"><span class="doxyHighlight">        &#125;</span></CodeLine>
<Link id="l12025" /><CodeLine lineNumber="12025"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l12026" /><CodeLine lineNumber="12026"></CodeLine>
<Link id="l12027" /><CodeLine lineNumber="12027"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Remember that this register needs to added to the machine PHI node as</span></CodeLine>
<Link id="l12028" /><CodeLine lineNumber="12028"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// the input for this MBB.</span></CodeLine>
<Link id="l12029" /><CodeLine lineNumber="12029"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;EVT, 4&gt;</a> ValueVTs;</span></CodeLine>
<Link id="l12030" /><CodeLine lineNumber="12030"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/#ab99618b3d8988b758a67f5a1a6071095">ComputeValueVTs</a>(TLI, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), PN.getType(), ValueVTs);</span></CodeLine>
<Link id="l12031" /><CodeLine lineNumber="12031"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (EVT VT : ValueVTs) &#123;</span></CodeLine>
<Link id="l12032" /><CodeLine lineNumber="12032"><span class="doxyHighlight">        </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumRegisters = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a42bf7ed3daec395fe644414494888bc6">getNumRegisters</a>(&#42;<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getContext(), VT);</span></CodeLine>
<Link id="l12033" /><CodeLine lineNumber="12033"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> i = 0; i != NumRegisters; ++i)</span></CodeLine>
<Link id="l12034" /><CodeLine lineNumber="12034"><span class="doxyHighlight">          <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.PHINodesToUpdate.push&#95;back(</span></CodeLine>
<Link id="l12035" /><CodeLine lineNumber="12035"><span class="doxyHighlight">              std::make&#95;pair(&amp;&#42;<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad5f691fdc1a09aaf6df5fef958b35a3d">MBBI</a>++, <a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a359e1ff26f6d466d927a61aae45b05c3">Reg</a> + i));</span></CodeLine>
<Link id="l12036" /><CodeLine lineNumber="12036"><span class="doxyHighlight">        <a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a359e1ff26f6d466d927a61aae45b05c3">Reg</a> += NumRegisters;</span></CodeLine>
<Link id="l12037" /><CodeLine lineNumber="12037"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l12038" /><CodeLine lineNumber="12038"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l12039" /><CodeLine lineNumber="12039"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l12040" /><CodeLine lineNumber="12040"></CodeLine>
<Link id="l12041" /><CodeLine lineNumber="12041"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#a7bdfdf9731f7e5501dea5dd410ebf9ef">ConstantsOut</a>.clear();</span></CodeLine>
<Link id="l12042" /><CodeLine lineNumber="12042"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l12043" /><CodeLine lineNumber="12043"></CodeLine>
<Link id="l12044" /><CodeLine lineNumber="12044"><span class="doxyHighlight"><a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;SelectionDAGBuilder::NextBlock(<a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#a5958512eae2979bd2eb383977996a600">MBB</a>) &#123;</span></CodeLine>
<Link id="l12045" /><CodeLine lineNumber="12045"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/machinefunction/#aaba82c71ffdca966cad10eae0992fff9">MachineFunction::iterator</a> <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>(<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#a5958512eae2979bd2eb383977996a600">MBB</a>);</span></CodeLine>
<Link id="l12046" /><CodeLine lineNumber="12046"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (++<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a> == <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.MF-&gt;end())</span></CodeLine>
<Link id="l12047" /><CodeLine lineNumber="12047"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l12048" /><CodeLine lineNumber="12048"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> &amp;&#42;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</span></CodeLine>
<Link id="l12049" /><CodeLine lineNumber="12049"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l12050" /><CodeLine lineNumber="12050"></CodeLine>
<Link id="l12051" /><CodeLine lineNumber="12051"><span class="doxyHighlightComment">/// During lowering new call nodes can be created (such as memset, etc.).</span></CodeLine>
<Link id="l12052" /><CodeLine lineNumber="12052"><span class="doxyHighlightComment">/// Those will become new roots of the current DAG, but complications arise</span></CodeLine>
<Link id="l12053" /><CodeLine lineNumber="12053"><span class="doxyHighlightComment">/// when they are tail calls. In such cases, the call lowering will update</span></CodeLine>
<Link id="l12054" /><CodeLine lineNumber="12054"><span class="doxyHighlightComment">/// the root, but the builder still needs to know that a tail call has been</span></CodeLine>
<Link id="l12055" /><CodeLine lineNumber="12055"><span class="doxyHighlightComment">/// lowered in order to avoid generating an additional return.</span></CodeLine>
<Link id="l12056" /><CodeLine lineNumber="12056"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::updateDAGForMaybeTailCall(<a href="/docs/api/classes/llvm/sdvalue">SDValue</a> MaybeTC) &#123;</span></CodeLine>
<Link id="l12057" /><CodeLine lineNumber="12057"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// If the node is null, we do have a tail call.</span></CodeLine>
<Link id="l12058" /><CodeLine lineNumber="12058"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (MaybeTC.<a href="/docs/api/classes/llvm/sdvalue/#a2b08aa629a6326d1a0444ee6d477c39d">getNode</a>() != </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">)</span></CodeLine>
<Link id="l12059" /><CodeLine lineNumber="12059"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(MaybeTC);</span></CodeLine>
<Link id="l12060" /><CodeLine lineNumber="12060"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">else</span></CodeLine>
<Link id="l12061" /><CodeLine lineNumber="12061"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#a39e446f1647e793791c33d0d2412d088">HasTailCall</a> = </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l12062" /><CodeLine lineNumber="12062"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l12063" /><CodeLine lineNumber="12063"></CodeLine>
<Link id="l12064" /><CodeLine lineNumber="12064"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::lowerWorkItem(SwitchWorkListItem W, <a href="/docs/api/classes/llvm/value">Value</a> &#42;<a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a193847098793cdbab306803186676899">Cond</a>,</span></CodeLine>
<Link id="l12065" /><CodeLine lineNumber="12065"><span class="doxyHighlight">                                        <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;SwitchMBB,</span></CodeLine>
<Link id="l12066" /><CodeLine lineNumber="12066"><span class="doxyHighlight">                                        <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;DefaultMBB) &#123;</span></CodeLine>
<Link id="l12067" /><CodeLine lineNumber="12067"><span class="doxyHighlight">  MachineFunction &#42;CurMF = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.MF;</span></CodeLine>
<Link id="l12068" /><CodeLine lineNumber="12068"><span class="doxyHighlight">  MachineBasicBlock &#42;NextMBB = </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l12069" /><CodeLine lineNumber="12069"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/machinefunction/#aaba82c71ffdca966cad10eae0992fff9">MachineFunction::iterator</a> BBI(<a href="/docs/api/namespaces/llvm/riscvfencefield/#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.MBB);</span></CodeLine>
<Link id="l12070" /><CodeLine lineNumber="12070"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (++BBI != <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.MF-&gt;end())</span></CodeLine>
<Link id="l12071" /><CodeLine lineNumber="12071"><span class="doxyHighlight">    NextMBB = &amp;&#42;BBI;</span></CodeLine>
<Link id="l12072" /><CodeLine lineNumber="12072"></CodeLine>
<Link id="l12073" /><CodeLine lineNumber="12073"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> <a href="/docs/api/files/lib/lib/analysis/inlineorder-cpp/#a7ee6f0cb51c3b9056199e9a0001fe8c3a6f6cb72d544962fa333e2e34ce64f719">Size</a> = <a href="/docs/api/namespaces/llvm/riscvfencefield/#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.LastCluster - <a href="/docs/api/namespaces/llvm/riscvfencefield/#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.FirstCluster + 1;</span></CodeLine>
<Link id="l12074" /><CodeLine lineNumber="12074"></CodeLine>
<Link id="l12075" /><CodeLine lineNumber="12075"><span class="doxyHighlight">  BranchProbabilityInfo &#42;BPI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.BPI;</span></CodeLine>
<Link id="l12076" /><CodeLine lineNumber="12076"></CodeLine>
<Link id="l12077" /><CodeLine lineNumber="12077"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/analysis/inlineorder-cpp/#a7ee6f0cb51c3b9056199e9a0001fe8c3a6f6cb72d544962fa333e2e34ce64f719">Size</a> == 2 &amp;&amp; <a href="/docs/api/namespaces/llvm/riscvfencefield/#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.MBB == SwitchMBB) &#123;</span></CodeLine>
<Link id="l12078" /><CodeLine lineNumber="12078"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// If any two of the cases has the same destination, and if one value</span></CodeLine>
<Link id="l12079" /><CodeLine lineNumber="12079"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// is the same as the other, but has one bit unset that the other has set,</span></CodeLine>
<Link id="l12080" /><CodeLine lineNumber="12080"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// use bit manipulation to do two compares at once.  For example:</span></CodeLine>
<Link id="l12081" /><CodeLine lineNumber="12081"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// &quot;if (X == 6 || X == 4)&quot; -&gt; &quot;if ((X|2) == 6)&quot;</span></CodeLine>
<Link id="l12082" /><CodeLine lineNumber="12082"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// TODO: This could be extended to merge any 2 cases in switches with 3</span></CodeLine>
<Link id="l12083" /><CodeLine lineNumber="12083"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// cases.</span></CodeLine>
<Link id="l12084" /><CodeLine lineNumber="12084"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// TODO: Handle cases where W.CaseBB != SwitchBB.</span></CodeLine>
<Link id="l12085" /><CodeLine lineNumber="12085"><span class="doxyHighlight">    CaseCluster &amp;<a href="/docs/api/namespaces/llvm/codemodel/#afc59396a9e5809fc92938e203d91a8dfaa2554ef60dc191c6005ba9eecbc9aea0">Small</a> = &#42;<a href="/docs/api/namespaces/llvm/riscvfencefield/#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.FirstCluster;</span></CodeLine>
<Link id="l12086" /><CodeLine lineNumber="12086"><span class="doxyHighlight">    CaseCluster &amp;<a href="/docs/api/namespaces/llvm/ifs/#acc98cdd50c302ff6523294d5413ff4b2ad491538da818a2ba11a3195ba035cfd3">Big</a> = &#42;<a href="/docs/api/namespaces/llvm/riscvfencefield/#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.LastCluster;</span></CodeLine>
<Link id="l12087" /><CodeLine lineNumber="12087"></CodeLine>
<Link id="l12088" /><CodeLine lineNumber="12088"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/codemodel/#afc59396a9e5809fc92938e203d91a8dfaa2554ef60dc191c6005ba9eecbc9aea0">Small</a>.Low == <a href="/docs/api/namespaces/llvm/codemodel/#afc59396a9e5809fc92938e203d91a8dfaa2554ef60dc191c6005ba9eecbc9aea0">Small</a>.High &amp;&amp; <a href="/docs/api/namespaces/llvm/ifs/#acc98cdd50c302ff6523294d5413ff4b2ad491538da818a2ba11a3195ba035cfd3">Big</a>.Low == <a href="/docs/api/namespaces/llvm/ifs/#acc98cdd50c302ff6523294d5413ff4b2ad491538da818a2ba11a3195ba035cfd3">Big</a>.High &amp;&amp;</span></CodeLine>
<Link id="l12089" /><CodeLine lineNumber="12089"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/codemodel/#afc59396a9e5809fc92938e203d91a8dfaa2554ef60dc191c6005ba9eecbc9aea0">Small</a>.MBB == <a href="/docs/api/namespaces/llvm/ifs/#acc98cdd50c302ff6523294d5413ff4b2ad491538da818a2ba11a3195ba035cfd3">Big</a>.MBB) &#123;</span></CodeLine>
<Link id="l12090" /><CodeLine lineNumber="12090"><span class="doxyHighlight">      </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> APInt &amp;SmallValue = <a href="/docs/api/namespaces/llvm/codemodel/#afc59396a9e5809fc92938e203d91a8dfaa2554ef60dc191c6005ba9eecbc9aea0">Small</a>.Low-&gt;getValue();</span></CodeLine>
<Link id="l12091" /><CodeLine lineNumber="12091"><span class="doxyHighlight">      </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> APInt &amp;BigValue = <a href="/docs/api/namespaces/llvm/ifs/#acc98cdd50c302ff6523294d5413ff4b2ad491538da818a2ba11a3195ba035cfd3">Big</a>.Low-&gt;getValue();</span></CodeLine>
<Link id="l12092" /><CodeLine lineNumber="12092"></CodeLine>
<Link id="l12093" /><CodeLine lineNumber="12093"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Check that there is only one bit different.</span></CodeLine>
<Link id="l12094" /><CodeLine lineNumber="12094"><span class="doxyHighlight">      APInt CommonBit = BigValue ^ SmallValue;</span></CodeLine>
<Link id="l12095" /><CodeLine lineNumber="12095"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (CommonBit.<a href="/docs/api/classes/llvm/apint/#ad1b0513de876d1c85cf6268ca21b2c86">isPowerOf2</a>()) &#123;</span></CodeLine>
<Link id="l12096" /><CodeLine lineNumber="12096"><span class="doxyHighlight">        <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> CondLHS = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a193847098793cdbab306803186676899">Cond</a>);</span></CodeLine>
<Link id="l12097" /><CodeLine lineNumber="12097"><span class="doxyHighlight">        EVT VT = CondLHS.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>();</span></CodeLine>
<Link id="l12098" /><CodeLine lineNumber="12098"><span class="doxyHighlight">        SDLoc <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>();</span></CodeLine>
<Link id="l12099" /><CodeLine lineNumber="12099"></CodeLine>
<Link id="l12100" /><CodeLine lineNumber="12100"><span class="doxyHighlight">        <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/#aac36edd0f1ce976f0025c98e88d3830ea3a2d5fe857d8f9541136a124c2edec6c">Or</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, CondLHS,</span></CodeLine>
<Link id="l12101" /><CodeLine lineNumber="12101"><span class="doxyHighlight">                                 <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getConstant(CommonBit, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT));</span></CodeLine>
<Link id="l12102" /><CodeLine lineNumber="12102"><span class="doxyHighlight">        <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a193847098793cdbab306803186676899">Cond</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSetCC(</span></CodeLine>
<Link id="l12103" /><CodeLine lineNumber="12103"><span class="doxyHighlight">            <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, MVT::i1, <a href="/docs/api/namespaces/llvm/#aac36edd0f1ce976f0025c98e88d3830ea3a2d5fe857d8f9541136a124c2edec6c">Or</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getConstant(BigValue | SmallValue, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT),</span></CodeLine>
<Link id="l12104" /><CodeLine lineNumber="12104"><span class="doxyHighlight">            <a href="/docs/api/namespaces/llvm/isd/#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a>);</span></CodeLine>
<Link id="l12105" /><CodeLine lineNumber="12105"></CodeLine>
<Link id="l12106" /><CodeLine lineNumber="12106"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// Update successor info.</span></CodeLine>
<Link id="l12107" /><CodeLine lineNumber="12107"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// Both Small and Big will jump to Small.BB, so we sum up the</span></CodeLine>
<Link id="l12108" /><CodeLine lineNumber="12108"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// probabilities.</span></CodeLine>
<Link id="l12109" /><CodeLine lineNumber="12109"><span class="doxyHighlight">        addSuccessorWithProb(SwitchMBB, <a href="/docs/api/namespaces/llvm/codemodel/#afc59396a9e5809fc92938e203d91a8dfaa2554ef60dc191c6005ba9eecbc9aea0">Small</a>.MBB, <a href="/docs/api/namespaces/llvm/codemodel/#afc59396a9e5809fc92938e203d91a8dfaa2554ef60dc191c6005ba9eecbc9aea0">Small</a>.Prob + <a href="/docs/api/namespaces/llvm/ifs/#acc98cdd50c302ff6523294d5413ff4b2ad491538da818a2ba11a3195ba035cfd3">Big</a>.Prob);</span></CodeLine>
<Link id="l12110" /><CodeLine lineNumber="12110"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (BPI)</span></CodeLine>
<Link id="l12111" /><CodeLine lineNumber="12111"><span class="doxyHighlight">          addSuccessorWithProb(</span></CodeLine>
<Link id="l12112" /><CodeLine lineNumber="12112"><span class="doxyHighlight">              SwitchMBB, DefaultMBB,</span></CodeLine>
<Link id="l12113" /><CodeLine lineNumber="12113"><span class="doxyHighlight">              </span><span class="doxyHighlightComment">// The default destination is the first successor in IR.</span></CodeLine>
<Link id="l12114" /><CodeLine lineNumber="12114"><span class="doxyHighlight">              BPI-&gt;<a href="/docs/api/classes/llvm/branchprobabilityinfo/#a46502d648608aa13cb485ed4af447d88">getEdgeProbability</a>(SwitchMBB-&gt;<a href="/docs/api/classes/llvm/machinebasicblock/#a4874816314c3308be0bf1e71de2078d8">getBasicBlock</a>(), (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight">)0));</span></CodeLine>
<Link id="l12115" /><CodeLine lineNumber="12115"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">else</span></CodeLine>
<Link id="l12116" /><CodeLine lineNumber="12116"><span class="doxyHighlight">          addSuccessorWithProb(SwitchMBB, DefaultMBB);</span></CodeLine>
<Link id="l12117" /><CodeLine lineNumber="12117"></CodeLine>
<Link id="l12118" /><CodeLine lineNumber="12118"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// Insert the true branch.</span></CodeLine>
<Link id="l12119" /><CodeLine lineNumber="12119"><span class="doxyHighlight">        <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> BrCond =</span></CodeLine>
<Link id="l12120" /><CodeLine lineNumber="12120"><span class="doxyHighlight">            <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::BRCOND, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, MVT::Other, <a href="/docs/api/classes/llvm/selectiondagbuilder/#aef34360e8bb4bdecf3fd6345ff504f81">getControlRoot</a>(), <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a193847098793cdbab306803186676899">Cond</a>,</span></CodeLine>
<Link id="l12121" /><CodeLine lineNumber="12121"><span class="doxyHighlight">                        <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getBasicBlock(<a href="/docs/api/namespaces/llvm/codemodel/#afc59396a9e5809fc92938e203d91a8dfaa2554ef60dc191c6005ba9eecbc9aea0">Small</a>.MBB));</span></CodeLine>
<Link id="l12122" /><CodeLine lineNumber="12122"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// Insert the false branch.</span></CodeLine>
<Link id="l12123" /><CodeLine lineNumber="12123"><span class="doxyHighlight">        BrCond = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::BR, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, MVT::Other, BrCond,</span></CodeLine>
<Link id="l12124" /><CodeLine lineNumber="12124"><span class="doxyHighlight">                             <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getBasicBlock(DefaultMBB));</span></CodeLine>
<Link id="l12125" /><CodeLine lineNumber="12125"></CodeLine>
<Link id="l12126" /><CodeLine lineNumber="12126"><span class="doxyHighlight">        <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(BrCond);</span></CodeLine>
<Link id="l12127" /><CodeLine lineNumber="12127"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l12128" /><CodeLine lineNumber="12128"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l12129" /><CodeLine lineNumber="12129"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l12130" /><CodeLine lineNumber="12130"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l12131" /><CodeLine lineNumber="12131"></CodeLine>
<Link id="l12132" /><CodeLine lineNumber="12132"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (TM.getOptLevel() != <a href="/docs/api/namespaces/llvm/#a8ec1bf8d7b792ca9fac56f8514db18d2a6adf97f83acf6453d4a6a4b1070f3754">CodeGenOptLevel::None</a>) &#123;</span></CodeLine>
<Link id="l12133" /><CodeLine lineNumber="12133"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Here, we order cases by probability so the most likely case will be</span></CodeLine>
<Link id="l12134" /><CodeLine lineNumber="12134"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// checked first. However, two clusters can have the same probability in</span></CodeLine>
<Link id="l12135" /><CodeLine lineNumber="12135"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// which case their relative ordering is non-deterministic. So we use Low</span></CodeLine>
<Link id="l12136" /><CodeLine lineNumber="12136"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// as a tie-breaker as clusters are guaranteed to never overlap.</span></CodeLine>
<Link id="l12137" /><CodeLine lineNumber="12137"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/#a74cdbd1e4f731e7d7cd83461b8b1de0b">llvm::sort</a>(<a href="/docs/api/namespaces/llvm/riscvfencefield/#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.FirstCluster, <a href="/docs/api/namespaces/llvm/riscvfencefield/#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.LastCluster + 1,</span></CodeLine>
<Link id="l12138" /><CodeLine lineNumber="12138"><span class="doxyHighlight">               &#91;&#93;(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> CaseCluster &amp;a, </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> CaseCluster &amp;b) &#123;</span></CodeLine>
<Link id="l12139" /><CodeLine lineNumber="12139"><span class="doxyHighlight">      return a.Prob != b.Prob ?</span></CodeLine>
<Link id="l12140" /><CodeLine lineNumber="12140"><span class="doxyHighlight">             a.Prob &gt; b.Prob :</span></CodeLine>
<Link id="l12141" /><CodeLine lineNumber="12141"><span class="doxyHighlight">             a.Low-&gt;getValue().slt(b.Low-&gt;getValue());</span></CodeLine>
<Link id="l12142" /><CodeLine lineNumber="12142"><span class="doxyHighlight">    &#125;);</span></CodeLine>
<Link id="l12143" /><CodeLine lineNumber="12143"></CodeLine>
<Link id="l12144" /><CodeLine lineNumber="12144"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Rearrange the case blocks so that the last one falls through if possible</span></CodeLine>
<Link id="l12145" /><CodeLine lineNumber="12145"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// without changing the order of probabilities.</span></CodeLine>
<Link id="l12146" /><CodeLine lineNumber="12146"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/switchcg/#afb58db00e426c2a6c09111c7cea5a743">CaseClusterIt</a> <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a href="/docs/api/namespaces/llvm/riscvfencefield/#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.LastCluster; <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a> &gt; <a href="/docs/api/namespaces/llvm/riscvfencefield/#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.FirstCluster; ) &#123;</span></CodeLine>
<Link id="l12147" /><CodeLine lineNumber="12147"><span class="doxyHighlight">      --<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</span></CodeLine>
<Link id="l12148" /><CodeLine lineNumber="12148"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;Prob &gt; <a href="/docs/api/namespaces/llvm/riscvfencefield/#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.LastCluster-&gt;Prob)</span></CodeLine>
<Link id="l12149" /><CodeLine lineNumber="12149"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l12150" /><CodeLine lineNumber="12150"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;Kind == <a href="/docs/api/namespaces/llvm/switchcg/#af4eb499895466e3a26f105b4c11d20daa5e6475cb2937c0cc4aabbaa8c2aac459">CC&#95;Range</a> &amp;&amp; <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;MBB == NextMBB) &#123;</span></CodeLine>
<Link id="l12151" /><CodeLine lineNumber="12151"><span class="doxyHighlight">        <a href="/docs/api/namespaces/std/#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(&#42;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, &#42;<a href="/docs/api/namespaces/llvm/riscvfencefield/#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.LastCluster);</span></CodeLine>
<Link id="l12152" /><CodeLine lineNumber="12152"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l12153" /><CodeLine lineNumber="12153"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l12154" /><CodeLine lineNumber="12154"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l12155" /><CodeLine lineNumber="12155"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l12156" /><CodeLine lineNumber="12156"></CodeLine>
<Link id="l12157" /><CodeLine lineNumber="12157"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Compute total probability.</span></CodeLine>
<Link id="l12158" /><CodeLine lineNumber="12158"><span class="doxyHighlight">  BranchProbability DefaultProb = <a href="/docs/api/namespaces/llvm/riscvfencefield/#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.DefaultProb;</span></CodeLine>
<Link id="l12159" /><CodeLine lineNumber="12159"><span class="doxyHighlight">  BranchProbability UnhandledProbs = DefaultProb;</span></CodeLine>
<Link id="l12160" /><CodeLine lineNumber="12160"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/switchcg/#afb58db00e426c2a6c09111c7cea5a743">CaseClusterIt</a> <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a href="/docs/api/namespaces/llvm/riscvfencefield/#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.FirstCluster; <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt;= <a href="/docs/api/namespaces/llvm/riscvfencefield/#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.LastCluster; ++<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</span></CodeLine>
<Link id="l12161" /><CodeLine lineNumber="12161"><span class="doxyHighlight">    UnhandledProbs += <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;Prob;</span></CodeLine>
<Link id="l12162" /><CodeLine lineNumber="12162"></CodeLine>
<Link id="l12163" /><CodeLine lineNumber="12163"><span class="doxyHighlight">  MachineBasicBlock &#42;CurMBB = <a href="/docs/api/namespaces/llvm/riscvfencefield/#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.MBB;</span></CodeLine>
<Link id="l12164" /><CodeLine lineNumber="12164"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/switchcg/#afb58db00e426c2a6c09111c7cea5a743">CaseClusterIt</a> <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a href="/docs/api/namespaces/llvm/riscvfencefield/#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.FirstCluster, <a href="/docs/api/files/lib/lib/ir/builtingcs-cpp/#abb2b3a60ccc38a28239e19a1646e0c8a">E</a> = <a href="/docs/api/namespaces/llvm/riscvfencefield/#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.LastCluster; <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt;= <a href="/docs/api/files/lib/lib/ir/builtingcs-cpp/#abb2b3a60ccc38a28239e19a1646e0c8a">E</a>; ++<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l12165" /><CodeLine lineNumber="12165"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> FallthroughUnreachable = </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l12166" /><CodeLine lineNumber="12166"><span class="doxyHighlight">    MachineBasicBlock &#42;Fallthrough;</span></CodeLine>
<Link id="l12167" /><CodeLine lineNumber="12167"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a> == <a href="/docs/api/namespaces/llvm/riscvfencefield/#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.LastCluster) &#123;</span></CodeLine>
<Link id="l12168" /><CodeLine lineNumber="12168"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// For the last cluster, fall through to the default destination.</span></CodeLine>
<Link id="l12169" /><CodeLine lineNumber="12169"><span class="doxyHighlight">      Fallthrough = DefaultMBB;</span></CodeLine>
<Link id="l12170" /><CodeLine lineNumber="12170"><span class="doxyHighlight">      FallthroughUnreachable = <a href="/docs/api/namespaces/llvm/#a92ca992e52dddc420f4b069cae06dfbe">isa&lt;UnreachableInst&gt;</a>(</span></CodeLine>
<Link id="l12171" /><CodeLine lineNumber="12171"><span class="doxyHighlight">          DefaultMBB-&gt;<a href="/docs/api/classes/llvm/machinebasicblock/#a4874816314c3308be0bf1e71de2078d8">getBasicBlock</a>()-&gt;<a href="/docs/api/classes/llvm/basicblock/#a50909227135ef69932bff39b8ea3f572">getFirstNonPHIOrDbg</a>());</span></CodeLine>
<Link id="l12172" /><CodeLine lineNumber="12172"><span class="doxyHighlight">    &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l12173" /><CodeLine lineNumber="12173"><span class="doxyHighlight">      Fallthrough = CurMF-&gt;<a href="/docs/api/classes/llvm/machinefunction/#adfc62ee16549afaac5bde30156ddc989">CreateMachineBasicBlock</a>(CurMBB-&gt;<a href="/docs/api/classes/llvm/machinebasicblock/#a4874816314c3308be0bf1e71de2078d8">getBasicBlock</a>());</span></CodeLine>
<Link id="l12174" /><CodeLine lineNumber="12174"><span class="doxyHighlight">      CurMF-&gt;<a href="/docs/api/classes/llvm/machinefunction/#af4c0db6d503e0ba3b8e44067023ffbba">insert</a>(BBI, Fallthrough);</span></CodeLine>
<Link id="l12175" /><CodeLine lineNumber="12175"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Put Cond in a virtual register to make it available from the new blocks.</span></CodeLine>
<Link id="l12176" /><CodeLine lineNumber="12176"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa5254258c6a479f86e6ecfc4dcdd7a5e">ExportFromCurrentBlock</a>(<a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a193847098793cdbab306803186676899">Cond</a>);</span></CodeLine>
<Link id="l12177" /><CodeLine lineNumber="12177"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l12178" /><CodeLine lineNumber="12178"><span class="doxyHighlight">    UnhandledProbs -= <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;Prob;</span></CodeLine>
<Link id="l12179" /><CodeLine lineNumber="12179"></CodeLine>
<Link id="l12180" /><CodeLine lineNumber="12180"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">switch</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;Kind) &#123;</span></CodeLine>
<Link id="l12181" /><CodeLine lineNumber="12181"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/switchcg/#af4eb499895466e3a26f105b4c11d20daa8618d970d3b70f103de8d0eab7e6a5eb">CC&#95;JumpTable</a>: &#123;</span></CodeLine>
<Link id="l12182" /><CodeLine lineNumber="12182"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// FIXME: Optimize away range check based on pivot comparisons.</span></CodeLine>
<Link id="l12183" /><CodeLine lineNumber="12183"><span class="doxyHighlight">        JumpTableHeader &#42;JTH = &amp;<a href="/docs/api/classes/llvm/selectiondagbuilder/#a346bf6c4d7fca3ebce554ec2cdd80e87">SL</a>-&gt;JTCases&#91;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;JTCasesIndex&#93;.first;</span></CodeLine>
<Link id="l12184" /><CodeLine lineNumber="12184"><span class="doxyHighlight">        SwitchCG::JumpTable &#42;<a href="/docs/api/namespaces/llvm/hexagonisd/#ab37bf6c49bc26c43ddd958218f63ba00a6aef1658dc627ec13f4fc59382463d9e">JT</a> = &amp;<a href="/docs/api/classes/llvm/selectiondagbuilder/#a346bf6c4d7fca3ebce554ec2cdd80e87">SL</a>-&gt;JTCases&#91;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;JTCasesIndex&#93;.second;</span></CodeLine>
<Link id="l12185" /><CodeLine lineNumber="12185"></CodeLine>
<Link id="l12186" /><CodeLine lineNumber="12186"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// The jump block hasn&#39;t been inserted yet; insert it here.</span></CodeLine>
<Link id="l12187" /><CodeLine lineNumber="12187"><span class="doxyHighlight">        MachineBasicBlock &#42;JumpMBB = <a href="/docs/api/namespaces/llvm/hexagonisd/#ab37bf6c49bc26c43ddd958218f63ba00a6aef1658dc627ec13f4fc59382463d9e">JT</a>-&gt;MBB;</span></CodeLine>
<Link id="l12188" /><CodeLine lineNumber="12188"><span class="doxyHighlight">        CurMF-&gt;<a href="/docs/api/classes/llvm/machinefunction/#af4c0db6d503e0ba3b8e44067023ffbba">insert</a>(BBI, JumpMBB);</span></CodeLine>
<Link id="l12189" /><CodeLine lineNumber="12189"></CodeLine>
<Link id="l12190" /><CodeLine lineNumber="12190"><span class="doxyHighlight">        </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> JumpProb = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;Prob;</span></CodeLine>
<Link id="l12191" /><CodeLine lineNumber="12191"><span class="doxyHighlight">        </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> FallthroughProb = UnhandledProbs;</span></CodeLine>
<Link id="l12192" /><CodeLine lineNumber="12192"></CodeLine>
<Link id="l12193" /><CodeLine lineNumber="12193"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// If the default statement is a target of the jump table, we evenly</span></CodeLine>
<Link id="l12194" /><CodeLine lineNumber="12194"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// distribute the default probability to successors of CurMBB. Also</span></CodeLine>
<Link id="l12195" /><CodeLine lineNumber="12195"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// update the probability on the edge from JumpMBB to Fallthrough.</span></CodeLine>
<Link id="l12196" /><CodeLine lineNumber="12196"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (<a href="/docs/api/classes/llvm/machinebasicblock/#a9936e11d7a6149f7cac8fa32a81dd488">MachineBasicBlock::succ&#95;iterator</a> SI = JumpMBB-&gt;<a href="/docs/api/classes/llvm/machinebasicblock/#a6321b189ea8fd5058663f8a87d6c23e9">succ&#95;begin</a>(),</span></CodeLine>
<Link id="l12197" /><CodeLine lineNumber="12197"><span class="doxyHighlight">                                              SE = JumpMBB-&gt;<a href="/docs/api/classes/llvm/machinebasicblock/#a3ddd708642d60c1661992ff8ba1b215d">succ&#95;end</a>();</span></CodeLine>
<Link id="l12198" /><CodeLine lineNumber="12198"><span class="doxyHighlight">             SI != SE; ++SI) &#123;</span></CodeLine>
<Link id="l12199" /><CodeLine lineNumber="12199"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (&#42;SI == DefaultMBB) &#123;</span></CodeLine>
<Link id="l12200" /><CodeLine lineNumber="12200"><span class="doxyHighlight">            JumpProb += DefaultProb / 2;</span></CodeLine>
<Link id="l12201" /><CodeLine lineNumber="12201"><span class="doxyHighlight">            FallthroughProb -= DefaultProb / 2;</span></CodeLine>
<Link id="l12202" /><CodeLine lineNumber="12202"><span class="doxyHighlight">            JumpMBB-&gt;<a href="/docs/api/classes/llvm/machinebasicblock/#a6171d209616c58347dea44a49d7675c0">setSuccProbability</a>(SI, DefaultProb / 2);</span></CodeLine>
<Link id="l12203" /><CodeLine lineNumber="12203"><span class="doxyHighlight">            JumpMBB-&gt;<a href="/docs/api/classes/llvm/machinebasicblock/#a0c54da24de983d197068425e718fb607">normalizeSuccProbs</a>();</span></CodeLine>
<Link id="l12204" /><CodeLine lineNumber="12204"><span class="doxyHighlight">            </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l12205" /><CodeLine lineNumber="12205"><span class="doxyHighlight">          &#125;</span></CodeLine>
<Link id="l12206" /><CodeLine lineNumber="12206"><span class="doxyHighlight">        &#125;</span></CodeLine>
<Link id="l12207" /><CodeLine lineNumber="12207"></CodeLine>
<Link id="l12208" /><CodeLine lineNumber="12208"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// If the default clause is unreachable, propagate that knowledge into</span></CodeLine>
<Link id="l12209" /><CodeLine lineNumber="12209"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// JTH-&gt;FallthroughUnreachable which will use it to suppress the range</span></CodeLine>
<Link id="l12210" /><CodeLine lineNumber="12210"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// check.</span></CodeLine>
<Link id="l12211" /><CodeLine lineNumber="12211"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l12212" /><CodeLine lineNumber="12212"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// However, don&#39;t do this if we&#39;re doing branch target enforcement,</span></CodeLine>
<Link id="l12213" /><CodeLine lineNumber="12213"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// because a table branch &#95;without&#95; a range check can be a tempting JOP</span></CodeLine>
<Link id="l12214" /><CodeLine lineNumber="12214"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// gadget - out-of-bounds inputs that are impossible in correct</span></CodeLine>
<Link id="l12215" /><CodeLine lineNumber="12215"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// execution become possible again if an attacker can influence the</span></CodeLine>
<Link id="l12216" /><CodeLine lineNumber="12216"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// control flow. So if an attacker doesn&#39;t already have a BTI bypass</span></CodeLine>
<Link id="l12217" /><CodeLine lineNumber="12217"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// available, we don&#39;t want them to be able to get one out of this</span></CodeLine>
<Link id="l12218" /><CodeLine lineNumber="12218"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// table branch.</span></CodeLine>
<Link id="l12219" /><CodeLine lineNumber="12219"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (FallthroughUnreachable) &#123;</span></CodeLine>
<Link id="l12220" /><CodeLine lineNumber="12220"><span class="doxyHighlight">          <a href="/docs/api/namespaces/llvm/codeview/#adfebd8c4ae29ccd84c600c1e65d6b807a86408593c34af77fdd90df932f8b5261">Function</a> &amp;CurFunc = CurMF-&gt;<a href="/docs/api/classes/llvm/machinefunction/#a977ddce262de45c645be23d951066351">getFunction</a>();</span></CodeLine>
<Link id="l12221" /><CodeLine lineNumber="12221"><span class="doxyHighlight">          </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!CurFunc.<a href="/docs/api/classes/llvm/function/#afb28a4deafe2954b0534cc6399ce518b">hasFnAttribute</a>(</span><span class="doxyHighlightStringLiteral">&quot;branch-target-enforcement&quot;</span><span class="doxyHighlight">))</span></CodeLine>
<Link id="l12222" /><CodeLine lineNumber="12222"><span class="doxyHighlight">            JTH-&gt;<a href="/docs/api/structs/llvm/switchcg/jumptableheader/#ad62543fa4b455b7b44115597b3f44e45">FallthroughUnreachable</a> = </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l12223" /><CodeLine lineNumber="12223"><span class="doxyHighlight">        &#125;</span></CodeLine>
<Link id="l12224" /><CodeLine lineNumber="12224"></CodeLine>
<Link id="l12225" /><CodeLine lineNumber="12225"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!JTH-&gt;<a href="/docs/api/structs/llvm/switchcg/jumptableheader/#ad62543fa4b455b7b44115597b3f44e45">FallthroughUnreachable</a>)</span></CodeLine>
<Link id="l12226" /><CodeLine lineNumber="12226"><span class="doxyHighlight">          addSuccessorWithProb(CurMBB, Fallthrough, FallthroughProb);</span></CodeLine>
<Link id="l12227" /><CodeLine lineNumber="12227"><span class="doxyHighlight">        addSuccessorWithProb(CurMBB, JumpMBB, JumpProb);</span></CodeLine>
<Link id="l12228" /><CodeLine lineNumber="12228"><span class="doxyHighlight">        CurMBB-&gt;<a href="/docs/api/classes/llvm/machinebasicblock/#a0c54da24de983d197068425e718fb607">normalizeSuccProbs</a>();</span></CodeLine>
<Link id="l12229" /><CodeLine lineNumber="12229"></CodeLine>
<Link id="l12230" /><CodeLine lineNumber="12230"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// The jump table header will be inserted in our current block, do the</span></CodeLine>
<Link id="l12231" /><CodeLine lineNumber="12231"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// range check, and fall through to our fallthrough block.</span></CodeLine>
<Link id="l12232" /><CodeLine lineNumber="12232"><span class="doxyHighlight">        JTH-&gt;<a href="/docs/api/structs/llvm/switchcg/jumptableheader/#ac1e7d8bcb6a5d0b25a20b0a30f8504b6">HeaderBB</a> = CurMBB;</span></CodeLine>
<Link id="l12233" /><CodeLine lineNumber="12233"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/hexagonisd/#ab37bf6c49bc26c43ddd958218f63ba00a6aef1658dc627ec13f4fc59382463d9e">JT</a>-&gt;Default = Fallthrough; </span><span class="doxyHighlightComment">// FIXME: Move Default to JumpTableHeader.</span></CodeLine>
<Link id="l12234" /><CodeLine lineNumber="12234"></CodeLine>
<Link id="l12235" /><CodeLine lineNumber="12235"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// If we&#39;re in the right place, emit the jump table header right now.</span></CodeLine>
<Link id="l12236" /><CodeLine lineNumber="12236"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (CurMBB == SwitchMBB) &#123;</span></CodeLine>
<Link id="l12237" /><CodeLine lineNumber="12237"><span class="doxyHighlight">          <a href="/docs/api/classes/llvm/selectiondagbuilder/#ac85aa2ebc935e3c87ec7f9e54183cddf">visitJumpTableHeader</a>(&#42;JT, &#42;JTH, SwitchMBB);</span></CodeLine>
<Link id="l12238" /><CodeLine lineNumber="12238"><span class="doxyHighlight">          JTH-&gt;<a href="/docs/api/structs/llvm/switchcg/jumptableheader/#a5a8d0476b3e71967fce677e1ce5bc02b">Emitted</a> = </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l12239" /><CodeLine lineNumber="12239"><span class="doxyHighlight">        &#125;</span></CodeLine>
<Link id="l12240" /><CodeLine lineNumber="12240"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l12241" /><CodeLine lineNumber="12241"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l12242" /><CodeLine lineNumber="12242"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/switchcg/#af4eb499895466e3a26f105b4c11d20daab3398550375bca11fe3e11d0c454e382">CC&#95;BitTests</a>: &#123;</span></CodeLine>
<Link id="l12243" /><CodeLine lineNumber="12243"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// FIXME: Optimize away range check based on pivot comparisons.</span></CodeLine>
<Link id="l12244" /><CodeLine lineNumber="12244"><span class="doxyHighlight">        BitTestBlock &#42;BTB = &amp;<a href="/docs/api/classes/llvm/selectiondagbuilder/#a346bf6c4d7fca3ebce554ec2cdd80e87">SL</a>-&gt;BitTestCases&#91;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;BTCasesIndex&#93;;</span></CodeLine>
<Link id="l12245" /><CodeLine lineNumber="12245"></CodeLine>
<Link id="l12246" /><CodeLine lineNumber="12246"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// The bit test blocks haven&#39;t been inserted yet; insert them here.</span></CodeLine>
<Link id="l12247" /><CodeLine lineNumber="12247"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (BitTestCase &amp;BTC : BTB-&gt;<a href="/docs/api/structs/llvm/switchcg/bittestblock/#ac278d9d298cfa960b436c25aa7788509">Cases</a>)</span></CodeLine>
<Link id="l12248" /><CodeLine lineNumber="12248"><span class="doxyHighlight">          CurMF-&gt;<a href="/docs/api/classes/llvm/machinefunction/#af4c0db6d503e0ba3b8e44067023ffbba">insert</a>(BBI, BTC.<a href="/docs/api/structs/llvm/switchcg/bittestcase/#a0de525fafba62735a5c4388fe871ae1a">ThisBB</a>);</span></CodeLine>
<Link id="l12249" /><CodeLine lineNumber="12249"></CodeLine>
<Link id="l12250" /><CodeLine lineNumber="12250"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// Fill in fields of the BitTestBlock.</span></CodeLine>
<Link id="l12251" /><CodeLine lineNumber="12251"><span class="doxyHighlight">        BTB-&gt;<a href="/docs/api/structs/llvm/switchcg/bittestblock/#aa7fe2ac4f88fa09c19520aa9323be2f7">Parent</a> = CurMBB;</span></CodeLine>
<Link id="l12252" /><CodeLine lineNumber="12252"><span class="doxyHighlight">        BTB-&gt;<a href="/docs/api/structs/llvm/switchcg/bittestblock/#a17ba72e30038ee51730d310d232133a6">Default</a> = Fallthrough;</span></CodeLine>
<Link id="l12253" /><CodeLine lineNumber="12253"></CodeLine>
<Link id="l12254" /><CodeLine lineNumber="12254"><span class="doxyHighlight">        BTB-&gt;<a href="/docs/api/structs/llvm/switchcg/bittestblock/#a6737b8a9b053657aebcc8094ded39aaa">DefaultProb</a> = UnhandledProbs;</span></CodeLine>
<Link id="l12255" /><CodeLine lineNumber="12255"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// If the cases in bit test don&#39;t form a contiguous range, we evenly</span></CodeLine>
<Link id="l12256" /><CodeLine lineNumber="12256"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// distribute the probability on the edge to Fallthrough to two</span></CodeLine>
<Link id="l12257" /><CodeLine lineNumber="12257"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// successors of CurMBB.</span></CodeLine>
<Link id="l12258" /><CodeLine lineNumber="12258"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!BTB-&gt;<a href="/docs/api/structs/llvm/switchcg/bittestblock/#a2ed0cb836d37c70adbb87051b22873be">ContiguousRange</a>) &#123;</span></CodeLine>
<Link id="l12259" /><CodeLine lineNumber="12259"><span class="doxyHighlight">          BTB-&gt;<a href="/docs/api/structs/llvm/switchcg/bittestblock/#a1f3370b36f9e5b77fc5210de19b90c66">Prob</a> += DefaultProb / 2;</span></CodeLine>
<Link id="l12260" /><CodeLine lineNumber="12260"><span class="doxyHighlight">          BTB-&gt;<a href="/docs/api/structs/llvm/switchcg/bittestblock/#a6737b8a9b053657aebcc8094ded39aaa">DefaultProb</a> -= DefaultProb / 2;</span></CodeLine>
<Link id="l12261" /><CodeLine lineNumber="12261"><span class="doxyHighlight">        &#125;</span></CodeLine>
<Link id="l12262" /><CodeLine lineNumber="12262"></CodeLine>
<Link id="l12263" /><CodeLine lineNumber="12263"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (FallthroughUnreachable)</span></CodeLine>
<Link id="l12264" /><CodeLine lineNumber="12264"><span class="doxyHighlight">          BTB-&gt;<a href="/docs/api/structs/llvm/switchcg/bittestblock/#ad2d154cb7ee7a3d68b66c1f43a1a2723">FallthroughUnreachable</a> = </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l12265" /><CodeLine lineNumber="12265"></CodeLine>
<Link id="l12266" /><CodeLine lineNumber="12266"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// If we&#39;re in the right place, emit the bit test header right now.</span></CodeLine>
<Link id="l12267" /><CodeLine lineNumber="12267"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (CurMBB == SwitchMBB) &#123;</span></CodeLine>
<Link id="l12268" /><CodeLine lineNumber="12268"><span class="doxyHighlight">          <a href="/docs/api/classes/llvm/selectiondagbuilder/#a31f9f0db1bb0b321286db70b58fb001e">visitBitTestHeader</a>(&#42;BTB, SwitchMBB);</span></CodeLine>
<Link id="l12269" /><CodeLine lineNumber="12269"><span class="doxyHighlight">          BTB-&gt;<a href="/docs/api/structs/llvm/switchcg/bittestblock/#ad5a528faee677ed87d7712973f45ea26">Emitted</a> = </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l12270" /><CodeLine lineNumber="12270"><span class="doxyHighlight">        &#125;</span></CodeLine>
<Link id="l12271" /><CodeLine lineNumber="12271"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l12272" /><CodeLine lineNumber="12272"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l12273" /><CodeLine lineNumber="12273"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/switchcg/#af4eb499895466e3a26f105b4c11d20daa5e6475cb2937c0cc4aabbaa8c2aac459">CC&#95;Range</a>: &#123;</span></CodeLine>
<Link id="l12274" /><CodeLine lineNumber="12274"><span class="doxyHighlight">        </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> Value &#42;<a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, &#42;<a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, &#42;MHS;</span></CodeLine>
<Link id="l12275" /><CodeLine lineNumber="12275"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/isd/#ac3c3cf58d6d631af6a172457304d3d07">ISD::CondCode</a> <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a77c69067ae8279bc00ab8757731e90d7">CC</a>;</span></CodeLine>
<Link id="l12276" /><CodeLine lineNumber="12276"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;Low == <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;High) &#123;</span></CodeLine>
<Link id="l12277" /><CodeLine lineNumber="12277"><span class="doxyHighlight">          </span><span class="doxyHighlightComment">// Check Cond == I-&gt;Low.</span></CodeLine>
<Link id="l12278" /><CodeLine lineNumber="12278"><span class="doxyHighlight">          <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a77c69067ae8279bc00ab8757731e90d7">CC</a> = <a href="/docs/api/namespaces/llvm/isd/#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a>;</span></CodeLine>
<Link id="l12279" /><CodeLine lineNumber="12279"><span class="doxyHighlight">          <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a193847098793cdbab306803186676899">Cond</a>;</span></CodeLine>
<Link id="l12280" /><CodeLine lineNumber="12280"><span class="doxyHighlight">          <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>=<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;Low;</span></CodeLine>
<Link id="l12281" /><CodeLine lineNumber="12281"><span class="doxyHighlight">          MHS = </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l12282" /><CodeLine lineNumber="12282"><span class="doxyHighlight">        &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l12283" /><CodeLine lineNumber="12283"><span class="doxyHighlight">          </span><span class="doxyHighlightComment">// Check I-&gt;Low &lt;= Cond &lt;= I-&gt;High.</span></CodeLine>
<Link id="l12284" /><CodeLine lineNumber="12284"><span class="doxyHighlight">          <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a77c69067ae8279bc00ab8757731e90d7">CC</a> = <a href="/docs/api/namespaces/llvm/isd/#ac3c3cf58d6d631af6a172457304d3d07ab49f81c2ecbbff3d0fbe55dd46353774">ISD::SETLE</a>;</span></CodeLine>
<Link id="l12285" /><CodeLine lineNumber="12285"><span class="doxyHighlight">          <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;Low;</span></CodeLine>
<Link id="l12286" /><CodeLine lineNumber="12286"><span class="doxyHighlight">          MHS = <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a193847098793cdbab306803186676899">Cond</a>;</span></CodeLine>
<Link id="l12287" /><CodeLine lineNumber="12287"><span class="doxyHighlight">          <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;High;</span></CodeLine>
<Link id="l12288" /><CodeLine lineNumber="12288"><span class="doxyHighlight">        &#125;</span></CodeLine>
<Link id="l12289" /><CodeLine lineNumber="12289"></CodeLine>
<Link id="l12290" /><CodeLine lineNumber="12290"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// If Fallthrough is unreachable, fold away the comparison.</span></CodeLine>
<Link id="l12291" /><CodeLine lineNumber="12291"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (FallthroughUnreachable)</span></CodeLine>
<Link id="l12292" /><CodeLine lineNumber="12292"><span class="doxyHighlight">          <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a77c69067ae8279bc00ab8757731e90d7">CC</a> = <a href="/docs/api/namespaces/llvm/isd/#ac3c3cf58d6d631af6a172457304d3d07a8e273eab0623ea5713aa5bcbdac2b16b">ISD::SETTRUE</a>;</span></CodeLine>
<Link id="l12293" /><CodeLine lineNumber="12293"></CodeLine>
<Link id="l12294" /><CodeLine lineNumber="12294"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// The false probability is the sum of all unhandled cases.</span></CodeLine>
<Link id="l12295" /><CodeLine lineNumber="12295"><span class="doxyHighlight">        CaseBlock CB(<a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a77c69067ae8279bc00ab8757731e90d7">CC</a>, <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a href="/docs/api/files/lib/lib/target/lib/target/x86/x86partialreduction-cpp/#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, MHS, <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;MBB, Fallthrough, CurMBB,</span></CodeLine>
<Link id="l12296" /><CodeLine lineNumber="12296"><span class="doxyHighlight">                     <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;Prob, UnhandledProbs);</span></CodeLine>
<Link id="l12297" /><CodeLine lineNumber="12297"></CodeLine>
<Link id="l12298" /><CodeLine lineNumber="12298"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (CurMBB == SwitchMBB)</span></CodeLine>
<Link id="l12299" /><CodeLine lineNumber="12299"><span class="doxyHighlight">          <a href="/docs/api/classes/llvm/selectiondagbuilder/#afe7d9f31d3030277242731ccf43478c0">visitSwitchCase</a>(CB, SwitchMBB);</span></CodeLine>
<Link id="l12300" /><CodeLine lineNumber="12300"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">else</span></CodeLine>
<Link id="l12301" /><CodeLine lineNumber="12301"><span class="doxyHighlight">          <a href="/docs/api/classes/llvm/selectiondagbuilder/#a346bf6c4d7fca3ebce554ec2cdd80e87">SL</a>-&gt;SwitchCases.push&#95;back(CB);</span></CodeLine>
<Link id="l12302" /><CodeLine lineNumber="12302"></CodeLine>
<Link id="l12303" /><CodeLine lineNumber="12303"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l12304" /><CodeLine lineNumber="12304"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l12305" /><CodeLine lineNumber="12305"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l12306" /><CodeLine lineNumber="12306"><span class="doxyHighlight">    CurMBB = Fallthrough;</span></CodeLine>
<Link id="l12307" /><CodeLine lineNumber="12307"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l12308" /><CodeLine lineNumber="12308"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l12309" /><CodeLine lineNumber="12309"></CodeLine>
<Link id="l12310" /><CodeLine lineNumber="12310"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::splitWorkItem(<a href="/docs/api/namespaces/llvm/switchcg/#afa5b66c5260f307ec76bc6a21315b051">SwitchWorkList</a> &amp;WorkList,</span></CodeLine>
<Link id="l12311" /><CodeLine lineNumber="12311"><span class="doxyHighlight">                                        </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> SwitchWorkListItem &amp;W,</span></CodeLine>
<Link id="l12312" /><CodeLine lineNumber="12312"><span class="doxyHighlight">                                        <a href="/docs/api/classes/llvm/value">Value</a> &#42;<a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a193847098793cdbab306803186676899">Cond</a>,</span></CodeLine>
<Link id="l12313" /><CodeLine lineNumber="12313"><span class="doxyHighlight">                                        <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;SwitchMBB) &#123;</span></CodeLine>
<Link id="l12314" /><CodeLine lineNumber="12314"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a href="/docs/api/namespaces/llvm/riscvfencefield/#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.FirstCluster-&gt;Low-&gt;getValue().slt(<a href="/docs/api/namespaces/llvm/riscvfencefield/#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.LastCluster-&gt;Low-&gt;getValue()) &amp;&amp;</span></CodeLine>
<Link id="l12315" /><CodeLine lineNumber="12315"><span class="doxyHighlight">         </span><span class="doxyHighlightStringLiteral">&quot;Clusters not sorted?&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l12316" /><CodeLine lineNumber="12316"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a href="/docs/api/namespaces/llvm/riscvfencefield/#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.LastCluster - <a href="/docs/api/namespaces/llvm/riscvfencefield/#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.FirstCluster + 1 &gt;= 2 &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Too small to split!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l12317" /><CodeLine lineNumber="12317"></CodeLine>
<Link id="l12318" /><CodeLine lineNumber="12318"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#91;LastLeft, FirstRight, LeftProb, RightProb&#93; =</span></CodeLine>
<Link id="l12319" /><CodeLine lineNumber="12319"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#a346bf6c4d7fca3ebce554ec2cdd80e87">SL</a>-&gt;computeSplitWorkItemInfo(W);</span></CodeLine>
<Link id="l12320" /><CodeLine lineNumber="12320"></CodeLine>
<Link id="l12321" /><CodeLine lineNumber="12321"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Use the first element on the right as pivot since we will make less-than</span></CodeLine>
<Link id="l12322" /><CodeLine lineNumber="12322"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// comparisons against it.</span></CodeLine>
<Link id="l12323" /><CodeLine lineNumber="12323"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/switchcg/#afb58db00e426c2a6c09111c7cea5a743">CaseClusterIt</a> PivotCluster = FirstRight;</span></CodeLine>
<Link id="l12324" /><CodeLine lineNumber="12324"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(PivotCluster &gt; <a href="/docs/api/namespaces/llvm/riscvfencefield/#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.FirstCluster);</span></CodeLine>
<Link id="l12325" /><CodeLine lineNumber="12325"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(PivotCluster &lt;= <a href="/docs/api/namespaces/llvm/riscvfencefield/#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.LastCluster);</span></CodeLine>
<Link id="l12326" /><CodeLine lineNumber="12326"></CodeLine>
<Link id="l12327" /><CodeLine lineNumber="12327"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/switchcg/#afb58db00e426c2a6c09111c7cea5a743">CaseClusterIt</a> FirstLeft = <a href="/docs/api/namespaces/llvm/riscvfencefield/#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.FirstCluster;</span></CodeLine>
<Link id="l12328" /><CodeLine lineNumber="12328"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/switchcg/#afb58db00e426c2a6c09111c7cea5a743">CaseClusterIt</a> LastRight = <a href="/docs/api/namespaces/llvm/riscvfencefield/#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.LastCluster;</span></CodeLine>
<Link id="l12329" /><CodeLine lineNumber="12329"></CodeLine>
<Link id="l12330" /><CodeLine lineNumber="12330"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> ConstantInt &#42;Pivot = PivotCluster-&gt;Low;</span></CodeLine>
<Link id="l12331" /><CodeLine lineNumber="12331"></CodeLine>
<Link id="l12332" /><CodeLine lineNumber="12332"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// New blocks will be inserted immediately after the current one.</span></CodeLine>
<Link id="l12333" /><CodeLine lineNumber="12333"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/machinefunction/#aaba82c71ffdca966cad10eae0992fff9">MachineFunction::iterator</a> BBI(<a href="/docs/api/namespaces/llvm/riscvfencefield/#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.MBB);</span></CodeLine>
<Link id="l12334" /><CodeLine lineNumber="12334"><span class="doxyHighlight">  ++BBI;</span></CodeLine>
<Link id="l12335" /><CodeLine lineNumber="12335"></CodeLine>
<Link id="l12336" /><CodeLine lineNumber="12336"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// We will branch to the LHS if Value &lt; Pivot. If LHS is a single cluster,</span></CodeLine>
<Link id="l12337" /><CodeLine lineNumber="12337"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// we can branch to its destination directly if it&#39;s squeezed exactly in</span></CodeLine>
<Link id="l12338" /><CodeLine lineNumber="12338"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// between the known lower bound and Pivot - 1</span></CodeLine>
<Link id="l12339" /><CodeLine lineNumber="12339"><span class="doxyHighlight">  MachineBasicBlock &#42;LeftMBB;</span></CodeLine>
<Link id="l12340" /><CodeLine lineNumber="12340"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (FirstLeft == LastLeft &amp;&amp; FirstLeft-&gt;Kind == <a href="/docs/api/namespaces/llvm/switchcg/#af4eb499895466e3a26f105b4c11d20daa5e6475cb2937c0cc4aabbaa8c2aac459">CC&#95;Range</a> &amp;&amp;</span></CodeLine>
<Link id="l12341" /><CodeLine lineNumber="12341"><span class="doxyHighlight">      FirstLeft-&gt;Low == <a href="/docs/api/namespaces/llvm/riscvfencefield/#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.GE &amp;&amp;</span></CodeLine>
<Link id="l12342" /><CodeLine lineNumber="12342"><span class="doxyHighlight">      (FirstLeft-&gt;High-&gt;getValue() + 1LL) == Pivot-&gt;<a href="/docs/api/classes/llvm/constantint/#af7e1934ed72a405ef073ea5f9bbe828e">getValue</a>()) &#123;</span></CodeLine>
<Link id="l12343" /><CodeLine lineNumber="12343"><span class="doxyHighlight">    LeftMBB = FirstLeft-&gt;MBB;</span></CodeLine>
<Link id="l12344" /><CodeLine lineNumber="12344"><span class="doxyHighlight">  &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l12345" /><CodeLine lineNumber="12345"><span class="doxyHighlight">    LeftMBB = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.MF-&gt;CreateMachineBasicBlock(<a href="/docs/api/namespaces/llvm/riscvfencefield/#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.MBB-&gt;getBasicBlock());</span></CodeLine>
<Link id="l12346" /><CodeLine lineNumber="12346"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.MF-&gt;insert(BBI, LeftMBB);</span></CodeLine>
<Link id="l12347" /><CodeLine lineNumber="12347"><span class="doxyHighlight">    WorkList.<a href="/docs/api/classes/llvm/smallvectortemplatebase/#af42bfbc067df27c19ee2fc859df58799">push&#95;back</a>(</span></CodeLine>
<Link id="l12348" /><CodeLine lineNumber="12348"><span class="doxyHighlight">        &#123;LeftMBB, FirstLeft, LastLeft, <a href="/docs/api/namespaces/llvm/riscvfencefield/#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.GE, Pivot, <a href="/docs/api/namespaces/llvm/riscvfencefield/#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.DefaultProb / 2&#125;);</span></CodeLine>
<Link id="l12349" /><CodeLine lineNumber="12349"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Put Cond in a virtual register to make it available from the new blocks.</span></CodeLine>
<Link id="l12350" /><CodeLine lineNumber="12350"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa5254258c6a479f86e6ecfc4dcdd7a5e">ExportFromCurrentBlock</a>(<a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a193847098793cdbab306803186676899">Cond</a>);</span></CodeLine>
<Link id="l12351" /><CodeLine lineNumber="12351"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l12352" /><CodeLine lineNumber="12352"></CodeLine>
<Link id="l12353" /><CodeLine lineNumber="12353"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Similarly, we will branch to the RHS if Value &gt;= Pivot. If RHS is a</span></CodeLine>
<Link id="l12354" /><CodeLine lineNumber="12354"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// single cluster, RHS.Low == Pivot, and we can branch to its destination</span></CodeLine>
<Link id="l12355" /><CodeLine lineNumber="12355"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// directly if RHS.High equals the current upper bound.</span></CodeLine>
<Link id="l12356" /><CodeLine lineNumber="12356"><span class="doxyHighlight">  MachineBasicBlock &#42;RightMBB;</span></CodeLine>
<Link id="l12357" /><CodeLine lineNumber="12357"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (FirstRight == LastRight &amp;&amp; FirstRight-&gt;Kind == <a href="/docs/api/namespaces/llvm/switchcg/#af4eb499895466e3a26f105b4c11d20daa5e6475cb2937c0cc4aabbaa8c2aac459">CC&#95;Range</a> &amp;&amp;</span></CodeLine>
<Link id="l12358" /><CodeLine lineNumber="12358"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/riscvfencefield/#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.LT &amp;&amp; (FirstRight-&gt;High-&gt;getValue() + 1ULL) == <a href="/docs/api/namespaces/llvm/riscvfencefield/#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.LT-&gt;getValue()) &#123;</span></CodeLine>
<Link id="l12359" /><CodeLine lineNumber="12359"><span class="doxyHighlight">    RightMBB = FirstRight-&gt;MBB;</span></CodeLine>
<Link id="l12360" /><CodeLine lineNumber="12360"><span class="doxyHighlight">  &#125; </span><span class="doxyHighlightKeywordFlow">else</span><span class="doxyHighlight"> &#123;</span></CodeLine>
<Link id="l12361" /><CodeLine lineNumber="12361"><span class="doxyHighlight">    RightMBB = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.MF-&gt;CreateMachineBasicBlock(<a href="/docs/api/namespaces/llvm/riscvfencefield/#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.MBB-&gt;getBasicBlock());</span></CodeLine>
<Link id="l12362" /><CodeLine lineNumber="12362"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.MF-&gt;insert(BBI, RightMBB);</span></CodeLine>
<Link id="l12363" /><CodeLine lineNumber="12363"><span class="doxyHighlight">    WorkList.<a href="/docs/api/classes/llvm/smallvectortemplatebase/#af42bfbc067df27c19ee2fc859df58799">push&#95;back</a>(</span></CodeLine>
<Link id="l12364" /><CodeLine lineNumber="12364"><span class="doxyHighlight">        &#123;RightMBB, FirstRight, LastRight, Pivot, <a href="/docs/api/namespaces/llvm/riscvfencefield/#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.LT, <a href="/docs/api/namespaces/llvm/riscvfencefield/#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.DefaultProb / 2&#125;);</span></CodeLine>
<Link id="l12365" /><CodeLine lineNumber="12365"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Put Cond in a virtual register to make it available from the new blocks.</span></CodeLine>
<Link id="l12366" /><CodeLine lineNumber="12366"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa5254258c6a479f86e6ecfc4dcdd7a5e">ExportFromCurrentBlock</a>(<a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a193847098793cdbab306803186676899">Cond</a>);</span></CodeLine>
<Link id="l12367" /><CodeLine lineNumber="12367"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l12368" /><CodeLine lineNumber="12368"></CodeLine>
<Link id="l12369" /><CodeLine lineNumber="12369"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Create the CaseBlock record that will be used to lower the branch.</span></CodeLine>
<Link id="l12370" /><CodeLine lineNumber="12370"><span class="doxyHighlight">  CaseBlock CB(<a href="/docs/api/namespaces/llvm/isd/#ac3c3cf58d6d631af6a172457304d3d07a6f05a09edb671910f85f8665981cbde9">ISD::SETLT</a>, <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a193847098793cdbab306803186676899">Cond</a>, Pivot, </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">, LeftMBB, RightMBB, <a href="/docs/api/namespaces/llvm/riscvfencefield/#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.MBB,</span></CodeLine>
<Link id="l12371" /><CodeLine lineNumber="12371"><span class="doxyHighlight">               <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), LeftProb, RightProb);</span></CodeLine>
<Link id="l12372" /><CodeLine lineNumber="12372"></CodeLine>
<Link id="l12373" /><CodeLine lineNumber="12373"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/riscvfencefield/#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.MBB == SwitchMBB)</span></CodeLine>
<Link id="l12374" /><CodeLine lineNumber="12374"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#afe7d9f31d3030277242731ccf43478c0">visitSwitchCase</a>(CB, SwitchMBB);</span></CodeLine>
<Link id="l12375" /><CodeLine lineNumber="12375"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">else</span></CodeLine>
<Link id="l12376" /><CodeLine lineNumber="12376"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#a346bf6c4d7fca3ebce554ec2cdd80e87">SL</a>-&gt;SwitchCases.push&#95;back(CB);</span></CodeLine>
<Link id="l12377" /><CodeLine lineNumber="12377"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l12378" /><CodeLine lineNumber="12378"></CodeLine>
<Link id="l12379" /><CodeLine lineNumber="12379"><span class="doxyHighlightComment">// Scale CaseProb after peeling a case with the probablity of PeeledCaseProb</span></CodeLine>
<Link id="l12380" /><CodeLine lineNumber="12380"><span class="doxyHighlightComment">// from the swith statement.</span></CodeLine>
<Link id="l12381" /><CodeLine lineNumber="12381" lineLink="#a64747c8e3007c455b9b9a66a50a176e3"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/branchprobability">BranchProbability</a> <a href="#a64747c8e3007c455b9b9a66a50a176e3">scaleCaseProbality</a>(<a href="/docs/api/classes/llvm/branchprobability">BranchProbability</a> CaseProb,</span></CodeLine>
<Link id="l12382" /><CodeLine lineNumber="12382"><span class="doxyHighlight">                                            <a href="/docs/api/classes/llvm/branchprobability">BranchProbability</a> PeeledCaseProb) &#123;</span></CodeLine>
<Link id="l12383" /><CodeLine lineNumber="12383"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (PeeledCaseProb == <a href="/docs/api/classes/llvm/branchprobability/#a56e1b2d1999aadf4c513caee1ce5275b">BranchProbability::getOne</a>())</span></CodeLine>
<Link id="l12384" /><CodeLine lineNumber="12384"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/branchprobability/#afd00958cba7080048a84cccfcef55d71">BranchProbability::getZero</a>();</span></CodeLine>
<Link id="l12385" /><CodeLine lineNumber="12385"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/branchprobability">BranchProbability</a> SwitchProb = PeeledCaseProb.<a href="/docs/api/classes/llvm/branchprobability/#aaee6034264d5d0782e5d1489360730d9">getCompl</a>();</span></CodeLine>
<Link id="l12386" /><CodeLine lineNumber="12386"></CodeLine>
<Link id="l12387" /><CodeLine lineNumber="12387"><span class="doxyHighlight">  uint32&#95;t Numerator = CaseProb.<a href="/docs/api/classes/llvm/branchprobability/#a7be5759bf75c903d1695fa97eca6f139">getNumerator</a>();</span></CodeLine>
<Link id="l12388" /><CodeLine lineNumber="12388"><span class="doxyHighlight">  uint32&#95;t Denominator = SwitchProb.<a href="/docs/api/classes/llvm/branchprobability/#a9ccfc22b308af94572ad6843ecc21055">scale</a>(CaseProb.<a href="/docs/api/classes/llvm/branchprobability/#a19c752227e02f7cb26fb47fdb36dc349">getDenominator</a>());</span></CodeLine>
<Link id="l12389" /><CodeLine lineNumber="12389"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/branchprobability">BranchProbability</a>(Numerator, std::max(Numerator, Denominator));</span></CodeLine>
<Link id="l12390" /><CodeLine lineNumber="12390"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l12391" /><CodeLine lineNumber="12391"></CodeLine>
<Link id="l12392" /><CodeLine lineNumber="12392"><span class="doxyHighlightComment">// Try to peel the top probability case if it exceeds the threshold.</span></CodeLine>
<Link id="l12393" /><CodeLine lineNumber="12393"><span class="doxyHighlightComment">// Return current MachineBasicBlock for the switch statement if the peeling</span></CodeLine>
<Link id="l12394" /><CodeLine lineNumber="12394"><span class="doxyHighlightComment">// does not occur.</span></CodeLine>
<Link id="l12395" /><CodeLine lineNumber="12395"><span class="doxyHighlightComment">// If the peeling is performed, return the newly created MachineBasicBlock</span></CodeLine>
<Link id="l12396" /><CodeLine lineNumber="12396"><span class="doxyHighlightComment">// for the peeled switch statement. Also update Clusters to remove the peeled</span></CodeLine>
<Link id="l12397" /><CodeLine lineNumber="12397"><span class="doxyHighlightComment">// case. PeeledCaseProb is the BranchProbability for the peeled case.</span></CodeLine>
<Link id="l12398" /><CodeLine lineNumber="12398"><span class="doxyHighlight"><a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;SelectionDAGBuilder::peelDominantCaseCluster(</span></CodeLine>
<Link id="l12399" /><CodeLine lineNumber="12399"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/switchinst">SwitchInst</a> &amp;<a href="/docs/api/namespaces/llvm/si">SI</a>, <a href="/docs/api/namespaces/llvm/switchcg/#a79baa30810b267c49d14b070a5a99110">CaseClusterVector</a> &amp;Clusters,</span></CodeLine>
<Link id="l12400" /><CodeLine lineNumber="12400"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/branchprobability">BranchProbability</a> &amp;PeeledCaseProb) &#123;</span></CodeLine>
<Link id="l12401" /><CodeLine lineNumber="12401"><span class="doxyHighlight">  MachineBasicBlock &#42;SwitchMBB = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.MBB;</span></CodeLine>
<Link id="l12402" /><CodeLine lineNumber="12402"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Don&#39;t perform if there is only one cluster or optimizing for size.</span></CodeLine>
<Link id="l12403" /><CodeLine lineNumber="12403"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="#a45d62ce9e63770ceb48965f8b4b727a8">SwitchPeelThreshold</a> &gt; 100 || !<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.BPI || Clusters.size() &lt; 2 ||</span></CodeLine>
<Link id="l12404" /><CodeLine lineNumber="12404"><span class="doxyHighlight">      TM.getOptLevel() == <a href="/docs/api/namespaces/llvm/#a8ec1bf8d7b792ca9fac56f8514db18d2a6adf97f83acf6453d4a6a4b1070f3754">CodeGenOptLevel::None</a> ||</span></CodeLine>
<Link id="l12405" /><CodeLine lineNumber="12405"><span class="doxyHighlight">      SwitchMBB-&gt;<a href="/docs/api/classes/llvm/machinebasicblock/#acf6442108e21e7e5379feb8962de65b7">getParent</a>()-&gt;<a href="/docs/api/classes/llvm/machinefunction/#a977ddce262de45c645be23d951066351">getFunction</a>().<a href="/docs/api/classes/llvm/function/#a548cfb9440f36ba67fc5566b8e967fc6">hasMinSize</a>())</span></CodeLine>
<Link id="l12406" /><CodeLine lineNumber="12406"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> SwitchMBB;</span></CodeLine>
<Link id="l12407" /><CodeLine lineNumber="12407"></CodeLine>
<Link id="l12408" /><CodeLine lineNumber="12408"><span class="doxyHighlight">  BranchProbability TopCaseProb = BranchProbability(<a href="#a45d62ce9e63770ceb48965f8b4b727a8">SwitchPeelThreshold</a>, 100);</span></CodeLine>
<Link id="l12409" /><CodeLine lineNumber="12409"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> PeeledCaseIndex = 0;</span></CodeLine>
<Link id="l12410" /><CodeLine lineNumber="12410"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> SwitchPeeled = </span><span class="doxyHighlightKeyword">false</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l12411" /><CodeLine lineNumber="12411"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> Index = 0; <a href="/docs/api/namespaces/llvm/dwarf/#a5d3c920b66ea797d6adb243862fdf47a">Index</a> &lt; Clusters.size(); ++<a href="/docs/api/namespaces/llvm/dwarf/#a5d3c920b66ea797d6adb243862fdf47a">Index</a>) &#123;</span></CodeLine>
<Link id="l12412" /><CodeLine lineNumber="12412"><span class="doxyHighlight">    CaseCluster &amp;<a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a77c69067ae8279bc00ab8757731e90d7">CC</a> = Clusters&#91;<a href="/docs/api/namespaces/llvm/dwarf/#a5d3c920b66ea797d6adb243862fdf47a">Index</a>&#93;;</span></CodeLine>
<Link id="l12413" /><CodeLine lineNumber="12413"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a77c69067ae8279bc00ab8757731e90d7">CC</a>.Prob &lt; TopCaseProb)</span></CodeLine>
<Link id="l12414" /><CodeLine lineNumber="12414"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">continue</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l12415" /><CodeLine lineNumber="12415"><span class="doxyHighlight">    TopCaseProb = <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a77c69067ae8279bc00ab8757731e90d7">CC</a>.Prob;</span></CodeLine>
<Link id="l12416" /><CodeLine lineNumber="12416"><span class="doxyHighlight">    PeeledCaseIndex = <a href="/docs/api/namespaces/llvm/dwarf/#a5d3c920b66ea797d6adb243862fdf47a">Index</a>;</span></CodeLine>
<Link id="l12417" /><CodeLine lineNumber="12417"><span class="doxyHighlight">    SwitchPeeled = </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l12418" /><CodeLine lineNumber="12418"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l12419" /><CodeLine lineNumber="12419"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!SwitchPeeled)</span></CodeLine>
<Link id="l12420" /><CodeLine lineNumber="12420"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> SwitchMBB;</span></CodeLine>
<Link id="l12421" /><CodeLine lineNumber="12421"></CodeLine>
<Link id="l12422" /><CodeLine lineNumber="12422"><span class="doxyHighlight">  <a href="/docs/api/files/include/include/llvm/include/llvm/support/debug-h/#a196897517069dda1bdb549e24468f7d7">LLVM&#95;DEBUG</a>(<a href="/docs/api/namespaces/llvm/#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; </span><span class="doxyHighlightStringLiteral">&quot;Peeled one top case in switch stmt, prob: &quot;</span></CodeLine>
<Link id="l12423" /><CodeLine lineNumber="12423"><span class="doxyHighlight">                    &lt;&lt; TopCaseProb &lt;&lt; </span><span class="doxyHighlightStringLiteral">&quot;\\n&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l12424" /><CodeLine lineNumber="12424"></CodeLine>
<Link id="l12425" /><CodeLine lineNumber="12425"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Record the MBB for the peeled switch statement.</span></CodeLine>
<Link id="l12426" /><CodeLine lineNumber="12426"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/machinefunction/#aaba82c71ffdca966cad10eae0992fff9">MachineFunction::iterator</a> BBI(SwitchMBB);</span></CodeLine>
<Link id="l12427" /><CodeLine lineNumber="12427"><span class="doxyHighlight">  ++BBI;</span></CodeLine>
<Link id="l12428" /><CodeLine lineNumber="12428"><span class="doxyHighlight">  MachineBasicBlock &#42;PeeledSwitchMBB =</span></CodeLine>
<Link id="l12429" /><CodeLine lineNumber="12429"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.MF-&gt;CreateMachineBasicBlock(SwitchMBB-&gt;<a href="/docs/api/classes/llvm/machinebasicblock/#a4874816314c3308be0bf1e71de2078d8">getBasicBlock</a>());</span></CodeLine>
<Link id="l12430" /><CodeLine lineNumber="12430"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.MF-&gt;insert(BBI, PeeledSwitchMBB);</span></CodeLine>
<Link id="l12431" /><CodeLine lineNumber="12431"></CodeLine>
<Link id="l12432" /><CodeLine lineNumber="12432"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#aa5254258c6a479f86e6ecfc4dcdd7a5e">ExportFromCurrentBlock</a>(<a href="/docs/api/namespaces/llvm/siencodingfamily/#ac0e8470f1a7e777b89ff85c06a5d46e0a53036b329d60f608f01b3fa1b8f0a473">SI</a>.getCondition());</span></CodeLine>
<Link id="l12433" /><CodeLine lineNumber="12433"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> PeeledCaseIt = Clusters.begin() + PeeledCaseIndex;</span></CodeLine>
<Link id="l12434" /><CodeLine lineNumber="12434"><span class="doxyHighlight">  SwitchWorkListItem <a href="/docs/api/namespaces/llvm/riscvfencefield/#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a> = &#123;SwitchMBB, PeeledCaseIt, PeeledCaseIt,</span></CodeLine>
<Link id="l12435" /><CodeLine lineNumber="12435"><span class="doxyHighlight">                          </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">,   </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">,      TopCaseProb.<a href="/docs/api/classes/llvm/branchprobability/#aaee6034264d5d0782e5d1489360730d9">getCompl</a>()&#125;;</span></CodeLine>
<Link id="l12436" /><CodeLine lineNumber="12436"><span class="doxyHighlight">  lowerWorkItem(W, <a href="/docs/api/namespaces/llvm/siencodingfamily/#ac0e8470f1a7e777b89ff85c06a5d46e0a53036b329d60f608f01b3fa1b8f0a473">SI</a>.getCondition(), SwitchMBB, PeeledSwitchMBB);</span></CodeLine>
<Link id="l12437" /><CodeLine lineNumber="12437"></CodeLine>
<Link id="l12438" /><CodeLine lineNumber="12438"><span class="doxyHighlight">  Clusters.erase(PeeledCaseIt);</span></CodeLine>
<Link id="l12439" /><CodeLine lineNumber="12439"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (CaseCluster &amp;<a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a77c69067ae8279bc00ab8757731e90d7">CC</a> : Clusters) &#123;</span></CodeLine>
<Link id="l12440" /><CodeLine lineNumber="12440"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/support/debug-h/#a196897517069dda1bdb549e24468f7d7">LLVM&#95;DEBUG</a>(</span></CodeLine>
<Link id="l12441" /><CodeLine lineNumber="12441"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; </span><span class="doxyHighlightStringLiteral">&quot;Scale the probablity for one cluster, before scaling: &quot;</span></CodeLine>
<Link id="l12442" /><CodeLine lineNumber="12442"><span class="doxyHighlight">               &lt;&lt; <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a77c69067ae8279bc00ab8757731e90d7">CC</a>.Prob &lt;&lt; </span><span class="doxyHighlightStringLiteral">&quot;\\n&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l12443" /><CodeLine lineNumber="12443"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a77c69067ae8279bc00ab8757731e90d7">CC</a>.Prob = <a href="#a64747c8e3007c455b9b9a66a50a176e3">scaleCaseProbality</a>(<a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a77c69067ae8279bc00ab8757731e90d7">CC</a>.Prob, TopCaseProb);</span></CodeLine>
<Link id="l12444" /><CodeLine lineNumber="12444"><span class="doxyHighlight">    <a href="/docs/api/files/include/include/llvm/include/llvm/support/debug-h/#a196897517069dda1bdb549e24468f7d7">LLVM&#95;DEBUG</a>(<a href="/docs/api/namespaces/llvm/#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; </span><span class="doxyHighlightStringLiteral">&quot;After scaling: &quot;</span><span class="doxyHighlight"> &lt;&lt; <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvredundantcopyelimination-cpp/#a77c69067ae8279bc00ab8757731e90d7">CC</a>.Prob &lt;&lt; </span><span class="doxyHighlightStringLiteral">&quot;\\n&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l12445" /><CodeLine lineNumber="12445"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l12446" /><CodeLine lineNumber="12446"><span class="doxyHighlight">  PeeledCaseProb = TopCaseProb;</span></CodeLine>
<Link id="l12447" /><CodeLine lineNumber="12447"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> PeeledSwitchMBB;</span></CodeLine>
<Link id="l12448" /><CodeLine lineNumber="12448"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l12449" /><CodeLine lineNumber="12449"></CodeLine>
<Link id="l12450" /><CodeLine lineNumber="12450"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitSwitch(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/switchinst">SwitchInst</a> &amp;<a href="/docs/api/namespaces/llvm/si">SI</a>) &#123;</span></CodeLine>
<Link id="l12451" /><CodeLine lineNumber="12451"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Extract cases from the switch.</span></CodeLine>
<Link id="l12452" /><CodeLine lineNumber="12452"><span class="doxyHighlight">  BranchProbabilityInfo &#42;BPI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.BPI;</span></CodeLine>
<Link id="l12453" /><CodeLine lineNumber="12453"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/switchcg/#a79baa30810b267c49d14b070a5a99110">CaseClusterVector</a> Clusters;</span></CodeLine>
<Link id="l12454" /><CodeLine lineNumber="12454"><span class="doxyHighlight">  Clusters.reserve(<a href="/docs/api/namespaces/llvm/siencodingfamily/#ac0e8470f1a7e777b89ff85c06a5d46e0a53036b329d60f608f01b3fa1b8f0a473">SI</a>.getNumCases());</span></CodeLine>
<Link id="l12455" /><CodeLine lineNumber="12455"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a> : <a href="/docs/api/namespaces/llvm/siencodingfamily/#ac0e8470f1a7e777b89ff85c06a5d46e0a53036b329d60f608f01b3fa1b8f0a473">SI</a>.cases()) &#123;</span></CodeLine>
<Link id="l12456" /><CodeLine lineNumber="12456"><span class="doxyHighlight">    MachineBasicBlock &#42;Succ = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.getMBB(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getCaseSuccessor());</span></CodeLine>
<Link id="l12457" /><CodeLine lineNumber="12457"><span class="doxyHighlight">    </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> ConstantInt &#42;CaseVal = <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getCaseValue();</span></CodeLine>
<Link id="l12458" /><CodeLine lineNumber="12458"><span class="doxyHighlight">    BranchProbability Prob =</span></CodeLine>
<Link id="l12459" /><CodeLine lineNumber="12459"><span class="doxyHighlight">        BPI ? BPI-&gt;<a href="/docs/api/classes/llvm/branchprobabilityinfo/#a46502d648608aa13cb485ed4af447d88">getEdgeProbability</a>(<a href="/docs/api/namespaces/llvm/siencodingfamily/#ac0e8470f1a7e777b89ff85c06a5d46e0a53036b329d60f608f01b3fa1b8f0a473">SI</a>.getParent(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getSuccessorIndex())</span></CodeLine>
<Link id="l12460" /><CodeLine lineNumber="12460"><span class="doxyHighlight">            : BranchProbability(1, <a href="/docs/api/namespaces/llvm/siencodingfamily/#ac0e8470f1a7e777b89ff85c06a5d46e0a53036b329d60f608f01b3fa1b8f0a473">SI</a>.getNumCases() + 1);</span></CodeLine>
<Link id="l12461" /><CodeLine lineNumber="12461"><span class="doxyHighlight">    Clusters.push&#95;back(<a href="/docs/api/structs/llvm/switchcg/casecluster/#a5cd5cdff1df46742a7d1c12136f116fd">CaseCluster::range</a>(CaseVal, CaseVal, Succ, Prob));</span></CodeLine>
<Link id="l12462" /><CodeLine lineNumber="12462"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l12463" /><CodeLine lineNumber="12463"></CodeLine>
<Link id="l12464" /><CodeLine lineNumber="12464"><span class="doxyHighlight">  MachineBasicBlock &#42;DefaultMBB = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.getMBB(<a href="/docs/api/namespaces/llvm/siencodingfamily/#ac0e8470f1a7e777b89ff85c06a5d46e0a53036b329d60f608f01b3fa1b8f0a473">SI</a>.getDefaultDest());</span></CodeLine>
<Link id="l12465" /><CodeLine lineNumber="12465"></CodeLine>
<Link id="l12466" /><CodeLine lineNumber="12466"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Cluster adjacent cases with the same destination. We do this at all</span></CodeLine>
<Link id="l12467" /><CodeLine lineNumber="12467"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// optimization levels because it&#39;s cheap to do and will make codegen faster</span></CodeLine>
<Link id="l12468" /><CodeLine lineNumber="12468"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// if there are many clusters.</span></CodeLine>
<Link id="l12469" /><CodeLine lineNumber="12469"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/switchcg/#a770339f0c1b1f2c1328c48f1f4291dfa">sortAndRangeify</a>(Clusters);</span></CodeLine>
<Link id="l12470" /><CodeLine lineNumber="12470"></CodeLine>
<Link id="l12471" /><CodeLine lineNumber="12471"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// The branch probablity of the peeled case.</span></CodeLine>
<Link id="l12472" /><CodeLine lineNumber="12472"><span class="doxyHighlight">  BranchProbability PeeledCaseProb = <a href="/docs/api/classes/llvm/branchprobability/#afd00958cba7080048a84cccfcef55d71">BranchProbability::getZero</a>();</span></CodeLine>
<Link id="l12473" /><CodeLine lineNumber="12473"><span class="doxyHighlight">  MachineBasicBlock &#42;PeeledSwitchMBB =</span></CodeLine>
<Link id="l12474" /><CodeLine lineNumber="12474"><span class="doxyHighlight">      peelDominantCaseCluster(SI, Clusters, PeeledCaseProb);</span></CodeLine>
<Link id="l12475" /><CodeLine lineNumber="12475"></CodeLine>
<Link id="l12476" /><CodeLine lineNumber="12476"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// If there is only the default destination, jump there directly.</span></CodeLine>
<Link id="l12477" /><CodeLine lineNumber="12477"><span class="doxyHighlight">  MachineBasicBlock &#42;SwitchMBB = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.MBB;</span></CodeLine>
<Link id="l12478" /><CodeLine lineNumber="12478"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (Clusters.empty()) &#123;</span></CodeLine>
<Link id="l12479" /><CodeLine lineNumber="12479"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(PeeledSwitchMBB == SwitchMBB);</span></CodeLine>
<Link id="l12480" /><CodeLine lineNumber="12480"><span class="doxyHighlight">    SwitchMBB-&gt;<a href="/docs/api/classes/llvm/machinebasicblock/#a935e2a8884592189d8f261634a0b24c5">addSuccessor</a>(DefaultMBB);</span></CodeLine>
<Link id="l12481" /><CodeLine lineNumber="12481"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (DefaultMBB != NextBlock(SwitchMBB)) &#123;</span></CodeLine>
<Link id="l12482" /><CodeLine lineNumber="12482"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.setRoot(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(ISD::BR, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), MVT::Other,</span></CodeLine>
<Link id="l12483" /><CodeLine lineNumber="12483"><span class="doxyHighlight">                              <a href="/docs/api/classes/llvm/selectiondagbuilder/#aef34360e8bb4bdecf3fd6345ff504f81">getControlRoot</a>(), <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getBasicBlock(DefaultMBB)));</span></CodeLine>
<Link id="l12484" /><CodeLine lineNumber="12484"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l12485" /><CodeLine lineNumber="12485"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l12486" /><CodeLine lineNumber="12486"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l12487" /><CodeLine lineNumber="12487"></CodeLine>
<Link id="l12488" /><CodeLine lineNumber="12488"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#a346bf6c4d7fca3ebce554ec2cdd80e87">SL</a>-&gt;findJumpTables(Clusters, &amp;SI, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), DefaultMBB, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getPSI(),</span></CodeLine>
<Link id="l12489" /><CodeLine lineNumber="12489"><span class="doxyHighlight">                     <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getBFI());</span></CodeLine>
<Link id="l12490" /><CodeLine lineNumber="12490"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#a346bf6c4d7fca3ebce554ec2cdd80e87">SL</a>-&gt;findBitTestClusters(Clusters, &amp;SI);</span></CodeLine>
<Link id="l12491" /><CodeLine lineNumber="12491"></CodeLine>
<Link id="l12492" /><CodeLine lineNumber="12492"><span class="doxyHighlight">  <a href="/docs/api/files/include/include/llvm/include/llvm/support/debug-h/#a196897517069dda1bdb549e24468f7d7">LLVM&#95;DEBUG</a>(&#123;</span></CodeLine>
<Link id="l12493" /><CodeLine lineNumber="12493"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; </span><span class="doxyHighlightStringLiteral">&quot;Case clusters: &quot;</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l12494" /><CodeLine lineNumber="12494"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> CaseCluster &amp;<a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a> : Clusters) &#123;</span></CodeLine>
<Link id="l12495" /><CodeLine lineNumber="12495"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a>.Kind == <a href="/docs/api/namespaces/llvm/switchcg/#af4eb499895466e3a26f105b4c11d20daa8618d970d3b70f103de8d0eab7e6a5eb">CC&#95;JumpTable</a>)</span></CodeLine>
<Link id="l12496" /><CodeLine lineNumber="12496"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; </span><span class="doxyHighlightStringLiteral">&quot;JT:&quot;</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l12497" /><CodeLine lineNumber="12497"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a>.Kind == <a href="/docs/api/namespaces/llvm/switchcg/#af4eb499895466e3a26f105b4c11d20daab3398550375bca11fe3e11d0c454e382">CC&#95;BitTests</a>)</span></CodeLine>
<Link id="l12498" /><CodeLine lineNumber="12498"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; </span><span class="doxyHighlightStringLiteral">&quot;BT:&quot;</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l12499" /><CodeLine lineNumber="12499"></CodeLine>
<Link id="l12500" /><CodeLine lineNumber="12500"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a>.Low-&gt;getValue().print(<a href="/docs/api/namespaces/llvm/#a7c46c742c31be54870e2038048e6b391">dbgs</a>(), </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l12501" /><CodeLine lineNumber="12501"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a>.Low != <a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a>.High) &#123;</span></CodeLine>
<Link id="l12502" /><CodeLine lineNumber="12502"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; </span><span class="doxyHighlightCharLiteral">&#39;-&#39;</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l12503" /><CodeLine lineNumber="12503"><span class="doxyHighlight">        <a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a>.High-&gt;getValue().print(<a href="/docs/api/namespaces/llvm/#a7c46c742c31be54870e2038048e6b391">dbgs</a>(), </span><span class="doxyHighlightKeyword">true</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l12504" /><CodeLine lineNumber="12504"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l12505" /><CodeLine lineNumber="12505"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; </span><span class="doxyHighlightCharLiteral">&#39; &#39;</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l12506" /><CodeLine lineNumber="12506"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l12507" /><CodeLine lineNumber="12507"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; </span><span class="doxyHighlightCharLiteral">&#39;\\n&#39;</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l12508" /><CodeLine lineNumber="12508"><span class="doxyHighlight">  &#125;);</span></CodeLine>
<Link id="l12509" /><CodeLine lineNumber="12509"></CodeLine>
<Link id="l12510" /><CodeLine lineNumber="12510"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Clusters.empty());</span></CodeLine>
<Link id="l12511" /><CodeLine lineNumber="12511"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/switchcg/#afa5b66c5260f307ec76bc6a21315b051">SwitchWorkList</a> WorkList;</span></CodeLine>
<Link id="l12512" /><CodeLine lineNumber="12512"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/switchcg/#afb58db00e426c2a6c09111c7cea5a743">CaseClusterIt</a> <a href="/docs/api/namespaces/llvm/#a9eb4f5b98b70ee4fab9614ed58282c1fa7fb55ed0b7a30342ba6da306428cae04">First</a> = Clusters.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#a8a045d250952c0867382a9840ee18fdf">begin</a>();</span></CodeLine>
<Link id="l12513" /><CodeLine lineNumber="12513"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/switchcg/#afb58db00e426c2a6c09111c7cea5a743">CaseClusterIt</a> <a href="/docs/api/namespaces/llvm/#ac10d13c57a7adf4a1f140afd5321309bad55b30607c2a9a2616347d6edb789f6b">Last</a> = Clusters.end() - 1;</span></CodeLine>
<Link id="l12514" /><CodeLine lineNumber="12514"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> DefaultProb = getEdgeProbability(PeeledSwitchMBB, DefaultMBB);</span></CodeLine>
<Link id="l12515" /><CodeLine lineNumber="12515"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Scale the branchprobability for DefaultMBB if the peel occurs and</span></CodeLine>
<Link id="l12516" /><CodeLine lineNumber="12516"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// DefaultMBB is not replaced.</span></CodeLine>
<Link id="l12517" /><CodeLine lineNumber="12517"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (PeeledCaseProb != <a href="/docs/api/classes/llvm/branchprobability/#afd00958cba7080048a84cccfcef55d71">BranchProbability::getZero</a>() &amp;&amp;</span></CodeLine>
<Link id="l12518" /><CodeLine lineNumber="12518"><span class="doxyHighlight">      DefaultMBB == <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.getMBB(<a href="/docs/api/namespaces/llvm/siencodingfamily/#ac0e8470f1a7e777b89ff85c06a5d46e0a53036b329d60f608f01b3fa1b8f0a473">SI</a>.getDefaultDest()))</span></CodeLine>
<Link id="l12519" /><CodeLine lineNumber="12519"><span class="doxyHighlight">    DefaultProb = <a href="#a64747c8e3007c455b9b9a66a50a176e3">scaleCaseProbality</a>(DefaultProb, PeeledCaseProb);</span></CodeLine>
<Link id="l12520" /><CodeLine lineNumber="12520"><span class="doxyHighlight">  WorkList.<a href="/docs/api/classes/llvm/smallvectortemplatebase/#af42bfbc067df27c19ee2fc859df58799">push&#95;back</a>(</span></CodeLine>
<Link id="l12521" /><CodeLine lineNumber="12521"><span class="doxyHighlight">      &#123;PeeledSwitchMBB, <a href="/docs/api/namespaces/llvm/#a9eb4f5b98b70ee4fab9614ed58282c1fa7fb55ed0b7a30342ba6da306428cae04">First</a>, <a href="/docs/api/namespaces/llvm/#ac10d13c57a7adf4a1f140afd5321309bad55b30607c2a9a2616347d6edb789f6b">Last</a>, </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">, </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">, DefaultProb&#125;);</span></CodeLine>
<Link id="l12522" /><CodeLine lineNumber="12522"></CodeLine>
<Link id="l12523" /><CodeLine lineNumber="12523"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">while</span><span class="doxyHighlight"> (!WorkList.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#ad9a3c7bc26b130377bbafc170b5f88a2">empty</a>()) &#123;</span></CodeLine>
<Link id="l12524" /><CodeLine lineNumber="12524"><span class="doxyHighlight">    SwitchWorkListItem <a href="/docs/api/namespaces/llvm/riscvfencefield/#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a> = WorkList.<a href="/docs/api/classes/llvm/smallvectorimpl/#a0c8ffe664a36e30d49c84d0aded2fe08">pop&#95;back&#95;val</a>();</span></CodeLine>
<Link id="l12525" /><CodeLine lineNumber="12525"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumClusters = <a href="/docs/api/namespaces/llvm/riscvfencefield/#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.LastCluster - <a href="/docs/api/namespaces/llvm/riscvfencefield/#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.FirstCluster + 1;</span></CodeLine>
<Link id="l12526" /><CodeLine lineNumber="12526"></CodeLine>
<Link id="l12527" /><CodeLine lineNumber="12527"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (NumClusters &gt; 3 &amp;&amp; TM.getOptLevel() != <a href="/docs/api/namespaces/llvm/#a8ec1bf8d7b792ca9fac56f8514db18d2a6adf97f83acf6453d4a6a4b1070f3754">CodeGenOptLevel::None</a> &amp;&amp;</span></CodeLine>
<Link id="l12528" /><CodeLine lineNumber="12528"><span class="doxyHighlight">        !DefaultMBB-&gt;<a href="/docs/api/classes/llvm/machinebasicblock/#acf6442108e21e7e5379feb8962de65b7">getParent</a>()-&gt;<a href="/docs/api/classes/llvm/machinefunction/#a977ddce262de45c645be23d951066351">getFunction</a>().<a href="/docs/api/classes/llvm/function/#a548cfb9440f36ba67fc5566b8e967fc6">hasMinSize</a>()) &#123;</span></CodeLine>
<Link id="l12529" /><CodeLine lineNumber="12529"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// For optimized builds, lower large range as a balanced binary tree.</span></CodeLine>
<Link id="l12530" /><CodeLine lineNumber="12530"><span class="doxyHighlight">      splitWorkItem(WorkList, W, <a href="/docs/api/namespaces/llvm/siencodingfamily/#ac0e8470f1a7e777b89ff85c06a5d46e0a53036b329d60f608f01b3fa1b8f0a473">SI</a>.getCondition(), SwitchMBB);</span></CodeLine>
<Link id="l12531" /><CodeLine lineNumber="12531"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">continue</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l12532" /><CodeLine lineNumber="12532"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l12533" /><CodeLine lineNumber="12533"></CodeLine>
<Link id="l12534" /><CodeLine lineNumber="12534"><span class="doxyHighlight">    lowerWorkItem(W, <a href="/docs/api/namespaces/llvm/siencodingfamily/#ac0e8470f1a7e777b89ff85c06a5d46e0a53036b329d60f608f01b3fa1b8f0a473">SI</a>.getCondition(), SwitchMBB, DefaultMBB);</span></CodeLine>
<Link id="l12535" /><CodeLine lineNumber="12535"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l12536" /><CodeLine lineNumber="12536"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l12537" /><CodeLine lineNumber="12537"></CodeLine>
<Link id="l12538" /><CodeLine lineNumber="12538"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitStepVector(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/callinst">CallInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l12539" /><CodeLine lineNumber="12539"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> TargetLowering &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l12540" /><CodeLine lineNumber="12540"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>();</span></CodeLine>
<Link id="l12541" /><CodeLine lineNumber="12541"><span class="doxyHighlight">  EVT ResultVT = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType());</span></CodeLine>
<Link id="l12542" /><CodeLine lineNumber="12542"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getStepVector(<a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, ResultVT));</span></CodeLine>
<Link id="l12543" /><CodeLine lineNumber="12543"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l12544" /><CodeLine lineNumber="12544"></CodeLine>
<Link id="l12545" /><CodeLine lineNumber="12545"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitVectorReverse(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/callinst">CallInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l12546" /><CodeLine lineNumber="12546"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> TargetLowering &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l12547" /><CodeLine lineNumber="12547"><span class="doxyHighlight">  EVT VT = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType());</span></CodeLine>
<Link id="l12548" /><CodeLine lineNumber="12548"></CodeLine>
<Link id="l12549" /><CodeLine lineNumber="12549"><span class="doxyHighlight">  SDLoc <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>();</span></CodeLine>
<Link id="l12550" /><CodeLine lineNumber="12550"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/m68k/#ab3a288f2953d8eca3e363959fc2cf38ea5206560a306a2e085a437fd258eb57ce">V</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0));</span></CodeLine>
<Link id="l12551" /><CodeLine lineNumber="12551"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(VT == <a href="/docs/api/namespaces/llvm/m68k/#ab3a288f2953d8eca3e363959fc2cf38ea5206560a306a2e085a437fd258eb57ce">V</a>.getValueType() &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;Malformed vector.reverse!&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l12552" /><CodeLine lineNumber="12552"></CodeLine>
<Link id="l12553" /><CodeLine lineNumber="12553"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (VT.<a href="/docs/api/structs/llvm/evt/#ab8967b7214f38cdea9c0158dbe2ffa31">isScalableVector</a>()) &#123;</span></CodeLine>
<Link id="l12554" /><CodeLine lineNumber="12554"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110aad7728df1343db6f976857aaa2e945ee">ISD::VECTOR&#95;REVERSE</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, V));</span></CodeLine>
<Link id="l12555" /><CodeLine lineNumber="12555"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l12556" /><CodeLine lineNumber="12556"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l12557" /><CodeLine lineNumber="12557"></CodeLine>
<Link id="l12558" /><CodeLine lineNumber="12558"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Use VECTOR&#95;SHUFFLE for the fixed-length vector</span></CodeLine>
<Link id="l12559" /><CodeLine lineNumber="12559"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// to maintain existing behavior.</span></CodeLine>
<Link id="l12560" /><CodeLine lineNumber="12560"><span class="doxyHighlight">  SmallVector&lt;int, 8&gt; <a href="/docs/api/namespaces/llvm/bitmaskenumdetail/#a4562904154aff9698a612bc7f6086a4c">Mask</a>;</span></CodeLine>
<Link id="l12561" /><CodeLine lineNumber="12561"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumElts = VT.<a href="/docs/api/structs/llvm/evt/#a53fb11c0140efce7e25ca9ff5ccbac96">getVectorMinNumElements</a>();</span></CodeLine>
<Link id="l12562" /><CodeLine lineNumber="12562"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> i = 0; i != NumElts; ++i)</span></CodeLine>
<Link id="l12563" /><CodeLine lineNumber="12563"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/bitmaskenumdetail/#a4562904154aff9698a612bc7f6086a4c">Mask</a>.push&#95;back(NumElts - 1 - i);</span></CodeLine>
<Link id="l12564" /><CodeLine lineNumber="12564"></CodeLine>
<Link id="l12565" /><CodeLine lineNumber="12565"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVectorShuffle(VT, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, V, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getUNDEF(VT), Mask));</span></CodeLine>
<Link id="l12566" /><CodeLine lineNumber="12566"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l12567" /><CodeLine lineNumber="12567"></CodeLine>
<Link id="l12568" /><CodeLine lineNumber="12568"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitVectorDeinterleave(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/callinst">CallInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l12569" /><CodeLine lineNumber="12569"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>();</span></CodeLine>
<Link id="l12570" /><CodeLine lineNumber="12570"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> InVec = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0));</span></CodeLine>
<Link id="l12571" /><CodeLine lineNumber="12571"><span class="doxyHighlight">  EVT OutVT =</span></CodeLine>
<Link id="l12572" /><CodeLine lineNumber="12572"><span class="doxyHighlight">      InVec.<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>().<a href="/docs/api/structs/llvm/evt/#aee35a362966ced72913881d8a2dc3be8">getHalfNumVectorElementsVT</a>(&#42;<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getContext());</span></CodeLine>
<Link id="l12573" /><CodeLine lineNumber="12573"></CodeLine>
<Link id="l12574" /><CodeLine lineNumber="12574"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> OutNumElts = OutVT.<a href="/docs/api/structs/llvm/evt/#a53fb11c0140efce7e25ca9ff5ccbac96">getVectorMinNumElements</a>();</span></CodeLine>
<Link id="l12575" /><CodeLine lineNumber="12575"></CodeLine>
<Link id="l12576" /><CodeLine lineNumber="12576"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// ISD Node needs the input vectors split into two equal parts</span></CodeLine>
<Link id="l12577" /><CodeLine lineNumber="12577"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/#a9ac8e4e13ad96a39c3f8db9ed633ad2baff50b4aa1c9cc2197ef898436641c911">Lo</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9070de8a5c5b71851732c4c54e2ffedf">ISD::EXTRACT&#95;SUBVECTOR</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, OutVT, InVec,</span></CodeLine>
<Link id="l12578" /><CodeLine lineNumber="12578"><span class="doxyHighlight">                           <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVectorIdxConstant(0, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>));</span></CodeLine>
<Link id="l12579" /><CodeLine lineNumber="12579"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/#a9ac8e4e13ad96a39c3f8db9ed633ad2bac1a5298f939e87e8f962a5edfc206918">Hi</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a9070de8a5c5b71851732c4c54e2ffedf">ISD::EXTRACT&#95;SUBVECTOR</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, OutVT, InVec,</span></CodeLine>
<Link id="l12580" /><CodeLine lineNumber="12580"><span class="doxyHighlight">                           <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVectorIdxConstant(OutNumElts, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>));</span></CodeLine>
<Link id="l12581" /><CodeLine lineNumber="12581"></CodeLine>
<Link id="l12582" /><CodeLine lineNumber="12582"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Use VECTOR&#95;SHUFFLE for fixed-length vectors to benefit from existing</span></CodeLine>
<Link id="l12583" /><CodeLine lineNumber="12583"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// legalisation and combines.</span></CodeLine>
<Link id="l12584" /><CodeLine lineNumber="12584"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (OutVT.<a href="/docs/api/structs/llvm/evt/#a920f0719057d7352f9da10908859368d">isFixedLengthVector</a>()) &#123;</span></CodeLine>
<Link id="l12585" /><CodeLine lineNumber="12585"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/anonymous-aarch64a57fploadbalancing-cpp-/#afcb9ac67c90816f55d217d4f629e1047a35537fbc25d87ffe59e4f35fefcd34b7">Even</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVectorShuffle(OutVT, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a href="/docs/api/namespaces/llvm/#a9ac8e4e13ad96a39c3f8db9ed633ad2baff50b4aa1c9cc2197ef898436641c911">Lo</a>, <a href="/docs/api/namespaces/llvm/#a9ac8e4e13ad96a39c3f8db9ed633ad2bac1a5298f939e87e8f962a5edfc206918">Hi</a>,</span></CodeLine>
<Link id="l12586" /><CodeLine lineNumber="12586"><span class="doxyHighlight">                                        <a href="/docs/api/namespaces/llvm/#a689f785bfa4f3650dc44d519df0406fd">createStrideMask</a>(0, 2, OutNumElts));</span></CodeLine>
<Link id="l12587" /><CodeLine lineNumber="12587"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/anonymous-aarch64a57fploadbalancing-cpp-/#afcb9ac67c90816f55d217d4f629e1047a37b6bd7fe61d651735cec3d3b0356c66">Odd</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVectorShuffle(OutVT, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a href="/docs/api/namespaces/llvm/#a9ac8e4e13ad96a39c3f8db9ed633ad2baff50b4aa1c9cc2197ef898436641c911">Lo</a>, <a href="/docs/api/namespaces/llvm/#a9ac8e4e13ad96a39c3f8db9ed633ad2bac1a5298f939e87e8f962a5edfc206918">Hi</a>,</span></CodeLine>
<Link id="l12588" /><CodeLine lineNumber="12588"><span class="doxyHighlight">                                       <a href="/docs/api/namespaces/llvm/#a689f785bfa4f3650dc44d519df0406fd">createStrideMask</a>(1, 2, OutNumElts));</span></CodeLine>
<Link id="l12589" /><CodeLine lineNumber="12589"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Res = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMergeValues(&#123;<a href="/docs/api/namespaces/anonymous-aarch64a57fploadbalancing-cpp-/#afcb9ac67c90816f55d217d4f629e1047a35537fbc25d87ffe59e4f35fefcd34b7">Even</a>, <a href="/docs/api/namespaces/anonymous-aarch64a57fploadbalancing-cpp-/#afcb9ac67c90816f55d217d4f629e1047a37b6bd7fe61d651735cec3d3b0356c66">Odd</a>&#125;, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>());</span></CodeLine>
<Link id="l12590" /><CodeLine lineNumber="12590"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Res);</span></CodeLine>
<Link id="l12591" /><CodeLine lineNumber="12591"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l12592" /><CodeLine lineNumber="12592"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l12593" /><CodeLine lineNumber="12593"></CodeLine>
<Link id="l12594" /><CodeLine lineNumber="12594"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Res = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110af5b978686fa3409a40ce3abe447db653">ISD::VECTOR&#95;DEINTERLEAVE</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</span></CodeLine>
<Link id="l12595" /><CodeLine lineNumber="12595"><span class="doxyHighlight">                            <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVTList(OutVT, OutVT), <a href="/docs/api/namespaces/llvm/#a9ac8e4e13ad96a39c3f8db9ed633ad2baff50b4aa1c9cc2197ef898436641c911">Lo</a>, <a href="/docs/api/namespaces/llvm/#a9ac8e4e13ad96a39c3f8db9ed633ad2bac1a5298f939e87e8f962a5edfc206918">Hi</a>);</span></CodeLine>
<Link id="l12596" /><CodeLine lineNumber="12596"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Res);</span></CodeLine>
<Link id="l12597" /><CodeLine lineNumber="12597"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l12598" /><CodeLine lineNumber="12598"></CodeLine>
<Link id="l12599" /><CodeLine lineNumber="12599"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitVectorInterleave(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/callinst">CallInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l12600" /><CodeLine lineNumber="12600"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>();</span></CodeLine>
<Link id="l12601" /><CodeLine lineNumber="12601"><span class="doxyHighlight">  EVT InVT = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0)).<a href="/docs/api/classes/llvm/sdvalue/#a6b2b8ca5b0fdf6484247d5ae74deb9ff">getValueType</a>();</span></CodeLine>
<Link id="l12602" /><CodeLine lineNumber="12602"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> InVec0 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0));</span></CodeLine>
<Link id="l12603" /><CodeLine lineNumber="12603"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> InVec1 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(1));</span></CodeLine>
<Link id="l12604" /><CodeLine lineNumber="12604"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> TargetLowering &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l12605" /><CodeLine lineNumber="12605"><span class="doxyHighlight">  EVT OutVT = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType());</span></CodeLine>
<Link id="l12606" /><CodeLine lineNumber="12606"></CodeLine>
<Link id="l12607" /><CodeLine lineNumber="12607"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Use VECTOR&#95;SHUFFLE for fixed-length vectors to benefit from existing</span></CodeLine>
<Link id="l12608" /><CodeLine lineNumber="12608"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// legalisation and combines.</span></CodeLine>
<Link id="l12609" /><CodeLine lineNumber="12609"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (OutVT.<a href="/docs/api/structs/llvm/evt/#a920f0719057d7352f9da10908859368d">isFixedLengthVector</a>()) &#123;</span></CodeLine>
<Link id="l12610" /><CodeLine lineNumber="12610"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumElts = InVT.<a href="/docs/api/structs/llvm/evt/#a53fb11c0140efce7e25ca9ff5ccbac96">getVectorMinNumElements</a>();</span></CodeLine>
<Link id="l12611" /><CodeLine lineNumber="12611"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/m68k/#ab3a288f2953d8eca3e363959fc2cf38ea5206560a306a2e085a437fd258eb57ce">V</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a320898056eadc3254fc601e1362eb9f5">ISD::CONCAT&#95;VECTORS</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, OutVT, InVec0, InVec1);</span></CodeLine>
<Link id="l12612" /><CodeLine lineNumber="12612"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVectorShuffle(OutVT, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, V, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getUNDEF(OutVT),</span></CodeLine>
<Link id="l12613" /><CodeLine lineNumber="12613"><span class="doxyHighlight">                                      <a href="/docs/api/namespaces/llvm/#aab4ac3afe77847f88a5bec4ef29e68fa">createInterleaveMask</a>(NumElts, 2)));</span></CodeLine>
<Link id="l12614" /><CodeLine lineNumber="12614"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l12615" /><CodeLine lineNumber="12615"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l12616" /><CodeLine lineNumber="12616"></CodeLine>
<Link id="l12617" /><CodeLine lineNumber="12617"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> Res = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a7314e9c42c2c93e3786adfd12aee39d7">ISD::VECTOR&#95;INTERLEAVE</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</span></CodeLine>
<Link id="l12618" /><CodeLine lineNumber="12618"><span class="doxyHighlight">                            <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVTList(InVT, InVT), InVec0, InVec1);</span></CodeLine>
<Link id="l12619" /><CodeLine lineNumber="12619"><span class="doxyHighlight">  Res = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a320898056eadc3254fc601e1362eb9f5">ISD::CONCAT&#95;VECTORS</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, OutVT, Res.<a href="/docs/api/classes/llvm/sdvalue/#a64932427432abeb61241e98bea167580">getValue</a>(0),</span></CodeLine>
<Link id="l12620" /><CodeLine lineNumber="12620"><span class="doxyHighlight">                    Res.<a href="/docs/api/classes/llvm/sdvalue/#a64932427432abeb61241e98bea167580">getValue</a>(1));</span></CodeLine>
<Link id="l12621" /><CodeLine lineNumber="12621"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Res);</span></CodeLine>
<Link id="l12622" /><CodeLine lineNumber="12622"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l12623" /><CodeLine lineNumber="12623"></CodeLine>
<Link id="l12624" /><CodeLine lineNumber="12624"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitFreeze(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/freezeinst">FreezeInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l12625" /><CodeLine lineNumber="12625"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;EVT, 4&gt;</a> ValueVTs;</span></CodeLine>
<Link id="l12626" /><CodeLine lineNumber="12626"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#ab99618b3d8988b758a67f5a1a6071095">ComputeValueVTs</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo(), <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType(),</span></CodeLine>
<Link id="l12627" /><CodeLine lineNumber="12627"><span class="doxyHighlight">                  ValueVTs);</span></CodeLine>
<Link id="l12628" /><CodeLine lineNumber="12628"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumValues = ValueVTs.<a href="/docs/api/classes/llvm/smallvectortemplatecommon/#a1c479a8c434377c2b8cb056bdfdfc201">size</a>();</span></CodeLine>
<Link id="l12629" /><CodeLine lineNumber="12629"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (NumValues == 0) </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l12630" /><CodeLine lineNumber="12630"></CodeLine>
<Link id="l12631" /><CodeLine lineNumber="12631"><span class="doxyHighlight">  SmallVector&lt;SDValue, 4&gt; Values(NumValues);</span></CodeLine>
<Link id="l12632" /><CodeLine lineNumber="12632"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0));</span></CodeLine>
<Link id="l12633" /><CodeLine lineNumber="12633"></CodeLine>
<Link id="l12634" /><CodeLine lineNumber="12634"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> i = 0; i != NumValues; ++i)</span></CodeLine>
<Link id="l12635" /><CodeLine lineNumber="12635"><span class="doxyHighlight">    Values&#91;i&#93; = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110ad3b50b6d74957b19afb85ac29f66afef">ISD::FREEZE</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), ValueVTs&#91;i&#93;,</span></CodeLine>
<Link id="l12636" /><CodeLine lineNumber="12636"><span class="doxyHighlight">                            <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a>(<a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>.getNode(), <a href="/docs/api/namespaces/llvm/#ab471937b9a227e70c7fe8bd9604014d6">Op</a>.getResNo() + i));</span></CodeLine>
<Link id="l12637" /><CodeLine lineNumber="12637"></CodeLine>
<Link id="l12638" /><CodeLine lineNumber="12638"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a01c94937492f3ac3fb1e0be8eb0b9ef1">ISD::MERGE&#95;VALUES</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(),</span></CodeLine>
<Link id="l12639" /><CodeLine lineNumber="12639"><span class="doxyHighlight">                           <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVTList(ValueVTs), Values));</span></CodeLine>
<Link id="l12640" /><CodeLine lineNumber="12640"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l12641" /><CodeLine lineNumber="12641"></CodeLine>
<Link id="l12642" /><CodeLine lineNumber="12642"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitVectorSplice(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/callinst">CallInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l12643" /><CodeLine lineNumber="12643"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> TargetLowering &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l12644" /><CodeLine lineNumber="12644"><span class="doxyHighlight">  EVT VT = TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a126c61d55fb4d2e509537ce68e8b6400">getValueType</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType());</span></CodeLine>
<Link id="l12645" /><CodeLine lineNumber="12645"></CodeLine>
<Link id="l12646" /><CodeLine lineNumber="12646"><span class="doxyHighlight">  SDLoc <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>();</span></CodeLine>
<Link id="l12647" /><CodeLine lineNumber="12647"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> V1 = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(0));</span></CodeLine>
<Link id="l12648" /><CodeLine lineNumber="12648"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/nvptx/ptxldstinstcode/#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">V2</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#a025adb087cac36e2cd504a33e8cb749d">getValue</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(1));</span></CodeLine>
<Link id="l12649" /><CodeLine lineNumber="12649"><span class="doxyHighlight">  int64&#95;t <a href="/docs/api/namespaces/llvm/amdgpu/#a4554b8c1e903115f6d7c75b0cc8900dcae71a5bce3c21304da97e1e5d3dab0ed3">Imm</a> = <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;ConstantInt&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand(2))-&gt;getSExtValue();</span></CodeLine>
<Link id="l12650" /><CodeLine lineNumber="12650"></CodeLine>
<Link id="l12651" /><CodeLine lineNumber="12651"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// VECTOR&#95;SHUFFLE doesn&#39;t support a scalable mask so use a dedicated node.</span></CodeLine>
<Link id="l12652" /><CodeLine lineNumber="12652"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (VT.<a href="/docs/api/structs/llvm/evt/#ab8967b7214f38cdea9c0158dbe2ffa31">isScalableVector</a>()) &#123;</span></CodeLine>
<Link id="l12653" /><CodeLine lineNumber="12653"><span class="doxyHighlight">    <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(</span></CodeLine>
<Link id="l12654" /><CodeLine lineNumber="12654"><span class="doxyHighlight">        &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110ad55a17543ef86f6d46aebb45028a9067">ISD::VECTOR&#95;SPLICE</a>, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, V1, V2,</span></CodeLine>
<Link id="l12655" /><CodeLine lineNumber="12655"><span class="doxyHighlight">                        <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSignedConstant(</span></CodeLine>
<Link id="l12656" /><CodeLine lineNumber="12656"><span class="doxyHighlight">                            Imm, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, TLI.<a href="/docs/api/classes/llvm/targetloweringbase/#a2dd702dca28f51ec1137faed5d0e5837">getVectorIdxTy</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout()))));</span></CodeLine>
<Link id="l12657" /><CodeLine lineNumber="12657"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l12658" /><CodeLine lineNumber="12658"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l12659" /><CodeLine lineNumber="12659"></CodeLine>
<Link id="l12660" /><CodeLine lineNumber="12660"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> NumElts = VT.<a href="/docs/api/structs/llvm/evt/#ae245d70802e4ebe1cae2b6122c62a22a">getVectorNumElements</a>();</span></CodeLine>
<Link id="l12661" /><CodeLine lineNumber="12661"></CodeLine>
<Link id="l12662" /><CodeLine lineNumber="12662"><span class="doxyHighlight">  uint64&#95;t Idx = (NumElts + <a href="/docs/api/namespaces/llvm/amdgpu/#a4554b8c1e903115f6d7c75b0cc8900dcae71a5bce3c21304da97e1e5d3dab0ed3">Imm</a>) % NumElts;</span></CodeLine>
<Link id="l12663" /><CodeLine lineNumber="12663"></CodeLine>
<Link id="l12664" /><CodeLine lineNumber="12664"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Use VECTOR&#95;SHUFFLE to maintain original behaviour for fixed-length vectors.</span></CodeLine>
<Link id="l12665" /><CodeLine lineNumber="12665"><span class="doxyHighlight">  SmallVector&lt;int, 8&gt; <a href="/docs/api/namespaces/llvm/bitmaskenumdetail/#a4562904154aff9698a612bc7f6086a4c">Mask</a>;</span></CodeLine>
<Link id="l12666" /><CodeLine lineNumber="12666"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> i = 0; i &lt; NumElts; ++i)</span></CodeLine>
<Link id="l12667" /><CodeLine lineNumber="12667"><span class="doxyHighlight">    <a href="/docs/api/namespaces/llvm/bitmaskenumdetail/#a4562904154aff9698a612bc7f6086a4c">Mask</a>.push&#95;back(Idx + i);</span></CodeLine>
<Link id="l12668" /><CodeLine lineNumber="12668"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVectorShuffle(VT, <a href="/docs/api/files/lib/lib/target/lib/target/arm/armslshardening-cpp/#ad467c4ab9119043f9b7750ab986be61a">DL</a>, V1, V2, Mask));</span></CodeLine>
<Link id="l12669" /><CodeLine lineNumber="12669"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l12670" /><CodeLine lineNumber="12670"></CodeLine>
<Link id="l12671" /><CodeLine lineNumber="12671"><span class="doxyHighlightComment">// Consider the following MIR after SelectionDAG, which produces output in</span></CodeLine>
<Link id="l12672" /><CodeLine lineNumber="12672"><span class="doxyHighlightComment">// phyregs in the first case or virtregs in the second case.</span></CodeLine>
<Link id="l12673" /><CodeLine lineNumber="12673"><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l12674" /><CodeLine lineNumber="12674"><span class="doxyHighlightComment">// INLINEASM&#95;BR ..., implicit-def $ebx, ..., implicit-def $edx</span></CodeLine>
<Link id="l12675" /><CodeLine lineNumber="12675"><span class="doxyHighlightComment">// %5:gr32 = COPY $ebx</span></CodeLine>
<Link id="l12676" /><CodeLine lineNumber="12676"><span class="doxyHighlightComment">// %6:gr32 = COPY $edx</span></CodeLine>
<Link id="l12677" /><CodeLine lineNumber="12677"><span class="doxyHighlightComment">// %1:gr32 = COPY %6:gr32</span></CodeLine>
<Link id="l12678" /><CodeLine lineNumber="12678"><span class="doxyHighlightComment">// %0:gr32 = COPY %5:gr32</span></CodeLine>
<Link id="l12679" /><CodeLine lineNumber="12679"><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l12680" /><CodeLine lineNumber="12680"><span class="doxyHighlightComment">// INLINEASM&#95;BR ..., def %5:gr32, ..., def %6:gr32</span></CodeLine>
<Link id="l12681" /><CodeLine lineNumber="12681"><span class="doxyHighlightComment">// %1:gr32 = COPY %6:gr32</span></CodeLine>
<Link id="l12682" /><CodeLine lineNumber="12682"><span class="doxyHighlightComment">// %0:gr32 = COPY %5:gr32</span></CodeLine>
<Link id="l12683" /><CodeLine lineNumber="12683"><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l12684" /><CodeLine lineNumber="12684"><span class="doxyHighlightComment">// Given %0, we&#39;d like to return $ebx in the first case and %5 in the second.</span></CodeLine>
<Link id="l12685" /><CodeLine lineNumber="12685"><span class="doxyHighlightComment">// Given %1, we&#39;d like to return $edx in the first case and %6 in the second.</span></CodeLine>
<Link id="l12686" /><CodeLine lineNumber="12686"><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l12687" /><CodeLine lineNumber="12687"><span class="doxyHighlightComment">// If a callbr has outputs, it will have a single mapping in FuncInfo.ValueMap</span></CodeLine>
<Link id="l12688" /><CodeLine lineNumber="12688"><span class="doxyHighlightComment">// to a single virtreg (such as %0). The remaining outputs monotonically</span></CodeLine>
<Link id="l12689" /><CodeLine lineNumber="12689"><span class="doxyHighlightComment">// increase in virtreg number from there. If a callbr has no outputs, then it</span></CodeLine>
<Link id="l12690" /><CodeLine lineNumber="12690"><span class="doxyHighlightComment">// should not have a corresponding callbr landingpad; in fact, the callbr</span></CodeLine>
<Link id="l12691" /><CodeLine lineNumber="12691"><span class="doxyHighlightComment">// landingpad would not even be able to refer to such a callbr.</span></CodeLine>
<Link id="l12692" /><CodeLine lineNumber="12692" lineLink="#ac0ce44d8c76d29835fb8f68dd8b88742"><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/register">Register</a> <a href="#ac0ce44d8c76d29835fb8f68dd8b88742">FollowCopyChain</a>(<a href="/docs/api/classes/llvm/machineregisterinfo">MachineRegisterInfo</a> &amp;<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64advsimdscalarpass-cpp/#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a href="/docs/api/classes/llvm/register">Register</a> <a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a359e1ff26f6d466d927a61aae45b05c3">Reg</a>) &#123;</span></CodeLine>
<Link id="l12693" /><CodeLine lineNumber="12693"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &#42;<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/irtranslator-cpp/#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64advsimdscalarpass-cpp/#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.def&#95;begin(<a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a359e1ff26f6d466d927a61aae45b05c3">Reg</a>)-&gt;getParent();</span></CodeLine>
<Link id="l12694" /><CodeLine lineNumber="12694"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// There is definitely at least one copy.</span></CodeLine>
<Link id="l12695" /><CodeLine lineNumber="12695"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/irtranslator-cpp/#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOpcode() == TargetOpcode::COPY &amp;&amp;</span></CodeLine>
<Link id="l12696" /><CodeLine lineNumber="12696"><span class="doxyHighlight">         </span><span class="doxyHighlightStringLiteral">&quot;start of copy chain MUST be COPY&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l12697" /><CodeLine lineNumber="12697"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a359e1ff26f6d466d927a61aae45b05c3">Reg</a> = <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/irtranslator-cpp/#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(1).getReg();</span></CodeLine>
<Link id="l12698" /><CodeLine lineNumber="12698"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/irtranslator-cpp/#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64advsimdscalarpass-cpp/#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.def&#95;begin(<a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a359e1ff26f6d466d927a61aae45b05c3">Reg</a>)-&gt;getParent();</span></CodeLine>
<Link id="l12699" /><CodeLine lineNumber="12699"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// There may be an optional second copy.</span></CodeLine>
<Link id="l12700" /><CodeLine lineNumber="12700"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/irtranslator-cpp/#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOpcode() == TargetOpcode::COPY) &#123;</span></CodeLine>
<Link id="l12701" /><CodeLine lineNumber="12701"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a359e1ff26f6d466d927a61aae45b05c3">Reg</a>.isVirtual() &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;expected COPY of virtual register&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l12702" /><CodeLine lineNumber="12702"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a359e1ff26f6d466d927a61aae45b05c3">Reg</a> = <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/irtranslator-cpp/#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(1).getReg();</span></CodeLine>
<Link id="l12703" /><CodeLine lineNumber="12703"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a359e1ff26f6d466d927a61aae45b05c3">Reg</a>.isPhysical() &amp;&amp; </span><span class="doxyHighlightStringLiteral">&quot;expected COPY of physical register&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l12704" /><CodeLine lineNumber="12704"><span class="doxyHighlight">    <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/irtranslator-cpp/#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64advsimdscalarpass-cpp/#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.def&#95;begin(<a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a359e1ff26f6d466d927a61aae45b05c3">Reg</a>)-&gt;getParent();</span></CodeLine>
<Link id="l12705" /><CodeLine lineNumber="12705"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l12706" /><CodeLine lineNumber="12706"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// The start of the chain must be an INLINEASM&#95;BR.</span></CodeLine>
<Link id="l12707" /><CodeLine lineNumber="12707"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/irtranslator-cpp/#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOpcode() == TargetOpcode::INLINEASM&#95;BR &amp;&amp;</span></CodeLine>
<Link id="l12708" /><CodeLine lineNumber="12708"><span class="doxyHighlight">         </span><span class="doxyHighlightStringLiteral">&quot;end of copy chain MUST be INLINEASM&#95;BR&quot;</span><span class="doxyHighlight">);</span></CodeLine>
<Link id="l12709" /><CodeLine lineNumber="12709"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a359e1ff26f6d466d927a61aae45b05c3">Reg</a>;</span></CodeLine>
<Link id="l12710" /><CodeLine lineNumber="12710"><span class="doxyHighlight">&#125;</span></CodeLine>
<Link id="l12711" /><CodeLine lineNumber="12711"></CodeLine>
<Link id="l12712" /><CodeLine lineNumber="12712"><span class="doxyHighlightComment">// We must do this walk rather than the simpler</span></CodeLine>
<Link id="l12713" /><CodeLine lineNumber="12713"><span class="doxyHighlightComment">//   setValue(&amp;I, getCopyFromRegs(CBR, CBR-&gt;getType()));</span></CodeLine>
<Link id="l12714" /><CodeLine lineNumber="12714"><span class="doxyHighlightComment">// otherwise we will end up with copies of virtregs only valid along direct</span></CodeLine>
<Link id="l12715" /><CodeLine lineNumber="12715"><span class="doxyHighlightComment">// edges.</span></CodeLine>
<Link id="l12716" /><CodeLine lineNumber="12716"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> SelectionDAGBuilder::visitCallBrLandingPad(</span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/callinst">CallInst</a> &amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &#123;</span></CodeLine>
<Link id="l12717" /><CodeLine lineNumber="12717"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;EVT, 8&gt;</a> ResultVTs;</span></CodeLine>
<Link id="l12718" /><CodeLine lineNumber="12718"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/#a8fc529c79977cdd01e187986f960a07f">SmallVector&lt;SDValue, 8&gt;</a> ResultValues;</span></CodeLine>
<Link id="l12719" /><CodeLine lineNumber="12719"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &#42;CBR =</span></CodeLine>
<Link id="l12720" /><CodeLine lineNumber="12720"><span class="doxyHighlight">      <a href="/docs/api/namespaces/llvm/#ac4fc845f5ed92de63cd4474f128f5fc5">cast&lt;CallBrInst&gt;</a>(<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getParent()-&gt;getUniquePredecessor()-&gt;getTerminator());</span></CodeLine>
<Link id="l12721" /><CodeLine lineNumber="12721"></CodeLine>
<Link id="l12722" /><CodeLine lineNumber="12722"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> TargetLowering &amp;TLI = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getTargetLoweringInfo();</span></CodeLine>
<Link id="l12723" /><CodeLine lineNumber="12723"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> TargetRegisterInfo &#42;<a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getSubtarget().getRegisterInfo();</span></CodeLine>
<Link id="l12724" /><CodeLine lineNumber="12724"><span class="doxyHighlight">  MachineRegisterInfo &amp;<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64advsimdscalarpass-cpp/#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getMachineFunction().getRegInfo();</span></CodeLine>
<Link id="l12725" /><CodeLine lineNumber="12725"></CodeLine>
<Link id="l12726" /><CodeLine lineNumber="12726"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">unsigned</span><span class="doxyHighlight"> InitialDef = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.ValueMap&#91;CBR&#93;;</span></CodeLine>
<Link id="l12727" /><CodeLine lineNumber="12727"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/anonymous-loadstorevectorizer-cpp-/#afd1adfcbfce320e6265935ce4d6299a3">Chain</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getRoot();</span></CodeLine>
<Link id="l12728" /><CodeLine lineNumber="12728"></CodeLine>
<Link id="l12729" /><CodeLine lineNumber="12729"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Re-parse the asm constraints string.</span></CodeLine>
<Link id="l12730" /><CodeLine lineNumber="12730"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/targetlowering/#a3db162658a7687e8a5df34f5a6aaa840">TargetLowering::AsmOperandInfoVector</a> TargetConstraints =</span></CodeLine>
<Link id="l12731" /><CodeLine lineNumber="12731"><span class="doxyHighlight">      TLI.<a href="/docs/api/classes/llvm/targetlowering/#a1c5e8b6aef41aead06d61ff0530ed9c2">ParseConstraints</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getDataLayout(), <a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>, &#42;CBR);</span></CodeLine>
<Link id="l12732" /><CodeLine lineNumber="12732"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (</span><span class="doxyHighlightKeyword">auto</span><span class="doxyHighlight"> &amp;<a href="/docs/api/files/lib/lib/target/lib/target/mips/mips16isellowering-cpp/#a0acb682b8260ab1c60b918599864e2e5">T</a> : TargetConstraints) &#123;</span></CodeLine>
<Link id="l12733" /><CodeLine lineNumber="12733"><span class="doxyHighlight">    SDISelAsmOperandInfo OpInfo(<a href="/docs/api/files/lib/lib/target/lib/target/mips/mips16isellowering-cpp/#a0acb682b8260ab1c60b918599864e2e5">T</a>);</span></CodeLine>
<Link id="l12734" /><CodeLine lineNumber="12734"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (OpInfo.Type != <a href="/docs/api/classes/llvm/inlineasm/#a511f48809ad14f13e50b957a137a9d34aabfa616f81b4833fdf462b07aabfa53f">InlineAsm::isOutput</a>)</span></CodeLine>
<Link id="l12735" /><CodeLine lineNumber="12735"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">continue</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l12736" /><CodeLine lineNumber="12736"></CodeLine>
<Link id="l12737" /><CodeLine lineNumber="12737"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// Pencil in OpInfo.ConstraintType and OpInfo.ConstraintVT based on the</span></CodeLine>
<Link id="l12738" /><CodeLine lineNumber="12738"><span class="doxyHighlight">    </span><span class="doxyHighlightComment">// individual constraint.</span></CodeLine>
<Link id="l12739" /><CodeLine lineNumber="12739"><span class="doxyHighlight">    TLI.<a href="/docs/api/classes/llvm/targetlowering/#a279a7f92d056886ac713c0f06cc73045">ComputeConstraintToUse</a>(OpInfo, OpInfo.CallOperand, &amp;<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>);</span></CodeLine>
<Link id="l12740" /><CodeLine lineNumber="12740"></CodeLine>
<Link id="l12741" /><CodeLine lineNumber="12741"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">switch</span><span class="doxyHighlight"> (OpInfo.ConstraintType) &#123;</span></CodeLine>
<Link id="l12742" /><CodeLine lineNumber="12742"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetlowering/#a0b0176781cd4fd9f45cc739f1d007116a85f9b8131f0608c03c58e4e23d875dfc">TargetLowering::C&#95;Register</a>:</span></CodeLine>
<Link id="l12743" /><CodeLine lineNumber="12743"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetlowering/#a0b0176781cd4fd9f45cc739f1d007116a1d7718fd43ac0a5c715686a76f9cfd89">TargetLowering::C&#95;RegisterClass</a>: &#123;</span></CodeLine>
<Link id="l12744" /><CodeLine lineNumber="12744"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// Fill in OpInfo.AssignedRegs.Regs.</span></CodeLine>
<Link id="l12745" /><CodeLine lineNumber="12745"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/inlineasmlowering-cpp/#a43762e6a22fd0e7b98b8115946fc87b6">getRegistersForValue</a>(<a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), OpInfo, OpInfo);</span></CodeLine>
<Link id="l12746" /><CodeLine lineNumber="12746"></CodeLine>
<Link id="l12747" /><CodeLine lineNumber="12747"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// getRegistersForValue may produce 1 to many registers based on whether</span></CodeLine>
<Link id="l12748" /><CodeLine lineNumber="12748"><span class="doxyHighlight">      </span><span class="doxyHighlightComment">// the OpInfo.ConstraintVT is legal on the target or not.</span></CodeLine>
<Link id="l12749" /><CodeLine lineNumber="12749"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">for</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/mem2reg-cpp/#a6fde3eb6ca09ddf2fd76432176d817bb">Register</a> &amp;<a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a359e1ff26f6d466d927a61aae45b05c3">Reg</a> : OpInfo.AssignedRegs.Regs) &#123;</span></CodeLine>
<Link id="l12750" /><CodeLine lineNumber="12750"><span class="doxyHighlight">        <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/mem2reg-cpp/#a6fde3eb6ca09ddf2fd76432176d817bb">Register</a> OriginalDef = <a href="#ac0ce44d8c76d29835fb8f68dd8b88742">FollowCopyChain</a>(<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64advsimdscalarpass-cpp/#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, InitialDef++);</span></CodeLine>
<Link id="l12751" /><CodeLine lineNumber="12751"><span class="doxyHighlight">        </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (OriginalDef.<a href="/docs/api/classes/llvm/register/#affdbf5b92ed7e01352e2f39466efbe21">isPhysical</a>())</span></CodeLine>
<Link id="l12752" /><CodeLine lineNumber="12752"><span class="doxyHighlight">          <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>.MBB-&gt;addLiveIn(OriginalDef);</span></CodeLine>
<Link id="l12753" /><CodeLine lineNumber="12753"><span class="doxyHighlight">        </span><span class="doxyHighlightComment">// Update the assigned registers to use the original defs.</span></CodeLine>
<Link id="l12754" /><CodeLine lineNumber="12754"><span class="doxyHighlight">        <a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a359e1ff26f6d466d927a61aae45b05c3">Reg</a> = OriginalDef;</span></CodeLine>
<Link id="l12755" /><CodeLine lineNumber="12755"><span class="doxyHighlight">      &#125;</span></CodeLine>
<Link id="l12756" /><CodeLine lineNumber="12756"></CodeLine>
<Link id="l12757" /><CodeLine lineNumber="12757"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/m68k/#ab3a288f2953d8eca3e363959fc2cf38ea5206560a306a2e085a437fd258eb57ce">V</a> = OpInfo.AssignedRegs.getCopyFromRegs(</span></CodeLine>
<Link id="l12758" /><CodeLine lineNumber="12758"><span class="doxyHighlight">          <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad10e64e191507974af84a4ea069a9e36">FuncInfo</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(), Chain, </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">, CBR);</span></CodeLine>
<Link id="l12759" /><CodeLine lineNumber="12759"><span class="doxyHighlight">      ResultValues.<a href="/docs/api/classes/llvm/smallvectortemplatebase/#af42bfbc067df27c19ee2fc859df58799">push&#95;back</a>(V);</span></CodeLine>
<Link id="l12760" /><CodeLine lineNumber="12760"><span class="doxyHighlight">      ResultVTs.<a href="/docs/api/classes/llvm/smallvectortemplatebase/#af42bfbc067df27c19ee2fc859df58799">push&#95;back</a>(OpInfo.ConstraintVT);</span></CodeLine>
<Link id="l12761" /><CodeLine lineNumber="12761"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l12762" /><CodeLine lineNumber="12762"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l12763" /><CodeLine lineNumber="12763"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">case</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/targetlowering/#a0b0176781cd4fd9f45cc739f1d007116abc9c279d343d2f957ab51b37ff39e88e">TargetLowering::C&#95;Other</a>: &#123;</span></CodeLine>
<Link id="l12764" /><CodeLine lineNumber="12764"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/mcid/#ab357441fcd1ea1f9b0d27c12700f6023">Flag</a>;</span></CodeLine>
<Link id="l12765" /><CodeLine lineNumber="12765"><span class="doxyHighlight">      <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/m68k/#ab3a288f2953d8eca3e363959fc2cf38ea5206560a306a2e085a437fd258eb57ce">V</a> = TLI.<a href="/docs/api/classes/llvm/targetlowering/#a91072af01cf52109f52a15ea367157bf">LowerAsmOutputForConstraint</a>(Chain, Flag, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(),</span></CodeLine>
<Link id="l12766" /><CodeLine lineNumber="12766"><span class="doxyHighlight">                                                  OpInfo, <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>);</span></CodeLine>
<Link id="l12767" /><CodeLine lineNumber="12767"><span class="doxyHighlight">      ++InitialDef;</span></CodeLine>
<Link id="l12768" /><CodeLine lineNumber="12768"><span class="doxyHighlight">      ResultValues.<a href="/docs/api/classes/llvm/smallvectortemplatebase/#af42bfbc067df27c19ee2fc859df58799">push&#95;back</a>(V);</span></CodeLine>
<Link id="l12769" /><CodeLine lineNumber="12769"><span class="doxyHighlight">      ResultVTs.<a href="/docs/api/classes/llvm/smallvectortemplatebase/#af42bfbc067df27c19ee2fc859df58799">push&#95;back</a>(OpInfo.ConstraintVT);</span></CodeLine>
<Link id="l12770" /><CodeLine lineNumber="12770"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l12771" /><CodeLine lineNumber="12771"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l12772" /><CodeLine lineNumber="12772"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">default</span><span class="doxyHighlight">:</span></CodeLine>
<Link id="l12773" /><CodeLine lineNumber="12773"><span class="doxyHighlight">      </span><span class="doxyHighlightKeywordFlow">break</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l12774" /><CodeLine lineNumber="12774"><span class="doxyHighlight">    &#125;</span></CodeLine>
<Link id="l12775" /><CodeLine lineNumber="12775"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l12776" /><CodeLine lineNumber="12776"><span class="doxyHighlight">  <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64isellowering-cpp/#a51cb24bd3e700fcf2f93d1afbb555a16">SDValue</a> <a href="/docs/api/namespaces/llvm/m68k/#ab3a288f2953d8eca3e363959fc2cf38ea5206560a306a2e085a437fd258eb57ce">V</a> = <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getNode(<a href="/docs/api/namespaces/llvm/isd/#a22ea9cec080dd5f4f47ba234c2f59110a01c94937492f3ac3fb1e0be8eb0b9ef1">ISD::MERGE&#95;VALUES</a>, <a href="/docs/api/classes/llvm/selectiondagbuilder/#abb661ad9d4e5fd0d8806106e9b4d7256">getCurSDLoc</a>(),</span></CodeLine>
<Link id="l12777" /><CodeLine lineNumber="12777"><span class="doxyHighlight">                          <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad997f08bfd4680a697130632badf740e">DAG</a>.getVTList(ResultVTs), ResultValues);</span></CodeLine>
<Link id="l12778" /><CodeLine lineNumber="12778"><span class="doxyHighlight">  <a href="/docs/api/classes/llvm/selectiondagbuilder/#ad8368fe85feec440623e9558e100f357">setValue</a>(&amp;<a href="/docs/api/files/lib/lib/support/md5-cpp/#ac0eafdc9ee161b71e7af98af736952fd">I</a>, V);</span></CodeLine>
<Link id="l12779" /><CodeLine lineNumber="12779"><span class="doxyHighlight">&#125;</span></CodeLine>

</ProgramListing>


</DoxygenPage>
