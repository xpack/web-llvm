---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/files/include/include/llvm/include/llvm/support/managedstatic-h
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - file

---

import Link from '@docusaurus/Link'

import CodeLine from '@xpack/docusaurus-plugin-doxygen/components/CodeLine'
import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import ProgramListing from '@xpack/docusaurus-plugin-doxygen/components/ProgramListing'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `ManagedStatic.h` File Reference

<DoxygenPage pluginConfig={pluginConfig}>



## Included Headers

<IncludesList>
<IncludesListItem
  filePath="atomic"
  permalink=""
  isLocal="false" />
<IncludesListItem
  filePath="cstddef"
  permalink=""
  isLocal="false" />
</IncludesList>

## Namespaces Index

<MembersIndex>

<MembersIndexItem
  type="namespace"
  name={<><a href="/docs/api/namespaces/llvm">llvm</a></>}>
This is an optimization pass for GlobalISel generic memory operations. <a href="/docs/api/namespaces/llvm/#details">More...</a>
</MembersIndexItem>

</MembersIndex>

## Classes Index

<MembersIndex>

<MembersIndexItem
  type="struct"
  name={<><a href="/docs/api/structs/llvm/object-creator">object_creator&lt;C&gt;</a></>}>
<a href="/docs/api/structs/llvm/object-creator">object&#95;creator</a> - Helper method for <a href="/docs/api/classes/llvm/managedstatic">ManagedStatic</a>. <a href="/docs/api/structs/llvm/object-creator/#details">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="struct"
  name={<><a href="/docs/api/structs/llvm/object-deleter">object_deleter&lt;T&gt;</a></>}>
<a href="/docs/api/structs/llvm/object-deleter">object&#95;deleter</a> - Helper method for <a href="/docs/api/classes/llvm/managedstatic">ManagedStatic</a>. <a href="/docs/api/structs/llvm/object-deleter/#details">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="struct"
  name={<><a href="/docs/api/structs/llvm/object-deleter-d1db5e2869ffd4ae3eba61b54c182667">object_deleter&lt;T[N]&gt;</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/managedstaticbase">ManagedStaticBase</a></>}>
<a href="/docs/api/classes/llvm/managedstaticbase">ManagedStaticBase</a> - Common base class for <a href="/docs/api/classes/llvm/managedstatic">ManagedStatic</a> instances. <a href="/docs/api/classes/llvm/managedstaticbase/#details">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/managedstatic">ManagedStatic&lt;C, Creator, Deleter&gt;</a></>}>
<a href="/docs/api/classes/llvm/managedstatic">ManagedStatic</a> - This transparently changes the behavior of global statics to be lazily constructed on demand (good for reducing startup times of dynamic libraries that link in LLVM components) and for making destruction be explicit through the <a href="/docs/api/namespaces/llvm/#ac27f7fe6f1543ef516aa0998bad20335">llvm&#95;shutdown()</a> function call. <a href="/docs/api/classes/llvm/managedstatic/#details">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="struct"
  name={<><a href="/docs/api/structs/llvm/llvm-shutdown-obj">llvm_shutdown_obj</a></>}>
<a href="/docs/api/structs/llvm/llvm-shutdown-obj">llvm&#95;shutdown&#95;obj</a> - This is a simple helper class that calls <a href="/docs/api/namespaces/llvm/#ac27f7fe6f1543ef516aa0998bad20335">llvm&#95;shutdown()</a> when it is destroyed. <a href="/docs/api/structs/llvm/llvm-shutdown-obj/#details">More...</a>
</MembersIndexItem>

</MembersIndex>

## Defines Index

<MembersIndex>

<MembersIndexItem
  type="#define"
  name={<><a href="#a4569b595346654f61e646ad685192601">LLVM&#95;USE&#95;CONSTEXPR&#95;CTOR</a></>}>
</MembersIndexItem>

</MembersIndex>


<SectionDefinition>

## Defines

### LLVM&#95;USE&#95;CONSTEXPR&#95;CTOR {#a4569b595346654f61e646ad685192601}

<MemberDefinition
  prototype={<>#define LLVM&#95;USE&#95;CONSTEXPR&#95;CTOR</>}>

Definition at line <a href="#l00045">45</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/support/managedstatic-h">ManagedStatic.h</a>.
</MemberDefinition>

</SectionDefinition>

## File Listing

The file content with the documentation metadata removed is:

<ProgramListing>

<Link id="l00001" /><CodeLine lineNumber="1"><span class="doxyHighlightComment">//===-- llvm/Support/ManagedStatic.h - Static Global wrapper ----&#42;- C++ -&#42;-===//</span></CodeLine>
<Link id="l00002" /><CodeLine lineNumber="2"><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l00003" /><CodeLine lineNumber="3"><span class="doxyHighlightComment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></CodeLine>
<Link id="l00004" /><CodeLine lineNumber="4"><span class="doxyHighlightComment">// See https://llvm.org/LICENSE.txt for license information.</span></CodeLine>
<Link id="l00005" /><CodeLine lineNumber="5"><span class="doxyHighlightComment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></CodeLine>
<Link id="l00006" /><CodeLine lineNumber="6"><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l00007" /><CodeLine lineNumber="7"><span class="doxyHighlightComment">//===----------------------------------------------------------------------===//</span></CodeLine>
<Link id="l00008" /><CodeLine lineNumber="8"><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l00009" /><CodeLine lineNumber="9"><span class="doxyHighlightComment">// This file defines the ManagedStatic class and the llvm&#95;shutdown() function.</span></CodeLine>
<Link id="l00010" /><CodeLine lineNumber="10"><span class="doxyHighlightComment">//</span></CodeLine>
<Link id="l00011" /><CodeLine lineNumber="11"><span class="doxyHighlightComment">//===----------------------------------------------------------------------===//</span></CodeLine>
<Link id="l00012" /><CodeLine lineNumber="12"></CodeLine>
<Link id="l00013" /><CodeLine lineNumber="13"><span class="doxyHighlightPreprocessor">#ifndef LLVM&#95;SUPPORT&#95;MANAGEDSTATIC&#95;H</span></CodeLine>
<Link id="l00014" /><CodeLine lineNumber="14"><span class="doxyHighlightPreprocessor">#define LLVM&#95;SUPPORT&#95;MANAGEDSTATIC&#95;H</span></CodeLine>
<Link id="l00015" /><CodeLine lineNumber="15"></CodeLine>
<Link id="l00016" /><CodeLine lineNumber="16"><span class="doxyHighlightPreprocessor">#include &lt;atomic&gt;</span></CodeLine>
<Link id="l00017" /><CodeLine lineNumber="17"><span class="doxyHighlightPreprocessor">#include &lt;cstddef&gt;</span></CodeLine>
<Link id="l00018" /><CodeLine lineNumber="18"></CodeLine>
<Link id="l00019" /><CodeLine lineNumber="19"><span class="doxyHighlightKeyword">namespace </span><span class="doxyHighlight"><a href="/docs/api/namespaces/llvm">llvm</a> &#123;</span></CodeLine>
<Link id="l00020" /><CodeLine lineNumber="20"></CodeLine>
<Link id="l00021" /><CodeLine lineNumber="21"><span class="doxyHighlightComment">/// object&#95;creator - Helper method for ManagedStatic.</span></CodeLine>
<Link id="l00022" /><CodeLine lineNumber="22" lineLink="/docs/api/structs/llvm/object-creator"><span class="doxyHighlightKeyword">template</span><span class="doxyHighlight"> &lt;</span><span class="doxyHighlightKeyword">class</span><span class="doxyHighlight"> C&gt; </span><span class="doxyHighlightKeyword">struct </span><span class="doxyHighlight"><a href="/docs/api/structs/llvm/object-creator">object&#95;creator</a> &#123;</span></CodeLine>
<Link id="l00023" /><CodeLine lineNumber="23" lineLink="/docs/api/structs/llvm/object-creator/#ae1dbab24fb3abd06f0e7dbf34f696cd8"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> &#42;<a href="/docs/api/structs/llvm/object-creator/#ae1dbab24fb3abd06f0e7dbf34f696cd8">call</a>() &#123; </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">new</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a>(); &#125;</span></CodeLine>
<Link id="l00024" /><CodeLine lineNumber="24"><span class="doxyHighlight">&#125;;</span></CodeLine>
<Link id="l00025" /><CodeLine lineNumber="25"></CodeLine>
<Link id="l00026" /><CodeLine lineNumber="26"><span class="doxyHighlightComment">/// object&#95;deleter - Helper method for ManagedStatic.</span></CodeLine>
<Link id="l00027" /><CodeLine lineNumber="27"><span class="doxyHighlightComment">///</span></CodeLine>
<Link id="l00028" /><CodeLine lineNumber="28" lineLink="/docs/api/structs/llvm/object-deleter"><span class="doxyHighlightKeyword">template</span><span class="doxyHighlight"> &lt;</span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> T&gt; </span><span class="doxyHighlightKeyword">struct </span><span class="doxyHighlight"><a href="/docs/api/structs/llvm/object-deleter">object&#95;deleter</a> &#123;</span></CodeLine>
<Link id="l00029" /><CodeLine lineNumber="29" lineLink="/docs/api/structs/llvm/object-deleter/#a9fa985c43caa3985bff5096731430d09"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/structs/llvm/object-deleter/#a9fa985c43caa3985bff5096731430d09">call</a>(</span><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> &#42;<a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>) &#123; </span><span class="doxyHighlightKeyword">delete</span><span class="doxyHighlight"> (<a href="/docs/api/files/lib/lib/target/lib/target/mips/mips16isellowering-cpp/#a0acb682b8260ab1c60b918599864e2e5">T</a> &#42;)<a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>; &#125;</span></CodeLine>
<Link id="l00030" /><CodeLine lineNumber="30"><span class="doxyHighlight">&#125;;</span></CodeLine>
<Link id="l00031" /><CodeLine lineNumber="31" lineLink="/docs/api/structs/llvm/object-deleter-d1db5e2869ffd4ae3eba61b54c182667"><span class="doxyHighlightKeyword">template</span><span class="doxyHighlight"> &lt;</span><span class="doxyHighlightKeyword">typename</span><span class="doxyHighlight"> T, </span><span class="doxyHighlightKeywordType">size&#95;t</span><span class="doxyHighlight"> N&gt; </span><span class="doxyHighlightKeyword">struct </span><span class="doxyHighlight"><a href="/docs/api/structs/llvm/object-deleter">object&#95;deleter</a>&lt;<a href="/docs/api/files/lib/lib/target/lib/target/mips/mips16isellowering-cpp/#a0acb682b8260ab1c60b918599864e2e5">T</a>&#91;<a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>&#93;&gt; &#123;</span></CodeLine>
<Link id="l00032" /><CodeLine lineNumber="32" lineLink="/docs/api/structs/llvm/object-deleter-d1db5e2869ffd4ae3eba61b54c182667/#a24a48179fa3cc74e6cefafc398b71901"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">static</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/structs/llvm/object-deleter-d1db5e2869ffd4ae3eba61b54c182667/#a24a48179fa3cc74e6cefafc398b71901">call</a>(</span><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> &#42;<a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>) &#123; </span><span class="doxyHighlightKeyword">delete</span><span class="doxyHighlight">&#91;&#93;(<a href="/docs/api/files/lib/lib/target/lib/target/mips/mips16isellowering-cpp/#a0acb682b8260ab1c60b918599864e2e5">T</a> &#42;)<a href="/docs/api/files/lib/lib/analysis/targetlibraryinfo-cpp/#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>; &#125;</span></CodeLine>
<Link id="l00033" /><CodeLine lineNumber="33"><span class="doxyHighlight">&#125;;</span></CodeLine>
<Link id="l00034" /><CodeLine lineNumber="34"></CodeLine>
<Link id="l00035" /><CodeLine lineNumber="35"><span class="doxyHighlightComment">// ManagedStatic must be initialized to zero, and it must &#42;not&#42; have a dynamic</span></CodeLine>
<Link id="l00036" /><CodeLine lineNumber="36"><span class="doxyHighlightComment">// initializer because managed statics are often created while running other</span></CodeLine>
<Link id="l00037" /><CodeLine lineNumber="37"><span class="doxyHighlightComment">// dynamic initializers. In standard C++11, the best way to accomplish this is</span></CodeLine>
<Link id="l00038" /><CodeLine lineNumber="38"><span class="doxyHighlightComment">// with a constexpr default constructor. However, different versions of the</span></CodeLine>
<Link id="l00039" /><CodeLine lineNumber="39"><span class="doxyHighlightComment">// Visual C++ compiler have had bugs where, even though the constructor may be</span></CodeLine>
<Link id="l00040" /><CodeLine lineNumber="40"><span class="doxyHighlightComment">// constexpr, a dynamic initializer may be emitted depending on optimization</span></CodeLine>
<Link id="l00041" /><CodeLine lineNumber="41"><span class="doxyHighlightComment">// settings. For the affected versions of MSVC, use the old linker</span></CodeLine>
<Link id="l00042" /><CodeLine lineNumber="42"><span class="doxyHighlightComment">// initialization pattern of not providing a constructor and leaving the fields</span></CodeLine>
<Link id="l00043" /><CodeLine lineNumber="43"><span class="doxyHighlightComment">// uninitialized. See http://llvm.org/PR41367 for details.</span></CodeLine>
<Link id="l00044" /><CodeLine lineNumber="44"><span class="doxyHighlightPreprocessor">#if !defined(&#95;MSC&#95;VER) || (&#95;MSC&#95;VER &gt;= 1925) || defined(&#95;&#95;clang&#95;&#95;)</span></CodeLine>
<Link id="l00045" /><CodeLine lineNumber="45" lineLink="#a4569b595346654f61e646ad685192601"><span class="doxyHighlightPreprocessor">#define LLVM&#95;USE&#95;CONSTEXPR&#95;CTOR</span></CodeLine>
<Link id="l00046" /><CodeLine lineNumber="46"><span class="doxyHighlightPreprocessor">#endif</span></CodeLine>
<Link id="l00047" /><CodeLine lineNumber="47"></CodeLine>
<Link id="l00048" /><CodeLine lineNumber="48"><span class="doxyHighlightComment">/// ManagedStaticBase - Common base class for ManagedStatic instances.</span></CodeLine>
<Link id="l00049" /><CodeLine lineNumber="49" lineLink="/docs/api/classes/llvm/managedstaticbase"><span class="doxyHighlightKeyword">class </span><span class="doxyHighlight"><a href="/docs/api/classes/llvm/managedstaticbase/#a1e8cb3305a149ad3cfe1d526bd7cf5de">ManagedStaticBase</a> &#123;</span></CodeLine>
<Link id="l00050" /><CodeLine lineNumber="50"><span class="doxyHighlightKeyword">protected</span><span class="doxyHighlight">:</span></CodeLine>
<Link id="l00051" /><CodeLine lineNumber="51"><span class="doxyHighlightPreprocessor">#ifdef LLVM&#95;USE&#95;CONSTEXPR&#95;CTOR</span></CodeLine>
<Link id="l00052" /><CodeLine lineNumber="52" lineLink="/docs/api/classes/llvm/managedstaticbase/#a50919239317978cb5ea4ffb91f753918"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">mutable</span><span class="doxyHighlight"> std::atomic&lt;void &#42;&gt; <a href="/docs/api/classes/llvm/managedstaticbase/#a50919239317978cb5ea4ffb91f753918">Ptr</a>&#123;&#125;;</span></CodeLine>
<Link id="l00053" /><CodeLine lineNumber="53" lineLink="/docs/api/classes/llvm/managedstaticbase/#a2d05e80d2397311d8d748484768dd537"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">mutable</span><span class="doxyHighlight"> void (&#42;<a href="/docs/api/classes/llvm/managedstaticbase/#a2d05e80d2397311d8d748484768dd537">DeleterFn</a>)(</span><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> &#42;) = </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00054" /><CodeLine lineNumber="54" lineLink="/docs/api/classes/llvm/managedstaticbase/#a2e7c1cf0ea51e0bef7f9f6714af3ce51"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">mutable</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/managedstaticbase/#a1e8cb3305a149ad3cfe1d526bd7cf5de">ManagedStaticBase</a> &#42;<a href="/docs/api/classes/llvm/managedstaticbase/#a2e7c1cf0ea51e0bef7f9f6714af3ce51">Next</a> = </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00055" /><CodeLine lineNumber="55"><span class="doxyHighlightPreprocessor">#else</span></CodeLine>
<Link id="l00056" /><CodeLine lineNumber="56"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// This should only be used as a static variable, which guarantees that this</span></CodeLine>
<Link id="l00057" /><CodeLine lineNumber="57"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// will be zero initialized.</span></CodeLine>
<Link id="l00058" /><CodeLine lineNumber="58"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">mutable</span><span class="doxyHighlight"> std::atomic&lt;void &#42;&gt; <a href="/docs/api/classes/llvm/managedstaticbase/#a50919239317978cb5ea4ffb91f753918">Ptr</a>;</span></CodeLine>
<Link id="l00059" /><CodeLine lineNumber="59"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">mutable</span><span class="doxyHighlight"> void (&#42;<a href="/docs/api/classes/llvm/managedstaticbase/#a2d05e80d2397311d8d748484768dd537">DeleterFn</a>)(</span><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> &#42;);</span></CodeLine>
<Link id="l00060" /><CodeLine lineNumber="60"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">mutable</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/managedstaticbase/#a1e8cb3305a149ad3cfe1d526bd7cf5de">ManagedStaticBase</a> &#42;<a href="/docs/api/classes/llvm/managedstaticbase/#a2e7c1cf0ea51e0bef7f9f6714af3ce51">Next</a>;</span></CodeLine>
<Link id="l00061" /><CodeLine lineNumber="61"><span class="doxyHighlightPreprocessor">#endif</span></CodeLine>
<Link id="l00062" /><CodeLine lineNumber="62"></CodeLine>
<Link id="l00063" /><CodeLine lineNumber="63"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/managedstaticbase/#a0455c2e6ef911ce3116fceb21d68c44c">RegisterManagedStatic</a>(</span><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> &#42;(&#42;creator)(), </span><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> (&#42;deleter)(</span><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight">&#42;)) </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00064" /><CodeLine lineNumber="64"></CodeLine>
<Link id="l00065" /><CodeLine lineNumber="65"><span class="doxyHighlightKeyword">public</span><span class="doxyHighlight">:</span></CodeLine>
<Link id="l00066" /><CodeLine lineNumber="66"><span class="doxyHighlightPreprocessor">#ifdef LLVM&#95;USE&#95;CONSTEXPR&#95;CTOR</span></CodeLine>
<Link id="l00067" /><CodeLine lineNumber="67" lineLink="/docs/api/classes/llvm/managedstaticbase/#a1e8cb3305a149ad3cfe1d526bd7cf5de"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">constexpr</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/managedstaticbase/#a1e8cb3305a149ad3cfe1d526bd7cf5de">ManagedStaticBase</a>() = </span><span class="doxyHighlightKeywordFlow">default</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00068" /><CodeLine lineNumber="68"><span class="doxyHighlightPreprocessor">#endif</span></CodeLine>
<Link id="l00069" /><CodeLine lineNumber="69"></CodeLine>
<Link id="l00070" /><CodeLine lineNumber="70"><span class="doxyHighlightComment">  /// isConstructed - Return true if this object has not been created yet.</span></CodeLine>
<Link id="l00071" /><CodeLine lineNumber="71" lineLink="/docs/api/classes/llvm/managedstaticbase/#aad5f1491a2600048898c0e4429b834da"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">bool</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/managedstaticbase/#aad5f1491a2600048898c0e4429b834da">isConstructed</a>()</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123; </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/managedstaticbase/#a50919239317978cb5ea4ffb91f753918">Ptr</a> != </span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">; &#125;</span></CodeLine>
<Link id="l00072" /><CodeLine lineNumber="72"></CodeLine>
<Link id="l00073" /><CodeLine lineNumber="73"><span class="doxyHighlight">  </span><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/managedstaticbase/#ac73eaf69bd83e867f9ad27fc7251b79c">destroy</a>() </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00074" /><CodeLine lineNumber="74"><span class="doxyHighlight">&#125;;</span></CodeLine>
<Link id="l00075" /><CodeLine lineNumber="75"></CodeLine>
<Link id="l00076" /><CodeLine lineNumber="76"><span class="doxyHighlightComment">/// ManagedStatic - This transparently changes the behavior of global statics to</span></CodeLine>
<Link id="l00077" /><CodeLine lineNumber="77"><span class="doxyHighlightComment">/// be lazily constructed on demand (good for reducing startup times of dynamic</span></CodeLine>
<Link id="l00078" /><CodeLine lineNumber="78"><span class="doxyHighlightComment">/// libraries that link in LLVM components) and for making destruction be</span></CodeLine>
<Link id="l00079" /><CodeLine lineNumber="79"><span class="doxyHighlightComment">/// explicit through the llvm&#95;shutdown() function call.</span></CodeLine>
<Link id="l00080" /><CodeLine lineNumber="80"><span class="doxyHighlightComment">///</span></CodeLine>
<Link id="l00081" /><CodeLine lineNumber="81"><span class="doxyHighlightKeyword">template</span><span class="doxyHighlight"> &lt;</span><span class="doxyHighlightKeyword">class</span><span class="doxyHighlight"> C, </span><span class="doxyHighlightKeyword">class</span><span class="doxyHighlight"> Creator = </span><span class="doxyHighlightKeywordType">object</span><span class="doxyHighlight">&#95;creator&lt;C&gt;,</span></CodeLine>
<Link id="l00082" /><CodeLine lineNumber="82"><span class="doxyHighlight">          </span><span class="doxyHighlightKeyword">class</span><span class="doxyHighlight"> Deleter = </span><span class="doxyHighlightKeywordType">object</span><span class="doxyHighlight">&#95;deleter&lt;C&gt;&gt;</span></CodeLine>
<Link id="l00083" /><CodeLine lineNumber="83" lineLink="/docs/api/classes/llvm/managedstatic"><span class="doxyHighlightKeyword">class </span><span class="doxyHighlight"><a href="/docs/api/classes/llvm/managedstatic">ManagedStatic</a> : </span><span class="doxyHighlightKeyword">public</span><span class="doxyHighlight"> <a href="/docs/api/classes/llvm/managedstaticbase/#a1e8cb3305a149ad3cfe1d526bd7cf5de">ManagedStaticBase</a> &#123;</span></CodeLine>
<Link id="l00084" /><CodeLine lineNumber="84"><span class="doxyHighlightKeyword">public</span><span class="doxyHighlight">:</span></CodeLine>
<Link id="l00085" /><CodeLine lineNumber="85"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Accessors.</span></CodeLine>
<Link id="l00086" /><CodeLine lineNumber="86" lineLink="/docs/api/classes/llvm/managedstatic/#aa3728b34e39bbece3e51c8e7d01768f1"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a> &amp;<a href="/docs/api/classes/llvm/managedstatic/#aa3728b34e39bbece3e51c8e7d01768f1">operator&#42;</a>() &#123;</span></CodeLine>
<Link id="l00087" /><CodeLine lineNumber="87"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> &#42;Tmp = <a href="/docs/api/classes/llvm/managedstaticbase/#a50919239317978cb5ea4ffb91f753918">Ptr</a>.load(std::memory&#95;order&#95;acquire);</span></CodeLine>
<Link id="l00088" /><CodeLine lineNumber="88"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!Tmp)</span></CodeLine>
<Link id="l00089" /><CodeLine lineNumber="89"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/managedstaticbase/#a0455c2e6ef911ce3116fceb21d68c44c">RegisterManagedStatic</a>(Creator::call, Deleter::call);</span></CodeLine>
<Link id="l00090" /><CodeLine lineNumber="90"></CodeLine>
<Link id="l00091" /><CodeLine lineNumber="91"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> &#42;</span><span class="doxyHighlightKeyword">static&#95;cast&lt;</span><span class="doxyHighlight"><a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a> &#42;</span><span class="doxyHighlightKeyword">&gt;</span><span class="doxyHighlight">(<a href="/docs/api/classes/llvm/managedstaticbase/#a50919239317978cb5ea4ffb91f753918">Ptr</a>.load(std::memory&#95;order&#95;relaxed));</span></CodeLine>
<Link id="l00092" /><CodeLine lineNumber="92"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00093" /><CodeLine lineNumber="93"></CodeLine>
<Link id="l00094" /><CodeLine lineNumber="94" lineLink="/docs/api/classes/llvm/managedstatic/#a7b03b3684d5e718a4bcd69b9acda4f7d"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a> &#42;<a href="/docs/api/classes/llvm/managedstatic/#a7b03b3684d5e718a4bcd69b9acda4f7d">operator-&gt;</a>() &#123; </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> &amp;&#42;&#42;</span><span class="doxyHighlightKeyword">this</span><span class="doxyHighlight">; &#125;</span></CodeLine>
<Link id="l00095" /><CodeLine lineNumber="95"></CodeLine>
<Link id="l00096" /><CodeLine lineNumber="96" lineLink="/docs/api/classes/llvm/managedstatic/#a2e5d0ddf6ef6f87222216489d4ee4fe2"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a> &amp;<a href="/docs/api/classes/llvm/managedstatic/#a2e5d0ddf6ef6f87222216489d4ee4fe2">operator&#42;</a>()</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123;</span></CodeLine>
<Link id="l00097" /><CodeLine lineNumber="97"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> &#42;Tmp = <a href="/docs/api/classes/llvm/managedstaticbase/#a50919239317978cb5ea4ffb91f753918">Ptr</a>.load(std::memory&#95;order&#95;acquire);</span></CodeLine>
<Link id="l00098" /><CodeLine lineNumber="98"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">if</span><span class="doxyHighlight"> (!Tmp)</span></CodeLine>
<Link id="l00099" /><CodeLine lineNumber="99"><span class="doxyHighlight">      <a href="/docs/api/classes/llvm/managedstaticbase/#a0455c2e6ef911ce3116fceb21d68c44c">RegisterManagedStatic</a>(Creator::call, Deleter::call);</span></CodeLine>
<Link id="l00100" /><CodeLine lineNumber="100"></CodeLine>
<Link id="l00101" /><CodeLine lineNumber="101"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> &#42;</span><span class="doxyHighlightKeyword">static&#95;cast&lt;</span><span class="doxyHighlight"><a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a> &#42;</span><span class="doxyHighlightKeyword">&gt;</span><span class="doxyHighlight">(<a href="/docs/api/classes/llvm/managedstaticbase/#a50919239317978cb5ea4ffb91f753918">Ptr</a>.load(std::memory&#95;order&#95;relaxed));</span></CodeLine>
<Link id="l00102" /><CodeLine lineNumber="102"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00103" /><CodeLine lineNumber="103"></CodeLine>
<Link id="l00104" /><CodeLine lineNumber="104" lineLink="/docs/api/classes/llvm/managedstatic/#a133b1d7f3c763e418da1f47ee34ef786"><span class="doxyHighlight">  </span><span class="doxyHighlightKeyword">const</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a> &#42;<a href="/docs/api/classes/llvm/managedstatic/#a133b1d7f3c763e418da1f47ee34ef786">operator-&gt;</a>()</span><span class="doxyHighlightKeyword"> const </span><span class="doxyHighlight">&#123; </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> &amp;&#42;&#42;</span><span class="doxyHighlightKeyword">this</span><span class="doxyHighlight">; &#125;</span></CodeLine>
<Link id="l00105" /><CodeLine lineNumber="105"></CodeLine>
<Link id="l00106" /><CodeLine lineNumber="106"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// Extract the instance, leaving the ManagedStatic uninitialized. The</span></CodeLine>
<Link id="l00107" /><CodeLine lineNumber="107"><span class="doxyHighlight">  </span><span class="doxyHighlightComment">// user is then responsible for the lifetime of the returned instance.</span></CodeLine>
<Link id="l00108" /><CodeLine lineNumber="108" lineLink="/docs/api/classes/llvm/managedstatic/#a66f4be65b6c0b6d048bb3126d2c46304"><span class="doxyHighlight">  <a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a> &#42;<a href="/docs/api/classes/llvm/managedstatic/#a66f4be65b6c0b6d048bb3126d2c46304">claim</a>() &#123;</span></CodeLine>
<Link id="l00109" /><CodeLine lineNumber="109"><span class="doxyHighlight">    </span><span class="doxyHighlightKeywordFlow">return</span><span class="doxyHighlight"> </span><span class="doxyHighlightKeyword">static&#95;cast&lt;</span><span class="doxyHighlight"><a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a> &#42;</span><span class="doxyHighlightKeyword">&gt;</span><span class="doxyHighlight">(<a href="/docs/api/classes/llvm/managedstaticbase/#a50919239317978cb5ea4ffb91f753918">Ptr</a>.exchange(</span><span class="doxyHighlightKeyword">nullptr</span><span class="doxyHighlight">));</span></CodeLine>
<Link id="l00110" /><CodeLine lineNumber="110"><span class="doxyHighlight">  &#125;</span></CodeLine>
<Link id="l00111" /><CodeLine lineNumber="111"><span class="doxyHighlight">&#125;;</span></CodeLine>
<Link id="l00112" /><CodeLine lineNumber="112"></CodeLine>
<Link id="l00113" /><CodeLine lineNumber="113"><span class="doxyHighlightComment">/// llvm&#95;shutdown - Deallocate and destroy all ManagedStatic variables.</span></CodeLine>
<Link id="l00114" /><CodeLine lineNumber="114"><span class="doxyHighlightKeywordType">void</span><span class="doxyHighlight"> <a href="/docs/api/namespaces/llvm/#ac27f7fe6f1543ef516aa0998bad20335">llvm&#95;shutdown</a>();</span></CodeLine>
<Link id="l00115" /><CodeLine lineNumber="115"></CodeLine>
<Link id="l00116" /><CodeLine lineNumber="116"><span class="doxyHighlightComment">/// llvm&#95;shutdown&#95;obj - This is a simple helper class that calls</span></CodeLine>
<Link id="l00117" /><CodeLine lineNumber="117"><span class="doxyHighlightComment">/// llvm&#95;shutdown() when it is destroyed.</span></CodeLine>
<Link id="l00118" /><CodeLine lineNumber="118" lineLink="/docs/api/structs/llvm/llvm-shutdown-obj"><span class="doxyHighlightKeyword">struct </span><span class="doxyHighlight"><a href="/docs/api/structs/llvm/llvm-shutdown-obj/#aef9457b6bc5008b6170b9c261a3eb71d">llvm&#95;shutdown&#95;obj</a> &#123;</span></CodeLine>
<Link id="l00119" /><CodeLine lineNumber="119" lineLink="/docs/api/structs/llvm/llvm-shutdown-obj/#aef9457b6bc5008b6170b9c261a3eb71d"><span class="doxyHighlight">  <a href="/docs/api/structs/llvm/llvm-shutdown-obj/#aef9457b6bc5008b6170b9c261a3eb71d">llvm&#95;shutdown&#95;obj</a>() = </span><span class="doxyHighlightKeywordFlow">default</span><span class="doxyHighlight">;</span></CodeLine>
<Link id="l00120" /><CodeLine lineNumber="120" lineLink="/docs/api/structs/llvm/llvm-shutdown-obj/#a1a7cadfa3ce533d636f731cb4379f3cb"><span class="doxyHighlight">  <a href="/docs/api/structs/llvm/llvm-shutdown-obj/#a1a7cadfa3ce533d636f731cb4379f3cb">~llvm&#95;shutdown&#95;obj</a>() &#123; <a href="/docs/api/namespaces/llvm/#ac27f7fe6f1543ef516aa0998bad20335">llvm&#95;shutdown</a>(); &#125;</span></CodeLine>
<Link id="l00121" /><CodeLine lineNumber="121"><span class="doxyHighlight">&#125;;</span></CodeLine>
<Link id="l00122" /><CodeLine lineNumber="122"></CodeLine>
<Link id="l00123" /><CodeLine lineNumber="123"><span class="doxyHighlight">&#125; </span><span class="doxyHighlightComment">// end namespace llvm</span></CodeLine>
<Link id="l00124" /><CodeLine lineNumber="124"></CodeLine>
<Link id="l00125" /><CodeLine lineNumber="125"><span class="doxyHighlightPreprocessor">#endif </span><span class="doxyHighlightComment">// LLVM&#95;SUPPORT&#95;MANAGEDSTATIC&#95;H</span></CodeLine>

</ProgramListing>


</DoxygenPage>
