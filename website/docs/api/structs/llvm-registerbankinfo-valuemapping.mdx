---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/structs/llvm/registerbankinfo/valuemapping
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - struct
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import CodeLine from '@xpack/docusaurus-plugin-doxygen/components/CodeLine'
import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import Highlight from '@xpack/docusaurus-plugin-doxygen/components/Highlight'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import ProgramListing from '@xpack/docusaurus-plugin-doxygen/components/ProgramListing'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'
import SectionUser from '@xpack/docusaurus-plugin-doxygen/components/SectionUser'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `ValueMapping` Struct Reference

<DoxygenPage pluginConfig={pluginConfig}>

Helper struct that represents how a value is mapped through different register banks. <a href="#details">More...</a>

## Declaration

<CodeBlock>struct llvm::RegisterBankInfo::ValueMapping</CodeBlock>

## Included Headers

<IncludesList>
<IncludesListItem
  filePath="llvm/CodeGen/RegisterBankInfo.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/codegen/registerbankinfo-h"
  isLocal="true" />
</IncludesList>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a9d25c6b19f2506311abd2ea798250afb">ValueMapping</a> ()</>}>
The default constructor creates an invalid (<a href="#a788a7905d6f6e954dc6984334bc88d5f">isValid()</a> == false) instance. <a href="#a9d25c6b19f2506311abd2ea798250afb">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="constexpr"
  name={<><a href="#a06976c9ea836c86aa3d237c920609c10">ValueMapping</a> (const PartialMapping &#42;BreakDown, unsigned NumBreakDowns)</>}>
Initialize a <a href="/docs/api/structs/llvm/registerbankinfo/valuemapping">ValueMapping</a> with the given parameter. <a href="#a06976c9ea836c86aa3d237c920609c10">More...</a>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/structs/llvm/registerbankinfo/partialmapping">PartialMapping</a> &#42;</>}
  name={<><a href="#a0816d52870d885008781168854322987">begin</a> () const</>}>
Iterators through the PartialMappings. <a href="#a0816d52870d885008781168854322987">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#aa08a6a3c21b4acf3c92768f1d66d7330">dump</a> () const</>}>
Print this on <a href="/docs/api/namespaces/llvm/#a7c46c742c31be54870e2038048e6b391">dbgs()</a> stream. <a href="#aa08a6a3c21b4acf3c92768f1d66d7330">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/structs/llvm/registerbankinfo/partialmapping">PartialMapping</a> &#42;</>}
  name={<><a href="#a177c87d358c97d054f1b2016dc95c64b">end</a> () const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a788a7905d6f6e954dc6984334bc88d5f">isValid</a> () const</>}>
<a href="/docs/api/namespaces/llvm/check">Check</a> if this <a href="/docs/api/structs/llvm/registerbankinfo/valuemapping">ValueMapping</a> is valid. <a href="#a788a7905d6f6e954dc6984334bc88d5f">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a73f71f2f9b3cb7e0602fcd19e648bdfc">partsAllUniform</a> () const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a33776bd541683ce5ed03b9792d2259f1">print</a> (raw&#95;ostream &amp;OS) const</>}>
Print this on <code>OS</code>;. <a href="#a33776bd541683ce5ed03b9792d2259f1">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a6778093ec4b236fadf3c13e2fe1e2ee9">verify</a> (const RegisterBankInfo &amp;RBI, TypeSize MeaningfulBitWidth) const</>}>
Verify that this mapping makes sense for a value of <code>MeaningfulBitWidth</code>. <a href="#a6778093ec4b236fadf3c13e2fe1e2ee9">More...</a>
</MembersIndexItem>

</MembersIndex>

## Public Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/structs/llvm/registerbankinfo/partialmapping">PartialMapping</a> &#42;</>}
  name={<><a href="#ae3003e8b89a759af674cb22ed2b67d2e">BreakDown</a></>}>
How the value is broken down between the different register banks. <a href="#ae3003e8b89a759af674cb22ed2b67d2e">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="unsigned"
  name={<><a href="#a83b9746150eb1c8820d65bca34b8d950">NumBreakDowns</a></>}>
Number of partial mapping to break down this value. <a href="#a83b9746150eb1c8820d65bca34b8d950">More...</a>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

Helper struct that represents how a value is mapped through different register banks.

:::info
: So far we do not have any users of the complex mappings (mappings with more than one partial mapping), but when we do, we would have needed to duplicate partial mappings. The alternative could be to use an array of pointers of partial mapping (i.e., <a href="/docs/api/structs/llvm/registerbankinfo/partialmapping">PartialMapping</a> &#42;&#42;BreakDown) and duplicate the pointers instead.
:::

E.g., Let say we have a 32-bit add and a &lt;2 x 32-bit&gt; vadd. We can expand the &lt;2 x 32-bit&gt; add into 2 x 32-bit add.

Currently the TableGen-like file would look like: 
<ProgramListing>

<CodeLine><Highlight kind="normal">PartialMapping&#91;&#93; = &#123;</Highlight></CodeLine>
<CodeLine><Highlight kind="normal"></Highlight><Highlight kind="comment">/&#42;32-bit add&#42;/</Highlight><Highlight kind="normal">      &#123;0, 32, GPR&#125;, </Highlight><Highlight kind="comment">// Scalar entry repeated for first</Highlight><Highlight kind="normal"></Highlight></CodeLine>
<CodeLine><Highlight kind="normal">                                  </Highlight><Highlight kind="comment">// vec elt.</Highlight><Highlight kind="normal"></Highlight></CodeLine>
<CodeLine><Highlight kind="normal"></Highlight><Highlight kind="comment">/&#42;2x32-bit add&#42;/</Highlight><Highlight kind="normal">    &#123;0, 32, GPR&#125;, &#123;32, 32, GPR&#125;,</Highlight></CodeLine>
<CodeLine><Highlight kind="normal"></Highlight><Highlight kind="comment">/&#42;&lt;2x32-bit&gt; vadd&#42;/</Highlight><Highlight kind="normal"> &#123;0, 64, VPR&#125;</Highlight></CodeLine>
<CodeLine><Highlight kind="normal">&#125;; </Highlight><Highlight kind="comment">// PartialMapping duplicated.</Highlight><Highlight kind="normal"></Highlight></CodeLine>
<CodeLine><Highlight kind="normal"></Highlight></CodeLine>
<CodeLine><Highlight kind="normal"><a href="#a9d25c6b19f2506311abd2ea798250afb">ValueMapping</a>&#91;&#93; &#123;</Highlight></CodeLine>
<CodeLine><Highlight kind="normal">  </Highlight><Highlight kind="comment">/&#42;plain 32-bit add&#42;/</Highlight><Highlight kind="normal">       &#123;&amp;PartialMapping&#91;0&#93;, 1&#125;,</Highlight></CodeLine>
<CodeLine><Highlight kind="normal">  </Highlight><Highlight kind="comment">/&#42;expanded vadd on 2xadd&#42;/</Highlight><Highlight kind="normal"> &#123;&amp;PartialMapping&#91;1&#93;, 2&#125;,</Highlight></CodeLine>
<CodeLine><Highlight kind="normal">  </Highlight><Highlight kind="comment">/&#42;plain &lt;2x32-bit&gt; vadd&#42;/</Highlight><Highlight kind="normal">  &#123;&amp;PartialMapping&#91;3&#93;, 1&#125;</Highlight></CodeLine>
<CodeLine><Highlight kind="normal">&#125;;</Highlight></CodeLine>

</ProgramListing>


With the array of pointer, we would have: 
<ProgramListing>

<CodeLine><Highlight kind="normal">PartialMapping&#91;&#93; = &#123;</Highlight></CodeLine>
<CodeLine><Highlight kind="normal"></Highlight><Highlight kind="comment">/&#42;32-bit add lower &#42;/</Highlight><Highlight kind="normal"> &#123; 0, 32, GPR&#125;,</Highlight></CodeLine>
<CodeLine><Highlight kind="normal"></Highlight><Highlight kind="comment">/&#42;32-bit add upper &#42;/</Highlight><Highlight kind="normal"> &#123;32, 32, GPR&#125;,</Highlight></CodeLine>
<CodeLine><Highlight kind="normal"></Highlight><Highlight kind="comment">/&#42;&lt;2x32-bit&gt; vadd &#42;/</Highlight><Highlight kind="normal">  &#123; 0, 64, VPR&#125;</Highlight></CodeLine>
<CodeLine><Highlight kind="normal">&#125;; </Highlight><Highlight kind="comment">// No more duplication.</Highlight><Highlight kind="normal"></Highlight></CodeLine>
<CodeLine><Highlight kind="normal"></Highlight></CodeLine>
<CodeLine><Highlight kind="normal">BreakDowns&#91;&#93; = &#123;</Highlight></CodeLine>
<CodeLine><Highlight kind="normal"></Highlight><Highlight kind="comment">/&#42;AddBreakDown&#42;/</Highlight><Highlight kind="normal">   &amp;PartialMapping&#91;0&#93;,</Highlight></CodeLine>
<CodeLine><Highlight kind="normal"></Highlight><Highlight kind="comment">/&#42;2xAddBreakDown&#42;/</Highlight><Highlight kind="normal"> &amp;PartialMapping&#91;0&#93;, &amp;PartialMapping&#91;1&#93;,</Highlight></CodeLine>
<CodeLine><Highlight kind="normal"></Highlight><Highlight kind="comment">/&#42;VAddBreakDown&#42;/</Highlight><Highlight kind="normal">  &amp;PartialMapping&#91;2&#93;</Highlight></CodeLine>
<CodeLine><Highlight kind="normal">&#125;; </Highlight><Highlight kind="comment">// Addresses of PartialMapping duplicated (smaller).</Highlight><Highlight kind="normal"></Highlight></CodeLine>
<CodeLine><Highlight kind="normal"></Highlight></CodeLine>
<CodeLine><Highlight kind="normal"><a href="#a9d25c6b19f2506311abd2ea798250afb">ValueMapping</a>&#91;&#93; &#123;</Highlight></CodeLine>
<CodeLine><Highlight kind="normal">  </Highlight><Highlight kind="comment">/&#42;plain 32-bit add&#42;/</Highlight><Highlight kind="normal">       &#123;&amp;BreakDowns&#91;0&#93;, 1&#125;,</Highlight></CodeLine>
<CodeLine><Highlight kind="normal">  </Highlight><Highlight kind="comment">/&#42;expanded vadd on 2xadd&#42;/</Highlight><Highlight kind="normal"> &#123;&amp;BreakDowns&#91;1&#93;, 2&#125;,</Highlight></CodeLine>
<CodeLine><Highlight kind="normal">  </Highlight><Highlight kind="comment">/&#42;plain &lt;2x32-bit&gt; vadd&#42;/</Highlight><Highlight kind="normal">  &#123;&amp;BreakDowns&#91;3&#93;, 1&#125;</Highlight></CodeLine>
<CodeLine><Highlight kind="normal">&#125;;</Highlight></CodeLine>

</ProgramListing>


Given that a <a href="/docs/api/structs/llvm/registerbankinfo/partialmapping">PartialMapping</a> is actually small, the code size impact is actually a degradation. Moreover the compile time will be hit by the additional indirection. If <a href="/docs/api/structs/llvm/registerbankinfo/partialmapping">PartialMapping</a> gets bigger we may reconsider.

Definition at line 146 of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/registerbankinfo-h">RegisterBankInfo.h</a>.

<SectionDefinition>

## Public Constructors

### ValueMapping() {#a9d25c6b19f2506311abd2ea798250afb}

<MemberDefinition
  prototype="llvm::RegisterBankInfo::ValueMapping::ValueMapping ()"
  labels = {["inline"]}>
The default constructor creates an invalid (<a href="#a788a7905d6f6e954dc6984334bc88d5f">isValid()</a> == false) instance.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/registerbankinfo-h/#l00155">155</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/registerbankinfo-h">RegisterBankInfo.h</a>.
</MemberDefinition>

### ValueMapping() {#a06976c9ea836c86aa3d237c920609c10}

<MemberDefinition
  prototype={<>llvm::RegisterBankInfo::ValueMapping::ValueMapping (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/structs/llvm/registerbankinfo/partialmapping">PartialMapping</a> &#42; BreakDown, unsigned NumBreakDowns)</>}
  labels = {["inline", "constexpr"]}>
Initialize a <a href="/docs/api/structs/llvm/registerbankinfo/valuemapping">ValueMapping</a> with the given parameter.

<code>BreakDown</code> needs to have a life time at least as long as this instance.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/registerbankinfo-h/#l00160">160</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/registerbankinfo-h">RegisterBankInfo.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### begin() {#a0816d52870d885008781168854322987}

<MemberDefinition
  prototype={<>const PartialMapping &#42; llvm::RegisterBankInfo::ValueMapping::begin () const</>}
  labels = {["inline"]}>
Iterators through the PartialMappings.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/registerbankinfo-h/#l00165">165</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/registerbankinfo-h">RegisterBankInfo.h</a>.
</MemberDefinition>

### dump() {#aa08a6a3c21b4acf3c92768f1d66d7330}

<MemberDefinition
  prototype={<>LLVM&#95;DUMP&#95;METHOD void RegisterBankInfo::ValueMapping::dump () const</>}>
Print this on <a href="/docs/api/namespaces/llvm/#a7c46c742c31be54870e2038048e6b391">dbgs()</a> stream.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/registerbankinfo-h/#l00183">183</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/registerbankinfo-h">RegisterBankInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/registerbankinfo-cpp/#l00587">587</a> of file <a href="/docs/api/files/lib/lib/codegen/registerbankinfo-cpp">RegisterBankInfo.cpp</a>.
</MemberDefinition>

### end() {#a177c87d358c97d054f1b2016dc95c64b}

<MemberDefinition
  prototype={<>const PartialMapping &#42; llvm::RegisterBankInfo::ValueMapping::end () const</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/registerbankinfo-h/#l00166">166</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/registerbankinfo-h">RegisterBankInfo.h</a>.
</MemberDefinition>

### isValid() {#a788a7905d6f6e954dc6984334bc88d5f}

<MemberDefinition
  prototype="bool llvm::RegisterBankInfo::ValueMapping::isValid () const"
  labels = {["inline"]}>
<a href="/docs/api/namespaces/llvm/check">Check</a> if this <a href="/docs/api/structs/llvm/registerbankinfo/valuemapping">ValueMapping</a> is valid.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/registerbankinfo-h/#l00173">173</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/registerbankinfo-h">RegisterBankInfo.h</a>.
</MemberDefinition>

### partsAllUniform() {#a73f71f2f9b3cb7e0602fcd19e648bdfc}

<MemberDefinition
  prototype="bool RegisterBankInfo::ValueMapping::partsAllUniform () const">

<SectionUser title="Returns">
true if all partial mappings are the same size and register bank.
</SectionUser>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/registerbankinfo-h/#l00170">170</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/registerbankinfo-h">RegisterBankInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/registerbankinfo-cpp/#l00542">542</a> of file <a href="/docs/api/files/lib/lib/codegen/registerbankinfo-cpp">RegisterBankInfo.cpp</a>.
</MemberDefinition>

### print() {#a33776bd541683ce5ed03b9792d2259f1}

<MemberDefinition
  prototype={<>void RegisterBankInfo::ValueMapping::print (<a href="/docs/api/classes/llvm/raw-ostream">raw&#95;ostream</a> &amp; OS) const</>}>
Print this on <code>OS</code>;.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/registerbankinfo-h/#l00186">186</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/registerbankinfo-h">RegisterBankInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/registerbankinfo-cpp/#l00593">593</a> of file <a href="/docs/api/files/lib/lib/codegen/registerbankinfo-cpp">RegisterBankInfo.cpp</a>.
</MemberDefinition>

### verify() {#a6778093ec4b236fadf3c13e2fe1e2ee9}

<MemberDefinition
  prototype={<>bool RegisterBankInfo::ValueMapping::verify (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/registerbankinfo">RegisterBankInfo</a> &amp; RBI, <a href="/docs/api/classes/llvm/typesize">TypeSize</a> MeaningfulBitWidth) const</>}>
Verify that this mapping makes sense for a value of <code>MeaningfulBitWidth</code>.

:::info
This method does not check anything when assertions are disabled.
:::


<SectionUser title="Returns">
True is the check was successful.
</SectionUser>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/registerbankinfo-h/#l00180">180</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/registerbankinfo-h">RegisterBankInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/registerbankinfo-cpp/#l00555">555</a> of file <a href="/docs/api/files/lib/lib/codegen/registerbankinfo-cpp">RegisterBankInfo.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Attributes

### BreakDown {#ae3003e8b89a759af674cb22ed2b67d2e}

<MemberDefinition
  prototype={<>const PartialMapping&#42; llvm::RegisterBankInfo::ValueMapping::BreakDown</>}>
How the value is broken down between the different register banks.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/registerbankinfo-h/#l00148">148</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/registerbankinfo-h">RegisterBankInfo.h</a>.
</MemberDefinition>

### NumBreakDowns {#a83b9746150eb1c8820d65bca34b8d950}

<MemberDefinition
  prototype="unsigned llvm::RegisterBankInfo::ValueMapping::NumBreakDowns">
Number of partial mapping to break down this value.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/registerbankinfo-h/#l00151">151</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/registerbankinfo-h">RegisterBankInfo.h</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this struct was generated from the following files:

<ul>
<li><a href="/docs/api/files/include/include/llvm/include/llvm/codegen/registerbankinfo-h">RegisterBankInfo.h</a></li>
<li><a href="/docs/api/files/lib/lib/codegen/registerbankinfo-cpp">RegisterBankInfo.cpp</a></li>
</ul>

</DoxygenPage>
