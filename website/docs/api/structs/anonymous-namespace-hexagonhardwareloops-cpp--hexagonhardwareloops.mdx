---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/structs/anonymous-namespace-hexagonhardwareloops-cpp-/hexagonhardwareloops
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - struct
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `HexagonHardwareLoops` Struct Reference

<DoxygenPage pluginConfig={pluginConfig}>



## Declaration

<CodeBlock>struct anonymous_namespace{HexagonHardwareLoops.cpp}::HexagonHardwareLoops</CodeBlock>

## Base struct

<MembersIndex>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/machinefunctionpass">MachineFunctionPass</a></>}>
<a href="/docs/api/classes/llvm/machinefunctionpass">MachineFunctionPass</a> - This class adapts the <a href="/docs/api/classes/llvm/functionpass">FunctionPass</a> interface to allow convenient creation of passes that operate on the <a href="/docs/api/classes/llvm/machinefunction">MachineFunction</a> representation. <a href="/docs/api/classes/llvm/machinefunctionpass/#details">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Typedefs Index

<MembersIndex>

<MembersIndexItem
  type="using"
  name={<><a href="#ac6b82390fefb5da9c2865eed18b778a2">LoopFeederMap</a> = std::map&lt; <a href="/docs/api/classes/llvm/register">Register</a>, <a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &#42; &gt;</>}>
</MembersIndexItem>

</MembersIndex>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a7ba6007fbeaf7123afa98a38a0198dda">HexagonHardwareLoops</a> ()</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="void"
  name={<><a href="#a6883ae5f17e638eb68522e3e2cde21c6">getAnalysisUsage</a> (AnalysisUsage &amp;AU) const override</>}>
getAnalysisUsage - This function should be overriden by passes that need analysis information to do their job. <a href="#a6883ae5f17e638eb68522e3e2cde21c6">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/stringref">StringRef</a></>}
  name={<><a href="#a8ea624b644f9e276a8265d50b493d74a">getPassName</a> () const override</>}>
getPassName - Return a nice clean name for a pass. <a href="#a8ea624b644f9e276a8265d50b493d74a">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a227e7ddfafd6bce13cfb1473136e8230">runOnMachineFunction</a> (MachineFunction &amp;MF) override</>}>
runOnMachineFunction - This method must be overloaded to perform the desired machine code transformation or analysis. <a href="#a227e7ddfafd6bce13cfb1473136e8230">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="bool"
  name={<><a href="#a3079e29992991b31a5a2c3117d37f49e">checkForImmediate</a> (const MachineOperand &amp;MO, int64&#95;t &amp;Val) const</>}>
Check if the given operand has a compile-time known constant value. <a href="#a3079e29992991b31a5a2c3117d37f49e">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/anonymous-namespace-hexagonhardwareloops-cpp-/countvalue">CountValue</a> &#42;</>}
  name={<><a href="#a83476caf5187aa87ccc67c401ad07c39">computeCount</a> (MachineLoop &#42;Loop, const MachineOperand &#42;Start, const MachineOperand &#42;End, Register IVReg, int64&#95;t IVBump, Comparison::Kind Cmp) const</>}>
Return the expression that represents the number of times a loop iterates. <a href="#a83476caf5187aa87ccc67c401ad07c39">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a8085af352a9541eb9ec92e82cf60098f">containsInvalidInstruction</a> (MachineLoop &#42;L, bool IsInnerHWLoop) const</>}>
Return true if the loop contains an instruction that inhibits using the hardware loop. <a href="#a8085af352a9541eb9ec92e82cf60098f">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a665e9738b997cc75cc5b9716dfd0e091">convertToHardwareLoop</a> (MachineLoop &#42;L, bool &amp;L0used, bool &amp;L1used)</>}>
Given a loop, check if we can convert it to a hardware loop. <a href="#a665e9738b997cc75cc5b9716dfd0e091">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;</>}
  name={<><a href="#a263f3bec0cc5b67a174a103d6572adb7">createPreheaderForLoop</a> (MachineLoop &#42;L)</>}>
Given a loop, if it does not have a preheader, create one. <a href="#a263f3bec0cc5b67a174a103d6572adb7">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a43d49f23512f7554a2deb7cfe9019a44">findInductionRegister</a> (MachineLoop &#42;L, Register &amp;Reg, int64&#95;t &amp;IVBump, MachineInstr &#42;&amp;IVOp) const</>}>
Find the register that contains the loop controlling induction variable. <a href="#a43d49f23512f7554a2deb7cfe9019a44">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#aa9f6b81556b3c4cb8f7bd7796d1e642d">fixupInductionVariable</a> (MachineLoop &#42;L)</>}>
Fix the data flow of the induction variable. <a href="#aa9f6b81556b3c4cb8f7bd7796d1e642d">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="Comparison::Kind"
  name={<><a href="#a5ed3d2963dc0dc995190233b763a8764">getComparisonKind</a> (unsigned CondOpc, MachineOperand &#42;InitialValue, const MachineOperand &#42;Endvalue, int64&#95;t IVBump) const</>}>
Return the comparison kind for the specified opcode. <a href="#a5ed3d2963dc0dc995190233b763a8764">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>int64&#95;t</>}
  name={<><a href="#a3db634726639483c9ad746922787d07f">getImmediate</a> (const MachineOperand &amp;MO) const</>}>
Return the immediate for the specified operand. <a href="#a3db634726639483c9ad746922787d07f">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/anonymous-namespace-hexagonhardwareloops-cpp-/countvalue">CountValue</a> &#42;</>}
  name={<><a href="#aeaeea823712680f7bb14b421725e777a">getLoopTripCount</a> (MachineLoop &#42;L, SmallVectorImpl&lt; MachineInstr &#42; &gt; &amp;OldInsts)</>}>
Analyze the statements in a loop to determine if the loop has a computable trip count and, if so, return a value that represents the trip count expression. <a href="#aeaeea823712680f7bb14b421725e777a">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a86c298e486e4f1c7a505de80e0487bbe">isDead</a> (const MachineInstr &#42;MI, SmallVectorImpl&lt; MachineInstr &#42; &gt; &amp;DeadPhis) const</>}>
Return true if the instruction is now dead. <a href="#a86c298e486e4f1c7a505de80e0487bbe">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a807ab4ff060cd9c8ca7d5c62222b8c3a">isImmediate</a> (const MachineOperand &amp;MO) const</>}>
Check if the operand has a compile-time known constant value. <a href="#a807ab4ff060cd9c8ca7d5c62222b8c3a">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a788ee8bfed2f5f542d7863fe950202bb">isInvalidLoopOperation</a> (const MachineInstr &#42;MI, bool IsInnerHWLoop) const</>}>
Return true if the instruction is not valid within a hardware loop. <a href="#a788ee8bfed2f5f542d7863fe950202bb">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a893f8a4fd143c960627a143b0c2753d4">isLoopFeeder</a> (MachineLoop &#42;L, MachineBasicBlock &#42;A, MachineInstr &#42;MI, const MachineOperand &#42;MO, LoopFeederMap &amp;LoopFeederPhi) const</>}>
Return true if MO and MI pair is visited only once. <a href="#a893f8a4fd143c960627a143b0c2753d4">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a8a3381f44509e7c4529936b7b8e1622a">loopCountMayWrapOrUnderFlow</a> (const MachineOperand &#42;InitVal, const MachineOperand &#42;EndVal, MachineBasicBlock &#42;MBB, MachineLoop &#42;L, LoopFeederMap &amp;LoopFeederPhi) const</>}>
Return true if the induction variable may underflow an unsigned value in the first iteration. <a href="#a8a3381f44509e7c4529936b7b8e1622a">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a23eba50257ccba363671df08c1ff5793">orderBumpCompare</a> (MachineInstr &#42;BumpI, MachineInstr &#42;CmpI)</>}>
Make sure that the &quot;bump&quot; instruction executes before the compare. <a href="#a23eba50257ccba363671df08c1ff5793">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a66b16adf030f72742c139fac26280eb2">phiMayWrapOrUnderflow</a> (MachineInstr &#42;Phi, const MachineOperand &#42;EndVal, MachineBasicBlock &#42;MBB, MachineLoop &#42;L, LoopFeederMap &amp;LoopFeederPhi) const</>}>
Return true if the Phi may generate a value that may underflow, or may wrap. <a href="#a66b16adf030f72742c139fac26280eb2">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a00770c8027ff9165f98e1e91d1f78d65">removeIfDead</a> (MachineInstr &#42;MI)</>}>
Remove the instruction if it is now dead. <a href="#a00770c8027ff9165f98e1e91d1f78d65">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#ab1791444f0b5ea643148dbebb7c29646">setImmediate</a> (MachineOperand &amp;MO, int64&#95;t Val)</>}>
Reset the given machine operand to now refer to a new immediate value. <a href="#ab1791444f0b5ea643148dbebb7c29646">More...</a>
</MembersIndexItem>

</MembersIndex>

## Public Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machinedominatortree">MachineDominatorTree</a> &#42;</>}
  name={<><a href="#a131d6c8d567e507a8424fb2ca791ce58">MDT</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machineloopinfo">MachineLoopInfo</a> &#42;</>}
  name={<><a href="#a62d7a42ca2e5768f90f26af63eff37df">MLI</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machineregisterinfo">MachineRegisterInfo</a> &#42;</>}
  name={<><a href="#ae58f8afe564f61fab4eb19ce22aae73e">MRI</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/hexagoninstrinfo">HexagonInstrInfo</a> &#42;</>}
  name={<><a href="#a7b9acab12fb99432eab080e9197a13de">TII</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/hexagonregisterinfo">HexagonRegisterInfo</a> &#42;</>}
  name={<><a href="#a52c5d48e3e2a57f55fe88240a9cab9f1">TRI</a></>}>
</MembersIndexItem>

</MembersIndex>

## Public Static Attributes Index

<MembersIndex>

<MembersIndexItem
  type="int"
  name={<><a href="#aa2b7e4cd01f1099b9b7b906c0185377f">Counter</a> = 0</>}>
</MembersIndexItem>

<MembersIndexItem
  type="char"
  name={<><a href="#ac40b8dc6f6e7f12eee455df7fdd5acaa">ID</a> = 0</>}>
</MembersIndexItem>

</MembersIndex>


Definition at line 100 of file <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp">HexagonHardwareLoops.cpp</a>.

<SectionDefinition>

## Private Member Typedefs

### LoopFeederMap {#ac6b82390fefb5da9c2865eed18b778a2}

<MemberDefinition
  prototype={<>using anonymous&#95;namespace&#123;HexagonHardwareLoops.cpp&#125;::HexagonHardwareLoops::LoopFeederMap =  std::map&lt;Register, MachineInstr &#42;&gt;</>}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp/#l00126">126</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp">HexagonHardwareLoops.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Constructors

### HexagonHardwareLoops() {#a7ba6007fbeaf7123afa98a38a0198dda}

<MemberDefinition
  prototype={<>anonymous&#95;namespace&#123;HexagonHardwareLoops.cpp&#125;::HexagonHardwareLoops::HexagonHardwareLoops ()</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp/#l00113">113</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp">HexagonHardwareLoops.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### getAnalysisUsage() {#a6883ae5f17e638eb68522e3e2cde21c6}

<MemberDefinition
  prototype={<>void anonymous&#95;namespace&#123;HexagonHardwareLoops.cpp&#125;::HexagonHardwareLoops::getAnalysisUsage (<a href="/docs/api/classes/llvm/analysisusage">AnalysisUsage</a> &amp;) const</>}
  labels = {["inline", "virtual"]}>
getAnalysisUsage - This function should be overriden by passes that need analysis information to do their job.

If a pass specifies that it uses a particular analysis result to this function, it can then use the <a href="/docs/api/classes/llvm/pass/#a4863e5e463fb79955269fbf7fbf52b80">getAnalysis&lt;AnalysisType&gt;()</a> function, below.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp/#l00119">119</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp">HexagonHardwareLoops.cpp</a>.
</MemberDefinition>

### getPassName() {#a8ea624b644f9e276a8265d50b493d74a}

<MemberDefinition
  prototype={<>StringRef anonymous&#95;namespace&#123;HexagonHardwareLoops.cpp&#125;::HexagonHardwareLoops::getPassName () const</>}
  labels = {["inline", "virtual"]}>
getPassName - Return a nice clean name for a pass.

This usually implemented in terms of the name that is registered by one of the Registration templates, but can be overloaded directly.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp/#l00117">117</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp">HexagonHardwareLoops.cpp</a>.
</MemberDefinition>

### runOnMachineFunction() {#a227e7ddfafd6bce13cfb1473136e8230}

<MemberDefinition
  prototype={<>bool HexagonHardwareLoops::runOnMachineFunction (<a href="/docs/api/classes/llvm/machinefunction">MachineFunction</a> &amp; MF)</>}
  labels = {["virtual"]}>
runOnMachineFunction - This method must be overloaded to perform the desired machine code transformation or analysis.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp/#l00115">115</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp">HexagonHardwareLoops.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Functions

### checkForImmediate() {#a3079e29992991b31a5a2c3117d37f49e}

<MemberDefinition
  prototype={<>bool HexagonHardwareLoops::checkForImmediate (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/machineoperand">MachineOperand</a> &amp; MO, int64&#95;t &amp; Val) const</>}>
Check if the given operand has a compile-time known constant value.

Return true if yes, and false otherwise. When returning true, set Val to the corresponding constant value.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp/#l00257">257</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp">HexagonHardwareLoops.cpp</a>.
</MemberDefinition>

### computeCount() {#a83476caf5187aa87ccc67c401ad07c39}

<MemberDefinition
  prototype={<>CountValue &#42; HexagonHardwareLoops::computeCount (<a href="/docs/api/classes/llvm/machineloop">MachineLoop</a> &#42; Loop, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/machineoperand">MachineOperand</a> &#42; Start, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/machineoperand">MachineOperand</a> &#42; End, <a href="/docs/api/classes/llvm/register">Register</a> IVReg, int64&#95;t IVBump, Comparison::Kind Cmp) const</>}>
Return the expression that represents the number of times a loop iterates.

Helper function that returns the expression that represents the number of times a loop iterates.

The function takes the operands that represent the loop start value, loop end value, and induction value. Based upon these operands, the function attempts to compute the trip count. If the trip count is not directly available (as an immediate value, or a register), the function will attempt to insert computation of it to the loop&#39;s preheader.

The function takes the operands that represent the loop start value, loop end value, and induction value. Based upon these operands, the function attempts to compute the trip count.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp/#l00204">204</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp">HexagonHardwareLoops.cpp</a>.
</MemberDefinition>

### containsInvalidInstruction() {#a8085af352a9541eb9ec92e82cf60098f}

<MemberDefinition
  prototype={<>bool HexagonHardwareLoops::containsInvalidInstruction (<a href="/docs/api/classes/llvm/machineloop">MachineLoop</a> &#42; L, bool IsInnerHWLoop) const</>}>
Return true if the loop contains an instruction that inhibits using the hardware loop.

Return true if the loop contains an instruction that inhibits the use of the hardware loop instruction.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp/#l00215">215</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp">HexagonHardwareLoops.cpp</a>.
</MemberDefinition>

### convertToHardwareLoop() {#a665e9738b997cc75cc5b9716dfd0e091}

<MemberDefinition
  prototype={<>bool HexagonHardwareLoops::convertToHardwareLoop (<a href="/docs/api/classes/llvm/machineloop">MachineLoop</a> &#42; L, bool &amp; RecL0used, bool &amp; RecL1used)</>}>
Given a loop, check if we can convert it to a hardware loop.

Check if the loop is a candidate for converting to a hardware loop.

If so, then perform the conversion and return true.

If so, then perform the transformation.

This function works on innermost loops first. A loop can be converted if it is a counting loop; either a register value or an immediate.

The code makes several assumptions about the representation of the loop in llvm.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp/#l00219">219</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp">HexagonHardwareLoops.cpp</a>.
</MemberDefinition>

### createPreheaderForLoop() {#a263f3bec0cc5b67a174a103d6572adb7}

<MemberDefinition
  prototype={<>MachineBasicBlock &#42; HexagonHardwareLoops::createPreheaderForLoop (<a href="/docs/api/classes/llvm/machineloop">MachineLoop</a> &#42; L)</>}>
Given a loop, if it does not have a preheader, create one.

createPreheaderForLoop - Create a preheader for a given loop.

Return the block that is the preheader.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp/#l00301">301</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp">HexagonHardwareLoops.cpp</a>.
</MemberDefinition>

### findInductionRegister() {#a43d49f23512f7554a2deb7cfe9019a44}

<MemberDefinition
  prototype={<>bool HexagonHardwareLoops::findInductionRegister (<a href="/docs/api/classes/llvm/machineloop">MachineLoop</a> &#42; L, <a href="/docs/api/classes/llvm/register">Register</a> &amp; Reg, int64&#95;t &amp; IVBump, <a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &#42;&amp; IVOp) const</>}>
Find the register that contains the loop controlling induction variable.

If successful, it will return true and set the <code>Reg</code>, <code>IVBump</code> and <code>IVOp</code> arguments. Otherwise it will return false. The returned induction register is the register R that follows the following induction pattern: loop: R = phi ..., &#91; R.next, LatchBlock &#93; R.next = R + #bump if (R.next &lt; <a href="/docs/api/files/lib/lib/support/regcomp-c/#a0240ac851181b84ac374872dc5434ee4">N</a>) goto loop IVBump is the immediate value added to R, and IVOp is the instruction &quot;R.next = R + #bump&quot;.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp/#l00182">182</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp">HexagonHardwareLoops.cpp</a>.
</MemberDefinition>

### fixupInductionVariable() {#aa9f6b81556b3c4cb8f7bd7796d1e642d}

<MemberDefinition
  prototype={<>bool HexagonHardwareLoops::fixupInductionVariable (<a href="/docs/api/classes/llvm/machineloop">MachineLoop</a> &#42; L)</>}>
Fix the data flow of the induction variable.

The desired flow is: phi ---&gt; bump -+-&gt; comparison-in-latch. | +-&gt; back to phi where &quot;bump&quot; is the increment of the induction variable: iv = iv + <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a>. Due to some prior code transformations, the actual flow may look like this: phi -+-&gt; bump ---&gt; back to phi | +-&gt; comparison-in-latch (against upper&#95;bound-bump), i.e. the comparison that controls the loop execution may be using the value of the induction variable from before the increment.

Return true if the loop&#39;s flow is the desired one (i.e. it&#39;s either been fixed, or no fixing was necessary). Otherwise, return false. This can happen if the induction variable couldn&#39;t be identified, or if the value in the latch&#39;s comparison cannot be adjusted to reflect the post-bump value.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp/#l00297">297</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp">HexagonHardwareLoops.cpp</a>.
</MemberDefinition>

### getComparisonKind() {#a5ed3d2963dc0dc995190233b763a8764}

<MemberDefinition
  prototype={<>HexagonHardwareLoops::Comparison::Kind HexagonHardwareLoops::getComparisonKind (unsigned CondOpc, <a href="/docs/api/classes/llvm/machineoperand">MachineOperand</a> &#42; InitialValue, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/machineoperand">MachineOperand</a> &#42; Endvalue, int64&#95;t IVBump) const</>}>
Return the comparison kind for the specified opcode.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp/#l00186">186</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp">HexagonHardwareLoops.cpp</a>.
</MemberDefinition>

### getImmediate() {#a3db634726639483c9ad746922787d07f}

<MemberDefinition
  prototype={<>int64&#95;t anonymous&#95;namespace&#123;HexagonHardwareLoops.cpp&#125;::HexagonHardwareLoops::getImmediate (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/machineoperand">MachineOperand</a> &amp; MO) const</>}
  labels = {["inline"]}>
Return the immediate for the specified operand.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp/#l00266">266</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp">HexagonHardwareLoops.cpp</a>.
</MemberDefinition>

### getLoopTripCount() {#aeaeea823712680f7bb14b421725e777a}

<MemberDefinition
  prototype={<>CountValue &#42; HexagonHardwareLoops::getLoopTripCount (<a href="/docs/api/classes/llvm/machineloop">MachineLoop</a> &#42; L, <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; <a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &#42; &gt; &amp; OldInsts)</>}>
Analyze the statements in a loop to determine if the loop has a computable trip count and, if so, return a value that represents the trip count expression.

This function iterates over the phi nodes in the loop to check for induction variable patterns that are used in the calculation for the number of time the loop is executed.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp/#l00194">194</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp">HexagonHardwareLoops.cpp</a>.
</MemberDefinition>

### isDead() {#a86c298e486e4f1c7a505de80e0487bbe}

<MemberDefinition
  prototype={<>bool HexagonHardwareLoops::isDead (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &#42; MI, <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; <a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &#42; &gt; &amp; DeadPhis) const</>}>
Return true if the instruction is now dead.

Returns true if the instruction is dead.

This was essentially copied from DeadMachineInstructionElim::isDead, but with special cases for inline asm, physical registers and instructions with side effects removed.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp/#l00222">222</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp">HexagonHardwareLoops.cpp</a>.
</MemberDefinition>

### isImmediate() {#a807ab4ff060cd9c8ca7d5c62222b8c3a}

<MemberDefinition
  prototype={<>bool anonymous&#95;namespace&#123;HexagonHardwareLoops.cpp&#125;::HexagonHardwareLoops::isImmediate (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/machineoperand">MachineOperand</a> &amp; MO) const</>}
  labels = {["inline"]}>
Check if the operand has a compile-time known constant value.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp/#l00260">260</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp">HexagonHardwareLoops.cpp</a>.
</MemberDefinition>

### isInvalidLoopOperation() {#a788ee8bfed2f5f542d7863fe950202bb}

<MemberDefinition
  prototype={<>bool HexagonHardwareLoops::isInvalidLoopOperation (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &#42; MI, bool IsInnerHWLoop) const</>}>
Return true if the instruction is not valid within a hardware loop.

Return true if the operation is invalid within hardware loop.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp/#l00210">210</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp">HexagonHardwareLoops.cpp</a>.
</MemberDefinition>

### isLoopFeeder() {#a893f8a4fd143c960627a143b0c2753d4}

<MemberDefinition
  prototype={<>bool HexagonHardwareLoops::isLoopFeeder (<a href="/docs/api/classes/llvm/machineloop">MachineLoop</a> &#42; L, <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42; A, <a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &#42; MI, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/machineoperand">MachineOperand</a> &#42; MO, LoopFeederMap &amp; LoopFeederPhi) const</>}>
Return true if MO and MI pair is visited only once.

This function is required to break recursion.

If visited more than once, this indicates there is recursion. In such a case, return false.

Visiting phis in a loop may result in recursion during compilation. We break the recursion by making sure that we visit a <a href="/docs/api/classes/llvm/machineoperand">MachineOperand</a> and its definition in a MachineInstruction only once. If we attempt to visit more than once, then there is recursion, and will return false.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp/#l00237">237</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp">HexagonHardwareLoops.cpp</a>.
</MemberDefinition>

### loopCountMayWrapOrUnderFlow() {#a8a3381f44509e7c4529936b7b8e1622a}

<MemberDefinition
  prototype={<>bool HexagonHardwareLoops::loopCountMayWrapOrUnderFlow (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/machineoperand">MachineOperand</a> &#42; InitVal, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/machineoperand">MachineOperand</a> &#42; EndVal, <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42; MBB, <a href="/docs/api/classes/llvm/machineloop">MachineLoop</a> &#42; L, LoopFeederMap &amp; LoopFeederPhi) const</>}>
Return true if the induction variable may underflow an unsigned value in the first iteration.

Return true if the induction variable can underflow in the first iteration.

An example, is an initial unsigned value that is 0 and is decrement in the first itertion of a do-while loop. In this case, we cannot generate a hardware loop because the endloop instruction does not decrement the loop counter if it is &lt;= 1. We only need to perform this analysis if the initial value is a register.

This function assumes the initial value may underfow unless proven otherwise. If the type is signed, then we don&#39;t care because signed underflow is undefined. We attempt to prove the initial value is not zero by perfoming a crude analysis of the loop counter. This function checks if the initial value is used in any comparison prior to the loop and, if so, assumes the comparison is a range check. This is inexact, but will catch the simple cases.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp/#l00249">249</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp">HexagonHardwareLoops.cpp</a>.
</MemberDefinition>

### orderBumpCompare() {#a23eba50257ccba363671df08c1ff5793}

<MemberDefinition
  prototype={<>bool HexagonHardwareLoops::orderBumpCompare (<a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &#42; BumpI, <a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &#42; CmpI)</>}>
Make sure that the &quot;bump&quot; instruction executes before the compare.

We need that for the IV fixup, so that the compare instruction would not use a bumped value that has not yet been defined. If the instructions are out of order, try to reorder them.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp/#l00232">232</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp">HexagonHardwareLoops.cpp</a>.
</MemberDefinition>

### phiMayWrapOrUnderflow() {#a66b16adf030f72742c139fac26280eb2}

<MemberDefinition
  prototype={<>bool HexagonHardwareLoops::phiMayWrapOrUnderflow (<a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &#42; Phi, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/machineoperand">MachineOperand</a> &#42; EndVal, <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42; MBB, <a href="/docs/api/classes/llvm/machineloop">MachineLoop</a> &#42; L, LoopFeederMap &amp; LoopFeederPhi) const</>}>
Return true if the Phi may generate a value that may underflow, or may wrap.

Return true if a Phi may generate a value that can underflow.

This function calls loopCountMayWrapOrUnderFlow for each Phi operand.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp/#l00243">243</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp">HexagonHardwareLoops.cpp</a>.
</MemberDefinition>

### removeIfDead() {#a00770c8027ff9165f98e1e91d1f78d65}

<MemberDefinition
  prototype={<>void HexagonHardwareLoops::removeIfDead (<a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &#42; MI)</>}>
Remove the instruction if it is now dead.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp/#l00226">226</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp">HexagonHardwareLoops.cpp</a>.
</MemberDefinition>

### setImmediate() {#ab1791444f0b5ea643148dbebb7c29646}

<MemberDefinition
  prototype={<>void HexagonHardwareLoops::setImmediate (<a href="/docs/api/classes/llvm/machineoperand">MachineOperand</a> &amp; MO, int64&#95;t Val)</>}>
Reset the given machine operand to now refer to a new immediate value.

Assumes that the operand was already referencing an immediate value, either directly, or via a register.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp/#l00276">276</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp">HexagonHardwareLoops.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Attributes

### MDT {#a131d6c8d567e507a8424fb2ca791ce58}

<MemberDefinition
  prototype={<>MachineDominatorTree&#42; anonymous&#95;namespace&#123;HexagonHardwareLoops.cpp&#125;::HexagonHardwareLoops::MDT</>}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp/#l00103">103</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp">HexagonHardwareLoops.cpp</a>.
</MemberDefinition>

### MLI {#a62d7a42ca2e5768f90f26af63eff37df}

<MemberDefinition
  prototype={<>MachineLoopInfo&#42; anonymous&#95;namespace&#123;HexagonHardwareLoops.cpp&#125;::HexagonHardwareLoops::MLI</>}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp/#l00101">101</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp">HexagonHardwareLoops.cpp</a>.
</MemberDefinition>

### MRI {#ae58f8afe564f61fab4eb19ce22aae73e}

<MemberDefinition
  prototype={<>MachineRegisterInfo&#42; anonymous&#95;namespace&#123;HexagonHardwareLoops.cpp&#125;::HexagonHardwareLoops::MRI</>}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp/#l00102">102</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp">HexagonHardwareLoops.cpp</a>.
</MemberDefinition>

### TII {#a7b9acab12fb99432eab080e9197a13de}

<MemberDefinition
  prototype={<>const HexagonInstrInfo&#42; anonymous&#95;namespace&#123;HexagonHardwareLoops.cpp&#125;::HexagonHardwareLoops::TII</>}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp/#l00104">104</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp">HexagonHardwareLoops.cpp</a>.
</MemberDefinition>

### TRI {#a52c5d48e3e2a57f55fe88240a9cab9f1}

<MemberDefinition
  prototype={<>const HexagonRegisterInfo&#42; anonymous&#95;namespace&#123;HexagonHardwareLoops.cpp&#125;::HexagonHardwareLoops::TRI</>}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp/#l00105">105</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp">HexagonHardwareLoops.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Static Attributes

### Counter {#aa2b7e4cd01f1099b9b7b906c0185377f}

<MemberDefinition
  prototype={<>int anonymous&#95;namespace&#123;HexagonHardwareLoops.cpp&#125;::HexagonHardwareLoops::Counter = 0</>}
  labels = {["static"]}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp/#l00107">107</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp">HexagonHardwareLoops.cpp</a>.
</MemberDefinition>

### ID {#ac40b8dc6f6e7f12eee455df7fdd5acaa}

<MemberDefinition
  prototype={<>char anonymous&#95;namespace&#123;HexagonHardwareLoops.cpp&#125;::HexagonHardwareLoops::ID = 0</>}
  labels = {["static"]}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp/#l00111">111</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp">HexagonHardwareLoops.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this struct was generated from the following file:

<ul>
<li><a href="/docs/api/files/lib/lib/target/lib/target/hexagon/hexagonhardwareloops-cpp">HexagonHardwareLoops.cpp</a></li>
</ul>

</DoxygenPage>
