---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/structs/amd-kernel-code-t
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - struct
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'
import XrefSect from '@xpack/docusaurus-plugin-doxygen/components/XrefSect'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `amd_kernel_code_t` Struct Reference

<DoxygenPage pluginConfig={pluginConfig}>

AMD Kernel Code Object (<a href="/docs/api/structs/amd-kernel-code-t">amd&#95;kernel&#95;code&#95;t</a>). <a href="#details">More...</a>

## Declaration

<CodeBlock>struct amd_kernel_code_t</CodeBlock>

## Included Headers

<IncludesList>
<IncludesListItem
  filePath="Target/AMDGPU/AMDKernelCodeT.h"
  permalink="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h"
  isLocal="true" />
</IncludesList>

## Public Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<>uint32&#95;t</>}
  name={<><a href="#a69b3062747791cdac6a750dda916f69b">amd&#95;kernel&#95;code&#95;version&#95;major</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>uint32&#95;t</>}
  name={<><a href="#af8a4325bdbe341cbe35667260d0cf612">amd&#95;kernel&#95;code&#95;version&#95;minor</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>uint16&#95;t</>}
  name={<><a href="#a1776bdb052a121eea5af309942f9039c">amd&#95;machine&#95;kind</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>uint16&#95;t</>}
  name={<><a href="#a83a6743132dd0569a29101b5ea75ecc0">amd&#95;machine&#95;version&#95;major</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>uint16&#95;t</>}
  name={<><a href="#a12b6fd60f05bb2b48109c695d11e4b9c">amd&#95;machine&#95;version&#95;minor</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>uint16&#95;t</>}
  name={<><a href="#ac32688254d6765473b622910e45dba0e">amd&#95;machine&#95;version&#95;stepping</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>int32&#95;t</>}
  name={<><a href="#ab57d5ee699912ac205d90dbeefaa2407">call&#95;convention</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>uint32&#95;t</>}
  name={<><a href="#a34a391217195263371f11ba2f8219479">code&#95;properties</a></>}>
Code properties. <a href="#a34a391217195263371f11ba2f8219479">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>uint64&#95;t</>}
  name={<><a href="#afe887ee8071cec14eb579fdaba4e5fbf">compute&#95;pgm&#95;resource&#95;registers</a></>}>
Shader program settings for CS. <a href="#afe887ee8071cec14eb579fdaba4e5fbf">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>uint64&#95;t</>}
  name={<><a href="#ae5e524fb8cae5e05a0a1340b24f9337e">control&#95;directives</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>uint16&#95;t</>}
  name={<><a href="#af68c1702d9f26c793dd848c8765685f9">debug&#95;private&#95;segment&#95;buffer&#95;sgpr</a></>}>
If is&#95;debug&#95;supported is 0 then must be 0. <a href="#af68c1702d9f26c793dd848c8765685f9">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>uint16&#95;t</>}
  name={<><a href="#afa83aedabe38cdb3d6943d6cb1f6b1a4">debug&#95;wavefront&#95;private&#95;segment&#95;offset&#95;sgpr</a></>}>
If is&#95;debug&#95;supported is 0 then must be 0. <a href="#afa83aedabe38cdb3d6943d6cb1f6b1a4">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>uint32&#95;t</>}
  name={<><a href="#a8c63fe3bc77fc8e389e09fcfefd4f693">gds&#95;segment&#95;byte&#95;size</a></>}>
Number of byte of GDS required by kernel dispatch. <a href="#a8c63fe3bc77fc8e389e09fcfefd4f693">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>uint8&#95;t</>}
  name={<><a href="#a2f1b54ed94c72f92b98e6c5a36413d0b">group&#95;segment&#95;alignment</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>uint8&#95;t</>}
  name={<><a href="#a701ca94d346f682b471cb0648543e23e">kernarg&#95;segment&#95;alignment</a></>}>
The maximum byte alignment of variables used by the kernel in the specified memory segment. <a href="#a701ca94d346f682b471cb0648543e23e">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>uint64&#95;t</>}
  name={<><a href="#ae197ddae3e0ec48aaf7ecdfa238d385a">kernarg&#95;segment&#95;byte&#95;size</a></>}>
The size in bytes of the kernarg segment that holds the values of the arguments to the kernel. <a href="#ae197ddae3e0ec48aaf7ecdfa238d385a">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>int64&#95;t</>}
  name={<><a href="#a8d4f73b89b79246bd80c7e70ade9dcfd">kernel&#95;code&#95;entry&#95;byte&#95;offset</a></>}>
Byte offset (possibly negative) from start of <a href="/docs/api/structs/amd-kernel-code-t">amd&#95;kernel&#95;code&#95;t</a> object to kernel&#39;s entry point instruction. <a href="#a8d4f73b89b79246bd80c7e70ade9dcfd">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>int64&#95;t</>}
  name={<><a href="#a8eee8a5ffadb28eca3f86b1d71abb956">kernel&#95;code&#95;prefetch&#95;byte&#95;offset</a></>}>
Range of bytes to consider prefetching expressed as an offset and size. <a href="#a8eee8a5ffadb28eca3f86b1d71abb956">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>uint64&#95;t</>}
  name={<><a href="#ae19ee952d54955cc0b116bf491fbbdb6">kernel&#95;code&#95;prefetch&#95;byte&#95;size</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>uint8&#95;t</>}
  name={<><a href="#a3f4bdeb2251ae4637ff3aa9ba109e48e">private&#95;segment&#95;alignment</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>uint16&#95;t</>}
  name={<><a href="#afd4b8bd479ae906c9830cd862d35fd1e">reserved&#95;sgpr&#95;count</a></>}>
The number of consecutive SGPRs reserved by the client. <a href="#afd4b8bd479ae906c9830cd862d35fd1e">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>uint16&#95;t</>}
  name={<><a href="#a73a7429830686ee698c07843a92a765b">reserved&#95;sgpr&#95;first</a></>}>
If reserved&#95;sgpr&#95;count is 0 then must be 0. <a href="#a73a7429830686ee698c07843a92a765b">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>uint16&#95;t</>}
  name={<><a href="#a6be335b99bc919616ee2e7f979e4521b">reserved&#95;vgpr&#95;count</a></>}>
The number of consecutive VGPRs reserved by the client. <a href="#a6be335b99bc919616ee2e7f979e4521b">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>uint16&#95;t</>}
  name={<><a href="#a1db63c4debd90bffd965037be2dd2419">reserved&#95;vgpr&#95;first</a></>}>
If reserved&#95;vgpr&#95;count is 0 then must be 0. <a href="#a1db63c4debd90bffd965037be2dd2419">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>uint64&#95;t</>}
  name={<><a href="#adecf388ad5ec215ace4396e00db4a8ac">reserved0</a></>}>
Reserved. Must be 0. <a href="#adecf388ad5ec215ace4396e00db4a8ac">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>uint8&#95;t</>}
  name={<><a href="#a6afa9ab97cc0d46bf10b1b8739bd7767">reserved3</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>uint64&#95;t</>}
  name={<><a href="#a2b0cf6bce1e464a818f811b4a671fd24">runtime&#95;loader&#95;kernel&#95;symbol</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>uint16&#95;t</>}
  name={<><a href="#a8b8d4c303b7a4c5102da8dc27a45a3ef">wavefront&#95;sgpr&#95;count</a></>}>
Number of scalar registers used by a wavefront. <a href="#a8b8d4c303b7a4c5102da8dc27a45a3ef">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>uint8&#95;t</>}
  name={<><a href="#a71c743526930a3412ac30725b307bd77">wavefront&#95;size</a></>}>
Wavefront size expressed as a power of two. <a href="#a71c743526930a3412ac30725b307bd77">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>uint32&#95;t</>}
  name={<><a href="#af7b9ca2595bcadf009e3e8cec76039b1">workgroup&#95;fbarrier&#95;count</a></>}>
Number of fbarrier&#39;s used in the kernel and all functions it calls. <a href="#af7b9ca2595bcadf009e3e8cec76039b1">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>uint32&#95;t</>}
  name={<><a href="#a8a4649b6a04374eaaf4bc4ef80053264">workgroup&#95;group&#95;segment&#95;byte&#95;size</a></>}>
The amount of group segment memory required by a work-group in bytes. <a href="#a8a4649b6a04374eaaf4bc4ef80053264">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>uint32&#95;t</>}
  name={<><a href="#ad74c415c7d3e3642886adcfd8619d11b">workitem&#95;private&#95;segment&#95;byte&#95;size</a></>}>
The amount of memory required for the combined private, spill and arg segments for a work-item in bytes. <a href="#ad74c415c7d3e3642886adcfd8619d11b">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>uint16&#95;t</>}
  name={<><a href="#a13e3cc02a4f9ed0ad17dc6a427c8cfa6">workitem&#95;vgpr&#95;count</a></>}>
Number of vector registers used by each work-item. <a href="#a13e3cc02a4f9ed0ad17dc6a427c8cfa6">More...</a>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

AMD Kernel Code Object (<a href="/docs/api/structs/amd-kernel-code-t">amd&#95;kernel&#95;code&#95;t</a>).

GPU CP uses the AMD Kernel Code Object to set up the hardware to execute the kernel dispatch.

Initial Kernel Register State.

Initial kernel register state will be set up by CP/SPI prior to the start of execution of every wavefront. This is limited by the constraints of the current hardware.

The order of the SGPR registers is defined, but the Finalizer can specify which ones are actually setup in the <a href="/docs/api/structs/amd-kernel-code-t">amd&#95;kernel&#95;code&#95;t</a> object using the enable&#95;sgpr&#95;&#42; bit fields. The register numbers used for enabled registers are dense starting at SGPR0: the first enabled register is SGPR0, the next enabled register is SGPR1 etc.; disabled registers do not have an SGPR number.

The initial SGPRs comprise up to 16 User SRGPs that are set up by CP and apply to all waves of the grid. It is possible to specify more than 16 User SGPRs using the enable&#95;sgpr&#95;&#42; bit fields, in which case only the first 16 are actually initialized. These are then immediately followed by the System SGPRs that are set up by ADC/SPI and can have different values for each wave of the grid dispatch.

SGPR register initial state is defined as follows:

Private Segment Buffer (enable&#95;sgpr&#95;private&#95;segment&#95;buffer): Number of User SGPR registers: 4. V# that can be used, together with Scratch Wave Offset as an offset, to access the Private/Spill/Arg segments using a segment address. It must be set as follows:
<ul>
<li>Base address: of the scratch memory area used by the dispatch. It does not include the scratch wave offset. It will be the per process SH&#95;HIDDEN&#95;PRIVATE&#95;BASE&#95;VMID plus any offset from this dispatch (for example there may be a per pipe offset, or per AQL Queue offset).</li>
<li>Stride + data&#95;format: Element Size &#42; Index Stride (???)</li>
<li>Cache swizzle: ???</li>
<li>Swizzle enable: SH&#95;STATIC&#95;MEM&#95;CONFIG.SWIZZLE&#95;ENABLE (must be 1 for scratch)</li>
<li>Num records: Flat Scratch Work Item Size / Element Size (???)</li>
<li>Dst&#95;sel&#95;&#42;: ???</li>
<li>Num&#95;format: ???</li>
<li>Element&#95;size: SH&#95;STATIC&#95;MEM&#95;CONFIG.ELEMENT&#95;SIZE (will be DWORD, must agree with amd&#95;kernel&#95;code&#95;t.privateElementSize)</li>
<li>Index&#95;stride: SH&#95;STATIC&#95;MEM&#95;CONFIG.INDEX&#95;STRIDE (will be 64 as must be number of wavefront lanes for scratch, must agree with amd&#95;kernel&#95;code&#95;t.wavefrontSize)</li>
<li>Add tid enable: 1</li>
<li>ATC: from SH&#95;MEM&#95;CONFIG.PRIVATE&#95;ATC,</li>
<li>Hash&#95;enable: ???</li>
<li>Heap: ???</li>
<li>Mtype: from SH&#95;STATIC&#95;MEM&#95;CONFIG.PRIVATE&#95;MTYPE</li>
<li>Type: 0 (a buffer) (???)</li>
</ul>


Dispatch Ptr (enable&#95;sgpr&#95;dispatch&#95;ptr): Number of User SGPR registers: 2. 64 bit address of AQL dispatch packet for kernel actually executing.

Queue Ptr (enable&#95;sgpr&#95;queue&#95;ptr): Number of User SGPR registers: 2. 64 bit address of AmdQueue object for AQL queue on which the dispatch packet was queued.

Kernarg Segment Ptr (enable&#95;sgpr&#95;kernarg&#95;segment&#95;ptr): Number of User SGPR registers: 2. 64 bit address of Kernarg segment. This is directly copied from the kernargPtr in the dispatch packet. Having CP load it once avoids loading it at the beginning of every wavefront.

Dispatch Id (enable&#95;sgpr&#95;dispatch&#95;id): Number of User SGPR registers: 2. 64 bit Dispatch ID of the dispatch packet being executed.

Flat Scratch Init (enable&#95;sgpr&#95;flat&#95;scratch&#95;init): Number of User SGPR registers: 2. This is 2 SGPRs.

For CI/VI: The first SGPR is a 32 bit byte offset from SH&#95;MEM&#95;HIDDEN&#95;PRIVATE&#95;BASE to base of memory for scratch for this dispatch. This is the same offset used in computing the Scratch Segment Buffer base address. The value of Scratch Wave Offset must be added by the kernel code and moved to SGPRn-4 for use as the FLAT SCRATCH BASE in flat memory instructions.

The second SGPR is 32 bit byte size of a single work-item&#39;s scratch memory usage. This is directly loaded from the dispatch packet Private Segment Byte Size and rounded up to a multiple of DWORD.


<XrefSect
  title="Todo"
  permalink="/docs/api/pages/todo/#_todo000014">
&#91;Does CP need to round this to &gt;4 byte alignment?&#93;
</XrefSect>

The kernel code must move to SGPRn-3 for use as the FLAT SCRATCH SIZE in flat memory instructions. Having CP load it once avoids loading it at the beginning of every wavefront.

For PI: This is the 64 bit base address of the scratch backing memory for allocated by CP for this dispatch.

Private Segment Size (enable&#95;sgpr&#95;private&#95;segment&#95;size): Number of User SGPR registers: 1. The 32 bit byte size of a single work-item&#39;s scratch memory allocation. This is the value from the dispatch packet. Private Segment Byte Size rounded up by CP to a multiple of DWORD.


<XrefSect
  title="Todo"
  permalink="/docs/api/pages/todo/#_todo000015">
&#91;Does CP need to round this to &gt;4 byte alignment?&#93;
</XrefSect>

Having CP load it once avoids loading it at the beginning of every wavefront.


<XrefSect
  title="Todo"
  permalink="/docs/api/pages/todo/#_todo000016">
&#91;This will not be used for CI/VI since it is the same value as the second SGPR of Flat Scratch Init. However, it is need for PI which changes meaning of Flat Scratchg Init..&#93;
</XrefSect>

Grid Work-Group Count X (enable&#95;sgpr&#95;grid&#95;workgroup&#95;count&#95;x): Number of User SGPR registers: 1. 32 bit count of the number of work-groups in the X dimension for the grid being executed. Computed from the fields in the HsaDispatchPacket as ((gridSize.x+workgroupSize.x-1)/workgroupSize.x).

Grid Work-Group Count Y (enable&#95;sgpr&#95;grid&#95;workgroup&#95;count&#95;y): Number of User SGPR registers: 1. 32 bit count of the number of work-groups in the Y dimension for the grid being executed. Computed from the fields in the HsaDispatchPacket as ((gridSize.y+workgroupSize.y-1)/workgroupSize.y).

Only initialized if &lt;16 previous SGPRs initialized.

Grid Work-Group Count Z (enable&#95;sgpr&#95;grid&#95;workgroup&#95;count&#95;z): Number of User SGPR registers: 1. 32 bit count of the number of work-groups in the Z dimension for the grid being executed. Computed from the fields in the HsaDispatchPacket as ((gridSize.z+workgroupSize.z-1)/workgroupSize.z).

Only initialized if &lt;16 previous SGPRs initialized.

Work-Group Id X (enable&#95;sgpr&#95;workgroup&#95;id&#95;x): Number of System SGPR registers: 1. 32 bit work group id in X dimension of grid for wavefront. Always present.

Work-Group Id Y (enable&#95;sgpr&#95;workgroup&#95;id&#95;y): Number of System SGPR registers: 1. 32 bit work group id in Y dimension of grid for wavefront.

Work-Group Id Z (enable&#95;sgpr&#95;workgroup&#95;id&#95;z): Number of System SGPR registers: 1. 32 bit work group id in Z dimension of grid for wavefront. If present then Work-group Id Y will also be present

Work-Group Info (enable&#95;sgpr&#95;workgroup&#95;info): Number of System SGPR registers: 1. &#123;first&#95;wave, 14&#39;b0000, ordered&#95;append&#95;term&#91;10:0&#93;, threadgroup&#95;size&#95;in&#95;waves&#91;5:0&#93;&#125;

Private Segment Wave Byte Offset (enable&#95;sgpr&#95;private&#95;segment&#95;wave&#95;byte&#95;offset): Number of System SGPR registers: 1. 32 bit byte offset from base of dispatch scratch base. Must be used as an offset with Private/Spill/Arg segment address when using Scratch Segment Buffer. It must be added to Flat Scratch Offset if setting up FLAT SCRATCH for flat addressing.

The order of the VGPR registers is defined, but the Finalizer can specify which ones are actually setup in the <a href="/docs/api/structs/amd-kernel-code-t">amd&#95;kernel&#95;code&#95;t</a> object using the enableVgpr&#42; bit fields. The register numbers used for enabled registers are dense starting at VGPR0: the first enabled register is VGPR0, the next enabled register is VGPR1 etc.; disabled registers do not have an VGPR number.

VGPR register initial state is defined as follows:

Work-Item Id X (always initialized): Number of registers: 1. 32 bit work item id in X dimension of work-group for wavefront lane.

Work-Item Id X (enable&#95;vgpr&#95;workitem&#95;id &gt; 0): Number of registers: 1. 32 bit work item id in Y dimension of work-group for wavefront lane.

Work-Item Id X (enable&#95;vgpr&#95;workitem&#95;id &gt; 0): Number of registers: 1. 32 bit work item id in Z dimension of work-group for wavefront lane.

The setting of registers is being done by existing GPU hardware as follows: 1) SGPRs before the Work-Group Ids are set by CP using the 16 User Data registers. 2) Work-group Id registers X, Y, Z are set by SPI which supports any combination including none. 3) Scratch Wave Offset is also set by SPI which is why its value cannot be added into the value Flat Scratch Offset which would avoid the Finalizer generated prolog having to do the add. 4) The VGPRs are set by SPI which only supports specifying either (X), (X, Y) or (X, Y, Z).

Flat Scratch Dispatch Offset and Flat Scratch Size are adjacent SGRRs so they can be moved as a 64 bit value to the hardware required SGPRn-3 and SGPRn-4 respectively using the Finalizer ?FLAT&#95;SCRATCH? Register.

The global segment can be accessed either using flat operations or buffer operations. If buffer operations are used then the Global Buffer used to access HSAIL Global/Readonly/Kernarg (which are combine) segments using a segment address is not passed into the kernel code by CP since its base address is always 0. Instead the Finalizer generates prolog code to initialize 4 SGPRs with a V# that has the following properties, and then uses that in the buffer instructions:
<ul>
<li>base address of 0</li>
<li>no swizzle</li>
<li>ATC=1</li>
<li>MTYPE set to support memory coherence specified in amd&#95;kernel&#95;code&#95;t.globalMemoryCoherence</li>
</ul>


When the Global Buffer is used to access the Kernarg segment, must add the dispatch packet kernArgPtr to a kernarg segment address before using this V#. Alternatively scalar loads can be used if the kernarg offset is uniform, as the kernarg segment is constant for the duration of the kernel execution.

Definition at line 526 of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h">AMDKernelCodeT.h</a>.

<SectionDefinition>

## Public Member Attributes

### amd&#95;kernel&#95;code&#95;version&#95;major {#a69b3062747791cdac6a750dda916f69b}

<MemberDefinition
  prototype={<>uint32&#95;t amd&#95;kernel&#95;code&#95;t::amd&#95;kernel&#95;code&#95;version&#95;major</>}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#l00527">527</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h">AMDKernelCodeT.h</a>.
</MemberDefinition>

### amd&#95;kernel&#95;code&#95;version&#95;minor {#af8a4325bdbe341cbe35667260d0cf612}

<MemberDefinition
  prototype={<>uint32&#95;t amd&#95;kernel&#95;code&#95;t::amd&#95;kernel&#95;code&#95;version&#95;minor</>}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#l00528">528</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h">AMDKernelCodeT.h</a>.
</MemberDefinition>

### amd&#95;machine&#95;kind {#a1776bdb052a121eea5af309942f9039c}

<MemberDefinition
  prototype={<>uint16&#95;t amd&#95;kernel&#95;code&#95;t::amd&#95;machine&#95;kind</>}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#l00529">529</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h">AMDKernelCodeT.h</a>.
</MemberDefinition>

### amd&#95;machine&#95;version&#95;major {#a83a6743132dd0569a29101b5ea75ecc0}

<MemberDefinition
  prototype={<>uint16&#95;t amd&#95;kernel&#95;code&#95;t::amd&#95;machine&#95;version&#95;major</>}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#l00530">530</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h">AMDKernelCodeT.h</a>.
</MemberDefinition>

### amd&#95;machine&#95;version&#95;minor {#a12b6fd60f05bb2b48109c695d11e4b9c}

<MemberDefinition
  prototype={<>uint16&#95;t amd&#95;kernel&#95;code&#95;t::amd&#95;machine&#95;version&#95;minor</>}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#l00531">531</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h">AMDKernelCodeT.h</a>.
</MemberDefinition>

### amd&#95;machine&#95;version&#95;stepping {#ac32688254d6765473b622910e45dba0e}

<MemberDefinition
  prototype={<>uint16&#95;t amd&#95;kernel&#95;code&#95;t::amd&#95;machine&#95;version&#95;stepping</>}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#l00532">532</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h">AMDKernelCodeT.h</a>.
</MemberDefinition>

### call&#95;convention {#ab57d5ee699912ac205d90dbeefaa2407}

<MemberDefinition
  prototype={<>int32&#95;t amd&#95;kernel&#95;code&#95;t::call&#95;convention</>}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#l00645">645</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h">AMDKernelCodeT.h</a>.
</MemberDefinition>

### code&#95;properties {#a34a391217195263371f11ba2f8219479}

<MemberDefinition
  prototype={<>uint32&#95;t amd&#95;kernel&#95;code&#95;t::code&#95;properties</>}>
Code properties.

See <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#ae598a8419230cf7b6ff36928295c4246">amd&#95;code&#95;property&#95;mask&#95;t</a> for a full list of properties.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#l00562">562</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h">AMDKernelCodeT.h</a>.
</MemberDefinition>

### compute&#95;pgm&#95;resource&#95;registers {#afe887ee8071cec14eb579fdaba4e5fbf}

<MemberDefinition
  prototype={<>uint64&#95;t amd&#95;kernel&#95;code&#95;t::compute&#95;pgm&#95;resource&#95;registers</>}>
Shader program settings for CS.

Contains COMPUTE&#95;PGM&#95;RSRC1 and COMPUTE&#95;PGM&#95;RSRC2 registers.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#l00558">558</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h">AMDKernelCodeT.h</a>.
</MemberDefinition>

### control&#95;directives {#ae5e524fb8cae5e05a0a1340b24f9337e}

<MemberDefinition
  prototype={<>uint64&#95;t amd&#95;kernel&#95;code&#95;t::control&#95;directives&#91;16&#93;</>}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#l00648">648</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h">AMDKernelCodeT.h</a>.
</MemberDefinition>

### debug&#95;private&#95;segment&#95;buffer&#95;sgpr {#af68c1702d9f26c793dd848c8765685f9}

<MemberDefinition
  prototype={<>uint16&#95;t amd&#95;kernel&#95;code&#95;t::debug&#95;private&#95;segment&#95;buffer&#95;sgpr</>}>
If is&#95;debug&#95;supported is 0 then must be 0.

Otherwise, this is the fixed SGPR number of the first of 4 SGPRs used to hold the scratch V# used for the entire kernel execution, or uint16&#95;t(-1) if the registers are not used or not known.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#l00629">629</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h">AMDKernelCodeT.h</a>.
</MemberDefinition>

### debug&#95;wavefront&#95;private&#95;segment&#95;offset&#95;sgpr {#afa83aedabe38cdb3d6943d6cb1f6b1a4}

<MemberDefinition
  prototype={<>uint16&#95;t amd&#95;kernel&#95;code&#95;t::debug&#95;wavefront&#95;private&#95;segment&#95;offset&#95;sgpr</>}>
If is&#95;debug&#95;supported is 0 then must be 0.

Otherwise, this is the fixed SGPR number used to hold the wave scratch offset for the entire kernel execution, or uint16&#95;t(-1) if the register is not used or not known.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#l00623">623</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h">AMDKernelCodeT.h</a>.
</MemberDefinition>

### gds&#95;segment&#95;byte&#95;size {#a8c63fe3bc77fc8e389e09fcfefd4f693}

<MemberDefinition
  prototype={<>uint32&#95;t amd&#95;kernel&#95;code&#95;t::gds&#95;segment&#95;byte&#95;size</>}>
Number of byte of GDS required by kernel dispatch.

Must be 0 if not using GDS.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#l00578">578</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h">AMDKernelCodeT.h</a>.
</MemberDefinition>

### group&#95;segment&#95;alignment {#a2f1b54ed94c72f92b98e6c5a36413d0b}

<MemberDefinition
  prototype={<>uint8&#95;t amd&#95;kernel&#95;code&#95;t::group&#95;segment&#95;alignment</>}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#l00635">635</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h">AMDKernelCodeT.h</a>.
</MemberDefinition>

### kernarg&#95;segment&#95;alignment {#a701ca94d346f682b471cb0648543e23e}

<MemberDefinition
  prototype={<>uint8&#95;t amd&#95;kernel&#95;code&#95;t::kernarg&#95;segment&#95;alignment</>}>
The maximum byte alignment of variables used by the kernel in the specified memory segment.

Expressed as a power of two. Must be at least HSA&#95;POWERTWO&#95;16.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#l00634">634</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h">AMDKernelCodeT.h</a>.
</MemberDefinition>

### kernarg&#95;segment&#95;byte&#95;size {#ae197ddae3e0ec48aaf7ecdfa238d385a}

<MemberDefinition
  prototype={<>uint64&#95;t amd&#95;kernel&#95;code&#95;t::kernarg&#95;segment&#95;byte&#95;size</>}>
The size in bytes of the kernarg segment that holds the values of the arguments to the kernel.

This could be used by CP to prefetch the kernarg segment pointed to by the dispatch packet.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#l00583">583</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h">AMDKernelCodeT.h</a>.
</MemberDefinition>

### kernel&#95;code&#95;entry&#95;byte&#95;offset {#a8d4f73b89b79246bd80c7e70ade9dcfd}

<MemberDefinition
  prototype={<>int64&#95;t amd&#95;kernel&#95;code&#95;t::kernel&#95;code&#95;entry&#95;byte&#95;offset</>}>
Byte offset (possibly negative) from start of <a href="/docs/api/structs/amd-kernel-code-t">amd&#95;kernel&#95;code&#95;t</a> object to kernel&#39;s entry point instruction.

The actual code for the kernel is required to be 256 byte aligned to match hardware requirements (SQ cache line is 16). The code must be position independent code (PIC) for AMD devices to give runtime the option of copying code to discrete GPU memory or APU L2 cache. The Finalizer should endeavour to allocate all kernel machine code in contiguous memory pages so that a device pre-fetcher will tend to only pre-fetch Kernel Code objects, improving cache performance.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#l00544">544</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h">AMDKernelCodeT.h</a>.
</MemberDefinition>

### kernel&#95;code&#95;prefetch&#95;byte&#95;offset {#a8eee8a5ffadb28eca3f86b1d71abb956}

<MemberDefinition
  prototype={<>int64&#95;t amd&#95;kernel&#95;code&#95;t::kernel&#95;code&#95;prefetch&#95;byte&#95;offset</>}>
Range of bytes to consider prefetching expressed as an offset and size.

The offset is from the start (possibly negative) of <a href="/docs/api/structs/amd-kernel-code-t">amd&#95;kernel&#95;code&#95;t</a> object. Set both to 0 if no prefetch information is available.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#l00550">550</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h">AMDKernelCodeT.h</a>.
</MemberDefinition>

### kernel&#95;code&#95;prefetch&#95;byte&#95;size {#ae19ee952d54955cc0b116bf491fbbdb6}

<MemberDefinition
  prototype={<>uint64&#95;t amd&#95;kernel&#95;code&#95;t::kernel&#95;code&#95;prefetch&#95;byte&#95;size</>}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#l00551">551</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h">AMDKernelCodeT.h</a>.
</MemberDefinition>

### private&#95;segment&#95;alignment {#a3f4bdeb2251ae4637ff3aa9ba109e48e}

<MemberDefinition
  prototype={<>uint8&#95;t amd&#95;kernel&#95;code&#95;t::private&#95;segment&#95;alignment</>}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#l00636">636</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h">AMDKernelCodeT.h</a>.
</MemberDefinition>

### reserved&#95;sgpr&#95;count {#afd4b8bd479ae906c9830cd862d35fd1e}

<MemberDefinition
  prototype={<>uint16&#95;t amd&#95;kernel&#95;code&#95;t::reserved&#95;sgpr&#95;count</>}>
The number of consecutive SGPRs reserved by the client.

If is&#95;debug&#95;supported then this count includes SGPRs reserved for debugger use.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#l00617">617</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h">AMDKernelCodeT.h</a>.
</MemberDefinition>

### reserved&#95;sgpr&#95;first {#a73a7429830686ee698c07843a92a765b}

<MemberDefinition
  prototype={<>uint16&#95;t amd&#95;kernel&#95;code&#95;t::reserved&#95;sgpr&#95;first</>}>
If reserved&#95;sgpr&#95;count is 0 then must be 0.

Otherwise, this is the first fixed SGPR number reserved.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#l00612">612</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h">AMDKernelCodeT.h</a>.
</MemberDefinition>

### reserved&#95;vgpr&#95;count {#a6be335b99bc919616ee2e7f979e4521b}

<MemberDefinition
  prototype={<>uint16&#95;t amd&#95;kernel&#95;code&#95;t::reserved&#95;vgpr&#95;count</>}>
The number of consecutive VGPRs reserved by the client.

If is&#95;debug&#95;supported then this count includes VGPRs reserved for debugger use.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#l00608">608</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h">AMDKernelCodeT.h</a>.
</MemberDefinition>

### reserved&#95;vgpr&#95;first {#a1db63c4debd90bffd965037be2dd2419}

<MemberDefinition
  prototype={<>uint16&#95;t amd&#95;kernel&#95;code&#95;t::reserved&#95;vgpr&#95;first</>}>
If reserved&#95;vgpr&#95;count is 0 then must be 0.

Otherwise, this is the first fixed VGPR number reserved.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#l00603">603</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h">AMDKernelCodeT.h</a>.
</MemberDefinition>

### reserved0 {#adecf388ad5ec215ace4396e00db4a8ac}

<MemberDefinition
  prototype={<>uint64&#95;t amd&#95;kernel&#95;code&#95;t::reserved0</>}>
Reserved. Must be 0.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#l00554">554</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h">AMDKernelCodeT.h</a>.
</MemberDefinition>

### reserved3 {#a6afa9ab97cc0d46bf10b1b8739bd7767}

<MemberDefinition
  prototype={<>uint8&#95;t amd&#95;kernel&#95;code&#95;t::reserved3&#91;12&#93;</>}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#l00646">646</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h">AMDKernelCodeT.h</a>.
</MemberDefinition>

### runtime&#95;loader&#95;kernel&#95;symbol {#a2b0cf6bce1e464a818f811b4a671fd24}

<MemberDefinition
  prototype={<>uint64&#95;t amd&#95;kernel&#95;code&#95;t::runtime&#95;loader&#95;kernel&#95;symbol</>}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#l00647">647</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h">AMDKernelCodeT.h</a>.
</MemberDefinition>

### wavefront&#95;sgpr&#95;count {#a8b8d4c303b7a4c5102da8dc27a45a3ef}

<MemberDefinition
  prototype={<>uint16&#95;t amd&#95;kernel&#95;code&#95;t::wavefront&#95;sgpr&#95;count</>}>
Number of scalar registers used by a wavefront.

This includes the special SGPRs for VCC, Flat Scratch Base, Flat Scratch Size and XNACK (for GFX8 (VI)). It does not include the 16 SGPR added if a trap handler is enabled. Used to set COMPUTE&#95;PGM&#95;RSRC1.SGPRS.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#l00595">595</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h">AMDKernelCodeT.h</a>.
</MemberDefinition>

### wavefront&#95;size {#a71c743526930a3412ac30725b307bd77}

<MemberDefinition
  prototype={<>uint8&#95;t amd&#95;kernel&#95;code&#95;t::wavefront&#95;size</>}>
Wavefront size expressed as a power of two.

Must be a power of 2 in range 1..64 inclusive. Used to support runtime query that obtains wavefront size, which may be used by application to allocated dynamic group memory and set the dispatch work-group size.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#l00643">643</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h">AMDKernelCodeT.h</a>.
</MemberDefinition>

### workgroup&#95;fbarrier&#95;count {#af7b9ca2595bcadf009e3e8cec76039b1}

<MemberDefinition
  prototype={<>uint32&#95;t amd&#95;kernel&#95;code&#95;t::workgroup&#95;fbarrier&#95;count</>}>
Number of fbarrier&#39;s used in the kernel and all functions it calls.

If the implementation uses group memory to allocate the fbarriers then that amount must already be included in the workgroup&#95;group&#95;segment&#95;byte&#95;size total.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#l00589">589</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h">AMDKernelCodeT.h</a>.
</MemberDefinition>

### workgroup&#95;group&#95;segment&#95;byte&#95;size {#a8a4649b6a04374eaaf4bc4ef80053264}

<MemberDefinition
  prototype={<>uint32&#95;t amd&#95;kernel&#95;code&#95;t::workgroup&#95;group&#95;segment&#95;byte&#95;size</>}>
The amount of group segment memory required by a work-group in bytes.

This does not include any dynamically allocated group segment memory that may be added when the kernel is dispatched.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#l00574">574</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h">AMDKernelCodeT.h</a>.
</MemberDefinition>

### workitem&#95;private&#95;segment&#95;byte&#95;size {#ad74c415c7d3e3642886adcfd8619d11b}

<MemberDefinition
  prototype={<>uint32&#95;t amd&#95;kernel&#95;code&#95;t::workitem&#95;private&#95;segment&#95;byte&#95;size</>}>
The amount of memory required for the combined private, spill and arg segments for a work-item in bytes.

If is&#95;dynamic&#95;callstack is 1 then additional space must be added to this value for the call stack.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#l00568">568</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h">AMDKernelCodeT.h</a>.
</MemberDefinition>

### workitem&#95;vgpr&#95;count {#a13e3cc02a4f9ed0ad17dc6a427c8cfa6}

<MemberDefinition
  prototype={<>uint16&#95;t amd&#95;kernel&#95;code&#95;t::workitem&#95;vgpr&#95;count</>}>
Number of vector registers used by each work-item.

Used to set COMPUTE&#95;PGM&#95;RSRC1.VGPRS.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#l00599">599</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h">AMDKernelCodeT.h</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this struct was generated from the following file:

<ul>
<li><a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h">AMDKernelCodeT.h</a></li>
</ul>

</DoxygenPage>
