---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/structs/anonymous-namespace-dataflowsanitizer-cpp-/dfsanfunction
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - struct
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `DFSanFunction` Struct Reference

<DoxygenPage pluginConfig={pluginConfig}>



## Declaration

<CodeBlock>struct anonymous_namespace{DataFlowSanitizer.cpp}::DFSanFunction</CodeBlock>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#ab8c5c5b0f17f72c5cb46a534a46f80e7">DFSanFunction</a> (DataFlowSanitizer &amp;DFS, Function &#42;F, bool IsNativeABI, bool IsForceZeroLabels, TargetLibraryInfo &amp;TLI)</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="void"
  name={<><a href="#abb18e068cfa4ee49c6cc19a2ea5278d9">addConditionalCallbacksIfEnabled</a> (Instruction &amp;I, Value &#42;Condition)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#ac04b6d4e5d3715d33fee0cf6c80a15c8">addReachesFunctionCallbacksIfEnabled</a> (IRBuilder&lt;&gt; &amp;IRB, Instruction &amp;I, Value &#42;Data)</>}>
</MembersIndexItem>

<MembersIndexItem
  template={<>template &lt;class AggregateType&gt;</>}
  type={<><a href="/docs/api/classes/llvm/value">Value</a> &#42;</>}
  name={<><a href="#a08920d8002e237eb7a2b55b8134aaad6">collapseAggregateShadow</a> (AggregateType &#42;AT, Value &#42;Shadow, IRBuilder&lt;&gt; &amp;IRB)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/value">Value</a> &#42;</>}
  name={<><a href="#a4b65c40648346b8d99dd58a2d3d318e9">collapseToPrimitiveShadow</a> (Value &#42;Shadow, BasicBlock::iterator Pos)</>}>
Collapses Shadow into a single primitive shadow value, unioning all primitive shadow values in the process. <a href="#a4b65c40648346b8d99dd58a2d3d318e9">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/value">Value</a> &#42;</>}
  name={<><a href="#a609c78a9c329baf4d3aa095a80784a4c">combineOperandOrigins</a> (Instruction &#42;Inst)</>}>
Generates IR to compute the origin of the last operand with a taint label. <a href="#a609c78a9c329baf4d3aa095a80784a4c">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/value">Value</a> &#42;</>}
  name={<><a href="#ad7d79bd0b027705195d79619a1d0450a">combineOperandShadows</a> (Instruction &#42;Inst)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/value">Value</a> &#42;</>}
  name={<><a href="#a92dd8bdf6470ea49d360683ec825dd4a">combineOrigins</a> (const std::vector&lt; Value &#42; &gt; &amp;Shadows, const std::vector&lt; Value &#42; &gt; &amp;Origins, BasicBlock::iterator Pos, ConstantInt &#42;Zero=nullptr)</>}>
Before the instruction Pos, generates IR to compute the last origin with a taint label. <a href="#a92dd8bdf6470ea49d360683ec825dd4a">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/value">Value</a> &#42;</>}
  name={<><a href="#a52fb7e69634a02e492f7285741b43f84">combineShadows</a> (Value &#42;V1, Value &#42;V2, BasicBlock::iterator Pos)</>}>
Generates IR to compute the union of the two given shadows, inserting it before Pos. <a href="#a52fb7e69634a02e492f7285741b43f84">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/value">Value</a> &#42;</>}
  name={<><a href="#ac4a2cdec5e0ca4bb9bbdb2f8a4310fd6">combineShadowsThenConvert</a> (Type &#42;T, Value &#42;V1, Value &#42;V2, BasicBlock::iterator Pos)</>}>
Combines the shadow values of V1 and V2, then converts the combined value with primitive type into a shadow value with the original type T. <a href="#ac4a2cdec5e0ca4bb9bbdb2f8a4310fd6">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/value">Value</a> &#42;</>}
  name={<><a href="#af512bce8ac0099600eaf443bde3d975f">expandFromPrimitiveShadow</a> (Type &#42;T, Value &#42;PrimitiveShadow, BasicBlock::iterator Pos)</>}>
Applies PrimitiveShadow to all primitive subtypes of T, returning the expanded shadow value. <a href="#af512bce8ac0099600eaf443bde3d975f">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/value">Value</a> &#42;</>}
  name={<><a href="#a1ea2f1d59ceaa0deb10ae51f8e1d71d9">getArgOriginTLS</a> (unsigned ArgNo, IRBuilder&lt;&gt; &amp;IRB)</>}>
Computes the origin address for a given function argument. <a href="#a1ea2f1d59ceaa0deb10ae51f8e1d71d9">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/value">Value</a> &#42;</>}
  name={<><a href="#a5759fab5ef52a7e3ee96af7eb5e42c64">getArgTLS</a> (Type &#42;T, unsigned ArgOffset, IRBuilder&lt;&gt; &amp;IRB)</>}>
Computes the shadow address for a given function argument. <a href="#a5759fab5ef52a7e3ee96af7eb5e42c64">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/value">Value</a> &#42;</>}
  name={<><a href="#a9e596bf4044aed2cf004290fe49a1a03">getOrigin</a> (Value &#42;V)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/value">Value</a> &#42;</>}
  name={<><a href="#a6ba279a3c1456d5e86e5ba8d509807fd">getRetvalOriginTLS</a> ()</>}>
Computes the origin address for a return value. <a href="#a6ba279a3c1456d5e86e5ba8d509807fd">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/value">Value</a> &#42;</>}
  name={<><a href="#ae1eff2ac03032a7ba69baaaa62904ca0">getRetvalTLS</a> (Type &#42;T, IRBuilder&lt;&gt; &amp;IRB)</>}>
Computes the shadow address for a return value. <a href="#ae1eff2ac03032a7ba69baaaa62904ca0">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/value">Value</a> &#42;</>}
  name={<><a href="#a7b7b17b8c343bd803b7381e95331701c">getShadow</a> (Value &#42;V)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/structs/llvm/align">Align</a></>}
  name={<><a href="#a2bdefa4c8e1d99d585232cf526147891">getShadowAlign</a> (Align InstAlignment)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#acc28d73804bc12a7a70c2e323ccb45fd">isLookupTableConstant</a> (Value &#42;P)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::pair&lt; <a href="/docs/api/classes/llvm/value">Value</a> &#42;, <a href="/docs/api/classes/llvm/value">Value</a> &#42; &gt;</>}
  name={<><a href="#aca49f1e83822401c87d4984bf57694a6">loadShadowOrigin</a> (Value &#42;Addr, uint64&#95;t Size, Align InstAlignment, BasicBlock::iterator Pos)</>}>
Generates IR to load shadow and origin corresponding to bytes &#91;<code>Addr</code>, <code>Addr</code> + <code>Size</code>), where addr has alignment <code>InstAlignment</code>, and take the union of each of those shadows. <a href="#aca49f1e83822401c87d4984bf57694a6">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#ae548511913b150465cebb7956571da83">setOrigin</a> (Instruction &#42;I, Value &#42;Origin)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a853ce539733c2eaa910c92d9cad6062a">setShadow</a> (Instruction &#42;I, Value &#42;Shadow)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a1616baf1b22efae9f17bb3d499ac8931">storePrimitiveShadowOrigin</a> (Value &#42;Addr, uint64&#95;t Size, Align InstAlignment, Value &#42;PrimitiveShadow, Value &#42;Origin, BasicBlock::iterator Pos)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#aabfea0675d601df03f2b2bda2bceb157">storeZeroPrimitiveShadow</a> (Value &#42;Addr, uint64&#95;t Size, Align ShadowAlign, BasicBlock::iterator Pos)</>}>
</MembersIndexItem>

</MembersIndex>

## Private Member Functions Index

<MembersIndex>

<MembersIndexItem
  template={<>template &lt;class AggregateType&gt;</>}
  type={<><a href="/docs/api/classes/llvm/value">Value</a> &#42;</>}
  name={<><a href="#a08920d8002e237eb7a2b55b8134aaad6">collapseAggregateShadow</a> (AggregateType &#42;AT, Value &#42;Shadow, IRBuilder&lt;&gt; &amp;IRB)</>}>
Collapses the shadow with aggregate type into a single primitive shadow value. <a href="#a08920d8002e237eb7a2b55b8134aaad6">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/value">Value</a> &#42;</>}
  name={<><a href="#a91ab02b8c74269ddde83303fa4514df5">collapseToPrimitiveShadow</a> (Value &#42;Shadow, IRBuilder&lt;&gt; &amp;IRB)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/value">Value</a> &#42;</>}
  name={<><a href="#ab0d6a258f4d4ba2a638e878ab85d1b48">convertToBool</a> (Value &#42;V, IRBuilder&lt;&gt; &amp;IRB, const Twine &amp;Name=&quot;&quot;)</>}>
Convert a scalar value to an i1 by comparing with 0. <a href="#ab0d6a258f4d4ba2a638e878ab85d1b48">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/structs/llvm/align">Align</a></>}
  name={<><a href="#a7b094311af3fb65b6a4b9e3c6ef0258e">getOriginAlign</a> (Align InstAlignment)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/value">Value</a> &#42;</>}
  name={<><a href="#a43045cbf2529a8a24b8e01c9dc5963fa">getShadowForTLSArgument</a> (Argument &#42;A)</>}>
Returns the shadow value of an argument A. <a href="#a43045cbf2529a8a24b8e01c9dc5963fa">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::pair&lt; <a href="/docs/api/classes/llvm/value">Value</a> &#42;, <a href="/docs/api/classes/llvm/value">Value</a> &#42; &gt;</>}
  name={<><a href="#a318a54739deed47cd3bb219a7e95a65b">loadShadowFast</a> (Value &#42;ShadowAddr, Value &#42;OriginAddr, uint64&#95;t Size, Align ShadowAlign, Align OriginAlign, Value &#42;FirstOrigin, BasicBlock::iterator Pos)</>}>
The fast path of loading shadows. <a href="#a318a54739deed47cd3bb219a7e95a65b">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::pair&lt; <a href="/docs/api/classes/llvm/value">Value</a> &#42;, <a href="/docs/api/classes/llvm/value">Value</a> &#42; &gt;</>}
  name={<><a href="#a8c1bc93430ac199974bb787017743376">loadShadowOriginSansLoadTracking</a> (Value &#42;Addr, uint64&#95;t Size, Align InstAlignment, BasicBlock::iterator Pos)</>}>
Generates IR to load shadow and origin corresponding to bytes &#91;<code>Addr</code>, <code>Addr</code> + <code>Size</code>), where addr has alignment <code>InstAlignment</code>, and take the union of each of those shadows. <a href="#a8c1bc93430ac199974bb787017743376">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/value">Value</a> &#42;</>}
  name={<><a href="#a6703435154fcac958e856758d9166f09">originToIntptr</a> (IRBuilder&lt;&gt; &amp;IRB, Value &#42;Origin)</>}>
Creates an Intptr = Origin | Origin &lt;&lt; 32 if Intptr&#39;s size is 64. <a href="#a6703435154fcac958e856758d9166f09">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a089eaa5b94881cf92a59f74bee02f92b">paintOrigin</a> (IRBuilder&lt;&gt; &amp;IRB, Value &#42;Origin, Value &#42;StoreOriginAddr, uint64&#95;t StoreOriginSize, Align Alignment)</>}>
Stores Origin into the address range &#91;StoreOriginAddr, StoreOriginAddr + Size). <a href="#a089eaa5b94881cf92a59f74bee02f92b">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a20e91ee0f05eafb079eb896a23b60e43">shouldInstrumentWithCall</a> ()</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a67f31096683389ae32883513c0b32f07">storeOrigin</a> (BasicBlock::iterator Pos, Value &#42;Addr, uint64&#95;t Size, Value &#42;Shadow, Value &#42;Origin, Value &#42;StoreOriginAddr, Align InstAlignment)</>}>
Stores Origin in terms of its Shadow value. <a href="#a67f31096683389ae32883513c0b32f07">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/value">Value</a> &#42;</>}
  name={<><a href="#a6be13ba9d35bcef8bc7eb00a858dbf47">updateOrigin</a> (Value &#42;V, IRBuilder&lt;&gt; &amp;IRB)</>}>
Returns a chain at the current stack with previous origin V. <a href="#a6be13ba9d35bcef8bc7eb00a858dbf47">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/value">Value</a> &#42;</>}
  name={<><a href="#abf49498f1f50715b6ed34d12d9d72dc3">updateOriginIfTainted</a> (Value &#42;Shadow, Value &#42;Origin, IRBuilder&lt;&gt; &amp;IRB)</>}>
Returns a chain at the current stack with previous origin V if Shadow is tainted. <a href="#abf49498f1f50715b6ed34d12d9d72dc3">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a8bbd8d4c945b5d02f562d6567e5c9a5e">useCallbackLoadLabelAndOrigin</a> (uint64&#95;t Size, Align InstAlignment)</>}>
Because 4 contiguous bytes share one 4-byte origin, the most accurate load is &#95;&#95;dfsan&#95;load&#95;label&#95;and&#95;origin. <a href="#a8bbd8d4c945b5d02f562d6567e5c9a5e">More...</a>
</MembersIndexItem>

</MembersIndex>

## Public Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/densemap">DenseMap</a>&lt; <a href="/docs/api/classes/llvm/allocainst">AllocaInst</a> &#42;, <a href="/docs/api/classes/llvm/allocainst">AllocaInst</a> &#42; &gt;</>}
  name={<><a href="#a5da03bf9c3f0c03c9b628b7eda42db1e">AllocaOriginMap</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/densemap">DenseMap</a>&lt; <a href="/docs/api/classes/llvm/allocainst">AllocaInst</a> &#42;, <a href="/docs/api/classes/llvm/allocainst">AllocaInst</a> &#42; &gt;</>}
  name={<><a href="#aa54fc6dfeba0265b130001781f606010">AllocaShadowMap</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/densemap">DenseMap</a>&lt; <a href="/docs/api/classes/llvm/value">Value</a> &#42;, <a href="/docs/api/classes/llvm/value">Value</a> &#42; &gt;</>}
  name={<><a href="#aeccdffea142ea41bba8c5ebc9718a5de">CachedCollapsedShadows</a></>}>
Maps a value to its latest collapsed shadow value it was converted to in terms of domination tree. <a href="#aeccdffea142ea41bba8c5ebc9718a5de">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/densemap">DenseMap</a>&lt; std::pair&lt; <a href="/docs/api/classes/llvm/value">Value</a> &#42;, <a href="/docs/api/classes/llvm/value">Value</a> &#42; &gt;, <a href="/docs/api/structs/anonymous-namespace-dataflowsanitizer-cpp-/dfsanfunction/cachedshadow">CachedShadow</a> &gt;</>}
  name={<><a href="#aef62266aa7ddab4b91e67bde55fa5ec3">CachedShadows</a></>}>
Maps a value to its latest shadow value in terms of domination tree. <a href="#aef62266aa7ddab4b91e67bde55fa5ec3">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/anonymous-namespace-dataflowsanitizer-cpp-/dataflowsanitizer">DataFlowSanitizer</a> &amp;</>}
  name={<><a href="#ae5891c006deae56c728ecb8f22aec419">DFS</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/dominatortree">DominatorTree</a></>}
  name={<><a href="#a9e6c855198ed4beffa4af56bcfe5f4fa">DT</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/function">Function</a> &#42;</>}
  name={<><a href="#a95173e429ac64ad7584ff95a36d39b98">F</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a7c9aa49e5cfc560471f72b0a0b72e368">IsForceZeroLabels</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#abe0381e7237b33d93121d98e68d58d43">IsNativeABI</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/allocainst">AllocaInst</a> &#42;</>}
  name={<><a href="#ab3624367c2faa9620fe2fba48078f011">LabelReturnAlloca</a> = nullptr</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::vector&lt; <a href="/docs/api/classes/llvm/value">Value</a> &#42; &gt;</>}
  name={<><a href="#a76b93b5c0d047eba65daf2d3afcf31b9">NonZeroChecks</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/allocainst">AllocaInst</a> &#42;</>}
  name={<><a href="#ac005470c874f6ef4a6e3cf96ba739e3c">OriginReturnAlloca</a> = nullptr</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::vector&lt; <a href="/docs/api/structs/anonymous-namespace-dataflowsanitizer-cpp-/dfsanfunction/phifixupelement">PHIFixupElement</a> &gt;</>}
  name={<><a href="#aefe636103263c2f6bb2f30b56cc339d0">PHIFixups</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/densemap">DenseMap</a>&lt; <a href="/docs/api/classes/llvm/value">Value</a> &#42;, std::set&lt; <a href="/docs/api/classes/llvm/value">Value</a> &#42; &gt; &gt;</>}
  name={<><a href="#ad7f730268a549f710f28795d3524ce2e">ShadowElements</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/denseset">DenseSet</a>&lt; <a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42; &gt;</>}
  name={<><a href="#ae661edba632a774dfa41217e00b02300">SkipInsts</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/targetlibraryinfo">TargetLibraryInfo</a> &amp;</>}
  name={<><a href="#a27316d777114a9ce32af8834d7ee206f">TLI</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/densemap">DenseMap</a>&lt; <a href="/docs/api/classes/llvm/value">Value</a> &#42;, <a href="/docs/api/classes/llvm/value">Value</a> &#42; &gt;</>}
  name={<><a href="#ae13923e40e5bb88596e16e20d44c3a05">ValOriginMap</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/densemap">DenseMap</a>&lt; <a href="/docs/api/classes/llvm/value">Value</a> &#42;, <a href="/docs/api/classes/llvm/value">Value</a> &#42; &gt;</>}
  name={<><a href="#af18f1fe1eec7040abc10fffdf41a2f96">ValShadowMap</a></>}>
</MembersIndexItem>

</MembersIndex>

## Private Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type="int"
  name={<><a href="#a7e7d024c791916c39183f5c9c980f44d">NumOriginStores</a> = 0</>}>
</MembersIndexItem>

</MembersIndex>


Definition at line 581 of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.

<SectionDefinition>

## Public Constructors

### DFSanFunction() {#ab8c5c5b0f17f72c5cb46a534a46f80e7}

<MemberDefinition
  prototype={<>anonymous&#95;namespace&#123;DataFlowSanitizer.cpp&#125;::DFSanFunction::DFSanFunction (<a href="/docs/api/classes/anonymous-namespace-dataflowsanitizer-cpp-/dataflowsanitizer">DataFlowSanitizer</a> &amp; DFS, <a href="/docs/api/classes/llvm/function">Function</a> &#42; F, bool IsNativeABI, bool IsForceZeroLabels, <a href="/docs/api/classes/llvm/targetlibraryinfo">TargetLibraryInfo</a> &amp; TLI)</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00618">618</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### addConditionalCallbacksIfEnabled() {#abb18e068cfa4ee49c6cc19a2ea5278d9}

<MemberDefinition
  prototype={<>void DFSanFunction::addConditionalCallbacksIfEnabled (<a href="/docs/api/classes/llvm/instruction">Instruction</a> &amp; I, <a href="/docs/api/classes/llvm/value">Value</a> &#42; Condition)</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00704">704</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### addReachesFunctionCallbacksIfEnabled() {#ac04b6d4e5d3715d33fee0cf6c80a15c8}

<MemberDefinition
  prototype={<>void DFSanFunction::addReachesFunctionCallbacksIfEnabled (<a href="/docs/api/classes/llvm/irbuilder">IRBuilder</a>&lt;&gt; &amp; IRB, <a href="/docs/api/classes/llvm/instruction">Instruction</a> &amp; I, <a href="/docs/api/classes/llvm/value">Value</a> &#42; Data)</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00708">708</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### collapseAggregateShadow() {#a08920d8002e237eb7a2b55b8134aaad6}

<MemberDefinition
  template={<>template &lt;class AggregateType&gt;</>}
  prototype={<>Value &#42; anonymous&#95;namespace&#123;DataFlowSanitizer.cpp&#125;::DFSanFunction::collapseAggregateShadow (AggregateType &#42; AT, <a href="/docs/api/classes/llvm/value">Value</a> &#42; Shadow, <a href="/docs/api/classes/llvm/irbuilder">IRBuilder</a>&lt;&gt; &amp; IRB)</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l01003">1003</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### collapseToPrimitiveShadow() {#a4b65c40648346b8d99dd58a2d3d318e9}

<MemberDefinition
  prototype={<>Value &#42; DFSanFunction::collapseToPrimitiveShadow (<a href="/docs/api/classes/llvm/value">Value</a> &#42; Shadow, <a href="/docs/api/classes/llvm/basicblock/#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> Pos)</>}>
Collapses Shadow into a single primitive shadow value, unioning all primitive shadow values in the process.

Returns the final primitive shadow value.

CTP(&#123;V1,V2, ...&#125;) = UNION(CFP(V1,PS),CFP(V2,PS),...) CTP(&#91;V1,V2,...&#93;) = UNION(CFP(V1,PS),CFP(V2,PS),...) CTP(other types, PS) = PS

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00695">695</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### combineOperandOrigins() {#a609c78a9c329baf4d3aa095a80784a4c}

<MemberDefinition
  prototype={<>Value &#42; DFSanFunction::combineOperandOrigins (<a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42; Inst)</>}>
Generates IR to compute the origin of the last operand with a taint label.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00644">644</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### combineOperandShadows() {#ad7d79bd0b027705195d79619a1d0450a}

<MemberDefinition
  prototype={<>Value &#42; DFSanFunction::combineOperandShadows (<a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42; Inst)</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00664">664</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### combineOrigins() {#a92dd8bdf6470ea49d360683ec825dd4a}

<MemberDefinition
  prototype={<>Value &#42; DFSanFunction::combineOrigins (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> std::vector&lt; <a href="/docs/api/classes/llvm/value">Value</a> &#42; &gt; &amp; Shadows, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> std::vector&lt; <a href="/docs/api/classes/llvm/value">Value</a> &#42; &gt; &amp; Origins, <a href="/docs/api/classes/llvm/basicblock/#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> Pos, <a href="/docs/api/classes/llvm/constantint">ConstantInt</a> &#42; Zero=nullptr)</>}>
Before the instruction Pos, generates IR to compute the last origin with a taint label.

Labels and origins are from vectors Shadows and Origins correspondingly. The generated IR is like Sn-1 != Zero ? On-1: ... S2 != Zero ? O2: S1 != Zero ? O1: O0 When Zero is nullptr, it uses ZeroPrimitiveShadow. Otherwise it can be zeros with other bitwidths.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00651">651</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### combineShadows() {#a52fb7e69634a02e492f7285741b43f84}

<MemberDefinition
  prototype={<>Value &#42; DFSanFunction::combineShadows (<a href="/docs/api/classes/llvm/value">Value</a> &#42; V1, <a href="/docs/api/classes/llvm/value">Value</a> &#42; V2, <a href="/docs/api/classes/llvm/basicblock/#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> Pos)</>}>
Generates IR to compute the union of the two given shadows, inserting it before Pos.

The combined value is with primitive type.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00659">659</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### combineShadowsThenConvert() {#ac4a2cdec5e0ca4bb9bbdb2f8a4310fd6}

<MemberDefinition
  prototype={<>Value &#42; DFSanFunction::combineShadowsThenConvert (<a href="/docs/api/classes/llvm/type">Type</a> &#42; T, <a href="/docs/api/classes/llvm/value">Value</a> &#42; V1, <a href="/docs/api/classes/llvm/value">Value</a> &#42; V2, <a href="/docs/api/classes/llvm/basicblock/#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> Pos)</>}>
Combines the shadow values of V1 and V2, then converts the combined value with primitive type into a shadow value with the original type T.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00662">662</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### expandFromPrimitiveShadow() {#af512bce8ac0099600eaf443bde3d975f}

<MemberDefinition
  prototype={<>Value &#42; DFSanFunction::expandFromPrimitiveShadow (<a href="/docs/api/classes/llvm/type">Type</a> &#42; T, <a href="/docs/api/classes/llvm/value">Value</a> &#42; PrimitiveShadow, <a href="/docs/api/classes/llvm/basicblock/#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> Pos)</>}>
Applies PrimitiveShadow to all primitive subtypes of T, returning the expanded shadow value.

EFP(&#123;T1,T2, ...&#125;, PS) = &#123;EFP(T1,PS),EFP(T2,PS),...&#125; EFP(&#91;n x T&#93;, PS) = &#91;n x EFP(T,PS)&#93; EFP(other types, PS) = PS

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00686">686</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### getArgOriginTLS() {#a1ea2f1d59ceaa0deb10ae51f8e1d71d9}

<MemberDefinition
  prototype={<>Value &#42; DFSanFunction::getArgOriginTLS (unsigned ArgNo, <a href="/docs/api/classes/llvm/irbuilder">IRBuilder</a>&lt;&gt; &amp; IRB)</>}>
Computes the origin address for a given function argument.

Origin = ArgOriginTLS&#91;ArgNo&#93;.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00636">636</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### getArgTLS() {#a5759fab5ef52a7e3ee96af7eb5e42c64}

<MemberDefinition
  prototype={<>Value &#42; DFSanFunction::getArgTLS (<a href="/docs/api/classes/llvm/type">Type</a> &#42; T, unsigned ArgOffset, <a href="/docs/api/classes/llvm/irbuilder">IRBuilder</a>&lt;&gt; &amp; IRB)</>}>
Computes the shadow address for a given function argument.

Shadow = ArgTLS+ArgOffset.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00628">628</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### getOrigin() {#a9e596bf4044aed2cf004290fe49a1a03}

<MemberDefinition
  prototype={<>Value &#42; DFSanFunction::getOrigin (<a href="/docs/api/classes/llvm/value">Value</a> &#42; V)</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00641">641</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### getRetvalOriginTLS() {#a6ba279a3c1456d5e86e5ba8d509807fd}

<MemberDefinition
  prototype={<>Value &#42; DFSanFunction::getRetvalOriginTLS ()</>}>
Computes the origin address for a return value.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00639">639</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### getRetvalTLS() {#ae1eff2ac03032a7ba69baaaa62904ca0}

<MemberDefinition
  prototype={<>Value &#42; DFSanFunction::getRetvalTLS (<a href="/docs/api/classes/llvm/type">Type</a> &#42; T, <a href="/docs/api/classes/llvm/irbuilder">IRBuilder</a>&lt;&gt; &amp; IRB)</>}>
Computes the shadow address for a return value.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00631">631</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### getShadow() {#a7b7b17b8c343bd803b7381e95331701c}

<MemberDefinition
  prototype={<>Value &#42; DFSanFunction::getShadow (<a href="/docs/api/classes/llvm/value">Value</a> &#42; V)</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00655">655</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### getShadowAlign() {#a2bdefa4c8e1d99d585232cf526147891}

<MemberDefinition
  prototype={<>Align DFSanFunction::getShadowAlign (<a href="/docs/api/structs/llvm/align">Align</a> InstAlignment)</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00700">700</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### isLookupTableConstant() {#acc28d73804bc12a7a70c2e323ccb45fd}

<MemberDefinition
  prototype={<>bool DFSanFunction::isLookupTableConstant (<a href="/docs/api/classes/llvm/value">Value</a> &#42; P)</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00711">711</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### loadShadowOrigin() {#aca49f1e83822401c87d4984bf57694a6}

<MemberDefinition
  prototype={<>std::pair&lt; Value &#42;, Value &#42; &gt; DFSanFunction::loadShadowOrigin (<a href="/docs/api/classes/llvm/value">Value</a> &#42; Addr, uint64&#95;t Size, <a href="/docs/api/structs/llvm/align">Align</a> InstAlignment, <a href="/docs/api/classes/llvm/basicblock/#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> Pos)</>}>
Generates IR to load shadow and origin corresponding to bytes &#91;<code>Addr</code>, <code>Addr</code> + <code>Size</code>), where addr has alignment <code>InstAlignment</code>, and take the union of each of those shadows.

The returned shadow always has primitive type.

When tracking loads is enabled, the returned origin is a chain at the current stack if the returned shadow is tainted.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00673">673</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### setOrigin() {#ae548511913b150465cebb7956571da83}

<MemberDefinition
  prototype={<>void DFSanFunction::setOrigin (<a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42; I, <a href="/docs/api/classes/llvm/value">Value</a> &#42; Origin)</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00642">642</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### setShadow() {#a853ce539733c2eaa910c92d9cad6062a}

<MemberDefinition
  prototype={<>void DFSanFunction::setShadow (<a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42; I, <a href="/docs/api/classes/llvm/value">Value</a> &#42; Shadow)</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00656">656</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### storePrimitiveShadowOrigin() {#a1616baf1b22efae9f17bb3d499ac8931}

<MemberDefinition
  prototype={<>void DFSanFunction::storePrimitiveShadowOrigin (<a href="/docs/api/classes/llvm/value">Value</a> &#42; Addr, uint64&#95;t Size, <a href="/docs/api/structs/llvm/align">Align</a> InstAlignment, <a href="/docs/api/classes/llvm/value">Value</a> &#42; PrimitiveShadow, <a href="/docs/api/classes/llvm/value">Value</a> &#42; Origin, <a href="/docs/api/classes/llvm/basicblock/#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> Pos)</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00677">677</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### storeZeroPrimitiveShadow() {#aabfea0675d601df03f2b2bda2bceb157}

<MemberDefinition
  prototype={<>void DFSanFunction::storeZeroPrimitiveShadow (<a href="/docs/api/classes/llvm/value">Value</a> &#42; Addr, uint64&#95;t Size, <a href="/docs/api/structs/llvm/align">Align</a> ShadowAlign, <a href="/docs/api/classes/llvm/basicblock/#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> Pos)</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00697">697</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Functions

### collapseAggregateShadow() {#a08920d8002e237eb7a2b55b8134aaad6}

<MemberDefinition
  template={<>template &lt;class AggregateType&gt;</>}
  prototype={<>Value &#42; anonymous&#95;namespace&#123;DataFlowSanitizer.cpp&#125;::DFSanFunction::collapseAggregateShadow (AggregateType &#42; AT, <a href="/docs/api/classes/llvm/value">Value</a> &#42; Shadow, <a href="/docs/api/classes/llvm/irbuilder">IRBuilder</a>&lt;&gt; &amp; IRB)</>}>
Collapses the shadow with aggregate type into a single primitive shadow value.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00717">717</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### collapseToPrimitiveShadow() {#a91ab02b8c74269ddde83303fa4514df5}

<MemberDefinition
  prototype={<>Value &#42; DFSanFunction::collapseToPrimitiveShadow (<a href="/docs/api/classes/llvm/value">Value</a> &#42; Shadow, <a href="/docs/api/classes/llvm/irbuilder">IRBuilder</a>&lt;&gt; &amp; IRB)</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00720">720</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### convertToBool() {#ab0d6a258f4d4ba2a638e878ab85d1b48}

<MemberDefinition
  prototype={<>Value &#42; DFSanFunction::convertToBool (<a href="/docs/api/classes/llvm/value">Value</a> &#42; V, <a href="/docs/api/classes/llvm/irbuilder">IRBuilder</a>&lt;&gt; &amp; IRB, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/twine">Twine</a> &amp; Name=&quot;&quot;)</>}>
Convert a scalar value to an i1 by comparing with 0.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00770">770</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### getOriginAlign() {#a7b094311af3fb65b6a4b9e3c6ef0258e}

<MemberDefinition
  prototype={<>Align DFSanFunction::getOriginAlign (<a href="/docs/api/structs/llvm/align">Align</a> InstAlignment)</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00731">731</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### getShadowForTLSArgument() {#a43045cbf2529a8a24b8e01c9dc5963fa}

<MemberDefinition
  prototype={<>Value &#42; DFSanFunction::getShadowForTLSArgument (<a href="/docs/api/classes/llvm/argument">Argument</a> &#42; A)</>}>
Returns the shadow value of an argument A.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00723">723</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### loadShadowFast() {#a318a54739deed47cd3bb219a7e95a65b}

<MemberDefinition
  prototype={<>std::pair&lt; Value &#42;, Value &#42; &gt; DFSanFunction::loadShadowFast (<a href="/docs/api/classes/llvm/value">Value</a> &#42; ShadowAddr, <a href="/docs/api/classes/llvm/value">Value</a> &#42; OriginAddr, uint64&#95;t Size, <a href="/docs/api/structs/llvm/align">Align</a> ShadowAlign, <a href="/docs/api/structs/llvm/align">Align</a> OriginAlign, <a href="/docs/api/classes/llvm/value">Value</a> &#42; FirstOrigin, <a href="/docs/api/classes/llvm/basicblock/#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> Pos)</>}>
The fast path of loading shadows.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00727">727</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### loadShadowOriginSansLoadTracking() {#a8c1bc93430ac199974bb787017743376}

<MemberDefinition
  prototype={<>std::pair&lt; Value &#42;, Value &#42; &gt; DFSanFunction::loadShadowOriginSansLoadTracking (<a href="/docs/api/classes/llvm/value">Value</a> &#42; Addr, uint64&#95;t Size, <a href="/docs/api/structs/llvm/align">Align</a> InstAlignment, <a href="/docs/api/classes/llvm/basicblock/#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> Pos)</>}>
Generates IR to load shadow and origin corresponding to bytes &#91;<code>Addr</code>, <code>Addr</code> + <code>Size</code>), where addr has alignment <code>InstAlignment</code>, and take the union of each of those shadows.

The returned shadow always has primitive type.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00779">779</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### originToIntptr() {#a6703435154fcac958e856758d9166f09}

<MemberDefinition
  prototype={<>Value &#42; DFSanFunction::originToIntptr (<a href="/docs/api/classes/llvm/irbuilder">IRBuilder</a>&lt;&gt; &amp; IRB, <a href="/docs/api/classes/llvm/value">Value</a> &#42; Origin)</>}>
Creates an Intptr = Origin | Origin &lt;&lt; 32 if Intptr&#39;s size is 64.

Returns Origin otherwise.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00753">753</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### paintOrigin() {#a089eaa5b94881cf92a59f74bee02f92b}

<MemberDefinition
  prototype={<>void DFSanFunction::paintOrigin (<a href="/docs/api/classes/llvm/irbuilder">IRBuilder</a>&lt;&gt; &amp; IRB, <a href="/docs/api/classes/llvm/value">Value</a> &#42; Origin, <a href="/docs/api/classes/llvm/value">Value</a> &#42; StoreOriginAddr, uint64&#95;t StoreOriginSize, <a href="/docs/api/structs/llvm/align">Align</a> Alignment)</>}>
Stores Origin into the address range &#91;StoreOriginAddr, StoreOriginAddr + Size).

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00757">757</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### shouldInstrumentWithCall() {#a20e91ee0f05eafb079eb896a23b60e43}

<MemberDefinition
  prototype="bool DFSanFunction::shouldInstrumentWithCall ()">

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00772">772</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### storeOrigin() {#a67f31096683389ae32883513c0b32f07}

<MemberDefinition
  prototype={<>void DFSanFunction::storeOrigin (<a href="/docs/api/classes/llvm/basicblock/#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> Pos, <a href="/docs/api/classes/llvm/value">Value</a> &#42; Addr, uint64&#95;t Size, <a href="/docs/api/classes/llvm/value">Value</a> &#42; Shadow, <a href="/docs/api/classes/llvm/value">Value</a> &#42; Origin, <a href="/docs/api/classes/llvm/value">Value</a> &#42; StoreOriginAddr, <a href="/docs/api/structs/llvm/align">Align</a> InstAlignment)</>}>
Stores Origin in terms of its Shadow value.

<ul>
<li>Do not write origins for zero shadows because we do not trace origins for untainted sinks.</li>
<li><a href="/docs/api/classes/llvm/use">Use</a> &#95;&#95;dfsan&#95;maybe&#95;store&#95;origin if there are too many origin store instrumentations.</li>
</ul>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00765">765</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### updateOrigin() {#a6be13ba9d35bcef8bc7eb00a858dbf47}

<MemberDefinition
  prototype={<>Value &#42; DFSanFunction::updateOrigin (<a href="/docs/api/classes/llvm/value">Value</a> &#42; V, <a href="/docs/api/classes/llvm/irbuilder">IRBuilder</a>&lt;&gt; &amp; IRB)</>}>
Returns a chain at the current stack with previous origin V.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00745">745</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### updateOriginIfTainted() {#abf49498f1f50715b6ed34d12d9d72dc3}

<MemberDefinition
  prototype={<>Value &#42; DFSanFunction::updateOriginIfTainted (<a href="/docs/api/classes/llvm/value">Value</a> &#42; Shadow, <a href="/docs/api/classes/llvm/value">Value</a> &#42; Origin, <a href="/docs/api/classes/llvm/irbuilder">IRBuilder</a>&lt;&gt; &amp; IRB)</>}>
Returns a chain at the current stack with previous origin V if Shadow is tainted.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00749">749</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### useCallbackLoadLabelAndOrigin() {#a8bbd8d4c945b5d02f562d6567e5c9a5e}

<MemberDefinition
  prototype={<>bool DFSanFunction::useCallbackLoadLabelAndOrigin (uint64&#95;t Size, <a href="/docs/api/structs/llvm/align">Align</a> InstAlignment)</>}>
Because 4 contiguous bytes share one 4-byte origin, the most accurate load is &#95;&#95;dfsan&#95;load&#95;label&#95;and&#95;origin.

This function returns the union of all labels and the origin of the first taint label. However this is an additional call with many instructions. To ensure common cases are fast, checks if it is possible to load labels and origins without using the callback function.

When enabling tracking load instructions, we always use &#95;&#95;dfsan&#95;load&#95;label&#95;and&#95;origin to reduce code size.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00742">742</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Attributes

### AllocaOriginMap {#a5da03bf9c3f0c03c9b628b7eda42db1e}

<MemberDefinition
  prototype={<>DenseMap&lt;AllocaInst &#42;, AllocaInst &#42;&gt; anonymous&#95;namespace&#123;DataFlowSanitizer.cpp&#125;::DFSanFunction::AllocaOriginMap</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00593">593</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### AllocaShadowMap {#aa54fc6dfeba0265b130001781f606010}

<MemberDefinition
  prototype={<>DenseMap&lt;AllocaInst &#42;, AllocaInst &#42;&gt; anonymous&#95;namespace&#123;DataFlowSanitizer.cpp&#125;::DFSanFunction::AllocaShadowMap</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00592">592</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### CachedCollapsedShadows {#aeccdffea142ea41bba8c5ebc9718a5de}

<MemberDefinition
  prototype={<>DenseMap&lt;Value &#42;, Value &#42;&gt; anonymous&#95;namespace&#123;DataFlowSanitizer.cpp&#125;::DFSanFunction::CachedCollapsedShadows</>}>
Maps a value to its latest collapsed shadow value it was converted to in terms of domination tree.

When ClDebugNonzeroLabels is on, this cache is used at a post process where CFG blocks are split. So it does not cache <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> like CachedShadows, but uses domination between values.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00615">615</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### CachedShadows {#aef62266aa7ddab4b91e67bde55fa5ec3}

<MemberDefinition
  prototype={<>DenseMap&lt;std::pair&lt;Value &#42;, Value &#42;&gt;, CachedShadow&gt; anonymous&#95;namespace&#123;DataFlowSanitizer.cpp&#125;::DFSanFunction::CachedShadows</>}>
Maps a value to its latest shadow value in terms of domination tree.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00610">610</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### DFS {#ae5891c006deae56c728ecb8f22aec419}

<MemberDefinition
  prototype={<>DataFlowSanitizer&amp; anonymous&#95;namespace&#123;DataFlowSanitizer.cpp&#125;::DFSanFunction::DFS</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00582">582</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### DT {#a9e6c855198ed4beffa4af56bcfe5f4fa}

<MemberDefinition
  prototype={<>DominatorTree anonymous&#95;namespace&#123;DataFlowSanitizer.cpp&#125;::DFSanFunction::DT</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00584">584</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### F {#a95173e429ac64ad7584ff95a36d39b98}

<MemberDefinition
  prototype={<>Function&#42; anonymous&#95;namespace&#123;DataFlowSanitizer.cpp&#125;::DFSanFunction::F</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00583">583</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### IsForceZeroLabels {#a7c9aa49e5cfc560471f72b0a0b72e368}

<MemberDefinition
  prototype={<>bool anonymous&#95;namespace&#123;DataFlowSanitizer.cpp&#125;::DFSanFunction::IsForceZeroLabels</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00586">586</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### IsNativeABI {#abe0381e7237b33d93121d98e68d58d43}

<MemberDefinition
  prototype={<>bool anonymous&#95;namespace&#123;DataFlowSanitizer.cpp&#125;::DFSanFunction::IsNativeABI</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00585">585</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### LabelReturnAlloca {#ab3624367c2faa9620fe2fba48078f011}

<MemberDefinition
  prototype={<>AllocaInst&#42; anonymous&#95;namespace&#123;DataFlowSanitizer.cpp&#125;::DFSanFunction::LabelReturnAlloca = nullptr</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00588">588</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### NonZeroChecks {#a76b93b5c0d047eba65daf2d3afcf31b9}

<MemberDefinition
  prototype={<>std::vector&lt;Value &#42;&gt; anonymous&#95;namespace&#123;DataFlowSanitizer.cpp&#125;::DFSanFunction::NonZeroChecks</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00603">603</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### OriginReturnAlloca {#ac005470c874f6ef4a6e3cf96ba739e3c}

<MemberDefinition
  prototype={<>AllocaInst&#42; anonymous&#95;namespace&#123;DataFlowSanitizer.cpp&#125;::DFSanFunction::OriginReturnAlloca = nullptr</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00589">589</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### PHIFixups {#aefe636103263c2f6bb2f30b56cc339d0}

<MemberDefinition
  prototype={<>std::vector&lt;PHIFixupElement&gt; anonymous&#95;namespace&#123;DataFlowSanitizer.cpp&#125;::DFSanFunction::PHIFixups</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00600">600</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### ShadowElements {#ad7f730268a549f710f28795d3524ce2e}

<MemberDefinition
  prototype={<>DenseMap&lt;Value &#42;, std::set&lt;Value &#42;&gt; &gt; anonymous&#95;namespace&#123;DataFlowSanitizer.cpp&#125;::DFSanFunction::ShadowElements</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00616">616</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### SkipInsts {#ae661edba632a774dfa41217e00b02300}

<MemberDefinition
  prototype={<>DenseSet&lt;Instruction &#42;&gt; anonymous&#95;namespace&#123;DataFlowSanitizer.cpp&#125;::DFSanFunction::SkipInsts</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00602">602</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### TLI {#a27316d777114a9ce32af8834d7ee206f}

<MemberDefinition
  prototype={<>TargetLibraryInfo&amp; anonymous&#95;namespace&#123;DataFlowSanitizer.cpp&#125;::DFSanFunction::TLI</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00587">587</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### ValOriginMap {#ae13923e40e5bb88596e16e20d44c3a05}

<MemberDefinition
  prototype={<>DenseMap&lt;Value &#42;, Value &#42;&gt; anonymous&#95;namespace&#123;DataFlowSanitizer.cpp&#125;::DFSanFunction::ValOriginMap</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00591">591</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

### ValShadowMap {#af18f1fe1eec7040abc10fffdf41a2f96}

<MemberDefinition
  prototype={<>DenseMap&lt;Value &#42;, Value &#42;&gt; anonymous&#95;namespace&#123;DataFlowSanitizer.cpp&#125;::DFSanFunction::ValShadowMap</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00590">590</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Attributes

### NumOriginStores {#a7e7d024c791916c39183f5c9c980f44d}

<MemberDefinition
  prototype={<>int anonymous&#95;namespace&#123;DataFlowSanitizer.cpp&#125;::DFSanFunction::NumOriginStores = 0</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp/#l00782">782</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this struct was generated from the following file:

<ul>
<li><a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/dataflowsanitizer-cpp">DataFlowSanitizer.cpp</a></li>
</ul>

</DoxygenPage>
