---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/structs/llvm/mca/retirecontrolunit
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - struct
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `RetireControlUnit` Struct Reference

<DoxygenPage pluginConfig={pluginConfig}>

This class tracks which instructions are in-flight (i.e., dispatched but not retired) in the OoO backend. <a href="#details">More...</a>

## Declaration

<CodeBlock>struct llvm::mca::RetireControlUnit</CodeBlock>

## Included Headers

<IncludesList>
<IncludesListItem
  filePath="llvm/MCA/HardwareUnits/RetireControlUnit.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/mca/include/llvm/mca/hardwareunits/retirecontrolunit-h"
  isLocal="true" />
</IncludesList>

## Base struct

<MembersIndex>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/mca/hardwareunit">HardwareUnit</a></>}>
</MembersIndexItem>

</MembersIndex>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a90de9bdaf1a6c428ea958a2850bdc6a9">RetireControlUnit</a> (const MCSchedModel &amp;SM)</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="void"
  name={<><a href="#af830bc0573e2b15a668a9ae57edcab3d">consumeCurrentToken</a> ()</>}>
</MembersIndexItem>

<MembersIndexItem
  type="unsigned"
  name={<><a href="#ad03428817244b060d06091dca8afdd9e">dispatch</a> (const InstRef &amp;IS)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#ab9754ca17ca12f24c9e82dc0d87f50f2">dump</a> () const</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/structs/llvm/mca/retirecontrolunit/rutoken">RUToken</a> &amp;</>}
  name={<><a href="#acab7dc4684afbbe5d4d3e3fb3d6c6d40">getCurrentToken</a> () const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="unsigned"
  name={<><a href="#a62776b90c0fe21e5ba9941c302a60b1b">getMaxRetirePerCycle</a> () const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a1045f43a3f0d00f3f80ec787debe01eb">isAvailable</a> (unsigned Quantity=1) const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a6d480f057fe5238c2a3adec333604feb">isEmpty</a> () const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a99eab7149433edc8264c153810849952">onInstructionExecuted</a> (unsigned TokenID)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/structs/llvm/mca/retirecontrolunit/rutoken">RUToken</a> &amp;</>}
  name={<><a href="#ae90de6e28096431fb70b944ffcd611ca">peekNextToken</a> () const</>}>
</MembersIndexItem>

</MembersIndex>

## Private Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="unsigned"
  name={<><a href="#a782cf2e89d4483adf0900d6741ffc2f1">computeNextSlotIdx</a> () const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="unsigned"
  name={<><a href="#a4f922a44a7968908622aabb31e81d611">normalizeQuantity</a> (unsigned Quantity) const</>}>
</MembersIndexItem>

</MembersIndex>

## Private Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type="unsigned"
  name={<><a href="#ac2f2c4768afc24bb52a92f1587f424b3">AvailableEntries</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type="unsigned"
  name={<><a href="#a003059424350dcfe6c4f118450c17f9e">CurrentInstructionSlotIdx</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type="unsigned"
  name={<><a href="#a374ba35d06c043161583af43f3c875ea">MaxRetirePerCycle</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type="unsigned"
  name={<><a href="#ab953465bb5b104798aee27621944b114">NextAvailableSlotIdx</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type="unsigned"
  name={<><a href="#a19309f3c5de6cc350a4a1065ae382169">NumROBEntries</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::vector&lt; <a href="/docs/api/structs/llvm/mca/retirecontrolunit/rutoken">RUToken</a> &gt;</>}
  name={<><a href="#a4c61bc300ab41a6cdd785f3c46736bb3">Queue</a></>}>
</MembersIndexItem>

</MembersIndex>

## Public Static Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> unsigned</>}
  name={<><a href="#a6294c75df6e9403d50b6affde62660f3">UnhandledTokenID</a> = ~0U</>}>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

This class tracks which instructions are in-flight (i.e., dispatched but not retired) in the OoO backend.

This class checks on every cycle if/which instructions can be retired. Instructions are retired in program order. In the event of an instruction being retired, the pipeline that owns this <a href="/docs/api/structs/llvm/mca/retirecontrolunit">RetireControlUnit</a> (RCU) gets notified.

On instruction retired, register updates are all architecturally committed, and any physicall registers previously allocated for the retired instruction are freed.

Definition at line 36 of file <a href="/docs/api/files/include/include/llvm/include/llvm/mca/include/llvm/mca/hardwareunits/retirecontrolunit-h">RetireControlUnit.h</a>.

<SectionDefinition>

## Public Constructors

### RetireControlUnit() {#a90de9bdaf1a6c428ea958a2850bdc6a9}

<MemberDefinition
  prototype={<>llvm::mca::RetireControlUnit::RetireControlUnit (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/structs/llvm/mcschedmodel">MCSchedModel</a> &amp; SM)</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/mca/include/llvm/mca/hardwareunits/retirecontrolunit-h/#l00080">80</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/mca/include/llvm/mca/hardwareunits/retirecontrolunit-h">RetireControlUnit.h</a>, definition at line <a href="/docs/api/files/lib/lib/mca/lib/mca/hardwareunits/retirecontrolunit-cpp/#l00022">22</a> of file <a href="/docs/api/files/lib/lib/mca/lib/mca/hardwareunits/retirecontrolunit-cpp">RetireControlUnit.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### consumeCurrentToken() {#af830bc0573e2b15a668a9ae57edcab3d}

<MemberDefinition
  prototype="void llvm::mca::RetireControlUnit::consumeCurrentToken ()">

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/mca/include/llvm/mca/hardwareunits/retirecontrolunit-h/#l00099">99</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/mca/include/llvm/mca/hardwareunits/retirecontrolunit-h">RetireControlUnit.h</a>, definition at line <a href="/docs/api/files/lib/lib/mca/lib/mca/hardwareunits/retirecontrolunit-cpp/#l00077">77</a> of file <a href="/docs/api/files/lib/lib/mca/lib/mca/hardwareunits/retirecontrolunit-cpp">RetireControlUnit.cpp</a>.
</MemberDefinition>

### dispatch() {#ad03428817244b060d06091dca8afdd9e}

<MemberDefinition
  prototype={<>unsigned llvm::mca::RetireControlUnit::dispatch (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/mca/instref">InstRef</a> &amp; IS)</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/mca/include/llvm/mca/hardwareunits/retirecontrolunit-h/#l00091">91</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/mca/include/llvm/mca/hardwareunits/retirecontrolunit-h">RetireControlUnit.h</a>, definition at line <a href="/docs/api/files/lib/lib/mca/lib/mca/hardwareunits/retirecontrolunit-cpp/#l00043">43</a> of file <a href="/docs/api/files/lib/lib/mca/lib/mca/hardwareunits/retirecontrolunit-cpp">RetireControlUnit.cpp</a>.
</MemberDefinition>

### dump() {#ab9754ca17ca12f24c9e82dc0d87f50f2}

<MemberDefinition
  prototype="void llvm::mca::RetireControlUnit::dump () const">

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/mca/include/llvm/mca/hardwareunits/retirecontrolunit-h/#l00105">105</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/mca/include/llvm/mca/hardwareunits/retirecontrolunit-h">RetireControlUnit.h</a>, definition at line <a href="/docs/api/files/lib/lib/mca/lib/mca/hardwareunits/retirecontrolunit-cpp/#l00096">96</a> of file <a href="/docs/api/files/lib/lib/mca/lib/mca/hardwareunits/retirecontrolunit-cpp">RetireControlUnit.cpp</a>.
</MemberDefinition>

### getCurrentToken() {#acab7dc4684afbbe5d4d3e3fb3d6c6d40}

<MemberDefinition
  prototype={<>const RetireControlUnit::RUToken &amp; llvm::mca::RetireControlUnit::getCurrentToken () const</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/mca/include/llvm/mca/hardwareunits/retirecontrolunit-h/#l00094">94</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/mca/include/llvm/mca/hardwareunits/retirecontrolunit-h">RetireControlUnit.h</a>, definition at line <a href="/docs/api/files/lib/lib/mca/lib/mca/hardwareunits/retirecontrolunit-cpp/#l00058">58</a> of file <a href="/docs/api/files/lib/lib/mca/lib/mca/hardwareunits/retirecontrolunit-cpp">RetireControlUnit.cpp</a>.
</MemberDefinition>

### getMaxRetirePerCycle() {#a62776b90c0fe21e5ba9941c302a60b1b}

<MemberDefinition
  prototype="unsigned llvm::mca::RetireControlUnit::getMaxRetirePerCycle () const"
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/mca/include/llvm/mca/hardwareunits/retirecontrolunit-h/#l00088">88</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/mca/include/llvm/mca/hardwareunits/retirecontrolunit-h">RetireControlUnit.h</a>.
</MemberDefinition>

### isAvailable() {#a1045f43a3f0d00f3f80ec787debe01eb}

<MemberDefinition
  prototype="bool llvm::mca::RetireControlUnit::isAvailable (unsigned Quantity=1) const"
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/mca/include/llvm/mca/hardwareunits/retirecontrolunit-h/#l00084">84</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/mca/include/llvm/mca/hardwareunits/retirecontrolunit-h">RetireControlUnit.h</a>.
</MemberDefinition>

### isEmpty() {#a6d480f057fe5238c2a3adec333604feb}

<MemberDefinition
  prototype="bool llvm::mca::RetireControlUnit::isEmpty () const"
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/mca/include/llvm/mca/hardwareunits/retirecontrolunit-h/#l00082">82</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/mca/include/llvm/mca/hardwareunits/retirecontrolunit-h">RetireControlUnit.h</a>.
</MemberDefinition>

### onInstructionExecuted() {#a99eab7149433edc8264c153810849952}

<MemberDefinition
  prototype="void llvm::mca::RetireControlUnit::onInstructionExecuted (unsigned TokenID)">

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/mca/include/llvm/mca/hardwareunits/retirecontrolunit-h/#l00102">102</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/mca/include/llvm/mca/hardwareunits/retirecontrolunit-h">RetireControlUnit.h</a>, definition at line <a href="/docs/api/files/lib/lib/mca/lib/mca/hardwareunits/retirecontrolunit-cpp/#l00088">88</a> of file <a href="/docs/api/files/lib/lib/mca/lib/mca/hardwareunits/retirecontrolunit-cpp">RetireControlUnit.cpp</a>.
</MemberDefinition>

### peekNextToken() {#ae90de6e28096431fb70b944ffcd611ca}

<MemberDefinition
  prototype={<>const RetireControlUnit::RUToken &amp; llvm::mca::RetireControlUnit::peekNextToken () const</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/mca/include/llvm/mca/hardwareunits/retirecontrolunit-h/#l00096">96</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/mca/include/llvm/mca/hardwareunits/retirecontrolunit-h">RetireControlUnit.h</a>, definition at line <a href="/docs/api/files/lib/lib/mca/lib/mca/hardwareunits/retirecontrolunit-cpp/#l00073">73</a> of file <a href="/docs/api/files/lib/lib/mca/lib/mca/hardwareunits/retirecontrolunit-cpp">RetireControlUnit.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Functions

### computeNextSlotIdx() {#a782cf2e89d4483adf0900d6741ffc2f1}

<MemberDefinition
  prototype="unsigned llvm::mca::RetireControlUnit::computeNextSlotIdx () const">

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/mca/include/llvm/mca/hardwareunits/retirecontrolunit-h/#l00077">77</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/mca/include/llvm/mca/hardwareunits/retirecontrolunit-h">RetireControlUnit.h</a>, definition at line <a href="/docs/api/files/lib/lib/mca/lib/mca/hardwareunits/retirecontrolunit-cpp/#l00067">67</a> of file <a href="/docs/api/files/lib/lib/mca/lib/mca/hardwareunits/retirecontrolunit-cpp">RetireControlUnit.cpp</a>.
</MemberDefinition>

### normalizeQuantity() {#a4f922a44a7968908622aabb31e81d611}

<MemberDefinition
  prototype="unsigned llvm::mca::RetireControlUnit::normalizeQuantity (unsigned Quantity) const"
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/mca/include/llvm/mca/hardwareunits/retirecontrolunit-h/#l00065">65</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/mca/include/llvm/mca/hardwareunits/retirecontrolunit-h">RetireControlUnit.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Attributes

### AvailableEntries {#ac2f2c4768afc24bb52a92f1587f424b3}

<MemberDefinition
  prototype="unsigned llvm::mca::RetireControlUnit::AvailableEntries">

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/mca/include/llvm/mca/hardwareunits/retirecontrolunit-h/#l00061">61</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/mca/include/llvm/mca/hardwareunits/retirecontrolunit-h">RetireControlUnit.h</a>.
</MemberDefinition>

### CurrentInstructionSlotIdx {#a003059424350dcfe6c4f118450c17f9e}

<MemberDefinition
  prototype="unsigned llvm::mca::RetireControlUnit::CurrentInstructionSlotIdx">

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/mca/include/llvm/mca/hardwareunits/retirecontrolunit-h/#l00059">59</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/mca/include/llvm/mca/hardwareunits/retirecontrolunit-h">RetireControlUnit.h</a>.
</MemberDefinition>

### MaxRetirePerCycle {#a374ba35d06c043161583af43f3c875ea}

<MemberDefinition
  prototype="unsigned llvm::mca::RetireControlUnit::MaxRetirePerCycle">

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/mca/include/llvm/mca/hardwareunits/retirecontrolunit-h/#l00062">62</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/mca/include/llvm/mca/hardwareunits/retirecontrolunit-h">RetireControlUnit.h</a>.
</MemberDefinition>

### NextAvailableSlotIdx {#ab953465bb5b104798aee27621944b114}

<MemberDefinition
  prototype="unsigned llvm::mca::RetireControlUnit::NextAvailableSlotIdx">

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/mca/include/llvm/mca/hardwareunits/retirecontrolunit-h/#l00058">58</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/mca/include/llvm/mca/hardwareunits/retirecontrolunit-h">RetireControlUnit.h</a>.
</MemberDefinition>

### NumROBEntries {#a19309f3c5de6cc350a4a1065ae382169}

<MemberDefinition
  prototype="unsigned llvm::mca::RetireControlUnit::NumROBEntries">

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/mca/include/llvm/mca/hardwareunits/retirecontrolunit-h/#l00060">60</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/mca/include/llvm/mca/hardwareunits/retirecontrolunit-h">RetireControlUnit.h</a>.
</MemberDefinition>

### Queue {#a4c61bc300ab41a6cdd785f3c46736bb3}

<MemberDefinition
  prototype={<>std::vector&lt;RUToken&gt; llvm::mca::RetireControlUnit::Queue</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/mca/include/llvm/mca/hardwareunits/retirecontrolunit-h/#l00063">63</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/mca/include/llvm/mca/hardwareunits/retirecontrolunit-h">RetireControlUnit.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Static Attributes

### UnhandledTokenID {#a6294c75df6e9403d50b6affde62660f3}

<MemberDefinition
  prototype="const unsigned llvm::mca::RetireControlUnit::UnhandledTokenID = ~0U"
  labels = {["static"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/mca/include/llvm/mca/hardwareunits/retirecontrolunit-h/#l00109">109</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/mca/include/llvm/mca/hardwareunits/retirecontrolunit-h">RetireControlUnit.h</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this struct was generated from the following files:

<ul>
<li><a href="/docs/api/files/include/include/llvm/include/llvm/mca/include/llvm/mca/hardwareunits/retirecontrolunit-h">RetireControlUnit.h</a></li>
<li><a href="/docs/api/files/lib/lib/mca/lib/mca/hardwareunits/retirecontrolunit-cpp">RetireControlUnit.cpp</a></li>
</ul>

</DoxygenPage>
