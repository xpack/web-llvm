---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/structs/anonymous-namespace-riscvisellowering-cpp-/nodeextensionhelper
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - struct
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'
import SectionUser from '@xpack/docusaurus-plugin-doxygen/components/SectionUser'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `NodeExtensionHelper` Struct Reference

<DoxygenPage pluginConfig={pluginConfig}>

Helper class for folding sign/zero extensions. <a href="#details">More...</a>

## Declaration

<CodeBlock>struct anonymous_namespace{RISCVISelLowering.cpp}::NodeExtensionHelper</CodeBlock>

## Public Member Typedefs Index

<MembersIndex>

<MembersIndexItem
  type="using"
  name={<><a href="#a56e164413eb91dcfa3d8c54944f12f30">CombineToTry</a> = std::function&lt; std::optional&lt; <a href="/docs/api/structs/anonymous-namespace-riscvisellowering-cpp-/combineresult">CombineResult</a> &gt;( <a href="/docs/api/classes/llvm/sdnode">SDNode</a> &#42;, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/structs/anonymous-namespace-riscvisellowering-cpp-/nodeextensionhelper">NodeExtensionHelper</a> &amp;, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/structs/anonymous-namespace-riscvisellowering-cpp-/nodeextensionhelper">NodeExtensionHelper</a> &amp;, <a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp;, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/riscvsubtarget">RISCVSubtarget</a> &amp;)&gt;</>}>
</MembersIndexItem>

</MembersIndex>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#ae4ff30a063f91465787152121a63d6ce">NodeExtensionHelper</a> (SDNode &#42;Root, unsigned OperandIdx, SelectionDAG &amp;DAG, const RISCVSubtarget &amp;Subtarget)</>}>
Build a <a href="/docs/api/structs/anonymous-namespace-riscvisellowering-cpp-/nodeextensionhelper">NodeExtensionHelper</a> for <code>Root.getOperand</code>(<code>OperandIdx</code>). <a href="#ae4ff30a063f91465787152121a63d6ce">More...</a>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="void"
  name={<><a href="#a15ae520d95e5a8d3948541ed82c2d1c2">fillUpExtensionSupport</a> (SDNode &#42;Root, SelectionDAG &amp;DAG, const RISCVSubtarget &amp;Subtarget)</>}>
Helper method to set the various fields of this struct based on the type of <code>Root</code>. <a href="#a15ae520d95e5a8d3948541ed82c2d1c2">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#abbd64fe331cf0d150d28e127653d700c">fillUpExtensionSupportForSplat</a> (SDNode &#42;Root, SelectionDAG &amp;DAG, const RISCVSubtarget &amp;Subtarget)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="unsigned"
  name={<><a href="#a30ce469fe7992cf76c09d36b0f754a78">getExtOpc</a> (ExtKind SupportsExt) const</>}>
Get the extended opcode. <a href="#a30ce469fe7992cf76c09d36b0f754a78">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/sdvalue">SDValue</a></>}
  name={<><a href="#afa89bad4ae6c9667571ba16df07adf70">getOrCreateExtendedOp</a> (SDNode &#42;Root, SelectionDAG &amp;DAG, const RISCVSubtarget &amp;Subtarget, std::optional&lt; ExtKind &gt; SupportsExt) const</>}>
Get or create a value that can feed <code>Root</code> with the given extension <code>SupportsExt</code>. <a href="#afa89bad4ae6c9667571ba16df07adf70">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/sdvalue">SDValue</a></>}
  name={<><a href="#a9f821522a146539779da82fbc446ba92">getSource</a> () const</>}>
Get the value feeding the extension or the value itself. <a href="#a9f821522a146539779da82fbc446ba92">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a79bf8795fd84a5dd16f87452fab2a4d8">isSplat</a> () const</>}>
Check if this instance represents a splat. <a href="#a79bf8795fd84a5dd16f87452fab2a4d8">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#adb5a1dc721c95f38cb7951e826d9e646">isSupportedFPExtend</a> (SDNode &#42;Root, MVT NarrowEltVT, const RISCVSubtarget &amp;Subtarget)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a6c37690b8c2becfadc5ab481d439d171">needToPromoteOtherUsers</a> () const</>}>
Check if this node needs to be fully folded or extended for all users. <a href="#a6c37690b8c2becfadc5ab481d439d171">More...</a>
</MembersIndexItem>

</MembersIndex>

## Public Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type="bool"
  name={<><a href="#aa7c6793b2e0dc9e478faaabd0cf177b3">EnforceOneUse</a></>}>
This boolean captures whether we care if this operand would still be around after the folding happens. <a href="#aa7c6793b2e0dc9e478faaabd0cf177b3">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/sdvalue">SDValue</a></>}
  name={<><a href="#a9a5fc677082fff97536173c0e867a8d6">OrigOperand</a></>}>
Original value that this <a href="/docs/api/structs/anonymous-namespace-riscvisellowering-cpp-/nodeextensionhelper">NodeExtensionHelper</a> represents. <a href="#a9a5fc677082fff97536173c0e867a8d6">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#addb1d96f5ae5d43830ed396f0c7020ad">SupportsFPExt</a></>}>
Records if this operand is like being floating-Point extended. <a href="#addb1d96f5ae5d43830ed396f0c7020ad">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#aef5712bcffad0c20ca18f9126b04814f">SupportsSExt</a></>}>
Records if this operand is like being sign extended. <a href="#aef5712bcffad0c20ca18f9126b04814f">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a1eb5f106f60ce51740eccdac5043fa98">SupportsZExt</a></>}>
Records if this operand is like being zero extended. <a href="#a1eb5f106f60ce51740eccdac5043fa98">More...</a>
</MembersIndexItem>

</MembersIndex>

## Public Static Functions Index

<MembersIndex>

<MembersIndexItem
  type="unsigned"
  name={<><a href="#a43dc5ea17cf1ee5d8069c6d9de119109">getFPExtOpcode</a> (unsigned Opcode)</>}>
Get the opcode to materialize: Opcode(fpext(a), fpext(b)) -&gt; newOpcode(a, b) <a href="#a43dc5ea17cf1ee5d8069c6d9de119109">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::pair&lt; <a href="/docs/api/classes/llvm/sdvalue">SDValue</a>, <a href="/docs/api/classes/llvm/sdvalue">SDValue</a> &gt;</>}
  name={<><a href="#a0aaa2e30b965ca8584badc25c324958d">getMaskAndVL</a> (const SDNode &#42;Root, SelectionDAG &amp;DAG, const RISCVSubtarget &amp;Subtarget)</>}>
Helper function to get the Mask and VL from <code>Root</code>. <a href="#a0aaa2e30b965ca8584badc25c324958d">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/mvt">MVT</a></>}
  name={<><a href="#ab2ca64c9af2f0f7716b503640706d362">getNarrowType</a> (const SDNode &#42;Root, ExtKind SupportsExt)</>}>
Helper function to get the narrow type for <code>Root</code>. <a href="#ab2ca64c9af2f0f7716b503640706d362">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="unsigned"
  name={<><a href="#a4b72126752644e5cfe2680d909b3ff5a">getSExtOpcode</a> (unsigned Opcode)</>}>
Get the opcode to materialize: Opcode(sext(a), sext(b)) -&gt; newOpcode(a, b) <a href="#a4b72126752644e5cfe2680d909b3ff5a">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="unsigned"
  name={<><a href="#a5a95502e159b8ac43cdfca93752306eb">getSUOpcode</a> (unsigned Opcode)</>}>
Get the opcode to materialize <code>Opcode</code>(sext(a), zext(b)) -&gt; newOpcode(a, b). <a href="#a5a95502e159b8ac43cdfca93752306eb">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/smallvector">SmallVector</a>&lt; <a href="#a56e164413eb91dcfa3d8c54944f12f30">CombineToTry</a> &gt;</>}
  name={<><a href="#a776c5a5c2c4c9c913f9b44e5b0437f69">getSupportedFoldings</a> (const SDNode &#42;Root)</>}>
Get a list of combine to try for folding extensions in <code>Root</code>. <a href="#a776c5a5c2c4c9c913f9b44e5b0437f69">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="unsigned"
  name={<><a href="#a378f0c17215c7767060ad8ac7edc9a12">getWOpcode</a> (unsigned Opcode, ExtKind SupportsExt)</>}>
Get the opcode to materialize <code>Opcode</code>(a, s|z|fpext(b)) -&gt; newOpcode(a, b). <a href="#a378f0c17215c7767060ad8ac7edc9a12">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="unsigned"
  name={<><a href="#a2203a81e4da51a9da50c08965f2bf917">getZExtOpcode</a> (unsigned Opcode)</>}>
Get the opcode to materialize: Opcode(zext(a), zext(b)) -&gt; newOpcode(a, b) <a href="#a2203a81e4da51a9da50c08965f2bf917">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a608b96d77b2ddf406d79e2716eb1ac47">isCommutative</a> (const SDNode &#42;N)</>}>
Helper function to check if <code>N</code> is commutative with respect to the foldings that are supported by this class. <a href="#a608b96d77b2ddf406d79e2716eb1ac47">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a95c8b57eb11e8d25decddd3c86c9703c">isSupportedRoot</a> (const SDNode &#42;Root, const RISCVSubtarget &amp;Subtarget)</>}>
Check if <code>Root</code> supports any extension folding combines. <a href="#a95c8b57eb11e8d25decddd3c86c9703c">More...</a>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

Helper class for folding sign/zero extensions.

In particular, this class is used for the following combines: add | add&#95;vl | or disjoint -&gt; vwadd(u) | vwadd(u)&#95;w sub | sub&#95;vl -&gt; vwsub(u) | vwsub(u)&#95;w mul | mul&#95;vl -&gt; vwmul(u) | vwmul&#95;su shl | shl&#95;vl -&gt; vwsll fadd -&gt; vfwadd | vfwadd&#95;w fsub -&gt; vfwsub | vfwsub&#95;w fmul -&gt; vfwmul An object of this class represents an operand of the operation we want to combine. E.g., when trying to combine <code>mul&#95;vl a, b</code>, we will have one instance of <a href="/docs/api/structs/anonymous-namespace-riscvisellowering-cpp-/nodeextensionhelper">NodeExtensionHelper</a> for <code>a</code> and one for <code>b</code>.

This class abstracts away how the extension is materialized and how its number of users affect the combines.

In particular:
<ul>
<li>VWADD&#95;W is conceptually == add(op0, sext(op1))</li>
<li>VWADDU&#95;W == add(op0, zext(op1))</li>
<li>VWSUB&#95;W == sub(op0, sext(op1))</li>
<li>VWSUBU&#95;W == sub(op0, zext(op1))</li>
<li>VFWADD&#95;W == fadd(op0, fpext(op1))</li>
<li>VFWSUB&#95;W == fsub(op0, fpext(op1)) And VMV&#95;V&#95;X&#95;VL, depending on the value, is conceptually equivalent to zext|sext(smaller&#95;value).</li>
</ul>

Definition at line 15009 of file <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp">RISCVISelLowering.cpp</a>.

<SectionDefinition>

## Public Member Typedefs

### CombineToTry {#a56e164413eb91dcfa3d8c54944f12f30}

<MemberDefinition
  prototype={<>using anonymous&#95;namespace&#123;RISCVISelLowering.cpp&#125;::NodeExtensionHelper::CombineToTry =  std::function&lt;std::optional&lt;CombineResult&gt;(
      SDNode &#42; , const NodeExtensionHelper &amp; ,
      const NodeExtensionHelper &amp; , SelectionDAG &amp;,
      const RISCVSubtarget &amp;)&gt;</>}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp/#l15238">15238</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp">RISCVISelLowering.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Constructors

### NodeExtensionHelper() {#ae4ff30a063f91465787152121a63d6ce}

<MemberDefinition
  prototype={<>anonymous&#95;namespace&#123;RISCVISelLowering.cpp&#125;::NodeExtensionHelper::NodeExtensionHelper (<a href="/docs/api/classes/llvm/sdnode">SDNode</a> &#42; Root, unsigned OperandIdx, <a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp; DAG, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/riscvsubtarget">RISCVSubtarget</a> &amp; Subtarget)</>}
  labels = {["inline"]}>
Build a <a href="/docs/api/structs/anonymous-namespace-riscvisellowering-cpp-/nodeextensionhelper">NodeExtensionHelper</a> for <code>Root.getOperand</code>(<code>OperandIdx</code>).

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp/#l15429">15429</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp">RISCVISelLowering.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### fillUpExtensionSupport() {#a15ae520d95e5a8d3948541ed82c2d1c2}

<MemberDefinition
  prototype={<>void anonymous&#95;namespace&#123;RISCVISelLowering.cpp&#125;::NodeExtensionHelper::fillUpExtensionSupport (<a href="/docs/api/classes/llvm/sdnode">SDNode</a> &#42; Root, <a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp; DAG, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/riscvsubtarget">RISCVSubtarget</a> &amp; Subtarget)</>}
  labels = {["inline"]}>
Helper method to set the various fields of this struct based on the type of <code>Root</code>.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp/#l15313">15313</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp">RISCVISelLowering.cpp</a>.
</MemberDefinition>

### fillUpExtensionSupportForSplat() {#abbd64fe331cf0d150d28e127653d700c}

<MemberDefinition
  prototype={<>void anonymous&#95;namespace&#123;RISCVISelLowering.cpp&#125;::NodeExtensionHelper::fillUpExtensionSupportForSplat (<a href="/docs/api/classes/llvm/sdnode">SDNode</a> &#42; Root, <a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp; DAG, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/riscvsubtarget">RISCVSubtarget</a> &amp; Subtarget)</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp/#l15246">15246</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp">RISCVISelLowering.cpp</a>.
</MemberDefinition>

### getExtOpc() {#a30ce469fe7992cf76c09d36b0f754a78}

<MemberDefinition
  prototype={<>unsigned anonymous&#95;namespace&#123;RISCVISelLowering.cpp&#125;::NodeExtensionHelper::getExtOpc (<a href="/docs/api/namespaces/anonymous-riscvisellowering-cpp-/#a0fb45dddfe1615e320ac9ad137d634e7">ExtKind</a> SupportsExt) const</>}
  labels = {["inline"]}>
Get the extended opcode.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp/#l15047">15047</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp">RISCVISelLowering.cpp</a>.
</MemberDefinition>

### getOrCreateExtendedOp() {#afa89bad4ae6c9667571ba16df07adf70}

<MemberDefinition
  prototype={<>SDValue anonymous&#95;namespace&#123;RISCVISelLowering.cpp&#125;::NodeExtensionHelper::getOrCreateExtendedOp (<a href="/docs/api/classes/llvm/sdnode">SDNode</a> &#42; Root, <a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp; DAG, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/riscvsubtarget">RISCVSubtarget</a> &amp; Subtarget, std::optional&lt; <a href="/docs/api/namespaces/anonymous-riscvisellowering-cpp-/#a0fb45dddfe1615e320ac9ad137d634e7">ExtKind</a> &gt; SupportsExt) const</>}
  labels = {["inline"]}>
Get or create a value that can feed <code>Root</code> with the given extension <code>SupportsExt</code>.

If <code>SExt</code> is std::nullopt, this returns the source of this operand. 
<SectionUser title="See Also">
<a href="#a9f821522a146539779da82fbc446ba92">getSource()</a>.
</SectionUser>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp/#l15062">15062</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp">RISCVISelLowering.cpp</a>.
</MemberDefinition>

### getSource() {#a9f821522a146539779da82fbc446ba92}

<MemberDefinition
  prototype={<>SDValue anonymous&#95;namespace&#123;RISCVISelLowering.cpp&#125;::NodeExtensionHelper::getSource () const</>}
  labels = {["inline"]}>
Get the value feeding the extension or the value itself.

E.g., for zext(a), this would return a.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp/#l15027">15027</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp">RISCVISelLowering.cpp</a>.
</MemberDefinition>

### isSplat() {#a79bf8795fd84a5dd16f87452fab2a4d8}

<MemberDefinition
  prototype={<>bool anonymous&#95;namespace&#123;RISCVISelLowering.cpp&#125;::NodeExtensionHelper::isSplat () const</>}
  labels = {["inline"]}>
Check if this instance represents a splat.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp/#l15041">15041</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp">RISCVISelLowering.cpp</a>.
</MemberDefinition>

### isSupportedFPExtend() {#adb5a1dc721c95f38cb7951e826d9e646}

<MemberDefinition
  prototype={<>bool anonymous&#95;namespace&#123;RISCVISelLowering.cpp&#125;::NodeExtensionHelper::isSupportedFPExtend (<a href="/docs/api/classes/llvm/sdnode">SDNode</a> &#42; Root, <a href="/docs/api/classes/llvm/mvt">MVT</a> NarrowEltVT, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/riscvsubtarget">RISCVSubtarget</a> &amp; Subtarget)</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp/#l15298">15298</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp">RISCVISelLowering.cpp</a>.
</MemberDefinition>

### needToPromoteOtherUsers() {#a6c37690b8c2becfadc5ab481d439d171}

<MemberDefinition
  prototype={<>bool anonymous&#95;namespace&#123;RISCVISelLowering.cpp&#125;::NodeExtensionHelper::needToPromoteOtherUsers () const</>}
  labels = {["inline"]}>
Check if this node needs to be fully folded or extended for all users.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp/#l15244">15244</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp">RISCVISelLowering.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Attributes

### EnforceOneUse {#aa7c6793b2e0dc9e478faaabd0cf177b3}

<MemberDefinition
  prototype={<>bool anonymous&#95;namespace&#123;RISCVISelLowering.cpp&#125;::NodeExtensionHelper::EnforceOneUse</>}>
This boolean captures whether we care if this operand would still be around after the folding happens.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp/#l15021">15021</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp">RISCVISelLowering.cpp</a>.
</MemberDefinition>

### OrigOperand {#a9a5fc677082fff97536173c0e867a8d6}

<MemberDefinition
  prototype={<>SDValue anonymous&#95;namespace&#123;RISCVISelLowering.cpp&#125;::NodeExtensionHelper::OrigOperand</>}>
Original value that this <a href="/docs/api/structs/anonymous-namespace-riscvisellowering-cpp-/nodeextensionhelper">NodeExtensionHelper</a> represents.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp/#l15023">15023</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp">RISCVISelLowering.cpp</a>.
</MemberDefinition>

### SupportsFPExt {#addb1d96f5ae5d43830ed396f0c7020ad}

<MemberDefinition
  prototype={<>bool anonymous&#95;namespace&#123;RISCVISelLowering.cpp&#125;::NodeExtensionHelper::SupportsFPExt</>}>
Records if this operand is like being floating-Point extended.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp/#l15018">15018</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp">RISCVISelLowering.cpp</a>.
</MemberDefinition>

### SupportsSExt {#aef5712bcffad0c20ca18f9126b04814f}

<MemberDefinition
  prototype={<>bool anonymous&#95;namespace&#123;RISCVISelLowering.cpp&#125;::NodeExtensionHelper::SupportsSExt</>}>
Records if this operand is like being sign extended.

Note: SupportsZExt and SupportsSExt are not mutually exclusive. For instance, a splat constant (e.g., 3), would support being both sign and zero extended.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp/#l15016">15016</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp">RISCVISelLowering.cpp</a>.
</MemberDefinition>

### SupportsZExt {#a1eb5f106f60ce51740eccdac5043fa98}

<MemberDefinition
  prototype={<>bool anonymous&#95;namespace&#123;RISCVISelLowering.cpp&#125;::NodeExtensionHelper::SupportsZExt</>}>
Records if this operand is like being zero extended.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp/#l15011">15011</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp">RISCVISelLowering.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Static Functions

### getFPExtOpcode() {#a43dc5ea17cf1ee5d8069c6d9de119109}

<MemberDefinition
  prototype={<>static unsigned anonymous&#95;namespace&#123;RISCVISelLowering.cpp&#125;::NodeExtensionHelper::getFPExtOpcode (unsigned Opcode)</>}
  labels = {["inline", "static"]}>
Get the opcode to materialize: Opcode(fpext(a), fpext(b)) -&gt; newOpcode(a, b)

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp/#l15185">15185</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp">RISCVISelLowering.cpp</a>.
</MemberDefinition>

### getMaskAndVL() {#a0aaa2e30b965ca8584badc25c324958d}

<MemberDefinition
  prototype={<>static std::pair&lt; SDValue, SDValue &gt; anonymous&#95;namespace&#123;RISCVISelLowering.cpp&#125;::NodeExtensionHelper::getMaskAndVL (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/sdnode">SDNode</a> &#42; Root, <a href="/docs/api/classes/llvm/selectiondag">SelectionDAG</a> &amp; DAG, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/riscvsubtarget">RISCVSubtarget</a> &amp; Subtarget)</>}
  labels = {["inline", "static"]}>
Helper function to get the Mask and VL from <code>Root</code>.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp/#l15471">15471</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp">RISCVISelLowering.cpp</a>.
</MemberDefinition>

### getNarrowType() {#ab2ca64c9af2f0f7716b503640706d362}

<MemberDefinition
  prototype={<>static MVT anonymous&#95;namespace&#123;RISCVISelLowering.cpp&#125;::NodeExtensionHelper::getNarrowType (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/sdnode">SDNode</a> &#42; Root, <a href="/docs/api/namespaces/anonymous-riscvisellowering-cpp-/#a0fb45dddfe1615e320ac9ad137d634e7">ExtKind</a> SupportsExt)</>}
  labels = {["inline", "static"]}>
Helper function to get the narrow type for <code>Root</code>.

The narrow type is the type of <code>Root</code> where we divided the size of each element by 2. E.g., if Root&#39;s type &lt;2xi16&gt; -&gt; narrow type &lt;2xi8&gt;. 
<SectionUser title="Precondition">
Both the narrow type and the original type should be legal.
</SectionUser>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp/#l15118">15118</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp">RISCVISelLowering.cpp</a>.
</MemberDefinition>

### getSExtOpcode() {#a4b72126752644e5cfe2680d909b3ff5a}

<MemberDefinition
  prototype={<>static unsigned anonymous&#95;namespace&#123;RISCVISelLowering.cpp&#125;::NodeExtensionHelper::getSExtOpcode (unsigned Opcode)</>}
  labels = {["inline", "static"]}>
Get the opcode to materialize: Opcode(sext(a), sext(b)) -&gt; newOpcode(a, b)

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp/#l15136">15136</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp">RISCVISelLowering.cpp</a>.
</MemberDefinition>

### getSUOpcode() {#a5a95502e159b8ac43cdfca93752306eb}

<MemberDefinition
  prototype={<>static unsigned anonymous&#95;namespace&#123;RISCVISelLowering.cpp&#125;::NodeExtensionHelper::getSUOpcode (unsigned Opcode)</>}
  labels = {["inline", "static"]}>
Get the opcode to materialize <code>Opcode</code>(sext(a), zext(b)) -&gt; newOpcode(a, b).

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp/#l15210">15210</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp">RISCVISelLowering.cpp</a>.
</MemberDefinition>

### getSupportedFoldings() {#a776c5a5c2c4c9c913f9b44e5b0437f69}

<MemberDefinition
  prototype={<>SmallVector&lt; NodeExtensionHelper::CombineToTry &gt; anonymous&#95;namespace&#123;RISCVISelLowering.cpp&#125;::NodeExtensionHelper::getSupportedFoldings (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/sdnode">SDNode</a> &#42; Root)</>}
  labels = {["static"]}>
Get a list of combine to try for folding extensions in <code>Root</code>.

Note that each returned <a href="#a56e164413eb91dcfa3d8c54944f12f30">CombineToTry</a> function doesn&#39;t actually modify anything. Instead they produce an optional <a href="/docs/api/structs/anonymous-namespace-riscvisellowering-cpp-/combineresult">CombineResult</a> that if not None, need to be materialized for the combine to be applied. 
<SectionUser title="See Also">
<a href="/docs/api/structs/anonymous-namespace-riscvisellowering-cpp-/combineresult/#a6a29551e352719a5e4d927f1a5e0871b">CombineResult::materialize</a>. If the related <a href="#a56e164413eb91dcfa3d8c54944f12f30">CombineToTry</a> <a href="/docs/api/files/lib/lib/analysis/regionprinter-cpp/#aa37fbbce2360106772fd97ed06455d55">function</a> returns std::nullopt, that means the combine didn&#39;t <a href="/docs/api/namespaces/llvm/patternmatch/#a25d956d9e0beadd47ce4bc255dfa811d">match</a>.
</SectionUser>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp/#l15529">15529</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp">RISCVISelLowering.cpp</a>.
</MemberDefinition>

### getWOpcode() {#a378f0c17215c7767060ad8ac7edc9a12}

<MemberDefinition
  prototype={<>static unsigned anonymous&#95;namespace&#123;RISCVISelLowering.cpp&#125;::NodeExtensionHelper::getWOpcode (unsigned Opcode, <a href="/docs/api/namespaces/anonymous-riscvisellowering-cpp-/#a0fb45dddfe1615e320ac9ad137d634e7">ExtKind</a> SupportsExt)</>}
  labels = {["inline", "static"]}>
Get the opcode to materialize <code>Opcode</code>(a, s|z|fpext(b)) -&gt; newOpcode(a, b).

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp/#l15218">15218</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp">RISCVISelLowering.cpp</a>.
</MemberDefinition>

### getZExtOpcode() {#a2203a81e4da51a9da50c08965f2bf917}

<MemberDefinition
  prototype={<>static unsigned anonymous&#95;namespace&#123;RISCVISelLowering.cpp&#125;::NodeExtensionHelper::getZExtOpcode (unsigned Opcode)</>}
  labels = {["inline", "static"]}>
Get the opcode to materialize: Opcode(zext(a), zext(b)) -&gt; newOpcode(a, b)

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp/#l15159">15159</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp">RISCVISelLowering.cpp</a>.
</MemberDefinition>

### isCommutative() {#a608b96d77b2ddf406d79e2716eb1ac47}

<MemberDefinition
  prototype={<>static bool anonymous&#95;namespace&#123;RISCVISelLowering.cpp&#125;::NodeExtensionHelper::isCommutative (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/sdnode">SDNode</a> &#42; N)</>}
  labels = {["inline", "static"]}>
Helper function to check if <code>N</code> is commutative with respect to the foldings that are supported by this class.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp/#l15491">15491</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp">RISCVISelLowering.cpp</a>.
</MemberDefinition>

### isSupportedRoot() {#a95c8b57eb11e8d25decddd3c86c9703c}

<MemberDefinition
  prototype={<>static bool anonymous&#95;namespace&#123;RISCVISelLowering.cpp&#125;::NodeExtensionHelper::isSupportedRoot (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/sdnode">SDNode</a> &#42; Root, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/riscvsubtarget">RISCVSubtarget</a> &amp; Subtarget)</>}
  labels = {["inline", "static"]}>
Check if <code>Root</code> supports any extension folding combines.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp/#l15386">15386</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp">RISCVISelLowering.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this struct was generated from the following file:

<ul>
<li><a href="/docs/api/files/lib/lib/target/lib/target/riscv/riscvisellowering-cpp">RISCVISelLowering.cpp</a></li>
</ul>

</DoxygenPage>
