---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/structs/llvm/machinetracemetrics/traceblockinfo
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - struct
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `TraceBlockInfo` Struct Reference

<DoxygenPage pluginConfig={pluginConfig}>

Per-basic block information that relates to a specific trace through the block. <a href="#details">More...</a>

## Declaration

<CodeBlock>struct llvm::MachineTraceMetrics::TraceBlockInfo</CodeBlock>

## Included Headers

<IncludesList>
<IncludesListItem
  filePath="llvm/CodeGen/MachineTraceMetrics.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/codegen/machinetracemetrics-h"
  isLocal="true" />
</IncludesList>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#aa15568fb019e0aebba9ff16aeca2edbb">TraceBlockInfo</a> ()=default</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="void"
  name={<><a href="#a6175e738847e2a36fc7036ca50bee741">dump</a> () const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a8e39c65ba3a21fb041f682ab7b2be929">hasValidDepth</a> () const</>}>
Returns true if the depth resources have been computed from the trace above this block. <a href="#a8e39c65ba3a21fb041f682ab7b2be929">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#ad636cb57c36fe3c776bb458c552435ac">hasValidHeight</a> () const</>}>
Returns true if the height resources have been computed from the trace below this block. <a href="#ad636cb57c36fe3c776bb458c552435ac">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a145c87332fff3323e335d8f6152ccbcf">invalidateDepth</a> ()</>}>
Invalidate depth resources when some block above this one has changed. <a href="#a145c87332fff3323e335d8f6152ccbcf">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#aad9695c85c7fa313de163b67ae910b85">invalidateHeight</a> ()</>}>
Invalidate height resources when a block below this one has changed. <a href="#aad9695c85c7fa313de163b67ae910b85">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#aa1cb1af6ccc2e3907a5c11eab0a850a3">isUsefulDominator</a> (const TraceBlockInfo &amp;TBI) const</>}>
Assuming that this is a dominator of TBI, determine if it contains useful instruction depths. <a href="#aa1cb1af6ccc2e3907a5c11eab0a850a3">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#ac780f9f109c83bd4d8654a6394260030">print</a> (raw&#95;ostream &amp;) const</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type="unsigned"
  name={<><a href="#ac29f5e22ff084751af77306d30e2b437">CriticalPath</a></>}>
Critical path length. <a href="#ac29f5e22ff084751af77306d30e2b437">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#ad5da517ffd94fcc2e20eb76b6abbac50">HasValidInstrDepths</a> = false</>}>
<a href="/docs/api/classes/llvm/instruction">Instruction</a> depths have been computed. This implies <a href="#a8e39c65ba3a21fb041f682ab7b2be929">hasValidDepth()</a>. <a href="#ad5da517ffd94fcc2e20eb76b6abbac50">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#afc720e9e0f5863604b694be0b991b7a8">HasValidInstrHeights</a> = false</>}>
<a href="/docs/api/classes/llvm/instruction">Instruction</a> heights have been computed. This implies <a href="#ad636cb57c36fe3c776bb458c552435ac">hasValidHeight()</a>. <a href="#afc720e9e0f5863604b694be0b991b7a8">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="unsigned"
  name={<><a href="#ad1289df76629f404936fc8b2df1a6934">Head</a></>}>
The block number of the head of the trace. (When <a href="#a8e39c65ba3a21fb041f682ab7b2be929">hasValidDepth()</a>). <a href="#ad1289df76629f404936fc8b2df1a6934">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="unsigned"
  name={<><a href="#a05783617bfead544a66a41fb304756f2">InstrDepth</a> = ~0u</>}>
Accumulated number of instructions in the trace above this block. <a href="#a05783617bfead544a66a41fb304756f2">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="unsigned"
  name={<><a href="#a2bee15b953c70ea17198d4d8b60aefed">InstrHeight</a> = ~0u</>}>
Accumulated number of instructions in the trace below this block. <a href="#a2bee15b953c70ea17198d4d8b60aefed">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/smallvector">SmallVector</a>&lt; <a href="/docs/api/structs/llvm/machinetracemetrics/liveinreg">LiveInReg</a>, 4 &gt;</>}
  name={<><a href="#a31a27d3966568ca13e2248fe0faf4080">LiveIns</a></>}>
Live-in registers. <a href="#a31a27d3966568ca13e2248fe0faf4080">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;</>}
  name={<><a href="#a1cf611223ee0f84ce33371cef8151768">Pred</a> = nullptr</>}>
<a href="/docs/api/classes/llvm/machinetracemetrics/trace">Trace</a> predecessor, or NULL for the first block in the trace. <a href="#a1cf611223ee0f84ce33371cef8151768">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;</>}
  name={<><a href="#a5b72d33d71c887bc07bd9c1551477c4c">Succ</a> = nullptr</>}>
<a href="/docs/api/classes/llvm/machinetracemetrics/trace">Trace</a> successor, or NULL for the last block in the trace. <a href="#a5b72d33d71c887bc07bd9c1551477c4c">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="unsigned"
  name={<><a href="#aef0722b576f40e57f91a2a53b2e97c64">Tail</a></>}>
The block number of the tail of the trace. (When <a href="#ad636cb57c36fe3c776bb458c552435ac">hasValidHeight()</a>). <a href="#aef0722b576f40e57f91a2a53b2e97c64">More...</a>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

Per-basic block information that relates to a specific trace through the block.

Convergent traces means that only one of these is required per block in a trace ensemble.

Definition at line 171 of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machinetracemetrics-h">MachineTraceMetrics.h</a>.

<SectionDefinition>

## Public Constructors

### TraceBlockInfo() {#aa15568fb019e0aebba9ff16aeca2edbb}

<MemberDefinition
  prototype="llvm::MachineTraceMetrics::TraceBlockInfo::TraceBlockInfo ()"
  labels = {["default"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machinetracemetrics-h/#l00194">194</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machinetracemetrics-h">MachineTraceMetrics.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### dump() {#a6175e738847e2a36fc7036ca50bee741}

<MemberDefinition
  prototype="void llvm::MachineTraceMetrics::TraceBlockInfo::dump () const"
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machinetracemetrics-h/#l00253">253</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machinetracemetrics-h">MachineTraceMetrics.h</a>.
</MemberDefinition>

### hasValidDepth() {#a8e39c65ba3a21fb041f682ab7b2be929}

<MemberDefinition
  prototype="bool llvm::MachineTraceMetrics::TraceBlockInfo::hasValidDepth () const"
  labels = {["inline"]}>
Returns true if the depth resources have been computed from the trace above this block.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machinetracemetrics-h/#l00198">198</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machinetracemetrics-h">MachineTraceMetrics.h</a>.
</MemberDefinition>

### hasValidHeight() {#ad636cb57c36fe3c776bb458c552435ac}

<MemberDefinition
  prototype="bool llvm::MachineTraceMetrics::TraceBlockInfo::hasValidHeight () const"
  labels = {["inline"]}>
Returns true if the height resources have been computed from the trace below this block.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machinetracemetrics-h/#l00202">202</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machinetracemetrics-h">MachineTraceMetrics.h</a>.
</MemberDefinition>

### invalidateDepth() {#a145c87332fff3323e335d8f6152ccbcf}

<MemberDefinition
  prototype="void llvm::MachineTraceMetrics::TraceBlockInfo::invalidateDepth ()"
  labels = {["inline"]}>
Invalidate depth resources when some block above this one has changed.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machinetracemetrics-h/#l00205">205</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machinetracemetrics-h">MachineTraceMetrics.h</a>.
</MemberDefinition>

### invalidateHeight() {#aad9695c85c7fa313de163b67ae910b85}

<MemberDefinition
  prototype="void llvm::MachineTraceMetrics::TraceBlockInfo::invalidateHeight ()"
  labels = {["inline"]}>
Invalidate height resources when a block below this one has changed.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machinetracemetrics-h/#l00208">208</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machinetracemetrics-h">MachineTraceMetrics.h</a>.
</MemberDefinition>

### isUsefulDominator() {#aa1cb1af6ccc2e3907a5c11eab0a850a3}

<MemberDefinition
  prototype={<>bool llvm::MachineTraceMetrics::TraceBlockInfo::isUsefulDominator (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/structs/llvm/machinetracemetrics/traceblockinfo">TraceBlockInfo</a> &amp; TBI) const</>}
  labels = {["inline"]}>
Assuming that this is a dominator of TBI, determine if it contains useful instruction depths.

A dominating block can be above the current trace head, and any dependencies from such a far away dominator are not expected to affect the critical path.

Also returns true when TBI == this.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machinetracemetrics-h/#l00216">216</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machinetracemetrics-h">MachineTraceMetrics.h</a>.
</MemberDefinition>

### print() {#ac780f9f109c83bd4d8654a6394260030}

<MemberDefinition
  prototype={<>void MachineTraceMetrics::TraceBlockInfo::print (<a href="/docs/api/classes/llvm/raw-ostream">raw&#95;ostream</a> &amp; OS) const</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machinetracemetrics-h/#l00252">252</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machinetracemetrics-h">MachineTraceMetrics.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/machinetracemetrics-cpp/#l01330">1330</a> of file <a href="/docs/api/files/lib/lib/codegen/machinetracemetrics-cpp">MachineTraceMetrics.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Attributes

### CriticalPath {#ac29f5e22ff084751af77306d30e2b437}

<MemberDefinition
  prototype="unsigned llvm::MachineTraceMetrics::TraceBlockInfo::CriticalPath">
Critical path length.

This is the number of cycles in the longest data dependency chain through the trace. This is only valid when both HasValidInstrDepths and HasValidInstrHeights are set.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machinetracemetrics-h/#l00244">244</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machinetracemetrics-h">MachineTraceMetrics.h</a>.
</MemberDefinition>

### HasValidInstrDepths {#ad5da517ffd94fcc2e20eb76b6abbac50}

<MemberDefinition
  prototype="bool llvm::MachineTraceMetrics::TraceBlockInfo::HasValidInstrDepths = false">
<a href="/docs/api/classes/llvm/instruction">Instruction</a> depths have been computed. This implies <a href="#a8e39c65ba3a21fb041f682ab7b2be929">hasValidDepth()</a>.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machinetracemetrics-h/#l00236">236</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machinetracemetrics-h">MachineTraceMetrics.h</a>.
</MemberDefinition>

### HasValidInstrHeights {#afc720e9e0f5863604b694be0b991b7a8}

<MemberDefinition
  prototype="bool llvm::MachineTraceMetrics::TraceBlockInfo::HasValidInstrHeights = false">
<a href="/docs/api/classes/llvm/instruction">Instruction</a> heights have been computed. This implies <a href="#ad636cb57c36fe3c776bb458c552435ac">hasValidHeight()</a>.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machinetracemetrics-h/#l00239">239</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machinetracemetrics-h">MachineTraceMetrics.h</a>.
</MemberDefinition>

### Head {#ad1289df76629f404936fc8b2df1a6934}

<MemberDefinition
  prototype="unsigned llvm::MachineTraceMetrics::TraceBlockInfo::Head">
The block number of the head of the trace. (When <a href="#a8e39c65ba3a21fb041f682ab7b2be929">hasValidDepth()</a>).

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machinetracemetrics-h/#l00181">181</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machinetracemetrics-h">MachineTraceMetrics.h</a>.
</MemberDefinition>

### InstrDepth {#a05783617bfead544a66a41fb304756f2}

<MemberDefinition
  prototype="unsigned llvm::MachineTraceMetrics::TraceBlockInfo::InstrDepth = ~0u">
Accumulated number of instructions in the trace above this block.

Does not include instructions in this block.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machinetracemetrics-h/#l00188">188</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machinetracemetrics-h">MachineTraceMetrics.h</a>.
</MemberDefinition>

### InstrHeight {#a2bee15b953c70ea17198d4d8b60aefed}

<MemberDefinition
  prototype="unsigned llvm::MachineTraceMetrics::TraceBlockInfo::InstrHeight = ~0u">
Accumulated number of instructions in the trace below this block.

Includes instructions in this block.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machinetracemetrics-h/#l00192">192</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machinetracemetrics-h">MachineTraceMetrics.h</a>.
</MemberDefinition>

### LiveIns {#a31a27d3966568ca13e2248fe0faf4080}

<MemberDefinition
  prototype={<>SmallVector&lt;LiveInReg, 4&gt; llvm::MachineTraceMetrics::TraceBlockInfo::LiveIns</>}>
Live-in registers.

These registers are defined above the current block and used by this block or a block below it. This does not include PHI uses in the current block, but it does include PHI uses in deeper blocks.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machinetracemetrics-h/#l00250">250</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machinetracemetrics-h">MachineTraceMetrics.h</a>.
</MemberDefinition>

### Pred {#a1cf611223ee0f84ce33371cef8151768}

<MemberDefinition
  prototype={<>const MachineBasicBlock&#42; llvm::MachineTraceMetrics::TraceBlockInfo::Pred = nullptr</>}>
<a href="/docs/api/classes/llvm/machinetracemetrics/trace">Trace</a> predecessor, or NULL for the first block in the trace.

Valid when <a href="#a8e39c65ba3a21fb041f682ab7b2be929">hasValidDepth()</a>.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machinetracemetrics-h/#l00174">174</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machinetracemetrics-h">MachineTraceMetrics.h</a>.
</MemberDefinition>

### Succ {#a5b72d33d71c887bc07bd9c1551477c4c}

<MemberDefinition
  prototype={<>const MachineBasicBlock&#42; llvm::MachineTraceMetrics::TraceBlockInfo::Succ = nullptr</>}>
<a href="/docs/api/classes/llvm/machinetracemetrics/trace">Trace</a> successor, or NULL for the last block in the trace.

Valid when <a href="#ad636cb57c36fe3c776bb458c552435ac">hasValidHeight()</a>.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machinetracemetrics-h/#l00178">178</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machinetracemetrics-h">MachineTraceMetrics.h</a>.
</MemberDefinition>

### Tail {#aef0722b576f40e57f91a2a53b2e97c64}

<MemberDefinition
  prototype="unsigned llvm::MachineTraceMetrics::TraceBlockInfo::Tail">
The block number of the tail of the trace. (When <a href="#ad636cb57c36fe3c776bb458c552435ac">hasValidHeight()</a>).

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machinetracemetrics-h/#l00184">184</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machinetracemetrics-h">MachineTraceMetrics.h</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this struct was generated from the following files:

<ul>
<li><a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machinetracemetrics-h">MachineTraceMetrics.h</a></li>
<li><a href="/docs/api/files/lib/lib/codegen/machinetracemetrics-cpp">MachineTraceMetrics.cpp</a></li>
</ul>

</DoxygenPage>
