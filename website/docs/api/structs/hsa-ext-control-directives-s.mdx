---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/structs/hsa-ext-control-directives-s
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - struct
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `hsa_ext_control_directives_s` Struct Reference

<DoxygenPage pluginConfig={pluginConfig}>

The <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#aea4f3ae95cc082cd39e20252669439b7">hsa&#95;ext&#95;control&#95;directives&#95;t</a> specifies the values for the HSAIL control directives. <a href="#details">More...</a>

## Declaration

<CodeBlock>struct hsa_ext_control_directives_s</CodeBlock>

## Included Headers

<IncludesList>
<IncludesListItem
  filePath="Target/AMDGPU/AMDKernelCodeT.h"
  permalink="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h"
  isLocal="true" />
</IncludesList>

## Public Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#af05e7b6c47e7baac1cc9fb203047f168">hsa&#95;ext&#95;exception&#95;kind16&#95;t</a></>}
  name={<><a href="#a9c4647ae4eeaacf6fcfacd2f57ba7818">enable&#95;break&#95;exceptions</a></>}>
If enableBreakExceptions is not enabled then must be 0, otherwise must be non-0 and specifies the set of HSAIL exceptions that must have the BREAK policy enabled. <a href="#a9c4647ae4eeaacf6fcfacd2f57ba7818">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#af05e7b6c47e7baac1cc9fb203047f168">hsa&#95;ext&#95;exception&#95;kind16&#95;t</a></>}
  name={<><a href="#a13fe03d13e93da6c8f23ec4fd4a1acb7">enable&#95;detect&#95;exceptions</a></>}>
If enableDetectExceptions is not enabled then must be 0, otherwise must be non-0 and specifies the set of HSAIL exceptions that must have the DETECT policy enabled. <a href="#a13fe03d13e93da6c8f23ec4fd4a1acb7">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#a366dea916dc7cec2954369e132e395e3">hsa&#95;ext&#95;control&#95;directive&#95;present64&#95;t</a></>}
  name={<><a href="#a31c3cd8b821b9c494aa0ab25c3d4cfe4">enabled&#95;control&#95;directives</a></>}>
This is a bit set indicating which control directives have been specified. <a href="#a31c3cd8b821b9c494aa0ab25c3d4cfe4">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>uint32&#95;t</>}
  name={<><a href="#a39a5f04876f5b09c1f27a550d370c11b">max&#95;dynamic&#95;group&#95;size</a></>}>
If maxDynamicGroupSize is not enabled then must be 0, and any amount of dynamic group segment can be allocated for a dispatch, otherwise the value specifies the maximum number of bytes of dynamic group segment that can be allocated for a dispatch. <a href="#a39a5f04876f5b09c1f27a550d370c11b">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>uint32&#95;t</>}
  name={<><a href="#a9e7cbde447d4b61663af4c711c853598">max&#95;flat&#95;grid&#95;size</a></>}>
If maxFlatGridSize is not enabled then must be 0, otherwise must be greater than 0. <a href="#a9e7cbde447d4b61663af4c711c853598">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>uint32&#95;t</>}
  name={<><a href="#af3cc87d5c7c7509e8ca0a34d5cae5cac">max&#95;flat&#95;workgroup&#95;size</a></>}>
If maxFlatWorkgroupSize is not enabled then must be 0, otherwise must be greater than 0. <a href="#af3cc87d5c7c7509e8ca0a34d5cae5cac">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>uint32&#95;t</>}
  name={<><a href="#a98b569b73e93a2c789560c1b27ddd1f9">requested&#95;workgroups&#95;per&#95;cu</a></>}>
If requestedWorkgroupsPerCu is not enabled then must be 0, and the finalizer is free to generate ISA that may result in any number of work-groups executing on a single compute unit. <a href="#a98b569b73e93a2c789560c1b27ddd1f9">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>uint8&#95;t</>}
  name={<><a href="#ac8012e3727779504aee5326dc8dc11a3">required&#95;dim</a></>}>
If requiredDim is not enabled then must be 0 and the produced kernel code can be dispatched with 1, 2 or 3 dimensions. <a href="#ac8012e3727779504aee5326dc8dc11a3">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#ae460d1df8c508a9c889d4550ea4eea30">hsa&#95;dim3&#95;t</a></>}
  name={<><a href="#aa39aa47358123940e91a59d86675ed56">required&#95;grid&#95;size</a></>}>
If not enabled then all elements for Dim3 must be 0, otherwise every element must be greater than 0. <a href="#aa39aa47358123940e91a59d86675ed56">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#ae460d1df8c508a9c889d4550ea4eea30">hsa&#95;dim3&#95;t</a></>}
  name={<><a href="#aafa76308e79d007eb024a85e1dbd445c">required&#95;workgroup&#95;size</a></>}>
If requiredWorkgroupSize is not enabled then all elements for Dim3 must be 0, and the produced code can be dispatched with any legal work-group range consistent with the dispatch dimensions. <a href="#aafa76308e79d007eb024a85e1dbd445c">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>uint8&#95;t</>}
  name={<><a href="#a13592ebe73dfaafc1aa8fb8280e6bad0">reserved</a></>}>
Reserved. Must be 0. <a href="#a13592ebe73dfaafc1aa8fb8280e6bad0">More...</a>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

The <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#aea4f3ae95cc082cd39e20252669439b7">hsa&#95;ext&#95;control&#95;directives&#95;t</a> specifies the values for the HSAIL control directives.

These control how the finalizer generates code. This struct is used both as an argument to hsaFinalizeKernel to specify values for the control directives, and is used in HsaKernelCode to record the values of the control directives that the finalize used when generating the code which either came from the finalizer argument or explicit HSAIL control directives. See the definition of the control directives in HSA Programmer&#39;s Reference Manual which also defines how the values specified as finalizer arguments have to agree with the control directives in the HSAIL code.

Definition at line 209 of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h">AMDKernelCodeT.h</a>.

<SectionDefinition>

## Public Member Attributes

### enable&#95;break&#95;exceptions {#a9c4647ae4eeaacf6fcfacd2f57ba7818}

<MemberDefinition
  prototype={<>hsa&#95;ext&#95;exception&#95;kind16&#95;t hsa&#95;ext&#95;control&#95;directives&#95;s::enable&#95;break&#95;exceptions</>}>
If enableBreakExceptions is not enabled then must be 0, otherwise must be non-0 and specifies the set of HSAIL exceptions that must have the BREAK policy enabled.

If this set is not empty then the generated code may have lower performance than if the set is empty. If the kernel being finalized has any enablebreakexceptions control directives, then the values specified by this argument are unioned with the values in these control directives. If any of the functions the kernel calls have an enablebreakexceptions control directive, then they must be equal or a subset of, this union.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#l00226">226</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h">AMDKernelCodeT.h</a>.
</MemberDefinition>

### enable&#95;detect&#95;exceptions {#a13fe03d13e93da6c8f23ec4fd4a1acb7}

<MemberDefinition
  prototype={<>hsa&#95;ext&#95;exception&#95;kind16&#95;t hsa&#95;ext&#95;control&#95;directives&#95;s::enable&#95;detect&#95;exceptions</>}>
If enableDetectExceptions is not enabled then must be 0, otherwise must be non-0 and specifies the set of HSAIL exceptions that must have the DETECT policy enabled.

If this set is not empty then the generated code may have lower performance than if the set is empty. However, an implementation should endeavour to make the performance impact small. If the kernel being finalized has any enabledetectexceptions control directives, then the values specified by this argument are unioned with the values in these control directives. If any of the functions the kernel calls have an enabledetectexceptions control directive, then they must be equal or a subset of, this union.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#l00238">238</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h">AMDKernelCodeT.h</a>.
</MemberDefinition>

### enabled&#95;control&#95;directives {#a31c3cd8b821b9c494aa0ab25c3d4cfe4}

<MemberDefinition
  prototype={<>hsa&#95;ext&#95;control&#95;directive&#95;present64&#95;t hsa&#95;ext&#95;control&#95;directives&#95;s::enabled&#95;control&#95;directives</>}>
This is a bit set indicating which control directives have been specified.

If the value is 0 then there are no control directives specified and the rest of the fields can be ignored. The bits are accessed using the hsa&#95;ext&#95;control&#95;directives&#95;present&#95;mask&#95;t. Any control directive that is not enabled in this bit set must have the value of all 0s.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#l00215">215</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h">AMDKernelCodeT.h</a>.
</MemberDefinition>

### max&#95;dynamic&#95;group&#95;size {#a39a5f04876f5b09c1f27a550d370c11b}

<MemberDefinition
  prototype={<>uint32&#95;t hsa&#95;ext&#95;control&#95;directives&#95;s::max&#95;dynamic&#95;group&#95;size</>}>
If maxDynamicGroupSize is not enabled then must be 0, and any amount of dynamic group segment can be allocated for a dispatch, otherwise the value specifies the maximum number of bytes of dynamic group segment that can be allocated for a dispatch.

If the kernel being finalized has any maxdynamicsize control directives, then the values must be the same, and must be the same as this argument if it is enabled. This value can be used by the finalizer to determine the maximum number of bytes of group memory used by each work-group by adding this value to the group memory required for all group segment variables used by the kernel and all functions it calls, and group memory used to implement other HSAIL features such as fbarriers and the detect exception operations. This can allow the finalizer to determine the expected number of work-groups that can be executed by a compute unit and allow more resources to be allocated to the work-items if it is known that fewer work-groups can be executed due to group memory limitations.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#l00255">255</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h">AMDKernelCodeT.h</a>.
</MemberDefinition>

### max&#95;flat&#95;grid&#95;size {#a9e7cbde447d4b61663af4c711c853598}

<MemberDefinition
  prototype={<>uint32&#95;t hsa&#95;ext&#95;control&#95;directives&#95;s::max&#95;flat&#95;grid&#95;size</>}>
If maxFlatGridSize is not enabled then must be 0, otherwise must be greater than 0.

See HSA Programmer&#39;s Reference Manual description of maxflatgridsize control directive.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#l00260">260</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h">AMDKernelCodeT.h</a>.
</MemberDefinition>

### max&#95;flat&#95;workgroup&#95;size {#af3cc87d5c7c7509e8ca0a34d5cae5cac}

<MemberDefinition
  prototype={<>uint32&#95;t hsa&#95;ext&#95;control&#95;directives&#95;s::max&#95;flat&#95;workgroup&#95;size</>}>
If maxFlatWorkgroupSize is not enabled then must be 0, otherwise must be greater than 0.

See HSA Programmer&#39;s Reference Manual description of maxflatworkgroupsize control directive.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#l00265">265</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h">AMDKernelCodeT.h</a>.
</MemberDefinition>

### requested&#95;workgroups&#95;per&#95;cu {#a98b569b73e93a2c789560c1b27ddd1f9}

<MemberDefinition
  prototype={<>uint32&#95;t hsa&#95;ext&#95;control&#95;directives&#95;s::requested&#95;workgroups&#95;per&#95;cu</>}>
If requestedWorkgroupsPerCu is not enabled then must be 0, and the finalizer is free to generate ISA that may result in any number of work-groups executing on a single compute unit.

Otherwise, the finalizer should attempt to generate ISA that will allow the specified number of work-groups to execute on a single compute unit. This is only a hint and can be ignored by the finalizer. If the kernel being finalized, or any of the functions it calls, has a requested control directive, then the values must be the same. This can be used to determine the number of resources that should be allocated to a single work-group and work-item. For example, a low value may allow more resources to be allocated, resulting in higher per work-item performance, as it is known there will never be more than the specified number of work-groups actually executing on the compute unit. Conversely, a high value may allocate fewer resources, resulting in lower per work-item performance, which is offset by the fact it allows more work-groups to actually execute on the compute unit.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#l00282">282</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h">AMDKernelCodeT.h</a>.
</MemberDefinition>

### required&#95;dim {#ac8012e3727779504aee5326dc8dc11a3}

<MemberDefinition
  prototype={<>uint8&#95;t hsa&#95;ext&#95;control&#95;directives&#95;s::required&#95;dim</>}>
If requiredDim is not enabled then must be 0 and the produced kernel code can be dispatched with 1, 2 or 3 dimensions.

If enabled then the value is 1..3 and the code produced must only be dispatched with a dimension that matches. Other values are illegal. If the kernel being finalized, or any of the functions it calls, has a requireddimsize control directive, then the values must be the same. This can be used to optimize the code generated to compute the absolute and flat work-group and work-item id, and the dim HSAIL operations.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#l00310">310</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h">AMDKernelCodeT.h</a>.
</MemberDefinition>

### required&#95;grid&#95;size {#aa39aa47358123940e91a59d86675ed56}

<MemberDefinition
  prototype={<>hsa&#95;dim3&#95;t hsa&#95;ext&#95;control&#95;directives&#95;s::required&#95;grid&#95;size</>}>
If not enabled then all elements for Dim3 must be 0, otherwise every element must be greater than 0.

See HSA Programmer&#39;s Reference Manual description of requiredgridsize control directive.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#l00287">287</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h">AMDKernelCodeT.h</a>.
</MemberDefinition>

### required&#95;workgroup&#95;size {#aafa76308e79d007eb024a85e1dbd445c}

<MemberDefinition
  prototype={<>hsa&#95;dim3&#95;t hsa&#95;ext&#95;control&#95;directives&#95;s::required&#95;workgroup&#95;size</>}>
If requiredWorkgroupSize is not enabled then all elements for Dim3 must be 0, and the produced code can be dispatched with any legal work-group range consistent with the dispatch dimensions.

Otherwise, the code produced must always be dispatched with the specified work-group range. No element of the specified range must be 0. It must be consistent with required&#95;dimensions and max&#95;flat&#95;workgroup&#95;size. If the kernel being finalized, or any of the functions it calls, has a requiredworkgroupsize control directive, then the values must be the same. Specifying a value can allow the finalizer to optimize work-group id operations, and if the number of work-items in the work-group is less than the WAVESIZE then barrier operations can be optimized to just a memory fence.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#l00300">300</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h">AMDKernelCodeT.h</a>.
</MemberDefinition>

### reserved {#a13592ebe73dfaafc1aa8fb8280e6bad0}

<MemberDefinition
  prototype={<>uint8&#95;t hsa&#95;ext&#95;control&#95;directives&#95;s::reserved&#91;75&#93;</>}>
Reserved. Must be 0.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h/#l00313">313</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h">AMDKernelCodeT.h</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this struct was generated from the following file:

<ul>
<li><a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdkernelcodet-h">AMDKernelCodeT.h</a></li>
</ul>

</DoxygenPage>
