---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/structs/anonymous-namespace-expandvectorpredication-cpp-/cachingvpexpander
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - struct
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'
import SectionUser from '@xpack/docusaurus-plugin-doxygen/components/SectionUser'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `CachingVPExpander` Struct Reference

<DoxygenPage pluginConfig={pluginConfig}>



## Declaration

<CodeBlock>struct anonymous_namespace{ExpandVectorPredication.cpp}::CachingVPExpander</CodeBlock>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#aaf7c6eba52a5555ce4c8695015bb4d8a">CachingVPExpander</a> (const TargetTransformInfo &amp;TTI)</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/value">Value</a> &#42;</>}
  name={<><a href="#a787f048d94a8f173da27cb792cff4758">convertEVLToMask</a> (IRBuilder&lt;&gt; &amp;Builder, Value &#42;EVLParam, ElementCount ElemCount)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#ad46652b66427679d9c221df6915019ca">discardEVLParameter</a> (VPIntrinsic &amp;PI)</>}>
&quot;Remove&quot; the evl parameter of <code>PI</code> by setting it to the static vector length of the operation. <a href="#ad46652b66427679d9c221df6915019ca">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/value">Value</a> &#42;</>}
  name={<><a href="#aee759d5807e7eb77e631717da4461426">expandPredication</a> (VPIntrinsic &amp;PI)</>}>
Query TTI and expand the vector predication in <code>P</code> accordingly. <a href="#aee759d5807e7eb77e631717da4461426">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/value">Value</a> &#42;</>}
  name={<><a href="#a3eba8b3e2e38c997d14bc2ee850be29a">expandPredicationInBinaryOperator</a> (IRBuilder&lt;&gt; &amp;Builder, VPIntrinsic &amp;PI)</>}>
Lower this VP binary operator to a unpredicated binary operator. <a href="#a3eba8b3e2e38c997d14bc2ee850be29a">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/value">Value</a> &#42;</>}
  name={<><a href="#a5afd2ab39f4d739286d175f8babb8e6b">expandPredicationInComparison</a> (IRBuilder&lt;&gt; &amp;Builder, VPCmpIntrinsic &amp;PI)</>}>
Lower this VP comparison to a call to an unpredicated comparison. <a href="#a5afd2ab39f4d739286d175f8babb8e6b">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/value">Value</a> &#42;</>}
  name={<><a href="#a1f1f1359a986d8e4d1b107ae4c524a32">expandPredicationInMemoryIntrinsic</a> (IRBuilder&lt;&gt; &amp;Builder, VPIntrinsic &amp;VPI)</>}>
Lower this VP memory operation to a non-VP intrinsic. <a href="#a1f1f1359a986d8e4d1b107ae4c524a32">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/value">Value</a> &#42;</>}
  name={<><a href="#a2153c46ea6d560ce96b6ad7e822d2c70">expandPredicationInReduction</a> (IRBuilder&lt;&gt; &amp;Builder, VPReductionIntrinsic &amp;PI)</>}>
Lower this VP reduction to a call to an unpredicated reduction intrinsic. <a href="#a2153c46ea6d560ce96b6ad7e822d2c70">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/value">Value</a> &#42;</>}
  name={<><a href="#a5cd88dbe6fb8f2ddbd621296ca4ebd5f">expandPredicationToCastIntrinsic</a> (IRBuilder&lt;&gt; &amp;Builder, VPIntrinsic &amp;VPI)</>}>
Lower this VP cast operation to a non-VP intrinsic. <a href="#a5cd88dbe6fb8f2ddbd621296ca4ebd5f">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/value">Value</a> &#42;</>}
  name={<><a href="#a62f9944dba24143c8954964d7dff45b8">expandPredicationToFPCall</a> (IRBuilder&lt;&gt; &amp;Builder, VPIntrinsic &amp;PI, unsigned UnpredicatedIntrinsicID)</>}>
Lower this VP fp call to a unpredicated fp call. <a href="#a62f9944dba24143c8954964d7dff45b8">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/value">Value</a> &#42;</>}
  name={<><a href="#ad2529fdcdfd78c5eccd6079fc3c74ad3">expandPredicationToIntCall</a> (IRBuilder&lt;&gt; &amp;Builder, VPIntrinsic &amp;PI)</>}>
Lower this VP int call to a unpredicated int call. <a href="#ad2529fdcdfd78c5eccd6079fc3c74ad3">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/namespaces/llvm/#ae53f11eb819a6e1a1249ef582fb25010">VPExpansionDetails</a></>}
  name={<><a href="#a26419bc539a673ab5e42ce01e5c694ec">expandVectorPredication</a> (VPIntrinsic &amp;VPI)</>}>
Expand llvm.vp. <a href="#a26419bc539a673ab5e42ce01e5c694ec">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::pair&lt; <a href="/docs/api/classes/llvm/value">Value</a> &#42;, bool &gt;</>}
  name={<><a href="#ac965f2137199995cb31f57f71cc3b568">foldEVLIntoMask</a> (VPIntrinsic &amp;VPI)</>}>
If needed, folds the EVL in the mask operand and discards the EVL parameter. <a href="#ac965f2137199995cb31f57f71cc3b568">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/codegen/expandvectorpredication-cpp/#a8bbe0bdae41c88a50d5776a8b6bd9d5c">VPLegalization</a></>}
  name={<><a href="#a8c2dd03c3f7b301cda6ac1ba9b31f113">getVPLegalizationStrategy</a> (const VPIntrinsic &amp;VPI) const</>}>
Determine how and whether the <a href="/docs/api/classes/llvm/vpintrinsic">VPIntrinsic</a> <code>VPI</code> shall be expanded. <a href="#a8c2dd03c3f7b301cda6ac1ba9b31f113">More...</a>
</MembersIndexItem>

</MembersIndex>

## Public Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/targettransforminfo">TargetTransformInfo</a> &amp;</>}
  name={<><a href="#a9028bfa65760666da97c9effe3faa267">TTI</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a1af892ff2a9a41536c1544a17fc9c983">UsingTTIOverrides</a></>}>
</MembersIndexItem>

</MembersIndex>


Definition at line 136 of file <a href="/docs/api/files/lib/lib/codegen/expandvectorpredication-cpp">ExpandVectorPredication.cpp</a>.

<SectionDefinition>

## Public Constructors

### CachingVPExpander() {#aaf7c6eba52a5555ce4c8695015bb4d8a}

<MemberDefinition
  prototype={<>anonymous&#95;namespace&#123;ExpandVectorPredication.cpp&#125;::CachingVPExpander::CachingVPExpander (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/targettransforminfo">TargetTransformInfo</a> &amp; TTI)</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/expandvectorpredication-cpp/#l00198">198</a> of file <a href="/docs/api/files/lib/lib/codegen/expandvectorpredication-cpp">ExpandVectorPredication.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### convertEVLToMask() {#a787f048d94a8f173da27cb792cff4758}

<MemberDefinition
  prototype={<>Value &#42; anonymous&#95;namespace&#123;ExpandVectorPredication.cpp&#125;::CachingVPExpander::convertEVLToMask (<a href="/docs/api/classes/llvm/irbuilder">IRBuilder</a>&lt;&gt; &amp; Builder, <a href="/docs/api/classes/llvm/value">Value</a> &#42; EVLParam, <a href="/docs/api/classes/llvm/elementcount">ElementCount</a> ElemCount)</>}>

<SectionUser title="Returns">
A bitmask that is true where the lane position is less-than <code>EVLParam</code>
</SectionUser>

<code>Builder</code> Used for instruction creation. <code>VLParam</code> The explicit vector length parameter to test against the lane positions. <code>ElemCount</code> Static (potentially scalable) number of vector elements.

Definition at line <a href="/docs/api/files/lib/lib/codegen/expandvectorpredication-cpp/#l00149">149</a> of file <a href="/docs/api/files/lib/lib/codegen/expandvectorpredication-cpp">ExpandVectorPredication.cpp</a>.
</MemberDefinition>

### discardEVLParameter() {#ad46652b66427679d9c221df6915019ca}

<MemberDefinition
  prototype={<>bool anonymous&#95;namespace&#123;ExpandVectorPredication.cpp&#125;::CachingVPExpander::discardEVLParameter (<a href="/docs/api/classes/llvm/vpintrinsic">VPIntrinsic</a> &amp; PI)</>}>
&quot;Remove&quot; the evl parameter of <code>PI</code> by setting it to the static vector length of the operation.

Returns true if the evl (if any) was effectively changed.

Definition at line <a href="/docs/api/files/lib/lib/codegen/expandvectorpredication-cpp/#l00160">160</a> of file <a href="/docs/api/files/lib/lib/codegen/expandvectorpredication-cpp">ExpandVectorPredication.cpp</a>.
</MemberDefinition>

### expandPredication() {#aee759d5807e7eb77e631717da4461426}

<MemberDefinition
  prototype={<>Value &#42; anonymous&#95;namespace&#123;ExpandVectorPredication.cpp&#125;::CachingVPExpander::expandPredication (<a href="/docs/api/classes/llvm/vpintrinsic">VPIntrinsic</a> &amp; PI)</>}>
Query TTI and expand the vector predication in <code>P</code> accordingly.

Definition at line <a href="/docs/api/files/lib/lib/codegen/expandvectorpredication-cpp/#l00190">190</a> of file <a href="/docs/api/files/lib/lib/codegen/expandvectorpredication-cpp">ExpandVectorPredication.cpp</a>.
</MemberDefinition>

### expandPredicationInBinaryOperator() {#a3eba8b3e2e38c997d14bc2ee850be29a}

<MemberDefinition
  prototype={<>Value &#42; anonymous&#95;namespace&#123;ExpandVectorPredication.cpp&#125;::CachingVPExpander::expandPredicationInBinaryOperator (<a href="/docs/api/classes/llvm/irbuilder">IRBuilder</a>&lt;&gt; &amp; Builder, <a href="/docs/api/classes/llvm/vpintrinsic">VPIntrinsic</a> &amp; PI)</>}>
Lower this VP binary operator to a unpredicated binary operator.

Definition at line <a href="/docs/api/files/lib/lib/codegen/expandvectorpredication-cpp/#l00163">163</a> of file <a href="/docs/api/files/lib/lib/codegen/expandvectorpredication-cpp">ExpandVectorPredication.cpp</a>.
</MemberDefinition>

### expandPredicationInComparison() {#a5afd2ab39f4d739286d175f8babb8e6b}

<MemberDefinition
  prototype={<>Value &#42; anonymous&#95;namespace&#123;ExpandVectorPredication.cpp&#125;::CachingVPExpander::expandPredicationInComparison (<a href="/docs/api/classes/llvm/irbuilder">IRBuilder</a>&lt;&gt; &amp; Builder, <a href="/docs/api/classes/llvm/vpcmpintrinsic">VPCmpIntrinsic</a> &amp; PI)</>}>
Lower this VP comparison to a call to an unpredicated comparison.

Definition at line <a href="/docs/api/files/lib/lib/codegen/expandvectorpredication-cpp/#l00186">186</a> of file <a href="/docs/api/files/lib/lib/codegen/expandvectorpredication-cpp">ExpandVectorPredication.cpp</a>.
</MemberDefinition>

### expandPredicationInMemoryIntrinsic() {#a1f1f1359a986d8e4d1b107ae4c524a32}

<MemberDefinition
  prototype={<>Value &#42; anonymous&#95;namespace&#123;ExpandVectorPredication.cpp&#125;::CachingVPExpander::expandPredicationInMemoryIntrinsic (<a href="/docs/api/classes/llvm/irbuilder">IRBuilder</a>&lt;&gt; &amp; Builder, <a href="/docs/api/classes/llvm/vpintrinsic">VPIntrinsic</a> &amp; VPI)</>}>
Lower this VP memory operation to a non-VP intrinsic.

Definition at line <a href="/docs/api/files/lib/lib/codegen/expandvectorpredication-cpp/#l00182">182</a> of file <a href="/docs/api/files/lib/lib/codegen/expandvectorpredication-cpp">ExpandVectorPredication.cpp</a>.
</MemberDefinition>

### expandPredicationInReduction() {#a2153c46ea6d560ce96b6ad7e822d2c70}

<MemberDefinition
  prototype={<>Value &#42; anonymous&#95;namespace&#123;ExpandVectorPredication.cpp&#125;::CachingVPExpander::expandPredicationInReduction (<a href="/docs/api/classes/llvm/irbuilder">IRBuilder</a>&lt;&gt; &amp; Builder, <a href="/docs/api/classes/llvm/vpreductionintrinsic">VPReductionIntrinsic</a> &amp; PI)</>}>
Lower this VP reduction to a call to an unpredicated reduction intrinsic.

Definition at line <a href="/docs/api/files/lib/lib/codegen/expandvectorpredication-cpp/#l00174">174</a> of file <a href="/docs/api/files/lib/lib/codegen/expandvectorpredication-cpp">ExpandVectorPredication.cpp</a>.
</MemberDefinition>

### expandPredicationToCastIntrinsic() {#a5cd88dbe6fb8f2ddbd621296ca4ebd5f}

<MemberDefinition
  prototype={<>Value &#42; anonymous&#95;namespace&#123;ExpandVectorPredication.cpp&#125;::CachingVPExpander::expandPredicationToCastIntrinsic (<a href="/docs/api/classes/llvm/irbuilder">IRBuilder</a>&lt;&gt; &amp; Builder, <a href="/docs/api/classes/llvm/vpintrinsic">VPIntrinsic</a> &amp; VPI)</>}>
Lower this VP cast operation to a non-VP intrinsic.

Definition at line <a href="/docs/api/files/lib/lib/codegen/expandvectorpredication-cpp/#l00178">178</a> of file <a href="/docs/api/files/lib/lib/codegen/expandvectorpredication-cpp">ExpandVectorPredication.cpp</a>.
</MemberDefinition>

### expandPredicationToFPCall() {#a62f9944dba24143c8954964d7dff45b8}

<MemberDefinition
  prototype={<>Value &#42; anonymous&#95;namespace&#123;ExpandVectorPredication.cpp&#125;::CachingVPExpander::expandPredicationToFPCall (<a href="/docs/api/classes/llvm/irbuilder">IRBuilder</a>&lt;&gt; &amp; Builder, <a href="/docs/api/classes/llvm/vpintrinsic">VPIntrinsic</a> &amp; PI, unsigned UnpredicatedIntrinsicID)</>}>
Lower this VP fp call to a unpredicated fp call.

Definition at line <a href="/docs/api/files/lib/lib/codegen/expandvectorpredication-cpp/#l00170">170</a> of file <a href="/docs/api/files/lib/lib/codegen/expandvectorpredication-cpp">ExpandVectorPredication.cpp</a>.
</MemberDefinition>

### expandPredicationToIntCall() {#ad2529fdcdfd78c5eccd6079fc3c74ad3}

<MemberDefinition
  prototype={<>Value &#42; anonymous&#95;namespace&#123;ExpandVectorPredication.cpp&#125;::CachingVPExpander::expandPredicationToIntCall (<a href="/docs/api/classes/llvm/irbuilder">IRBuilder</a>&lt;&gt; &amp; Builder, <a href="/docs/api/classes/llvm/vpintrinsic">VPIntrinsic</a> &amp; PI)</>}>
Lower this VP int call to a unpredicated int call.

Definition at line <a href="/docs/api/files/lib/lib/codegen/expandvectorpredication-cpp/#l00167">167</a> of file <a href="/docs/api/files/lib/lib/codegen/expandvectorpredication-cpp">ExpandVectorPredication.cpp</a>.
</MemberDefinition>

### expandVectorPredication() {#a26419bc539a673ab5e42ce01e5c694ec}

<MemberDefinition
  prototype={<>VPExpansionDetails anonymous&#95;namespace&#123;ExpandVectorPredication.cpp&#125;::CachingVPExpander::expandVectorPredication (<a href="/docs/api/classes/llvm/vpintrinsic">VPIntrinsic</a> &amp; VPI)</>}>
Expand llvm.vp.

<ul>
<li>intrinsics as requested by <code>TTI</code>. Returns the details of the expansion.</li>
</ul>

Definition at line <a href="/docs/api/files/lib/lib/codegen/expandvectorpredication-cpp/#l00203">203</a> of file <a href="/docs/api/files/lib/lib/codegen/expandvectorpredication-cpp">ExpandVectorPredication.cpp</a>.
</MemberDefinition>

### foldEVLIntoMask() {#ac965f2137199995cb31f57f71cc3b568}

<MemberDefinition
  prototype={<>std::pair&lt; Value &#42;, bool &gt; anonymous&#95;namespace&#123;ExpandVectorPredication.cpp&#125;::CachingVPExpander::foldEVLIntoMask (<a href="/docs/api/classes/llvm/vpintrinsic">VPIntrinsic</a> &amp; VPI)</>}>
If needed, folds the EVL in the mask operand and discards the EVL parameter.

Returns a pair of the value of the intrinsic after the change (if any) and whether the mask was actually folded.

Definition at line <a href="/docs/api/files/lib/lib/codegen/expandvectorpredication-cpp/#l00155">155</a> of file <a href="/docs/api/files/lib/lib/codegen/expandvectorpredication-cpp">ExpandVectorPredication.cpp</a>.
</MemberDefinition>

### getVPLegalizationStrategy() {#a8c2dd03c3f7b301cda6ac1ba9b31f113}

<MemberDefinition
  prototype={<>VPLegalization anonymous&#95;namespace&#123;ExpandVectorPredication.cpp&#125;::CachingVPExpander::getVPLegalizationStrategy (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/vpintrinsic">VPIntrinsic</a> &amp; VPI) const</>}>
Determine how and whether the <a href="/docs/api/classes/llvm/vpintrinsic">VPIntrinsic</a> <code>VPI</code> shall be expanded.

This overrides TTI with the cl::opts listed at the top of this file.

Definition at line <a href="/docs/api/files/lib/lib/codegen/expandvectorpredication-cpp/#l00194">194</a> of file <a href="/docs/api/files/lib/lib/codegen/expandvectorpredication-cpp">ExpandVectorPredication.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Attributes

### TTI {#a9028bfa65760666da97c9effe3faa267}

<MemberDefinition
  prototype={<>const TargetTransformInfo&amp; anonymous&#95;namespace&#123;ExpandVectorPredication.cpp&#125;::CachingVPExpander::TTI</>}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/expandvectorpredication-cpp/#l00137">137</a> of file <a href="/docs/api/files/lib/lib/codegen/expandvectorpredication-cpp">ExpandVectorPredication.cpp</a>.
</MemberDefinition>

### UsingTTIOverrides {#a1af892ff2a9a41536c1544a17fc9c983}

<MemberDefinition
  prototype={<>bool anonymous&#95;namespace&#123;ExpandVectorPredication.cpp&#125;::CachingVPExpander::UsingTTIOverrides</>}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/expandvectorpredication-cpp/#l00195">195</a> of file <a href="/docs/api/files/lib/lib/codegen/expandvectorpredication-cpp">ExpandVectorPredication.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this struct was generated from the following file:

<ul>
<li><a href="/docs/api/files/lib/lib/codegen/expandvectorpredication-cpp">ExpandVectorPredication.cpp</a></li>
</ul>

</DoxygenPage>
