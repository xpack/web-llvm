---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/structs/anonymous-namespace-armconstantislandpass-cpp-/armconstantislands/cpuser
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - struct
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `CPUser` Struct Reference

<DoxygenPage pluginConfig={pluginConfig}>

CPUser - One user of a constant pool, keeping the machine instruction pointer, the constant pool being referenced, and the max displacement allowed from the instruction to the CP. <a href="#details">More...</a>

## Declaration

<CodeBlock>struct anonymous_namespace{ARMConstantIslandPass.cpp}::ARMConstantIslands::CPUser</CodeBlock>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a16803593842ef9c8dda95828ae89ca6e">CPUser</a> (MachineInstr &#42;mi, MachineInstr &#42;cpemi, unsigned maxdisp, bool neg, bool soimm)</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="unsigned"
  name={<><a href="#ab308ac9ee95594a849f70b9292676c54">getMaxDisp</a> () const</>}>
getMaxDisp - Returns the maximum displacement supported by MI. <a href="#ab308ac9ee95594a849f70b9292676c54">More...</a>
</MembersIndexItem>

</MembersIndex>

## Public Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &#42;</>}
  name={<><a href="#abb0d8a3b5ce6dfa6b5e324843238a065">CPEMI</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;</>}
  name={<><a href="#aa4154074eb6d94d56624dfac9eb51846">HighWaterMark</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#acc1076ad2c5782a23ffe37291af25d6b">IsSoImm</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a555d88c15e62397c978811fbbe868c6b">KnownAlignment</a> = false</>}>
</MembersIndexItem>

<MembersIndexItem
  type="unsigned"
  name={<><a href="#a0c5fdd68eb4c2b693774fad361fd595a">MaxDisp</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &#42;</>}
  name={<><a href="#a5773d391e8f8a217b132ab926a676955">MI</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a52fae46ad821f18aef4a2602b2a5eecc">NegOk</a></>}>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

CPUser - One user of a constant pool, keeping the machine instruction pointer, the constant pool being referenced, and the max displacement allowed from the instruction to the CP.

The HighWaterMark records the highest basic block where a new CPEntry can be placed. To ensure this pass terminates, the CP entries are initially placed at the end of the function and then move monotonically to lower addresses. The exception to this rule is when the current CP entry for a particular CPUser is out of range, but there is another CP entry for the same constant value in range. We want to use the existing in-range CP entry, but if it later moves out of range, the search for new water should resume where it left off. The HighWaterMark is used to record that point.

Definition at line 128 of file <a href="/docs/api/files/lib/lib/target/lib/target/arm/armconstantislandpass-cpp">ARMConstantIslandPass.cpp</a>.

<SectionDefinition>

## Public Constructors

### CPUser() {#a16803593842ef9c8dda95828ae89ca6e}

<MemberDefinition
  prototype={<>anonymous&#95;namespace&#123;ARMConstantIslandPass.cpp&#125;::ARMConstantIslands::CPUser::CPUser (<a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &#42; mi, <a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &#42; cpemi, unsigned maxdisp, bool neg, bool soimm)</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/arm/armconstantislandpass-cpp/#l00137">137</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/arm/armconstantislandpass-cpp">ARMConstantIslandPass.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### getMaxDisp() {#ab308ac9ee95594a849f70b9292676c54}

<MemberDefinition
  prototype={<>unsigned anonymous&#95;namespace&#123;ARMConstantIslandPass.cpp&#125;::ARMConstantIslands::CPUser::getMaxDisp () const</>}
  labels = {["inline"]}>
getMaxDisp - Returns the maximum displacement supported by MI.

Correct for unknown alignment. Conservatively subtract 2 bytes to handle weird alignment effects.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/arm/armconstantislandpass-cpp/#l00146">146</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/arm/armconstantislandpass-cpp">ARMConstantIslandPass.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Attributes

### CPEMI {#abb0d8a3b5ce6dfa6b5e324843238a065}

<MemberDefinition
  prototype={<>MachineInstr&#42; anonymous&#95;namespace&#123;ARMConstantIslandPass.cpp&#125;::ARMConstantIslands::CPUser::CPEMI</>}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/arm/armconstantislandpass-cpp/#l00130">130</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/arm/armconstantislandpass-cpp">ARMConstantIslandPass.cpp</a>.
</MemberDefinition>

### HighWaterMark {#aa4154074eb6d94d56624dfac9eb51846}

<MemberDefinition
  prototype={<>MachineBasicBlock&#42; anonymous&#95;namespace&#123;ARMConstantIslandPass.cpp&#125;::ARMConstantIslands::CPUser::HighWaterMark</>}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/arm/armconstantislandpass-cpp/#l00131">131</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/arm/armconstantislandpass-cpp">ARMConstantIslandPass.cpp</a>.
</MemberDefinition>

### IsSoImm {#acc1076ad2c5782a23ffe37291af25d6b}

<MemberDefinition
  prototype={<>bool anonymous&#95;namespace&#123;ARMConstantIslandPass.cpp&#125;::ARMConstantIslands::CPUser::IsSoImm</>}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/arm/armconstantislandpass-cpp/#l00134">134</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/arm/armconstantislandpass-cpp">ARMConstantIslandPass.cpp</a>.
</MemberDefinition>

### KnownAlignment {#a555d88c15e62397c978811fbbe868c6b}

<MemberDefinition
  prototype={<>bool anonymous&#95;namespace&#123;ARMConstantIslandPass.cpp&#125;::ARMConstantIslands::CPUser::KnownAlignment = false</>}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/arm/armconstantislandpass-cpp/#l00135">135</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/arm/armconstantislandpass-cpp">ARMConstantIslandPass.cpp</a>.
</MemberDefinition>

### MaxDisp {#a0c5fdd68eb4c2b693774fad361fd595a}

<MemberDefinition
  prototype={<>unsigned anonymous&#95;namespace&#123;ARMConstantIslandPass.cpp&#125;::ARMConstantIslands::CPUser::MaxDisp</>}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/arm/armconstantislandpass-cpp/#l00132">132</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/arm/armconstantislandpass-cpp">ARMConstantIslandPass.cpp</a>.
</MemberDefinition>

### MI {#a5773d391e8f8a217b132ab926a676955}

<MemberDefinition
  prototype={<>MachineInstr&#42; anonymous&#95;namespace&#123;ARMConstantIslandPass.cpp&#125;::ARMConstantIslands::CPUser::MI</>}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/arm/armconstantislandpass-cpp/#l00129">129</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/arm/armconstantislandpass-cpp">ARMConstantIslandPass.cpp</a>.
</MemberDefinition>

### NegOk {#a52fae46ad821f18aef4a2602b2a5eecc}

<MemberDefinition
  prototype={<>bool anonymous&#95;namespace&#123;ARMConstantIslandPass.cpp&#125;::ARMConstantIslands::CPUser::NegOk</>}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/arm/armconstantislandpass-cpp/#l00133">133</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/arm/armconstantislandpass-cpp">ARMConstantIslandPass.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this struct was generated from the following file:

<ul>
<li><a href="/docs/api/files/lib/lib/target/lib/target/arm/armconstantislandpass-cpp">ARMConstantIslandPass.cpp</a></li>
</ul>

</DoxygenPage>
