---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/structs/llvm/vplantransforms
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - struct
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'
import SectionUser from '@xpack/docusaurus-plugin-doxygen/components/SectionUser'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `VPlanTransforms` Struct Reference

<DoxygenPage pluginConfig={pluginConfig}>



## Declaration

<CodeBlock>struct llvm::VPlanTransforms</CodeBlock>

## Included Headers

<IncludesList>
<IncludesListItem
  filePath="Transforms/Vectorize/VPlanTransforms.h"
  permalink="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-h"
  isLocal="true" />
</IncludesList>

## Public Static Functions Index

<MembersIndex>

<MembersIndexItem
  type="void"
  name={<><a href="#ae1d2d60cd9edd9f7ca98c50789747c95">addActiveLaneMask</a> (VPlan &amp;Plan, bool UseActiveLaneMaskForControlFlow, bool DataAndControlFlowWithoutRuntimeCheck)</>}>
Replace (ICMP&#95;ULE, wide canonical IV, backedge-taken-count) checks with an (active-lane-mask recipe, wide canonical IV, trip-count). <a href="#ae1d2d60cd9edd9f7ca98c50789747c95">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#ae64d6953a1334207d9e7d9cd2587ee9f">adjustFixedOrderRecurrences</a> (VPlan &amp;Plan, VPBuilder &amp;Builder)</>}>
Try to have all users of fixed-order recurrences appear after the recipe defining their previous value, by either sinking users or hoisting recipes defining their previous value (and its operands). <a href="#ae64d6953a1334207d9e7d9cd2587ee9f">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#ace9e1e6e7295914973dec18350b382ca">clearReductionWrapFlags</a> (VPlan &amp;Plan)</>}>
Clear NSW/NUW flags from reduction instructions if necessary. <a href="#ace9e1e6e7295914973dec18350b382ca">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a63e564d621011fac5978d18138121e5c">convertToConcreteRecipes</a> (VPlan &amp;Plan)</>}>
Lower abstract recipes to concrete ones, that can be codegen&#39;d. <a href="#a63e564d621011fac5978d18138121e5c">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a42d43068c576be2a1cd514f620246004">createAndOptimizeReplicateRegions</a> (VPlan &amp;Plan)</>}>
Wrap predicated VPReplicateRecipes with a mask operand in an if-then region block and remove the mask operand. <a href="#a42d43068c576be2a1cd514f620246004">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#aa88371693bc18186386b04e8c45a30e4">createInterleaveGroups</a> (VPlan &amp;Plan, const SmallPtrSetImpl&lt; const InterleaveGroup&lt; Instruction &gt; &#42; &gt; &amp;InterleaveGroups, VPRecipeBuilder &amp;RecipeBuilder, bool ScalarEpilogueAllowed)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#aa0f143b8d4693978b984f0639c90e508">dropPoisonGeneratingRecipes</a> (VPlan &amp;Plan, function&#95;ref&lt; bool(BasicBlock &#42;)&gt; BlockNeedsPredication)</>}>
Drop poison flags from recipes that may generate a poison value that is used after vectorization, even when their operands are not poison. <a href="#aa0f143b8d4693978b984f0639c90e508">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#ac2fcd61c17c94d7e9d10b24b718c812e">handleUncountableEarlyExit</a> (VPlan &amp;Plan, ScalarEvolution &amp;SE, Loop &#42;OrigLoop, BasicBlock &#42;UncountableExitingBlock, VPRecipeBuilder &amp;RecipeBuilder)</>}>
Update <code>Plan</code> to account for the uncountable early exit block in <code>UncountableExitingBlock</code> by. <a href="#ac2fcd61c17c94d7e9d10b24b718c812e">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#ae3449b993cd1c459995c2fe13ef50892">optimize</a> (VPlan &amp;Plan)</>}>
Apply VPlan-to-VPlan optimizations to <code>Plan</code>, including induction recipe optimizations, dead recipe removal, replicate region optimizations and block merging. <a href="#ae3449b993cd1c459995c2fe13ef50892">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#af25d938764b8634e70e95ff3f0c35129">optimizeForVFAndUF</a> (VPlan &amp;Plan, ElementCount BestVF, unsigned BestUF, PredicatedScalarEvolution &amp;PSE)</>}>
Optimize <code>Plan</code> based on <code>BestVF</code> and <code>BestUF</code>. <a href="#af25d938764b8634e70e95ff3f0c35129">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a3a573419fed83f23b6bf70ac6731dbfa">optimizeInductionExitUsers</a> (VPlan &amp;Plan, DenseMap&lt; VPValue &#42;, VPValue &#42; &gt; &amp;EndValues)</>}>
If there&#39;s a single exit block, optimize its phi recipes that use exiting IV values by feeding them precomputed end values instead, possibly taken one step backwards. <a href="#a3a573419fed83f23b6bf70ac6731dbfa">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#aaca9dd97d4c523d8c65274654abe4eb9">removeDeadRecipes</a> (VPlan &amp;Plan)</>}>
Remove dead recipes from <code>Plan</code>. <a href="#aaca9dd97d4c523d8c65274654abe4eb9">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#ae61793492431f138869f097a5f31bd32">truncateToMinimalBitwidths</a> (VPlan &amp;Plan, const MapVector&lt; Instruction &#42;, uint64&#95;t &gt; &amp;MinBWs)</>}>
Insert truncates and extends for any truncated recipe. <a href="#ae61793492431f138869f097a5f31bd32">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#ad16bff9364e25351de81704fe81fd229">tryAddExplicitVectorLength</a> (VPlan &amp;Plan, const std::optional&lt; unsigned &gt; &amp;MaxEVLSafeElements)</>}>
Add a <a href="/docs/api/classes/llvm/vpevlbasedivphirecipe">VPEVLBasedIVPHIRecipe</a> and related recipes to <code>Plan</code> and replaces all uses except the canonical IV increment of <a href="/docs/api/classes/llvm/vpcanonicalivphirecipe">VPCanonicalIVPHIRecipe</a> with a <a href="/docs/api/classes/llvm/vpevlbasedivphirecipe">VPEVLBasedIVPHIRecipe</a>. <a href="#ad16bff9364e25351de81704fe81fd229">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a7a1cca51bb9bce4efad1063dcf158967">unrollByUF</a> (VPlan &amp;Plan, unsigned UF, LLVMContext &amp;Ctx)</>}>
Explicitly unroll <code>Plan</code> by <code>UF</code>. <a href="#a7a1cca51bb9bce4efad1063dcf158967">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#ad210afaefb4884ac5008dd5fbaf1cbf8">VPInstructionsToVPRecipes</a> (VPlanPtr &amp;Plan, function&#95;ref&lt; const InductionDescriptor &#42;(PHINode &#42;)&gt; GetIntOrFpInductionDescriptor, ScalarEvolution &amp;SE, const TargetLibraryInfo &amp;TLI)</>}>
Replaces the VPInstructions in <code>Plan</code> with corresponding widen recipes. <a href="#ad210afaefb4884ac5008dd5fbaf1cbf8">More...</a>
</MembersIndexItem>

</MembersIndex>


Definition at line 30 of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-h">VPlanTransforms.h</a>.

<SectionDefinition>

## Public Static Functions

### addActiveLaneMask() {#ae1d2d60cd9edd9f7ca98c50789747c95}

<MemberDefinition
  prototype={<>void VPlanTransforms::addActiveLaneMask (<a href="/docs/api/classes/llvm/vplan">VPlan</a> &amp; Plan, bool UseActiveLaneMaskForControlFlow, bool DataAndControlFlowWithoutRuntimeCheck)</>}
  labels = {["static"]}>
Replace (ICMP&#95;ULE, wide canonical IV, backedge-taken-count) checks with an (active-lane-mask recipe, wide canonical IV, trip-count).

If <code>UseActiveLaneMaskForControlFlow</code> is true, introduce an <a href="/docs/api/classes/llvm/vpactivelanemaskphirecipe">VPActiveLaneMaskPHIRecipe</a>. If <code>DataAndControlFlowWithoutRuntimeCheck</code> is true, no minimum-iteration runtime check will be created (during skeleton creation) and instead it is handled using active-lane-mask. <code>DataAndControlFlowWithoutRuntimeCheck</code> implies <code>UseActiveLaneMaskForControlFlow</code>.

Declaration at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-h/#l00080">80</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-h">VPlanTransforms.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-cpp/#l01606">1606</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-cpp">VPlanTransforms.cpp</a>.
</MemberDefinition>

### adjustFixedOrderRecurrences() {#ae64d6953a1334207d9e7d9cd2587ee9f}

<MemberDefinition
  prototype={<>bool VPlanTransforms::adjustFixedOrderRecurrences (<a href="/docs/api/classes/llvm/vplan">VPlan</a> &amp; Plan, <a href="/docs/api/classes/llvm/vpbuilder">VPBuilder</a> &amp; Builder)</>}
  labels = {["static"]}>
Try to have all users of fixed-order recurrences appear after the recipe defining their previous value, by either sinking users or hoisting recipes defining their previous value (and its operands).

Then introduce FirstOrderRecurrenceSplice VPInstructions to combine the value from the recurrence phis and previous values. 
<SectionUser title="Returns">
true if all users of fixed-order recurrences could be re-arranged as needed or false if it is not possible. In the latter case, <code>Plan</code> is not valid.
</SectionUser>

Declaration at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-h/#l00047">47</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-h">VPlanTransforms.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-cpp/#l01208">1208</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-cpp">VPlanTransforms.cpp</a>.
</MemberDefinition>

### clearReductionWrapFlags() {#ace9e1e6e7295914973dec18350b382ca}

<MemberDefinition
  prototype={<>void VPlanTransforms::clearReductionWrapFlags (<a href="/docs/api/classes/llvm/vplan">VPlan</a> &amp; Plan)</>}
  labels = {["static"]}>
Clear NSW/NUW flags from reduction instructions if necessary.

Declaration at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-h/#l00050">50</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-h">VPlanTransforms.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-cpp/#l01256">1256</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-cpp">VPlanTransforms.cpp</a>.
</MemberDefinition>

### convertToConcreteRecipes() {#a63e564d621011fac5978d18138121e5c}

<MemberDefinition
  prototype={<>void VPlanTransforms::convertToConcreteRecipes (<a href="/docs/api/classes/llvm/vplan">VPlan</a> &amp; Plan)</>}
  labels = {["static"]}>
Lower abstract recipes to concrete ones, that can be codegen&#39;d.

Declaration at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-h/#l00139">139</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-h">VPlanTransforms.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-cpp/#l02046">2046</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-cpp">VPlanTransforms.cpp</a>.
</MemberDefinition>

### createAndOptimizeReplicateRegions() {#a42d43068c576be2a1cd514f620246004}

<MemberDefinition
  prototype={<>void VPlanTransforms::createAndOptimizeReplicateRegions (<a href="/docs/api/classes/llvm/vplan">VPlan</a> &amp; Plan)</>}
  labels = {["static"]}>
Wrap predicated VPReplicateRecipes with a mask operand in an if-then region block and remove the mask operand.

Optimize the created regions by iteratively sinking scalar operands into the region, followed by merging regions until no improvements are remaining.

Declaration at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-h/#l00070">70</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-h">VPlanTransforms.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-cpp/#l00406">406</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-cpp">VPlanTransforms.cpp</a>.
</MemberDefinition>

### createInterleaveGroups() {#aa88371693bc18186386b04e8c45a30e4}

<MemberDefinition
  prototype={<>void VPlanTransforms::createInterleaveGroups (<a href="/docs/api/classes/llvm/vplan">VPlan</a> &amp; Plan, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/smallptrsetimpl">SmallPtrSetImpl</a>&lt; <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/interleavegroup">InterleaveGroup</a>&lt; <a href="/docs/api/classes/llvm/instruction">Instruction</a> &gt; &#42; &gt; &amp; InterleaveGroups, <a href="/docs/api/classes/llvm/vprecipebuilder">VPRecipeBuilder</a> &amp; RecipeBuilder, bool ScalarEpilogueAllowed)</>}
  labels = {["static"]}>

Declaration at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-h/#l00118">118</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-h">VPlanTransforms.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-cpp/#l01970">1970</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-cpp">VPlanTransforms.cpp</a>.
</MemberDefinition>

### dropPoisonGeneratingRecipes() {#aa0f143b8d4693978b984f0639c90e508}

<MemberDefinition
  prototype={<>void VPlanTransforms::dropPoisonGeneratingRecipes (<a href="/docs/api/classes/llvm/vplan">VPlan</a> &amp; Plan, <a href="/docs/api/classes/llvm/function-ref">function&#95;ref</a>&lt; bool(<a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42;)&gt; BlockNeedsPredication)</>}
  labels = {["static"]}>
Drop poison flags from recipes that may generate a poison value that is used after vectorization, even when their operands are not poison.

Those recipes meet the following conditions:
<ul>
<li>Contribute to the address computation of a recipe generating a widen memory load/store (VPWidenMemoryInstructionRecipe or <a href="/docs/api/classes/llvm/vpinterleaverecipe">VPInterleaveRecipe</a>).</li>
<li>Such a widen memory load/store has at least one underlying <a href="/docs/api/classes/llvm/instruction">Instruction</a> that is in a basic block that needs predication and after vectorization the generated instruction won&#39;t be predicated. Uses <code>BlockNeedsPredication</code> to check if a block needs predicating. TODO: Replace BlockNeedsPredication callback with retrieving info from <a href="/docs/api/classes/llvm/vplan">VPlan</a> directly.</li>
</ul>

Declaration at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-h/#l00102">102</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-h">VPlanTransforms.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-cpp/#l01873">1873</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-cpp">VPlanTransforms.cpp</a>.
</MemberDefinition>

### handleUncountableEarlyExit() {#ac2fcd61c17c94d7e9d10b24b718c812e}

<MemberDefinition
  prototype={<>bool VPlanTransforms::handleUncountableEarlyExit (<a href="/docs/api/classes/llvm/vplan">VPlan</a> &amp; Plan, <a href="/docs/api/classes/llvm/scalarevolution">ScalarEvolution</a> &amp; SE, <a href="/docs/api/classes/llvm/loop">Loop</a> &#42; OrigLoop, <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; UncountableExitingBlock, <a href="/docs/api/classes/llvm/vprecipebuilder">VPRecipeBuilder</a> &amp; RecipeBuilder)</>}
  labels = {["static"]}>
Update <code>Plan</code> to account for the uncountable early exit block in <code>UncountableExitingBlock</code> by.

<ul>
<li>updating the condition exiting the vector loop to include the early exit conditions</li>
<li>splitting the original middle block to branch to the early exit block if taken.</li>
</ul>

Declaration at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-h/#l00133">133</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-h">VPlanTransforms.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-cpp/#l02065">2065</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-cpp">VPlanTransforms.cpp</a>.
</MemberDefinition>

### optimize() {#ae3449b993cd1c459995c2fe13ef50892}

<MemberDefinition
  prototype={<>void VPlanTransforms::optimize (<a href="/docs/api/classes/llvm/vplan">VPlan</a> &amp; Plan)</>}
  labels = {["static"]}>
Apply VPlan-to-VPlan optimizations to <code>Plan</code>, including induction recipe optimizations, dead recipe removal, replicate region optimizations and block merging.

Declaration at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-h/#l00064">64</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-h">VPlanTransforms.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-cpp/#l01441">1441</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-cpp">VPlanTransforms.cpp</a>.
</MemberDefinition>

### optimizeForVFAndUF() {#af25d938764b8634e70e95ff3f0c35129}

<MemberDefinition
  prototype={<>void VPlanTransforms::optimizeForVFAndUF (<a href="/docs/api/classes/llvm/vplan">VPlan</a> &amp; Plan, <a href="/docs/api/classes/llvm/elementcount">ElementCount</a> BestVF, unsigned BestUF, <a href="/docs/api/classes/llvm/predicatedscalarevolution">PredicatedScalarEvolution</a> &amp; PSE)</>}
  labels = {["static"]}>
Optimize <code>Plan</code> based on <code>BestVF</code> and <code>BestUF</code>.

This may restrict the resulting plan to <code>BestVF</code> and <code>BestUF</code>.

Declaration at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-h/#l00057">57</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-h">VPlanTransforms.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-cpp/#l00978">978</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-cpp">VPlanTransforms.cpp</a>.
</MemberDefinition>

### optimizeInductionExitUsers() {#a3a573419fed83f23b6bf70ac6731dbfa}

<MemberDefinition
  prototype={<>void VPlanTransforms::optimizeInductionExitUsers (<a href="/docs/api/classes/llvm/vplan">VPlan</a> &amp; Plan, <a href="/docs/api/classes/llvm/densemap">DenseMap</a>&lt; <a href="/docs/api/classes/llvm/vpvalue">VPValue</a> &#42;, <a href="/docs/api/classes/llvm/vpvalue">VPValue</a> &#42; &gt; &amp; EndValues)</>}
  labels = {["static"]}>
If there&#39;s a single exit block, optimize its phi recipes that use exiting IV values by feeding them precomputed end values instead, possibly taken one step backwards.

Declaration at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-h/#l00145">145</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-h">VPlanTransforms.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-cpp/#l00731">731</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-cpp">VPlanTransforms.cpp</a>.
</MemberDefinition>

### removeDeadRecipes() {#aaca9dd97d4c523d8c65274654abe4eb9}

<MemberDefinition
  prototype={<>void VPlanTransforms::removeDeadRecipes (<a href="/docs/api/classes/llvm/vplan">VPlan</a> &amp; Plan)</>}
  labels = {["static"]}>
Remove dead recipes from <code>Plan</code>.

Declaration at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-h/#l00125">125</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-h">VPlanTransforms.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-cpp/#l00512">512</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-cpp">VPlanTransforms.cpp</a>.
</MemberDefinition>

### truncateToMinimalBitwidths() {#ae61793492431f138869f097a5f31bd32}

<MemberDefinition
  prototype={<>void VPlanTransforms::truncateToMinimalBitwidths (<a href="/docs/api/classes/llvm/vplan">VPlan</a> &amp; Plan, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/mapvector">MapVector</a>&lt; <a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42;, uint64&#95;t &gt; &amp; MinBWs)</>}
  labels = {["static"]}>
Insert truncates and extends for any truncated recipe.

Redundant casts will be folded later.

Declaration at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-h/#l00087">87</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-h">VPlanTransforms.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-cpp/#l01308">1308</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-cpp">VPlanTransforms.cpp</a>.
</MemberDefinition>

### tryAddExplicitVectorLength() {#ad16bff9364e25351de81704fe81fd229}

<MemberDefinition
  prototype={<>bool VPlanTransforms::tryAddExplicitVectorLength (<a href="/docs/api/classes/llvm/vplan">VPlan</a> &amp; Plan, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> std::optional&lt; unsigned &gt; &amp; MaxSafeElements)</>}
  labels = {["static"]}>
Add a <a href="/docs/api/classes/llvm/vpevlbasedivphirecipe">VPEVLBasedIVPHIRecipe</a> and related recipes to <code>Plan</code> and replaces all uses except the canonical IV increment of <a href="/docs/api/classes/llvm/vpcanonicalivphirecipe">VPCanonicalIVPHIRecipe</a> with a <a href="/docs/api/classes/llvm/vpevlbasedivphirecipe">VPEVLBasedIVPHIRecipe</a>.

<a href="/docs/api/classes/llvm/vpcanonicalivphirecipe">VPCanonicalIVPHIRecipe</a> is only used to control the loop after this transformation. 
<SectionUser title="Returns">
true if the transformation succeeds, or false if it doesn&#39;t.
</SectionUser>

<a href="/docs/api/classes/llvm/vpcanonicalivphirecipe">VPCanonicalIVPHIRecipe</a> is used only for loop iterations counting after this transformation.

The function uses the following definitions: StartV is the canonical induction start value.

The function adds the following recipes:

vector.ph: ...

vector.body: ... EVLPhi = EXPLICIT-VECTOR-LENGTH-BASED-IV-PHI &#91; StartV, vector.ph &#93;, &#91; NextEVLIV, vector.body &#93; AVL = sub original TC, EVLPhi VPEVL = EXPLICIT-VECTOR-LENGTH AVL ... NextEVLIV = add IVSize (cast i32 VPEVVL to IVSize), EVLPhi ...

If MaxSafeElements is provided, the function adds the following recipes: vector.ph: ...

vector.body: ... EVLPhi = EXPLICIT-VECTOR-LENGTH-BASED-IV-PHI &#91; StartV, vector.ph &#93;, &#91; NextEVLIV, vector.body &#93; AVL = sub original TC, EVLPhi cmp = cmp ult AVL, MaxSafeElements SAFE&#95;AVL = select cmp, AVL, MaxSafeElements VPEVL = EXPLICIT-VECTOR-LENGTH SAFE&#95;AVL ... NextEVLIV = add IVSize (cast i32 VPEVL to IVSize), EVLPhi ...

Declaration at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-h/#l00112">112</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-h">VPlanTransforms.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-cpp/#l01812">1812</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-cpp">VPlanTransforms.cpp</a>.
</MemberDefinition>

### unrollByUF() {#a7a1cca51bb9bce4efad1063dcf158967}

<MemberDefinition
  prototype={<>void VPlanTransforms::unrollByUF (<a href="/docs/api/classes/llvm/vplan">VPlan</a> &amp; Plan, unsigned UF, <a href="/docs/api/classes/llvm/llvmcontext">LLVMContext</a> &amp; Ctx)</>}
  labels = {["static"]}>
Explicitly unroll <code>Plan</code> by <code>UF</code>.

Declaration at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-h/#l00053">53</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-h">VPlanTransforms.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplanunroll-cpp/#l00391">391</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplanunroll-cpp">VPlanUnroll.cpp</a>.
</MemberDefinition>

### VPInstructionsToVPRecipes() {#ad210afaefb4884ac5008dd5fbaf1cbf8}

<MemberDefinition
  prototype={<>void VPlanTransforms::VPInstructionsToVPRecipes (<a href="/docs/api/namespaces/llvm/#aefc42f3cefc5a839ca925b4cb3ae4a7b">VPlanPtr</a> &amp; Plan, <a href="/docs/api/classes/llvm/function-ref">function&#95;ref</a>&lt; <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/inductiondescriptor">InductionDescriptor</a> &#42;(<a href="/docs/api/classes/llvm/phinode">PHINode</a> &#42;)&gt; GetIntOrFpInductionDescriptor, <a href="/docs/api/classes/llvm/scalarevolution">ScalarEvolution</a> &amp; SE, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/targetlibraryinfo">TargetLibraryInfo</a> &amp; TLI)</>}
  labels = {["static"]}>
Replaces the VPInstructions in <code>Plan</code> with corresponding widen recipes.

Declaration at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-h/#l00034">34</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-h">VPlanTransforms.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-cpp/#l00033">33</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-cpp">VPlanTransforms.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this struct was generated from the following files:

<ul>
<li><a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-cpp">VPlanTransforms.cpp</a></li>
<li><a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplantransforms-h">VPlanTransforms.h</a></li>
<li><a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplanunroll-cpp">VPlanUnroll.cpp</a></li>
</ul>

</DoxygenPage>
