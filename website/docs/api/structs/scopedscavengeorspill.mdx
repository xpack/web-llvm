---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/structs/scopedscavengeorspill
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - struct
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `ScopedScavengeOrSpill` Struct Reference

<DoxygenPage pluginConfig={pluginConfig}>

RAII helper class for scavenging or spilling a register. <a href="#details">More...</a>

## Declaration

<CodeBlock>struct ScopedScavengeOrSpill</CodeBlock>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#adfacd5d2a85958a9b5df9d5f7ff17663">ScopedScavengeOrSpill</a> (const ScopedScavengeOrSpill &amp;)=delete</>}>
</MembersIndexItem>

<MembersIndexItem
  name={<><a href="#aac3a32775ff31c5d14aa2b3a3dee1334">ScopedScavengeOrSpill</a> (ScopedScavengeOrSpill &amp;&amp;)=delete</>}>
</MembersIndexItem>

<MembersIndexItem
  name={<><a href="#ab0ac2a9aa1075f3e566bf2e74dafa8b7">ScopedScavengeOrSpill</a> (MachineFunction &amp;MF, MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator MBBI, Register SpillCandidate, const TargetRegisterClass &amp;RC, LiveRegUnits const &amp;UsedRegs, BitVector const &amp;AllocatableRegs, std::optional&lt; int &gt; &#42;MaybeSpillFI, Register PreferredReg=AArch64::NoRegister)</>}>
</MembersIndexItem>

</MembersIndex>

## Public Destructor Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#ae1cc730fd485ab330afad97706ccd60d">~ScopedScavengeOrSpill</a> ()</>}>
</MembersIndexItem>

</MembersIndex>

## Public Operators Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/register">Register</a></>}
  name={<><a href="#a660520e1be66e9c3984a7436f603a097">operator&#42;</a> () const</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/register">Register</a></>}
  name={<><a href="#abe1f406480c00f5d1bb60b58ed1160b8">freeRegister</a> () const</>}>
Returns the free register (found from scavenging or spilling a register). <a href="#abe1f406480c00f5d1bb60b58ed1160b8">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#ad30f76caa0e7bdd7674c769947996c34">hasSpilled</a> () const</>}>
</MembersIndexItem>

</MembersIndex>

## Private Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/register">Register</a></>}
  name={<><a href="#a75a1f5f9c8a0e45cf2138664831a3323">FreeReg</a> = AArch64::NoRegister</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &amp;</>}
  name={<><a href="#abef9ac6b8d7f243b110f4fa0832b6803">MBB</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machinebasicblock/#ae34c996b58df9b9ce6695a0c8b70c533">MachineBasicBlock::iterator</a></>}
  name={<><a href="#a595ee143df640e0ed99c98106b6158fb">MBBI</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/targetregisterclass">TargetRegisterClass</a> &amp;</>}
  name={<><a href="#ac96f05fa4f32a71d965b1d23486d8eca">RC</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::optional&lt; int &gt;</>}
  name={<><a href="#adab9a89ecef96b9af9c9937b5013703f">SpillFI</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/aarch64instrinfo">AArch64InstrInfo</a> &amp;</>}
  name={<><a href="#ac89d4e54b7215cb238b02d2ffb22608a">TII</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/targetregisterinfo">TargetRegisterInfo</a> &amp;</>}
  name={<><a href="#a892823dde64c6c6e37b95d7c6ab04b84">TRI</a></>}>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

RAII helper class for scavenging or spilling a register.

On construction attempts to find a free register of class <code>RC</code> (given <code>UsedRegs</code> and <code>AllocatableRegs</code>), if no register can be found spills <code>SpillCandidate</code> to <code>MaybeSpillFI</code> to free a register. The free&#39;d register is returned via the <code>FreeReg</code> output parameter. On destruction, if there is a spill, its previous value is reloaded. The spilling and scavenging is only valid at the insertion point <code>MBBI</code>, this class should <em>not</em> be used in places that create or manipulate basic blocks, moving the expected insertion point.

Definition at line 4209 of file <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64framelowering-cpp">AArch64FrameLowering.cpp</a>.

<SectionDefinition>

## Public Constructors

### ScopedScavengeOrSpill() {#adfacd5d2a85958a9b5df9d5f7ff17663}

<MemberDefinition
  prototype={<>ScopedScavengeOrSpill::ScopedScavengeOrSpill (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/structs/scopedscavengeorspill">ScopedScavengeOrSpill</a> &amp;)</>}
  labels = {["delete"]}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64framelowering-cpp/#l04210">4210</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64framelowering-cpp">AArch64FrameLowering.cpp</a>.
</MemberDefinition>

### ScopedScavengeOrSpill() {#aac3a32775ff31c5d14aa2b3a3dee1334}

<MemberDefinition
  prototype={<>ScopedScavengeOrSpill::ScopedScavengeOrSpill (<a href="/docs/api/structs/scopedscavengeorspill">ScopedScavengeOrSpill</a> &amp;&amp;)</>}
  labels = {["delete"]}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64framelowering-cpp/#l04211">4211</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64framelowering-cpp">AArch64FrameLowering.cpp</a>.
</MemberDefinition>

### ScopedScavengeOrSpill() {#ab0ac2a9aa1075f3e566bf2e74dafa8b7}

<MemberDefinition
  prototype={<>ScopedScavengeOrSpill::ScopedScavengeOrSpill (<a href="/docs/api/classes/llvm/machinefunction">MachineFunction</a> &amp; MF, <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &amp; MBB, <a href="/docs/api/classes/llvm/machinebasicblock/#ae34c996b58df9b9ce6695a0c8b70c533">MachineBasicBlock::iterator</a> MBBI, <a href="/docs/api/classes/llvm/register">Register</a> SpillCandidate, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/targetregisterclass">TargetRegisterClass</a> &amp; RC, <a href="/docs/api/classes/llvm/liveregunits">LiveRegUnits</a> <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> &amp; UsedRegs, <a href="/docs/api/classes/llvm/bitvector">BitVector</a> <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> &amp; AllocatableRegs, std::optional&lt; int &gt; &#42; MaybeSpillFI, <a href="/docs/api/classes/llvm/register">Register</a> PreferredReg=AArch64::NoRegister)</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64framelowering-cpp/#l04213">4213</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64framelowering-cpp">AArch64FrameLowering.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Destructor

### ~ScopedScavengeOrSpill() {#ae1cc730fd485ab330afad97706ccd60d}

<MemberDefinition
  prototype="ScopedScavengeOrSpill::~ScopedScavengeOrSpill ()"
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64framelowering-cpp/#l04246">4246</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64framelowering-cpp">AArch64FrameLowering.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Operators

### operator&#42;() {#a660520e1be66e9c3984a7436f603a097}

<MemberDefinition
  prototype={<>Register ScopedScavengeOrSpill::operator&#42; () const</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64framelowering-cpp/#l04244">4244</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64framelowering-cpp">AArch64FrameLowering.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### freeRegister() {#abe1f406480c00f5d1bb60b58ed1160b8}

<MemberDefinition
  prototype="Register ScopedScavengeOrSpill::freeRegister () const"
  labels = {["inline"]}>
Returns the free register (found from scavenging or spilling a register).

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64framelowering-cpp/#l04242">4242</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64framelowering-cpp">AArch64FrameLowering.cpp</a>.
</MemberDefinition>

### hasSpilled() {#ad30f76caa0e7bdd7674c769947996c34}

<MemberDefinition
  prototype="bool ScopedScavengeOrSpill::hasSpilled () const"
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64framelowering-cpp/#l04239">4239</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64framelowering-cpp">AArch64FrameLowering.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Attributes

### FreeReg {#a75a1f5f9c8a0e45cf2138664831a3323}

<MemberDefinition
  prototype="Register ScopedScavengeOrSpill::FreeReg = AArch64::NoRegister">

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64framelowering-cpp/#l04258">4258</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64framelowering-cpp">AArch64FrameLowering.cpp</a>.
</MemberDefinition>

### MBB {#abef9ac6b8d7f243b110f4fa0832b6803}

<MemberDefinition
  prototype={<>MachineBasicBlock&amp; ScopedScavengeOrSpill::MBB</>}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64framelowering-cpp/#l04253">4253</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64framelowering-cpp">AArch64FrameLowering.cpp</a>.
</MemberDefinition>

### MBBI {#a595ee143df640e0ed99c98106b6158fb}

<MemberDefinition
  prototype="MachineBasicBlock::iterator ScopedScavengeOrSpill::MBBI">

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64framelowering-cpp/#l04254">4254</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64framelowering-cpp">AArch64FrameLowering.cpp</a>.
</MemberDefinition>

### RC {#ac96f05fa4f32a71d965b1d23486d8eca}

<MemberDefinition
  prototype={<>const TargetRegisterClass&amp; ScopedScavengeOrSpill::RC</>}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64framelowering-cpp/#l04255">4255</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64framelowering-cpp">AArch64FrameLowering.cpp</a>.
</MemberDefinition>

### SpillFI {#adab9a89ecef96b9af9c9937b5013703f}

<MemberDefinition
  prototype={<>std::optional&lt;int&gt; ScopedScavengeOrSpill::SpillFI</>}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64framelowering-cpp/#l04259">4259</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64framelowering-cpp">AArch64FrameLowering.cpp</a>.
</MemberDefinition>

### TII {#ac89d4e54b7215cb238b02d2ffb22608a}

<MemberDefinition
  prototype={<>const AArch64InstrInfo&amp; ScopedScavengeOrSpill::TII</>}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64framelowering-cpp/#l04256">4256</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64framelowering-cpp">AArch64FrameLowering.cpp</a>.
</MemberDefinition>

### TRI {#a892823dde64c6c6e37b95d7c6ab04b84}

<MemberDefinition
  prototype={<>const TargetRegisterInfo&amp; ScopedScavengeOrSpill::TRI</>}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64framelowering-cpp/#l04257">4257</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64framelowering-cpp">AArch64FrameLowering.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this struct was generated from the following file:

<ul>
<li><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64framelowering-cpp">AArch64FrameLowering.cpp</a></li>
</ul>

</DoxygenPage>
