---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/llvm/jitlink/simplesegmentalloc
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `SimpleSegmentAlloc` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>

A utility class for making simple allocations using <a href="/docs/api/classes/llvm/jitlink/jitlinkmemorymanager">JITLinkMemoryManager</a>. <a href="#details">More...</a>

## Declaration

<CodeBlock>class llvm::jitlink::SimpleSegmentAlloc</CodeBlock>

## Included Headers

<IncludesList>
<IncludesListItem
  filePath="llvm/ExecutionEngine/JITLink/JITLinkMemoryManager.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/jitlink/jitlinkmemorymanager-h"
  isLocal="true" />
</IncludesList>

## Public Member Typedefs Index

<MembersIndex>

<MembersIndexItem
  type="using"
  name={<><a href="#a0f06a1a50c4eb5055872d0b42d76e30b">OnCreatedFunction</a> = <a href="/docs/api/classes/llvm/unique-function">unique&#95;function</a>&lt; void(<a href="/docs/api/classes/llvm/expected">Expected</a>&lt; <a href="/docs/api/classes/llvm/jitlink/simplesegmentalloc">SimpleSegmentAlloc</a> &gt;)&gt;</>}>
</MembersIndexItem>

<MembersIndexItem
  type="using"
  name={<><a href="#ace95e4355009b30f6a27f1f6620c918e">OnFinalizedFunction</a> = <a href="/docs/api/classes/llvm/jitlink/jitlinkmemorymanager/inflightalloc/#a9f4c74c3c51697683582571ffc39d987">JITLinkMemoryManager::InFlightAlloc::OnFinalizedFunction</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type="using"
  name={<><a href="#a3147b243840cb4b37b95e54b6fdd3752">SegmentMap</a> = <a href="/docs/api/classes/llvm/orc/allocgroupsmallmap">orc::AllocGroupSmallMap</a>&lt; <a href="/docs/api/structs/llvm/jitlink/simplesegmentalloc/segment">Segment</a> &gt;</>}>
</MembersIndexItem>

</MembersIndex>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a42a424c4ae4bacccb54f2db883913ca5">SimpleSegmentAlloc</a> (SimpleSegmentAlloc &amp;&amp;)</>}>
</MembersIndexItem>

</MembersIndex>

## Private Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a6065b087d1d76f2a5e4b69417d57e3f6">SimpleSegmentAlloc</a> (std::unique&#95;ptr&lt; LinkGraph &gt; G, orc::AllocGroupSmallMap&lt; Block &#42; &gt; ContentBlocks, std::unique&#95;ptr&lt; JITLinkMemoryManager::InFlightAlloc &gt; Alloc)</>}>
</MembersIndexItem>

</MembersIndex>

## Public Destructor Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a13145382e3f2f7dd99d29c3141acd76f">~SimpleSegmentAlloc</a> ()</>}>
</MembersIndexItem>

</MembersIndex>

## Public Operators Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/jitlink/simplesegmentalloc">SimpleSegmentAlloc</a> &amp;</>}
  name={<><a href="#ac5b53a12244c52652e2bc294fbacd895">operator=</a> (SimpleSegmentAlloc &amp;&amp;)</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="void"
  name={<><a href="#ab6b4624e12cdd49cc93d0d6b60c7cfb4">finalize</a> (OnFinalizedFunction OnFinalized)</>}>
Finalize all groups (async version). <a href="#ab6b4624e12cdd49cc93d0d6b60c7cfb4">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/expected">Expected</a>&lt; <a href="/docs/api/classes/llvm/jitlink/jitlinkmemorymanager/finalizedalloc">JITLinkMemoryManager::FinalizedAlloc</a> &gt;</>}
  name={<><a href="#abc91670286d4acd67bd9d4feead5589f">finalize</a> ()</>}>
Finalize all groups. <a href="#abc91670286d4acd67bd9d4feead5589f">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/structs/llvm/jitlink/simplesegmentalloc/segmentinfo">SegmentInfo</a></>}
  name={<><a href="#a462c3faf914047b9fd2c53016d3b9fdd">getSegInfo</a> (orc::AllocGroup AG)</>}>
Returns the <a href="/docs/api/structs/llvm/jitlink/simplesegmentalloc/segmentinfo">SegmentInfo</a> for the given group. <a href="#a462c3faf914047b9fd2c53016d3b9fdd">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<>std::unique&#95;ptr&lt; <a href="/docs/api/classes/llvm/jitlink/jitlinkmemorymanager/inflightalloc">JITLinkMemoryManager::InFlightAlloc</a> &gt;</>}
  name={<><a href="#acafff9167791fb2ec55dac628eee976a">Alloc</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/orc/allocgroupsmallmap">orc::AllocGroupSmallMap</a>&lt; <a href="/docs/api/classes/llvm/jitlink/block">Block</a> &#42; &gt;</>}
  name={<><a href="#a23033764698b220cb65b58594d81c3a6">ContentBlocks</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::unique&#95;ptr&lt; <a href="/docs/api/classes/llvm/jitlink/linkgraph">LinkGraph</a> &gt;</>}
  name={<><a href="#a035bda389b5f68b04f4751a1d32d1454">G</a></>}>
</MembersIndexItem>

</MembersIndex>

## Public Static Functions Index

<MembersIndex>

<MembersIndexItem
  type="void"
  name={<><a href="#afd606b508cfbab129894d4b176cad942">Create</a> (JITLinkMemoryManager &amp;MemMgr, std::shared&#95;ptr&lt; orc::SymbolStringPool &gt; SSP, Triple TT, const JITLinkDylib &#42;JD, SegmentMap Segments, OnCreatedFunction OnCreated)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/expected">Expected</a>&lt; <a href="/docs/api/classes/llvm/jitlink/simplesegmentalloc">SimpleSegmentAlloc</a> &gt;</>}
  name={<><a href="#ad376807f723fb4ebba270ae95c6c41ff">Create</a> (JITLinkMemoryManager &amp;MemMgr, std::shared&#95;ptr&lt; orc::SymbolStringPool &gt; SSP, Triple TT, const JITLinkDylib &#42;JD, SegmentMap Segments)</>}>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

A utility class for making simple allocations using <a href="/docs/api/classes/llvm/jitlink/jitlinkmemorymanager">JITLinkMemoryManager</a>.

SimpleSegementAlloc takes a mapping of AllocGroups to Segments and uses this to create a <a href="/docs/api/classes/llvm/jitlink/linkgraph">LinkGraph</a> with one <a href="/docs/api/classes/llvm/jitlink/section">Section</a> (containing one <a href="/docs/api/classes/llvm/jitlink/block">Block</a>) per <a href="/docs/api/structs/llvm/jitlink/simplesegmentalloc/segment">Segment</a>. Clients can obtain a pointer to the working memory and executor address of that block using the <a href="/docs/api/structs/llvm/jitlink/simplesegmentalloc/segment">Segment</a>&#39;s AllocGroup. Once memory has been populated, clients can call finalize to finalize the memory.

Note: Segments with MemLifetime::NoAlloc are not permitted, since they would not be useful, and their presence is likely to indicate a bug.

Definition at line 300 of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/jitlink/jitlinkmemorymanager-h">JITLinkMemoryManager.h</a>.

<SectionDefinition>

## Public Member Typedefs

### OnCreatedFunction {#a0f06a1a50c4eb5055872d0b42d76e30b}

<MemberDefinition
  prototype={<>using llvm::jitlink::SimpleSegmentAlloc::OnCreatedFunction =  unique&#95;function&lt;void(Expected&lt;SimpleSegmentAlloc&gt;)&gt;</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/jitlink/jitlinkmemorymanager-h/#l00320">320</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/jitlink/jitlinkmemorymanager-h">JITLinkMemoryManager.h</a>.
</MemberDefinition>

### OnFinalizedFunction {#ace95e4355009b30f6a27f1f6620c918e}

<MemberDefinition
  prototype="using llvm::jitlink::SimpleSegmentAlloc::OnFinalizedFunction = 
      JITLinkMemoryManager::InFlightAlloc::OnFinalizedFunction">

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/jitlink/jitlinkmemorymanager-h/#l00322">322</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/jitlink/jitlinkmemorymanager-h">JITLinkMemoryManager.h</a>.
</MemberDefinition>

### SegmentMap {#a3147b243840cb4b37b95e54b6fdd3752}

<MemberDefinition
  prototype={<>using llvm::jitlink::SimpleSegmentAlloc::SegmentMap =  orc::AllocGroupSmallMap&lt;Segment&gt;</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/jitlink/jitlinkmemorymanager-h/#l00318">318</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/jitlink/jitlinkmemorymanager-h">JITLinkMemoryManager.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Constructors

### SimpleSegmentAlloc() {#a42a424c4ae4bacccb54f2db883913ca5}

<MemberDefinition
  prototype={<>llvm::jitlink::SimpleSegmentAlloc::SimpleSegmentAlloc (<a href="/docs/api/classes/llvm/jitlink/simplesegmentalloc">SimpleSegmentAlloc</a> &amp;&amp;)</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/jitlink/jitlinkmemorymanager-h/#l00335">335</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/jitlink/jitlinkmemorymanager-h">JITLinkMemoryManager.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Constructors

### SimpleSegmentAlloc() {#a6065b087d1d76f2a5e4b69417d57e3f6}

<MemberDefinition
  prototype={<>llvm::jitlink::SimpleSegmentAlloc::SimpleSegmentAlloc (std::unique&#95;ptr&lt; <a href="/docs/api/classes/llvm/jitlink/linkgraph">LinkGraph</a> &gt; G, <a href="/docs/api/classes/llvm/orc/allocgroupsmallmap">orc::AllocGroupSmallMap</a>&lt; <a href="/docs/api/classes/llvm/jitlink/block">Block</a> &#42; &gt; ContentBlocks, std::unique&#95;ptr&lt; <a href="/docs/api/classes/llvm/jitlink/jitlinkmemorymanager/inflightalloc">JITLinkMemoryManager::InFlightAlloc</a> &gt; Alloc)</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/jitlink/jitlinkmemorymanager-h/#l00353">353</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/jitlink/jitlinkmemorymanager-h">JITLinkMemoryManager.h</a>, definition at line <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/jitlink/jitlinkmemorymanager-cpp/#l00233">233</a> of file <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/jitlink/jitlinkmemorymanager-cpp">JITLinkMemoryManager.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Destructor

### ~SimpleSegmentAlloc() {#a13145382e3f2f7dd99d29c3141acd76f}

<MemberDefinition
  prototype="llvm::jitlink::SimpleSegmentAlloc::~SimpleSegmentAlloc ()">

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/jitlink/jitlinkmemorymanager-h/#l00337">337</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/jitlink/jitlinkmemorymanager-h">JITLinkMemoryManager.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Operators

### operator=() {#ac5b53a12244c52652e2bc294fbacd895}

<MemberDefinition
  prototype={<>SimpleSegmentAlloc &amp; llvm::jitlink::SimpleSegmentAlloc::operator= (<a href="/docs/api/classes/llvm/jitlink/simplesegmentalloc">SimpleSegmentAlloc</a> &amp;&amp;)</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/jitlink/jitlinkmemorymanager-h/#l00336">336</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/jitlink/jitlinkmemorymanager-h">JITLinkMemoryManager.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### finalize() {#ab6b4624e12cdd49cc93d0d6b60c7cfb4}

<MemberDefinition
  prototype={<>void llvm::jitlink::SimpleSegmentAlloc::finalize (<a href="#ace95e4355009b30f6a27f1f6620c918e">OnFinalizedFunction</a> OnFinalized)</>}
  labels = {["inline"]}>
Finalize all groups (async version).

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/jitlink/jitlinkmemorymanager-h/#l00343">343</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/jitlink/jitlinkmemorymanager-h">JITLinkMemoryManager.h</a>.
</MemberDefinition>

### finalize() {#abc91670286d4acd67bd9d4feead5589f}

<MemberDefinition
  prototype={<>Expected&lt; JITLinkMemoryManager::FinalizedAlloc &gt; llvm::jitlink::SimpleSegmentAlloc::finalize ()</>}
  labels = {["inline"]}>
Finalize all groups.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/jitlink/jitlinkmemorymanager-h/#l00348">348</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/jitlink/jitlinkmemorymanager-h">JITLinkMemoryManager.h</a>.
</MemberDefinition>

### getSegInfo() {#a462c3faf914047b9fd2c53016d3b9fdd}

<MemberDefinition
  prototype={<>SimpleSegmentAlloc::SegmentInfo llvm::jitlink::SimpleSegmentAlloc::getSegInfo (<a href="/docs/api/classes/llvm/orc/allocgroup">orc::AllocGroup</a> AG)</>}>
Returns the <a href="/docs/api/structs/llvm/jitlink/simplesegmentalloc/segmentinfo">SegmentInfo</a> for the given group.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/jitlink/jitlinkmemorymanager-h/#l00340">340</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/jitlink/jitlinkmemorymanager-h">JITLinkMemoryManager.h</a>, definition at line <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/jitlink/jitlinkmemorymanager-cpp/#l00224">224</a> of file <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/jitlink/jitlinkmemorymanager-cpp">JITLinkMemoryManager.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Attributes

### Alloc {#acafff9167791fb2ec55dac628eee976a}

<MemberDefinition
  prototype={<>std::unique&#95;ptr&lt;JITLinkMemoryManager::InFlightAlloc&gt; llvm::jitlink::SimpleSegmentAlloc::Alloc</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/jitlink/jitlinkmemorymanager-h/#l00360">360</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/jitlink/jitlinkmemorymanager-h">JITLinkMemoryManager.h</a>.
</MemberDefinition>

### ContentBlocks {#a23033764698b220cb65b58594d81c3a6}

<MemberDefinition
  prototype={<>orc::AllocGroupSmallMap&lt;Block &#42;&gt; llvm::jitlink::SimpleSegmentAlloc::ContentBlocks</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/jitlink/jitlinkmemorymanager-h/#l00359">359</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/jitlink/jitlinkmemorymanager-h">JITLinkMemoryManager.h</a>.
</MemberDefinition>

### G {#a035bda389b5f68b04f4751a1d32d1454}

<MemberDefinition
  prototype={<>std::unique&#95;ptr&lt;LinkGraph&gt; llvm::jitlink::SimpleSegmentAlloc::G</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/jitlink/jitlinkmemorymanager-h/#l00358">358</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/jitlink/jitlinkmemorymanager-h">JITLinkMemoryManager.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Static Functions

### Create() {#afd606b508cfbab129894d4b176cad942}

<MemberDefinition
  prototype={<>void llvm::jitlink::SimpleSegmentAlloc::Create (<a href="/docs/api/classes/llvm/jitlink/jitlinkmemorymanager">JITLinkMemoryManager</a> &amp; MemMgr, std::shared&#95;ptr&lt; <a href="/docs/api/classes/llvm/orc/symbolstringpool">orc::SymbolStringPool</a> &gt; SSP, <a href="/docs/api/classes/llvm/triple">Triple</a> TT, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/jitlink/jitlinkdylib">JITLinkDylib</a> &#42; JD, <a href="#a3147b243840cb4b37b95e54b6fdd3752">SegmentMap</a> Segments, <a href="#a0f06a1a50c4eb5055872d0b42d76e30b">OnCreatedFunction</a> OnCreated)</>}
  labels = {["static"]}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/jitlink/jitlinkmemorymanager-h/#l00325">325</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/jitlink/jitlinkmemorymanager-h">JITLinkMemoryManager.h</a>, definition at line <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/jitlink/jitlinkmemorymanager-cpp/#l00146">146</a> of file <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/jitlink/jitlinkmemorymanager-cpp">JITLinkMemoryManager.cpp</a>.
</MemberDefinition>

### Create() {#ad376807f723fb4ebba270ae95c6c41ff}

<MemberDefinition
  prototype={<>Expected&lt; SimpleSegmentAlloc &gt; llvm::jitlink::SimpleSegmentAlloc::Create (<a href="/docs/api/classes/llvm/jitlink/jitlinkmemorymanager">JITLinkMemoryManager</a> &amp; MemMgr, std::shared&#95;ptr&lt; <a href="/docs/api/classes/llvm/orc/symbolstringpool">orc::SymbolStringPool</a> &gt; SSP, <a href="/docs/api/classes/llvm/triple">Triple</a> TT, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/jitlink/jitlinkdylib">JITLinkDylib</a> &#42; JD, <a href="#a3147b243840cb4b37b95e54b6fdd3752">SegmentMap</a> Segments)</>}
  labels = {["static"]}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/jitlink/jitlinkmemorymanager-h/#l00331">331</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/jitlink/jitlinkmemorymanager-h">JITLinkMemoryManager.h</a>, definition at line <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/jitlink/jitlinkmemorymanager-cpp/#l00206">206</a> of file <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/jitlink/jitlinkmemorymanager-cpp">JITLinkMemoryManager.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following files:

<ul>
<li><a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/jitlink/jitlinkmemorymanager-h">JITLinkMemoryManager.h</a></li>
<li><a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/jitlink/jitlinkmemorymanager-cpp">JITLinkMemoryManager.cpp</a></li>
</ul>

</DoxygenPage>
