---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/llvm/loopsafetyinfo
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `LoopSafetyInfo` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>

Captures loop safety information. <a href="#details">More...</a>

## Declaration

<CodeBlock>class llvm::LoopSafetyInfo</CodeBlock>

## Included Headers

<IncludesList>
<IncludesListItem
  filePath="llvm/Analysis/MustExecute.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/analysis/mustexecute-h"
  isLocal="true" />
</IncludesList>

## Derived Classes

<MembersIndex>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/icfloopsafetyinfo">ICFLoopSafetyInfo</a></>}>
This implementation of <a href="/docs/api/classes/llvm/loopsafetyinfo">LoopSafetyInfo</a> use <a href="/docs/api/classes/llvm/implicitcontrolflowtracking">ImplicitControlFlowTracking</a> to give precise answers on &quot;may throw&quot; queries. <a href="/docs/api/classes/llvm/icfloopsafetyinfo/#details">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/simpleloopsafetyinfo">SimpleLoopSafetyInfo</a></>}>
Simple and conservative implementation of <a href="/docs/api/classes/llvm/loopsafetyinfo">LoopSafetyInfo</a> that can give false-positive answers to its queries in order to avoid complicated analysis. <a href="/docs/api/classes/llvm/simpleloopsafetyinfo/#details">More...</a>
</MembersIndexItem>

</MembersIndex>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a8a46d5a4ac22dd8e4fbf73baf09b8604">LoopSafetyInfo</a> ()=default</>}>
</MembersIndexItem>

</MembersIndex>

## Public Destructor Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a71414d3ccc11952290cb262cec31002d">~LoopSafetyInfo</a> ()=default</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="bool"
  name={<><a href="#a0937bbe895c7ed05d32c861b0f9e0f97">allLoopPathsLeadToBlock</a> (const Loop &#42;CurLoop, const BasicBlock &#42;BB, const DominatorTree &#42;DT) const</>}>
Return true if we must reach the block <code>BB</code> under assumption that the loop <code>CurLoop</code> is entered. <a href="#a0937bbe895c7ed05d32c861b0f9e0f97">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#aa87fa01b567c2d2ffb10b35694d4b433">anyBlockMayThrow</a> () const =0</>}>
Returns true iff any block of the loop for which this info is contains an instruction that may throw or otherwise exit abnormally. <a href="#aa87fa01b567c2d2ffb10b35694d4b433">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#ab623b40ea927ce3e3bfd057cf6fb0405">blockMayThrow</a> (const BasicBlock &#42;BB) const =0</>}>
Returns true iff the block <code>BB</code> potentially may throw exception. <a href="#ab623b40ea927ce3e3bfd057cf6fb0405">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a74d48d7ac755dcadfb57396933314978">computeLoopSafetyInfo</a> (const Loop &#42;CurLoop)=0</>}>
Computes safety information for a loop checks loop body &amp; header for the possibility of may throw exception, it takes <a href="/docs/api/classes/llvm/loopsafetyinfo">LoopSafetyInfo</a> and loop as argument. <a href="#a74d48d7ac755dcadfb57396933314978">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a0df7330d9f0c855c85a81c0fcf8844a7">copyColors</a> (BasicBlock &#42;New, BasicBlock &#42;Old)</>}>
Copy colors of block <code>Old</code> into the block <code>New</code>. <a href="#a0df7330d9f0c855c85a81c0fcf8844a7">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/densemap">DenseMap</a>&lt; <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42;, <a href="/docs/api/namespaces/llvm/#ac16c24df0637600996c9c6081da170a2">ColorVector</a> &gt; &amp;</>}
  name={<><a href="#a59204639c099ab5d774e8f5cf929ed9d">getBlockColors</a> () const</>}>
Returns block colors map that is used to update funclet operand bundles. <a href="#a59204639c099ab5d774e8f5cf929ed9d">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#ade3159656909189106a047b76935827b">isGuaranteedToExecute</a> (const Instruction &amp;Inst, const DominatorTree &#42;DT, const Loop &#42;CurLoop) const =0</>}>
Returns true if the instruction in a loop is guaranteed to execute at least once (under the assumption that the loop is entered). <a href="#ade3159656909189106a047b76935827b">More...</a>
</MembersIndexItem>

</MembersIndex>

## Protected Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="void"
  name={<><a href="#a183e3a3a68925c5689cd2149c940f59e">computeBlockColors</a> (const Loop &#42;CurLoop)</>}>
Computes block colors. <a href="#a183e3a3a68925c5689cd2149c940f59e">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/densemap">DenseMap</a>&lt; <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42;, <a href="/docs/api/namespaces/llvm/#ac16c24df0637600996c9c6081da170a2">ColorVector</a> &gt;</>}
  name={<><a href="#aa9688dba548ebc28d23f3b1101b9cfbd">BlockColors</a></>}>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

Captures loop safety information.

It keep information for loop blocks may throw exception or otherwise exit abnormally on any iteration of the loop which might actually execute at runtime. The primary way to consume this information is via isGuaranteedToExecute below, but some callers bailout or fallback to alternate reasoning if a loop contains any implicit control flow. NOTE: <a href="/docs/api/classes/llvm/loopsafetyinfo">LoopSafetyInfo</a> contains cached information regarding loops and their particular blocks. This information is only dropped on invocation of computeLoopSafetyInfo. If the loop or any of its block is deleted, or if any thrower instructions have been added or removed from them, or if the control flow has changed, or in case of other meaningful modifications, the <a href="/docs/api/classes/llvm/loopsafetyinfo">LoopSafetyInfo</a> needs to be recomputed. If a meaningful modifications to the loop were made and the info wasn&#39;t recomputed properly, the behavior of all methods except for computeLoopSafetyInfo is undefined.

Definition at line 59 of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/mustexecute-h">MustExecute.h</a>.

<SectionDefinition>

## Public Constructors

### LoopSafetyInfo() {#a8a46d5a4ac22dd8e4fbf73baf09b8604}

<MemberDefinition
  prototype="llvm::LoopSafetyInfo::LoopSafetyInfo ()"
  labels = {["default"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/mustexecute-h/#l00100">100</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/mustexecute-h">MustExecute.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Destructor

### ~LoopSafetyInfo() {#a71414d3ccc11952290cb262cec31002d}

<MemberDefinition
  prototype="virtual llvm::LoopSafetyInfo::~LoopSafetyInfo ()"
  labels = {["virtual", "default"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/mustexecute-h/#l00102">102</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/mustexecute-h">MustExecute.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### allLoopPathsLeadToBlock() {#a0937bbe895c7ed05d32c861b0f9e0f97}

<MemberDefinition
  prototype={<>bool LoopSafetyInfo::allLoopPathsLeadToBlock (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/loop">Loop</a> &#42; CurLoop, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; BB, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/dominatortree">DominatorTree</a> &#42; DT) const</>}>
Return true if we must reach the block <code>BB</code> under assumption that the loop <code>CurLoop</code> is entered.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/mustexecute-h/#l00084">84</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/mustexecute-h">MustExecute.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/mustexecute-cpp/#l00198">198</a> of file <a href="/docs/api/files/lib/lib/analysis/mustexecute-cpp">MustExecute.cpp</a>.
</MemberDefinition>

### anyBlockMayThrow() {#aa87fa01b567c2d2ffb10b35694d4b433}

<MemberDefinition
  prototype="virtual bool llvm::LoopSafetyInfo::anyBlockMayThrow () const">
Returns true iff any block of the loop for which this info is contains an instruction that may throw or otherwise exit abnormally.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/mustexecute-h/#l00080">80</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/mustexecute-h">MustExecute.h</a>.
</MemberDefinition>

### blockMayThrow() {#ab623b40ea927ce3e3bfd057cf6fb0405}

<MemberDefinition
  prototype={<>virtual bool llvm::LoopSafetyInfo::blockMayThrow (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; BB) const</>}>
Returns true iff the block <code>BB</code> potentially may throw exception.

It can be false-positive in cases when we want to avoid complex analysis.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/mustexecute-h/#l00076">76</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/mustexecute-h">MustExecute.h</a>.
</MemberDefinition>

### computeLoopSafetyInfo() {#a74d48d7ac755dcadfb57396933314978}

<MemberDefinition
  prototype={<>virtual void llvm::LoopSafetyInfo::computeLoopSafetyInfo (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/loop">Loop</a> &#42; CurLoop)</>}>
Computes safety information for a loop checks loop body &amp; header for the possibility of may throw exception, it takes <a href="/docs/api/classes/llvm/loopsafetyinfo">LoopSafetyInfo</a> and loop as argument.

Updates safety information in <a href="/docs/api/classes/llvm/loopsafetyinfo">LoopSafetyInfo</a> argument. Note: This is defined to clear and reinitialize an already initialized <a href="/docs/api/classes/llvm/loopsafetyinfo">LoopSafetyInfo</a>. Some callers rely on this fact.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/mustexecute-h/#l00092">92</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/mustexecute-h">MustExecute.h</a>.
</MemberDefinition>

### copyColors() {#a0df7330d9f0c855c85a81c0fcf8844a7}

<MemberDefinition
  prototype={<>void LoopSafetyInfo::copyColors (<a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; New, <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; Old)</>}>
Copy colors of block <code>Old</code> into the block <code>New</code>.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/mustexecute-h/#l00072">72</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/mustexecute-h">MustExecute.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/mustexecute-cpp/#l00034">34</a> of file <a href="/docs/api/files/lib/lib/analysis/mustexecute-cpp">MustExecute.cpp</a>.
</MemberDefinition>

### getBlockColors() {#a59204639c099ab5d774e8f5cf929ed9d}

<MemberDefinition
  prototype={<>const DenseMap&lt; BasicBlock &#42;, ColorVector &gt; &amp; LoopSafetyInfo::getBlockColors () const</>}>
Returns block colors map that is used to update funclet operand bundles.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/mustexecute-h/#l00069">69</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/mustexecute-h">MustExecute.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/mustexecute-cpp/#l00030">30</a> of file <a href="/docs/api/files/lib/lib/analysis/mustexecute-cpp">MustExecute.cpp</a>.
</MemberDefinition>

### isGuaranteedToExecute() {#ade3159656909189106a047b76935827b}

<MemberDefinition
  prototype={<>virtual bool llvm::LoopSafetyInfo::isGuaranteedToExecute (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/instruction">Instruction</a> &amp; Inst, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/dominatortree">DominatorTree</a> &#42; DT, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/loop">Loop</a> &#42; CurLoop) const</>}>
Returns true if the instruction in a loop is guaranteed to execute at least once (under the assumption that the loop is entered).

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/mustexecute-h/#l00096">96</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/mustexecute-h">MustExecute.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Protected Member Functions

### computeBlockColors() {#a183e3a3a68925c5689cd2149c940f59e}

<MemberDefinition
  prototype={<>void LoopSafetyInfo::computeBlockColors (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/loop">Loop</a> &#42; CurLoop)</>}
  labels = {["protected"]}>
Computes block colors.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/mustexecute-h/#l00065">65</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/mustexecute-h">MustExecute.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/mustexecute-cpp/#l00102">102</a> of file <a href="/docs/api/files/lib/lib/analysis/mustexecute-cpp">MustExecute.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Attributes

### BlockColors {#aa9688dba548ebc28d23f3b1101b9cfbd}

<MemberDefinition
  prototype={<>DenseMap&lt;BasicBlock &#42;, ColorVector&gt; llvm::LoopSafetyInfo::BlockColors</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/mustexecute-h/#l00061">61</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/mustexecute-h">MustExecute.h</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following files:

<ul>
<li><a href="/docs/api/files/include/include/llvm/include/llvm/analysis/mustexecute-h">MustExecute.h</a></li>
<li><a href="/docs/api/files/lib/lib/analysis/mustexecute-cpp">MustExecute.cpp</a></li>
</ul>

</DoxygenPage>
