---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/llvm/mipsregisterbankinfo
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import Link from '@docusaurus/Link'
import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import EnumerationList from '@xpack/docusaurus-plugin-doxygen/components/EnumerationList'
import EnumerationListItem from '@xpack/docusaurus-plugin-doxygen/components/EnumerationListItem'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'
import SectionUser from '@xpack/docusaurus-plugin-doxygen/components/SectionUser'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `MipsRegisterBankInfo` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>

This class provides the information for the target register banks. <a href="#details">More...</a>

## Declaration

<CodeBlock>class llvm::MipsRegisterBankInfo</CodeBlock>

## Included Headers

<IncludesList>
<IncludesListItem
  filePath="Target/Mips/MipsRegisterBankInfo.h"
  permalink="/docs/api/files/lib/lib/target/lib/target/mips/mipsregisterbankinfo-h"
  isLocal="true" />
</IncludesList>

## Base class

<MembersIndex>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/mipsgenregisterbankinfo">MipsGenRegisterBankInfo</a></>}>
</MembersIndexItem>

</MembersIndex>

## Enumerations Index

<MembersIndex>

<MembersIndexItem
  type="enum"
  name={<>:  &#123; <a href="#afe4c259d338c3ce26c594fcb59f892d1">...</a> &#125;</>}>
Some instructions are used with both floating point and integer operands. <a href="#afe4c259d338c3ce26c594fcb59f892d1">More...</a>
</MembersIndexItem>

</MembersIndex>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a273294b63d70a86b69742c1f4256e098">MipsRegisterBankInfo</a> (const TargetRegisterInfo &amp;TRI)</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="void"
  name={<><a href="#a1e12ed6a5b2d3f3dd790e2c48f7d7906">applyMappingImpl</a> (MachineIRBuilder &amp;Builder, const OperandsMapper &amp;OpdMapper) const override</>}>
Here we have to narrowScalar s64 operands to s32, combine away G&#95;MERGE or G&#95;UNMERGE and erase instructions that became dead in the process. <a href="#a1e12ed6a5b2d3f3dd790e2c48f7d7906">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/registerbankinfo/instructionmapping">InstructionMapping</a> &amp;</>}
  name={<><a href="#a7394a9cae0a48251b9ccaca67393ef89">getInstrMapping</a> (const MachineInstr &amp;MI) const override</>}>
Get the mapping of the different operands of <code>MI</code> on the register bank. <a href="#a7394a9cae0a48251b9ccaca67393ef89">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a381f41669927321758998407f3fe0994">setRegBank</a> (MachineInstr &amp;MI, MachineRegisterInfo &amp;MRI) const</>}>
<a href="/docs/api/classes/llvm/regbankselect">RegBankSelect</a> determined that s64 operand is better to be split into two s32 operands in gprb. <a href="#a381f41669927321758998407f3fe0994">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="bool"
  name={<><a href="#aeb330d086a22cc09631175e4bc1bc40a">isAmbiguous&#95;32</a> (InstType InstTy, unsigned OpSize) const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a77c112e015c83ddbdc6701f4a838d65f">isAmbiguous&#95;32or64</a> (InstType InstTy, unsigned OpSize) const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a48ce6ee62ad3bdea7d11090ed44b152e">isAmbiguous&#95;64</a> (InstType InstTy, unsigned OpSize) const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a1df0ad61e78d4a844eefb19ec26ef791">isAmbiguousWithMergeOrUnmerge&#95;64</a> (InstType InstTy, unsigned OpSize) const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#ae95be4c38f3628d7f7b9272cb00b4448">isFloatingPoint&#95;32or64</a> (InstType InstTy, unsigned OpSize) const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a0fc8ba74e796b08ddd1f7f32c6814a7b">isFloatingPoint&#95;64</a> (InstType InstTy, unsigned OpSize) const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#af4016fc717db22e999b0654bd9b16b1a">isInteger&#95;32</a> (InstType InstTy, unsigned OpSize) const</>}>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

This class provides the information for the target register banks.

Definition at line 31 of file <a href="/docs/api/files/lib/lib/target/lib/target/mips/mipsregisterbankinfo-h">MipsRegisterBankInfo.h</a>.

<SectionDefinition>

## Enumerations

### enum  {#afe4c259d338c3ce26c594fcb59f892d1}

<MemberDefinition
  prototype="enum llvm::MipsRegisterBankInfo::InstType ">
Some instructions are used with both floating point and integer operands.

<EnumerationList title="Enumeration values">

<Link id="afe4c259d338c3ce26c594fcb59f892d1a6ce942399586e7b8353c3342314af4c3" />
<EnumerationListItem name="NotDetermined">
Temporary type, when visit(..., nullptr) finishes will convert to one of the remaining types: Integer, FloatingPoint or Ambiguous
</EnumerationListItem>

<Link id="afe4c259d338c3ce26c594fcb59f892d1a88150d4064e8e9d47b031614ca660814" />
<EnumerationListItem name="Integer">
Connected with instruction that interprets &#39;bags of bits&#39; as integers
</EnumerationListItem>

<Link id="afe4c259d338c3ce26c594fcb59f892d1a35ff84adff2c7040ca1745867857f1b2" />
<EnumerationListItem name="FloatingPoint">
Connected with instruction that interprets &#39;bags of bits&#39; as floating point numbers
</EnumerationListItem>

<Link id="afe4c259d338c3ce26c594fcb59f892d1abef962e7691caa991a0c5c542da4b1d5" />
<EnumerationListItem name="Ambiguous">
Represents moving &#39;bags of bits&#39; around
</EnumerationListItem>

<Link id="afe4c259d338c3ce26c594fcb59f892d1a4fcc26d63de1b849edb496d4e5f4ef33" />
<EnumerationListItem name="AmbiguousWithMergeOrUnmerge">
Only used for s64
</EnumerationListItem>

</EnumerationList>

We assign InstType to such instructions as it helps us to avoid cross bank copies. InstType deppends on context.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/mips/mipsregisterbankinfo-h/#l00054">54</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/mips/mipsregisterbankinfo-h">MipsRegisterBankInfo.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Constructors

### MipsRegisterBankInfo() {#a273294b63d70a86b69742c1f4256e098}

<MemberDefinition
  prototype={<>MipsRegisterBankInfo::MipsRegisterBankInfo (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/targetregisterinfo">TargetRegisterInfo</a> &amp; TRI)</>}>

Declaration at line <a href="/docs/api/files/lib/lib/target/lib/target/mips/mipsregisterbankinfo-h/#l00033">33</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/mips/mipsregisterbankinfo-h">MipsRegisterBankInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/target/lib/target/mips/mipsregisterbankinfo-cpp/#l00076">76</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/mips/mipsregisterbankinfo-cpp">MipsRegisterBankInfo.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### applyMappingImpl() {#a1e12ed6a5b2d3f3dd790e2c48f7d7906}

<MemberDefinition
  prototype={<>void MipsRegisterBankInfo::applyMappingImpl (<a href="/docs/api/classes/llvm/machineirbuilder">MachineIRBuilder</a> &amp; Builder, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/registerbankinfo/operandsmapper">OperandsMapper</a> &amp; OpdMapper) const</>}
  labels = {["virtual"]}>
Here we have to narrowScalar s64 operands to s32, combine away G&#95;MERGE or G&#95;UNMERGE and erase instructions that became dead in the process.

We manually assign bank to def operand of all new instructions that were created in the process since they will not end up in <a href="/docs/api/classes/llvm/regbankselect">RegBankSelect</a> loop.

Declaration at line <a href="/docs/api/files/lib/lib/target/lib/target/mips/mipsregisterbankinfo-h/#l00042">42</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/mips/mipsregisterbankinfo-h">MipsRegisterBankInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/target/lib/target/mips/mipsregisterbankinfo-cpp/#l00684">684</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/mips/mipsregisterbankinfo-cpp">MipsRegisterBankInfo.cpp</a>.
</MemberDefinition>

### getInstrMapping() {#a7394a9cae0a48251b9ccaca67393ef89}

<MemberDefinition
  prototype={<>const RegisterBankInfo::InstructionMapping &amp; MipsRegisterBankInfo::getInstrMapping (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &amp; MI) const</>}
  labels = {["virtual"]}>
Get the mapping of the different operands of <code>MI</code> on the register bank.

This mapping should be the direct translation of <code>MI</code>. In other words, when <code>MI</code> is mapped with the returned mapping, only the register banks of the operands of <code>MI</code> need to be updated. In particular, neither the opcode nor the type of <code>MI</code> needs to be updated for this direct mapping.

The target independent implementation gives a mapping based on the register classes for the target specific opcode. It uses the <a href="/docs/api/namespaces/llvm/callingconv/#abdf8cf606905c10634e831390981b0ed">ID</a> <a href="/docs/api/classes/llvm/registerbankinfo/#abe7d332de484fcc6cdc4c2a5e7bdd31b">RegisterBankInfo::DefaultMappingID</a> for that mapping. Make sure you do not use that <a href="/docs/api/namespaces/llvm/callingconv/#abdf8cf606905c10634e831390981b0ed">ID</a> for the alternative mapping for MI. See getInstrAlternativeMappings for the alternative mappings.

For instance, if <code>MI</code> is a vector add, the mapping should not be a scalarization of the add.


<SectionUser title="Postcondition">
returnedVal.verify(MI).
</SectionUser>


:::info
If returnedVal does not verify MI, this would probably mean that the target does not support that instruction.
:::

Declaration at line <a href="/docs/api/files/lib/lib/target/lib/target/mips/mipsregisterbankinfo-h/#l00036">36</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/mips/mipsregisterbankinfo-h">MipsRegisterBankInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/target/lib/target/mips/mipsregisterbankinfo-cpp/#l00376">376</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/mips/mipsregisterbankinfo-cpp">MipsRegisterBankInfo.cpp</a>.
</MemberDefinition>

### setRegBank() {#a381f41669927321758998407f3fe0994}

<MemberDefinition
  prototype={<>void MipsRegisterBankInfo::setRegBank (<a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &amp; MI, <a href="/docs/api/classes/llvm/machineregisterinfo">MachineRegisterInfo</a> &amp; MRI) const</>}>
<a href="/docs/api/classes/llvm/regbankselect">RegBankSelect</a> determined that s64 operand is better to be split into two s32 operands in gprb.

Here we manually set register banks of def operands of newly created instructions since they will not get regbankselected.

Declaration at line <a href="/docs/api/files/lib/lib/target/lib/target/mips/mipsregisterbankinfo-h/#l00048">48</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/mips/mipsregisterbankinfo-h">MipsRegisterBankInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/target/lib/target/mips/mipsregisterbankinfo-cpp/#l00647">647</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/mips/mipsregisterbankinfo-cpp">MipsRegisterBankInfo.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Functions

### isAmbiguous&#95;32() {#aeb330d086a22cc09631175e4bc1bc40a}

<MemberDefinition
  prototype={<>bool llvm::MipsRegisterBankInfo::isAmbiguous&#95;32 (InstType InstTy, unsigned OpSize) const</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/mips/mipsregisterbankinfo-h/#l00079">79</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/mips/mipsregisterbankinfo-h">MipsRegisterBankInfo.h</a>.
</MemberDefinition>

### isAmbiguous&#95;32or64() {#a77c112e015c83ddbdc6701f4a838d65f}

<MemberDefinition
  prototype={<>bool llvm::MipsRegisterBankInfo::isAmbiguous&#95;32or64 (InstType InstTy, unsigned OpSize) const</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/mips/mipsregisterbankinfo-h/#l00085">85</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/mips/mipsregisterbankinfo-h">MipsRegisterBankInfo.h</a>.
</MemberDefinition>

### isAmbiguous&#95;64() {#a48ce6ee62ad3bdea7d11090ed44b152e}

<MemberDefinition
  prototype={<>bool llvm::MipsRegisterBankInfo::isAmbiguous&#95;64 (InstType InstTy, unsigned OpSize) const</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/mips/mipsregisterbankinfo-h/#l00073">73</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/mips/mipsregisterbankinfo-h">MipsRegisterBankInfo.h</a>.
</MemberDefinition>

### isAmbiguousWithMergeOrUnmerge&#95;64() {#a1df0ad61e78d4a844eefb19ec26ef791}

<MemberDefinition
  prototype={<>bool llvm::MipsRegisterBankInfo::isAmbiguousWithMergeOrUnmerge&#95;64 (InstType InstTy, unsigned OpSize) const</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/mips/mipsregisterbankinfo-h/#l00091">91</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/mips/mipsregisterbankinfo-h">MipsRegisterBankInfo.h</a>.
</MemberDefinition>

### isFloatingPoint&#95;32or64() {#ae95be4c38f3628d7f7b9272cb00b4448}

<MemberDefinition
  prototype={<>bool llvm::MipsRegisterBankInfo::isFloatingPoint&#95;32or64 (InstType InstTy, unsigned OpSize) const</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/mips/mipsregisterbankinfo-h/#l00098">98</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/mips/mipsregisterbankinfo-h">MipsRegisterBankInfo.h</a>.
</MemberDefinition>

### isFloatingPoint&#95;64() {#a0fc8ba74e796b08ddd1f7f32c6814a7b}

<MemberDefinition
  prototype={<>bool llvm::MipsRegisterBankInfo::isFloatingPoint&#95;64 (InstType InstTy, unsigned OpSize) const</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/mips/mipsregisterbankinfo-h/#l00104">104</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/mips/mipsregisterbankinfo-h">MipsRegisterBankInfo.h</a>.
</MemberDefinition>

### isInteger&#95;32() {#af4016fc717db22e999b0654bd9b16b1a}

<MemberDefinition
  prototype={<>bool llvm::MipsRegisterBankInfo::isInteger&#95;32 (InstType InstTy, unsigned OpSize) const</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/mips/mipsregisterbankinfo-h/#l00110">110</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/mips/mipsregisterbankinfo-h">MipsRegisterBankInfo.h</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following files:

<ul>
<li><a href="/docs/api/files/lib/lib/target/lib/target/mips/mipsregisterbankinfo-cpp">MipsRegisterBankInfo.cpp</a></li>
<li><a href="/docs/api/files/lib/lib/target/lib/target/mips/mipsregisterbankinfo-h">MipsRegisterBankInfo.h</a></li>
</ul>

</DoxygenPage>
