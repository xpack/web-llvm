---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/llvm/tooloutputfile
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `ToolOutputFile` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>

This class contains a <a href="/docs/api/classes/llvm/raw-fd-ostream">raw&#95;fd&#95;ostream</a> and adds a few extra features commonly needed for compiler-like tool output files: <a href="#details">More...</a>

## Declaration

<CodeBlock>class llvm::ToolOutputFile</CodeBlock>

## Included Headers

<IncludesList>
<IncludesListItem
  filePath="llvm/Support/ToolOutputFile.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/support/tooloutputfile-h"
  isLocal="true" />
</IncludesList>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#aa8a96aefbfc916ad99ab353e418f79d7">ToolOutputFile</a> (StringRef Filename, std::error&#95;code &amp;EC, sys::fs::OpenFlags Flags)</>}>
This constructor&#39;s arguments are passed to <a href="/docs/api/classes/llvm/raw-fd-ostream">raw&#95;fd&#95;ostream</a>&#39;s constructor. <a href="#aa8a96aefbfc916ad99ab353e418f79d7">More...</a>
</MembersIndexItem>

<MembersIndexItem
  name={<><a href="#aa127e0fb1a98579c7beefba26a158d47">ToolOutputFile</a> (StringRef Filename, int FD)</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/stringref">StringRef</a></>}
  name={<><a href="#af02008b66e30ded00be776da162139bd">getFilename</a> ()</>}>
Return the filename initialized with. <a href="#af02008b66e30ded00be776da162139bd">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a736bcda698a82e4ae3a92310d706868d">keep</a> ()</>}>
Indicate that the tool&#39;s job wrt this output file has been successful and the file should not be deleted. <a href="#a736bcda698a82e4ae3a92310d706868d">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/raw-fd-ostream">raw&#95;fd&#95;ostream</a> &amp;</>}
  name={<><a href="#afd739434d6e7e26f93a9e87c23e4e7a3">os</a> ()</>}>
Return the contained <a href="/docs/api/classes/llvm/raw-fd-ostream">raw&#95;fd&#95;ostream</a>. <a href="#afd739434d6e7e26f93a9e87c23e4e7a3">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> std::string &amp;</>}
  name={<><a href="#a56ad3912abad8031d0c157e8afbedcbd">outputFilename</a> ()</>}>
</MembersIndexItem>

</MembersIndex>

## Private Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/cleanupinstaller">CleanupInstaller</a></>}
  name={<><a href="#a5f8cb5ad0f072fd2c14be5c2e271aaca">Installer</a></>}>
This class is declared before the <a href="/docs/api/classes/llvm/raw-fd-ostream">raw&#95;fd&#95;ostream</a> so that it is constructed before the <a href="/docs/api/classes/llvm/raw-fd-ostream">raw&#95;fd&#95;ostream</a> is constructed and destructed after the <a href="/docs/api/classes/llvm/raw-fd-ostream">raw&#95;fd&#95;ostream</a> is destructed. <a href="#a5f8cb5ad0f072fd2c14be5c2e271aaca">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/raw-fd-ostream">raw&#95;fd&#95;ostream</a> &#42;</>}
  name={<><a href="#a253eb69060aac6dfd3a7e204a968f9c7">OS</a></>}>
The actual stream to use. <a href="#a253eb69060aac6dfd3a7e204a968f9c7">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::optional&lt; <a href="/docs/api/classes/llvm/raw-fd-ostream">raw&#95;fd&#95;ostream</a> &gt;</>}
  name={<><a href="#adee6a8935097a79e0c91d9aeb5f48777">OSHolder</a></>}>
Storage for the stream, if we&#39;re owning our own stream. <a href="#adee6a8935097a79e0c91d9aeb5f48777">More...</a>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

This class contains a <a href="/docs/api/classes/llvm/raw-fd-ostream">raw&#95;fd&#95;ostream</a> and adds a few extra features commonly needed for compiler-like tool output files:

<ul>
<li>The file is automatically deleted if the process is killed.</li>
<li>The file is automatically deleted when the <a href="/docs/api/classes/llvm/tooloutputfile">ToolOutputFile</a> object is destroyed unless the client calls <a href="#a736bcda698a82e4ae3a92310d706868d">keep()</a>.</li>
</ul>

Definition at line 39 of file <a href="/docs/api/files/include/include/llvm/include/llvm/support/tooloutputfile-h">ToolOutputFile.h</a>.

<SectionDefinition>

## Public Constructors

### ToolOutputFile() {#aa8a96aefbfc916ad99ab353e418f79d7}

<MemberDefinition
  prototype={<>ToolOutputFile::ToolOutputFile (<a href="/docs/api/classes/llvm/stringref">StringRef</a> Filename, std::error&#95;code &amp; EC, <a href="/docs/api/namespaces/llvm/sys/fs/#a662978c0cdf81de0d448032f142a3695">sys::fs::OpenFlags</a> Flags)</>}>
This constructor&#39;s arguments are passed to <a href="/docs/api/classes/llvm/raw-fd-ostream">raw&#95;fd&#95;ostream</a>&#39;s constructor.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/support/tooloutputfile-h/#l00056">56</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/support/tooloutputfile-h">ToolOutputFile.h</a>, definition at line <a href="/docs/api/files/lib/lib/support/tooloutputfile-cpp/#l00040">40</a> of file <a href="/docs/api/files/lib/lib/support/tooloutputfile-cpp">ToolOutputFile.cpp</a>.
</MemberDefinition>

### ToolOutputFile() {#aa127e0fb1a98579c7beefba26a158d47}

<MemberDefinition
  prototype={<>ToolOutputFile::ToolOutputFile (<a href="/docs/api/classes/llvm/stringref">StringRef</a> Filename, int FD)</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/support/tooloutputfile-h/#l00059">59</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/support/tooloutputfile-h">ToolOutputFile.h</a>, definition at line <a href="/docs/api/files/lib/lib/support/tooloutputfile-cpp/#l00055">55</a> of file <a href="/docs/api/files/lib/lib/support/tooloutputfile-cpp">ToolOutputFile.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### getFilename() {#af02008b66e30ded00be776da162139bd}

<MemberDefinition
  prototype="StringRef llvm::ToolOutputFile::getFilename ()"
  labels = {["inline"]}>
Return the filename initialized with.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/support/tooloutputfile-h/#l00065">65</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/support/tooloutputfile-h">ToolOutputFile.h</a>.
</MemberDefinition>

### keep() {#a736bcda698a82e4ae3a92310d706868d}

<MemberDefinition
  prototype="void llvm::ToolOutputFile::keep ()"
  labels = {["inline"]}>
Indicate that the tool&#39;s job wrt this output file has been successful and the file should not be deleted.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/support/tooloutputfile-h/#l00069">69</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/support/tooloutputfile-h">ToolOutputFile.h</a>.
</MemberDefinition>

### os() {#afd739434d6e7e26f93a9e87c23e4e7a3}

<MemberDefinition
  prototype={<>raw&#95;fd&#95;ostream &amp; llvm::ToolOutputFile::os ()</>}
  labels = {["inline"]}>
Return the contained <a href="/docs/api/classes/llvm/raw-fd-ostream">raw&#95;fd&#95;ostream</a>.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/support/tooloutputfile-h/#l00062">62</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/support/tooloutputfile-h">ToolOutputFile.h</a>.
</MemberDefinition>

### outputFilename() {#a56ad3912abad8031d0c157e8afbedcbd}

<MemberDefinition
  prototype={<>const std::string &amp; llvm::ToolOutputFile::outputFilename ()</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/support/tooloutputfile-h/#l00071">71</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/support/tooloutputfile-h">ToolOutputFile.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Attributes

### Installer {#a5f8cb5ad0f072fd2c14be5c2e271aaca}

<MemberDefinition
  prototype="CleanupInstaller llvm::ToolOutputFile::Installer">
This class is declared before the <a href="/docs/api/classes/llvm/raw-fd-ostream">raw&#95;fd&#95;ostream</a> so that it is constructed before the <a href="/docs/api/classes/llvm/raw-fd-ostream">raw&#95;fd&#95;ostream</a> is constructed and destructed after the <a href="/docs/api/classes/llvm/raw-fd-ostream">raw&#95;fd&#95;ostream</a> is destructed.

It installs cleanups in its constructor and uninstalls them in its destructor.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/support/tooloutputfile-h/#l00044">44</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/support/tooloutputfile-h">ToolOutputFile.h</a>.
</MemberDefinition>

### OS {#a253eb69060aac6dfd3a7e204a968f9c7}

<MemberDefinition
  prototype={<>raw&#95;fd&#95;ostream&#42; llvm::ToolOutputFile::OS</>}>
The actual stream to use.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/support/tooloutputfile-h/#l00051">51</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/support/tooloutputfile-h">ToolOutputFile.h</a>.
</MemberDefinition>

### OSHolder {#adee6a8935097a79e0c91d9aeb5f48777}

<MemberDefinition
  prototype={<>std::optional&lt;raw&#95;fd&#95;ostream&gt; llvm::ToolOutputFile::OSHolder</>}>
Storage for the stream, if we&#39;re owning our own stream.

This is intentionally declared after Installer.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/support/tooloutputfile-h/#l00048">48</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/support/tooloutputfile-h">ToolOutputFile.h</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following files:

<ul>
<li><a href="/docs/api/files/include/include/llvm/include/llvm/support/tooloutputfile-h">ToolOutputFile.h</a></li>
<li><a href="/docs/api/files/lib/lib/support/tooloutputfile-cpp">ToolOutputFile.cpp</a></li>
</ul>

</DoxygenPage>
