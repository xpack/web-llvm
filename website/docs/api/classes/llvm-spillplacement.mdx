---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/llvm/spillplacement
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import Link from '@docusaurus/Link'
import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import EnumerationList from '@xpack/docusaurus-plugin-doxygen/components/EnumerationList'
import EnumerationListItem from '@xpack/docusaurus-plugin-doxygen/components/EnumerationListItem'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import ParametersList from '@xpack/docusaurus-plugin-doxygen/components/ParametersList'
import ParametersListItem from '@xpack/docusaurus-plugin-doxygen/components/ParametersListItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'
import SectionUser from '@xpack/docusaurus-plugin-doxygen/components/SectionUser'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `SpillPlacement` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>



## Declaration

<CodeBlock>class llvm::SpillPlacement</CodeBlock>

## Included Headers

<IncludesList>
<IncludesListItem
  filePath="llvm/CodeGen/SpillPlacement.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h"
  isLocal="true" />
</IncludesList>

## Enumerations Index

<MembersIndex>

<MembersIndexItem
  type="enum"
  name={<>:  &#123; <a href="#ab09623fee8a653165a7cc624b8eaaa8c">...</a> &#125;</>}>
<a href="#ab09623fee8a653165a7cc624b8eaaa8c">BorderConstraint</a> - A basic block has separate constraints for entry and exit. <a href="#ab09623fee8a653165a7cc624b8eaaa8c">More...</a>
</MembersIndexItem>

</MembersIndex>

## Friends Index

<MembersIndex>

<MembersIndexItem
  type="class"
  name={<><a href="#a7147088054bc8460d429c62d88efbcad">SpillPlacementAnalysis</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type="class"
  name={<><a href="#a31742950e758d7113228d8e8d90bb9b1">SpillPlacementWrapperLegacy</a></>}>
</MembersIndexItem>

</MembersIndex>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#ad30b36db615c8d126002e0f42b5d0fa2">SpillPlacement</a> (SpillPlacement &amp;&amp;)</>}>
</MembersIndexItem>

</MembersIndex>

## Private Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a1ffbf6440c5de2ff821dc751ea3b2da0">SpillPlacement</a> ()</>}>
</MembersIndexItem>

</MembersIndex>

## Public Destructor Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#ab0c5451db0d7741582cb9314fa61398c">~SpillPlacement</a> ()</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="void"
  name={<><a href="#a0d46b9b2cb2caf78e65bbd56644fc0f2">addConstraints</a> (ArrayRef&lt; BlockConstraint &gt; LiveBlocks)</>}>
addConstraints - Add constraints and biases. <a href="#a0d46b9b2cb2caf78e65bbd56644fc0f2">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a80ed1a6b4e8e7a1eb342ac71a24e842b">addLinks</a> (ArrayRef&lt; unsigned &gt; Links)</>}>
addLinks - Add transparent blocks with the given numbers. <a href="#a80ed1a6b4e8e7a1eb342ac71a24e842b">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a2bd552babf3d34952ed159b653515b5e">addPrefSpill</a> (ArrayRef&lt; unsigned &gt; Blocks, bool Strong)</>}>
addPrefSpill - Add PrefSpill constraints to all blocks listed. <a href="#a2bd552babf3d34952ed159b653515b5e">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a2310373a95001e3677c0f0534cdfc0e1">finish</a> ()</>}>
finish - Compute the optimal spill code placement given the constraints. <a href="#a2310373a95001e3677c0f0534cdfc0e1">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/blockfrequency">BlockFrequency</a></>}
  name={<><a href="#ae2b2fc73ca35a622fa5eaf62a048d508">getBlockFrequency</a> (unsigned Number) const</>}>
getBlockFrequency - Return the estimated block execution frequency per function invocation. <a href="#ae2b2fc73ca35a622fa5eaf62a048d508">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; unsigned &gt;</>}
  name={<><a href="#adcc18d97175ebe3c6c276562482302fb">getRecentPositive</a> ()</>}>
getRecentPositive - Return an array of bundles that became positive during the previous call to scanActiveBundles or iterate. <a href="#adcc18d97175ebe3c6c276562482302fb">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a64ebfd5ad1ddae5f9cd92ea10af28610">invalidate</a> (MachineFunction &amp;MF, const PreservedAnalyses &amp;PA, MachineFunctionAnalysisManager::Invalidator &amp;Inv)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a8d70270c78d36ddb40a8b782e141b63a">iterate</a> ()</>}>
iterate - Update the network iteratively until convergence, or new bundles are found. <a href="#a8d70270c78d36ddb40a8b782e141b63a">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a329177b9cd260516a4aca8f55c199020">prepare</a> (BitVector &amp;RegBundles)</>}>
prepare - Reset state and prepare for a new spill placement computation. <a href="#a329177b9cd260516a4aca8f55c199020">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a435b043e417bb3f4fc9ac0f6e0c6ebc8">scanActiveBundles</a> ()</>}>
scanActiveBundles - Perform an initial scan of all bundles activated by addConstraints and addLinks, updating their state. <a href="#a435b043e417bb3f4fc9ac0f6e0c6ebc8">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="void"
  name={<><a href="#a2fed96ef608fce30b2185bb261c63f40">activate</a> (unsigned n)</>}>
activate - mark node n as active if it wasn&#39;t already. <a href="#a2fed96ef608fce30b2185bb261c63f40">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a2bc9d45e0612246a18a97ce8c7ae5030">releaseMemory</a> ()</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#ac13f3ac9142ff481f349bc1d3a87c9ae">run</a> (MachineFunction &amp;MF, EdgeBundles &#42;Bundles, MachineBlockFrequencyInfo &#42;MBFI)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#ac4bec3bd2bfc454d43e55f1271834fa5">setThreshold</a> (BlockFrequency Entry)</>}>
Set the threshold for a given entry frequency. <a href="#ac4bec3bd2bfc454d43e55f1271834fa5">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#ac44259880dccee6128593bd4f33ed5be">update</a> (unsigned n)</>}>
</MembersIndexItem>

</MembersIndex>

## Private Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/bitvector">BitVector</a> &#42;</>}
  name={<><a href="#a63b7a67bdefb26dd2e35bc4129cdda9a">ActiveNodes</a> = nullptr</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/smallvector">SmallVector</a>&lt; <a href="/docs/api/classes/llvm/blockfrequency">BlockFrequency</a>, 8 &gt;</>}
  name={<><a href="#a869ac1241668f7a460ef875e0af9c076">BlockFrequencies</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/edgebundles">EdgeBundles</a> &#42;</>}
  name={<><a href="#a7bf87d8f6fed2199a29cd977c8ffb66b">bundles</a> = nullptr</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/smallvector">SmallVector</a>&lt; unsigned, 8 &gt;</>}
  name={<><a href="#a9dfe781a7d2a0f1b385c80e2bb8c88fd">Linked</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/machineblockfrequencyinfo">MachineBlockFrequencyInfo</a> &#42;</>}
  name={<><a href="#a3f65f0fa0864b1c2b8ff3f826d832e63">MBFI</a> = nullptr</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/machinefunction">MachineFunction</a> &#42;</>}
  name={<><a href="#a8a1ab4faa395ddf304481ff5b12cb22b">MF</a> = nullptr</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::unique&#95;ptr&lt; <a href="/docs/api/structs/spillplacement/node">Node</a>&#91;&#93;&gt;</>}
  name={<><a href="#a19bb9b2be0c8eca40fab3854d3dbbab0">nodes</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/smallvector">SmallVector</a>&lt; unsigned, 8 &gt;</>}
  name={<><a href="#a0134275129dd5e53c7e395ef82cdbbe2">RecentPositive</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/blockfrequency">BlockFrequency</a></>}
  name={<><a href="#a2f1c4633962082678ab1602f0e6d8a6a">Threshold</a></>}>
Decision threshold. <a href="#a2f1c4633962082678ab1602f0e6d8a6a">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/sparseset">SparseSet</a>&lt; unsigned &gt;</>}
  name={<><a href="#a5511d6b4e3b32b5e7fa6f6cd9d8b8482">TodoList</a></>}>
List of nodes that need to be updated in <a href="#a8d70270c78d36ddb40a8b782e141b63a">iterate</a>. <a href="#a5511d6b4e3b32b5e7fa6f6cd9d8b8482">More...</a>
</MembersIndexItem>

</MembersIndex>


Definition at line 45 of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h">SpillPlacement.h</a>.

<SectionDefinition>

## Enumerations

### enum  {#ab09623fee8a653165a7cc624b8eaaa8c}

<MemberDefinition
  prototype="enum llvm::SpillPlacement::BorderConstraint ">
<a href="#ab09623fee8a653165a7cc624b8eaaa8c">BorderConstraint</a> - A basic block has separate constraints for entry and exit.

<EnumerationList title="Enumeration values">

<Link id="ab09623fee8a653165a7cc624b8eaaa8ca49b6f21cf41c5b608cb5645bc70d36b8" />
<EnumerationListItem name="DontCare">
Block doesn&#39;t care / variable not live
</EnumerationListItem>

<Link id="ab09623fee8a653165a7cc624b8eaaa8caca6da2dad218232636b80854d81a6e1c" />
<EnumerationListItem name="PrefReg">
Block entry/exit prefers a register
</EnumerationListItem>

<Link id="ab09623fee8a653165a7cc624b8eaaa8caf5efe10871d66719c8668d09d768e740" />
<EnumerationListItem name="PrefSpill">
Block entry/exit prefers a stack slot
</EnumerationListItem>

<Link id="ab09623fee8a653165a7cc624b8eaaa8ca821efd84662975133aa7c60d1a84fa42" />
<EnumerationListItem name="PrefBoth">
Block entry prefers both register and stack
</EnumerationListItem>

<Link id="ab09623fee8a653165a7cc624b8eaaa8ca043a091e52f465df92623f5f17477837" />
<EnumerationListItem name="MustSpill">
A register is impossible, variable must be spilled
</EnumerationListItem>

</EnumerationList>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h/#l00081">81</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h">SpillPlacement.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Friends

### SpillPlacementAnalysis {#a7147088054bc8460d429c62d88efbcad}

<MemberDefinition
  prototype={<>friend class <a href="/docs/api/classes/llvm/spillplacementanalysis">SpillPlacementAnalysis</a></>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h/#l00047">47</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h">SpillPlacement.h</a>.
</MemberDefinition>

### SpillPlacementWrapperLegacy {#a31742950e758d7113228d8e8d90bb9b1}

<MemberDefinition
  prototype={<>friend class <a href="/docs/api/classes/llvm/spillplacementwrapperlegacy">SpillPlacementWrapperLegacy</a></>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h/#l00046">46</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h">SpillPlacement.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Constructors

### SpillPlacement() {#ad30b36db615c8d126002e0f42b5d0fa2}

<MemberDefinition
  prototype={<>SpillPlacement::SpillPlacement (<a href="/docs/api/classes/llvm/spillplacement">SpillPlacement</a> &amp;&amp;)</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h/#l00163">163</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h">SpillPlacement.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Constructors

### SpillPlacement() {#a1ffbf6440c5de2ff821dc751ea3b2da0}

<MemberDefinition
  prototype="SpillPlacement::SpillPlacement ()">

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h/#l00167">167</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h">SpillPlacement.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Destructor

### ~SpillPlacement() {#ab0c5451db0d7741582cb9314fa61398c}

<MemberDefinition
  prototype="SpillPlacement::~SpillPlacement ()">

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h/#l00164">164</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h">SpillPlacement.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### addConstraints() {#a0d46b9b2cb2caf78e65bbd56644fc0f2}

<MemberDefinition
  prototype={<>void SpillPlacement::addConstraints (<a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; <a href="/docs/api/structs/llvm/spillplacement/blockconstraint">BlockConstraint</a> &gt; LiveBlocks)</>}>
addConstraints - Add constraints and biases.

addConstraints - Compute node biases and weights from a set of constraints.

This method may be called more than once to accumulate constraints. 
<ParametersList title="Parameters">
<ParametersListItem name="LiveBlocks">Constraints for blocks that have the variable live in or live out.</ParametersListItem>
</ParametersList>
Set a bit in NodeMask for each active node.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h/#l00117">117</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h">SpillPlacement.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/spillplacement-cpp/#l00292">292</a> of file <a href="/docs/api/files/lib/lib/codegen/spillplacement-cpp">SpillPlacement.cpp</a>.
</MemberDefinition>

### addLinks() {#a80ed1a6b4e8e7a1eb342ac71a24e842b}

<MemberDefinition
  prototype={<>void SpillPlacement::addLinks (<a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; unsigned &gt; Links)</>}>
addLinks - Add transparent blocks with the given numbers.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h/#l00128">128</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h">SpillPlacement.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/spillplacement-cpp/#l00327">327</a> of file <a href="/docs/api/files/lib/lib/codegen/spillplacement-cpp">SpillPlacement.cpp</a>.
</MemberDefinition>

### addPrefSpill() {#a2bd552babf3d34952ed159b653515b5e}

<MemberDefinition
  prototype={<>void SpillPlacement::addPrefSpill (<a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; unsigned &gt; Blocks, bool Strong)</>}>
addPrefSpill - Add PrefSpill constraints to all blocks listed.

addPrefSpill - Same as addConstraints(PrefSpill)

This is equivalent to calling addConstraint with identical BlockConstraints with Entry = Exit = PrefSpill, and ChangesValue = false.


<ParametersList title="Parameters">
<ParametersListItem name="Blocks">Array of block numbers that prefer to spill in and out.</ParametersListItem>
<ParametersListItem name="Strong">When true, double the negative bias for these blocks.</ParametersListItem>
</ParametersList>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h/#l00125">125</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h">SpillPlacement.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/spillplacement-cpp/#l00313">313</a> of file <a href="/docs/api/files/lib/lib/codegen/spillplacement-cpp">SpillPlacement.cpp</a>.
</MemberDefinition>

### finish() {#a2310373a95001e3677c0f0534cdfc0e1}

<MemberDefinition
  prototype="bool SpillPlacement::finish ()">
finish - Compute the optimal spill code placement given the constraints.

No MustSpill constraints will be violated, and the smallest possible number of PrefX constraints will be violated, weighted by expected execution frequencies. The selected bundles are returned in the bitvector passed to <a href="/docs/api/files/lib/lib/codegen/basicblocksections-cpp/#acc01b07763ec8c4b7acd6ffaa69b1c0c">prepare()</a>. 
<SectionUser title="Returns">
True if a perfect solution was found, allowing the variable to be in a register through all relevant bundles.
</SectionUser>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h/#l00152">152</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h">SpillPlacement.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/spillplacement-cpp/#l00395">395</a> of file <a href="/docs/api/files/lib/lib/codegen/spillplacement-cpp">SpillPlacement.cpp</a>.
</MemberDefinition>

### getBlockFrequency() {#ae2b2fc73ca35a622fa5eaf62a048d508}

<MemberDefinition
  prototype="BlockFrequency llvm::SpillPlacement::getBlockFrequency (unsigned Number) const"
  labels = {["inline"]}>
getBlockFrequency - Return the estimated block execution frequency per function invocation.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h/#l00156">156</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h">SpillPlacement.h</a>.
</MemberDefinition>

### getRecentPositive() {#adcc18d97175ebe3c6c276562482302fb}

<MemberDefinition
  prototype={<>ArrayRef&lt; unsigned &gt; llvm::SpillPlacement::getRecentPositive ()</>}
  labels = {["inline"]}>
getRecentPositive - Return an array of bundles that became positive during the previous call to scanActiveBundles or iterate.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h/#l00143">143</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h">SpillPlacement.h</a>.
</MemberDefinition>

### invalidate() {#a64ebfd5ad1ddae5f9cd92ea10af28610}

<MemberDefinition
  prototype={<>bool SpillPlacementAnalysis::Result::invalidate (<a href="/docs/api/classes/llvm/machinefunction">MachineFunction</a> &amp; MF, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/preservedanalyses">PreservedAnalyses</a> &amp; PA, MachineFunctionAnalysisManager::Invalidator &amp; Inv)</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h/#l00160">160</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h">SpillPlacement.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/spillplacement-cpp/#l00212">212</a> of file <a href="/docs/api/files/lib/lib/codegen/spillplacement-cpp">SpillPlacement.cpp</a>.
</MemberDefinition>

### iterate() {#a8d70270c78d36ddb40a8b782e141b63a}

<MemberDefinition
  prototype="void SpillPlacement::iterate ()">
iterate - Update the network iteratively until convergence, or new bundles are found.

iterate - Repeatedly update the Hopfield nodes until stability or the maximum number of iterations is reached.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h/#l00139">139</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h">SpillPlacement.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/spillplacement-cpp/#l00366">366</a> of file <a href="/docs/api/files/lib/lib/codegen/spillplacement-cpp">SpillPlacement.cpp</a>.
</MemberDefinition>

### prepare() {#a329177b9cd260516a4aca8f55c199020}

<MemberDefinition
  prototype={<>void SpillPlacement::prepare (<a href="/docs/api/classes/llvm/bitvector">BitVector</a> &amp; RegBundles)</>}>
prepare - Reset state and prepare for a new spill placement computation.

<ParametersList title="Parameters">
<ParametersListItem name="RegBundles">Bit vector to receive the edge bundles where the variable should be kept in a register. Each bit corresponds to an edge bundle, a set bit means the variable should be kept in a register through the bundle. A clear bit means the variable should be spilled. This vector is retained.</ParametersListItem>
</ParametersList>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h/#l00111">111</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h">SpillPlacement.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/spillplacement-cpp/#l00385">385</a> of file <a href="/docs/api/files/lib/lib/codegen/spillplacement-cpp">SpillPlacement.cpp</a>.
</MemberDefinition>

### scanActiveBundles() {#a435b043e417bb3f4fc9ac0f6e0c6ebc8}

<MemberDefinition
  prototype="bool SpillPlacement::scanActiveBundles ()">
scanActiveBundles - Perform an initial scan of all bundles activated by addConstraints and addLinks, updating their state.

Add all the bundles that now prefer a register to RecentPositive. Prepare internal data structures for iterate. Return true is there are any positive nodes.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h/#l00135">135</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h">SpillPlacement.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/spillplacement-cpp/#l00343">343</a> of file <a href="/docs/api/files/lib/lib/codegen/spillplacement-cpp">SpillPlacement.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Functions

### activate() {#a2fed96ef608fce30b2185bb261c63f40}

<MemberDefinition
  prototype="void SpillPlacement::activate (unsigned n)">
activate - mark node n as active if it wasn&#39;t already.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h/#l00173">173</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h">SpillPlacement.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/spillplacement-cpp/#l00253">253</a> of file <a href="/docs/api/files/lib/lib/codegen/spillplacement-cpp">SpillPlacement.cpp</a>.
</MemberDefinition>

### releaseMemory() {#a2bc9d45e0612246a18a97ce8c7ae5030}

<MemberDefinition
  prototype="void SpillPlacement::releaseMemory ()">

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h/#l00169">169</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h">SpillPlacement.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/spillplacement-cpp/#l00227">227</a> of file <a href="/docs/api/files/lib/lib/codegen/spillplacement-cpp">SpillPlacement.cpp</a>.
</MemberDefinition>

### run() {#ac13f3ac9142ff481f349bc1d3a87c9ae}

<MemberDefinition
  prototype={<>void SpillPlacement::run (<a href="/docs/api/classes/llvm/machinefunction">MachineFunction</a> &amp; MF, <a href="/docs/api/classes/llvm/edgebundles">EdgeBundles</a> &#42; Bundles, <a href="/docs/api/classes/llvm/machineblockfrequencyinfo">MachineBlockFrequencyInfo</a> &#42; MBFI)</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h/#l00171">171</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h">SpillPlacement.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/spillplacement-cpp/#l00232">232</a> of file <a href="/docs/api/files/lib/lib/codegen/spillplacement-cpp">SpillPlacement.cpp</a>.
</MemberDefinition>

### setThreshold() {#ac4bec3bd2bfc454d43e55f1271834fa5}

<MemberDefinition
  prototype={<>void SpillPlacement::setThreshold (<a href="/docs/api/classes/llvm/blockfrequency">BlockFrequency</a> Entry)</>}>
Set the threshold for a given entry frequency.

Set the threshold relative to <code>Entry</code>. Since the threshold is used as a bound on the open interval (-Threshold;Threshold), 1 is the minimum threshold.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h/#l00174">174</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h">SpillPlacement.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/spillplacement-cpp/#l00282">282</a> of file <a href="/docs/api/files/lib/lib/codegen/spillplacement-cpp">SpillPlacement.cpp</a>.
</MemberDefinition>

### update() {#ac44259880dccee6128593bd4f33ed5be}

<MemberDefinition
  prototype="bool SpillPlacement::update (unsigned n)">

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h/#l00176">176</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h">SpillPlacement.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/spillplacement-cpp/#l00357">357</a> of file <a href="/docs/api/files/lib/lib/codegen/spillplacement-cpp">SpillPlacement.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Attributes

### ActiveNodes {#a63b7a67bdefb26dd2e35bc4129cdda9a}

<MemberDefinition
  prototype={<>BitVector&#42; llvm::SpillPlacement::ActiveNodes = nullptr</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h/#l00059">59</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h">SpillPlacement.h</a>.
</MemberDefinition>

### BlockFrequencies {#a869ac1241668f7a460ef875e0af9c076}

<MemberDefinition
  prototype={<>SmallVector&lt;BlockFrequency, 8&gt; llvm::SpillPlacement::BlockFrequencies</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h/#l00069">69</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h">SpillPlacement.h</a>.
</MemberDefinition>

### bundles {#a7bf87d8f6fed2199a29cd977c8ffb66b}

<MemberDefinition
  prototype={<>const EdgeBundles&#42; llvm::SpillPlacement::bundles = nullptr</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h/#l00052">52</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h">SpillPlacement.h</a>.
</MemberDefinition>

### Linked {#a9dfe781a7d2a0f1b385c80e2bb8c88fd}

<MemberDefinition
  prototype={<>SmallVector&lt;unsigned, 8&gt; llvm::SpillPlacement::Linked</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h/#l00062">62</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h">SpillPlacement.h</a>.
</MemberDefinition>

### MBFI {#a3f65f0fa0864b1c2b8ff3f826d832e63}

<MemberDefinition
  prototype={<>const MachineBlockFrequencyInfo&#42; llvm::SpillPlacement::MBFI = nullptr</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h/#l00053">53</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h">SpillPlacement.h</a>.
</MemberDefinition>

### MF {#a8a1ab4faa395ddf304481ff5b12cb22b}

<MemberDefinition
  prototype={<>const MachineFunction&#42; llvm::SpillPlacement::MF = nullptr</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h/#l00051">51</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h">SpillPlacement.h</a>.
</MemberDefinition>

### nodes {#a19bb9b2be0c8eca40fab3854d3dbbab0}

<MemberDefinition
  prototype={<>std::unique&#95;ptr&lt;Node&#91;&#93;&gt; llvm::SpillPlacement::nodes</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h/#l00055">55</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h">SpillPlacement.h</a>.
</MemberDefinition>

### RecentPositive {#a0134275129dd5e53c7e395ef82cdbbe2}

<MemberDefinition
  prototype={<>SmallVector&lt;unsigned, 8&gt; llvm::SpillPlacement::RecentPositive</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h/#l00066">66</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h">SpillPlacement.h</a>.
</MemberDefinition>

### Threshold {#a2f1c4633962082678ab1602f0e6d8a6a}

<MemberDefinition
  prototype="BlockFrequency llvm::SpillPlacement::Threshold">
Decision threshold.

A node gets the output value 0 if the weighted sum of its inputs falls in the open interval (-Threshold;Threshold).

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h/#l00073">73</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h">SpillPlacement.h</a>.
</MemberDefinition>

### TodoList {#a5511d6b4e3b32b5e7fa6f6cd9d8b8482}

<MemberDefinition
  prototype={<>SparseSet&lt;unsigned&gt; llvm::SpillPlacement::TodoList</>}>
List of nodes that need to be updated in <a href="#a8d70270c78d36ddb40a8b782e141b63a">iterate</a>.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h/#l00076">76</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h">SpillPlacement.h</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following files:

<ul>
<li><a href="/docs/api/files/include/include/llvm/include/llvm/codegen/spillplacement-h">SpillPlacement.h</a></li>
<li><a href="/docs/api/files/lib/lib/codegen/spillplacement-cpp">SpillPlacement.cpp</a></li>
</ul>

</DoxygenPage>
