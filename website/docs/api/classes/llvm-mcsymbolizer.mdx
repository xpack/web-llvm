---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/llvm/mcsymbolizer
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import ParametersList from '@xpack/docusaurus-plugin-doxygen/components/ParametersList'
import ParametersListItem from '@xpack/docusaurus-plugin-doxygen/components/ParametersListItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'
import SectionUser from '@xpack/docusaurus-plugin-doxygen/components/SectionUser'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `MCSymbolizer` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>

Symbolize and annotate disassembled instructions. <a href="#details">More...</a>

## Declaration

<CodeBlock>class llvm::MCSymbolizer</CodeBlock>

## Included Headers

<IncludesList>
<IncludesListItem
  filePath="llvm/MC/MCDisassembler/MCSymbolizer.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/mc/include/llvm/mc/mcdisassembler/mcsymbolizer-h"
  isLocal="true" />
</IncludesList>

## Derived Classes

<MembersIndex>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/amdgpusymbolizer">AMDGPUSymbolizer</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/mcexternalsymbolizer">MCExternalSymbolizer</a></>}>
Symbolize using user-provided, C API, callbacks. <a href="/docs/api/classes/llvm/mcexternalsymbolizer/#details">More...</a>
</MembersIndexItem>

</MembersIndex>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a00aa95cc168a100bdcaed4030479a064">MCSymbolizer</a> (MCContext &amp;Ctx, std::unique&#95;ptr&lt; MCRelocationInfo &gt; RelInfo)</>}>
Construct an <a href="/docs/api/classes/llvm/mcsymbolizer">MCSymbolizer</a>, taking ownership of <code>RelInfo</code>. <a href="#a00aa95cc168a100bdcaed4030479a064">More...</a>
</MembersIndexItem>

<MembersIndexItem
  name={<><a href="#ab4d3568a8e152aea7d097968b7795928">MCSymbolizer</a> (const MCSymbolizer &amp;)=delete</>}>
</MembersIndexItem>

</MembersIndex>

## Public Destructor Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#aa3aed29e95874a781030e7041069fdd6">~MCSymbolizer</a> ()</>}>
</MembersIndexItem>

</MembersIndex>

## Public Operators Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/mcsymbolizer">MCSymbolizer</a> &amp;</>}
  name={<><a href="#a9602b13c6a3bcda6ee076454b38aef94">operator=</a> (const MCSymbolizer &amp;)=delete</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; uint64&#95;t &gt;</>}
  name={<><a href="#aff22a92530c025154e8c3aa07d887b2c">getReferencedAddresses</a> () const</>}>
Get the <a href="/docs/api/classes/llvm/mcsymbolizer">MCSymbolizer</a>&#39;s list of addresses that were referenced by symbolizable operands but not resolved to a symbol. <a href="#aff22a92530c025154e8c3aa07d887b2c">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#aa88d2b02364ed21ffd55212185593c30">tryAddingPcLoadReferenceComment</a> (raw&#95;ostream &amp;cStream, int64&#95;t Value, uint64&#95;t Address)=0</>}>
Try to add a comment on the PC-relative load. <a href="#aa88d2b02364ed21ffd55212185593c30">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#adac4188cce487f7706a299575df4f684">tryAddingSymbolicOperand</a> (MCInst &amp;Inst, raw&#95;ostream &amp;cStream, int64&#95;t Value, uint64&#95;t Address, bool IsBranch, uint64&#95;t Offset, uint64&#95;t OpSize, uint64&#95;t InstSize)=0</>}>
Try to add a symbolic operand instead of <code><a href="/docs/api/classes/llvm/value">Value</a></code> to the <a href="/docs/api/classes/llvm/mcinst">MCInst</a>. <a href="#adac4188cce487f7706a299575df4f684">More...</a>
</MembersIndexItem>

</MembersIndex>

## Protected Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/mccontext">MCContext</a> &amp;</>}
  name={<><a href="#ae7ae949c9f9c53c3e6e8c29799753c01">Ctx</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::unique&#95;ptr&lt; <a href="/docs/api/classes/llvm/mcrelocationinfo">MCRelocationInfo</a> &gt;</>}
  name={<><a href="#a65399cf3fad4593f48477a0962ddd074">RelInfo</a></>}>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

Symbolize and annotate disassembled instructions.

For now this mimics the old symbolization logic (from both <a href="/docs/api/namespaces/llvm/arm">ARM</a> and x86), that relied on user-provided (C API) callbacks to do the actual symbol lookup in the object file. This was moved to <a href="/docs/api/classes/llvm/mcexternalsymbolizer">MCExternalSymbolizer</a>. A better API would not rely on actually calling the two methods here from inside each disassembler, but would use the instr info to determine what operands are actually symbolizable, and in what way. I don&#39;t think this information exists right now.

Definition at line 39 of file <a href="/docs/api/files/include/include/llvm/include/llvm/mc/include/llvm/mc/mcdisassembler/mcsymbolizer-h">MCSymbolizer.h</a>.

<SectionDefinition>

## Public Constructors

### MCSymbolizer() {#a00aa95cc168a100bdcaed4030479a064}

<MemberDefinition
  prototype={<>llvm::MCSymbolizer::MCSymbolizer (<a href="/docs/api/classes/llvm/mccontext">MCContext</a> &amp; Ctx, std::unique&#95;ptr&lt; <a href="/docs/api/classes/llvm/mcrelocationinfo">MCRelocationInfo</a> &gt; RelInfo)</>}
  labels = {["inline"]}>
Construct an <a href="/docs/api/classes/llvm/mcsymbolizer">MCSymbolizer</a>, taking ownership of <code>RelInfo</code>.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/mc/include/llvm/mc/mcdisassembler/mcsymbolizer-h/#l00046">46</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/mc/include/llvm/mc/mcdisassembler/mcsymbolizer-h">MCSymbolizer.h</a>.
</MemberDefinition>

### MCSymbolizer() {#ab4d3568a8e152aea7d097968b7795928}

<MemberDefinition
  prototype={<>llvm::MCSymbolizer::MCSymbolizer (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/mcsymbolizer">MCSymbolizer</a> &amp;)</>}
  labels = {["delete"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/mc/include/llvm/mc/mcdisassembler/mcsymbolizer-h/#l00050">50</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/mc/include/llvm/mc/mcdisassembler/mcsymbolizer-h">MCSymbolizer.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Destructor

### ~MCSymbolizer() {#aa3aed29e95874a781030e7041069fdd6}

<MemberDefinition
  prototype="MCSymbolizer::~MCSymbolizer ()"
  labels = {["virtual"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/mc/include/llvm/mc/mcdisassembler/mcsymbolizer-h/#l00052">52</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/mc/include/llvm/mc/mcdisassembler/mcsymbolizer-h">MCSymbolizer.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Operators

### operator=() {#a9602b13c6a3bcda6ee076454b38aef94}

<MemberDefinition
  prototype={<>MCSymbolizer &amp; llvm::MCSymbolizer::operator= (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/mcsymbolizer">MCSymbolizer</a> &amp;)</>}
  labels = {["delete"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/mc/include/llvm/mc/mcdisassembler/mcsymbolizer-h/#l00051">51</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/mc/include/llvm/mc/mcdisassembler/mcsymbolizer-h">MCSymbolizer.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### getReferencedAddresses() {#aff22a92530c025154e8c3aa07d887b2c}

<MemberDefinition
  prototype={<>virtual ArrayRef&lt; uint64&#95;t &gt; llvm::MCSymbolizer::getReferencedAddresses () const</>}
  labels = {["inline", "virtual"]}>
Get the <a href="/docs/api/classes/llvm/mcsymbolizer">MCSymbolizer</a>&#39;s list of addresses that were referenced by symbolizable operands but not resolved to a symbol.

The caller (some code that is disassembling a section or other chunk of code) would typically create a synthetic label at each address and add them to its list of symbols in the section, before creating a new <a href="/docs/api/classes/llvm/mcsymbolizer">MCSymbolizer</a> with the enhanced symbol list and retrying disassembling the section. The returned array is unordered and may have duplicates. The returned <a href="/docs/api/classes/llvm/arrayref">ArrayRef</a> stops being valid on any call to or destruction of the <a href="/docs/api/classes/llvm/mcsymbolizer">MCSymbolizer</a> object.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/mc/include/llvm/mc/mcdisassembler/mcsymbolizer-h/#l00090">90</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/mc/include/llvm/mc/mcdisassembler/mcsymbolizer-h">MCSymbolizer.h</a>.
</MemberDefinition>

### tryAddingPcLoadReferenceComment() {#aa88d2b02364ed21ffd55212185593c30}

<MemberDefinition
  prototype={<>virtual void llvm::MCSymbolizer::tryAddingPcLoadReferenceComment (<a href="/docs/api/classes/llvm/raw-ostream">raw&#95;ostream</a> &amp; cStream, int64&#95;t Value, uint64&#95;t Address)</>}>
Try to add a comment on the PC-relative load.

For instance, in Mach-O, this is used to add annotations to instructions that use C string literals, as found in &#95;&#95;cstring.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/mc/include/llvm/mc/mcdisassembler/mcsymbolizer-h/#l00077">77</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/mc/include/llvm/mc/mcdisassembler/mcsymbolizer-h">MCSymbolizer.h</a>.
</MemberDefinition>

### tryAddingSymbolicOperand() {#adac4188cce487f7706a299575df4f684}

<MemberDefinition
  prototype={<>virtual bool llvm::MCSymbolizer::tryAddingSymbolicOperand (<a href="/docs/api/classes/llvm/mcinst">MCInst</a> &amp; Inst, <a href="/docs/api/classes/llvm/raw-ostream">raw&#95;ostream</a> &amp; cStream, int64&#95;t Value, uint64&#95;t Address, bool IsBranch, uint64&#95;t Offset, uint64&#95;t OpSize, uint64&#95;t InstSize)</>}>
Try to add a symbolic operand instead of <code><a href="/docs/api/classes/llvm/value">Value</a></code> to the <a href="/docs/api/classes/llvm/mcinst">MCInst</a>.

Instead of having a difficult to read immediate, a symbolic operand would represent this immediate in a more understandable way, for instance as a symbol or an offset from a symbol. Relocations can also be used to enrich the symbolic expression. 
<ParametersList title="Parameters">
<ParametersListItem name="Inst">- The <a href="/docs/api/classes/llvm/mcinst">MCInst</a> where to insert the symbolic operand.</ParametersListItem>
<ParametersListItem name="cStream">- Stream to print comments and annotations on.</ParametersListItem>
<ParametersListItem name="<a href=&quot;/docs/api/classes/llvm/value&quot;>Value</a>">- Operand value, pc-adjusted by the caller if necessary.</ParametersListItem>
<ParametersListItem name="Address">- Load address of the instruction.</ParametersListItem>
<ParametersListItem name="IsBranch">- Is the instruction a branch?</ParametersListItem>
<ParametersListItem name="Offset">- Byte offset of the operand inside the inst.</ParametersListItem>
<ParametersListItem name="OpSize">- Size of the operand in bytes.</ParametersListItem>
<ParametersListItem name="InstSize">- Size of the instruction in bytes.</ParametersListItem>
</ParametersList>

<SectionUser title="Returns">
Whether a symbolic operand was added.
</SectionUser>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/mc/include/llvm/mc/mcdisassembler/mcsymbolizer-h/#l00069">69</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/mc/include/llvm/mc/mcdisassembler/mcsymbolizer-h">MCSymbolizer.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Protected Member Attributes

### Ctx {#ae7ae949c9f9c53c3e6e8c29799753c01}

<MemberDefinition
  prototype={<>MCContext&amp; llvm::MCSymbolizer::Ctx</>}
  labels = {["protected"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/mc/include/llvm/mc/mcdisassembler/mcsymbolizer-h/#l00041">41</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/mc/include/llvm/mc/mcdisassembler/mcsymbolizer-h">MCSymbolizer.h</a>.
</MemberDefinition>

### RelInfo {#a65399cf3fad4593f48477a0962ddd074}

<MemberDefinition
  prototype={<>std::unique&#95;ptr&lt;MCRelocationInfo&gt; llvm::MCSymbolizer::RelInfo</>}
  labels = {["protected"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/mc/include/llvm/mc/mcdisassembler/mcsymbolizer-h/#l00042">42</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/mc/include/llvm/mc/mcdisassembler/mcsymbolizer-h">MCSymbolizer.h</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following file:

<ul>
<li><a href="/docs/api/files/include/include/llvm/include/llvm/mc/include/llvm/mc/mcdisassembler/mcsymbolizer-h">MCSymbolizer.h</a></li>
</ul>

</DoxygenPage>
