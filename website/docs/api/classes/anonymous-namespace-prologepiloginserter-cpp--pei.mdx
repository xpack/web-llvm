---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/anonymous-namespace-prologepiloginserter-cpp-/pei
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `PEI` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>



## Declaration

<CodeBlock>class anonymous_namespace{PrologEpilogInserter.cpp}::PEI</CodeBlock>

## Base class

<MembersIndex>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/machinefunctionpass">MachineFunctionPass</a></>}>
<a href="/docs/api/classes/llvm/machinefunctionpass">MachineFunctionPass</a> - This class adapts the <a href="/docs/api/classes/llvm/functionpass">FunctionPass</a> interface to allow convenient creation of passes that operate on the <a href="/docs/api/classes/llvm/machinefunction">MachineFunction</a> representation. <a href="/docs/api/classes/llvm/machinefunctionpass/#details">More...</a>
</MembersIndexItem>

</MembersIndex>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a9e8f07c48260d553871a27e9f0a98252">PEI</a> ()</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="void"
  name={<><a href="#a63fab4b6208ac6a9e73d72821e5d24a8">getAnalysisUsage</a> (AnalysisUsage &amp;AU) const override</>}>
getAnalysisUsage - Subclasses that override getAnalysisUsage must call this. <a href="#a63fab4b6208ac6a9e73d72821e5d24a8">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a8677f120f60c9ac2cdc36759298a94b2">runOnMachineFunction</a> (MachineFunction &amp;MF) override</>}>
runOnMachineFunction - Insert prolog/epilog code and replace abstract frame indexes with appropriate references. <a href="#a8677f120f60c9ac2cdc36759298a94b2">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="void"
  name={<><a href="#a2674a7a15626c0b1692e9e725d039b95">calculateCallFrameInfo</a> (MachineFunction &amp;MF)</>}>
Calculate the MaxCallFrameSize variable for the function&#39;s frame information and eliminate call frame pseudo instructions. <a href="#a2674a7a15626c0b1692e9e725d039b95">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a3507021c68de0f0c650a2386d95a4930">calculateFrameObjectOffsets</a> (MachineFunction &amp;MF)</>}>
calculateFrameObjectOffsets - Calculate actual frame offsets for all of the abstract stack objects. <a href="#a3507021c68de0f0c650a2386d95a4930">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a7d61815f443af0720d5c897f098ad432">calculateSaveRestoreBlocks</a> (MachineFunction &amp;MF)</>}>
Compute the sets of entry and return blocks for saving and restoring callee-saved registers, and placing prolog and epilog code. <a href="#a7d61815f443af0720d5c897f098ad432">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a14f39fae02d8b1dc85214eb8b36ed322">insertPrologEpilogCode</a> (MachineFunction &amp;MF)</>}>
insertPrologEpilogCode - Scan the function for modified callee saved registers, insert spill code for these callee saved registers, then add prolog and epilog code to the function. <a href="#a14f39fae02d8b1dc85214eb8b36ed322">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#ad4adc5d10cb65026c654aae2c3c59669">insertZeroCallUsedRegs</a> (MachineFunction &amp;MF)</>}>
insertZeroCallUsedRegs - Zero out call used registers. <a href="#ad4adc5d10cb65026c654aae2c3c59669">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#aa25b1d6a93407ff5828d6ce9674db04b">replaceFrameIndexDebugInstr</a> (MachineFunction &amp;MF, MachineInstr &amp;MI, unsigned OpIdx, int SPAdj=0)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a800dad3a1e5d7ae567b7b9018a7ab7f8">replaceFrameIndices</a> (MachineFunction &amp;MF)</>}>
replaceFrameIndices - Replace all MO&#95;FrameIndex operands with physical register references and actual offsets. <a href="#a800dad3a1e5d7ae567b7b9018a7ab7f8">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a5aaf7db2c96b5d6b626bd6dfe493d52d">replaceFrameIndices</a> (MachineBasicBlock &#42;BB, MachineFunction &amp;MF, int &amp;SPAdj)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a416d8ac9a019a99bc2cb14ae093ae3fe">replaceFrameIndicesBackward</a> (MachineFunction &amp;MF)</>}>
Replace all FrameIndex operands with physical register references and actual offsets. <a href="#a416d8ac9a019a99bc2cb14ae093ae3fe">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a68124fa7c9636897c9d91b58db56e4af">replaceFrameIndicesBackward</a> (MachineBasicBlock &#42;BB, MachineFunction &amp;MF, int &amp;SPAdj)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a2c9eb44fef4acdd49f742adff56f2eb9">spillCalleeSavedRegs</a> (MachineFunction &amp;MF)</>}>
</MembersIndexItem>

</MembersIndex>

## Private Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type="bool"
  name={<><a href="#ab96af6903a27ded1c60bb83afe2261e6">FrameIndexEliminationScavenging</a> = false</>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a7774dea69a4aab09f08587ee8b80d051">FrameIndexVirtualScavenging</a> = false</>}>
</MembersIndexItem>

<MembersIndexItem
  type="unsigned"
  name={<><a href="#ae72a8e1aa5a5dce4135ba571987d0a99">MaxCSFrameIndex</a> = 0</>}>
</MembersIndexItem>

<MembersIndexItem
  type="unsigned"
  name={<><a href="#a6bd3c34ae71c863ecc0b8278bc85ad2d">MinCSFrameIndex</a> = std::numeric&#95;limits&lt;unsigned&gt;::max()</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machineoptimizationremarkemitter">MachineOptimizationRemarkEmitter</a> &#42;</>}
  name={<><a href="#a45df82ef37d1cc5e9c5865aadc3c53f2">ORE</a> = nullptr</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/codegen/prologepiloginserter-cpp/#a16e1dce3ef595b035bc2f10e763d0ce6">MBBVector</a></>}
  name={<><a href="#a2061f87bad66b0b9923c022945cecad4">RestoreBlocks</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/regscavenger">RegScavenger</a> &#42;</>}
  name={<><a href="#a95862bd133406ade49b60896a977e789">RS</a> = nullptr</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/codegen/prologepiloginserter-cpp/#a16e1dce3ef595b035bc2f10e763d0ce6">MBBVector</a></>}
  name={<><a href="#a5fa56a3c7304826bcf29b45a734f04d8">SaveBlocks</a></>}>
</MembersIndexItem>

</MembersIndex>

## Public Static Attributes Index

<MembersIndex>

<MembersIndexItem
  type="char"
  name={<><a href="#a38e1ce15fcd1135daa4fab9bb84c0cc4">ID</a> = 0</>}>
</MembersIndexItem>

</MembersIndex>


Definition at line 80 of file <a href="/docs/api/files/lib/lib/codegen/prologepiloginserter-cpp">PrologEpilogInserter.cpp</a>.

<SectionDefinition>

## Public Constructors

### PEI() {#a9e8f07c48260d553871a27e9f0a98252}

<MemberDefinition
  prototype={<>anonymous&#95;namespace&#123;PrologEpilogInserter.cpp&#125;::PEI::PEI ()</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/prologepiloginserter-cpp/#l00084">84</a> of file <a href="/docs/api/files/lib/lib/codegen/prologepiloginserter-cpp">PrologEpilogInserter.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### getAnalysisUsage() {#a63fab4b6208ac6a9e73d72821e5d24a8}

<MemberDefinition
  prototype={<>void PEI::getAnalysisUsage (<a href="/docs/api/classes/llvm/analysisusage">AnalysisUsage</a> &amp; AU) const</>}
  labels = {["virtual"]}>
getAnalysisUsage - Subclasses that override getAnalysisUsage must call this.

For MachineFunctionPasses, calling AU.preservesCFG() indicates that the pass does not modify the MachineBasicBlock CFG.

Definition at line <a href="/docs/api/files/lib/lib/codegen/prologepiloginserter-cpp/#l00088">88</a> of file <a href="/docs/api/files/lib/lib/codegen/prologepiloginserter-cpp">PrologEpilogInserter.cpp</a>.
</MemberDefinition>

### runOnMachineFunction() {#a8677f120f60c9ac2cdc36759298a94b2}

<MemberDefinition
  prototype={<>bool PEI::runOnMachineFunction (<a href="/docs/api/classes/llvm/machinefunction">MachineFunction</a> &amp; MF)</>}
  labels = {["virtual"]}>
runOnMachineFunction - Insert prolog/epilog code and replace abstract frame indexes with appropriate references.

Definition at line <a href="/docs/api/files/lib/lib/codegen/prologepiloginserter-cpp/#l00092">92</a> of file <a href="/docs/api/files/lib/lib/codegen/prologepiloginserter-cpp">PrologEpilogInserter.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Functions

### calculateCallFrameInfo() {#a2674a7a15626c0b1692e9e725d039b95}

<MemberDefinition
  prototype={<>void PEI::calculateCallFrameInfo (<a href="/docs/api/classes/llvm/machinefunction">MachineFunction</a> &amp; MF)</>}>
Calculate the MaxCallFrameSize variable for the function&#39;s frame information and eliminate call frame pseudo instructions.

Definition at line <a href="/docs/api/files/lib/lib/codegen/prologepiloginserter-cpp/#l00119">119</a> of file <a href="/docs/api/files/lib/lib/codegen/prologepiloginserter-cpp">PrologEpilogInserter.cpp</a>.
</MemberDefinition>

### calculateFrameObjectOffsets() {#a3507021c68de0f0c650a2386d95a4930}

<MemberDefinition
  prototype={<>void PEI::calculateFrameObjectOffsets (<a href="/docs/api/classes/llvm/machinefunction">MachineFunction</a> &amp; MF)</>}>
calculateFrameObjectOffsets - Calculate actual frame offsets for all of the abstract stack objects.

Definition at line <a href="/docs/api/files/lib/lib/codegen/prologepiloginserter-cpp/#l00123">123</a> of file <a href="/docs/api/files/lib/lib/codegen/prologepiloginserter-cpp">PrologEpilogInserter.cpp</a>.
</MemberDefinition>

### calculateSaveRestoreBlocks() {#a7d61815f443af0720d5c897f098ad432}

<MemberDefinition
  prototype={<>void PEI::calculateSaveRestoreBlocks (<a href="/docs/api/classes/llvm/machinefunction">MachineFunction</a> &amp; MF)</>}>
Compute the sets of entry and return blocks for saving and restoring callee-saved registers, and placing prolog and epilog code.

Definition at line <a href="/docs/api/files/lib/lib/codegen/prologepiloginserter-cpp/#l00120">120</a> of file <a href="/docs/api/files/lib/lib/codegen/prologepiloginserter-cpp">PrologEpilogInserter.cpp</a>.
</MemberDefinition>

### insertPrologEpilogCode() {#a14f39fae02d8b1dc85214eb8b36ed322}

<MemberDefinition
  prototype={<>void PEI::insertPrologEpilogCode (<a href="/docs/api/classes/llvm/machinefunction">MachineFunction</a> &amp; MF)</>}>
insertPrologEpilogCode - Scan the function for modified callee saved registers, insert spill code for these callee saved registers, then add prolog and epilog code to the function.

Definition at line <a href="/docs/api/files/lib/lib/codegen/prologepiloginserter-cpp/#l00138">138</a> of file <a href="/docs/api/files/lib/lib/codegen/prologepiloginserter-cpp">PrologEpilogInserter.cpp</a>.
</MemberDefinition>

### insertZeroCallUsedRegs() {#ad4adc5d10cb65026c654aae2c3c59669}

<MemberDefinition
  prototype={<>void PEI::insertZeroCallUsedRegs (<a href="/docs/api/classes/llvm/machinefunction">MachineFunction</a> &amp; MF)</>}>
insertZeroCallUsedRegs - Zero out call used registers.

Definition at line <a href="/docs/api/files/lib/lib/codegen/prologepiloginserter-cpp/#l00139">139</a> of file <a href="/docs/api/files/lib/lib/codegen/prologepiloginserter-cpp">PrologEpilogInserter.cpp</a>.
</MemberDefinition>

### replaceFrameIndexDebugInstr() {#aa25b1d6a93407ff5828d6ce9674db04b}

<MemberDefinition
  prototype={<>bool PEI::replaceFrameIndexDebugInstr (<a href="/docs/api/classes/llvm/machinefunction">MachineFunction</a> &amp; MF, <a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &amp; MI, unsigned OpIdx, int SPAdj=0)</>}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/prologepiloginserter-cpp/#l00130">130</a> of file <a href="/docs/api/files/lib/lib/codegen/prologepiloginserter-cpp">PrologEpilogInserter.cpp</a>.
</MemberDefinition>

### replaceFrameIndices() {#a800dad3a1e5d7ae567b7b9018a7ab7f8}

<MemberDefinition
  prototype={<>void PEI::replaceFrameIndices (<a href="/docs/api/classes/llvm/machinefunction">MachineFunction</a> &amp; MF)</>}>
replaceFrameIndices - Replace all MO&#95;FrameIndex operands with physical register references and actual offsets.

Definition at line <a href="/docs/api/files/lib/lib/codegen/prologepiloginserter-cpp/#l00124">124</a> of file <a href="/docs/api/files/lib/lib/codegen/prologepiloginserter-cpp">PrologEpilogInserter.cpp</a>.
</MemberDefinition>

### replaceFrameIndices() {#a5aaf7db2c96b5d6b626bd6dfe493d52d}

<MemberDefinition
  prototype={<>void PEI::replaceFrameIndices (<a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42; BB, <a href="/docs/api/classes/llvm/machinefunction">MachineFunction</a> &amp; MF, int &amp; SPAdj)</>}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/prologepiloginserter-cpp/#l00125">125</a> of file <a href="/docs/api/files/lib/lib/codegen/prologepiloginserter-cpp">PrologEpilogInserter.cpp</a>.
</MemberDefinition>

### replaceFrameIndicesBackward() {#a416d8ac9a019a99bc2cb14ae093ae3fe}

<MemberDefinition
  prototype={<>void PEI::replaceFrameIndicesBackward (<a href="/docs/api/classes/llvm/machinefunction">MachineFunction</a> &amp; MF)</>}>
Replace all FrameIndex operands with physical register references and actual offsets.

Definition at line <a href="/docs/api/files/lib/lib/codegen/prologepiloginserter-cpp/#l00134">134</a> of file <a href="/docs/api/files/lib/lib/codegen/prologepiloginserter-cpp">PrologEpilogInserter.cpp</a>.
</MemberDefinition>

### replaceFrameIndicesBackward() {#a68124fa7c9636897c9d91b58db56e4af}

<MemberDefinition
  prototype={<>void PEI::replaceFrameIndicesBackward (<a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42; BB, <a href="/docs/api/classes/llvm/machinefunction">MachineFunction</a> &amp; MF, int &amp; SPAdj)</>}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/prologepiloginserter-cpp/#l00135">135</a> of file <a href="/docs/api/files/lib/lib/codegen/prologepiloginserter-cpp">PrologEpilogInserter.cpp</a>.
</MemberDefinition>

### spillCalleeSavedRegs() {#a2c9eb44fef4acdd49f742adff56f2eb9}

<MemberDefinition
  prototype={<>void PEI::spillCalleeSavedRegs (<a href="/docs/api/classes/llvm/machinefunction">MachineFunction</a> &amp; MF)</>}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/prologepiloginserter-cpp/#l00121">121</a> of file <a href="/docs/api/files/lib/lib/codegen/prologepiloginserter-cpp">PrologEpilogInserter.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Attributes

### FrameIndexEliminationScavenging {#ab96af6903a27ded1c60bb83afe2261e6}

<MemberDefinition
  prototype={<>bool anonymous&#95;namespace&#123;PrologEpilogInserter.cpp&#125;::PEI::FrameIndexEliminationScavenging = false</>}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/prologepiloginserter-cpp/#l00114">114</a> of file <a href="/docs/api/files/lib/lib/codegen/prologepiloginserter-cpp">PrologEpilogInserter.cpp</a>.
</MemberDefinition>

### FrameIndexVirtualScavenging {#a7774dea69a4aab09f08587ee8b80d051}

<MemberDefinition
  prototype={<>bool anonymous&#95;namespace&#123;PrologEpilogInserter.cpp&#125;::PEI::FrameIndexVirtualScavenging = false</>}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/prologepiloginserter-cpp/#l00110">110</a> of file <a href="/docs/api/files/lib/lib/codegen/prologepiloginserter-cpp">PrologEpilogInserter.cpp</a>.
</MemberDefinition>

### MaxCSFrameIndex {#ae72a8e1aa5a5dce4135ba571987d0a99}

<MemberDefinition
  prototype={<>unsigned anonymous&#95;namespace&#123;PrologEpilogInserter.cpp&#125;::PEI::MaxCSFrameIndex = 0</>}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/prologepiloginserter-cpp/#l00100">100</a> of file <a href="/docs/api/files/lib/lib/codegen/prologepiloginserter-cpp">PrologEpilogInserter.cpp</a>.
</MemberDefinition>

### MinCSFrameIndex {#a6bd3c34ae71c863ecc0b8278bc85ad2d}

<MemberDefinition
  prototype={<>unsigned anonymous&#95;namespace&#123;PrologEpilogInserter.cpp&#125;::PEI::MinCSFrameIndex = std::numeric&#95;limits&lt;unsigned&gt;::max()</>}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/prologepiloginserter-cpp/#l00099">99</a> of file <a href="/docs/api/files/lib/lib/codegen/prologepiloginserter-cpp">PrologEpilogInserter.cpp</a>.
</MemberDefinition>

### ORE {#a45df82ef37d1cc5e9c5865aadc3c53f2}

<MemberDefinition
  prototype={<>MachineOptimizationRemarkEmitter&#42; anonymous&#95;namespace&#123;PrologEpilogInserter.cpp&#125;::PEI::ORE = nullptr</>}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/prologepiloginserter-cpp/#l00117">117</a> of file <a href="/docs/api/files/lib/lib/codegen/prologepiloginserter-cpp">PrologEpilogInserter.cpp</a>.
</MemberDefinition>

### RestoreBlocks {#a2061f87bad66b0b9923c022945cecad4}

<MemberDefinition
  prototype={<>MBBVector anonymous&#95;namespace&#123;PrologEpilogInserter.cpp&#125;::PEI::RestoreBlocks</>}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/prologepiloginserter-cpp/#l00105">105</a> of file <a href="/docs/api/files/lib/lib/codegen/prologepiloginserter-cpp">PrologEpilogInserter.cpp</a>.
</MemberDefinition>

### RS {#a95862bd133406ade49b60896a977e789}

<MemberDefinition
  prototype={<>RegScavenger&#42; anonymous&#95;namespace&#123;PrologEpilogInserter.cpp&#125;::PEI::RS = nullptr</>}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/prologepiloginserter-cpp/#l00095">95</a> of file <a href="/docs/api/files/lib/lib/codegen/prologepiloginserter-cpp">PrologEpilogInserter.cpp</a>.
</MemberDefinition>

### SaveBlocks {#a5fa56a3c7304826bcf29b45a734f04d8}

<MemberDefinition
  prototype={<>MBBVector anonymous&#95;namespace&#123;PrologEpilogInserter.cpp&#125;::PEI::SaveBlocks</>}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/prologepiloginserter-cpp/#l00104">104</a> of file <a href="/docs/api/files/lib/lib/codegen/prologepiloginserter-cpp">PrologEpilogInserter.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Static Attributes

### ID {#a38e1ce15fcd1135daa4fab9bb84c0cc4}

<MemberDefinition
  prototype="char PEI::ID = 0"
  labels = {["static"]}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/prologepiloginserter-cpp/#l00082">82</a> of file <a href="/docs/api/files/lib/lib/codegen/prologepiloginserter-cpp">PrologEpilogInserter.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following file:

<ul>
<li><a href="/docs/api/files/lib/lib/codegen/prologepiloginserter-cpp">PrologEpilogInserter.cpp</a></li>
</ul>

</DoxygenPage>
