---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/llvm/detail/ptrusevisitorbase
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `PtrUseVisitorBase` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>

Implementation of non-dependent functionality for <code><a href="/docs/api/classes/llvm/ptrusevisitor">PtrUseVisitor</a></code>. <a href="#details">More...</a>

## Declaration

<CodeBlock>class llvm::detail::PtrUseVisitorBase</CodeBlock>

## Included Headers

<IncludesList>
<IncludesListItem
  filePath="llvm/Analysis/PtrUseVisitor.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/analysis/ptrusevisitor-h"
  isLocal="true" />
</IncludesList>

## Derived Classes

<MembersIndex>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/ptrusevisitor">PtrUseVisitor&lt;DerivedT&gt;</a></>}>
A base class for visitors over the uses of a pointer value. <a href="/docs/api/classes/llvm/ptrusevisitor/#details">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/ptrusevisitor">PtrUseVisitor&lt;DerivedT&gt;</a></>}>
A base class for visitors over the uses of a pointer value. <a href="/docs/api/classes/llvm/ptrusevisitor/#details">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/ptrusevisitor">PtrUseVisitor&lt;DerivedT&gt;</a></>}>
A base class for visitors over the uses of a pointer value. <a href="/docs/api/classes/llvm/ptrusevisitor/#details">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/ptrusevisitor">PtrUseVisitor&lt;DerivedT&gt;</a></>}>
A base class for visitors over the uses of a pointer value. <a href="/docs/api/classes/llvm/ptrusevisitor/#details">More...</a>
</MembersIndexItem>

</MembersIndex>

## Protected Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a17dd1253e0ec2090980e7544fea1bd83">PtrUseVisitorBase</a> (const DataLayout &amp;DL)</>}>
Note that the constructor is protected because this class must be a base class, we can&#39;t create instances directly of this class. <a href="#a17dd1253e0ec2090980e7544fea1bd83">More...</a>
</MembersIndexItem>

</MembersIndex>

## Protected Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="bool"
  name={<><a href="#a64dcf542ea4428468c3250f5516eaad0">adjustOffsetForGEP</a> (GetElementPtrInst &amp;GEPI)</>}>
Walk the operands of a GEP and adjust the offset as appropriate. <a href="#a64dcf542ea4428468c3250f5516eaad0">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a0ea2fc89be409baf64d5a935f6b02f28">enqueueUsers</a> (Value &amp;I)</>}>
Enqueue the users of this instruction in the visit worklist. <a href="#a0ea2fc89be409baf64d5a935f6b02f28">More...</a>
</MembersIndexItem>

</MembersIndex>

## Protected Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/datalayout">DataLayout</a> &amp;</>}
  name={<><a href="#ac5b2513c27d0e8fe9a9214eb9fe99a7b">DL</a></>}>
</MembersIndexItem>

</MembersIndex>

## Visitation infrastructure Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/detail/ptrusevisitorbase/ptrinfo">PtrInfo</a></>}
  name={<><a href="#a6847f1159ccc4f90e71099c76800f893">PI</a></>}>
The info collected about the pointer being visited thus far. <a href="#a6847f1159ccc4f90e71099c76800f893">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/smallptrset">SmallPtrSet</a>&lt; <a href="/docs/api/classes/llvm/use">Use</a> &#42;, 8 &gt;</>}
  name={<><a href="#af7e154950d853141249e15827b62d6e4">VisitedUses</a></>}>
A set of visited uses to break cycles in unreachable code. <a href="#af7e154950d853141249e15827b62d6e4">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/smallvector">SmallVector</a>&lt; <a href="/docs/api/structs/llvm/detail/ptrusevisitorbase/usetovisit">UseToVisit</a>, 8 &gt;</>}
  name={<><a href="#a25895eaaa828e3f424556096c2436470">Worklist</a></>}>
The worklist of to-visit uses. <a href="#a25895eaaa828e3f424556096c2436470">More...</a>
</MembersIndexItem>

</MembersIndex>

## Per-visit state Index

<MembersIndex>

<MembersIndexItem
  type="bool"
  name={<><a href="#a316979fc921154b24c0c323810c285b6">IsOffsetKnown</a></>}>
True if we have a known constant offset for the use currently being visited. <a href="#a316979fc921154b24c0c323810c285b6">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/apint">APInt</a></>}
  name={<><a href="#a082865790e32a27f3e3adf8db2c556e6">Offset</a></>}>
The constant offset of the use if that is known. <a href="#a082865790e32a27f3e3adf8db2c556e6">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/use">Use</a> &#42;</>}
  name={<><a href="#ac1e78f8a1f204bed8ad26681199fa16b">U</a></>}>
The use currently being visited. <a href="#ac1e78f8a1f204bed8ad26681199fa16b">More...</a>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

Implementation of non-dependent functionality for <code><a href="/docs/api/classes/llvm/ptrusevisitor">PtrUseVisitor</a></code>.

See <code><a href="/docs/api/classes/llvm/ptrusevisitor">PtrUseVisitor</a></code> for the public interface and detailed comments about usage. This class is just a helper base class which is not templated and contains all common code to be shared between different instantiations of <a href="/docs/api/classes/llvm/ptrusevisitor">PtrUseVisitor</a>.

Definition at line 46 of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/ptrusevisitor-h">PtrUseVisitor.h</a>.

<SectionDefinition>

## Protected Constructors

### PtrUseVisitorBase() {#a17dd1253e0ec2090980e7544fea1bd83}

<MemberDefinition
  prototype={<>llvm::detail::PtrUseVisitorBase::PtrUseVisitorBase (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/datalayout">DataLayout</a> &amp; DL)</>}
  labels = {["inline", "protected"]}>
Note that the constructor is protected because this class must be a base class, we can&#39;t create instances directly of this class.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/ptrusevisitor-h/#l00165">165</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/ptrusevisitor-h">PtrUseVisitor.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Protected Member Functions

### adjustOffsetForGEP() {#a64dcf542ea4428468c3250f5516eaad0}

<MemberDefinition
  prototype={<>bool detail::PtrUseVisitorBase::adjustOffsetForGEP (<a href="/docs/api/classes/llvm/getelementptrinst">GetElementPtrInst</a> &amp; GEPI)</>}
  labels = {["protected"]}>
Walk the operands of a GEP and adjust the offset as appropriate.

This routine does the heavy lifting of the pointer walk by computing offsets and looking through GEPs.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/ptrusevisitor-h/#l00177">177</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/ptrusevisitor-h">PtrUseVisitor.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/ptrusevisitor-cpp/#l00032">32</a> of file <a href="/docs/api/files/lib/lib/analysis/ptrusevisitor-cpp">PtrUseVisitor.cpp</a>.
</MemberDefinition>

### enqueueUsers() {#a0ea2fc89be409baf64d5a935f6b02f28}

<MemberDefinition
  prototype={<>void detail::PtrUseVisitorBase::enqueueUsers (<a href="/docs/api/classes/llvm/value">Value</a> &amp; I)</>}
  labels = {["protected"]}>
Enqueue the users of this instruction in the visit worklist.

This will visit the users with the same offset of the current visit (including an unknown offset if that is the current state).

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/ptrusevisitor-h/#l00171">171</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/ptrusevisitor-h">PtrUseVisitor.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/ptrusevisitor-cpp/#l00020">20</a> of file <a href="/docs/api/files/lib/lib/analysis/ptrusevisitor-cpp">PtrUseVisitor.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Protected Member Attributes

### DL {#ac5b2513c27d0e8fe9a9214eb9fe99a7b}

<MemberDefinition
  prototype={<>const DataLayout&amp; llvm::detail::PtrUseVisitorBase::DL</>}
  labels = {["protected"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/ptrusevisitor-h/#l00120">120</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/ptrusevisitor-h">PtrUseVisitor.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Visitation infrastructure

### PI {#a6847f1159ccc4f90e71099c76800f893}

<MemberDefinition
  prototype="PtrInfo llvm::detail::PtrUseVisitorBase::PI"
  labels = {["protected"]}>
The info collected about the pointer being visited thus far.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/ptrusevisitor-h/#l00126">126</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/ptrusevisitor-h">PtrUseVisitor.h</a>.
</MemberDefinition>

### VisitedUses {#af7e154950d853141249e15827b62d6e4}

<MemberDefinition
  prototype={<>SmallPtrSet&lt;Use &#42;, 8&gt; llvm::detail::PtrUseVisitorBase::VisitedUses</>}
  labels = {["protected"]}>
A set of visited uses to break cycles in unreachable code.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/ptrusevisitor-h/#l00143">143</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/ptrusevisitor-h">PtrUseVisitor.h</a>.
</MemberDefinition>

### Worklist {#a25895eaaa828e3f424556096c2436470}

<MemberDefinition
  prototype={<>SmallVector&lt;UseToVisit, 8&gt; llvm::detail::PtrUseVisitorBase::Worklist</>}
  labels = {["protected"]}>
The worklist of to-visit uses.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/ptrusevisitor-h/#l00140">140</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/ptrusevisitor-h">PtrUseVisitor.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Per-visit state


This state is reset for each instruction visited.

### IsOffsetKnown {#a316979fc921154b24c0c323810c285b6}

<MemberDefinition
  prototype="bool llvm::detail::PtrUseVisitorBase::IsOffsetKnown"
  labels = {["protected"]}>
True if we have a known constant offset for the use currently being visited.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/ptrusevisitor-h/#l00156">156</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/ptrusevisitor-h">PtrUseVisitor.h</a>.
</MemberDefinition>

### Offset {#a082865790e32a27f3e3adf8db2c556e6}

<MemberDefinition
  prototype="APInt llvm::detail::PtrUseVisitorBase::Offset"
  labels = {["protected"]}>
The constant offset of the use if that is known.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/ptrusevisitor-h/#l00159">159</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/ptrusevisitor-h">PtrUseVisitor.h</a>.
</MemberDefinition>

### U {#ac1e78f8a1f204bed8ad26681199fa16b}

<MemberDefinition
  prototype={<>Use&#42; llvm::detail::PtrUseVisitorBase::U</>}
  labels = {["protected"]}>
The use currently being visited.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/ptrusevisitor-h/#l00152">152</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/ptrusevisitor-h">PtrUseVisitor.h</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following files:

<ul>
<li><a href="/docs/api/files/include/include/llvm/include/llvm/analysis/ptrusevisitor-h">PtrUseVisitor.h</a></li>
<li><a href="/docs/api/files/lib/lib/analysis/ptrusevisitor-cpp">PtrUseVisitor.cpp</a></li>
</ul>

</DoxygenPage>
