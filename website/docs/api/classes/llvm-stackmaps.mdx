---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/llvm/stackmaps
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `StackMaps` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>



## Declaration

<CodeBlock>class llvm::StackMaps</CodeBlock>

## Included Headers

<IncludesList>
<IncludesListItem
  filePath="llvm/CodeGen/StackMaps.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h"
  isLocal="true" />
</IncludesList>

## Public Member Typedefs Index

<MembersIndex>

<MembersIndexItem
  type="using"
  name={<><a href="#abfa1a29a881b7acc55117704cf0f6c4c">CallsiteInfoList</a> = std::vector&lt; <a href="/docs/api/structs/llvm/stackmaps/callsiteinfo">CallsiteInfo</a> &gt;</>}>
</MembersIndexItem>

<MembersIndexItem
  type="using"
  name={<><a href="#a9567d7a87531ba41848dbded854caa76">ConstantPool</a> = <a href="/docs/api/classes/llvm/mapvector">MapVector</a>&lt; uint64&#95;t, uint64&#95;t &gt;</>}>
</MembersIndexItem>

<MembersIndexItem
  type="using"
  name={<><a href="#aa82c7ebb50f79e9f4e8be394ff1f4280">FnInfoMap</a> = <a href="/docs/api/classes/llvm/mapvector">MapVector</a>&lt; <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/mcsymbol">MCSymbol</a> &#42;, <a href="/docs/api/structs/llvm/stackmaps/functioninfo">FunctionInfo</a> &gt;</>}>
</MembersIndexItem>

<MembersIndexItem
  type="using"
  name={<><a href="#a85a4bfddff0c7f8d3f474788a2e8a5d0">LiveOutVec</a> = <a href="/docs/api/classes/llvm/smallvector">SmallVector</a>&lt; <a href="/docs/api/structs/llvm/stackmaps/liveoutreg">LiveOutReg</a>, 8 &gt;</>}>
</MembersIndexItem>

<MembersIndexItem
  type="using"
  name={<><a href="#abd10846f022ea0ca579e64604ab40604">LocationVec</a> = <a href="/docs/api/classes/llvm/smallvector">SmallVector</a>&lt; <a href="/docs/api/structs/llvm/stackmaps/location">Location</a>, 8 &gt;</>}>
</MembersIndexItem>

<MembersIndexItem
  type="using"
  name={<><a href="#a239279fa569564dff1d5ed13903c8f00">OpType</a> = enum &#123; DirectMemRefOp, IndirectMemRefOp, ConstantOp &#125;</>}>
</MembersIndexItem>

</MembersIndex>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a1a776c51f82ece4ef812e2bd3015977d">StackMaps</a> (AsmPrinter &amp;AP)</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="#abfa1a29a881b7acc55117704cf0f6c4c">CallsiteInfoList</a> &amp;</>}
  name={<><a href="#ad8cdb111ecc3aa30169e1cd09c429dc7">getCSInfos</a> ()</>}>
Get call site info. <a href="#ad8cdb111ecc3aa30169e1cd09c429dc7">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="#aa82c7ebb50f79e9f4e8be394ff1f4280">FnInfoMap</a> &amp;</>}
  name={<><a href="#ad1d146def33c43931a7aad77bdf5dfc7">getFnInfos</a> ()</>}>
Get function info. <a href="#ad1d146def33c43931a7aad77bdf5dfc7">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#ac29d96c130705fae151f95b1215e7ea2">recordPatchPoint</a> (const MCSymbol &amp;L, const MachineInstr &amp;MI)</>}>
Generate a stackmap record for a patchpoint instruction. <a href="#ac29d96c130705fae151f95b1215e7ea2">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#ae7e0d21e7b7d893213aff8459e87c6c2">recordStackMap</a> (const MCSymbol &amp;L, const MachineInstr &amp;MI)</>}>
Generate a stackmap record for a stackmap instruction. <a href="#ae7e0d21e7b7d893213aff8459e87c6c2">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#abf7e8cc29c69ba598ca74cdaf4684f1b">recordStatepoint</a> (const MCSymbol &amp;L, const MachineInstr &amp;MI)</>}>
Generate a stackmap record for a statepoint instruction. <a href="#abf7e8cc29c69ba598ca74cdaf4684f1b">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#ad8a8f4a1317037479dc1bd2306412ea5">reset</a> ()</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a64f17d34c6ec33d574438b69fa43c2e2">serializeToStackMapSection</a> ()</>}>
If there is any stack map data, create a stack map section and serialize the map info into it. <a href="#a64f17d34c6ec33d574438b69fa43c2e2">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Functions Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/structs/llvm/stackmaps/liveoutreg">LiveOutReg</a></>}
  name={<><a href="#a6818a685c56f97e679e383ed566d5608">createLiveOutReg</a> (unsigned Reg, const TargetRegisterInfo &#42;TRI) const</>}>
Create a live-out register record for the given register <code>Reg</code>. <a href="#a6818a685c56f97e679e383ed566d5608">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a135b3048b4bd834fa030e41fa9376b6d">debug</a> ()</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a1b5ea170fffe072b252dec9bd7dd5edf">emitCallsiteEntries</a> (MCStreamer &amp;OS)</>}>
Emit the callsite info for each stackmap/patchpoint intrinsic call. <a href="#a1b5ea170fffe072b252dec9bd7dd5edf">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a621d8c17c3a444567991bd1c8077676e">emitConstantPoolEntries</a> (MCStreamer &amp;OS)</>}>
Emit the constant pool. <a href="#a621d8c17c3a444567991bd1c8077676e">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a9a0d880814cbfa68ee095fb35bc1ba3b">emitFunctionFrameRecords</a> (MCStreamer &amp;OS)</>}>
Emit the function frame record for each function. <a href="#a9a0d880814cbfa68ee095fb35bc1ba3b">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a4ce0ba2ca1ab3cd09e74c2335effd0ab">emitStackmapHeader</a> (MCStreamer &amp;OS)</>}>
Emit the stackmap header. <a href="#a4ce0ba2ca1ab3cd09e74c2335effd0ab">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machineinstr/#a476971826fa13b07e28ad971ec5a3234">MachineInstr::const&#95;mop&#95;iterator</a></>}
  name={<><a href="#a0cf2e24eb3d06ba9b5d137f17e07d87a">parseOperand</a> (MachineInstr::const&#95;mop&#95;iterator MOI, MachineInstr::const&#95;mop&#95;iterator MOE, LocationVec &amp;Locs, LiveOutVec &amp;LiveOuts)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="#a85a4bfddff0c7f8d3f474788a2e8a5d0">LiveOutVec</a></>}
  name={<><a href="#afe63ab7253698f19218bd95182f736b9">parseRegisterLiveOutMask</a> (const uint32&#95;t &#42;Mask) const</>}>
Parse the register live-out mask and return a vector of live-out registers that need to be recorded in the stackmap. <a href="#afe63ab7253698f19218bd95182f736b9">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#aac31350f79e49c00cdead92c9138083f">parseStatepointOpers</a> (const MachineInstr &amp;MI, MachineInstr::const&#95;mop&#95;iterator MOI, MachineInstr::const&#95;mop&#95;iterator MOE, LocationVec &amp;Locations, LiveOutVec &amp;LiveOuts)</>}>
Specialized parser of statepoint operands. <a href="#aac31350f79e49c00cdead92c9138083f">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a0af6a5531e112d693fbdec53101ba1a3">print</a> (raw&#95;ostream &amp;OS)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a4c2dc521e0ab30d61650dbc875cecb0b">recordStackMapOpers</a> (const MCSymbol &amp;L, const MachineInstr &amp;MI, uint64&#95;t ID, MachineInstr::const&#95;mop&#95;iterator MOI, MachineInstr::const&#95;mop&#95;iterator MOE, bool recordResult=false)</>}>
<a href="/docs/api/classes/llvm/record">Record</a> the locations of the operands of the provided instruction in a record keyed by the provided label. <a href="#a4c2dc521e0ab30d61650dbc875cecb0b">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/asmprinter">AsmPrinter</a> &amp;</>}
  name={<><a href="#a0e94f85c07dfe78b4bea1a4736237cdd">AP</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="#a9567d7a87531ba41848dbded854caa76">ConstantPool</a></>}
  name={<><a href="#a1ff9d048c0e3387901cf2d59b8c25d54">ConstPool</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="#abfa1a29a881b7acc55117704cf0f6c4c">CallsiteInfoList</a></>}
  name={<><a href="#ab10225515f2bc6a1d7da6d7a7a99a083">CSInfos</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="#aa82c7ebb50f79e9f4e8be394ff1f4280">FnInfoMap</a></>}
  name={<><a href="#a18a77bb3539214254882e23b8ad94dd8">FnInfos</a></>}>
</MembersIndexItem>

</MembersIndex>

## Public Static Functions Index

<MembersIndex>

<MembersIndexItem
  type="unsigned"
  name={<><a href="#a0678a1f52ff04158310e4157e81282f6">getNextMetaArgIdx</a> (const MachineInstr &#42;MI, unsigned CurIdx)</>}>
Get index of next meta operand. <a href="#a0678a1f52ff04158310e4157e81282f6">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Static Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> char &#42;</>}
  name={<><a href="#a9f4e28b6a926e8f7a66cae35d70736a3">WSMP</a> = &quot;Stack Maps: &quot;</>}>
</MembersIndexItem>

</MembersIndex>


Definition at line 259 of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h">StackMaps.h</a>.

<SectionDefinition>

## Public Member Typedefs

### CallsiteInfoList {#abfa1a29a881b7acc55117704cf0f6c4c}

<MemberDefinition
  prototype={<>using llvm::StackMaps::CallsiteInfoList =  std::vector&lt;CallsiteInfo&gt;</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h/#l00333">333</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h">StackMaps.h</a>.
</MemberDefinition>

### ConstantPool {#a9567d7a87531ba41848dbded854caa76}

<MemberDefinition
  prototype={<>using llvm::StackMaps::ConstantPool =  MapVector&lt;uint64&#95;t, uint64&#95;t&gt;</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h/#l00309">309</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h">StackMaps.h</a>.
</MemberDefinition>

### FnInfoMap {#aa82c7ebb50f79e9f4e8be394ff1f4280}

<MemberDefinition
  prototype={<>using llvm::StackMaps::FnInfoMap =  MapVector&lt;const MCSymbol &#42;, FunctionInfo&gt;</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h/#l00332">332</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h">StackMaps.h</a>.
</MemberDefinition>

### LiveOutVec {#a85a4bfddff0c7f8d3f474788a2e8a5d0}

<MemberDefinition
  prototype={<>using llvm::StackMaps::LiveOutVec =  SmallVector&lt;LiveOutReg, 8&gt;</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h/#l00308">308</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h">StackMaps.h</a>.
</MemberDefinition>

### LocationVec {#abd10846f022ea0ca579e64604ab40604}

<MemberDefinition
  prototype={<>using llvm::StackMaps::LocationVec =  SmallVector&lt;Location, 8&gt;</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h/#l00307">307</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h">StackMaps.h</a>.
</MemberDefinition>

### OpType {#a239279fa569564dff1d5ed13903c8f00}

<MemberDefinition
  prototype={<>using llvm::StackMaps::OpType =  enum &#123; DirectMemRefOp, IndirectMemRefOp, ConstantOp &#125;</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h/#l00293">293</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h">StackMaps.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Constructors

### StackMaps() {#a1a776c51f82ece4ef812e2bd3015977d}

<MemberDefinition
  prototype={<>StackMaps::StackMaps (<a href="/docs/api/classes/llvm/asmprinter">AsmPrinter</a> &amp; AP)</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h/#l00295">295</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h">StackMaps.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/stackmaps-cpp/#l00165">165</a> of file <a href="/docs/api/files/lib/lib/codegen/stackmaps-cpp">StackMaps.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### getCSInfos() {#ad8cdb111ecc3aa30169e1cd09c429dc7}

<MemberDefinition
  prototype={<>CallsiteInfoList &amp; llvm::StackMaps::getCSInfos ()</>}
  labels = {["inline"]}>
Get call site info.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h/#l00355">355</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h">StackMaps.h</a>.
</MemberDefinition>

### getFnInfos() {#ad1d146def33c43931a7aad77bdf5dfc7}

<MemberDefinition
  prototype={<>FnInfoMap &amp; llvm::StackMaps::getFnInfos ()</>}
  labels = {["inline"]}>
Get function info.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h/#l00358">358</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h">StackMaps.h</a>.
</MemberDefinition>

### recordPatchPoint() {#ac29d96c130705fae151f95b1215e7ea2}

<MemberDefinition
  prototype={<>void StackMaps::recordPatchPoint (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/mcsymbol">MCSymbol</a> &amp; L, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &amp; MI)</>}>
Generate a stackmap record for a patchpoint instruction.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h/#l00342">342</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h">StackMaps.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/stackmaps-cpp/#l00541">541</a> of file <a href="/docs/api/files/lib/lib/codegen/stackmaps-cpp">StackMaps.cpp</a>.
</MemberDefinition>

### recordStackMap() {#ae7e0d21e7b7d893213aff8459e87c6c2}

<MemberDefinition
  prototype={<>void StackMaps::recordStackMap (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/mcsymbol">MCSymbol</a> &amp; L, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &amp; MI)</>}>
Generate a stackmap record for a stackmap instruction.

MI must be a raw STACKMAP, not a PATCHPOINT.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h/#l00338">338</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h">StackMaps.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/stackmaps-cpp/#l00531">531</a> of file <a href="/docs/api/files/lib/lib/codegen/stackmaps-cpp">StackMaps.cpp</a>.
</MemberDefinition>

### recordStatepoint() {#abf7e8cc29c69ba598ca74cdaf4684f1b}

<MemberDefinition
  prototype={<>void StackMaps::recordStatepoint (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/mcsymbol">MCSymbol</a> &amp; L, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &amp; MI)</>}>
Generate a stackmap record for a statepoint instruction.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h/#l00346">346</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h">StackMaps.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/stackmaps-cpp/#l00562">562</a> of file <a href="/docs/api/files/lib/lib/codegen/stackmaps-cpp">StackMaps.cpp</a>.
</MemberDefinition>

### reset() {#ad8a8f4a1317037479dc1bd2306412ea5}

<MemberDefinition
  prototype="void llvm::StackMaps::reset ()"
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h/#l00301">301</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h">StackMaps.h</a>.
</MemberDefinition>

### serializeToStackMapSection() {#a64f17d34c6ec33d574438b69fa43c2e2}

<MemberDefinition
  prototype="void StackMaps::serializeToStackMapSection ()">
If there is any stack map data, create a stack map section and serialize the map info into it.

Serialize the stackmap data.

This clears the stack map data structures afterwards.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h/#l00352">352</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h">StackMaps.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/stackmaps-cpp/#l00715">715</a> of file <a href="/docs/api/files/lib/lib/codegen/stackmaps-cpp">StackMaps.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Functions

### createLiveOutReg() {#a6818a685c56f97e679e383ed566d5608}

<MemberDefinition
  prototype={<>StackMaps::LiveOutReg StackMaps::createLiveOutReg (unsigned Reg, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/targetregisterinfo">TargetRegisterInfo</a> &#42; TRI) const</>}>
Create a live-out register record for the given register <code>Reg</code>.

Create a live-out register record for the given register Reg.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h/#l00381">381</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h">StackMaps.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/stackmaps-cpp/#l00367">367</a> of file <a href="/docs/api/files/lib/lib/codegen/stackmaps-cpp">StackMaps.cpp</a>.
</MemberDefinition>

### debug() {#a135b3048b4bd834fa030e41fa9376b6d}

<MemberDefinition
  prototype="void llvm::StackMaps::debug ()"
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h/#l00414">414</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h">StackMaps.h</a>.
</MemberDefinition>

### emitCallsiteEntries() {#a1b5ea170fffe072b252dec9bd7dd5edf}

<MemberDefinition
  prototype={<>void StackMaps::emitCallsiteEntries (<a href="/docs/api/classes/llvm/mcstreamer">MCStreamer</a> &amp; OS)</>}>
Emit the callsite info for each stackmap/patchpoint intrinsic call.

Emit the callsite info for each callsite.

StkMapRecord&#91;NumRecords&#93; &#123; uint64 : PatchPoint <a href="/docs/api/namespaces/llvm/callingconv/#abdf8cf606905c10634e831390981b0ed">ID</a> uint32 : <a href="/docs/api/classes/llvm/instruction">Instruction</a> Offset uint16 : Reserved (record flags) uint16 : NumLocations <a href="/docs/api/structs/llvm/stackmaps/location">Location</a>&#91;NumLocations&#93; &#123; uint8 : <a href="/docs/api/classes/llvm/register">Register</a> | Direct | Indirect | <a href="/docs/api/classes/llvm/constant">Constant</a> | ConstantIndex uint8 : Size in Bytes uint16 : Dwarf RegNum int32 : Offset &#125; uint16 : Padding uint16 : NumLiveOuts LiveOuts&#91;NumLiveOuts&#93; &#123; uint16 : Dwarf RegNum uint8 : Reserved uint8 : Size in Bytes &#125; uint32 : Padding (only if required to align to 8 byte) &#125;

<a href="/docs/api/structs/llvm/stackmaps/location">Location</a> Encoding, <a href="/docs/api/classes/llvm/type">Type</a>, <a href="/docs/api/classes/llvm/value">Value</a>: 0x1, <a href="/docs/api/classes/llvm/register">Register</a>, Reg (value in register) 0x2, Direct, Reg + Offset (frame index) 0x3, Indirect, &#91;Reg + Offset&#93; (spilled value) 0x4, <a href="/docs/api/classes/llvm/constant">Constant</a>, Offset (small constant) 0x5, ConstIndex, Constants&#91;Offset&#93; (large constant)

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h/#l00411">411</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h">StackMaps.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/stackmaps-cpp/#l00659">659</a> of file <a href="/docs/api/files/lib/lib/codegen/stackmaps-cpp">StackMaps.cpp</a>.
</MemberDefinition>

### emitConstantPoolEntries() {#a621d8c17c3a444567991bd1c8077676e}

<MemberDefinition
  prototype={<>void StackMaps::emitConstantPoolEntries (<a href="/docs/api/classes/llvm/mcstreamer">MCStreamer</a> &amp; OS)</>}>
Emit the constant pool.

int64 : Constants&#91;NumConstants&#93;

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h/#l00408">408</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h">StackMaps.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/stackmaps-cpp/#l00621">621</a> of file <a href="/docs/api/files/lib/lib/codegen/stackmaps-cpp">StackMaps.cpp</a>.
</MemberDefinition>

### emitFunctionFrameRecords() {#a9a0d880814cbfa68ee095fb35bc1ba3b}

<MemberDefinition
  prototype={<>void StackMaps::emitFunctionFrameRecords (<a href="/docs/api/classes/llvm/mcstreamer">MCStreamer</a> &amp; OS)</>}>
Emit the function frame record for each function.

StkSizeRecord&#91;NumFunctions&#93; &#123; uint64 : <a href="/docs/api/classes/llvm/function">Function</a> Address uint64 : Stack Size uint64 : <a href="/docs/api/classes/llvm/record">Record</a> Count &#125;

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h/#l00405">405</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h">StackMaps.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/stackmaps-cpp/#l00605">605</a> of file <a href="/docs/api/files/lib/lib/codegen/stackmaps-cpp">StackMaps.cpp</a>.
</MemberDefinition>

### emitStackmapHeader() {#a4ce0ba2ca1ab3cd09e74c2335effd0ab}

<MemberDefinition
  prototype={<>void StackMaps::emitStackmapHeader (<a href="/docs/api/classes/llvm/mcstreamer">MCStreamer</a> &amp; OS)</>}>
Emit the stackmap header.

Header &#123; uint8 : Stack Map Version (currently 3) uint8 : Reserved (expected to be 0) uint16 : Reserved (expected to be 0) &#125; uint32 : NumFunctions uint32 : NumConstants uint32 : NumRecords

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h/#l00402">402</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h">StackMaps.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/stackmaps-cpp/#l00581">581</a> of file <a href="/docs/api/files/lib/lib/codegen/stackmaps-cpp">StackMaps.cpp</a>.
</MemberDefinition>

### parseOperand() {#a0cf2e24eb3d06ba9b5d137f17e07d87a}

<MemberDefinition
  prototype={<>MachineInstr::const&#95;mop&#95;iterator StackMaps::parseOperand (<a href="/docs/api/classes/llvm/machineinstr/#a476971826fa13b07e28ad971ec5a3234">MachineInstr::const&#95;mop&#95;iterator</a> MOI, <a href="/docs/api/classes/llvm/machineinstr/#a476971826fa13b07e28ad971ec5a3234">MachineInstr::const&#95;mop&#95;iterator</a> MOE, <a href="#abd10846f022ea0ca579e64604ab40604">LocationVec</a> &amp; Locs, <a href="#a85a4bfddff0c7f8d3f474788a2e8a5d0">LiveOutVec</a> &amp; LiveOuts)</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h/#l00369">369</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h">StackMaps.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/stackmaps-cpp/#l00207">207</a> of file <a href="/docs/api/files/lib/lib/codegen/stackmaps-cpp">StackMaps.cpp</a>.
</MemberDefinition>

### parseRegisterLiveOutMask() {#afe63ab7253698f19218bd95182f736b9}

<MemberDefinition
  prototype={<>StackMaps::LiveOutVec StackMaps::parseRegisterLiveOutMask (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> uint32&#95;t &#42; Mask) const</>}>
Parse the register live-out mask and return a vector of live-out registers that need to be recorded in the stackmap.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h/#l00386">386</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h">StackMaps.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/stackmaps-cpp/#l00376">376</a> of file <a href="/docs/api/files/lib/lib/codegen/stackmaps-cpp">StackMaps.cpp</a>.
</MemberDefinition>

### parseStatepointOpers() {#aac31350f79e49c00cdead92c9138083f}

<MemberDefinition
  prototype={<>void StackMaps::parseStatepointOpers (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &amp; MI, <a href="/docs/api/classes/llvm/machineinstr/#a476971826fa13b07e28ad971ec5a3234">MachineInstr::const&#95;mop&#95;iterator</a> MOI, <a href="/docs/api/classes/llvm/machineinstr/#a476971826fa13b07e28ad971ec5a3234">MachineInstr::const&#95;mop&#95;iterator</a> MOE, <a href="#abd10846f022ea0ca579e64604ab40604">LocationVec</a> &amp; Locations, <a href="#a85a4bfddff0c7f8d3f474788a2e8a5d0">LiveOutVec</a> &amp; LiveOuts)</>}>
Specialized parser of statepoint operands.

They do not directly correspond to StackMap record entries.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h/#l00375">375</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h">StackMaps.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/stackmaps-cpp/#l00416">416</a> of file <a href="/docs/api/files/lib/lib/codegen/stackmaps-cpp">StackMaps.cpp</a>.
</MemberDefinition>

### print() {#a0af6a5531e112d693fbdec53101ba1a3}

<MemberDefinition
  prototype={<>void StackMaps::print (<a href="/docs/api/classes/llvm/raw-ostream">raw&#95;ostream</a> &amp; OS)</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h/#l00413">413</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h">StackMaps.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/stackmaps-cpp/#l00294">294</a> of file <a href="/docs/api/files/lib/lib/codegen/stackmaps-cpp">StackMaps.cpp</a>.
</MemberDefinition>

### recordStackMapOpers() {#a4c2dc521e0ab30d61650dbc875cecb0b}

<MemberDefinition
  prototype={<>void StackMaps::recordStackMapOpers (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/mcsymbol">MCSymbol</a> &amp; L, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &amp; MI, uint64&#95;t ID, <a href="/docs/api/classes/llvm/machineinstr/#a476971826fa13b07e28ad971ec5a3234">MachineInstr::const&#95;mop&#95;iterator</a> MOI, <a href="/docs/api/classes/llvm/machineinstr/#a476971826fa13b07e28ad971ec5a3234">MachineInstr::const&#95;mop&#95;iterator</a> MOE, bool recordResult=false)</>}>
<a href="/docs/api/classes/llvm/record">Record</a> the locations of the operands of the provided instruction in a record keyed by the provided label.

For instructions w/AnyReg calling convention the return register is also recorded if requested. For STACKMAP, and PATCHPOINT the label is expected to immediately <em>preceed</em> lowering of the MI to MCInsts. For STATEPOINT, it expected to immediately <em>follow</em>. It&#39;s not clear this difference was intentional, but it exists today.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h/#l00395">395</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h">StackMaps.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/stackmaps-cpp/#l00485">485</a> of file <a href="/docs/api/files/lib/lib/codegen/stackmaps-cpp">StackMaps.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Attributes

### AP {#a0e94f85c07dfe78b4bea1a4736237cdd}

<MemberDefinition
  prototype={<>AsmPrinter&amp; llvm::StackMaps::AP</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h/#l00363">363</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h">StackMaps.h</a>.
</MemberDefinition>

### ConstPool {#a1ff9d048c0e3387901cf2d59b8c25d54}

<MemberDefinition
  prototype="ConstantPool llvm::StackMaps::ConstPool">

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h/#l00365">365</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h">StackMaps.h</a>.
</MemberDefinition>

### CSInfos {#ab10225515f2bc6a1d7da6d7a7a99a083}

<MemberDefinition
  prototype="CallsiteInfoList llvm::StackMaps::CSInfos">

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h/#l00364">364</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h">StackMaps.h</a>.
</MemberDefinition>

### FnInfos {#a18a77bb3539214254882e23b8ad94dd8}

<MemberDefinition
  prototype="FnInfoMap llvm::StackMaps::FnInfos">

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h/#l00366">366</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h">StackMaps.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Static Functions

### getNextMetaArgIdx() {#a0678a1f52ff04158310e4157e81282f6}

<MemberDefinition
  prototype={<>unsigned StackMaps::getNextMetaArgIdx (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &#42; MI, unsigned CurIdx)</>}
  labels = {["static"]}>
Get index of next meta operand.

Similar to parseOperand, but does not actually parses operand meaning.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h/#l00299">299</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h">StackMaps.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/stackmaps-cpp/#l00170">170</a> of file <a href="/docs/api/files/lib/lib/codegen/stackmaps-cpp">StackMaps.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Static Attributes

### WSMP {#a9f4e28b6a926e8f7a66cae35d70736a3}

<MemberDefinition
  prototype={<>const char &#42; StackMaps::WSMP = &quot;Stack Maps: &quot;</>}
  labels = {["static"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h/#l00361">361</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h">StackMaps.h</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following files:

<ul>
<li><a href="/docs/api/files/include/include/llvm/include/llvm/codegen/stackmaps-h">StackMaps.h</a></li>
<li><a href="/docs/api/files/lib/lib/codegen/stackmaps-cpp">StackMaps.cpp</a></li>
</ul>

</DoxygenPage>
