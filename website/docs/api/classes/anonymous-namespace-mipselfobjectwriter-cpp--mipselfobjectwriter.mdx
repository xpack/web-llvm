---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/anonymous-namespace-mipselfobjectwriter-cpp-/mipselfobjectwriter
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `MipsELFObjectWriter` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>



## Declaration

<CodeBlock>class anonymous_namespace{MipsELFObjectWriter.cpp}::MipsELFObjectWriter</CodeBlock>

## Base class

<MembersIndex>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/mcelfobjecttargetwriter">MCELFObjectTargetWriter</a></>}>
</MembersIndexItem>

</MembersIndex>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a40fe9503bf2ae9d73f83b6fd39e86bf3">MipsELFObjectWriter</a> (uint8&#95;t OSABI, bool HasRelocationAddend, bool Is64)</>}>
</MembersIndexItem>

</MembersIndex>

## Public Destructor Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a9d7113ad912833e0fadec1ec516e6854">~MipsELFObjectWriter</a> () override=default</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="unsigned"
  name={<><a href="#a8ce0a61a47b9839aeb123796d9558fe5">getRelocType</a> (MCContext &amp;Ctx, const MCValue &amp;Target, const MCFixup &amp;Fixup, bool IsPCRel) const override</>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#ab03619c0adfc7e8318628a08e39a4354">needsRelocateWithSymbol</a> (const MCValue &amp;Val, const MCSymbol &amp;Sym, unsigned Type) const override</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a5fb8605e7260a242de5a25e2b3add57d">sortRelocs</a> (const MCAssembler &amp;Asm, std::vector&lt; ELFRelocationEntry &gt; &amp;Relocs) override</>}>
Sort relocation table entries by offset except where another order is required by the MIPS ABI. <a href="#a5fb8605e7260a242de5a25e2b3add57d">More...</a>
</MembersIndexItem>

</MembersIndex>


Definition at line 44 of file <a href="/docs/api/files/lib/lib/target/lib/target/mips/lib/target/mips/mctargetdesc/mipselfobjectwriter-cpp">MipsELFObjectWriter.cpp</a>.

<SectionDefinition>

## Public Constructors

### MipsELFObjectWriter() {#a40fe9503bf2ae9d73f83b6fd39e86bf3}

<MemberDefinition
  prototype={<>MipsELFObjectWriter::MipsELFObjectWriter (uint8&#95;t OSABI, bool HasRelocationAddend, bool Is64)</>}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/mips/lib/target/mips/mctargetdesc/mipselfobjectwriter-cpp/#l00046">46</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/mips/lib/target/mips/mctargetdesc/mipselfobjectwriter-cpp">MipsELFObjectWriter.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Destructor

### ~MipsELFObjectWriter() {#a9d7113ad912833e0fadec1ec516e6854}

<MemberDefinition
  prototype={<>anonymous&#95;namespace&#123;MipsELFObjectWriter.cpp&#125;::MipsELFObjectWriter::~MipsELFObjectWriter ()</>}
  labels = {["default"]}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/mips/lib/target/mips/mctargetdesc/mipselfobjectwriter-cpp/#l00048">48</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/mips/lib/target/mips/mctargetdesc/mipselfobjectwriter-cpp">MipsELFObjectWriter.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### getRelocType() {#a8ce0a61a47b9839aeb123796d9558fe5}

<MemberDefinition
  prototype={<>unsigned MipsELFObjectWriter::getRelocType (<a href="/docs/api/classes/llvm/mccontext">MCContext</a> &amp; Ctx, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/mcvalue">MCValue</a> &amp; Target, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/mcfixup">MCFixup</a> &amp; Fixup, bool IsPCRel) const</>}
  labels = {["virtual"]}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/mips/lib/target/mips/mctargetdesc/mipselfobjectwriter-cpp/#l00050">50</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/mips/lib/target/mips/mctargetdesc/mipselfobjectwriter-cpp">MipsELFObjectWriter.cpp</a>.
</MemberDefinition>

### needsRelocateWithSymbol() {#ab03619c0adfc7e8318628a08e39a4354}

<MemberDefinition
  prototype={<>bool MipsELFObjectWriter::needsRelocateWithSymbol (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/mcvalue">MCValue</a> &amp; Val, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/mcsymbol">MCSymbol</a> &amp; Sym, unsigned Type) const</>}
  labels = {["virtual"]}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/mips/lib/target/mips/mctargetdesc/mipselfobjectwriter-cpp/#l00052">52</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/mips/lib/target/mips/mctargetdesc/mipselfobjectwriter-cpp">MipsELFObjectWriter.cpp</a>.
</MemberDefinition>

### sortRelocs() {#a5fb8605e7260a242de5a25e2b3add57d}

<MemberDefinition
  prototype={<>void MipsELFObjectWriter::sortRelocs (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/mcassembler">MCAssembler</a> &amp; Asm, std::vector&lt; <a href="/docs/api/structs/llvm/elfrelocationentry">ELFRelocationEntry</a> &gt; &amp; Relocs)</>}
  labels = {["virtual"]}>
Sort relocation table entries by offset except where another order is required by the MIPS ABI.

MIPS has a few relocations that have an AHL component in the expression used to evaluate them. This AHL component is an addend with the same number of bits as a symbol value but not all of our ABI&#39;s are able to supply a sufficiently sized addend in a single relocation.

The O32 ABI for example, uses REL relocations which store the addend in the section data. All the relocations with AHL components affect 16-bit fields so the addend for a single relocation is limited to 16-bit. This ABI resolves the limitation by linking relocations (e.g. R&#95;MIPS&#95;HI16 and R&#95;MIPS&#95;LO16) and distributing the addend between the linked relocations. The ABI mandates that such relocations must be next to each other in a particular order (e.g. R&#95;MIPS&#95;HI16 must be immediately followed by a matching R&#95;MIPS&#95;LO16) but the rule is less strict in practice.

The de facto standard is lenient in the following ways:
<ul>
<li>&#39;Immediately following&#39; does not refer to the next relocation entry but the next matching relocation.</li>
<li>There may be multiple high parts relocations for one low part relocation.</li>
<li>There may be multiple low part relocations for one high part relocation.</li>
<li>The AHL addend in each part does not have to be exactly equal as long as the difference does not affect the carry bit from bit 15 into 16. This is to allow, for example, the use of lo(foo) and lo(foo+4) when loading both halves of a long long.</li>
</ul>


See <a href="/docs/api/files/lib/lib/target/lib/target/mips/lib/target/mips/mctargetdesc/mipselfobjectwriter-cpp/#af29f17b9965a9f3bdcbbfafbf90b7f0c">getMatchingLoType()</a> for a description of which high part relocations match which low part relocations. One particular thing to note is that R&#95;MIPS&#95;GOT16 and similar only have AHL addends if they refer to local symbols.

It should also be noted that this function is not affected by whether the symbol was kept or rewritten into a section-relative equivalent. We always match using the expressions from the source.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/mips/lib/target/mips/mctargetdesc/mipselfobjectwriter-cpp/#l00054">54</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/mips/lib/target/mips/mctargetdesc/mipselfobjectwriter-cpp">MipsELFObjectWriter.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following file:

<ul>
<li><a href="/docs/api/files/lib/lib/target/lib/target/mips/lib/target/mips/mctargetdesc/mipselfobjectwriter-cpp">MipsELFObjectWriter.cpp</a></li>
</ul>

</DoxygenPage>
