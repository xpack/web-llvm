---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/llvm/moduloscheduleexpander
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `ModuloScheduleExpander` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>

The <a href="/docs/api/classes/llvm/moduloscheduleexpander">ModuloScheduleExpander</a> takes a <a href="/docs/api/classes/llvm/moduloschedule">ModuloSchedule</a> and expands it in-place, rewriting the old loop and inserting prologs and epilogs as required. <a href="#details">More...</a>

## Declaration

<CodeBlock>class llvm::ModuloScheduleExpander</CodeBlock>

## Included Headers

<IncludesList>
<IncludesListItem
  filePath="llvm/CodeGen/ModuloSchedule.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h"
  isLocal="true" />
</IncludesList>

## Public Member Typedefs Index

<MembersIndex>

<MembersIndexItem
  type="using"
  name={<><a href="#a90b1a1bcd24ae454b2967189a7ff3890">InstrChangesTy</a> = <a href="/docs/api/classes/llvm/densemap">DenseMap</a>&lt; <a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &#42;, std::pair&lt; unsigned, int64&#95;t &gt; &gt;</>}>
</MembersIndexItem>

</MembersIndex>

## Private Member Typedefs Index

<MembersIndex>

<MembersIndexItem
  type="using"
  name={<><a href="#a635b471096e984c171b72294993a58d6">InstrMapTy</a> = <a href="/docs/api/classes/llvm/densemap">DenseMap</a>&lt; <a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &#42;, <a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &#42; &gt;</>}>
</MembersIndexItem>

<MembersIndexItem
  type="using"
  name={<><a href="#a484ed8cbc211bcec174931715cae59b6">MBBVectorTy</a> = <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42; &gt;</>}>
</MembersIndexItem>

<MembersIndexItem
  type="using"
  name={<><a href="#a21f593aad4cf673083f60961404c87aa">ValueMapTy</a> = <a href="/docs/api/classes/llvm/densemap">DenseMap</a>&lt; unsigned, unsigned &gt;</>}>
</MembersIndexItem>

</MembersIndex>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#ae56e57beaf67091c69da7c12a6fe7d58">ModuloScheduleExpander</a> (MachineFunction &amp;MF, ModuloSchedule &amp;S, LiveIntervals &amp;LIS, InstrChangesTy InstrChanges)</>}>
Create a new <a href="/docs/api/classes/llvm/moduloscheduleexpander">ModuloScheduleExpander</a>. <a href="#ae56e57beaf67091c69da7c12a6fe7d58">More...</a>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="void"
  name={<><a href="#a1e6babf78504a9699ed219fab9ce3460">cleanup</a> ()</>}>
Performs final cleanup after expansion. <a href="#a1e6babf78504a9699ed219fab9ce3460">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a772c336d26015c2e6fb5efc62cf166be">expand</a> ()</>}>
Performs the actual expansion. <a href="#a772c336d26015c2e6fb5efc62cf166be">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;</>}
  name={<><a href="#a0515409dae206f2863109e9b6a4cc625">getRewrittenKernel</a> ()</>}>
Returns the newly rewritten kernel block, or nullptr if this was optimized away. <a href="#a0515409dae206f2863109e9b6a4cc625">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="void"
  name={<><a href="#a4ea4dd869786e83fc292525aa36d6b9b">addBranches</a> (MachineBasicBlock &amp;PreheaderBB, MBBVectorTy &amp;PrologBBs, MachineBasicBlock &#42;KernelBB, MBBVectorTy &amp;EpilogBBs, ValueMapTy &#42;VRMap)</>}>
Create branches from each prolog basic block to the appropriate epilog block. <a href="#a4ea4dd869786e83fc292525aa36d6b9b">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &#42;</>}
  name={<><a href="#a3cceeefb2469be799a3877cfa27de356">cloneAndChangeInstr</a> (MachineInstr &#42;OldMI, unsigned CurStageNum, unsigned InstStageNum)</>}>
Clone the instruction for the new pipelined loop. <a href="#a3cceeefb2469be799a3877cfa27de356">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &#42;</>}
  name={<><a href="#a1fc6dd082ab126afbca1e214d431e2db">cloneInstr</a> (MachineInstr &#42;OldMI, unsigned CurStageNum, unsigned InstStageNum)</>}>
Clone the instruction for the new pipelined loop and update the memory operands, if needed. <a href="#a1fc6dd082ab126afbca1e214d431e2db">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a2d401757f1b81890b243e1f35291d349">computeDelta</a> (MachineInstr &amp;MI, unsigned &amp;Delta)</>}>
Return true if we can compute the amount the instruction changes during each iteration. <a href="#a2d401757f1b81890b243e1f35291d349">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &#42;</>}
  name={<><a href="#aa5cd1c58bfea3aedaca6259a4a48a378">findDefInLoop</a> (unsigned Reg)</>}>
Return the instruction in the loop that defines the register. <a href="#aa5cd1c58bfea3aedaca6259a4a48a378">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#ab8276a809c01ef0eeea2f6535981e497">generateEpilog</a> (unsigned LastStage, MachineBasicBlock &#42;KernelBB, MachineBasicBlock &#42;OrigBB, ValueMapTy &#42;VRMap, ValueMapTy &#42;VRMapPhi, MBBVectorTy &amp;EpilogBBs, MBBVectorTy &amp;PrologBBs)</>}>
Generate the pipeline epilog code. <a href="#ab8276a809c01ef0eeea2f6535981e497">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a980818f28d6c3f160426c5aa7e18d0b0">generateExistingPhis</a> (MachineBasicBlock &#42;NewBB, MachineBasicBlock &#42;BB1, MachineBasicBlock &#42;BB2, MachineBasicBlock &#42;KernelBB, ValueMapTy &#42;VRMap, InstrMapTy &amp;InstrMap, unsigned LastStageNum, unsigned CurStageNum, bool IsLast)</>}>
Generate Phis for the specific block in the generated pipelined code. <a href="#a980818f28d6c3f160426c5aa7e18d0b0">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a54d51380889bff0fc6cc830e2de21765">generatePhis</a> (MachineBasicBlock &#42;NewBB, MachineBasicBlock &#42;BB1, MachineBasicBlock &#42;BB2, MachineBasicBlock &#42;KernelBB, ValueMapTy &#42;VRMap, ValueMapTy &#42;VRMapPhi, InstrMapTy &amp;InstrMap, unsigned LastStageNum, unsigned CurStageNum, bool IsLast)</>}>
Generate Phis for the specified block in the generated pipelined code. <a href="#a54d51380889bff0fc6cc830e2de21765">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a0574af0cf5d443c0cced6f0da0eb89d5">generatePipelinedLoop</a> ()</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#ac6407368592f847dbf14e17b6edbf554">generateProlog</a> (unsigned LastStage, MachineBasicBlock &#42;KernelBB, ValueMapTy &#42;VRMap, MBBVectorTy &amp;PrologBBs)</>}>
Generate the pipeline prolog code. <a href="#ac6407368592f847dbf14e17b6edbf554">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="unsigned"
  name={<><a href="#a3c6b4e4e9108ffe51bda9df0a643e4df">getPrevMapVal</a> (unsigned StageNum, unsigned PhiStage, unsigned LoopVal, unsigned LoopStage, ValueMapTy &#42;VRMap, MachineBasicBlock &#42;BB)</>}>
Return the new name for the value from the previous stage. <a href="#a3c6b4e4e9108ffe51bda9df0a643e4df">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="unsigned"
  name={<><a href="#ac749843d2d0351fe6a6308e8b478b46c">getStagesForPhi</a> (int Reg)</>}>
The number of stages for a Phi is a little different than other instructions. <a href="#ac749843d2d0351fe6a6308e8b478b46c">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="unsigned"
  name={<><a href="#af3c2e75da5e7d0056423d15af9af374d">getStagesForReg</a> (int Reg, unsigned CurStage)</>}>
Return the max. <a href="#af3c2e75da5e7d0056423d15af9af374d">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a0a0184a84b2c92af9a25bf70d76ab417">isLoopCarried</a> (MachineInstr &amp;Phi)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#ad9ecfcd376614c6406b242e7b1e8b4c9">removeDeadInstructions</a> (MachineBasicBlock &#42;KernelBB, MBBVectorTy &amp;EpilogBBs)</>}>
Remove instructions that generate values with no uses. <a href="#ad9ecfcd376614c6406b242e7b1e8b4c9">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a84b32ad6fc983c4d9ab9691169cfcab4">rewritePhiValues</a> (MachineBasicBlock &#42;NewBB, unsigned StageNum, ValueMapTy &#42;VRMap, InstrMapTy &amp;InstrMap)</>}>
Rewrite the Phi values in the specified block to use the mappings from the initial operand. <a href="#a84b32ad6fc983c4d9ab9691169cfcab4">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a576fedcc2dc6c4506cb025e0db5634f1">rewriteScheduledInstr</a> (MachineBasicBlock &#42;BB, InstrMapTy &amp;InstrMap, unsigned CurStageNum, unsigned PhiNum, MachineInstr &#42;Phi, unsigned OldReg, unsigned NewReg, unsigned PrevReg=0)</>}>
Rewrite a previously scheduled instruction to use the register value from the new instruction. <a href="#a576fedcc2dc6c4506cb025e0db5634f1">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a747ab797dc667e9b47d19da0d4578d63">splitLifetimes</a> (MachineBasicBlock &#42;KernelBB, MBBVectorTy &amp;EpilogBBs)</>}>
For loop carried definitions, we split the lifetime of a virtual register that has uses past the definition in the next iteration. <a href="#a747ab797dc667e9b47d19da0d4578d63">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#ad65ea5c04493f37f83a0aa80ed896b31">updateInstruction</a> (MachineInstr &#42;NewMI, bool LastDef, unsigned CurStageNum, unsigned InstrStageNum, ValueMapTy &#42;VRMap)</>}>
Update the machine instruction with new virtual registers. <a href="#ad65ea5c04493f37f83a0aa80ed896b31">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#ae1673917299251cbfa8d6e10a1ce3906">updateMemOperands</a> (MachineInstr &amp;NewMI, MachineInstr &amp;OldMI, unsigned Num)</>}>
Update the memory operand with a new offset when the pipeliner generates a new copy of the instruction that refers to a different memory location. <a href="#ae1673917299251cbfa8d6e10a1ce3906">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;</>}
  name={<><a href="#a2773222a6a5c34dedc9fa1d96ae6a671">BB</a> = nullptr</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="#a90b1a1bcd24ae454b2967189a7ff3890">InstrChangesTy</a></>}
  name={<><a href="#a5fc438001532490636ce2594a790a2e6">InstrChanges</a></>}>
Instructions to change when emitting the final schedule. <a href="#a5fc438001532490636ce2594a790a2e6">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/liveintervals">LiveIntervals</a> &amp;</>}
  name={<><a href="#abed311b9032f0a744dc1a240d8be1e52">LIS</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::unique&#95;ptr&lt; <a href="/docs/api/classes/llvm/targetinstrinfo/pipelinerloopinfo">TargetInstrInfo::PipelinerLoopInfo</a> &gt;</>}
  name={<><a href="#a0549ef5f532664882a747629fcd05aca">LoopInfo</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machinefunction">MachineFunction</a> &amp;</>}
  name={<><a href="#a6224d7cb8bae893a16b342cd783c562e">MF</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machineregisterinfo">MachineRegisterInfo</a> &amp;</>}
  name={<><a href="#a6522070fe1a24d9432cf7b09731adba1">MRI</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;</>}
  name={<><a href="#a47f4f8d9e452f7307033db31e422e899">NewKernel</a> = nullptr</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;</>}
  name={<><a href="#a34cdbe5b0c00ab11ce49f46aa9e23c24">Preheader</a> = nullptr</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::map&lt; unsigned, std::pair&lt; unsigned, bool &gt; &gt;</>}
  name={<><a href="#af60426f5ba6fae0c39aa37bde5994acc">RegToStageDiff</a></>}>
Map for each register and the max difference between its uses and def. <a href="#af60426f5ba6fae0c39aa37bde5994acc">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/moduloschedule">ModuloSchedule</a> &amp;</>}
  name={<><a href="#afdeed50fa186e519b3a7922eac5a8a0d">Schedule</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/targetsubtargetinfo">TargetSubtargetInfo</a> &amp;</>}
  name={<><a href="#adee462113c2b285b33a3336e1f451c8c">ST</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/targetinstrinfo">TargetInstrInfo</a> &#42;</>}
  name={<><a href="#add9fbe7175104136435a57d53bc39e48">TII</a> = nullptr</>}>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

The <a href="/docs/api/classes/llvm/moduloscheduleexpander">ModuloScheduleExpander</a> takes a <a href="/docs/api/classes/llvm/moduloschedule">ModuloSchedule</a> and expands it in-place, rewriting the old loop and inserting prologs and epilogs as required.

Definition at line 161 of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h">ModuloSchedule.h</a>.

<SectionDefinition>

## Public Member Typedefs

### InstrChangesTy {#a90b1a1bcd24ae454b2967189a7ff3890}

<MemberDefinition
  prototype={<>using llvm::ModuloScheduleExpander::InstrChangesTy =  DenseMap&lt;MachineInstr &#42;, std::pair&lt;unsigned, int64&#95;t&gt;&gt;</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h/#l00163">163</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h">ModuloSchedule.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Typedefs

### InstrMapTy {#a635b471096e984c171b72294993a58d6}

<MemberDefinition
  prototype={<>using llvm::ModuloScheduleExpander::InstrMapTy =  DenseMap&lt;MachineInstr &#42;, MachineInstr &#42;&gt;</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h/#l00168">168</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h">ModuloSchedule.h</a>.
</MemberDefinition>

### MBBVectorTy {#a484ed8cbc211bcec174931715cae59b6}

<MemberDefinition
  prototype={<>using llvm::ModuloScheduleExpander::MBBVectorTy =  SmallVectorImpl&lt;MachineBasicBlock &#42;&gt;</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h/#l00167">167</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h">ModuloSchedule.h</a>.
</MemberDefinition>

### ValueMapTy {#a21f593aad4cf673083f60961404c87aa}

<MemberDefinition
  prototype={<>using llvm::ModuloScheduleExpander::ValueMapTy =  DenseMap&lt;unsigned, unsigned&gt;</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h/#l00166">166</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h">ModuloSchedule.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Constructors

### ModuloScheduleExpander() {#ae56e57beaf67091c69da7c12a6fe7d58}

<MemberDefinition
  prototype={<>llvm::ModuloScheduleExpander::ModuloScheduleExpander (<a href="/docs/api/classes/llvm/machinefunction">MachineFunction</a> &amp; MF, <a href="/docs/api/classes/llvm/moduloschedule">ModuloSchedule</a> &amp; S, <a href="/docs/api/classes/llvm/liveintervals">LiveIntervals</a> &amp; LIS, <a href="#a90b1a1bcd24ae454b2967189a7ff3890">InstrChangesTy</a> InstrChanges)</>}
  labels = {["inline"]}>
Create a new <a href="/docs/api/classes/llvm/moduloscheduleexpander">ModuloScheduleExpander</a>.

<ul>
<li>InstrChanges Modifications to make to instructions with memory operands. FIXME: InstrChanges is opaque and is an implementation detail of an optimization in <a href="/docs/api/classes/llvm/machinepipeliner">MachinePipeliner</a> that crosses abstraction boundaries.</li>
</ul>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h/#l00265">265</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h">ModuloSchedule.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### cleanup() {#a1e6babf78504a9699ed219fab9ce3460}

<MemberDefinition
  prototype="void ModuloScheduleExpander::cleanup ()">
Performs final cleanup after expansion.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h/#l00274">274</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h">ModuloSchedule.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp/#l00188">188</a> of file <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp">ModuloSchedule.cpp</a>.
</MemberDefinition>

### expand() {#a772c336d26015c2e6fb5efc62cf166be}

<MemberDefinition
  prototype="void ModuloScheduleExpander::expand ()">
Performs the actual expansion.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h/#l00272">272</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h">ModuloSchedule.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp/#l00071">71</a> of file <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp">ModuloSchedule.cpp</a>.
</MemberDefinition>

### getRewrittenKernel() {#a0515409dae206f2863109e9b6a4cc625}

<MemberDefinition
  prototype={<>MachineBasicBlock &#42; llvm::ModuloScheduleExpander::getRewrittenKernel ()</>}
  labels = {["inline"]}>
Returns the newly rewritten kernel block, or nullptr if this was optimized away.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h/#l00278">278</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h">ModuloSchedule.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Functions

### addBranches() {#a4ea4dd869786e83fc292525aa36d6b9b}

<MemberDefinition
  prototype={<>void ModuloScheduleExpander::addBranches (<a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &amp; PreheaderBB, <a href="/docs/api/classes/llvm/smallvectorimpl">MBBVectorTy</a> &amp; PrologBBs, <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42; KernelBB, <a href="/docs/api/classes/llvm/smallvectorimpl">MBBVectorTy</a> &amp; EpilogBBs, <a href="/docs/api/classes/llvm/densemap">ValueMapTy</a> &#42; VRMap)</>}>
Create branches from each prolog basic block to the appropriate epilog block.

These edges are needed if the loop ends before reaching the kernel.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h/#l00211">211</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h">ModuloSchedule.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp/#l00876">876</a> of file <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp">ModuloSchedule.cpp</a>.
</MemberDefinition>

### cloneAndChangeInstr() {#a3cceeefb2469be799a3877cfa27de356}

<MemberDefinition
  prototype={<>MachineInstr &#42; ModuloScheduleExpander::cloneAndChangeInstr (<a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &#42; OldMI, unsigned CurStageNum, unsigned InstStageNum)</>}>
Clone the instruction for the new pipelined loop.

If needed, this function updates the instruction using the values saved in the InstrChanges structure.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h/#l00219">219</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h">ModuloSchedule.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp/#l01025">1025</a> of file <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp">ModuloSchedule.cpp</a>.
</MemberDefinition>

### cloneInstr() {#a1fc6dd082ab126afbca1e214d431e2db}

<MemberDefinition
  prototype={<>MachineInstr &#42; ModuloScheduleExpander::cloneInstr (<a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &#42; OldMI, unsigned CurStageNum, unsigned InstStageNum)</>}>
Clone the instruction for the new pipelined loop and update the memory operands, if needed.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h/#l00217">217</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h">ModuloSchedule.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp/#l01014">1014</a> of file <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp">ModuloSchedule.cpp</a>.
</MemberDefinition>

### computeDelta() {#a2d401757f1b81890b243e1f35291d349}

<MemberDefinition
  prototype={<>bool ModuloScheduleExpander::computeDelta (<a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &amp; MI, unsigned &amp; Delta)</>}>
Return true if we can compute the amount the instruction changes during each iteration.

Set Delta to the amount of the change.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h/#l00214">214</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h">ModuloSchedule.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp/#l00943">943</a> of file <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp">ModuloSchedule.cpp</a>.
</MemberDefinition>

### findDefInLoop() {#aa5cd1c58bfea3aedaca6259a4a48a378}

<MemberDefinition
  prototype={<>MachineInstr &#42; ModuloScheduleExpander::findDefInLoop (unsigned Reg)</>}>
Return the instruction in the loop that defines the register.

If the definition is a Phi, then follow the Phi operand to the instruction in the loop.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h/#l00224">224</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h">ModuloSchedule.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp/#l01083">1083</a> of file <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp">ModuloSchedule.cpp</a>.
</MemberDefinition>

### generateEpilog() {#ab8276a809c01ef0eeea2f6535981e497}

<MemberDefinition
  prototype={<>void ModuloScheduleExpander::generateEpilog (unsigned LastStage, <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42; KernelBB, <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42; OrigBB, <a href="/docs/api/classes/llvm/densemap">ValueMapTy</a> &#42; VRMap, <a href="/docs/api/classes/llvm/densemap">ValueMapTy</a> &#42; VRMapPhi, <a href="/docs/api/classes/llvm/smallvectorimpl">MBBVectorTy</a> &amp; EpilogBBs, <a href="/docs/api/classes/llvm/smallvectorimpl">MBBVectorTy</a> &amp; PrologBBs)</>}>
Generate the pipeline epilog code.

The epilog code finishes the iterations that were started in either the prolog or the kernel. We create a basic block for each stage that needs to complete.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h/#l00194">194</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h">ModuloSchedule.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp/#l00257">257</a> of file <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp">ModuloSchedule.cpp</a>.
</MemberDefinition>

### generateExistingPhis() {#a980818f28d6c3f160426c5aa7e18d0b0}

<MemberDefinition
  prototype={<>void ModuloScheduleExpander::generateExistingPhis (<a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42; NewBB, <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42; BB1, <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42; BB2, <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42; KernelBB, <a href="/docs/api/classes/llvm/densemap">ValueMapTy</a> &#42; VRMap, <a href="/docs/api/classes/llvm/densemap">InstrMapTy</a> &amp; InstrMap, unsigned LastStageNum, unsigned CurStageNum, bool IsLast)</>}>
Generate Phis for the specific block in the generated pipelined code.

This function looks at the Phis from the original code to guide the creation of new Phis.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h/#l00198">198</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h">ModuloSchedule.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp/#l00370">370</a> of file <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp">ModuloSchedule.cpp</a>.
</MemberDefinition>

### generatePhis() {#a54d51380889bff0fc6cc830e2de21765}

<MemberDefinition
  prototype={<>void ModuloScheduleExpander::generatePhis (<a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42; NewBB, <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42; BB1, <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42; BB2, <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42; KernelBB, <a href="/docs/api/classes/llvm/densemap">ValueMapTy</a> &#42; VRMap, <a href="/docs/api/classes/llvm/densemap">ValueMapTy</a> &#42; VRMapPhi, <a href="/docs/api/classes/llvm/densemap">InstrMapTy</a> &amp; InstrMap, unsigned LastStageNum, unsigned CurStageNum, bool IsLast)</>}>
Generate Phis for the specified block in the generated pipelined code.

These are new Phis needed because the definition is scheduled after the use in the pipelined sequence.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h/#l00203">203</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h">ModuloSchedule.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp/#l00616">616</a> of file <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp">ModuloSchedule.cpp</a>.
</MemberDefinition>

### generatePipelinedLoop() {#a0574af0cf5d443c0cced6f0da0eb89d5}

<MemberDefinition
  prototype="void ModuloScheduleExpander::generatePipelinedLoop ()">

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h/#l00191">191</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h">ModuloSchedule.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp/#l00106">106</a> of file <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp">ModuloSchedule.cpp</a>.
</MemberDefinition>

### generateProlog() {#ac6407368592f847dbf14e17b6edbf554}

<MemberDefinition
  prototype={<>void ModuloScheduleExpander::generateProlog (unsigned LastStage, <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42; KernelBB, <a href="/docs/api/classes/llvm/densemap">ValueMapTy</a> &#42; VRMap, <a href="/docs/api/classes/llvm/smallvectorimpl">MBBVectorTy</a> &amp; PrologBBs)</>}>
Generate the pipeline prolog code.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h/#l00192">192</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h">ModuloSchedule.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp/#l00197">197</a> of file <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp">ModuloSchedule.cpp</a>.
</MemberDefinition>

### getPrevMapVal() {#a3c6b4e4e9108ffe51bda9df0a643e4df}

<MemberDefinition
  prototype={<>unsigned ModuloScheduleExpander::getPrevMapVal (unsigned StageNum, unsigned PhiStage, unsigned LoopVal, unsigned LoopStage, <a href="/docs/api/classes/llvm/densemap">ValueMapTy</a> &#42; VRMap, <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42; BB)</>}>
Return the new name for the value from the previous stage.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h/#l00225">225</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h">ModuloSchedule.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp/#l01099">1099</a> of file <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp">ModuloSchedule.cpp</a>.
</MemberDefinition>

### getStagesForPhi() {#ac749843d2d0351fe6a6308e8b478b46c}

<MemberDefinition
  prototype="unsigned llvm::ModuloScheduleExpander::getStagesForPhi (int Reg)"
  labels = {["inline"]}>
The number of stages for a Phi is a little different than other instructions.

The minimum value computed in RegToStageDiff is 1 because we assume the Phi is needed for at least 1 iteration. This is not the case if the loop value is scheduled prior to the Phi in the same stage. This function returns the number of stages or iterations needed between the Phi definition and any uses.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h/#l00252">252</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h">ModuloSchedule.h</a>.
</MemberDefinition>

### getStagesForReg() {#af3c2e75da5e7d0056423d15af9af374d}

<MemberDefinition
  prototype="unsigned llvm::ModuloScheduleExpander::getStagesForReg (int Reg, unsigned CurStage)"
  labels = {["inline"]}>
Return the max.

number of stages/iterations that can occur between a register definition and its uses.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h/#l00238">238</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h">ModuloSchedule.h</a>.
</MemberDefinition>

### isLoopCarried() {#a0a0184a84b2c92af9a25bf70d76ab417}

<MemberDefinition
  prototype={<>bool ModuloScheduleExpander::isLoopCarried (<a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &amp; Phi)</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h/#l00234">234</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h">ModuloSchedule.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp/#l01221">1221</a> of file <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp">ModuloSchedule.cpp</a>.
</MemberDefinition>

### removeDeadInstructions() {#ad9ecfcd376614c6406b242e7b1e8b4c9}

<MemberDefinition
  prototype={<>void ModuloScheduleExpander::removeDeadInstructions (<a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42; KernelBB, <a href="/docs/api/classes/llvm/smallvectorimpl">MBBVectorTy</a> &amp; EpilogBBs)</>}>
Remove instructions that generate values with no uses.

Typically, these are induction variable operations that generate values used in the loop itself. A dead instruction has a definition with no uses, or uses that occur in the original loop only.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h/#l00208">208</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h">ModuloSchedule.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp/#l00739">739</a> of file <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp">ModuloSchedule.cpp</a>.
</MemberDefinition>

### rewritePhiValues() {#a84b32ad6fc983c4d9ab9691169cfcab4}

<MemberDefinition
  prototype={<>void ModuloScheduleExpander::rewritePhiValues (<a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42; NewBB, unsigned StageNum, <a href="/docs/api/classes/llvm/densemap">ValueMapTy</a> &#42; VRMap, <a href="/docs/api/classes/llvm/densemap">InstrMapTy</a> &amp; InstrMap)</>}>
Rewrite the Phi values in the specified block to use the mappings from the initial operand.

Once the Phi is scheduled, we switch to using the loop value instead of the Phi value, so those names do not need to be rewritten.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h/#l00228">228</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h">ModuloSchedule.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp/#l01131">1131</a> of file <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp">ModuloSchedule.cpp</a>.
</MemberDefinition>

### rewriteScheduledInstr() {#a576fedcc2dc6c4506cb025e0db5634f1}

<MemberDefinition
  prototype={<>void ModuloScheduleExpander::rewriteScheduledInstr (<a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42; BB, <a href="/docs/api/classes/llvm/densemap">InstrMapTy</a> &amp; InstrMap, unsigned CurStageNum, unsigned PhiNum, <a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &#42; Phi, unsigned OldReg, unsigned NewReg, unsigned PrevReg=0)</>}>
Rewrite a previously scheduled instruction to use the register value from the new instruction.

Make sure the instruction occurs in the basic block, and we don&#39;t change the uses in the new instruction.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h/#l00230">230</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h">ModuloSchedule.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp/#l01160">1160</a> of file <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp">ModuloSchedule.cpp</a>.
</MemberDefinition>

### splitLifetimes() {#a747ab797dc667e9b47d19da0d4578d63}

<MemberDefinition
  prototype={<>void ModuloScheduleExpander::splitLifetimes (<a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42; KernelBB, <a href="/docs/api/classes/llvm/smallvectorimpl">MBBVectorTy</a> &amp; EpilogBBs)</>}>
For loop carried definitions, we split the lifetime of a virtual register that has uses past the definition in the next iteration.

A copy with a new virtual register is inserted before the definition, which helps with generating a better register assignment.

v1 = phi(a, v2) v1 = phi(a, v2) v2 = phi(b, v3) v2 = phi(b, v3) v3 = .. v4 = copy v1 .. = V1 v3 = .. .. = v4

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h/#l00210">210</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h">ModuloSchedule.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp/#l00811">811</a> of file <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp">ModuloSchedule.cpp</a>.
</MemberDefinition>

### updateInstruction() {#ad65ea5c04493f37f83a0aa80ed896b31}

<MemberDefinition
  prototype={<>void ModuloScheduleExpander::updateInstruction (<a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &#42; NewMI, bool LastDef, unsigned CurStageNum, unsigned InstrStageNum, <a href="/docs/api/classes/llvm/densemap">ValueMapTy</a> &#42; VRMap)</>}>
Update the machine instruction with new virtual registers.

This function may change the definitions and/or uses.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h/#l00221">221</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h">ModuloSchedule.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp/#l01046">1046</a> of file <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp">ModuloSchedule.cpp</a>.
</MemberDefinition>

### updateMemOperands() {#ae1673917299251cbfa8d6e10a1ce3906}

<MemberDefinition
  prototype={<>void ModuloScheduleExpander::updateMemOperands (<a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &amp; NewMI, <a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &amp; OldMI, unsigned Num)</>}>
Update the memory operand with a new offset when the pipeliner generates a new copy of the instruction that refers to a different memory location.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h/#l00215">215</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h">ModuloSchedule.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp/#l00981">981</a> of file <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp">ModuloSchedule.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Attributes

### BB {#a2773222a6a5c34dedc9fa1d96ae6a671}

<MemberDefinition
  prototype={<>MachineBasicBlock&#42; llvm::ModuloScheduleExpander::BB = nullptr</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h/#l00177">177</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h">ModuloSchedule.h</a>.
</MemberDefinition>

### InstrChanges {#a5fc438001532490636ce2594a790a2e6}

<MemberDefinition
  prototype="InstrChangesTy llvm::ModuloScheduleExpander::InstrChanges">
Instructions to change when emitting the final schedule.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h/#l00189">189</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h">ModuloSchedule.h</a>.
</MemberDefinition>

### LIS {#abed311b9032f0a744dc1a240d8be1e52}

<MemberDefinition
  prototype={<>LiveIntervals&amp; llvm::ModuloScheduleExpander::LIS</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h/#l00175">175</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h">ModuloSchedule.h</a>.
</MemberDefinition>

### LoopInfo {#a0549ef5f532664882a747629fcd05aca}

<MemberDefinition
  prototype={<>std::unique&#95;ptr&lt;TargetInstrInfo::PipelinerLoopInfo&gt; llvm::ModuloScheduleExpander::LoopInfo</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h/#l00180">180</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h">ModuloSchedule.h</a>.
</MemberDefinition>

### MF {#a6224d7cb8bae893a16b342cd783c562e}

<MemberDefinition
  prototype={<>MachineFunction&amp; llvm::ModuloScheduleExpander::MF</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h/#l00171">171</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h">ModuloSchedule.h</a>.
</MemberDefinition>

### MRI {#a6522070fe1a24d9432cf7b09731adba1}

<MemberDefinition
  prototype={<>MachineRegisterInfo&amp; llvm::ModuloScheduleExpander::MRI</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h/#l00173">173</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h">ModuloSchedule.h</a>.
</MemberDefinition>

### NewKernel {#a47f4f8d9e452f7307033db31e422e899}

<MemberDefinition
  prototype={<>MachineBasicBlock&#42; llvm::ModuloScheduleExpander::NewKernel = nullptr</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h/#l00179">179</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h">ModuloSchedule.h</a>.
</MemberDefinition>

### Preheader {#a34cdbe5b0c00ab11ce49f46aa9e23c24}

<MemberDefinition
  prototype={<>MachineBasicBlock&#42; llvm::ModuloScheduleExpander::Preheader = nullptr</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h/#l00178">178</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h">ModuloSchedule.h</a>.
</MemberDefinition>

### RegToStageDiff {#af60426f5ba6fae0c39aa37bde5994acc}

<MemberDefinition
  prototype={<>std::map&lt;unsigned, std::pair&lt;unsigned, bool&gt; &gt; llvm::ModuloScheduleExpander::RegToStageDiff</>}>
Map for each register and the max difference between its uses and def.

The first element in the pair is the max difference in stages. The second is true if the register defines a Phi value and loop value is scheduled before the Phi.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h/#l00186">186</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h">ModuloSchedule.h</a>.
</MemberDefinition>

### Schedule {#afdeed50fa186e519b3a7922eac5a8a0d}

<MemberDefinition
  prototype={<>ModuloSchedule&amp; llvm::ModuloScheduleExpander::Schedule</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h/#l00170">170</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h">ModuloSchedule.h</a>.
</MemberDefinition>

### ST {#adee462113c2b285b33a3336e1f451c8c}

<MemberDefinition
  prototype={<>const TargetSubtargetInfo&amp; llvm::ModuloScheduleExpander::ST</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h/#l00172">172</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h">ModuloSchedule.h</a>.
</MemberDefinition>

### TII {#add9fbe7175104136435a57d53bc39e48}

<MemberDefinition
  prototype={<>const TargetInstrInfo&#42; llvm::ModuloScheduleExpander::TII = nullptr</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h/#l00174">174</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h">ModuloSchedule.h</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following files:

<ul>
<li><a href="/docs/api/files/include/include/llvm/include/llvm/codegen/moduloschedule-h">ModuloSchedule.h</a></li>
<li><a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp">ModuloSchedule.cpp</a></li>
</ul>

</DoxygenPage>
