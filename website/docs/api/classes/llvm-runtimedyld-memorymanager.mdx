---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/llvm/runtimedyld/memorymanager
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `MemoryManager` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>

<a href="/docs/api/classes/llvm/sys/memory">Memory</a> Management. <a href="#details">More...</a>

## Declaration

<CodeBlock>class llvm::RuntimeDyld::MemoryManager</CodeBlock>

## Included Headers

<IncludesList>
<IncludesListItem
  filePath="llvm/ExecutionEngine/RuntimeDyld.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/executionengine/runtimedyld-h"
  isLocal="true" />
</IncludesList>

## Derived Classes

<MembersIndex>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/mcjitmemorymanager">MCJITMemoryManager</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/orc/epcgenericrtdyldmemorymanager">EPCGenericRTDyldMemoryManager</a></>}>
Remote-mapped RuntimeDyld-compatible memory manager. <a href="/docs/api/classes/llvm/orc/epcgenericrtdyldmemorymanager/#details">More...</a>
</MembersIndexItem>

</MembersIndex>

## Friends Index

<MembersIndex>

<MembersIndexItem
  type="class"
  name={<><a href="#aeb53f44bd8403ff24cbf2fe93c004935">RuntimeDyld</a></>}>
</MembersIndexItem>

</MembersIndex>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a11fcc23e1236167e9335a635772fa9c1">MemoryManager</a> ()=default</>}>
</MembersIndexItem>

</MembersIndex>

## Public Destructor Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a926f7c6e1cd73838fc19eecf5e169348">~MemoryManager</a> ()=default</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type={<>uint8&#95;t &#42;</>}
  name={<><a href="#aaaa63dd49bc491d2da811c84dd9b4c0e">allocateCodeSection</a> (uintptr&#95;t Size, unsigned Alignment, unsigned SectionID, StringRef SectionName)=0</>}>
Allocate a memory block of (at least) the given size suitable for executable code. <a href="#aaaa63dd49bc491d2da811c84dd9b4c0e">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>uint8&#95;t &#42;</>}
  name={<><a href="#a762c2ef812ed069620da3bba0e65bba5">allocateDataSection</a> (uintptr&#95;t Size, unsigned Alignment, unsigned SectionID, StringRef SectionName, bool IsReadOnly)=0</>}>
Allocate a memory block of (at least) the given size suitable for data. <a href="#a762c2ef812ed069620da3bba0e65bba5">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/structs/llvm/runtimedyld/memorymanager/tlssection">TLSSection</a></>}
  name={<><a href="#a912b68c8deb0c59194e0e1c99f3d3438">allocateTLSSection</a> (uintptr&#95;t Size, unsigned Alignment, unsigned SectionID, StringRef SectionName)</>}>
Allocate a memory block of (at least) the given size to be used for thread-local storage (TLS). <a href="#a912b68c8deb0c59194e0e1c99f3d3438">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#ae51ee7c626f5408381f946809f534313">allowStubAllocation</a> () const</>}>
Override to return false to tell LLVM no stub space will be needed. <a href="#ae51ee7c626f5408381f946809f534313">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#aaf91ad2a1e825696e27be105941b03e1">deregisterEHFrames</a> ()=0</>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#abd33e61ef93ebdd7c7b40c62f43f71b3">finalizeMemory</a> (std::string &#42;ErrMsg=nullptr)=0</>}>
This method is called when object loading is complete and section page permissions can be applied. <a href="#abd33e61ef93ebdd7c7b40c62f43f71b3">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a141903e7bb948a4214fc0f74f94eb231">needsToReserveAllocationSpace</a> ()</>}>
Override to return true to enable the reserveAllocationSpace callback. <a href="#a141903e7bb948a4214fc0f74f94eb231">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a756f07a293e917107262ff4ee2bb64e0">notifyObjectLoaded</a> (RuntimeDyld &amp;RTDyld, const object::ObjectFile &amp;Obj)</>}>
This method is called after an object has been loaded into memory but before relocations are applied to the loaded sections. <a href="#a756f07a293e917107262ff4ee2bb64e0">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#ad0234bb22e2af160137c5ea5df0843c1">registerEHFrames</a> (uint8&#95;t &#42;Addr, uint64&#95;t LoadAddr, size&#95;t Size)=0</>}>
<a href="/docs/api/classes/llvm/register">Register</a> the EH frames with the runtime so that c++ exceptions work. <a href="#ad0234bb22e2af160137c5ea5df0843c1">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a10401be6f4a60bfb003221c8976049ce">reserveAllocationSpace</a> (uintptr&#95;t CodeSize, Align CodeAlign, uintptr&#95;t RODataSize, Align RODataAlign, uintptr&#95;t RWDataSize, Align RWDataAlign)</>}>
Inform the memory manager about the total amount of memory required to allocate all sections to be loaded: <code>CodeSize</code> - the total size of all code sections <code>DataSizeRO</code> - the total size of all read-only data sections <code>DataSizeRW</code> - the total size of all read-write data sections. <a href="#a10401be6f4a60bfb003221c8976049ce">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="void"
  name={<><a href="#a39f02282939f7965ab6bf8673c78e30f">anchor</a> ()</>}>
</MembersIndexItem>

</MembersIndex>

## Private Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type="bool"
  name={<><a href="#a6b624061500506b26ddb02f527db1256">FinalizationLocked</a> = false</>}>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

<a href="/docs/api/classes/llvm/sys/memory">Memory</a> Management.

Definition at line 92 of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/runtimedyld-h">RuntimeDyld.h</a>.

<SectionDefinition>

## Friends

### RuntimeDyld {#aeb53f44bd8403ff24cbf2fe93c004935}

<MemberDefinition
  prototype={<>friend class <a href="/docs/api/classes/llvm/runtimedyld">RuntimeDyld</a></>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/runtimedyld-h/#l00093">93</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/runtimedyld-h">RuntimeDyld.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Constructors

### MemoryManager() {#a11fcc23e1236167e9335a635772fa9c1}

<MemberDefinition
  prototype="llvm::RuntimeDyld::MemoryManager::MemoryManager ()"
  labels = {["default"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/runtimedyld-h/#l00096">96</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/runtimedyld-h">RuntimeDyld.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Destructor

### ~MemoryManager() {#a926f7c6e1cd73838fc19eecf5e169348}

<MemberDefinition
  prototype="virtual llvm::RuntimeDyld::MemoryManager::~MemoryManager ()"
  labels = {["virtual", "default"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/runtimedyld-h/#l00097">97</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/runtimedyld-h">RuntimeDyld.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### allocateCodeSection() {#aaaa63dd49bc491d2da811c84dd9b4c0e}

<MemberDefinition
  prototype={<>virtual uint8&#95;t &#42; llvm::RuntimeDyld::MemoryManager::allocateCodeSection (uintptr&#95;t Size, unsigned Alignment, unsigned SectionID, <a href="/docs/api/classes/llvm/stringref">StringRef</a> SectionName)</>}>
Allocate a memory block of (at least) the given size suitable for executable code.

The SectionID is a unique identifier assigned by the <a href="/docs/api/classes/llvm/runtimedyld">RuntimeDyld</a> instance, and optionally recorded by the memory manager to access a loaded section.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/runtimedyld-h/#l00103">103</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/runtimedyld-h">RuntimeDyld.h</a>.
</MemberDefinition>

### allocateDataSection() {#a762c2ef812ed069620da3bba0e65bba5}

<MemberDefinition
  prototype={<>virtual uint8&#95;t &#42; llvm::RuntimeDyld::MemoryManager::allocateDataSection (uintptr&#95;t Size, unsigned Alignment, unsigned SectionID, <a href="/docs/api/classes/llvm/stringref">StringRef</a> SectionName, bool IsReadOnly)</>}>
Allocate a memory block of (at least) the given size suitable for data.

The SectionID is a unique identifier assigned by the JIT engine, and optionally recorded by the memory manager to access a loaded section.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/runtimedyld-h/#l00110">110</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/runtimedyld-h">RuntimeDyld.h</a>.
</MemberDefinition>

### allocateTLSSection() {#a912b68c8deb0c59194e0e1c99f3d3438}

<MemberDefinition
  prototype={<>RuntimeDyld::MemoryManager::TLSSection llvm::RuntimeDyld::MemoryManager::allocateTLSSection (uintptr&#95;t Size, unsigned Alignment, unsigned SectionID, <a href="/docs/api/classes/llvm/stringref">StringRef</a> SectionName)</>}
  labels = {["virtual"]}>
Allocate a memory block of (at least) the given size to be used for thread-local storage (TLS).

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/runtimedyld-h/#l00125">125</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/runtimedyld-h">RuntimeDyld.h</a>, definition at line <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/runtimedyld/runtimedyld-cpp/#l01298">1298</a> of file <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/runtimedyld/runtimedyld-cpp">RuntimeDyld.cpp</a>.
</MemberDefinition>

### allowStubAllocation() {#ae51ee7c626f5408381f946809f534313}

<MemberDefinition
  prototype="virtual bool llvm::RuntimeDyld::MemoryManager::allowStubAllocation () const"
  labels = {["inline", "virtual"]}>
Override to return false to tell LLVM no stub space will be needed.

This requires some guarantees depending on architecuture, but when you know what you are doing it saves allocated space.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/runtimedyld-h/#l00148">148</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/runtimedyld-h">RuntimeDyld.h</a>.
</MemberDefinition>

### deregisterEHFrames() {#aaf91ad2a1e825696e27be105941b03e1}

<MemberDefinition
  prototype="virtual void llvm::RuntimeDyld::MemoryManager::deregisterEHFrames ()">

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/runtimedyld-h/#l00158">158</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/runtimedyld-h">RuntimeDyld.h</a>.
</MemberDefinition>

### finalizeMemory() {#abd33e61ef93ebdd7c7b40c62f43f71b3}

<MemberDefinition
  prototype={<>virtual bool llvm::RuntimeDyld::MemoryManager::finalizeMemory (std::string &#42; ErrMsg=nullptr)</>}>
This method is called when object loading is complete and section page permissions can be applied.

It is up to the memory manager implementation to decide whether or not to act on this method. The memory manager will typically allocate all sections as read-write and then apply specific permissions when this method is called. Code sections cannot be executed until this function has been called. In addition, any cache coherency operations needed to reliably use the memory are also performed.

Returns true if an error occurred, false otherwise.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/runtimedyld-h/#l00169">169</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/runtimedyld-h">RuntimeDyld.h</a>.
</MemberDefinition>

### needsToReserveAllocationSpace() {#a141903e7bb948a4214fc0f74f94eb231}

<MemberDefinition
  prototype="virtual bool llvm::RuntimeDyld::MemoryManager::needsToReserveAllocationSpace ()"
  labels = {["inline", "virtual"]}>
Override to return true to enable the reserveAllocationSpace callback.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/runtimedyld-h/#l00143">143</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/runtimedyld-h">RuntimeDyld.h</a>.
</MemberDefinition>

### notifyObjectLoaded() {#a756f07a293e917107262ff4ee2bb64e0}

<MemberDefinition
  prototype={<>virtual void llvm::RuntimeDyld::MemoryManager::notifyObjectLoaded (<a href="/docs/api/classes/llvm/runtimedyld">RuntimeDyld</a> &amp; RTDyld, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/object/objectfile">object::ObjectFile</a> &amp; Obj)</>}
  labels = {["inline", "virtual"]}>
This method is called after an object has been loaded into memory but before relocations are applied to the loaded sections.

<a href="/docs/api/classes/llvm/sys/memory">Memory</a> managers which are preparing code for execution in an external address space can use this call to remap the section addresses for the newly loaded object.

For clients that do not need access to an <a href="/docs/api/classes/llvm/executionengine">ExecutionEngine</a> instance this method should be preferred to its cousin <a href="/docs/api/classes/llvm/mcjitmemorymanager/#a20044c6b32c19b606470dba740867e18">MCJITMemoryManager::notifyObjectLoaded</a> as this method is compatible with ORC JIT stacks.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/runtimedyld-h/#l00182">182</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/runtimedyld-h">RuntimeDyld.h</a>.
</MemberDefinition>

### registerEHFrames() {#ad0234bb22e2af160137c5ea5df0843c1}

<MemberDefinition
  prototype={<>virtual void llvm::RuntimeDyld::MemoryManager::registerEHFrames (uint8&#95;t &#42; Addr, uint64&#95;t LoadAddr, size&#95;t Size)</>}>
<a href="/docs/api/classes/llvm/register">Register</a> the EH frames with the runtime so that c++ exceptions work.

<code>Addr</code> parameter provides the local address of the EH frame section data, while <code>LoadAddr</code> provides the address of the data in the target address space. If the section has not been remapped (which will usually be the case for local execution) these two values will be the same.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/runtimedyld-h/#l00156">156</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/runtimedyld-h">RuntimeDyld.h</a>.
</MemberDefinition>

### reserveAllocationSpace() {#a10401be6f4a60bfb003221c8976049ce}

<MemberDefinition
  prototype={<>virtual void llvm::RuntimeDyld::MemoryManager::reserveAllocationSpace (uintptr&#95;t CodeSize, <a href="/docs/api/structs/llvm/align">Align</a> CodeAlign, uintptr&#95;t RODataSize, <a href="/docs/api/structs/llvm/align">Align</a> RODataAlign, uintptr&#95;t RWDataSize, <a href="/docs/api/structs/llvm/align">Align</a> RWDataAlign)</>}
  labels = {["inline", "virtual"]}>
Inform the memory manager about the total amount of memory required to allocate all sections to be loaded: <code>CodeSize</code> - the total size of all code sections <code>DataSizeRO</code> - the total size of all read-only data sections <code>DataSizeRW</code> - the total size of all read-write data sections.

Note that by default the callback is disabled. To enable it redefine the method needsToReserveAllocationSpace to return true.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/runtimedyld-h/#l00137">137</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/runtimedyld-h">RuntimeDyld.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Functions

### anchor() {#a39f02282939f7965ab6bf8673c78e30f}

<MemberDefinition
  prototype="void llvm::RuntimeDyld::MemoryManager::anchor ()"
  labels = {["virtual"]}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/runtimedyld-h/#l00186">186</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/runtimedyld-h">RuntimeDyld.h</a>, definition at line <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/runtimedyld/runtimedyld-cpp/#l01305">1305</a> of file <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/runtimedyld/runtimedyld-cpp">RuntimeDyld.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Attributes

### FinalizationLocked {#a6b624061500506b26ddb02f527db1256}

<MemberDefinition
  prototype="bool llvm::RuntimeDyld::MemoryManager::FinalizationLocked = false">

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/runtimedyld-h/#l00188">188</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/runtimedyld-h">RuntimeDyld.h</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following files:

<ul>
<li><a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/runtimedyld-h">RuntimeDyld.h</a></li>
<li><a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/runtimedyld/runtimedyld-cpp">RuntimeDyld.cpp</a></li>
</ul>

</DoxygenPage>
