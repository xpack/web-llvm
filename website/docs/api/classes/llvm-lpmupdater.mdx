---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/llvm/lpmupdater
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `LPMUpdater` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>

This class provides an interface for updating the loop pass manager based on mutations to the loop nest. <a href="#details">More...</a>

## Declaration

<CodeBlock>class llvm::LPMUpdater</CodeBlock>

## Included Headers

<IncludesList>
<IncludesListItem
  filePath="llvm/Transforms/Scalar/LoopPassManager.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/scalar/looppassmanager-h"
  isLocal="true" />
</IncludesList>

## Friends Index

<MembersIndex>

<MembersIndexItem
  type="class"
  name={<><a href="#a5aef16aa4824db107add3b18727034f0">llvm::FunctionToLoopPassAdaptor</a></>}>
</MembersIndexItem>

</MembersIndex>

## Private Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a0976356a717f885970213320979a6a5f">LPMUpdater</a> (SmallPriorityWorklist&lt; Loop &#42;, 4 &gt; &amp;Worklist, LoopAnalysisManager &amp;LAM, bool LoopNestMode=false, bool LoopNestChanged=false)</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="void"
  name={<><a href="#ad76f37ff51a1cc6ecca63633f2247c2f">addChildLoops</a> (ArrayRef&lt; Loop &#42; &gt; NewChildLoops)</>}>
<a href="/docs/api/classes/llvm/loop">Loop</a> passes should use this method to indicate they have added new child loops of the current loop. <a href="#ad76f37ff51a1cc6ecca63633f2247c2f">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#ae95084eaa2138306765de7c711fa65b5">addSiblingLoops</a> (ArrayRef&lt; Loop &#42; &gt; NewSibLoops)</>}>
<a href="/docs/api/classes/llvm/loop">Loop</a> passes should use this method to indicate they have added new sibling loops to the current loop. <a href="#ae95084eaa2138306765de7c711fa65b5">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a92a38a4f790ce77378807db8fc9cbfee">isLoopNestChanged</a> () const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#ad898592a9fdc638d33b6b5cf0eba2bbe">markLoopAsDeleted</a> (Loop &amp;L, llvm::StringRef Name)</>}>
<a href="/docs/api/classes/llvm/loop">Loop</a> passes should use this method to indicate they have deleted a loop from the nest. <a href="#ad898592a9fdc638d33b6b5cf0eba2bbe">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a1b9987b7e794ba7a222d762cf3e438a5">markLoopNestChanged</a> (bool Changed)</>}>
Loopnest passes should use this method to indicate if the loopnest has been modified. <a href="#a1b9987b7e794ba7a222d762cf3e438a5">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#abdbad166a49b68a4a471dd24e694dbcd">revisitCurrentLoop</a> ()</>}>
Restart the current loop. <a href="#abdbad166a49b68a4a471dd24e694dbcd">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a709b63e4a32a170993568d8319ef6e69">setParentLoop</a> (Loop &#42;L)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#abdeee8c28f2338c206068a0ebc1607ab">skipCurrentLoop</a> () const</>}>
This can be queried by loop passes which run other loop passes (like pass managers) to know whether the loop needs to be skipped due to updates to the loop nest. <a href="#abdeee8c28f2338c206068a0ebc1607ab">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/loop">Loop</a> &#42;</>}
  name={<><a href="#aae980248b86a825902855e8af95b8033">CurrentL</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/namespaces/llvm/#a58dde534a0ea2a23cb6c779c5c283f75">LoopAnalysisManager</a> &amp;</>}
  name={<><a href="#a28e84a6b8e67efb8056272b9a7cf31b6">LAM</a></>}>
The analysis manager for use in the current loop nest. <a href="#a28e84a6b8e67efb8056272b9a7cf31b6">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#ab10323c620e2de4b95b66d1f759e870e">LoopNestChanged</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> bool</>}
  name={<><a href="#aee9fbbb4de3b5278f07cfba0caee62be">LoopNestMode</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a2017c346467aef511f72d20187cba83f">SkipCurrentLoop</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/smallpriorityworklist">SmallPriorityWorklist</a>&lt; <a href="/docs/api/classes/llvm/loop">Loop</a> &#42;, 4 &gt; &amp;</>}
  name={<><a href="#a1be51938a099dd489e5f58b880c115e5">Worklist</a></>}>
The <code><a href="/docs/api/classes/llvm/functiontolooppassadaptor">FunctionToLoopPassAdaptor</a>&#39;s</code> worklist of loops to process. <a href="#a1be51938a099dd489e5f58b880c115e5">More...</a>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

This class provides an interface for updating the loop pass manager based on mutations to the loop nest.

A reference to an instance of this class is passed as an argument to each <a href="/docs/api/classes/llvm/loop">Loop</a> pass, and <a href="/docs/api/classes/llvm/loop">Loop</a> passes should use it to update LPM infrastructure if they modify the loop nest structure.

<code><a href="/docs/api/classes/llvm/lpmupdater">LPMUpdater</a></code> comes with two modes: the loop mode and the loop-nest mode. In loop mode, all the loops in the function will be pushed into the worklist and when new loops are added to the pipeline, their subloops are also inserted recursively. On the other hand, in loop-nest mode, only top-level loops are contained in the worklist and the addition of new (top-level) loops will not trigger the addition of their subloops.

Definition at line 229 of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/scalar/looppassmanager-h">LoopPassManager.h</a>.

<SectionDefinition>

## Friends

### llvm::FunctionToLoopPassAdaptor {#a5aef16aa4824db107add3b18727034f0}

<MemberDefinition
  prototype={<>friend class <a href="/docs/api/classes/llvm/functiontolooppassadaptor">llvm::FunctionToLoopPassAdaptor</a></>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/scalar/looppassmanager-h/#l00337">337</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/scalar/looppassmanager-h">LoopPassManager.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Constructors

### LPMUpdater() {#a0976356a717f885970213320979a6a5f}

<MemberDefinition
  prototype={<>llvm::LPMUpdater::LPMUpdater (<a href="/docs/api/classes/llvm/smallpriorityworklist">SmallPriorityWorklist</a>&lt; <a href="/docs/api/classes/llvm/loop">Loop</a> &#42;, 4 &gt; &amp; Worklist, <a href="/docs/api/namespaces/llvm/#a58dde534a0ea2a23cb6c779c5c283f75">LoopAnalysisManager</a> &amp; LAM, bool LoopNestMode=false, bool LoopNestChanged=false)</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/scalar/looppassmanager-h/#l00356">356</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/scalar/looppassmanager-h">LoopPassManager.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### addChildLoops() {#ad76f37ff51a1cc6ecca63633f2247c2f}

<MemberDefinition
  prototype={<>void llvm::LPMUpdater::addChildLoops (<a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; <a href="/docs/api/classes/llvm/loop">Loop</a> &#42; &gt; NewChildLoops)</>}
  labels = {["inline"]}>
<a href="/docs/api/classes/llvm/loop">Loop</a> passes should use this method to indicate they have added new child loops of the current loop.

<code>NewChildLoops</code> must contain only the immediate children. <a href="/docs/api/classes/llvm/any">Any</a> nested loops within them will be visited in postorder as usual for the loop pass manager.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/scalar/looppassmanager-h/#l00270">270</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/scalar/looppassmanager-h">LoopPassManager.h</a>.
</MemberDefinition>

### addSiblingLoops() {#ae95084eaa2138306765de7c711fa65b5}

<MemberDefinition
  prototype={<>void llvm::LPMUpdater::addSiblingLoops (<a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; <a href="/docs/api/classes/llvm/loop">Loop</a> &#42; &gt; NewSibLoops)</>}
  labels = {["inline"]}>
<a href="/docs/api/classes/llvm/loop">Loop</a> passes should use this method to indicate they have added new sibling loops to the current loop.

<code>NewSibLoops</code> must only contain the immediate sibling loops. <a href="/docs/api/classes/llvm/any">Any</a> nested loops within them will be visited in postorder as usual for the loop pass manager.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/scalar/looppassmanager-h/#l00297">297</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/scalar/looppassmanager-h">LoopPassManager.h</a>.
</MemberDefinition>

### isLoopNestChanged() {#a92a38a4f790ce77378807db8fc9cbfee}

<MemberDefinition
  prototype="bool llvm::LPMUpdater::isLoopNestChanged () const"
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/scalar/looppassmanager-h/#l00326">326</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/scalar/looppassmanager-h">LoopPassManager.h</a>.
</MemberDefinition>

### markLoopAsDeleted() {#ad898592a9fdc638d33b6b5cf0eba2bbe}

<MemberDefinition
  prototype={<>void llvm::LPMUpdater::markLoopAsDeleted (<a href="/docs/api/classes/llvm/loop">Loop</a> &amp; L, <a href="/docs/api/classes/llvm/stringref">llvm::StringRef</a> Name)</>}
  labels = {["inline"]}>
<a href="/docs/api/classes/llvm/loop">Loop</a> passes should use this method to indicate they have deleted a loop from the nest.

Note that this loop must either be the current loop or a subloop of the current loop. This routine must be called prior to removing the loop from the loop nest.

If this is called for the current loop, in addition to clearing any state, this routine will mark that the current loop should be skipped by the rest of the pass management infrastructure.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/scalar/looppassmanager-h/#l00249">249</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/scalar/looppassmanager-h">LoopPassManager.h</a>.
</MemberDefinition>

### markLoopNestChanged() {#a1b9987b7e794ba7a222d762cf3e438a5}

<MemberDefinition
  prototype="void llvm::LPMUpdater::markLoopNestChanged (bool Changed)"
  labels = {["inline"]}>
Loopnest passes should use this method to indicate if the loopnest has been modified.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/scalar/looppassmanager-h/#l00332">332</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/scalar/looppassmanager-h">LoopPassManager.h</a>.
</MemberDefinition>

### revisitCurrentLoop() {#abdbad166a49b68a4a471dd24e694dbcd}

<MemberDefinition
  prototype="void llvm::LPMUpdater::revisitCurrentLoop ()"
  labels = {["inline"]}>
Restart the current loop.

<a href="/docs/api/classes/llvm/loop">Loop</a> passes should call this method to indicate the current loop has been sufficiently changed that it should be re-visited from the begining of the loop pass pipeline rather than continuing.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/scalar/looppassmanager-h/#l00318">318</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/scalar/looppassmanager-h">LoopPassManager.h</a>.
</MemberDefinition>

### setParentLoop() {#a709b63e4a32a170993568d8319ef6e69}

<MemberDefinition
  prototype={<>void llvm::LPMUpdater::setParentLoop (<a href="/docs/api/classes/llvm/loop">Loop</a> &#42; L)</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/scalar/looppassmanager-h/#l00258">258</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/scalar/looppassmanager-h">LoopPassManager.h</a>.
</MemberDefinition>

### skipCurrentLoop() {#abdeee8c28f2338c206068a0ebc1607ab}

<MemberDefinition
  prototype="bool llvm::LPMUpdater::skipCurrentLoop () const"
  labels = {["inline"]}>
This can be queried by loop passes which run other loop passes (like pass managers) to know whether the loop needs to be skipped due to updates to the loop nest.

If this returns true, the loop object may have been deleted, so passes should take care not to touch the object.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/scalar/looppassmanager-h/#l00237">237</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/scalar/looppassmanager-h">LoopPassManager.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Attributes

### CurrentL {#aae980248b86a825902855e8af95b8033}

<MemberDefinition
  prototype={<>Loop&#42; llvm::LPMUpdater::CurrentL</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/scalar/looppassmanager-h/#l00345">345</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/scalar/looppassmanager-h">LoopPassManager.h</a>.
</MemberDefinition>

### LAM {#a28e84a6b8e67efb8056272b9a7cf31b6}

<MemberDefinition
  prototype={<>LoopAnalysisManager&amp; llvm::LPMUpdater::LAM</>}>
The analysis manager for use in the current loop nest.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/scalar/looppassmanager-h/#l00343">343</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/scalar/looppassmanager-h">LoopPassManager.h</a>.
</MemberDefinition>

### LoopNestChanged {#ab10323c620e2de4b95b66d1f759e870e}

<MemberDefinition
  prototype="bool llvm::LPMUpdater::LoopNestChanged">

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/scalar/looppassmanager-h/#l00348">348</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/scalar/looppassmanager-h">LoopPassManager.h</a>.
</MemberDefinition>

### LoopNestMode {#aee9fbbb4de3b5278f07cfba0caee62be}

<MemberDefinition
  prototype="const bool llvm::LPMUpdater::LoopNestMode">

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/scalar/looppassmanager-h/#l00347">347</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/scalar/looppassmanager-h">LoopPassManager.h</a>.
</MemberDefinition>

### SkipCurrentLoop {#a2017c346467aef511f72d20187cba83f}

<MemberDefinition
  prototype="bool llvm::LPMUpdater::SkipCurrentLoop">

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/scalar/looppassmanager-h/#l00346">346</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/scalar/looppassmanager-h">LoopPassManager.h</a>.
</MemberDefinition>

### Worklist {#a1be51938a099dd489e5f58b880c115e5}

<MemberDefinition
  prototype={<>SmallPriorityWorklist&lt;Loop &#42;, 4&gt;&amp; llvm::LPMUpdater::Worklist</>}>
The <code><a href="/docs/api/classes/llvm/functiontolooppassadaptor">FunctionToLoopPassAdaptor</a>&#39;s</code> worklist of loops to process.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/scalar/looppassmanager-h/#l00340">340</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/scalar/looppassmanager-h">LoopPassManager.h</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following file:

<ul>
<li><a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/scalar/looppassmanager-h">LoopPassManager.h</a></li>
</ul>

</DoxygenPage>
