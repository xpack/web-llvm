---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/llvm/ppcregisterbankinfo
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'
import SectionUser from '@xpack/docusaurus-plugin-doxygen/components/SectionUser'
import XrefSect from '@xpack/docusaurus-plugin-doxygen/components/XrefSect'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `PPCRegisterBankInfo` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>



## Declaration

<CodeBlock>class llvm::PPCRegisterBankInfo</CodeBlock>

## Included Headers

<IncludesList>
<IncludesListItem
  filePath="Target/PowerPC/GISel/PPCRegisterBankInfo.h"
  permalink="/docs/api/files/lib/lib/target/lib/target/powerpc/lib/target/powerpc/gisel/ppcregisterbankinfo-h"
  isLocal="true" />
</IncludesList>

## Base class

<MembersIndex>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/ppcgenregisterbankinfo">PPCGenRegisterBankInfo</a></>}>
</MembersIndexItem>

</MembersIndex>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a85b64ed3b63991007729db74f0721fe0">PPCRegisterBankInfo</a> (const TargetRegisterInfo &amp;TRI)</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/registerbankinfo/#ac89dbbb6460391f27fb352c20c600769">InstructionMappings</a></>}
  name={<><a href="#ac6c43f61d957f1cea939960a5edc35ce">getInstrAlternativeMappings</a> (const MachineInstr &amp;MI) const override</>}>
Get the alternative mappings for <code>MI</code>. <a href="#ac6c43f61d957f1cea939960a5edc35ce">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/registerbankinfo/instructionmapping">InstructionMapping</a> &amp;</>}
  name={<><a href="#aece2fca4cd44244cdd43227c3d530368">getInstrMapping</a> (const MachineInstr &amp;MI) const override</>}>
Get the mapping of the different operands of <code>MI</code> on the register bank. <a href="#aece2fca4cd44244cdd43227c3d530368">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/registerbank">RegisterBank</a> &amp;</>}
  name={<><a href="#a5a6ede71870e0137cd31b2bde6d6e4ba">getRegBankFromRegClass</a> (const TargetRegisterClass &amp;RC, LLT Ty) const override</>}>
Get a register bank that covers <code>RC</code>. <a href="#a5a6ede71870e0137cd31b2bde6d6e4ba">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="bool"
  name={<><a href="#a6c063c1b901746cfad700982dd135ceb">hasFPConstraints</a> (const MachineInstr &amp;MI, const MachineRegisterInfo &amp;MRI, const TargetRegisterInfo &amp;TRI, unsigned Depth=0) const</>}>
FIXME: this is copied from target <a href="/docs/api/namespaces/llvm/aarch64">AArch64</a>. <a href="#a6c063c1b901746cfad700982dd135ceb">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#ab0c2bec067fcf936195001aaae1abf87">onlyDefinesFP</a> (const MachineInstr &amp;MI, const MachineRegisterInfo &amp;MRI, const TargetRegisterInfo &amp;TRI, unsigned Depth=0) const</>}>
FIXME: this is copied from target <a href="/docs/api/namespaces/llvm/aarch64">AArch64</a>. <a href="#ab0c2bec067fcf936195001aaae1abf87">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#aea31cbb5253fb62d91974a5d09324738">onlyUsesFP</a> (const MachineInstr &amp;MI, const MachineRegisterInfo &amp;MRI, const TargetRegisterInfo &amp;TRI, unsigned Depth=0) const</>}>
FIXME: this is copied from target <a href="/docs/api/namespaces/llvm/aarch64">AArch64</a>. <a href="#aea31cbb5253fb62d91974a5d09324738">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> unsigned</>}
  name={<><a href="#a3e286bb2256352fb7fe5769131f2f46b">MaxFPRSearchDepth</a> = 2</>}>
Maximum recursion depth for hasFPConstraints. <a href="#a3e286bb2256352fb7fe5769131f2f46b">More...</a>
</MembersIndexItem>

</MembersIndex>


Definition at line 64 of file <a href="/docs/api/files/lib/lib/target/lib/target/powerpc/lib/target/powerpc/gisel/ppcregisterbankinfo-h">PPCRegisterBankInfo.h</a>.

<SectionDefinition>

## Public Constructors

### PPCRegisterBankInfo() {#a85b64ed3b63991007729db74f0721fe0}

<MemberDefinition
  prototype={<>PPCRegisterBankInfo::PPCRegisterBankInfo (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/targetregisterinfo">TargetRegisterInfo</a> &amp; TRI)</>}>

Declaration at line <a href="/docs/api/files/lib/lib/target/lib/target/powerpc/lib/target/powerpc/gisel/ppcregisterbankinfo-h/#l00066">66</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/powerpc/lib/target/powerpc/gisel/ppcregisterbankinfo-h">PPCRegisterBankInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/target/lib/target/powerpc/lib/target/powerpc/gisel/ppcregisterbankinfo-cpp/#l00030">30</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/powerpc/lib/target/powerpc/gisel/ppcregisterbankinfo-cpp">PPCRegisterBankInfo.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### getInstrAlternativeMappings() {#ac6c43f61d957f1cea939960a5edc35ce}

<MemberDefinition
  prototype={<>RegisterBankInfo::InstructionMappings PPCRegisterBankInfo::getInstrAlternativeMappings (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &amp; MI) const</>}
  labels = {["virtual"]}>
Get the alternative mappings for <code>MI</code>.

Alternative in the sense different from getInstrMapping.

Declaration at line <a href="/docs/api/files/lib/lib/target/lib/target/powerpc/lib/target/powerpc/gisel/ppcregisterbankinfo-h/#l00075">75</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/powerpc/lib/target/powerpc/gisel/ppcregisterbankinfo-h">PPCRegisterBankInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/target/lib/target/powerpc/lib/target/powerpc/gisel/ppcregisterbankinfo-cpp/#l00309">309</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/powerpc/lib/target/powerpc/gisel/ppcregisterbankinfo-cpp">PPCRegisterBankInfo.cpp</a>.
</MemberDefinition>

### getInstrMapping() {#aece2fca4cd44244cdd43227c3d530368}

<MemberDefinition
  prototype={<>const RegisterBankInfo::InstructionMapping &amp; PPCRegisterBankInfo::getInstrMapping (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &amp; MI) const</>}
  labels = {["virtual"]}>
Get the mapping of the different operands of <code>MI</code> on the register bank.

This mapping should be the direct translation of <code>MI</code>. In other words, when <code>MI</code> is mapped with the returned mapping, only the register banks of the operands of <code>MI</code> need to be updated. In particular, neither the opcode nor the type of <code>MI</code> needs to be updated for this direct mapping.

The target independent implementation gives a mapping based on the register classes for the target specific opcode. It uses the <a href="/docs/api/namespaces/llvm/callingconv/#abdf8cf606905c10634e831390981b0ed">ID</a> <a href="/docs/api/classes/llvm/registerbankinfo/#abe7d332de484fcc6cdc4c2a5e7bdd31b">RegisterBankInfo::DefaultMappingID</a> for that mapping. Make sure you do not use that <a href="/docs/api/namespaces/llvm/callingconv/#abdf8cf606905c10634e831390981b0ed">ID</a> for the alternative mapping for MI. See getInstrAlternativeMappings for the alternative mappings.

For instance, if <code>MI</code> is a vector add, the mapping should not be a scalarization of the add.


<SectionUser title="Postcondition">
returnedVal.verify(MI).
</SectionUser>


:::info
If returnedVal does not verify MI, this would probably mean that the target does not support that instruction.
:::

Declaration at line <a href="/docs/api/files/lib/lib/target/lib/target/powerpc/lib/target/powerpc/gisel/ppcregisterbankinfo-h/#l00072">72</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/powerpc/lib/target/powerpc/gisel/ppcregisterbankinfo-h">PPCRegisterBankInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/target/lib/target/powerpc/lib/target/powerpc/gisel/ppcregisterbankinfo-cpp/#l00051">51</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/powerpc/lib/target/powerpc/gisel/ppcregisterbankinfo-cpp">PPCRegisterBankInfo.cpp</a>.
</MemberDefinition>

### getRegBankFromRegClass() {#a5a6ede71870e0137cd31b2bde6d6e4ba}

<MemberDefinition
  prototype={<>const RegisterBank &amp; PPCRegisterBankInfo::getRegBankFromRegClass (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/targetregisterclass">TargetRegisterClass</a> &amp; RC, <a href="/docs/api/classes/llvm/llt">LLT</a> Ty) const</>}
  labels = {["virtual"]}>
Get a register bank that covers <code>RC</code>.

<SectionUser title="Precondition">
<code>RC</code> is a user-defined register class (as opposed as one generated by <a href="/docs/api/namespaces/llvm/tablegen">TableGen</a>).
</SectionUser>


:::info
The mapping RC -&gt; RegBank could be built while adding the coverage for the register banks. However, we do not do it, because, at least for now, we only need this information for register classes that are used in the description of instruction. In other words, there are just a handful of them and we do not want to waste space.
:::


<XrefSect
  title="Todo"
  permalink="/docs/api/pages/todo/#_todo000003">
This should be <a href="/docs/api/namespaces/llvm/tablegen">TableGen</a>&#39;ed.
</XrefSect>

Declaration at line <a href="/docs/api/files/lib/lib/target/lib/target/powerpc/lib/target/powerpc/gisel/ppcregisterbankinfo-h/#l00068">68</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/powerpc/lib/target/powerpc/gisel/ppcregisterbankinfo-h">PPCRegisterBankInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/target/lib/target/powerpc/lib/target/powerpc/gisel/ppcregisterbankinfo-cpp/#l00033">33</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/powerpc/lib/target/powerpc/gisel/ppcregisterbankinfo-cpp">PPCRegisterBankInfo.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Functions

### hasFPConstraints() {#a6c063c1b901746cfad700982dd135ceb}

<MemberDefinition
  prototype={<>bool PPCRegisterBankInfo::hasFPConstraints (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &amp; MI, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/machineregisterinfo">MachineRegisterInfo</a> &amp; MRI, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/targetregisterinfo">TargetRegisterInfo</a> &amp; TRI, unsigned Depth=0) const</>}>
FIXME: this is copied from target <a href="/docs/api/namespaces/llvm/aarch64">AArch64</a>.

<SectionUser title="Returns">
true if <code>MI</code> only uses and defines FPRs.
</SectionUser>

Needs some code refactor here to put this function in class <a href="/docs/api/classes/llvm/registerbankinfo">RegisterBankInfo</a>.

Declaration at line <a href="/docs/api/files/lib/lib/target/lib/target/powerpc/lib/target/powerpc/gisel/ppcregisterbankinfo-h/#l00082">82</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/powerpc/lib/target/powerpc/gisel/ppcregisterbankinfo-h">PPCRegisterBankInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/target/lib/target/powerpc/lib/target/powerpc/gisel/ppcregisterbankinfo-cpp/#l00232">232</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/powerpc/lib/target/powerpc/gisel/ppcregisterbankinfo-cpp">PPCRegisterBankInfo.cpp</a>.
</MemberDefinition>

### onlyDefinesFP() {#ab0c2bec067fcf936195001aaae1abf87}

<MemberDefinition
  prototype={<>bool PPCRegisterBankInfo::onlyDefinesFP (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &amp; MI, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/machineregisterinfo">MachineRegisterInfo</a> &amp; MRI, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/targetregisterinfo">TargetRegisterInfo</a> &amp; TRI, unsigned Depth=0) const</>}>
FIXME: this is copied from target <a href="/docs/api/namespaces/llvm/aarch64">AArch64</a>.

<SectionUser title="Returns">
true if <code>MI</code> only defines FPRs.
</SectionUser>

Needs some code refactor here to put this function in class <a href="/docs/api/classes/llvm/registerbankinfo">RegisterBankInfo</a>.

Declaration at line <a href="/docs/api/files/lib/lib/target/lib/target/powerpc/lib/target/powerpc/gisel/ppcregisterbankinfo-h/#l00091">91</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/powerpc/lib/target/powerpc/gisel/ppcregisterbankinfo-h">PPCRegisterBankInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/target/lib/target/powerpc/lib/target/powerpc/gisel/ppcregisterbankinfo-cpp/#l00294">294</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/powerpc/lib/target/powerpc/gisel/ppcregisterbankinfo-cpp">PPCRegisterBankInfo.cpp</a>.
</MemberDefinition>

### onlyUsesFP() {#aea31cbb5253fb62d91974a5d09324738}

<MemberDefinition
  prototype={<>bool PPCRegisterBankInfo::onlyUsesFP (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &amp; MI, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/machineregisterinfo">MachineRegisterInfo</a> &amp; MRI, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/targetregisterinfo">TargetRegisterInfo</a> &amp; TRI, unsigned Depth=0) const</>}>
FIXME: this is copied from target <a href="/docs/api/namespaces/llvm/aarch64">AArch64</a>.

<SectionUser title="Returns">
true if <code>MI</code> only uses FPRs.
</SectionUser>

Needs some code refactor here to put this function in class <a href="/docs/api/classes/llvm/registerbankinfo">RegisterBankInfo</a>.

Declaration at line <a href="/docs/api/files/lib/lib/target/lib/target/powerpc/lib/target/powerpc/gisel/ppcregisterbankinfo-h/#l00087">87</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/powerpc/lib/target/powerpc/gisel/ppcregisterbankinfo-h">PPCRegisterBankInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/target/lib/target/powerpc/lib/target/powerpc/gisel/ppcregisterbankinfo-cpp/#l00275">275</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/powerpc/lib/target/powerpc/gisel/ppcregisterbankinfo-cpp">PPCRegisterBankInfo.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Attributes

### MaxFPRSearchDepth {#a3e286bb2256352fb7fe5769131f2f46b}

<MemberDefinition
  prototype="const unsigned llvm::PPCRegisterBankInfo::MaxFPRSearchDepth = 2">
Maximum recursion depth for hasFPConstraints.

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/powerpc/lib/target/powerpc/gisel/ppcregisterbankinfo-h/#l00079">79</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/powerpc/lib/target/powerpc/gisel/ppcregisterbankinfo-h">PPCRegisterBankInfo.h</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following files:

<ul>
<li><a href="/docs/api/files/lib/lib/target/lib/target/powerpc/lib/target/powerpc/gisel/ppcregisterbankinfo-cpp">PPCRegisterBankInfo.cpp</a></li>
<li><a href="/docs/api/files/lib/lib/target/lib/target/powerpc/lib/target/powerpc/gisel/ppcregisterbankinfo-h">PPCRegisterBankInfo.h</a></li>
</ul>

</DoxygenPage>
