---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/anonymous-namespace-guardwidening-cpp-/guardwideningimpl
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import Link from '@docusaurus/Link'
import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import EnumerationList from '@xpack/docusaurus-plugin-doxygen/components/EnumerationList'
import EnumerationListItem from '@xpack/docusaurus-plugin-doxygen/components/EnumerationListItem'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `GuardWideningImpl` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>



## Declaration

<CodeBlock>class anonymous_namespace{GuardWidening.cpp}::GuardWideningImpl</CodeBlock>

## Enumerations Index

<MembersIndex>

<MembersIndexItem
  type="enum"
  name={<>:  &#123; <a href="#aa9e8beadcf5341e4ac3cdb0cfcd1e34a">...</a> &#125;</>}>
Used to keep track of which widening potential is more effective. <a href="#aa9e8beadcf5341e4ac3cdb0cfcd1e34a">More...</a>
</MembersIndexItem>

</MembersIndex>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a29f953f1a7cf473c2f1bf531711e0622">GuardWideningImpl</a> (DominatorTree &amp;DT, PostDominatorTree &#42;PDT, LoopInfo &amp;LI, AssumptionCache &amp;AC, MemorySSAUpdater &#42;MSSAU, DomTreeNode &#42;Root, std::function&lt; bool(BasicBlock &#42;)&gt; BlockFilter)</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="bool"
  name={<><a href="#ab5aa5682f973c80e1570c6c788b92122">run</a> ()</>}>
The entry point for this pass. <a href="#ab5aa5682f973c80e1570c6c788b92122">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="bool"
  name={<><a href="#a5e7d3e3e94a516f327ab285752e06baf">canBeHoistedTo</a> (const Value &#42;V, BasicBlock::iterator InsertPos) const</>}>
Helper to check if <code>V</code> can be hoisted to <code>InsertPos</code>. <a href="#a5e7d3e3e94a516f327ab285752e06baf">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a33f52a08a49cef4ec90169a9c92917b4">canBeHoistedTo</a> (const Value &#42;V, BasicBlock::iterator InsertPos, SmallPtrSetImpl&lt; const Instruction &#42; &gt; &amp;Visited) const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#aad3681fc6c799b4e22354afd2934307e">canBeHoistedTo</a> (const SmallVectorImpl&lt; Value &#42; &gt; &amp;Checks, BasicBlock::iterator InsertPos) const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a7958648a4ca0d02d3646dce9e49fef27">combineRangeChecks</a> (SmallVectorImpl&lt; RangeCheck &gt; &amp;Checks, SmallVectorImpl&lt; RangeCheck &gt; &amp;CombinedChecks) const</>}>
Combine the checks in <code>Checks</code> into a smaller set of checks and append them into <code>CombinedChecks</code>. <a href="#a7958648a4ca0d02d3646dce9e49fef27">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="WideningScore"
  name={<><a href="#acd75e355f390b797c5746e1f3644ef6d">computeWideningScore</a> (Instruction &#42;DominatedInstr, Instruction &#42;ToWiden, BasicBlock::iterator WideningPoint, SmallVectorImpl&lt; Value &#42; &gt; &amp;ChecksToHoist, SmallVectorImpl&lt; Value &#42; &gt; &amp;ChecksToWiden)</>}>
Compute the score for widening the condition in <code>DominatedInstr</code> into <code>WideningPoint</code>. <a href="#acd75e355f390b797c5746e1f3644ef6d">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#aa32a9e25de2b7880d55ef07d3baea4e7">eliminateInstrViaWidening</a> (Instruction &#42;Instr, const df&#95;iterator&lt; DomTreeNode &#42; &gt; &amp;DFSI, const DenseMap&lt; BasicBlock &#42;, SmallVector&lt; Instruction &#42;, 8 &gt; &gt; &amp;GuardsPerBlock)</>}>
Try to eliminate instruction <code>Instr</code> by widening it into an earlier dominating guard. <a href="#aa32a9e25de2b7880d55ef07d3baea4e7">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/value">Value</a> &#42;</>}
  name={<><a href="#ac88cc86c8216cc92483bfa396bfab50c">freezeAndPush</a> (Value &#42;Orig, BasicBlock::iterator InsertPt)</>}>
Adds freeze to Orig and push it as far as possible very aggressively. <a href="#ac88cc86c8216cc92483bfa396bfab50c">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/value">Value</a> &#42;</>}
  name={<><a href="#a8f64b83cce9feb42af542950da6586a8">hoistChecks</a> (SmallVectorImpl&lt; Value &#42; &gt; &amp;ChecksToHoist, Value &#42;OldCondition, BasicBlock::iterator InsertPt)</>}>
Generate the logical AND of <code>ChecksToHoist</code> and <code>OldCondition</code> and make it available at InsertPt. <a href="#a8f64b83cce9feb42af542950da6586a8">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#aacf701867ea778aca724363a7f424985">isWideningCondProfitable</a> (SmallVectorImpl&lt; Value &#42; &gt; &amp;ChecksToHoist, SmallVectorImpl&lt; Value &#42; &gt; &amp;ChecksToWiden)</>}>
Can we compute the logical AND of <code>ChecksToHoist</code> and <code>ChecksToWiden</code> for the price of computing only one of the set of expressions? <a href="#aacf701867ea778aca724363a7f424985">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#aedb908507b8175e81e5770a23d79db63">makeAvailableAt</a> (Value &#42;V, BasicBlock::iterator InsertPos) const</>}>
Helper to hoist <code>V</code> to <code>InsertPos</code>. <a href="#aedb908507b8175e81e5770a23d79db63">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a7978e5adc354b6e3ccd8e81f2384cb2e">makeAvailableAt</a> (const SmallVectorImpl&lt; Value &#42; &gt; &amp;Checks, BasicBlock::iterator InsertPos) const</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::optional&lt; <a href="/docs/api/classes/llvm/value">Value</a> &#42; &gt;</>}
  name={<><a href="#ae8daa08b9ec74d43126a9f5f1249bdcc">mergeChecks</a> (SmallVectorImpl&lt; Value &#42; &gt; &amp;ChecksToHoist, SmallVectorImpl&lt; Value &#42; &gt; &amp;ChecksToWiden, std::optional&lt; BasicBlock::iterator &gt; InsertPt)</>}>
Common helper used by <code>widenGuard</code> and <code>isWideningCondProfitable</code>. <a href="#ae8daa08b9ec74d43126a9f5f1249bdcc">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a12d1e40ac3d732cbfa6cc845f3f06181">parseRangeChecks</a> (SmallVectorImpl&lt; Value &#42; &gt; &amp;ToParse, SmallVectorImpl&lt; RangeCheck &gt; &amp;Checks)</>}>
Parse <code>ToParse</code> into a conjunction (logical-and) of range checks; and append them to <code>Checks</code>. <a href="#a12d1e40ac3d732cbfa6cc845f3f06181">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a8b465ce04eeb7eb39b7c0bba3db2ad2d">parseRangeChecks</a> (Value &#42;CheckCond, SmallVectorImpl&lt; RangeCheck &gt; &amp;Checks)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#ae2a16c4e918a5c4e81014531e62e1b9a">widenGuard</a> (SmallVectorImpl&lt; Value &#42; &gt; &amp;ChecksToHoist, SmallVectorImpl&lt; Value &#42; &gt; &amp;ChecksToWiden, Instruction &#42;ToWiden)</>}>
Widen <code>ChecksToWiden</code> to fail if any of <code>ChecksToHoist</code> is false. <a href="#ae2a16c4e918a5c4e81014531e62e1b9a">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/assumptioncache">AssumptionCache</a> &amp;</>}
  name={<><a href="#a3657a1ffaec9baf8aab3b04473444db3">AC</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::function&lt; bool(<a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42;)&gt;</>}
  name={<><a href="#a9b0b18911f40aff1bb1b87ea757a8957">BlockFilter</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/dominatortree">DominatorTree</a> &amp;</>}
  name={<><a href="#a29b33a1f54ea2874a2b2ac77eea68245">DT</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/smallvector">SmallVector</a>&lt; <a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42;, 16 &gt;</>}
  name={<><a href="#a44a5d15694962ab0f69abf50bddf2ef5">EliminatedGuardsAndBranches</a></>}>
The set of guards and conditional branches whose conditions have been widened into dominating guards. <a href="#a44a5d15694962ab0f69abf50bddf2ef5">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/loopinfo">LoopInfo</a> &amp;</>}
  name={<><a href="#a58127f0206fe3dc3e751bdb32e3c4fac">LI</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/memoryssaupdater">MemorySSAUpdater</a> &#42;</>}
  name={<><a href="#aba44956c882a8db23cac02f7df2d4cbc">MSSAU</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/postdominatortree">PostDominatorTree</a> &#42;</>}
  name={<><a href="#a7cc86318b9431bdb26a0cd38079d04f0">PDT</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/namespaces/llvm/#a58b9df85470fc4e2a8066ff6a62e5a34">DomTreeNode</a> &#42;</>}
  name={<><a href="#a4899d4180f4bb2e24e98a730d94c27c1">Root</a></>}>
Together, these describe the region of interest. <a href="#a4899d4180f4bb2e24e98a730d94c27c1">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/denseset">DenseSet</a>&lt; <a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42; &gt;</>}
  name={<><a href="#a8f54f9f34bcac1dac8832b238a7bfd8c">WidenedGuards</a></>}>
The set of guards which have been widened to include conditions to other guards. <a href="#a8f54f9f34bcac1dac8832b238a7bfd8c">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Static Functions Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/stringref">StringRef</a></>}
  name={<><a href="#adeac7cb64bc131b0235e1c63043512ca">scoreTypeToString</a> (WideningScore WS)</>}>
</MembersIndexItem>

</MembersIndex>


Definition at line 133 of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp">GuardWidening.cpp</a>.

<SectionDefinition>

## Enumerations

### enum  {#aa9e8beadcf5341e4ac3cdb0cfcd1e34a}

<MemberDefinition
  prototype={<>enum anonymous_namespace&#123;GuardWidening.cpp&#125;::GuardWideningImpl::WideningScore </>}>
Used to keep track of which widening potential is more effective.

<EnumerationList title="Enumeration values">

<Link id="aa9e8beadcf5341e4ac3cdb0cfcd1e34aa7185f5f623554ddd36bc3b5bdb71098b" />
<EnumerationListItem name="WS_IllegalOrNegative">
Don&#39;t widen
</EnumerationListItem>

<Link id="aa9e8beadcf5341e4ac3cdb0cfcd1e34aa5f72eac0eee880047c5f9df8e6ebf8d4" />
<EnumerationListItem name="WS_Neutral">
Widening is performance neutral as far as the cycles spent in check conditions goes (but can still help, e.g., code layout, having less deopt state)
</EnumerationListItem>

<Link id="aa9e8beadcf5341e4ac3cdb0cfcd1e34aaa17716a08f770b2592f8128db66d3e4f" />
<EnumerationListItem name="WS_Positive">
Widening is profitable
</EnumerationListItem>

<Link id="aa9e8beadcf5341e4ac3cdb0cfcd1e34aad8a157bafd0feefb20f7450bfa2413c0" />
<EnumerationListItem name="WS_VeryPositive">
Widening is very profitable
</EnumerationListItem>

</EnumerationList>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp/#l00163">163</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp">GuardWidening.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Constructors

### GuardWideningImpl() {#a29f953f1a7cf473c2f1bf531711e0622}

<MemberDefinition
  prototype={<>anonymous&#95;namespace&#123;GuardWidening.cpp&#125;::GuardWideningImpl::GuardWideningImpl (<a href="/docs/api/classes/llvm/dominatortree">DominatorTree</a> &amp; DT, <a href="/docs/api/classes/llvm/postdominatortree">PostDominatorTree</a> &#42; PDT, <a href="/docs/api/classes/llvm/loopinfo">LoopInfo</a> &amp; LI, <a href="/docs/api/classes/llvm/assumptioncache">AssumptionCache</a> &amp; AC, <a href="/docs/api/classes/llvm/memoryssaupdater">MemorySSAUpdater</a> &#42; MSSAU, <a href="/docs/api/namespaces/llvm/#a58b9df85470fc4e2a8066ff6a62e5a34">DomTreeNode</a> &#42; Root, std::function&lt; bool(<a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42;)&gt; BlockFilter)</>}
  labels = {["inline", "explicit"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp/#l00321">321</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp">GuardWidening.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### run() {#ab5aa5682f973c80e1570c6c788b92122}

<MemberDefinition
  prototype="bool GuardWideningImpl::run ()">
The entry point for this pass.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp/#l00329">329</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp">GuardWidening.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Functions

### canBeHoistedTo() {#a5e7d3e3e94a516f327ab285752e06baf}

<MemberDefinition
  prototype={<>bool anonymous&#95;namespace&#123;GuardWidening.cpp&#125;::GuardWideningImpl::canBeHoistedTo (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/value">Value</a> &#42; V, <a href="/docs/api/classes/llvm/basicblock/#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> InsertPos) const</>}
  labels = {["inline"]}>
Helper to check if <code>V</code> can be hoisted to <code>InsertPos</code>.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp/#l00191">191</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp">GuardWidening.cpp</a>.
</MemberDefinition>

### canBeHoistedTo() {#a33f52a08a49cef4ec90169a9c92917b4}

<MemberDefinition
  prototype={<>bool anonymous&#95;namespace&#123;GuardWidening.cpp&#125;::GuardWideningImpl::canBeHoistedTo (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/value">Value</a> &#42; V, <a href="/docs/api/classes/llvm/basicblock/#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> InsertPos, <a href="/docs/api/classes/llvm/smallptrsetimpl">SmallPtrSetImpl</a>&lt; <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42; &gt; &amp; Visited) const</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp/#l00196">196</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp">GuardWidening.cpp</a>.
</MemberDefinition>

### canBeHoistedTo() {#aad3681fc6c799b4e22354afd2934307e}

<MemberDefinition
  prototype={<>bool anonymous&#95;namespace&#123;GuardWidening.cpp&#125;::GuardWideningImpl::canBeHoistedTo (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; <a href="/docs/api/classes/llvm/value">Value</a> &#42; &gt; &amp; Checks, <a href="/docs/api/classes/llvm/basicblock/#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> InsertPos) const</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp/#l00199">199</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp">GuardWidening.cpp</a>.
</MemberDefinition>

### combineRangeChecks() {#a7958648a4ca0d02d3646dce9e49fef27}

<MemberDefinition
  prototype={<>bool GuardWideningImpl::combineRangeChecks (<a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; RangeCheck &gt; &amp; Checks, <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; RangeCheck &gt; &amp; CombinedChecks) const</>}>
Combine the checks in <code>Checks</code> into a smaller set of checks and append them into <code>CombinedChecks</code>.

Return true on success (i.e. all of checks in <code>Checks</code> were combined into <code>CombinedChecks</code>). Clobbers <code>Checks</code> and <code>CombinedChecks</code> on success and on failure.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp/#l00292">292</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp">GuardWidening.cpp</a>.
</MemberDefinition>

### computeWideningScore() {#acd75e355f390b797c5746e1f3644ef6d}

<MemberDefinition
  prototype={<>GuardWideningImpl::WideningScore GuardWideningImpl::computeWideningScore (<a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42; DominatedInstr, <a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42; ToWiden, <a href="/docs/api/classes/llvm/basicblock/#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> WideningPoint, <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; <a href="/docs/api/classes/llvm/value">Value</a> &#42; &gt; &amp; ChecksToHoist, <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; <a href="/docs/api/classes/llvm/value">Value</a> &#42; &gt; &amp; ChecksToWiden)</>}>
Compute the score for widening the condition in <code>DominatedInstr</code> into <code>WideningPoint</code>.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp/#l00184">184</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp">GuardWidening.cpp</a>.
</MemberDefinition>

### eliminateInstrViaWidening() {#aa32a9e25de2b7880d55ef07d3baea4e7}

<MemberDefinition
  prototype={<>bool GuardWideningImpl::eliminateInstrViaWidening (<a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42; Instr, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/df-iterator">df&#95;iterator</a>&lt; <a href="/docs/api/namespaces/llvm/#a58b9df85470fc4e2a8066ff6a62e5a34">DomTreeNode</a> &#42; &gt; &amp; DFSI, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/densemap">DenseMap</a>&lt; <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42;, <a href="/docs/api/classes/llvm/smallvector">SmallVector</a>&lt; <a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42;, 8 &gt; &gt; &amp; GuardsPerBlock)</>}>
Try to eliminate instruction <code>Instr</code> by widening it into an earlier dominating guard.

<code>DFSI</code> is the DFS iterator on the dominator tree that is currently visiting the block containing <code>Guard</code>, and <code>GuardsPerBlock</code> maps BasicBlocks to the set of guards seen in that block.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp/#l00157">157</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp">GuardWidening.cpp</a>.
</MemberDefinition>

### freezeAndPush() {#ac88cc86c8216cc92483bfa396bfab50c}

<MemberDefinition
  prototype={<>Value &#42; GuardWideningImpl::freezeAndPush (<a href="/docs/api/classes/llvm/value">Value</a> &#42; Orig, <a href="/docs/api/classes/llvm/basicblock/#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> InsertPt)</>}>
Adds freeze to Orig and push it as far as possible very aggressively.

Also replaces all uses of frozen instruction with frozen version.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp/#l00233">233</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp">GuardWidening.cpp</a>.
</MemberDefinition>

### hoistChecks() {#a8f64b83cce9feb42af542950da6586a8}

<MemberDefinition
  prototype={<>Value &#42; GuardWideningImpl::hoistChecks (<a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; <a href="/docs/api/classes/llvm/value">Value</a> &#42; &gt; &amp; ChecksToHoist, <a href="/docs/api/classes/llvm/value">Value</a> &#42; OldCondition, <a href="/docs/api/classes/llvm/basicblock/#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> InsertPt)</>}>
Generate the logical AND of <code>ChecksToHoist</code> and <code>OldCondition</code> and make it available at InsertPt.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp/#l00228">228</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp">GuardWidening.cpp</a>.
</MemberDefinition>

### isWideningCondProfitable() {#aacf701867ea778aca724363a7f424985}

<MemberDefinition
  prototype={<>bool anonymous&#95;namespace&#123;GuardWidening.cpp&#125;::GuardWideningImpl::isWideningCondProfitable (<a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; <a href="/docs/api/classes/llvm/value">Value</a> &#42; &gt; &amp; ChecksToHoist, <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; <a href="/docs/api/classes/llvm/value">Value</a> &#42; &gt; &amp; ChecksToWiden)</>}
  labels = {["inline"]}>
Can we compute the logical AND of <code>ChecksToHoist</code> and <code>ChecksToWiden</code> for the price of computing only one of the set of expressions?

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp/#l00297">297</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp">GuardWidening.cpp</a>.
</MemberDefinition>

### makeAvailableAt() {#aedb908507b8175e81e5770a23d79db63}

<MemberDefinition
  prototype={<>void anonymous&#95;namespace&#123;GuardWidening.cpp&#125;::GuardWideningImpl::makeAvailableAt (<a href="/docs/api/classes/llvm/value">Value</a> &#42; V, <a href="/docs/api/classes/llvm/basicblock/#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> InsertPos) const</>}>
Helper to hoist <code>V</code> to <code>InsertPos</code>.

Guaranteed to succeed if <code>canBeHoistedTo</code> returned true.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp/#l00206">206</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp">GuardWidening.cpp</a>.
</MemberDefinition>

### makeAvailableAt() {#a7978e5adc354b6e3ccd8e81f2384cb2e}

<MemberDefinition
  prototype={<>void anonymous&#95;namespace&#123;GuardWidening.cpp&#125;::GuardWideningImpl::makeAvailableAt (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; <a href="/docs/api/classes/llvm/value">Value</a> &#42; &gt; &amp; Checks, <a href="/docs/api/classes/llvm/basicblock/#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> InsertPos) const</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp/#l00208">208</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp">GuardWidening.cpp</a>.
</MemberDefinition>

### mergeChecks() {#ae8daa08b9ec74d43126a9f5f1249bdcc}

<MemberDefinition
  prototype={<>std::optional&lt; Value &#42; &gt; GuardWideningImpl::mergeChecks (<a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; <a href="/docs/api/classes/llvm/value">Value</a> &#42; &gt; &amp; ChecksToHoist, <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; <a href="/docs/api/classes/llvm/value">Value</a> &#42; &gt; &amp; ChecksToWiden, std::optional&lt; <a href="/docs/api/classes/llvm/basicblock/#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> &gt; InsertPt)</>}>
Common helper used by <code>widenGuard</code> and <code>isWideningCondProfitable</code>.

Try to generate an expression computing the logical AND of <code>ChecksToHoist</code> and <code>ChecksToWiden</code>. Return true if the expression computing the AND is only as expensive as computing one of the set of expressions. If <code>InsertPt</code> is true then actually generate the resulting expression, make it available at <code>InsertPt</code> and return it in <code>Result</code> (else no change to the IR is made).

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp/#l00222">222</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp">GuardWidening.cpp</a>.
</MemberDefinition>

### parseRangeChecks() {#a12d1e40ac3d732cbfa6cc845f3f06181}

<MemberDefinition
  prototype={<>bool anonymous&#95;namespace&#123;GuardWidening.cpp&#125;::GuardWideningImpl::parseRangeChecks (<a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; <a href="/docs/api/classes/llvm/value">Value</a> &#42; &gt; &amp; ToParse, <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; RangeCheck &gt; &amp; Checks)</>}
  labels = {["inline"]}>
Parse <code>ToParse</code> into a conjunction (logical-and) of range checks; and append them to <code>Checks</code>.

Returns true on success, may clobber <code>Checks</code> on failure.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp/#l00277">277</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp">GuardWidening.cpp</a>.
</MemberDefinition>

### parseRangeChecks() {#a8b465ce04eeb7eb39b7c0bba3db2ad2d}

<MemberDefinition
  prototype={<>bool anonymous&#95;namespace&#123;GuardWidening.cpp&#125;::GuardWideningImpl::parseRangeChecks (<a href="/docs/api/classes/llvm/value">Value</a> &#42; CheckCond, <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; RangeCheck &gt; &amp; Checks)</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp/#l00286">286</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp">GuardWidening.cpp</a>.
</MemberDefinition>

### widenGuard() {#ae2a16c4e918a5c4e81014531e62e1b9a}

<MemberDefinition
  prototype={<>void anonymous&#95;namespace&#123;GuardWidening.cpp&#125;::GuardWideningImpl::widenGuard (<a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; <a href="/docs/api/classes/llvm/value">Value</a> &#42; &gt; &amp; ChecksToHoist, <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; <a href="/docs/api/classes/llvm/value">Value</a> &#42; &gt; &amp; ChecksToWiden, <a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42; ToWiden)</>}
  labels = {["inline"]}>
Widen <code>ChecksToWiden</code> to fail if any of <code>ChecksToHoist</code> is false.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp/#l00304">304</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp">GuardWidening.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Attributes

### AC {#a3657a1ffaec9baf8aab3b04473444db3}

<MemberDefinition
  prototype={<>AssumptionCache&amp; anonymous&#95;namespace&#123;GuardWidening.cpp&#125;::GuardWideningImpl::AC</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp/#l00137">137</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp">GuardWidening.cpp</a>.
</MemberDefinition>

### BlockFilter {#a9b0b18911f40aff1bb1b87ea757a8957}

<MemberDefinition
  prototype={<>std::function&lt;bool(BasicBlock&#42;)&gt; anonymous&#95;namespace&#123;GuardWidening.cpp&#125;::GuardWideningImpl::BlockFilter</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp/#l00143">143</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp">GuardWidening.cpp</a>.
</MemberDefinition>

### DT {#a29b33a1f54ea2874a2b2ac77eea68245}

<MemberDefinition
  prototype={<>DominatorTree&amp; anonymous&#95;namespace&#123;GuardWidening.cpp&#125;::GuardWideningImpl::DT</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp/#l00134">134</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp">GuardWidening.cpp</a>.
</MemberDefinition>

### EliminatedGuardsAndBranches {#a44a5d15694962ab0f69abf50bddf2ef5}

<MemberDefinition
  prototype={<>SmallVector&lt;Instruction &#42;, 16&gt; anonymous&#95;namespace&#123;GuardWidening.cpp&#125;::GuardWideningImpl::EliminatedGuardsAndBranches</>}>
The set of guards and conditional branches whose conditions have been widened into dominating guards.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp/#l00147">147</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp">GuardWidening.cpp</a>.
</MemberDefinition>

### LI {#a58127f0206fe3dc3e751bdb32e3c4fac}

<MemberDefinition
  prototype={<>LoopInfo&amp; anonymous&#95;namespace&#123;GuardWidening.cpp&#125;::GuardWideningImpl::LI</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp/#l00136">136</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp">GuardWidening.cpp</a>.
</MemberDefinition>

### MSSAU {#aba44956c882a8db23cac02f7df2d4cbc}

<MemberDefinition
  prototype={<>MemorySSAUpdater&#42; anonymous&#95;namespace&#123;GuardWidening.cpp&#125;::GuardWideningImpl::MSSAU</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp/#l00138">138</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp">GuardWidening.cpp</a>.
</MemberDefinition>

### PDT {#a7cc86318b9431bdb26a0cd38079d04f0}

<MemberDefinition
  prototype={<>PostDominatorTree&#42; anonymous&#95;namespace&#123;GuardWidening.cpp&#125;::GuardWideningImpl::PDT</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp/#l00135">135</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp">GuardWidening.cpp</a>.
</MemberDefinition>

### Root {#a4899d4180f4bb2e24e98a730d94c27c1}

<MemberDefinition
  prototype={<>DomTreeNode&#42; anonymous&#95;namespace&#123;GuardWidening.cpp&#125;::GuardWideningImpl::Root</>}>
Together, these describe the region of interest.

This might be all of the blocks within a function, or only a given loop&#39;s blocks and preheader.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp/#l00142">142</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp">GuardWidening.cpp</a>.
</MemberDefinition>

### WidenedGuards {#a8f54f9f34bcac1dac8832b238a7bfd8c}

<MemberDefinition
  prototype={<>DenseSet&lt;Instruction &#42;&gt; anonymous&#95;namespace&#123;GuardWidening.cpp&#125;::GuardWideningImpl::WidenedGuards</>}>
The set of guards which have been widened to include conditions to other guards.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp/#l00151">151</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp">GuardWidening.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Static Functions

### scoreTypeToString() {#adeac7cb64bc131b0235e1c63043512ca}

<MemberDefinition
  prototype="StringRef GuardWideningImpl::scoreTypeToString (WideningScore WS)"
  labels = {["static"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp/#l00180">180</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp">GuardWidening.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following file:

<ul>
<li><a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/guardwidening-cpp">GuardWidening.cpp</a></li>
</ul>

</DoxygenPage>
