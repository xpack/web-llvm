---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/llvm/domtreeupdater
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `DomTreeUpdater` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>



## Declaration

<CodeBlock>class llvm::DomTreeUpdater</CodeBlock>

## Included Headers

<IncludesList>
<IncludesListItem
  filePath="llvm/Analysis/DomTreeUpdater.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/analysis/domtreeupdater-h"
  isLocal="true" />
</IncludesList>

## Base class

<MembersIndex>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/genericdomtreeupdater">GenericDomTreeUpdater&lt;DerivedT, DomTreeT, PostDomTreeT&gt;</a></>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Typedefs Index

<MembersIndex>

<MembersIndexItem
  type="using"
  name={<><a href="#a036ff8cccdbdcfa3263cc9d426f36ea7">Base</a> = <a href="/docs/api/classes/llvm/genericdomtreeupdater">GenericDomTreeUpdater</a>&lt; <a href="/docs/api/classes/llvm/domtreeupdater">DomTreeUpdater</a>, <a href="/docs/api/classes/llvm/dominatortree">DominatorTree</a>, <a href="/docs/api/classes/llvm/postdominatortree">PostDominatorTree</a> &gt;</>}>
</MembersIndexItem>

</MembersIndex>

## Public Destructor Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a684501bae0019eba47728686bc16c478">~DomTreeUpdater</a> ()</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/files/include/include/llvm/include/llvm/support/compiler-h/#aa863693eef567397d9c292da5bf22d34">LLVM&#95;DUMP&#95;METHOD</a> void</>}
  name={<><a href="#a5b547854a7f9e418222c9823b2602314">dump</a> () const</>}>
Debug method to help view the internal state of this class. <a href="#a5b547854a7f9e418222c9823b2602314">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="bool"
  name={<><a href="#aa7b218e43061f94f9d4b65216b53f045">forceFlushDeletedBB</a> ()</>}>
Returns true if at least one <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> is deleted. <a href="#aa7b218e43061f94f9d4b65216b53f045">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a17a3ebc3ad4cebba81973a05ebc38833">validateDeleteBB</a> (BasicBlock &#42;DelBB)</>}>
First remove all the instructions of DelBB and then make sure DelBB has a valid terminator instruction which is necessary to have when DelBB still has to be inside of its parent <a href="/docs/api/classes/llvm/function">Function</a> while awaiting deletion under Lazy <a href="/docs/api/classes/llvm/genericdomtreeupdater/#a2655b89361decf2c1493792dc14e5a56">UpdateStrategy</a> to prevent other routines from asserting the state of the IR is inconsistent. <a href="#a17a3ebc3ad4cebba81973a05ebc38833">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<>std::vector&lt; CallBackOnDeletion &gt;</>}
  name={<><a href="#a2b70cc7e93d1f949c3a97ba026de23c1">Callbacks</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type="friend"
  name={<><a href="#a56c09ac5aa2c107a9c733bc133e9582e">GenericDomTreeUpdater&lt; DomTreeUpdater, DominatorTree, PostDominatorTree &gt;</a></>}>
</MembersIndexItem>

</MembersIndex>

## Mutation APIs Index

<MembersIndex>

<MembersIndexItem
  type="void"
  name={<><a href="#aa22a66bf381f2b0a994b4e00cca5eac4">callbackDeleteBB</a> (BasicBlock &#42;DelBB, std::function&lt; void(BasicBlock &#42;)&gt; Callback)</>}>
Delete DelBB. <a href="#aa22a66bf381f2b0a994b4e00cca5eac4">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#adcca375fa8086f6844e863abbf58f83b">deleteBB</a> (BasicBlock &#42;DelBB)</>}>
Delete DelBB. <a href="#adcca375fa8086f6844e863abbf58f83b">More...</a>
</MembersIndexItem>

</MembersIndex>


Definition at line 28 of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/domtreeupdater-h">DomTreeUpdater.h</a>.

<SectionDefinition>

## Public Member Typedefs

### Base {#a036ff8cccdbdcfa3263cc9d426f36ea7}

<MemberDefinition
  prototype={<>using llvm::DomTreeUpdater::Base = 
      GenericDomTreeUpdater&lt;DomTreeUpdater, DominatorTree, PostDominatorTree&gt;</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/domtreeupdater-h/#l00035">35</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/domtreeupdater-h">DomTreeUpdater.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Destructor

### ~DomTreeUpdater() {#a684501bae0019eba47728686bc16c478}

<MemberDefinition
  prototype="llvm::DomTreeUpdater::~DomTreeUpdater ()"
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/domtreeupdater-h/#l00039">39</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/domtreeupdater-h">DomTreeUpdater.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### dump() {#a5b547854a7f9e418222c9823b2602314}

<MemberDefinition
  prototype={<>LLVM&#95;DUMP&#95;METHOD void llvm::DomTreeUpdater::dump () const</>}>
Debug method to help view the internal state of this class.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/domtreeupdater-h/#l00085">85</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/domtreeupdater-h">DomTreeUpdater.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/domtreeupdater-cpp/#l00105">105</a> of file <a href="/docs/api/files/lib/lib/analysis/domtreeupdater-cpp">DomTreeUpdater.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Functions

### forceFlushDeletedBB() {#aa7b218e43061f94f9d4b65216b53f045}

<MemberDefinition
  prototype="bool llvm::DomTreeUpdater::forceFlushDeletedBB ()">
Returns true if at least one <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> is deleted.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/domtreeupdater-h/#l00114">114</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/domtreeupdater-h">DomTreeUpdater.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/domtreeupdater-cpp/#l00038">38</a> of file <a href="/docs/api/files/lib/lib/analysis/domtreeupdater-cpp">DomTreeUpdater.cpp</a>.
</MemberDefinition>

### validateDeleteBB() {#a17a3ebc3ad4cebba81973a05ebc38833}

<MemberDefinition
  prototype={<>void llvm::DomTreeUpdater::validateDeleteBB (<a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; DelBB)</>}>
First remove all the instructions of DelBB and then make sure DelBB has a valid terminator instruction which is necessary to have when DelBB still has to be inside of its parent <a href="/docs/api/classes/llvm/function">Function</a> while awaiting deletion under Lazy <a href="/docs/api/classes/llvm/genericdomtreeupdater/#a2655b89361decf2c1493792dc14e5a56">UpdateStrategy</a> to prevent other routines from asserting the state of the IR is inconsistent.

Assert if DelBB is nullptr or has predecessors.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/domtreeupdater-h/#l00111">111</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/domtreeupdater-h">DomTreeUpdater.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/domtreeupdater-cpp/#l00088">88</a> of file <a href="/docs/api/files/lib/lib/analysis/domtreeupdater-cpp">DomTreeUpdater.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Attributes

### Callbacks {#a2b70cc7e93d1f949c3a97ba026de23c1}

<MemberDefinition
  prototype={<>std::vector&lt;CallBackOnDeletion&gt; llvm::DomTreeUpdater::Callbacks</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/domtreeupdater-h/#l00104">104</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/domtreeupdater-h">DomTreeUpdater.h</a>.
</MemberDefinition>

### GenericDomTreeUpdater&lt; DomTreeUpdater, DominatorTree, PostDominatorTree &gt; {#a56c09ac5aa2c107a9c733bc133e9582e}

<MemberDefinition
  prototype={<>friend llvm::DomTreeUpdater::GenericDomTreeUpdater&lt; DomTreeUpdater, DominatorTree, PostDominatorTree &gt;</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/domtreeupdater-h/#l00031">31</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/domtreeupdater-h">DomTreeUpdater.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Mutation APIs


These methods provide APIs for submitting updates to the <a href="/docs/api/classes/llvm/dominatortree">DominatorTree</a> and the <a href="/docs/api/classes/llvm/postdominatortree">PostDominatorTree</a>.

Note: There are two strategies to update the <a href="/docs/api/classes/llvm/dominatortree">DominatorTree</a> and the <a href="/docs/api/classes/llvm/postdominatortree">PostDominatorTree</a>:
<ul>
<li>Eager <a href="/docs/api/classes/llvm/genericdomtreeupdater/#a2655b89361decf2c1493792dc14e5a56">UpdateStrategy</a>: Updates are submitted and then flushed immediately.</li>
<li>Lazy <a href="/docs/api/classes/llvm/genericdomtreeupdater/#a2655b89361decf2c1493792dc14e5a56">UpdateStrategy</a>: Updates are submitted but only flushed when you explicitly call Flush APIs. It is recommended to use this update strategy when you submit a bunch of updates multiple times which can then add up to a large number of updates between two queries on the <a href="/docs/api/classes/llvm/dominatortree">DominatorTree</a>. The incremental updater can reschedule the updates or decide to recalculate the dominator tree in order to speedup the updating process depending on the number of updates.</li>
</ul>


Although GenericDomTree provides several update primitives, it is not encouraged to use these APIs directly.

### callbackDeleteBB {#aa22a66bf381f2b0a994b4e00cca5eac4}

<MemberDefinition
  prototype={<>void llvm::DomTreeUpdater::callbackDeleteBB (<a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; DelBB, std::function&lt; void(<a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42;)&gt; Callback)</>}>
Delete DelBB.

DelBB will be removed from its Parent and erased from available trees if it exists. Then the callback will be called. Finally, DelBB will be deleted. Under Eager <a href="/docs/api/classes/llvm/genericdomtreeupdater/#a2655b89361decf2c1493792dc14e5a56">UpdateStrategy</a>, DelBB will be processed immediately. Under Lazy <a href="/docs/api/classes/llvm/genericdomtreeupdater/#a2655b89361decf2c1493792dc14e5a56">UpdateStrategy</a>, DelBB will be queued until a flush event and all available trees are up-to-date. Assert if any instruction of DelBB is modified while awaiting deletion. Multiple callbacks can be queued for one DelBB under Lazy <a href="/docs/api/classes/llvm/genericdomtreeupdater/#a2655b89361decf2c1493792dc14e5a56">UpdateStrategy</a>.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/domtreeupdater-h/#l00079">79</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/domtreeupdater-h">DomTreeUpdater.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/domtreeupdater-cpp/#l00073">73</a> of file <a href="/docs/api/files/lib/lib/analysis/domtreeupdater-cpp">DomTreeUpdater.cpp</a>.
</MemberDefinition>

### deleteBB {#adcca375fa8086f6844e863abbf58f83b}

<MemberDefinition
  prototype={<>void llvm::DomTreeUpdater::deleteBB (<a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; DelBB)</>}>
Delete DelBB.

DelBB will be removed from its Parent and erased from available trees if it exists and finally get deleted. Under Eager <a href="/docs/api/classes/llvm/genericdomtreeupdater/#a2655b89361decf2c1493792dc14e5a56">UpdateStrategy</a>, DelBB will be processed immediately. Under Lazy <a href="/docs/api/classes/llvm/genericdomtreeupdater/#a2655b89361decf2c1493792dc14e5a56">UpdateStrategy</a>, DelBB will be queued until a flush event and all available trees are up-to-date. Assert if any instruction of DelBB is modified while awaiting deletion. When both DT and PDT are nullptrs, DelBB will be queued until <a href="/docs/api/classes/llvm/genericdomtreeupdater/#a43c80a160270d75d99cfeb080c165694">flush()</a> is called.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/domtreeupdater-h/#l00069">69</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/domtreeupdater-h">DomTreeUpdater.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/domtreeupdater-cpp/#l00062">62</a> of file <a href="/docs/api/files/lib/lib/analysis/domtreeupdater-cpp">DomTreeUpdater.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following files:

<ul>
<li><a href="/docs/api/files/include/include/llvm/include/llvm/analysis/domtreeupdater-h">DomTreeUpdater.h</a></li>
<li><a href="/docs/api/files/lib/lib/analysis/domtreeupdater-cpp">DomTreeUpdater.cpp</a></li>
</ul>

</DoxygenPage>
