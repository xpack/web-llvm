---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/llvm/orc/reoptimizelayer
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `ReOptimizeLayer` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>



## Declaration

<CodeBlock>class llvm::orc::ReOptimizeLayer</CodeBlock>

## Included Headers

<IncludesList>
<IncludesListItem
  filePath="llvm/ExecutionEngine/Orc/ReOptimizeLayer.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h"
  isLocal="true" />
</IncludesList>

## Base classes

<MembersIndex>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/orc/irlayer">IRLayer</a></>}>
Interface for layers that accept LLVM IR. <a href="/docs/api/classes/llvm/orc/irlayer/#details">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/orc/resourcemanager">ResourceManager</a></>}>
Listens for <a href="/docs/api/classes/llvm/orc/resourcetracker">ResourceTracker</a> operations. <a href="/docs/api/classes/llvm/orc/resourcemanager/#details">More...</a>
</MembersIndexItem>

</MembersIndex>

## Public Member Typedefs Index

<MembersIndex>

<MembersIndexItem
  type="using"
  name={<><a href="#a433182a5de2e7e5d1ad1534249ab37ba">AddProfilerFunc</a> = <a href="/docs/api/classes/llvm/unique-function">unique&#95;function</a>&lt; <a href="/docs/api/classes/llvm/error">Error</a>( <a href="/docs/api/classes/llvm/orc/reoptimizelayer">ReOptimizeLayer</a> &amp;Parent, <a href="#a81245c84a2a98f7c3b05d801696a2598">ReOptMaterializationUnitID</a> MUID, unsigned CurVersion, <a href="/docs/api/classes/llvm/orc/threadsafemodule">ThreadSafeModule</a> &amp;TSM)&gt;</>}>
<a href="#a433182a5de2e7e5d1ad1534249ab37ba">AddProfilerFunc</a> will be called when <a href="/docs/api/classes/llvm/orc/reoptimizelayer">ReOptimizeLayer</a> emits the first version of a materialization unit in order to inject profiling code and reoptimization request code. <a href="#a433182a5de2e7e5d1ad1534249ab37ba">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="using"
  name={<><a href="#a01ef2e9b5a8868d2c58079b69529089b">ReOptimizeFunc</a> = <a href="/docs/api/classes/llvm/unique-function">unique&#95;function</a>&lt; <a href="/docs/api/classes/llvm/error">Error</a>( <a href="/docs/api/classes/llvm/orc/reoptimizelayer">ReOptimizeLayer</a> &amp;Parent, <a href="#a81245c84a2a98f7c3b05d801696a2598">ReOptMaterializationUnitID</a> MUID, unsigned CurVersion, <a href="/docs/api/namespaces/llvm/orc/#a25b487d71ccd2a8f38131e2b21c5d612">ResourceTrackerSP</a> OldRT, <a href="/docs/api/classes/llvm/orc/threadsafemodule">ThreadSafeModule</a> &amp;TSM)&gt;</>}>
<a href="#a01ef2e9b5a8868d2c58079b69529089b">ReOptimizeFunc</a> will be called when <a href="/docs/api/classes/llvm/orc/reoptimizelayer">ReOptimizeLayer</a> reoptimization of a materialization unit was requested in order to reoptimize the IR module based on profile data. <a href="#a01ef2e9b5a8868d2c58079b69529089b">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="using"
  name={<><a href="#a81245c84a2a98f7c3b05d801696a2598">ReOptMaterializationUnitID</a> = uint64&#95;t</>}>
</MembersIndexItem>

</MembersIndex>

## Private Member Typedefs Index

<MembersIndex>

<MembersIndexItem
  type="using"
  name={<><a href="#a0b37cd74c5cbfccd6810eab6cd02058f">SendErrorFn</a> = <a href="/docs/api/classes/llvm/unique-function">unique&#95;function</a>&lt; void(<a href="/docs/api/classes/llvm/error">Error</a>)&gt;</>}>
</MembersIndexItem>

<MembersIndexItem
  type="using"
  name={<><a href="#af5e55463a6c53b139e13da771a2d9ed0">SPSReoptimizeArgList</a> = <a href="/docs/api/classes/llvm/orc/shared/spsarglist">shared::SPSArgList</a>&lt; <a href="#a81245c84a2a98f7c3b05d801696a2598">ReOptMaterializationUnitID</a>, uint32&#95;t &gt;</>}>
</MembersIndexItem>

</MembersIndex>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a0b568a5599904f23d7fab8e9e45663af">ReOptimizeLayer</a> (ExecutionSession &amp;ES, DataLayout &amp;DL, IRLayer &amp;BaseLayer, RedirectableSymbolManager &amp;RM)</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="void"
  name={<><a href="#a0c88678c1ec65beaba8e75c3d2153d85">emit</a> (std::unique&#95;ptr&lt; MaterializationResponsibility &gt; R, ThreadSafeModule TSM) override</>}>
Emits the given module. <a href="#a0c88678c1ec65beaba8e75c3d2153d85">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/error">Error</a></>}
  name={<><a href="#aacd0d657410c7bb991aeca1736fe82b3">handleRemoveResources</a> (JITDylib &amp;JD, ResourceKey K) override</>}>
This function will be called <em>outside</em> the session lock. <a href="#aacd0d657410c7bb991aeca1736fe82b3">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a8a3455627cec2934fa2de73ac79470b5">handleTransferResources</a> (JITDylib &amp;JD, ResourceKey DstK, ResourceKey SrcK) override</>}>
This function will be called <em>inside</em> the session lock. <a href="#a8a3455627cec2934fa2de73ac79470b5">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/error">Error</a></>}
  name={<><a href="#a17a0b692655f9afeb0e25125cbf3b8cd">reigsterRuntimeFunctions</a> (JITDylib &amp;PlatformJD)</>}>
Registers reoptimize runtime dispatch handlers to given PlatformJD. <a href="#a17a0b692655f9afeb0e25125cbf3b8cd">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a7cb47e83bf9abcaaf27ec0b4c265afd3">setAddProfilerFunc</a> (AddProfilerFunc ProfilerFunc)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a0f5875dd2423151ba677f05e35443652">setReoptimizeFunc</a> (ReOptimizeFunc ReOptFunc)</>}>
</MembersIndexItem>

</MembersIndex>

## Private Member Functions Index

<MembersIndex>

<MembersIndexItem
  type={<>ReOptMaterializationUnitState &amp;</>}
  name={<><a href="#a880da947c2de3f8e421a0306a30ae402">createMaterializationUnitState</a> (const ThreadSafeModule &amp;TSM)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/expected">Expected</a>&lt; <a href="/docs/api/namespaces/llvm/orc/#a8ab9a099de556e888c5f92a4fe49d2fa">SymbolMap</a> &gt;</>}
  name={<><a href="#af453d5f7632ec8a10d71a59c77416774">emitMUImplSymbols</a> (ReOptMaterializationUnitState &amp;MUState, uint32&#95;t Version, JITDylib &amp;JD, ThreadSafeModule TSM)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>ReOptMaterializationUnitState &amp;</>}
  name={<><a href="#a8d3e0a245e03b01d4cae10f048b041c6">getMaterializationUnitState</a> (ReOptMaterializationUnitID MUID)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#aac0ddb3025d0d021197541ed586fc8e8">registerMaterializationUnitResource</a> (ResourceKey Key, ReOptMaterializationUnitState &amp;State)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a3aed65d2b592be0f940680d54ba149e7">rt&#95;reoptimize</a> (SendErrorFn SendResult, ReOptMaterializationUnitID MUID, uint32&#95;t CurVersion)</>}>
</MembersIndexItem>

</MembersIndex>

## Private Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/orc/irlayer">IRLayer</a> &amp;</>}
  name={<><a href="#ae8ff47c58e7dcde673c12787dd3ea887">BaseLayer</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/orc/executionsession">ExecutionSession</a> &amp;</>}
  name={<><a href="#aac96162cebeb7ab8ee8e5c7a69b3060a">ES</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/orc/mangleandinterner">MangleAndInterner</a></>}
  name={<><a href="#aac7bff0c8a93e4ae71e317df5f5fa446">Mangle</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/densemap">DenseMap</a>&lt; <a href="/docs/api/namespaces/llvm/orc/#a48eb648e96394270c69273c29bfad24e">ResourceKey</a>, <a href="/docs/api/classes/llvm/denseset">DenseSet</a>&lt; <a href="#a81245c84a2a98f7c3b05d801696a2598">ReOptMaterializationUnitID</a> &gt; &gt;</>}
  name={<><a href="#a241a5d067aa6878653b2d6eecdfdc873">MUResources</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::map&lt; <a href="#a81245c84a2a98f7c3b05d801696a2598">ReOptMaterializationUnitID</a>, ReOptMaterializationUnitState &gt;</>}
  name={<><a href="#aa1c77635530b1007d01fe24aaddb7178">MUStates</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type="std::mutex"
  name={<><a href="#a74a307e27a00176312ce1bb49682cab7">Mutex</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="#a81245c84a2a98f7c3b05d801696a2598">ReOptMaterializationUnitID</a></>}
  name={<><a href="#a8dd6137880b68610ce0bdd6be521df5e">NextID</a> = 1</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="#a433182a5de2e7e5d1ad1534249ab37ba">AddProfilerFunc</a></>}
  name={<><a href="#a8bda796d90d1bb81e2cac10f5d980514">ProfilerFunc</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="#a01ef2e9b5a8868d2c58079b69529089b">ReOptimizeFunc</a></>}
  name={<><a href="#adc782277703682c559a8a8a92ffafdca">ReOptFunc</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/orc/redirectablesymbolmanager">RedirectableSymbolManager</a> &amp;</>}
  name={<><a href="#a27d4f9464229271198ef694548fba10f">RSManager</a></>}>
</MembersIndexItem>

</MembersIndex>

## Public Static Functions Index

<MembersIndex>

<MembersIndexItem
  type="void"
  name={<><a href="#a7c9e3a3c2e449cbc1dfebc37503af252">createReoptimizeCall</a> (Module &amp;M, Instruction &amp;IP, GlobalVariable &#42;ArgBuffer)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/error">Error</a></>}
  name={<><a href="#a1ca0a9a464229ad1ddfc9bae02574c6b">identity</a> (ReOptimizeLayer &amp;Parent, ReOptMaterializationUnitID MUID, unsigned CurVersion, ResourceTrackerSP OldRT, ThreadSafeModule &amp;TSM)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/error">Error</a></>}
  name={<><a href="#aa1d94843d12c81b1eda3d646bb2ab38e">reoptimizeIfCallFrequent</a> (ReOptimizeLayer &amp;Parent, ReOptMaterializationUnitID MUID, unsigned CurVersion, ThreadSafeModule &amp;TSM)</>}>
Basic <a href="#a433182a5de2e7e5d1ad1534249ab37ba">AddProfilerFunc</a> that reoptimizes the function when the call count exceeds CallCountThreshold. <a href="#aa1d94843d12c81b1eda3d646bb2ab38e">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Static Functions Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/expected">Expected</a>&lt; <a href="/docs/api/classes/llvm/constant">Constant</a> &#42; &gt;</>}
  name={<><a href="#a71e72c141ac7260165039799a5cee215">createReoptimizeArgBuffer</a> (Module &amp;M, ReOptMaterializationUnitID MUID, uint32&#95;t CurVersion)</>}>
</MembersIndexItem>

</MembersIndex>

## Public Static Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> uint64&#95;t</>}
  name={<><a href="#adb2c501476e240de056fff1f511859f5">CallCountThreshold</a> = 10</>}>
</MembersIndexItem>

</MembersIndex>


Definition at line 27 of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h">ReOptimizeLayer.h</a>.

<SectionDefinition>

## Public Member Typedefs

### AddProfilerFunc {#a433182a5de2e7e5d1ad1534249ab37ba}

<MemberDefinition
  prototype={<>using llvm::orc::ReOptimizeLayer::AddProfilerFunc =  unique&#95;function&lt;Error(
      ReOptimizeLayer &amp;Parent, ReOptMaterializationUnitID MUID,
      unsigned CurVersion, ThreadSafeModule &amp;TSM)&gt;</>}>
<a href="#a433182a5de2e7e5d1ad1534249ab37ba">AddProfilerFunc</a> will be called when <a href="/docs/api/classes/llvm/orc/reoptimizelayer">ReOptimizeLayer</a> emits the first version of a materialization unit in order to inject profiling code and reoptimization request code.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h/#l00034">34</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h">ReOptimizeLayer.h</a>.
</MemberDefinition>

### ReOptimizeFunc {#a01ef2e9b5a8868d2c58079b69529089b}

<MemberDefinition
  prototype={<>using llvm::orc::ReOptimizeLayer::ReOptimizeFunc =  unique&#95;function&lt;Error(
      ReOptimizeLayer &amp;Parent, ReOptMaterializationUnitID MUID,
      unsigned CurVersion, ResourceTrackerSP OldRT, ThreadSafeModule &amp;TSM)&gt;</>}>
<a href="#a01ef2e9b5a8868d2c58079b69529089b">ReOptimizeFunc</a> will be called when <a href="/docs/api/classes/llvm/orc/reoptimizelayer">ReOptimizeLayer</a> reoptimization of a materialization unit was requested in order to reoptimize the IR module based on profile data.

OldRT is the <a href="/docs/api/classes/llvm/orc/resourcetracker">ResourceTracker</a> that tracks the old function definitions. The OldRT must be kept alive until it can be guaranteed that every invocation of the old function definitions has been terminated.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h/#l00044">44</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h">ReOptimizeLayer.h</a>.
</MemberDefinition>

### ReOptMaterializationUnitID {#a81245c84a2a98f7c3b05d801696a2598}

<MemberDefinition
  prototype={<>using llvm::orc::ReOptimizeLayer::ReOptMaterializationUnitID =  uint64&#95;t</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h/#l00029">29</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h">ReOptimizeLayer.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Typedefs

### SendErrorFn {#a0b37cd74c5cbfccd6810eab6cd02058f}

<MemberDefinition
  prototype={<>using llvm::orc::ReOptimizeLayer::SendErrorFn =  unique&#95;function&lt;void(Error)&gt;</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h/#l00141">141</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h">ReOptimizeLayer.h</a>.
</MemberDefinition>

### SPSReoptimizeArgList {#af5e55463a6c53b139e13da771a2d9ed0}

<MemberDefinition
  prototype={<>using llvm::orc::ReOptimizeLayer::SPSReoptimizeArgList = 
      shared::SPSArgList&lt;ReOptMaterializationUnitID, uint32&#95;t&gt;</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h/#l00139">139</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h">ReOptimizeLayer.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Constructors

### ReOptimizeLayer() {#a0b568a5599904f23d7fab8e9e45663af}

<MemberDefinition
  prototype={<>llvm::orc::ReOptimizeLayer::ReOptimizeLayer (<a href="/docs/api/classes/llvm/orc/executionsession">ExecutionSession</a> &amp; ES, <a href="/docs/api/classes/llvm/datalayout">DataLayout</a> &amp; DL, <a href="/docs/api/classes/llvm/orc/irlayer">IRLayer</a> &amp; BaseLayer, <a href="/docs/api/classes/llvm/orc/redirectablesymbolmanager">RedirectableSymbolManager</a> &amp; RM)</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h/#l00048">48</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h">ReOptimizeLayer.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### emit() {#a0c88678c1ec65beaba8e75c3d2153d85}

<MemberDefinition
  prototype={<>void ReOptimizeLayer::emit (std::unique&#95;ptr&lt; <a href="/docs/api/classes/llvm/orc/materializationresponsibility">MaterializationResponsibility</a> &gt; R, <a href="/docs/api/classes/llvm/orc/threadsafemodule">ThreadSafeModule</a> TSM)</>}
  labels = {["virtual"]}>
Emits the given module.

This should not be called by clients: it will be called by the JIT when a definition added via the add method is requested.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h/#l00069">69</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h">ReOptimizeLayer.h</a>, definition at line <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/reoptimizelayer-cpp/#l00038">38</a> of file <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/reoptimizelayer-cpp">ReOptimizeLayer.cpp</a>.
</MemberDefinition>

### handleRemoveResources() {#aacd0d657410c7bb991aeca1736fe82b3}

<MemberDefinition
  prototype={<>Error ReOptimizeLayer::handleRemoveResources (<a href="/docs/api/classes/llvm/orc/jitdylib">JITDylib</a> &amp; JD, <a href="/docs/api/namespaces/llvm/orc/#a48eb648e96394270c69273c29bfad24e">ResourceKey</a> K)</>}
  labels = {["virtual"]}>
This function will be called <em>outside</em> the session lock.

ResourceManagers should perform book-keeping under the session lock, and any expensive cleanup outside the session lock.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h/#l00091">91</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h">ReOptimizeLayer.h</a>, definition at line <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/reoptimizelayer-cpp/#l00265">265</a> of file <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/reoptimizelayer-cpp">ReOptimizeLayer.cpp</a>.
</MemberDefinition>

### handleTransferResources() {#a8a3455627cec2934fa2de73ac79470b5}

<MemberDefinition
  prototype={<>void ReOptimizeLayer::handleTransferResources (<a href="/docs/api/classes/llvm/orc/jitdylib">JITDylib</a> &amp; JD, <a href="/docs/api/namespaces/llvm/orc/#a48eb648e96394270c69273c29bfad24e">ResourceKey</a> DstK, <a href="/docs/api/namespaces/llvm/orc/#a48eb648e96394270c69273c29bfad24e">ResourceKey</a> SrcK)</>}
  labels = {["virtual"]}>
This function will be called <em>inside</em> the session lock.

ResourceManagers DO NOT need to re-lock the session.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h/#l00092">92</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h">ReOptimizeLayer.h</a>, definition at line <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/reoptimizelayer-cpp/#l00274">274</a> of file <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/reoptimizelayer-cpp">ReOptimizeLayer.cpp</a>.
</MemberDefinition>

### reigsterRuntimeFunctions() {#a17a0b692655f9afeb0e25125cbf3b8cd}

<MemberDefinition
  prototype={<>Error ReOptimizeLayer::reigsterRuntimeFunctions (<a href="/docs/api/classes/llvm/orc/jitdylib">JITDylib</a> &amp; PlatformJD)</>}>
Registers reoptimize runtime dispatch handlers to given PlatformJD.

The reoptimization request will not be handled if dispatch handler is not registered by using this function.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h/#l00065">65</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h">ReOptimizeLayer.h</a>, definition at line <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/reoptimizelayer-cpp/#l00029">29</a> of file <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/reoptimizelayer-cpp">ReOptimizeLayer.cpp</a>.
</MemberDefinition>

### setAddProfilerFunc() {#a7cb47e83bf9abcaaf27ec0b4c265afd3}

<MemberDefinition
  prototype={<>void llvm::orc::ReOptimizeLayer::setAddProfilerFunc (<a href="#a433182a5de2e7e5d1ad1534249ab37ba">AddProfilerFunc</a> ProfilerFunc)</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h/#l00058">58</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h">ReOptimizeLayer.h</a>.
</MemberDefinition>

### setReoptimizeFunc() {#a0f5875dd2423151ba677f05e35443652}

<MemberDefinition
  prototype={<>void llvm::orc::ReOptimizeLayer::setReoptimizeFunc (<a href="#a01ef2e9b5a8868d2c58079b69529089b">ReOptimizeFunc</a> ReOptFunc)</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h/#l00054">54</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h">ReOptimizeLayer.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Functions

### createMaterializationUnitState() {#a880da947c2de3f8e421a0306a30ae402}

<MemberDefinition
  prototype={<>ReOptimizeLayer::ReOptMaterializationUnitState &amp; ReOptimizeLayer::createMaterializationUnitState (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/orc/threadsafemodule">ThreadSafeModule</a> &amp; TSM)</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h/#l00155">155</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h">ReOptimizeLayer.h</a>, definition at line <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/reoptimizelayer-cpp/#l00244">244</a> of file <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/reoptimizelayer-cpp">ReOptimizeLayer.cpp</a>.
</MemberDefinition>

### emitMUImplSymbols() {#af453d5f7632ec8a10d71a59c77416774}

<MemberDefinition
  prototype={<>Expected&lt; SymbolMap &gt; ReOptimizeLayer::emitMUImplSymbols (ReOptMaterializationUnitState &amp; MUState, uint32&#95;t Version, <a href="/docs/api/classes/llvm/orc/jitdylib">JITDylib</a> &amp; JD, <a href="/docs/api/classes/llvm/orc/threadsafemodule">ThreadSafeModule</a> TSM)</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h/#l00143">143</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h">ReOptimizeLayer.h</a>, definition at line <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/reoptimizelayer-cpp/#l00117">117</a> of file <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/reoptimizelayer-cpp">ReOptimizeLayer.cpp</a>.
</MemberDefinition>

### getMaterializationUnitState() {#a8d3e0a245e03b01d4cae10f048b041c6}

<MemberDefinition
  prototype={<>ReOptimizeLayer::ReOptMaterializationUnitState &amp; ReOptimizeLayer::getMaterializationUnitState (<a href="#a81245c84a2a98f7c3b05d801696a2598">ReOptMaterializationUnitID</a> MUID)</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h/#l00162">162</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h">ReOptimizeLayer.h</a>, definition at line <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/reoptimizelayer-cpp/#l00254">254</a> of file <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/reoptimizelayer-cpp">ReOptimizeLayer.cpp</a>.
</MemberDefinition>

### registerMaterializationUnitResource() {#aac0ddb3025d0d021197541ed586fc8e8}

<MemberDefinition
  prototype={<>void ReOptimizeLayer::registerMaterializationUnitResource (<a href="/docs/api/namespaces/llvm/orc/#a48eb648e96394270c69273c29bfad24e">ResourceKey</a> Key, ReOptMaterializationUnitState &amp; State)</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h/#l00158">158</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h">ReOptimizeLayer.h</a>, definition at line <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/reoptimizelayer-cpp/#l00259">259</a> of file <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/reoptimizelayer-cpp">ReOptimizeLayer.cpp</a>.
</MemberDefinition>

### rt&#95;reoptimize() {#a3aed65d2b592be0f940680d54ba149e7}

<MemberDefinition
  prototype={<>void ReOptimizeLayer::rt&#95;reoptimize (<a href="/docs/api/classes/llvm/unique-function">SendErrorFn</a> SendResult, <a href="#a81245c84a2a98f7c3b05d801696a2598">ReOptMaterializationUnitID</a> MUID, uint32&#95;t CurVersion)</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h/#l00147">147</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h">ReOptimizeLayer.h</a>, definition at line <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/reoptimizelayer-cpp/#l00158">158</a> of file <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/reoptimizelayer-cpp">ReOptimizeLayer.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Attributes

### BaseLayer {#ae8ff47c58e7dcde673c12787dd3ea887}

<MemberDefinition
  prototype={<>IRLayer&amp; llvm::orc::ReOptimizeLayer::BaseLayer</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h/#l00166">166</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h">ReOptimizeLayer.h</a>.
</MemberDefinition>

### ES {#aac96162cebeb7ab8ee8e5c7a69b3060a}

<MemberDefinition
  prototype={<>ExecutionSession&amp; llvm::orc::ReOptimizeLayer::ES</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h/#l00164">164</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h">ReOptimizeLayer.h</a>.
</MemberDefinition>

### Mangle {#aac7bff0c8a93e4ae71e317df5f5fa446}

<MemberDefinition
  prototype="MangleAndInterner llvm::orc::ReOptimizeLayer::Mangle">

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h/#l00165">165</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h">ReOptimizeLayer.h</a>.
</MemberDefinition>

### MUResources {#a241a5d067aa6878653b2d6eecdfdc873}

<MemberDefinition
  prototype={<>DenseMap&lt;ResourceKey, DenseSet&lt;ReOptMaterializationUnitID&gt; &gt; llvm::orc::ReOptimizeLayer::MUResources</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h/#l00174">174</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h">ReOptimizeLayer.h</a>.
</MemberDefinition>

### MUStates {#aa1c77635530b1007d01fe24aaddb7178}

<MemberDefinition
  prototype={<>std::map&lt;ReOptMaterializationUnitID, ReOptMaterializationUnitState&gt; llvm::orc::ReOptimizeLayer::MUStates</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h/#l00173">173</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h">ReOptimizeLayer.h</a>.
</MemberDefinition>

### Mutex {#a74a307e27a00176312ce1bb49682cab7}

<MemberDefinition
  prototype="std::mutex llvm::orc::ReOptimizeLayer::Mutex">

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h/#l00172">172</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h">ReOptimizeLayer.h</a>.
</MemberDefinition>

### NextID {#a8dd6137880b68610ce0bdd6be521df5e}

<MemberDefinition
  prototype="ReOptMaterializationUnitID llvm::orc::ReOptimizeLayer::NextID = 1">

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h/#l00175">175</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h">ReOptimizeLayer.h</a>.
</MemberDefinition>

### ProfilerFunc {#a8bda796d90d1bb81e2cac10f5d980514}

<MemberDefinition
  prototype="AddProfilerFunc llvm::orc::ReOptimizeLayer::ProfilerFunc">

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h/#l00170">170</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h">ReOptimizeLayer.h</a>.
</MemberDefinition>

### ReOptFunc {#adc782277703682c559a8a8a92ffafdca}

<MemberDefinition
  prototype="ReOptimizeFunc llvm::orc::ReOptimizeLayer::ReOptFunc">

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h/#l00169">169</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h">ReOptimizeLayer.h</a>.
</MemberDefinition>

### RSManager {#a27d4f9464229271198ef694548fba10f}

<MemberDefinition
  prototype={<>RedirectableSymbolManager&amp; llvm::orc::ReOptimizeLayer::RSManager</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h/#l00167">167</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h">ReOptimizeLayer.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Static Functions

### createReoptimizeCall() {#a7c9e3a3c2e449cbc1dfebc37503af252}

<MemberDefinition
  prototype={<>void ReOptimizeLayer::createReoptimizeCall (<a href="/docs/api/classes/llvm/module">Module</a> &amp; M, <a href="/docs/api/classes/llvm/instruction">Instruction</a> &amp; IP, <a href="/docs/api/classes/llvm/globalvariable">GlobalVariable</a> &#42; ArgBuffer)</>}
  labels = {["static"]}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h/#l00088">88</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h">ReOptimizeLayer.h</a>, definition at line <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/reoptimizelayer-cpp/#l00209">209</a> of file <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/reoptimizelayer-cpp">ReOptimizeLayer.cpp</a>.
</MemberDefinition>

### identity() {#a1ca0a9a464229ad1ddfc9bae02574c6b}

<MemberDefinition
  prototype={<>static Error llvm::orc::ReOptimizeLayer::identity (<a href="/docs/api/classes/llvm/orc/reoptimizelayer">ReOptimizeLayer</a> &amp; Parent, <a href="#a81245c84a2a98f7c3b05d801696a2598">ReOptMaterializationUnitID</a> MUID, unsigned CurVersion, <a href="/docs/api/namespaces/llvm/orc/#a25b487d71ccd2a8f38131e2b21c5d612">ResourceTrackerSP</a> OldRT, <a href="/docs/api/classes/llvm/orc/threadsafemodule">ThreadSafeModule</a> &amp; TSM)</>}
  labels = {["inline", "static"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h/#l00081">81</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h">ReOptimizeLayer.h</a>.
</MemberDefinition>

### reoptimizeIfCallFrequent() {#aa1d94843d12c81b1eda3d646bb2ab38e}

<MemberDefinition
  prototype={<>Error ReOptimizeLayer::reoptimizeIfCallFrequent (<a href="/docs/api/classes/llvm/orc/reoptimizelayer">ReOptimizeLayer</a> &amp; Parent, <a href="#a81245c84a2a98f7c3b05d801696a2598">ReOptMaterializationUnitID</a> MUID, unsigned CurVersion, <a href="/docs/api/classes/llvm/orc/threadsafemodule">ThreadSafeModule</a> &amp; TSM)</>}
  labels = {["static"]}>
Basic <a href="#a433182a5de2e7e5d1ad1534249ab37ba">AddProfilerFunc</a> that reoptimizes the function when the call count exceeds CallCountThreshold.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h/#l00076">76</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h">ReOptimizeLayer.h</a>, definition at line <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/reoptimizelayer-cpp/#l00082">82</a> of file <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/reoptimizelayer-cpp">ReOptimizeLayer.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Static Functions

### createReoptimizeArgBuffer() {#a71e72c141ac7260165039799a5cee215}

<MemberDefinition
  prototype={<>Expected&lt; Constant &#42; &gt; ReOptimizeLayer::createReoptimizeArgBuffer (<a href="/docs/api/classes/llvm/module">Module</a> &amp; M, <a href="#a81245c84a2a98f7c3b05d801696a2598">ReOptMaterializationUnitID</a> MUID, uint32&#95;t CurVersion)</>}
  labels = {["static"]}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h/#l00151">151</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h">ReOptimizeLayer.h</a>, definition at line <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/reoptimizelayer-cpp/#l00198">198</a> of file <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/reoptimizelayer-cpp">ReOptimizeLayer.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Static Attributes

### CallCountThreshold {#adb2c501476e240de056fff1f511859f5}

<MemberDefinition
  prototype={<>const uint64&#95;t llvm::orc::ReOptimizeLayer::CallCountThreshold = 10</>}
  labels = {["static"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h/#l00072">72</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h">ReOptimizeLayer.h</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following files:

<ul>
<li><a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/reoptimizelayer-h">ReOptimizeLayer.h</a></li>
<li><a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/reoptimizelayer-cpp">ReOptimizeLayer.cpp</a></li>
</ul>

</DoxygenPage>
