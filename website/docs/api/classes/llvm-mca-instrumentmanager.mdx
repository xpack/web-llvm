---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/llvm/mca/instrumentmanager
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `InstrumentManager` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>

This class allows targets to optionally customize the logic that resolves scheduling class IDs. <a href="#details">More...</a>

## Declaration

<CodeBlock>class llvm::mca::InstrumentManager</CodeBlock>

## Included Headers

<IncludesList>
<IncludesListItem
  filePath="llvm/MCA/CustomBehaviour.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/mca/custombehaviour-h"
  isLocal="true" />
</IncludesList>

## Derived Classes

<MembersIndex>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/mca/riscvinstrumentmanager">RISCVInstrumentManager</a></>}>
</MembersIndexItem>

</MembersIndex>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a94189e246106cc5ea4de8e189367482e">InstrumentManager</a> (const MCSubtargetInfo &amp;STI, const MCInstrInfo &amp;MCII)</>}>
</MembersIndexItem>

</MembersIndex>

## Public Destructor Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#aa71460139fbc7456dcf618913fd2f4b6">~InstrumentManager</a> ()=default</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/namespaces/llvm/mca/#a33806b50f8cfeb26c86a2d73207ea71e">UniqueInstrument</a></>}
  name={<><a href="#a61084e922fda1cee6e6ccf59c93df24b">createInstrument</a> (StringRef Desc, StringRef Data)</>}>
Allocate an <a href="/docs/api/classes/llvm/mca/instrument">Instrument</a>, and return a unique pointer to it. <a href="#a61084e922fda1cee6e6ccf59c93df24b">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/smallvector">SmallVector</a>&lt; <a href="/docs/api/namespaces/llvm/mca/#a33806b50f8cfeb26c86a2d73207ea71e">UniqueInstrument</a> &gt;</>}
  name={<><a href="#a9e01c830a1a9817436ba68e54e716135">createInstruments</a> (const MCInst &amp;Inst)</>}>
Return a list of unique pointers to Instruments, where each <a href="/docs/api/classes/llvm/mca/instrument">Instrument</a> is allocated by this function. <a href="#a9e01c830a1a9817436ba68e54e716135">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="unsigned"
  name={<><a href="#a5e6483bc81e9963e00f1d2a0782110ea">getSchedClassID</a> (const MCInstrInfo &amp;MCII, const MCInst &amp;MCI, const SmallVector&lt; Instrument &#42; &gt; &amp;IVec) const</>}>
Given an <a href="/docs/api/classes/llvm/mcinst">MCInst</a> and a vector of <a href="/docs/api/classes/llvm/mca/instrument">Instrument</a>, a target can return a SchedClassID. <a href="#a5e6483bc81e9963e00f1d2a0782110ea">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#ab8d799ddb4ad63f286154aaf70f2c3f3">shouldIgnoreInstruments</a> () const</>}>
Returns true if llvm-mca should ignore instruments. <a href="#ab8d799ddb4ad63f286154aaf70f2c3f3">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a580413b7e246be563f29fcb669af5edb">supportsInstrumentType</a> (StringRef Type) const</>}>
</MembersIndexItem>

</MembersIndex>

## Protected Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/mcinstrinfo">MCInstrInfo</a> &amp;</>}
  name={<><a href="#a34e53b6d8294808eaa4149030ea84437">MCII</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/mcsubtargetinfo">MCSubtargetInfo</a> &amp;</>}
  name={<><a href="#af15b8aa847f292c9be1e8bf5ee91142f">STI</a></>}>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

This class allows targets to optionally customize the logic that resolves scheduling class IDs.

Targets can use information encoded in <a href="/docs/api/classes/llvm/mca/instrument">Instrument</a> objects to make more informed scheduling decisions.

Definition at line 141 of file <a href="/docs/api/files/include/include/llvm/include/llvm/mca/custombehaviour-h">CustomBehaviour.h</a>.

<SectionDefinition>

## Public Constructors

### InstrumentManager() {#a94189e246106cc5ea4de8e189367482e}

<MemberDefinition
  prototype={<>llvm::mca::InstrumentManager::InstrumentManager (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/mcsubtargetinfo">MCSubtargetInfo</a> &amp; STI, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/mcinstrinfo">MCInstrInfo</a> &amp; MCII)</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/mca/custombehaviour-h/#l00147">147</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/mca/custombehaviour-h">CustomBehaviour.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Destructor

### ~InstrumentManager() {#aa71460139fbc7456dcf618913fd2f4b6}

<MemberDefinition
  prototype="virtual llvm::mca::InstrumentManager::~InstrumentManager ()"
  labels = {["virtual", "default"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/mca/custombehaviour-h/#l00150">150</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/mca/custombehaviour-h">CustomBehaviour.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### createInstrument() {#a61084e922fda1cee6e6ccf59c93df24b}

<MemberDefinition
  prototype={<>UniqueInstrument llvm::mca::InstrumentManager::createInstrument (<a href="/docs/api/classes/llvm/stringref">StringRef</a> Desc, <a href="/docs/api/classes/llvm/stringref">StringRef</a> Data)</>}
  labels = {["virtual"]}>
Allocate an <a href="/docs/api/classes/llvm/mca/instrument">Instrument</a>, and return a unique pointer to it.

This function may be useful to create instruments coming from comments in the assembly. See createInstruments to create Instruments from <a href="/docs/api/classes/llvm/mcinst">MCInst</a>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/mca/custombehaviour-h/#l00162">162</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/mca/custombehaviour-h">CustomBehaviour.h</a>, definition at line <a href="/docs/api/files/lib/lib/mca/custombehaviour-cpp/#l00045">45</a> of file <a href="/docs/api/files/lib/lib/mca/custombehaviour-cpp">CustomBehaviour.cpp</a>.
</MemberDefinition>

### createInstruments() {#a9e01c830a1a9817436ba68e54e716135}

<MemberDefinition
  prototype={<>SmallVector&lt; UniqueInstrument &gt; llvm::mca::InstrumentManager::createInstruments (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/mcinst">MCInst</a> &amp; Inst)</>}
  labels = {["virtual"]}>
Return a list of unique pointers to Instruments, where each <a href="/docs/api/classes/llvm/mca/instrument">Instrument</a> is allocated by this function.

See createInstrument to create <a href="/docs/api/classes/llvm/mca/instrument">Instrument</a> from a description and data.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/mca/custombehaviour-h/#l00167">167</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/mca/custombehaviour-h">CustomBehaviour.h</a>, definition at line <a href="/docs/api/files/lib/lib/mca/custombehaviour-cpp/#l00051">51</a> of file <a href="/docs/api/files/lib/lib/mca/custombehaviour-cpp">CustomBehaviour.cpp</a>.
</MemberDefinition>

### getSchedClassID() {#a5e6483bc81e9963e00f1d2a0782110ea}

<MemberDefinition
  prototype={<>unsigned llvm::mca::InstrumentManager::getSchedClassID (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/mcinstrinfo">MCInstrInfo</a> &amp; MCII, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/mcinst">MCInst</a> &amp; MCI, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/smallvector">SmallVector</a>&lt; <a href="/docs/api/classes/llvm/mca/instrument">Instrument</a> &#42; &gt; &amp; IVec) const</>}
  labels = {["virtual"]}>
Given an <a href="/docs/api/classes/llvm/mcinst">MCInst</a> and a vector of <a href="/docs/api/classes/llvm/mca/instrument">Instrument</a>, a target can return a SchedClassID.

This can be used by a subtarget to return a PseudoInstruction SchedClassID instead of the one that belongs to the BaseInstruction This can be useful when a BaseInstruction does not convey the correct scheduling information without additional data. By default, it returns the SchedClassID that belongs to MCI.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/mca/custombehaviour-h/#l00175">175</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/mca/custombehaviour-h">CustomBehaviour.h</a>, definition at line <a href="/docs/api/files/lib/lib/mca/custombehaviour-cpp/#l00055">55</a> of file <a href="/docs/api/files/lib/lib/mca/custombehaviour-cpp">CustomBehaviour.cpp</a>.
</MemberDefinition>

### shouldIgnoreInstruments() {#ab8d799ddb4ad63f286154aaf70f2c3f3}

<MemberDefinition
  prototype="virtual bool llvm::mca::InstrumentManager::shouldIgnoreInstruments () const"
  labels = {["inline", "virtual"]}>
Returns true if llvm-mca should ignore instruments.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/mca/custombehaviour-h/#l00153">153</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/mca/custombehaviour-h">CustomBehaviour.h</a>.
</MemberDefinition>

### supportsInstrumentType() {#a580413b7e246be563f29fcb669af5edb}

<MemberDefinition
  prototype={<>virtual bool llvm::mca::InstrumentManager::supportsInstrumentType (<a href="/docs/api/classes/llvm/stringref">StringRef</a> Type) const</>}
  labels = {["inline", "virtual"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/mca/custombehaviour-h/#l00157">157</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/mca/custombehaviour-h">CustomBehaviour.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Protected Member Attributes

### MCII {#a34e53b6d8294808eaa4149030ea84437}

<MemberDefinition
  prototype={<>const MCInstrInfo&amp; llvm::mca::InstrumentManager::MCII</>}
  labels = {["protected"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/mca/custombehaviour-h/#l00144">144</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/mca/custombehaviour-h">CustomBehaviour.h</a>.
</MemberDefinition>

### STI {#af15b8aa847f292c9be1e8bf5ee91142f}

<MemberDefinition
  prototype={<>const MCSubtargetInfo&amp; llvm::mca::InstrumentManager::STI</>}
  labels = {["protected"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/mca/custombehaviour-h/#l00143">143</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/mca/custombehaviour-h">CustomBehaviour.h</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following files:

<ul>
<li><a href="/docs/api/files/include/include/llvm/include/llvm/mca/custombehaviour-h">CustomBehaviour.h</a></li>
<li><a href="/docs/api/files/lib/lib/mca/custombehaviour-cpp">CustomBehaviour.cpp</a></li>
</ul>

</DoxygenPage>
