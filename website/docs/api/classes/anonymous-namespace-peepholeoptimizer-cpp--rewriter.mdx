---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/anonymous-namespace-peepholeoptimizer-cpp-/rewriter
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'
import SectionUser from '@xpack/docusaurus-plugin-doxygen/components/SectionUser'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `Rewriter` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>

Interface to query instructions amenable to copy rewriting. <a href="#details">More...</a>

## Declaration

<CodeBlock>class anonymous_namespace{PeepholeOptimizer.cpp}::Rewriter</CodeBlock>

## Derived Classes

<MembersIndex>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/anonymous-namespace-peepholeoptimizer-cpp-/copyrewriter">CopyRewriter</a></>}>
<a href="/docs/api/classes/anonymous-namespace-peepholeoptimizer-cpp-/rewriter">Rewriter</a> for COPY instructions. <a href="/docs/api/classes/anonymous-namespace-peepholeoptimizer-cpp-/copyrewriter/#details">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/anonymous-namespace-peepholeoptimizer-cpp-/extractsubregrewriter">ExtractSubregRewriter</a></>}>
Specialized rewriter for EXTRACT&#95;SUBREG instruction. <a href="/docs/api/classes/anonymous-namespace-peepholeoptimizer-cpp-/extractsubregrewriter/#details">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/anonymous-namespace-peepholeoptimizer-cpp-/insertsubregrewriter">InsertSubregRewriter</a></>}>
Specialized rewriter for INSERT&#95;SUBREG instruction. <a href="/docs/api/classes/anonymous-namespace-peepholeoptimizer-cpp-/insertsubregrewriter/#details">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/anonymous-namespace-peepholeoptimizer-cpp-/regsequencerewriter">RegSequenceRewriter</a></>}>
Specialized rewriter for REG&#95;SEQUENCE instruction. <a href="/docs/api/classes/anonymous-namespace-peepholeoptimizer-cpp-/regsequencerewriter/#details">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/anonymous-namespace-peepholeoptimizer-cpp-/uncoalescablerewriter">UncoalescableRewriter</a></>}>
Helper class to rewrite uncoalescable copy like instructions into new COPY (coalescable friendly) instructions. <a href="/docs/api/classes/anonymous-namespace-peepholeoptimizer-cpp-/uncoalescablerewriter/#details">More...</a>
</MembersIndexItem>

</MembersIndex>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a33607cdfed7a2110695c526b7520d224">Rewriter</a> (MachineInstr &amp;CopyLike)</>}>
</MembersIndexItem>

</MembersIndex>

## Public Destructor Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#ad2bfa5ae4bc00ede215508c597f2e543">~Rewriter</a> ()=default</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="bool"
  name={<><a href="#a3fa829354b3f8b782d40175469540cab">getNextRewritableSource</a> (RegSubRegPair &amp;Src, RegSubRegPair &amp;Dst)=0</>}>
Get the next rewritable source (SrcReg, SrcSubReg) and the related value that it affects (DstReg, DstSubReg). <a href="#a3fa829354b3f8b782d40175469540cab">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#ac8009fc29123ba030ea30157cf18c62d">RewriteCurrentSource</a> (Register NewReg, unsigned NewSubReg)=0</>}>
Rewrite the current source with <code>NewReg</code> and <code>NewSubReg</code> if possible. <a href="#ac8009fc29123ba030ea30157cf18c62d">More...</a>
</MembersIndexItem>

</MembersIndex>

## Protected Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &amp;</>}
  name={<><a href="#a1ab74e93e550820b697e99a0dc9fdbbd">CopyLike</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type="unsigned"
  name={<><a href="#ac58143cbdf601d044e69002face8a19b">CurrentSrcIdx</a> = 0</>}>
The index of the source being rewritten. <a href="#ac58143cbdf601d044e69002face8a19b">More...</a>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

Interface to query instructions amenable to copy rewriting.

Definition at line 153 of file <a href="/docs/api/files/lib/lib/codegen/peepholeoptimizer-cpp">PeepholeOptimizer.cpp</a>.

<SectionDefinition>

## Public Constructors

### Rewriter() {#a33607cdfed7a2110695c526b7520d224}

<MemberDefinition
  prototype={<>anonymous&#95;namespace&#123;PeepholeOptimizer.cpp&#125;::Rewriter::Rewriter (<a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &amp; CopyLike)</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/peepholeoptimizer-cpp/#l00158">158</a> of file <a href="/docs/api/files/lib/lib/codegen/peepholeoptimizer-cpp">PeepholeOptimizer.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Destructor

### ~Rewriter() {#ad2bfa5ae4bc00ede215508c597f2e543}

<MemberDefinition
  prototype={<>virtual anonymous&#95;namespace&#123;PeepholeOptimizer.cpp&#125;::Rewriter::~Rewriter ()</>}
  labels = {["virtual", "default"]}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/peepholeoptimizer-cpp/#l00159">159</a> of file <a href="/docs/api/files/lib/lib/codegen/peepholeoptimizer-cpp">PeepholeOptimizer.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### getNextRewritableSource() {#a3fa829354b3f8b782d40175469540cab}

<MemberDefinition
  prototype={<>virtual bool anonymous&#95;namespace&#123;PeepholeOptimizer.cpp&#125;::Rewriter::getNextRewritableSource (<a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a16005492b382a6a76abae848b4af2b83">RegSubRegPair</a> &amp; Src, <a href="/docs/api/files/lib/lib/codegen/machinesink-cpp/#a16005492b382a6a76abae848b4af2b83">RegSubRegPair</a> &amp; Dst)</>}>
Get the next rewritable source (SrcReg, SrcSubReg) and the related value that it affects (DstReg, DstSubReg).

A source is considered rewritable if its register class and the register class of the related DstReg may not be register coalescer friendly. In other words, given a copy-like instruction not all the arguments may be returned at rewritable source, since some arguments are none to be register coalescer friendly.

Each call of this method moves the current source to the next rewritable source. For instance, let CopyLike be the instruction to rewrite. CopyLike has one definition and one source: dst.dstSubIdx = CopyLike src.srcSubIdx.

The first call will give the first rewritable source, i.e., the only source this instruction has: (SrcReg, SrcSubReg) = (src, srcSubIdx). This source defines the whole definition, i.e., (DstReg, DstSubReg) = (dst, dstSubIdx).

The second and subsequent calls will return false, as there is only one rewritable source.


<SectionUser title="Returns">
True if a rewritable source has been found, false otherwise. The output arguments are valid if and only if true is returned.
</SectionUser>

Definition at line <a href="/docs/api/files/lib/lib/codegen/peepholeoptimizer-cpp/#l00186">186</a> of file <a href="/docs/api/files/lib/lib/codegen/peepholeoptimizer-cpp">PeepholeOptimizer.cpp</a>.
</MemberDefinition>

### RewriteCurrentSource() {#ac8009fc29123ba030ea30157cf18c62d}

<MemberDefinition
  prototype={<>virtual bool anonymous&#95;namespace&#123;PeepholeOptimizer.cpp&#125;::Rewriter::RewriteCurrentSource (<a href="/docs/api/classes/llvm/register">Register</a> NewReg, unsigned NewSubReg)</>}>
Rewrite the current source with <code>NewReg</code> and <code>NewSubReg</code> if possible.

<SectionUser title="Returns">
True if the rewriting was possible, false otherwise.
</SectionUser>

Definition at line <a href="/docs/api/files/lib/lib/codegen/peepholeoptimizer-cpp/#l00191">191</a> of file <a href="/docs/api/files/lib/lib/codegen/peepholeoptimizer-cpp">PeepholeOptimizer.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Protected Member Attributes

### CopyLike {#a1ab74e93e550820b697e99a0dc9fdbbd}

<MemberDefinition
  prototype={<>MachineInstr&amp; anonymous&#95;namespace&#123;PeepholeOptimizer.cpp&#125;::Rewriter::CopyLike</>}
  labels = {["protected"]}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/peepholeoptimizer-cpp/#l00155">155</a> of file <a href="/docs/api/files/lib/lib/codegen/peepholeoptimizer-cpp">PeepholeOptimizer.cpp</a>.
</MemberDefinition>

### CurrentSrcIdx {#ac58143cbdf601d044e69002face8a19b}

<MemberDefinition
  prototype={<>unsigned anonymous&#95;namespace&#123;PeepholeOptimizer.cpp&#125;::Rewriter::CurrentSrcIdx = 0</>}
  labels = {["protected"]}>
The index of the source being rewritten.

Definition at line <a href="/docs/api/files/lib/lib/codegen/peepholeoptimizer-cpp/#l00156">156</a> of file <a href="/docs/api/files/lib/lib/codegen/peepholeoptimizer-cpp">PeepholeOptimizer.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following file:

<ul>
<li><a href="/docs/api/files/lib/lib/codegen/peepholeoptimizer-cpp">PeepholeOptimizer.cpp</a></li>
</ul>

</DoxygenPage>
