---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/anonymous-namespace-instrprofiling-cpp-/pgocounterpromoterhelper
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `PGOCounterPromoterHelper` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>

A helper class to promote one counter RMW operation in the loop into register update. <a href="#details">More...</a>

## Declaration

<CodeBlock>class anonymous_namespace{InstrProfiling.cpp}::PGOCounterPromoterHelper</CodeBlock>

## Base class

<MembersIndex>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/loadandstorepromoter">LoadAndStorePromoter</a></>}>
Helper class for promoting a collection of loads and stores into SSA Form using the <a href="/docs/api/classes/llvm/ssaupdater">SSAUpdater</a>. <a href="/docs/api/classes/llvm/loadandstorepromoter/#details">More...</a>
</MembersIndexItem>

</MembersIndex>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#aa4eed4e5be9976241f4a6ed5e591da62">PGOCounterPromoterHelper</a> (Instruction &#42;L, Instruction &#42;S, SSAUpdater &amp;SSA, Value &#42;Init, BasicBlock &#42;PH, ArrayRef&lt; BasicBlock &#42; &gt; ExitBlocks, ArrayRef&lt; Instruction &#42; &gt; InsertPts, DenseMap&lt; Loop &#42;, SmallVector&lt; LoadStorePair, 8 &gt; &gt; &amp;LoopToCands, LoopInfo &amp;LI)</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="void"
  name={<><a href="#afb93c0389fa161c51b25541def502b89">doExtraRewritesBeforeFinalDeletion</a> () override</>}>
This hook is invoked after all the stores are found and inserted as available values. <a href="#afb93c0389fa161c51b25541def502b89">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; &gt;</>}
  name={<><a href="#aabba1f4d297bac9b990382a62e16b8a5">ExitBlocks</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; <a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42; &gt;</>}
  name={<><a href="#a645978d9eadeb06eee25b7e366ecc304">InsertPts</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/loopinfo">LoopInfo</a> &amp;</>}
  name={<><a href="#a660c25ba44df90d987c27bdde040e5ca">LI</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/densemap">DenseMap</a>&lt; <a href="/docs/api/classes/llvm/loop">Loop</a> &#42;, <a href="/docs/api/classes/llvm/smallvector">SmallVector</a>&lt; <a href="/docs/api/namespaces/anonymous-instrprofiling-cpp-/#a361b8ddbd271c831f936f4cca3bc7ec6">LoadStorePair</a>, 8 &gt; &gt; &amp;</>}
  name={<><a href="#ab6176ebb81c994d2dd7f703e4d1b73e5">LoopToCandidates</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42;</>}
  name={<><a href="#adf43bfc97737bde50b064ed179a6956a">Store</a></>}>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

A helper class to promote one counter RMW operation in the loop into register update.

RWM update for the counter will be sinked out of the loop after the transformation.

Definition at line 426 of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/instrprofiling-cpp">InstrProfiling.cpp</a>.

<SectionDefinition>

## Public Constructors

### PGOCounterPromoterHelper() {#aa4eed4e5be9976241f4a6ed5e591da62}

<MemberDefinition
  prototype={<>anonymous&#95;namespace&#123;InstrProfiling.cpp&#125;::PGOCounterPromoterHelper::PGOCounterPromoterHelper (<a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42; L, <a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42; S, <a href="/docs/api/classes/llvm/ssaupdater">SSAUpdater</a> &amp; SSA, <a href="/docs/api/classes/llvm/value">Value</a> &#42; Init, <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; PH, <a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; &gt; ExitBlocks, <a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; <a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42; &gt; InsertPts, <a href="/docs/api/classes/llvm/densemap">DenseMap</a>&lt; <a href="/docs/api/classes/llvm/loop">Loop</a> &#42;, <a href="/docs/api/classes/llvm/smallvector">SmallVector</a>&lt; <a href="/docs/api/namespaces/anonymous-instrprofiling-cpp-/#a361b8ddbd271c831f936f4cca3bc7ec6">LoadStorePair</a>, 8 &gt; &gt; &amp; LoopToCands, <a href="/docs/api/classes/llvm/loopinfo">LoopInfo</a> &amp; LI)</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/instrprofiling-cpp/#l00428">428</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/instrprofiling-cpp">InstrProfiling.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### doExtraRewritesBeforeFinalDeletion() {#afb93c0389fa161c51b25541def502b89}

<MemberDefinition
  prototype={<>void anonymous&#95;namespace&#123;InstrProfiling.cpp&#125;::PGOCounterPromoterHelper::doExtraRewritesBeforeFinalDeletion ()</>}
  labels = {["inline", "virtual"]}>
This hook is invoked after all the stores are found and inserted as available values.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/instrprofiling-cpp/#l00441">441</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/instrprofiling-cpp">InstrProfiling.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Attributes

### ExitBlocks {#aabba1f4d297bac9b990382a62e16b8a5}

<MemberDefinition
  prototype={<>ArrayRef&lt;BasicBlock &#42;&gt; anonymous&#95;namespace&#123;InstrProfiling.cpp&#125;::PGOCounterPromoterHelper::ExitBlocks</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/instrprofiling-cpp/#l00488">488</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/instrprofiling-cpp">InstrProfiling.cpp</a>.
</MemberDefinition>

### InsertPts {#a645978d9eadeb06eee25b7e366ecc304}

<MemberDefinition
  prototype={<>ArrayRef&lt;Instruction &#42;&gt; anonymous&#95;namespace&#123;InstrProfiling.cpp&#125;::PGOCounterPromoterHelper::InsertPts</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/instrprofiling-cpp/#l00489">489</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/instrprofiling-cpp">InstrProfiling.cpp</a>.
</MemberDefinition>

### LI {#a660c25ba44df90d987c27bdde040e5ca}

<MemberDefinition
  prototype={<>LoopInfo&amp; anonymous&#95;namespace&#123;InstrProfiling.cpp&#125;::PGOCounterPromoterHelper::LI</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/instrprofiling-cpp/#l00491">491</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/instrprofiling-cpp">InstrProfiling.cpp</a>.
</MemberDefinition>

### LoopToCandidates {#ab6176ebb81c994d2dd7f703e4d1b73e5}

<MemberDefinition
  prototype={<>DenseMap&lt;Loop &#42;, SmallVector&lt;LoadStorePair, 8&gt; &gt;&amp; anonymous&#95;namespace&#123;InstrProfiling.cpp&#125;::PGOCounterPromoterHelper::LoopToCandidates</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/instrprofiling-cpp/#l00490">490</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/instrprofiling-cpp">InstrProfiling.cpp</a>.
</MemberDefinition>

### Store {#adf43bfc97737bde50b064ed179a6956a}

<MemberDefinition
  prototype={<>Instruction&#42; anonymous&#95;namespace&#123;InstrProfiling.cpp&#125;::PGOCounterPromoterHelper::Store</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/instrprofiling-cpp/#l00487">487</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/instrprofiling-cpp">InstrProfiling.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following file:

<ul>
<li><a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/instrprofiling-cpp">InstrProfiling.cpp</a></li>
</ul>

</DoxygenPage>
