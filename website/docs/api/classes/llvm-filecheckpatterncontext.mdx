---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/llvm/filecheckpatterncontext
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'
import SectionUser from '@xpack/docusaurus-plugin-doxygen/components/SectionUser'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `FileCheckPatternContext` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>

Class holding the <a href="/docs/api/classes/llvm/pattern">Pattern</a> global state, shared by all patterns: tables holding values of variables and whether they are defined or not at any given time in the matching process. <a href="#details">More...</a>

## Declaration

<CodeBlock>class llvm::FileCheckPatternContext</CodeBlock>

## Included Headers

<IncludesList>
<IncludesListItem
  filePath="FileCheck/FileCheckImpl.h"
  permalink="/docs/api/files/lib/lib/filecheck/filecheckimpl-h"
  isLocal="true" />
</IncludesList>

## Friends Index

<MembersIndex>

<MembersIndexItem
  type="class"
  name={<><a href="#ac80446dbfe53d7e6af7d8f8a997d5a6c">Pattern</a></>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="void"
  name={<><a href="#ad75c8e4486e2725285e4f149cc025ef5">clearLocalVars</a> ()</>}>
Undefines local variables (variables whose name does not start with a &#39;$&#39; sign), i.e. <a href="#ad75c8e4486e2725285e4f149cc025ef5">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a7f53ad01f0965d1ab2c7acbbdee1c464">createLineVariable</a> ()</>}>
Create @LINE pseudo variable. <a href="#a7f53ad01f0965d1ab2c7acbbdee1c464">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/error">Error</a></>}
  name={<><a href="#a7137a381bae270178ff79807b1d096d3">defineCmdlineVariables</a> (ArrayRef&lt; StringRef &gt; CmdlineDefines, SourceMgr &amp;SM)</>}>
Defines string and numeric variables from definitions given on the command line, passed as a vector of &#91;#&#93;VAR=VAL strings in <code>CmdlineDefines</code>. <a href="#a7137a381bae270178ff79807b1d096d3">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/expected">Expected</a>&lt; <a href="/docs/api/classes/llvm/stringref">StringRef</a> &gt;</>}
  name={<><a href="#a8e6d86d9107ad1af9fff63748f0161b5">getPatternVarValue</a> (StringRef VarName)</>}>
</MembersIndexItem>

</MembersIndex>

## Private Member Functions Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/substitution">Substitution</a> &#42;</>}
  name={<><a href="#a81f3314d4017ac5e5e3d883a3bac5f98">makeNumericSubstitution</a> (StringRef ExpressionStr, std::unique&#95;ptr&lt; Expression &gt; Expression, size&#95;t InsertIdx)</>}>
Makes a new numeric substitution and registers it for destruction when the context is destroyed. <a href="#a81f3314d4017ac5e5e3d883a3bac5f98">More...</a>
</MembersIndexItem>

<MembersIndexItem
  template={<>template &lt;class... Types&gt;</>}
  type={<><a href="/docs/api/classes/llvm/numericvariable">NumericVariable</a> &#42;</>}
  name={<><a href="#afcf614b5fe22b5afa7a9f4846ce6e0c9">makeNumericVariable</a> (Types... args)</>}>
Makes a new numeric variable and registers it for destruction when the context is destroyed. <a href="#afcf614b5fe22b5afa7a9f4846ce6e0c9">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/substitution">Substitution</a> &#42;</>}
  name={<><a href="#a7c48f8d17e8fb837101a29d8682cb725">makeStringSubstitution</a> (StringRef VarName, size&#95;t InsertIdx)</>}>
Makes a new string substitution and registers it for destruction when the context is destroyed. <a href="#a7c48f8d17e8fb837101a29d8682cb725">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/stringmap">StringMap</a>&lt; bool &gt;</>}
  name={<><a href="#ac2642f682c01156c2ebfffc6babcd937">DefinedVariableTable</a></>}>
Map of all string variables defined so far. <a href="#ac2642f682c01156c2ebfffc6babcd937">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::vector&lt; std::unique&#95;ptr&lt; <a href="/docs/api/classes/llvm/expression">Expression</a> &gt; &gt;</>}
  name={<><a href="#a65b2eadf462fb486c69640bd98087e03">Expressions</a></>}>
Vector holding pointers to all parsed expressions. <a href="#a65b2eadf462fb486c69640bd98087e03">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/stringmap">StringMap</a>&lt; <a href="/docs/api/classes/llvm/numericvariable">NumericVariable</a> &#42; &gt;</>}
  name={<><a href="#abb6739e79457fbfd5aa5e35e69069da1">GlobalNumericVariableTable</a></>}>
When matching a given pattern, this holds the pointers to the classes representing the numeric variables defined in previous patterns. <a href="#abb6739e79457fbfd5aa5e35e69069da1">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/stringmap">StringMap</a>&lt; <a href="/docs/api/classes/llvm/stringref">StringRef</a> &gt;</>}
  name={<><a href="#abca6c885493d8ff07956599ea6e03d5b">GlobalVariableTable</a></>}>
When matching a given pattern, this holds the value of all the string variables defined in previous patterns. <a href="#abca6c885493d8ff07956599ea6e03d5b">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/numericvariable">NumericVariable</a> &#42;</>}
  name={<><a href="#a67b7981931cb3bea149a5cd1ac9fd088">LineVariable</a> = nullptr</>}>
Pointer to the class instance representing the @LINE pseudo variable for easily updating its value. <a href="#a67b7981931cb3bea149a5cd1ac9fd088">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::vector&lt; std::unique&#95;ptr&lt; <a href="/docs/api/classes/llvm/numericvariable">NumericVariable</a> &gt; &gt;</>}
  name={<><a href="#a6c63bc0d590a460e345e6014c91db774">NumericVariables</a></>}>
Vector holding pointers to all parsed numeric variables. <a href="#a6c63bc0d590a460e345e6014c91db774">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::vector&lt; std::unique&#95;ptr&lt; <a href="/docs/api/classes/llvm/substitution">Substitution</a> &gt; &gt;</>}
  name={<><a href="#ad518b14df93964f562b661f4a1a031e4">Substitutions</a></>}>
Vector holding pointers to all substitutions. <a href="#ad518b14df93964f562b661f4a1a031e4">More...</a>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

Class holding the <a href="/docs/api/classes/llvm/pattern">Pattern</a> global state, shared by all patterns: tables holding values of variables and whether they are defined or not at any given time in the matching process.

Definition at line 410 of file <a href="/docs/api/files/lib/lib/filecheck/filecheckimpl-h">FileCheckImpl.h</a>.

<SectionDefinition>

## Friends

### Pattern {#ac80446dbfe53d7e6af7d8f8a997d5a6c}

<MemberDefinition
  prototype={<>friend class <a href="/docs/api/classes/llvm/pattern">Pattern</a></>}>

Definition at line <a href="/docs/api/files/lib/lib/filecheck/filecheckimpl-h/#l00411">411</a> of file <a href="/docs/api/files/lib/lib/filecheck/filecheckimpl-h">FileCheckImpl.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### clearLocalVars() {#ad75c8e4486e2725285e4f149cc025ef5}

<MemberDefinition
  prototype="void FileCheckPatternContext::clearLocalVars ()">
Undefines local variables (variables whose name does not start with a &#39;$&#39; sign), i.e.

removes them from GlobalVariableTable and from GlobalNumericVariableTable and also clears the value of numeric variables.

Declaration at line <a href="/docs/api/files/lib/lib/filecheck/filecheckimpl-h/#l00467">467</a> of file <a href="/docs/api/files/lib/lib/filecheck/filecheckimpl-h">FileCheckImpl.h</a>, definition at line <a href="/docs/api/files/lib/lib/filecheck/filecheck-cpp/#l02650">2650</a> of file <a href="/docs/api/files/lib/lib/filecheck/filecheck-cpp">FileCheck.cpp</a>.
</MemberDefinition>

### createLineVariable() {#a7f53ad01f0965d1ab2c7acbbdee1c464}

<MemberDefinition
  prototype="void FileCheckPatternContext::createLineVariable ()">
Create @LINE pseudo variable.

<a href="/docs/api/classes/llvm/value">Value</a> is set when pattern are being matched.

Declaration at line <a href="/docs/api/files/lib/lib/filecheck/filecheckimpl-h/#l00461">461</a> of file <a href="/docs/api/files/lib/lib/filecheck/filecheckimpl-h">FileCheckImpl.h</a>, definition at line <a href="/docs/api/files/lib/lib/filecheck/filecheck-cpp/#l01760">1760</a> of file <a href="/docs/api/files/lib/lib/filecheck/filecheck-cpp">FileCheck.cpp</a>.
</MemberDefinition>

### defineCmdlineVariables() {#a7137a381bae270178ff79807b1d096d3}

<MemberDefinition
  prototype={<>Error FileCheckPatternContext::defineCmdlineVariables (<a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; <a href="/docs/api/classes/llvm/stringref">StringRef</a> &gt; CmdlineDefines, <a href="/docs/api/classes/llvm/sourcemgr">SourceMgr</a> &amp; SM)</>}>
Defines string and numeric variables from definitions given on the command line, passed as a vector of &#91;#&#93;VAR=VAL strings in <code>CmdlineDefines</code>.

<SectionUser title="Returns">
an error list containing diagnostics against <code>SM</code> for all definition parsing failures, if any, or Success otherwise.
</SectionUser>

Declaration at line <a href="/docs/api/files/lib/lib/filecheck/filecheckimpl-h/#l00456">456</a> of file <a href="/docs/api/files/lib/lib/filecheck/filecheckimpl-h">FileCheckImpl.h</a>, definition at line <a href="/docs/api/files/lib/lib/filecheck/filecheck-cpp/#l02512">2512</a> of file <a href="/docs/api/files/lib/lib/filecheck/filecheck-cpp">FileCheck.cpp</a>.
</MemberDefinition>

### getPatternVarValue() {#a8e6d86d9107ad1af9fff63748f0161b5}

<MemberDefinition
  prototype={<>Expected&lt; StringRef &gt; FileCheckPatternContext::getPatternVarValue (<a href="/docs/api/classes/llvm/stringref">StringRef</a> VarName)</>}>

<SectionUser title="Returns">
the value of string variable <code>VarName</code> or an error if no such variable has been defined.
</SectionUser>

Declaration at line <a href="/docs/api/files/lib/lib/filecheck/filecheckimpl-h/#l00450">450</a> of file <a href="/docs/api/files/lib/lib/filecheck/filecheckimpl-h">FileCheckImpl.h</a>, definition at line <a href="/docs/api/files/lib/lib/filecheck/filecheck-cpp/#l01360">1360</a> of file <a href="/docs/api/files/lib/lib/filecheck/filecheck-cpp">FileCheck.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Functions

### makeNumericSubstitution() {#a81f3314d4017ac5e5e3d883a3bac5f98}

<MemberDefinition
  prototype={<>Substitution &#42; FileCheckPatternContext::makeNumericSubstitution (<a href="/docs/api/classes/llvm/stringref">StringRef</a> ExpressionStr, std::unique&#95;ptr&lt; <a href="/docs/api/classes/llvm/expression">Expression</a> &gt; Expression, size&#95;t InsertIdx)</>}>
Makes a new numeric substitution and registers it for destruction when the context is destroyed.

Declaration at line <a href="/docs/api/files/lib/lib/filecheck/filecheckimpl-h/#l00480">480</a> of file <a href="/docs/api/files/lib/lib/filecheck/filecheckimpl-h">FileCheckImpl.h</a>, definition at line <a href="/docs/api/files/lib/lib/filecheck/filecheck-cpp/#l01382">1382</a> of file <a href="/docs/api/files/lib/lib/filecheck/filecheck-cpp">FileCheck.cpp</a>.
</MemberDefinition>

### makeNumericVariable() {#afcf614b5fe22b5afa7a9f4846ce6e0c9}

<MemberDefinition
  template={<>template &lt;class... Types&gt;</>}
  prototype={<>NumericVariable &#42; FileCheckPatternContext::makeNumericVariable (Types... args)</>}>
Makes a new numeric variable and registers it for destruction when the context is destroyed.

Declaration at line <a href="/docs/api/files/lib/lib/filecheck/filecheckimpl-h/#l00472">472</a> of file <a href="/docs/api/files/lib/lib/filecheck/filecheckimpl-h">FileCheckImpl.h</a>, definition at line <a href="/docs/api/files/lib/lib/filecheck/filecheck-cpp/#l01369">1369</a> of file <a href="/docs/api/files/lib/lib/filecheck/filecheck-cpp">FileCheck.cpp</a>.
</MemberDefinition>

### makeStringSubstitution() {#a7c48f8d17e8fb837101a29d8682cb725}

<MemberDefinition
  prototype={<>Substitution &#42; FileCheckPatternContext::makeStringSubstitution (<a href="/docs/api/classes/llvm/stringref">StringRef</a> VarName, size&#95;t InsertIdx)</>}>
Makes a new string substitution and registers it for destruction when the context is destroyed.

Declaration at line <a href="/docs/api/files/lib/lib/filecheck/filecheckimpl-h/#l00476">476</a> of file <a href="/docs/api/files/lib/lib/filecheck/filecheckimpl-h">FileCheckImpl.h</a>, definition at line <a href="/docs/api/files/lib/lib/filecheck/filecheck-cpp/#l01375">1375</a> of file <a href="/docs/api/files/lib/lib/filecheck/filecheck-cpp">FileCheck.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Attributes

### DefinedVariableTable {#ac2642f682c01156c2ebfffc6babcd937}

<MemberDefinition
  prototype={<>StringMap&lt;bool&gt; llvm::FileCheckPatternContext::DefinedVariableTable</>}>
Map of all string variables defined so far.

Used at parse time to detect a name conflict between a numeric variable and a string variable when the former is defined on a later line than the latter.

Definition at line <a href="/docs/api/files/lib/lib/filecheck/filecheckimpl-h/#l00423">423</a> of file <a href="/docs/api/files/lib/lib/filecheck/filecheckimpl-h">FileCheckImpl.h</a>.
</MemberDefinition>

### Expressions {#a65b2eadf462fb486c69640bd98087e03}

<MemberDefinition
  prototype={<>std::vector&lt;std::unique&#95;ptr&lt;Expression&gt; &gt; llvm::FileCheckPatternContext::Expressions</>}>
Vector holding pointers to all parsed expressions.

Used to automatically free the expressions once they are guaranteed to no longer be used.

Definition at line <a href="/docs/api/files/lib/lib/filecheck/filecheckimpl-h/#l00441">441</a> of file <a href="/docs/api/files/lib/lib/filecheck/filecheckimpl-h">FileCheckImpl.h</a>.
</MemberDefinition>

### GlobalNumericVariableTable {#abb6739e79457fbfd5aa5e35e69069da1}

<MemberDefinition
  prototype={<>StringMap&lt;NumericVariable &#42;&gt; llvm::FileCheckPatternContext::GlobalNumericVariableTable</>}>
When matching a given pattern, this holds the pointers to the classes representing the numeric variables defined in previous patterns.

When matching a pattern all definitions for that pattern are recorded in the NumericVariableDefs table in the <a href="/docs/api/classes/llvm/pattern">Pattern</a> instance of that pattern.

Definition at line <a href="/docs/api/files/lib/lib/filecheck/filecheckimpl-h/#l00429">429</a> of file <a href="/docs/api/files/lib/lib/filecheck/filecheckimpl-h">FileCheckImpl.h</a>.
</MemberDefinition>

### GlobalVariableTable {#abca6c885493d8ff07956599ea6e03d5b}

<MemberDefinition
  prototype={<>StringMap&lt;StringRef&gt; llvm::FileCheckPatternContext::GlobalVariableTable</>}>
When matching a given pattern, this holds the value of all the string variables defined in previous patterns.

In a pattern, only the last definition for a given variable is recorded in this table. Back-references are used for uses after any the other definition.

Definition at line <a href="/docs/api/files/lib/lib/filecheck/filecheckimpl-h/#l00418">418</a> of file <a href="/docs/api/files/lib/lib/filecheck/filecheckimpl-h">FileCheckImpl.h</a>.
</MemberDefinition>

### LineVariable {#a67b7981931cb3bea149a5cd1ac9fd088}

<MemberDefinition
  prototype={<>NumericVariable&#42; llvm::FileCheckPatternContext::LineVariable = nullptr</>}>
Pointer to the class instance representing the @LINE pseudo variable for easily updating its value.

Definition at line <a href="/docs/api/files/lib/lib/filecheck/filecheckimpl-h/#l00433">433</a> of file <a href="/docs/api/files/lib/lib/filecheck/filecheckimpl-h">FileCheckImpl.h</a>.
</MemberDefinition>

### NumericVariables {#a6c63bc0d590a460e345e6014c91db774}

<MemberDefinition
  prototype={<>std::vector&lt;std::unique&#95;ptr&lt;NumericVariable&gt; &gt; llvm::FileCheckPatternContext::NumericVariables</>}>
Vector holding pointers to all parsed numeric variables.

Used to automatically free them once they are guaranteed to no longer be used.

Definition at line <a href="/docs/api/files/lib/lib/filecheck/filecheckimpl-h/#l00437">437</a> of file <a href="/docs/api/files/lib/lib/filecheck/filecheckimpl-h">FileCheckImpl.h</a>.
</MemberDefinition>

### Substitutions {#ad518b14df93964f562b661f4a1a031e4}

<MemberDefinition
  prototype={<>std::vector&lt;std::unique&#95;ptr&lt;Substitution&gt; &gt; llvm::FileCheckPatternContext::Substitutions</>}>
Vector holding pointers to all substitutions.

Used to automatically free them once they are guaranteed to no longer be used.

Definition at line <a href="/docs/api/files/lib/lib/filecheck/filecheckimpl-h/#l00445">445</a> of file <a href="/docs/api/files/lib/lib/filecheck/filecheckimpl-h">FileCheckImpl.h</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following files:

<ul>
<li><a href="/docs/api/files/lib/lib/filecheck/filecheck-cpp">FileCheck.cpp</a></li>
<li><a href="/docs/api/files/lib/lib/filecheck/filecheckimpl-h">FileCheckImpl.h</a></li>
</ul>

</DoxygenPage>
