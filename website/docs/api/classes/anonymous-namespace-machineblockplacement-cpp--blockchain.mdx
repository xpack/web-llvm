---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/anonymous-namespace-machineblockplacement-cpp-/blockchain
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `BlockChain` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>

A chain of blocks which will be laid out contiguously. <a href="#details">More...</a>

## Declaration

<CodeBlock>class anonymous_namespace{MachineBlockPlacement.cpp}::BlockChain</CodeBlock>

## Public Member Typedefs Index

<MembersIndex>

<MembersIndexItem
  type="using"
  name={<><a href="#a4b69724989408455732d7e436d4da6be">const&#95;iterator</a> = <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42; &gt;<a href="/docs/api/classes/llvm/smallvectorimpl">::const&#95;iterator</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type="using"
  name={<><a href="#aac2485344159ae07cfd3aa75113f50f5">iterator</a> = <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42; &gt;<a href="/docs/api/classes/llvm/iplist">::iterator</a></>}>
Iterator over blocks within the chain. <a href="#aac2485344159ae07cfd3aa75113f50f5">More...</a>
</MembersIndexItem>

</MembersIndex>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#ab486c9a0a0c5124ad4709ca49b910ec9">BlockChain</a> (BlockToChainMapType &amp;BlockToChain, MachineBasicBlock &#42;BB)</>}>
Construct a new <a href="/docs/api/classes/anonymous-namespace-machineblockplacement-cpp-/blockchain">BlockChain</a>. <a href="#ab486c9a0a0c5124ad4709ca49b910ec9">More...</a>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="#aac2485344159ae07cfd3aa75113f50f5">iterator</a></>}
  name={<><a href="#afdac6ad64953988f2ba10ecc1df333c5">begin</a> ()</>}>
Beginning of blocks within the chain. <a href="#afdac6ad64953988f2ba10ecc1df333c5">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="#a4b69724989408455732d7e436d4da6be">const&#95;iterator</a></>}
  name={<><a href="#a5c35917ea8f9b30658afaa6a5753048a">begin</a> () const</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/include/include/llvm/include/llvm/support/compiler-h/#aa863693eef567397d9c292da5bf22d34">LLVM&#95;DUMP&#95;METHOD</a> void</>}
  name={<><a href="#aa8b7b149176869053e12294206134631">dump</a> ()</>}>
Dump the blocks in this chain. <a href="#aa8b7b149176869053e12294206134631">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="#aac2485344159ae07cfd3aa75113f50f5">iterator</a></>}
  name={<><a href="#a273f25cc15e7c494d9e5dd29cb07a88b">end</a> ()</>}>
End of blocks within the chain. <a href="#a273f25cc15e7c494d9e5dd29cb07a88b">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="#a4b69724989408455732d7e436d4da6be">const&#95;iterator</a></>}
  name={<><a href="#a25661224cb2e0ab5b2985319276fbfce">end</a> () const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a939be2486e7faed5e6e1fd9d02311273">merge</a> (MachineBasicBlock &#42;BB, BlockChain &#42;Chain)</>}>
Merge a block chain into this one. <a href="#a939be2486e7faed5e6e1fd9d02311273">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#aa6a5128cead90f00a37234c186692340">remove</a> (MachineBasicBlock &#42;BB)</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type="unsigned"
  name={<><a href="#a8e686b9f871a08ccedf4c9af685a2ee0">UnscheduledPredecessors</a> = 0</>}>
Count of predecessors of any block within the chain which have not yet been scheduled. <a href="#a8e686b9f871a08ccedf4c9af685a2ee0">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/smallvector">SmallVector</a>&lt; <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;, 4 &gt;</>}
  name={<><a href="#ab0f22d1ed699595388bae9f70b0bd58d">Blocks</a></>}>
The sequence of blocks belonging to this chain. <a href="#ab0f22d1ed699595388bae9f70b0bd58d">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/namespaces/anonymous-machineblockplacement-cpp-/#a2e9703f1f38a15be415246106144a16d">BlockToChainMapType</a> &amp;</>}
  name={<><a href="#a5982d61e9432e07f93482e515c4c6c55">BlockToChain</a></>}>
A handle to the function-wide basic block to block chain mapping. <a href="#a5982d61e9432e07f93482e515c4c6c55">More...</a>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

A chain of blocks which will be laid out contiguously.

This is the datastructure representing a chain of consecutive blocks that are profitable to layout together in order to maximize fallthrough probabilities and code locality. We also can use a block chain to represent a sequence of basic blocks which have some external (correctness) requirement for sequential layout.

Chains can be built around a single basic block and can be merged to grow them. They participate in a block-to-chain mapping, which is updated automatically as chains are merged together.

Definition at line 260 of file <a href="/docs/api/files/lib/lib/codegen/machineblockplacement-cpp">MachineBlockPlacement.cpp</a>.

<SectionDefinition>

## Public Member Typedefs

### const&#95;iterator {#a4b69724989408455732d7e436d4da6be}

<MemberDefinition
  prototype={<>using anonymous&#95;namespace&#123;MachineBlockPlacement.cpp&#125;::BlockChain::const&#95;iterator =  SmallVectorImpl&lt;MachineBasicBlock &#42;&gt;::const&#95;iterator</>}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/machineblockplacement-cpp/#l00289">289</a> of file <a href="/docs/api/files/lib/lib/codegen/machineblockplacement-cpp">MachineBlockPlacement.cpp</a>.
</MemberDefinition>

### iterator {#aac2485344159ae07cfd3aa75113f50f5}

<MemberDefinition
  prototype={<>using anonymous&#95;namespace&#123;MachineBlockPlacement.cpp&#125;::BlockChain::iterator =  SmallVectorImpl&lt;MachineBasicBlock &#42;&gt;::iterator</>}>
Iterator over blocks within the chain.

Definition at line <a href="/docs/api/files/lib/lib/codegen/machineblockplacement-cpp/#l00288">288</a> of file <a href="/docs/api/files/lib/lib/codegen/machineblockplacement-cpp">MachineBlockPlacement.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Constructors

### BlockChain() {#ab486c9a0a0c5124ad4709ca49b910ec9}

<MemberDefinition
  prototype={<>anonymous&#95;namespace&#123;MachineBlockPlacement.cpp&#125;::BlockChain::BlockChain (<a href="/docs/api/namespaces/anonymous-machineblockplacement-cpp-/#a2e9703f1f38a15be415246106144a16d">BlockToChainMapType</a> &amp; BlockToChain, <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42; BB)</>}
  labels = {["inline"]}>
Construct a new <a href="/docs/api/classes/anonymous-namespace-machineblockplacement-cpp-/blockchain">BlockChain</a>.

This builds a new block chain representing a single basic block in the function. It also registers itself as the chain that block participates in with the BlockToChain mapping.

Definition at line <a href="/docs/api/files/lib/lib/codegen/machineblockplacement-cpp/#l00281">281</a> of file <a href="/docs/api/files/lib/lib/codegen/machineblockplacement-cpp">MachineBlockPlacement.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### begin() {#afdac6ad64953988f2ba10ecc1df333c5}

<MemberDefinition
  prototype={<>iterator anonymous&#95;namespace&#123;MachineBlockPlacement.cpp&#125;::BlockChain::begin ()</>}
  labels = {["inline"]}>
Beginning of blocks within the chain.

Definition at line <a href="/docs/api/files/lib/lib/codegen/machineblockplacement-cpp/#l00292">292</a> of file <a href="/docs/api/files/lib/lib/codegen/machineblockplacement-cpp">MachineBlockPlacement.cpp</a>.
</MemberDefinition>

### begin() {#a5c35917ea8f9b30658afaa6a5753048a}

<MemberDefinition
  prototype={<>const&#95;iterator anonymous&#95;namespace&#123;MachineBlockPlacement.cpp&#125;::BlockChain::begin () const</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/machineblockplacement-cpp/#l00293">293</a> of file <a href="/docs/api/files/lib/lib/codegen/machineblockplacement-cpp">MachineBlockPlacement.cpp</a>.
</MemberDefinition>

### dump() {#aa8b7b149176869053e12294206134631}

<MemberDefinition
  prototype={<>LLVM&#95;DUMP&#95;METHOD void anonymous&#95;namespace&#123;MachineBlockPlacement.cpp&#125;::BlockChain::dump ()</>}
  labels = {["inline"]}>
Dump the blocks in this chain.

Definition at line <a href="/docs/api/files/lib/lib/codegen/machineblockplacement-cpp/#l00342">342</a> of file <a href="/docs/api/files/lib/lib/codegen/machineblockplacement-cpp">MachineBlockPlacement.cpp</a>.
</MemberDefinition>

### end() {#a273f25cc15e7c494d9e5dd29cb07a88b}

<MemberDefinition
  prototype={<>iterator anonymous&#95;namespace&#123;MachineBlockPlacement.cpp&#125;::BlockChain::end ()</>}
  labels = {["inline"]}>
End of blocks within the chain.

Definition at line <a href="/docs/api/files/lib/lib/codegen/machineblockplacement-cpp/#l00296">296</a> of file <a href="/docs/api/files/lib/lib/codegen/machineblockplacement-cpp">MachineBlockPlacement.cpp</a>.
</MemberDefinition>

### end() {#a25661224cb2e0ab5b2985319276fbfce}

<MemberDefinition
  prototype={<>const&#95;iterator anonymous&#95;namespace&#123;MachineBlockPlacement.cpp&#125;::BlockChain::end () const</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/machineblockplacement-cpp/#l00297">297</a> of file <a href="/docs/api/files/lib/lib/codegen/machineblockplacement-cpp">MachineBlockPlacement.cpp</a>.
</MemberDefinition>

### merge() {#a939be2486e7faed5e6e1fd9d02311273}

<MemberDefinition
  prototype={<>void anonymous&#95;namespace&#123;MachineBlockPlacement.cpp&#125;::BlockChain::merge (<a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42; BB, <a href="/docs/api/classes/anonymous-namespace-machineblockplacement-cpp-/blockchain">BlockChain</a> &#42; Chain)</>}
  labels = {["inline"]}>
Merge a block chain into this one.

This routine merges a block chain into this one. It takes care of forming a contiguous sequence of basic blocks, updating the edge list, and updating the block -&gt; chain mapping. It does not free or tear down the old chain, but the old chain&#39;s block list is no longer valid.

Definition at line <a href="/docs/api/files/lib/lib/codegen/machineblockplacement-cpp/#l00315">315</a> of file <a href="/docs/api/files/lib/lib/codegen/machineblockplacement-cpp">MachineBlockPlacement.cpp</a>.
</MemberDefinition>

### remove() {#aa6a5128cead90f00a37234c186692340}

<MemberDefinition
  prototype={<>bool anonymous&#95;namespace&#123;MachineBlockPlacement.cpp&#125;::BlockChain::remove (<a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42; BB)</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/machineblockplacement-cpp/#l00299">299</a> of file <a href="/docs/api/files/lib/lib/codegen/machineblockplacement-cpp">MachineBlockPlacement.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Attributes

### UnscheduledPredecessors {#a8e686b9f871a08ccedf4c9af685a2ee0}

<MemberDefinition
  prototype={<>unsigned anonymous&#95;namespace&#123;MachineBlockPlacement.cpp&#125;::BlockChain::UnscheduledPredecessors = 0</>}>
Count of predecessors of any block within the chain which have not yet been scheduled.

In general, we will delay scheduling this chain until those predecessors are scheduled (or we find a sufficiently good reason to override this heuristic.) Note that when forming loop chains, blocks outside the loop are ignored and treated as if they were already scheduled.

Note: This field is reinitialized multiple times - once for each loop, and then once for the function as a whole.

Definition at line <a href="/docs/api/files/lib/lib/codegen/machineblockplacement-cpp/#l00357">357</a> of file <a href="/docs/api/files/lib/lib/codegen/machineblockplacement-cpp">MachineBlockPlacement.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Attributes

### Blocks {#ab0f22d1ed699595388bae9f70b0bd58d}

<MemberDefinition
  prototype={<>SmallVector&lt;MachineBasicBlock &#42;, 4&gt; anonymous&#95;namespace&#123;MachineBlockPlacement.cpp&#125;::BlockChain::Blocks</>}>
The sequence of blocks belonging to this chain.

This is the sequence of blocks for a particular chain. These will be laid out in-order within the function.

Definition at line <a href="/docs/api/files/lib/lib/codegen/machineblockplacement-cpp/#l00265">265</a> of file <a href="/docs/api/files/lib/lib/codegen/machineblockplacement-cpp">MachineBlockPlacement.cpp</a>.
</MemberDefinition>

### BlockToChain {#a5982d61e9432e07f93482e515c4c6c55}

<MemberDefinition
  prototype={<>BlockToChainMapType&amp; anonymous&#95;namespace&#123;MachineBlockPlacement.cpp&#125;::BlockChain::BlockToChain</>}>
A handle to the function-wide basic block to block chain mapping.

This is retained in each block chain to simplify the computation of child block chains for SCC-formation and iteration. We store the edges to child basic blocks, and map them back to their associated chains using this structure.

Definition at line <a href="/docs/api/files/lib/lib/codegen/machineblockplacement-cpp/#l00273">273</a> of file <a href="/docs/api/files/lib/lib/codegen/machineblockplacement-cpp">MachineBlockPlacement.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following file:

<ul>
<li><a href="/docs/api/files/lib/lib/codegen/machineblockplacement-cpp">MachineBlockPlacement.cpp</a></li>
</ul>

</DoxygenPage>
