---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/anonymous-namespace-sampleprofile-cpp-/sampleprofileloader
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import ParametersList from '@xpack/docusaurus-plugin-doxygen/components/ParametersList'
import ParametersListItem from '@xpack/docusaurus-plugin-doxygen/components/ParametersListItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'
import SectionUser from '@xpack/docusaurus-plugin-doxygen/components/SectionUser'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `SampleProfileLoader` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>

Sample profile pass. <a href="#details">More...</a>

## Declaration

<CodeBlock>class anonymous_namespace{SampleProfile.cpp}::SampleProfileLoader</CodeBlock>

## Base class

<MembersIndex>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/sampleprofileloaderbaseimpl">SampleProfileLoaderBaseImpl&lt;FT&gt;</a></>}>
</MembersIndexItem>

</MembersIndex>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a5133b642b31dcbfad681874ba97d5914">SampleProfileLoader</a> (StringRef Name, StringRef RemapName, ThinOrFullLTOPhase LTOPhase, IntrusiveRefCntPtr&lt; vfs::FileSystem &gt; FS, std::function&lt; AssumptionCache &amp;(Function &amp;)&gt; GetAssumptionCache, std::function&lt; TargetTransformInfo &amp;(Function &amp;)&gt; GetTargetTransformInfo, std::function&lt; const TargetLibraryInfo &amp;(Function &amp;)&gt; GetTLI, LazyCallGraph &amp;CG, bool DisableSampleProfileInlining, bool UseFlattenedProfile)</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="bool"
  name={<><a href="#a7e1da8085095c6d808713b280edb143b">doInitialization</a> (Module &amp;M, FunctionAnalysisManager &#42;FAM=nullptr)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a25da45ec2b5b7dacb22e831cb7aef0c5">runOnModule</a> (Module &amp;M, ModuleAnalysisManager &#42;AM, ProfileSummaryInfo &#42;&#95;PSI)</>}>
</MembersIndexItem>

</MembersIndex>

## Protected Member Functions Index

<MembersIndex>

<MembersIndexItem
  type={<>std::vector&lt; <a href="/docs/api/classes/llvm/function">Function</a> &#42; &gt;</>}
  name={<><a href="#a0f9647d7bd1eb0c38198f05b3d34d4f3">buildFunctionOrder</a> (Module &amp;M, LazyCallGraph &amp;CG)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::unique&#95;ptr&lt; <a href="/docs/api/classes/llvm/sampleprof/profiledcallgraph">ProfiledCallGraph</a> &gt;</>}
  name={<><a href="#af64b545a1de5a343850725733d522546">buildProfiledCallGraph</a> (Module &amp;M)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a6f70814abe4749ddb1e8356c3584b2ac">emitAnnotations</a> (Function &amp;F)</>}>
Once all the branch weights are computed, we emit the MD&#95;prof metadata on BB using the computed values for each of its branches. <a href="#a6f70814abe4749ddb1e8356c3584b2ac">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a64ec6ec160cdb088c22ec00f8e314822">emitOptimizationRemarksForInlineCandidates</a> (const SmallVectorImpl&lt; CallBase &#42; &gt; &amp;Candidates, const Function &amp;F, bool Hot)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/sampleprof/functionsamples">FunctionSamples</a> &#42;</>}
  name={<><a href="#a219e9fac05a219d48a97e03304f84613">findCalleeFunctionSamples</a> (const CallBase &amp;I) const</>}>
Get the <a href="/docs/api/classes/llvm/sampleprof/functionsamples">FunctionSamples</a> for a call instruction. <a href="#a219e9fac05a219d48a97e03304f84613">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#aa9137eda03e0c2cfd6eebaa55dfdd4cc">findExternalInlineCandidate</a> (CallBase &#42;CB, const FunctionSamples &#42;Samples, DenseSet&lt; GlobalValue::GUID &gt; &amp;InlinedGUIDs, uint64&#95;t Threshold)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/sampleprof/functionsamples">FunctionSamples</a> &#42;</>}
  name={<><a href="#a2c88d6b3f033c87b7304db47133a930e">findFunctionSamples</a> (const Instruction &amp;I) const override</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::vector&lt; <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/sampleprof/functionsamples">FunctionSamples</a> &#42; &gt;</>}
  name={<><a href="#abf8457f6ea82a821ee3fb08dae6246d9">findIndirectCallFunctionSamples</a> (const Instruction &amp;I, uint64&#95;t &amp;Sum) const</>}>
Returns a vector of <a href="/docs/api/classes/llvm/sampleprof/functionsamples">FunctionSamples</a> that are the indirect call targets of <code>Inst</code>. <a href="#abf8457f6ea82a821ee3fb08dae6246d9">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#acf512f516130aaabdd835c48140c9e5c">generateMDProfMetadata</a> (Function &amp;F)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::optional&lt; <a href="/docs/api/classes/llvm/inlinecost">InlineCost</a> &gt;</>}
  name={<><a href="#ab8641bf75d896ad3caffd68a441c4a7e">getExternalInlineAdvisorCost</a> (CallBase &amp;CB)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a1504c594e55b1808ae9f992f9783c8b0">getExternalInlineAdvisorShouldInline</a> (CallBase &amp;CB)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a284bbebbcad19f7e38253a1a8df134b5">getInlineCandidate</a> (InlineCandidate &#42;NewCandidate, CallBase &#42;CB)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/erroror">ErrorOr</a>&lt; uint64&#95;t &gt;</>}
  name={<><a href="#aa583009e488330c099a4ab23e2536d2f">getInstWeight</a> (const Instruction &amp;I) override</>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#aa730b58924baf8f35394c2e5a0bb3714">inlineHotFunctions</a> (Function &amp;F, DenseSet&lt; GlobalValue::GUID &gt; &amp;InlinedGUIDs)</>}>
Iteratively inline hot callsites of a function. <a href="#aa730b58924baf8f35394c2e5a0bb3714">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#ae0bf03df2431c543590180658ce4709d">inlineHotFunctionsWithPriority</a> (Function &amp;F, DenseSet&lt; GlobalValue::GUID &gt; &amp;InlinedGUIDs)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a16e99ef185f55c3e45caf11c880998ff">promoteMergeNotInlinedContextSamples</a> (MapVector&lt; CallBase &#42;, const FunctionSamples &#42; &gt; NonInlinedCallSites, const Function &amp;F)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#abf1045cfa542c9bf01c10bcf99262a2c">rejectHighStalenessProfile</a> (Module &amp;M, ProfileSummaryInfo &#42;PSI, const SampleProfileMap &amp;Profiles)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a35bb2baa976d7716a9752ad544e8134f">removePseudoProbeInstsDiscriminator</a> (Module &amp;M)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a358b28b8ab641a2a22ed8849a2dff2cf">runOnFunction</a> (Function &amp;F, ModuleAnalysisManager &#42;AM)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/inlinecost">InlineCost</a></>}
  name={<><a href="#a518b0cf18edfb9fb05aaa530550af870">shouldInlineCandidate</a> (InlineCandidate &amp;Candidate)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a902b6197889c703bbe3c087f8bcf0789">shouldInlineColdCallee</a> (CallBase &amp;CallInst)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#adb1dafd461988f3d8e687eabb99e108d">tryInlineCandidate</a> (InlineCandidate &amp;Candidate, SmallVector&lt; CallBase &#42;, 8 &gt; &#42;InlinedCallSites=nullptr)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#ad5c772a0b61cb29106af3a4f9ae43d59">tryPromoteAndInlineCandidate</a> (Function &amp;F, InlineCandidate &amp;Candidate, uint64&#95;t SumOrigin, uint64&#95;t &amp;Sum, SmallVector&lt; CallBase &#42;, 8 &gt; &#42;InlinedCallSites=nullptr)</>}>
Attempt to promote indirect call and also inline the promoted call. <a href="#ad5c772a0b61cb29106af3a4f9ae43d59">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Functions Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> char &#42;</>}
  name={<><a href="#a7fa0621e771540b700bb1d6273ccb082">getAnnotatedRemarkPassName</a> () const</>}>
</MembersIndexItem>

</MembersIndex>

## Protected Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> std::string</>}
  name={<><a href="#ab7d55132a633847b63ce0cdadca0af02">AnnotatedPassName</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/lazycallgraph">LazyCallGraph</a> &amp;</>}
  name={<><a href="#a79367a297c27b50b1a88acabf00f1070">CG</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::unique&#95;ptr&lt; <a href="/docs/api/classes/llvm/samplecontexttracker">SampleContextTracker</a> &gt;</>}
  name={<><a href="#a61e8260e50a3374fc9cd3540068f856a">ContextTracker</a></>}>
Profile tracker for different context. <a href="#a61e8260e50a3374fc9cd3540068f856a">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#aac6219556110a8ac4a20f7c6a49dc0c9">DisableSampleProfileInlining</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::unique&#95;ptr&lt; <a href="/docs/api/classes/llvm/inlineadvisor">InlineAdvisor</a> &gt;</>}
  name={<><a href="#a7d8fb7d2b619a9afafc3add8e9c11eb9">ExternalInlineAdvisor</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/sampleprof/hashkeymap">HashKeyMap</a>&lt; std::unordered&#95;map, <a href="/docs/api/classes/llvm/sampleprof/functionid">FunctionId</a>, <a href="/docs/api/classes/llvm/sampleprof/functionid">FunctionId</a> &gt;</>}
  name={<><a href="#ade23e6b6f4c8e772b888612e156b5344">FuncNameToProfNameMap</a></>}>
Map from function name to profile name generated by call-graph based profile fuzzy matching(–salvage-unused-profile). <a href="#ade23e6b6f4c8e772b888612e156b5344">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::function&lt; <a href="/docs/api/classes/llvm/assumptioncache">AssumptionCache</a> &amp;(<a href="/docs/api/classes/llvm/function">Function</a> &amp;)&gt;</>}
  name={<><a href="#aaa4377cfbfd513fba3113fa91210a0c4">GetAC</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::function&lt; <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/targetlibraryinfo">TargetLibraryInfo</a> &amp;(<a href="/docs/api/classes/llvm/function">Function</a> &amp;)&gt;</>}
  name={<><a href="#ad152203aa6393f06c0b955e3f70b94dd">GetTLI</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::function&lt; <a href="/docs/api/classes/llvm/targettransforminfo">TargetTransformInfo</a> &amp;(<a href="/docs/api/classes/llvm/function">Function</a> &amp;)&gt;</>}
  name={<><a href="#aa6421c02e92eda93cce39ae1adc23f45">GetTTI</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/denseset">llvm::DenseSet</a>&lt; uint64&#95;t &gt;</>}
  name={<><a href="#a99625599858fb55fe0892163548436b3">GUIDsInProfile</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/densemap">DenseMap</a>&lt; uint64&#95;t, <a href="/docs/api/classes/llvm/stringref">StringRef</a> &gt;</>}
  name={<><a href="#a86674e88fdb911aab10f14aa01863d88">GUIDToFuncNameMap</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/namespaces/llvm/#a5d737fb4258bb27586a1bffd557fbb49">ThinOrFullLTOPhase</a></>}
  name={<><a href="#a16100da114bdba0571c38edc371835d8">LTOPhase</a></>}>
Flag indicating which LTO/ThinLTO phase the pass is invoked in. <a href="#a16100da114bdba0571c38edc371835d8">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::unique&#95;ptr&lt; <a href="/docs/api/classes/llvm/sampleprofilematcher">SampleProfileMatcher</a> &gt;</>}
  name={<><a href="#a7bac1f5f852f643b10b9e02862e2b3ab">MatchingManager</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/stringset">StringSet</a></>}
  name={<><a href="#a13d326ade07b8cc14d4e307253b2797b">NamesInProfile</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/densemap">DenseMap</a>&lt; <a href="/docs/api/classes/llvm/function">Function</a> &#42;, <a href="/docs/api/structs/anonymous-namespace-sampleprofile-cpp-/sampleprofileloader/notinlinedprofileinfo">NotInlinedProfileInfo</a> &gt;</>}
  name={<><a href="#a09c53287a76f1544e782601e437149be">notInlinedCallInfo</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a08e4315133d1d023573bd96e627d0dc0">ProfAccForSymsInList</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::shared&#95;ptr&lt; <a href="/docs/api/classes/llvm/sampleprof/profilesymbollist">ProfileSymbolList</a> &gt;</>}
  name={<><a href="#a3329c2209e8b3bc0cd93bd6172ef16ca">PSL</a></>}>
Profle Symbol list tells whether a function name appears in the binary used to generate the current profile. <a href="#a3329c2209e8b3bc0cd93bd6172ef16ca">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/sampleprof/hashkeymap">HashKeyMap</a>&lt; std::unordered&#95;map, <a href="/docs/api/classes/llvm/sampleprof/functionid">FunctionId</a>, <a href="/docs/api/classes/llvm/function">Function</a> &#42; &gt;</>}
  name={<><a href="#a36a42d67af221fe58af6d4e4fa30ce96">SymbolMap</a></>}>
Map from function name to <a href="/docs/api/classes/llvm/function">Function</a> &#42;. <a href="#a36a42d67af221fe58af6d4e4fa30ce96">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>uint64&#95;t</>}
  name={<><a href="#a03dd9387104275f69afacd119f353c10">TotalCollectedSamples</a> = 0</>}>
Total number of samples collected in this profile. <a href="#a03dd9387104275f69afacd119f353c10">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a641b8ee0f58b045f31b9376e927a0b49">UseFlattenedProfile</a></>}>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

Sample profile pass.

This pass reads profile data from the file specified by -sample-profile-file and annotates every affected function with the profile information found in that file.

Definition at line 465 of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp">SampleProfile.cpp</a>.

<SectionDefinition>

## Public Constructors

### SampleProfileLoader() {#a5133b642b31dcbfad681874ba97d5914}

<MemberDefinition
  prototype={<>anonymous&#95;namespace&#123;SampleProfile.cpp&#125;::SampleProfileLoader::SampleProfileLoader (<a href="/docs/api/classes/llvm/stringref">StringRef</a> Name, <a href="/docs/api/classes/llvm/stringref">StringRef</a> RemapName, <a href="/docs/api/namespaces/llvm/#a5d737fb4258bb27586a1bffd557fbb49">ThinOrFullLTOPhase</a> LTOPhase, <a href="/docs/api/classes/llvm/intrusiverefcntptr">IntrusiveRefCntPtr</a>&lt; <a href="/docs/api/classes/llvm/vfs/filesystem">vfs::FileSystem</a> &gt; FS, std::function&lt; <a href="/docs/api/classes/llvm/assumptioncache">AssumptionCache</a> &amp;(<a href="/docs/api/classes/llvm/function">Function</a> &amp;)&gt; GetAssumptionCache, std::function&lt; <a href="/docs/api/classes/llvm/targettransforminfo">TargetTransformInfo</a> &amp;(<a href="/docs/api/classes/llvm/function">Function</a> &amp;)&gt; GetTargetTransformInfo, std::function&lt; <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/targetlibraryinfo">TargetLibraryInfo</a> &amp;(<a href="/docs/api/classes/llvm/function">Function</a> &amp;)&gt; GetTLI, <a href="/docs/api/classes/llvm/lazycallgraph">LazyCallGraph</a> &amp; CG, bool DisableSampleProfileInlining, bool UseFlattenedProfile)</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp/#l00467">467</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp">SampleProfile.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### doInitialization() {#a7e1da8085095c6d808713b280edb143b}

<MemberDefinition
  prototype={<>bool SampleProfileLoader::doInitialization (<a href="/docs/api/classes/llvm/module">Module</a> &amp; M, <a href="/docs/api/namespaces/llvm/#adce09a5a0de0e3177eb00e932734af2f">FunctionAnalysisManager</a> &#42; FAM=nullptr)</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp/#l00487">487</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp">SampleProfile.cpp</a>.
</MemberDefinition>

### runOnModule() {#a25da45ec2b5b7dacb22e831cb7aef0c5}

<MemberDefinition
  prototype={<>bool SampleProfileLoader::runOnModule (<a href="/docs/api/classes/llvm/module">Module</a> &amp; M, <a href="/docs/api/namespaces/llvm/#af9c9208365fd9ce11392b4d79485e259">ModuleAnalysisManager</a> &#42; AM, <a href="/docs/api/classes/llvm/profilesummaryinfo">ProfileSummaryInfo</a> &#42; _PSI)</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp/#l00488">488</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp">SampleProfile.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Protected Member Functions

### buildFunctionOrder() {#a0f9647d7bd1eb0c38198f05b3d34d4f3}

<MemberDefinition
  prototype={<>std::vector&lt; Function &#42; &gt; SampleProfileLoader::buildFunctionOrder (<a href="/docs/api/classes/llvm/module">Module</a> &amp; M, <a href="/docs/api/classes/llvm/lazycallgraph">LazyCallGraph</a> &amp; CG)</>}
  labels = {["protected"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp/#l00528">528</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp">SampleProfile.cpp</a>.
</MemberDefinition>

### buildProfiledCallGraph() {#af64b545a1de5a343850725733d522546}

<MemberDefinition
  prototype={<>std::unique&#95;ptr&lt; ProfiledCallGraph &gt; SampleProfileLoader::buildProfiledCallGraph (<a href="/docs/api/classes/llvm/module">Module</a> &amp; M)</>}
  labels = {["protected"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp/#l00529">529</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp">SampleProfile.cpp</a>.
</MemberDefinition>

### emitAnnotations() {#a6f70814abe4749ddb1e8356c3584b2ac}

<MemberDefinition
  prototype={<>bool SampleProfileLoader::emitAnnotations (<a href="/docs/api/classes/llvm/function">Function</a> &amp; F)</>}
  labels = {["protected"]}>
Once all the branch weights are computed, we emit the MD&#95;prof metadata on BB using the computed values for each of its branches.

<ParametersList title="Parameters">
<ParametersListItem name="F">The function to query.</ParametersListItem>
</ParametersList>

<SectionUser title="Returns">
true if <code>F</code> was modified. Returns false, otherwise.
</SectionUser>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp/#l00493">493</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp">SampleProfile.cpp</a>.
</MemberDefinition>

### emitOptimizationRemarksForInlineCandidates() {#a64ec6ec160cdb088c22ec00f8e314822}

<MemberDefinition
  prototype={<>void SampleProfileLoader::emitOptimizationRemarksForInlineCandidates (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; <a href="/docs/api/classes/llvm/callbase">CallBase</a> &#42; &gt; &amp; Candidates, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/function">Function</a> &amp; F, bool Hot)</>}
  labels = {["protected"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp/#l00522">522</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp">SampleProfile.cpp</a>.
</MemberDefinition>

### findCalleeFunctionSamples() {#a219e9fac05a219d48a97e03304f84613}

<MemberDefinition
  prototype={<>const FunctionSamples &#42; SampleProfileLoader::findCalleeFunctionSamples (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/callbase">CallBase</a> &amp; Inst) const</>}
  labels = {["protected"]}>
Get the <a href="/docs/api/classes/llvm/sampleprof/functionsamples">FunctionSamples</a> for a call instruction.

The <a href="/docs/api/classes/llvm/sampleprof/functionsamples">FunctionSamples</a> of a call/invoke instruction <code>Inst</code> is the inlined instance in which that call instruction is calling to. It contains all samples that resides in the inlined instance. We first find the inlined instance in which the call instruction is from, then we traverse its children to find the callsite with the matching location.


<ParametersList title="Parameters">
<ParametersListItem name="Inst">Call/Invoke instruction to query.</ParametersListItem>
</ParametersList>

<SectionUser title="Returns">
The <a href="/docs/api/classes/llvm/sampleprof/functionsamples">FunctionSamples</a> pointer to the inlined instance.
</SectionUser>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp/#l00495">495</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp">SampleProfile.cpp</a>.
</MemberDefinition>

### findExternalInlineCandidate() {#aa9137eda03e0c2cfd6eebaa55dfdd4cc}

<MemberDefinition
  prototype={<>void SampleProfileLoader::findExternalInlineCandidate (<a href="/docs/api/classes/llvm/callbase">CallBase</a> &#42; CB, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/sampleprof/functionsamples">FunctionSamples</a> &#42; Samples, <a href="/docs/api/classes/llvm/denseset">DenseSet</a>&lt; <a href="/docs/api/classes/llvm/globalvalue/#a3af0428ec6e48cb2f05c199b7b9f7e07">GlobalValue::GUID</a> &gt; &amp; InlinedGUIDs, uint64&#95;t Threshold)</>}
  labels = {["protected"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp/#l00500">500</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp">SampleProfile.cpp</a>.
</MemberDefinition>

### findFunctionSamples() {#a2c88d6b3f033c87b7304db47133a930e}

<MemberDefinition
  prototype={<>const FunctionSamples &#42; SampleProfileLoader::findFunctionSamples (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/instruction">Instruction</a> &amp; I) const</>}
  labels = {["protected"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp/#l00497">497</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp">SampleProfile.cpp</a>.
</MemberDefinition>

### findIndirectCallFunctionSamples() {#abf8457f6ea82a821ee3fb08dae6246d9}

<MemberDefinition
  prototype={<>std::vector&lt; const FunctionSamples &#42; &gt; SampleProfileLoader::findIndirectCallFunctionSamples (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/instruction">Instruction</a> &amp; Inst, uint64&#95;t &amp; Sum) const</>}
  labels = {["protected"]}>
Returns a vector of <a href="/docs/api/classes/llvm/sampleprof/functionsamples">FunctionSamples</a> that are the indirect call targets of <code>Inst</code>.

The vector is sorted by the total number of samples. Stores the total call count of the indirect call in <code>Sum</code>.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp/#l00499">499</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp">SampleProfile.cpp</a>.
</MemberDefinition>

### generateMDProfMetadata() {#acf512f516130aaabdd835c48140c9e5c}

<MemberDefinition
  prototype={<>void SampleProfileLoader::generateMDProfMetadata (<a href="/docs/api/classes/llvm/function">Function</a> &amp; F)</>}
  labels = {["protected"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp/#l00530">530</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp">SampleProfile.cpp</a>.
</MemberDefinition>

### getExternalInlineAdvisorCost() {#ab8641bf75d896ad3caffd68a441c4a7e}

<MemberDefinition
  prototype={<>std::optional&lt; InlineCost &gt; SampleProfileLoader::getExternalInlineAdvisorCost (<a href="/docs/api/classes/llvm/callbase">CallBase</a> &amp; CB)</>}
  labels = {["protected"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp/#l00510">510</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp">SampleProfile.cpp</a>.
</MemberDefinition>

### getExternalInlineAdvisorShouldInline() {#a1504c594e55b1808ae9f992f9783c8b0}

<MemberDefinition
  prototype={<>bool SampleProfileLoader::getExternalInlineAdvisorShouldInline (<a href="/docs/api/classes/llvm/callbase">CallBase</a> &amp; CB)</>}
  labels = {["protected"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp/#l00511">511</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp">SampleProfile.cpp</a>.
</MemberDefinition>

### getInlineCandidate() {#a284bbebbcad19f7e38253a1a8df134b5}

<MemberDefinition
  prototype={<>bool SampleProfileLoader::getInlineCandidate (<a href="/docs/api/structs/anonymous-namespace-sampleprofile-cpp-/inlinecandidate">InlineCandidate</a> &#42; NewCandidate, <a href="/docs/api/classes/llvm/callbase">CallBase</a> &#42; CB)</>}
  labels = {["protected"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp/#l00513">513</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp">SampleProfile.cpp</a>.
</MemberDefinition>

### getInstWeight() {#aa583009e488330c099a4ab23e2536d2f}

<MemberDefinition
  prototype={<>ErrorOr&lt; uint64&#95;t &gt; SampleProfileLoader::getInstWeight (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/instruction">Instruction</a> &amp; I)</>}
  labels = {["protected"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp/#l00494">494</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp">SampleProfile.cpp</a>.
</MemberDefinition>

### inlineHotFunctions() {#aa730b58924baf8f35394c2e5a0bb3714}

<MemberDefinition
  prototype={<>bool SampleProfileLoader::inlineHotFunctions (<a href="/docs/api/classes/llvm/function">Function</a> &amp; F, <a href="/docs/api/classes/llvm/denseset">DenseSet</a>&lt; <a href="/docs/api/classes/llvm/globalvalue/#a3af0428ec6e48cb2f05c199b7b9f7e07">GlobalValue::GUID</a> &gt; &amp; InlinedGUIDs)</>}
  labels = {["protected"]}>
Iteratively inline hot callsites of a function.

Iteratively traverse all callsites of the function <code>F</code>, so as to find out callsites with corresponding inline instances.

For such callsites,
<ul>
<li>If it is hot enough, inline the callsites and adds callsites of the callee into the caller. If the call is an indirect call, first promote it to direct call. Each indirect call is limited with a single target.</li>
<li>If a callsite is not inlined, merge the its profile to the outline version (if –sample-profile-merge-inlinee is true), or scale the counters of standalone function based on the profile of inlined instances (if –sample-profile-merge-inlinee is false).
Later passes may consume the updated profiles.</li>
</ul>



<ParametersList title="Parameters">
<ParametersListItem name="F">function to perform iterative inlining.</ParametersListItem>
<ParametersListItem name="InlinedGUIDs">a set to be updated to include all GUIDs that are inlined in the profiled binary.</ParametersListItem>
</ParametersList>

<SectionUser title="Returns">
True if there is any inline happened.
</SectionUser>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp/#l00508">508</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp">SampleProfile.cpp</a>.
</MemberDefinition>

### inlineHotFunctionsWithPriority() {#ae0bf03df2431c543590180658ce4709d}

<MemberDefinition
  prototype={<>bool SampleProfileLoader::inlineHotFunctionsWithPriority (<a href="/docs/api/classes/llvm/function">Function</a> &amp; F, <a href="/docs/api/classes/llvm/denseset">DenseSet</a>&lt; <a href="/docs/api/classes/llvm/globalvalue/#a3af0428ec6e48cb2f05c199b7b9f7e07">GlobalValue::GUID</a> &gt; &amp; InlinedGUIDs)</>}
  labels = {["protected"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp/#l00518">518</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp">SampleProfile.cpp</a>.
</MemberDefinition>

### promoteMergeNotInlinedContextSamples() {#a16e99ef185f55c3e45caf11c880998ff}

<MemberDefinition
  prototype={<>void SampleProfileLoader::promoteMergeNotInlinedContextSamples (<a href="/docs/api/classes/llvm/mapvector">MapVector</a>&lt; <a href="/docs/api/classes/llvm/callbase">CallBase</a> &#42;, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/sampleprof/functionsamples">FunctionSamples</a> &#42; &gt; NonInlinedCallSites, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/function">Function</a> &amp; F)</>}
  labels = {["protected"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp/#l00525">525</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp">SampleProfile.cpp</a>.
</MemberDefinition>

### rejectHighStalenessProfile() {#abf1045cfa542c9bf01c10bcf99262a2c}

<MemberDefinition
  prototype={<>bool SampleProfileLoader::rejectHighStalenessProfile (<a href="/docs/api/classes/llvm/module">Module</a> &amp; M, <a href="/docs/api/classes/llvm/profilesummaryinfo">ProfileSummaryInfo</a> &#42; PSI, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/sampleprof/sampleprofilemap">SampleProfileMap</a> &amp; Profiles)</>}
  labels = {["protected"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp/#l00531">531</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp">SampleProfile.cpp</a>.
</MemberDefinition>

### removePseudoProbeInstsDiscriminator() {#a35bb2baa976d7716a9752ad544e8134f}

<MemberDefinition
  prototype={<>void SampleProfileLoader::removePseudoProbeInstsDiscriminator (<a href="/docs/api/classes/llvm/module">Module</a> &amp; M)</>}
  labels = {["protected"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp/#l00533">533</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp">SampleProfile.cpp</a>.
</MemberDefinition>

### runOnFunction() {#a358b28b8ab641a2a22ed8849a2dff2cf}

<MemberDefinition
  prototype={<>bool SampleProfileLoader::runOnFunction (<a href="/docs/api/classes/llvm/function">Function</a> &amp; F, <a href="/docs/api/namespaces/llvm/#af9c9208365fd9ce11392b4d79485e259">ModuleAnalysisManager</a> &#42; AM)</>}
  labels = {["protected"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp/#l00492">492</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp">SampleProfile.cpp</a>.
</MemberDefinition>

### shouldInlineCandidate() {#a518b0cf18edfb9fb05aaa530550af870}

<MemberDefinition
  prototype={<>InlineCost SampleProfileLoader::shouldInlineCandidate (<a href="/docs/api/structs/anonymous-namespace-sampleprofile-cpp-/inlinecandidate">InlineCandidate</a> &amp; Candidate)</>}
  labels = {["protected"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp/#l00512">512</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp">SampleProfile.cpp</a>.
</MemberDefinition>

### shouldInlineColdCallee() {#a902b6197889c703bbe3c087f8bcf0789}

<MemberDefinition
  prototype={<>bool SampleProfileLoader::shouldInlineColdCallee (<a href="/docs/api/classes/llvm/callbase">CallBase</a> &amp; CallInst)</>}
  labels = {["protected"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp/#l00521">521</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp">SampleProfile.cpp</a>.
</MemberDefinition>

### tryInlineCandidate() {#adb1dafd461988f3d8e687eabb99e108d}

<MemberDefinition
  prototype={<>bool SampleProfileLoader::tryInlineCandidate (<a href="/docs/api/structs/anonymous-namespace-sampleprofile-cpp-/inlinecandidate">InlineCandidate</a> &amp; Candidate, <a href="/docs/api/classes/llvm/smallvector">SmallVector</a>&lt; <a href="/docs/api/classes/llvm/callbase">CallBase</a> &#42;, 8 &gt; &#42; InlinedCallSites=nullptr)</>}
  labels = {["protected"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp/#l00515">515</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp">SampleProfile.cpp</a>.
</MemberDefinition>

### tryPromoteAndInlineCandidate() {#ad5c772a0b61cb29106af3a4f9ae43d59}

<MemberDefinition
  prototype={<>bool SampleProfileLoader::tryPromoteAndInlineCandidate (<a href="/docs/api/classes/llvm/function">Function</a> &amp; F, <a href="/docs/api/structs/anonymous-namespace-sampleprofile-cpp-/inlinecandidate">InlineCandidate</a> &amp; Candidate, uint64&#95;t SumOrigin, uint64&#95;t &amp; Sum, <a href="/docs/api/classes/llvm/smallvector">SmallVector</a>&lt; <a href="/docs/api/classes/llvm/callbase">CallBase</a> &#42;, 8 &gt; &#42; InlinedCallSite=nullptr)</>}
  labels = {["protected"]}>
Attempt to promote indirect call and also inline the promoted call.

<ParametersList title="Parameters">
<ParametersListItem name="F">Caller function.</ParametersListItem>
<ParametersListItem name="Candidate">ICP and inline candidate.</ParametersListItem>
<ParametersListItem name="SumOrigin">Original sum of target counts for indirect call before promoting given candidate.</ParametersListItem>
<ParametersListItem name="Sum">Prorated sum of remaining target counts for indirect call after promoting given candidate.</ParametersListItem>
<ParametersListItem name="InlinedCallSite">Output vector for new call sites exposed after inlining.</ParametersListItem>
</ParametersList>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp/#l00504">504</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp">SampleProfile.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Functions

### getAnnotatedRemarkPassName() {#a7fa0621e771540b700bb1d6273ccb082}

<MemberDefinition
  prototype={<>const char &#42; anonymous&#95;namespace&#123;SampleProfile.cpp&#125;::SampleProfileLoader::getAnnotatedRemarkPassName () const</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp/#l00610">610</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp">SampleProfile.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Protected Member Attributes

### AnnotatedPassName {#ab7d55132a633847b63ce0cdadca0af02}

<MemberDefinition
  prototype={<>const std::string anonymous&#95;namespace&#123;SampleProfile.cpp&#125;::SampleProfileLoader::AnnotatedPassName</>}
  labels = {["protected"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp/#l00559">559</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp">SampleProfile.cpp</a>.
</MemberDefinition>

### CG {#a79367a297c27b50b1a88acabf00f1070}

<MemberDefinition
  prototype={<>LazyCallGraph&amp; anonymous&#95;namespace&#123;SampleProfile.cpp&#125;::SampleProfileLoader::CG</>}
  labels = {["protected"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp/#l00548">548</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp">SampleProfile.cpp</a>.
</MemberDefinition>

### ContextTracker {#a61e8260e50a3374fc9cd3540068f856a}

<MemberDefinition
  prototype={<>std::unique&#95;ptr&lt;SampleContextTracker&gt; anonymous&#95;namespace&#123;SampleProfile.cpp&#125;::SampleProfileLoader::ContextTracker</>}
  labels = {["protected"]}>
Profile tracker for different context.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp/#l00551">551</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp">SampleProfile.cpp</a>.
</MemberDefinition>

### DisableSampleProfileInlining {#aac6219556110a8ac4a20f7c6a49dc0c9}

<MemberDefinition
  prototype={<>bool anonymous&#95;namespace&#123;SampleProfile.cpp&#125;::SampleProfileLoader::DisableSampleProfileInlining</>}
  labels = {["protected"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp/#l00599">599</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp">SampleProfile.cpp</a>.
</MemberDefinition>

### ExternalInlineAdvisor {#a7d8fb7d2b619a9afafc3add8e9c11eb9}

<MemberDefinition
  prototype={<>std::unique&#95;ptr&lt;InlineAdvisor&gt; anonymous&#95;namespace&#123;SampleProfile.cpp&#125;::SampleProfileLoader::ExternalInlineAdvisor</>}
  labels = {["protected"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp/#l00604">604</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp">SampleProfile.cpp</a>.
</MemberDefinition>

### FuncNameToProfNameMap {#ade23e6b6f4c8e772b888612e156b5344}

<MemberDefinition
  prototype={<>HashKeyMap&lt;std::unordered&#95;map, FunctionId, FunctionId&gt; anonymous&#95;namespace&#123;SampleProfile.cpp&#125;::SampleProfileLoader::FuncNameToProfNameMap</>}
  labels = {["protected"]}>
Map from function name to profile name generated by call-graph based profile fuzzy matching(–salvage-unused-profile).

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp/#l00543">543</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp">SampleProfile.cpp</a>.
</MemberDefinition>

### GetAC {#aaa4377cfbfd513fba3113fa91210a0c4}

<MemberDefinition
  prototype={<>std::function&lt;AssumptionCache &amp;(Function &amp;)&gt; anonymous&#95;namespace&#123;SampleProfile.cpp&#125;::SampleProfileLoader::GetAC</>}
  labels = {["protected"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp/#l00545">545</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp">SampleProfile.cpp</a>.
</MemberDefinition>

### GetTLI {#ad152203aa6393f06c0b955e3f70b94dd}

<MemberDefinition
  prototype={<>std::function&lt;const TargetLibraryInfo &amp;(Function &amp;)&gt; anonymous&#95;namespace&#123;SampleProfile.cpp&#125;::SampleProfileLoader::GetTLI</>}
  labels = {["protected"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp/#l00547">547</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp">SampleProfile.cpp</a>.
</MemberDefinition>

### GetTTI {#aa6421c02e92eda93cce39ae1adc23f45}

<MemberDefinition
  prototype={<>std::function&lt;TargetTransformInfo &amp;(Function &amp;)&gt; anonymous&#95;namespace&#123;SampleProfile.cpp&#125;::SampleProfileLoader::GetTTI</>}
  labels = {["protected"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp/#l00546">546</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp">SampleProfile.cpp</a>.
</MemberDefinition>

### GUIDsInProfile {#a99625599858fb55fe0892163548436b3}

<MemberDefinition
  prototype={<>llvm::DenseSet&lt;uint64&#95;t&gt; anonymous&#95;namespace&#123;SampleProfile.cpp&#125;::SampleProfileLoader::GUIDsInProfile</>}
  labels = {["protected"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp/#l00590">590</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp">SampleProfile.cpp</a>.
</MemberDefinition>

### GUIDToFuncNameMap {#a86674e88fdb911aab10f14aa01863d88}

<MemberDefinition
  prototype={<>DenseMap&lt;uint64&#95;t, StringRef&gt; anonymous&#95;namespace&#123;SampleProfile.cpp&#125;::SampleProfileLoader::GUIDToFuncNameMap</>}
  labels = {["protected"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp/#l00581">581</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp">SampleProfile.cpp</a>.
</MemberDefinition>

### LTOPhase {#a16100da114bdba0571c38edc371835d8}

<MemberDefinition
  prototype={<>const ThinOrFullLTOPhase anonymous&#95;namespace&#123;SampleProfile.cpp&#125;::SampleProfileLoader::LTOPhase</>}
  labels = {["protected"]}>
Flag indicating which LTO/ThinLTO phase the pass is invoked in.

We need to know the LTO phase because for example in ThinLTOPrelink phase, in annotation, we should not promote indirect calls. Instead, we will mark GUIDs that needs to be annotated to the function.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp/#l00558">558</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp">SampleProfile.cpp</a>.
</MemberDefinition>

### MatchingManager {#a7bac1f5f852f643b10b9e02862e2b3ab}

<MemberDefinition
  prototype={<>std::unique&#95;ptr&lt;SampleProfileMatcher&gt; anonymous&#95;namespace&#123;SampleProfile.cpp&#125;::SampleProfileLoader::MatchingManager</>}
  labels = {["protected"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp/#l00607">607</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp">SampleProfile.cpp</a>.
</MemberDefinition>

### NamesInProfile {#a13d326ade07b8cc14d4e307253b2797b}

<MemberDefinition
  prototype={<>StringSet anonymous&#95;namespace&#123;SampleProfile.cpp&#125;::SampleProfileLoader::NamesInProfile</>}
  labels = {["protected"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp/#l00585">585</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp">SampleProfile.cpp</a>.
</MemberDefinition>

### notInlinedCallInfo {#a09c53287a76f1544e782601e437149be}

<MemberDefinition
  prototype={<>DenseMap&lt;Function &#42;, NotInlinedProfileInfo&gt; anonymous&#95;namespace&#123;SampleProfile.cpp&#125;::SampleProfileLoader::notInlinedCallInfo</>}
  labels = {["protected"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp/#l00577">577</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp">SampleProfile.cpp</a>.
</MemberDefinition>

### ProfAccForSymsInList {#a08e4315133d1d023573bd96e627d0dc0}

<MemberDefinition
  prototype={<>bool anonymous&#95;namespace&#123;SampleProfile.cpp&#125;::SampleProfileLoader::ProfAccForSymsInList</>}
  labels = {["protected"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp/#l00597">597</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp">SampleProfile.cpp</a>.
</MemberDefinition>

### PSL {#a3329c2209e8b3bc0cd93bd6172ef16ca}

<MemberDefinition
  prototype={<>std::shared&#95;ptr&lt;ProfileSymbolList&gt; anonymous&#95;namespace&#123;SampleProfile.cpp&#125;::SampleProfileLoader::PSL</>}
  labels = {["protected"]}>
Profle Symbol list tells whether a function name appears in the binary used to generate the current profile.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp/#l00563">563</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp">SampleProfile.cpp</a>.
</MemberDefinition>

### SymbolMap {#a36a42d67af221fe58af6d4e4fa30ce96}

<MemberDefinition
  prototype={<>HashKeyMap&lt;std::unordered&#95;map, FunctionId, Function &#42;&gt; anonymous&#95;namespace&#123;SampleProfile.cpp&#125;::SampleProfileLoader::SymbolMap</>}
  labels = {["protected"]}>
Map from function name to <a href="/docs/api/classes/llvm/function">Function</a> &#42;.

Used to find the function from the function name. If the function name contains suffix, additional entry is added to map from the stripped name to the function if there is one-to-one mapping.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp/#l00539">539</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp">SampleProfile.cpp</a>.
</MemberDefinition>

### TotalCollectedSamples {#a03dd9387104275f69afacd119f353c10}

<MemberDefinition
  prototype={<>uint64&#95;t anonymous&#95;namespace&#123;SampleProfile.cpp&#125;::SampleProfileLoader::TotalCollectedSamples = 0</>}
  labels = {["protected"]}>
Total number of samples collected in this profile.

This is the sum of all the samples collected in all the functions executed at runtime.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp/#l00569">569</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp">SampleProfile.cpp</a>.
</MemberDefinition>

### UseFlattenedProfile {#a641b8ee0f58b045f31b9376e927a0b49}

<MemberDefinition
  prototype={<>bool anonymous&#95;namespace&#123;SampleProfile.cpp&#125;::SampleProfileLoader::UseFlattenedProfile</>}
  labels = {["protected"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp/#l00601">601</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp">SampleProfile.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following file:

<ul>
<li><a href="/docs/api/files/lib/lib/transforms/lib/transforms/ipo/sampleprofile-cpp">SampleProfile.cpp</a></li>
</ul>

</DoxygenPage>
