---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/llvm/branchprobabilityinfo
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'
import SectionUser from '@xpack/docusaurus-plugin-doxygen/components/SectionUser'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `BranchProbabilityInfo` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>

Analysis providing branch probability information. <a href="#details">More...</a>

## Declaration

<CodeBlock>class llvm::BranchProbabilityInfo</CodeBlock>

## Included Headers

<IncludesList>
<IncludesListItem
  filePath="llvm/Analysis/BranchProbabilityInfo.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h"
  isLocal="true" />
</IncludesList>

## Private Member Typedefs Index

<MembersIndex>

<MembersIndexItem
  type="using"
  name={<><a href="#a66831d8af0b5131f093589c10f8f6c84">Edge</a> = std::pair&lt; <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42;, unsigned &gt;</>}>
</MembersIndexItem>

<MembersIndexItem
  type="using"
  name={<><a href="#ae64e605abe55b103bc98301b4ea5c62d">LoopData</a> = std::pair&lt; <a href="/docs/api/classes/llvm/loop">Loop</a> &#42;, int &gt;</>}>
Pair of <a href="/docs/api/classes/llvm/loop">Loop</a> and SCC <a href="/docs/api/namespaces/llvm/callingconv/#abdf8cf606905c10634e831390981b0ed">ID</a> number. <a href="#ae64e605abe55b103bc98301b4ea5c62d">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="using"
  name={<><a href="#a2ffe9a9398d5a7bfdad5be7e2b8c7693">LoopEdge</a> = std::pair&lt; <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> LoopBlock &amp;, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> LoopBlock &amp; &gt;</>}>
</MembersIndexItem>

</MembersIndex>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a771cb111ac312594590e53c1f3699fda">BranchProbabilityInfo</a> ()=default</>}>
</MembersIndexItem>

<MembersIndexItem
  name={<><a href="#ad18bab54d5bb7925300874713924714b">BranchProbabilityInfo</a> (const Function &amp;F, const LoopInfo &amp;LI, const TargetLibraryInfo &#42;TLI=nullptr, DominatorTree &#42;DT=nullptr, PostDominatorTree &#42;PDT=nullptr)</>}>
</MembersIndexItem>

<MembersIndexItem
  name={<><a href="#ab030c39bf198b14c4420c1c5e6c16114">BranchProbabilityInfo</a> (BranchProbabilityInfo &amp;&amp;Arg)</>}>
</MembersIndexItem>

<MembersIndexItem
  name={<><a href="#a3e4567e9936d8106c79d2323c859f5ba">BranchProbabilityInfo</a> (const BranchProbabilityInfo &amp;)=delete</>}>
</MembersIndexItem>

</MembersIndex>

## Public Operators Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/branchprobabilityinfo">BranchProbabilityInfo</a> &amp;</>}
  name={<><a href="#ad96150e5ef2b3f2c2a27e3e5782b1c4c">operator=</a> (const BranchProbabilityInfo &amp;)=delete</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/branchprobabilityinfo">BranchProbabilityInfo</a> &amp;</>}
  name={<><a href="#a55cc2c7c13985c330a592f921db5e926">operator=</a> (BranchProbabilityInfo &amp;&amp;RHS)</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="void"
  name={<><a href="#a54c3911cf4abbcd272fa99a303823942">calculate</a> (const Function &amp;F, const LoopInfo &amp;LI, const TargetLibraryInfo &#42;TLI, DominatorTree &#42;DT, PostDominatorTree &#42;PDT)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#af095c82360c397be730c08feb78264e9">copyEdgeProbabilities</a> (BasicBlock &#42;Src, BasicBlock &#42;Dst)</>}>
Copy outgoing edge probabilities from <code>Src</code> to <code>Dst</code>. <a href="#af095c82360c397be730c08feb78264e9">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a0afb8520349ae7dc725ebfbb0532dbb1">eraseBlock</a> (const BasicBlock &#42;BB)</>}>
Forget analysis results for the given basic block. <a href="#a0afb8520349ae7dc725ebfbb0532dbb1">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/branchprobability">BranchProbability</a></>}
  name={<><a href="#a46502d648608aa13cb485ed4af447d88">getEdgeProbability</a> (const BasicBlock &#42;Src, unsigned IndexInSuccessors) const</>}>
Get an edge&#39;s probability, relative to other out-edges of the Src. <a href="#a46502d648608aa13cb485ed4af447d88">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/branchprobability">BranchProbability</a></>}
  name={<><a href="#a8b76388f3768d895c2c1029d3356481a">getEdgeProbability</a> (const BasicBlock &#42;Src, const BasicBlock &#42;Dst) const</>}>
Get the probability of going from Src to Dst. <a href="#a8b76388f3768d895c2c1029d3356481a">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/branchprobability">BranchProbability</a></>}
  name={<><a href="#a4c75ce4a52aef066547edde4b012e6e2">getEdgeProbability</a> (const BasicBlock &#42;Src, const&#95;succ&#95;iterator Dst) const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a41951a9cbc849c4e0f2930f594c08847">invalidate</a> (Function &amp;, const PreservedAnalyses &amp;PA, FunctionAnalysisManager::Invalidator &amp;)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#aa2da8547348736e285afd8af9093a83d">isEdgeHot</a> (const BasicBlock &#42;Src, const BasicBlock &#42;Dst) const</>}>
Test if an edge is hot relative to other out-edges of the Src. <a href="#aa2da8547348736e285afd8af9093a83d">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#acea510110989b4372eae3d2e68fcf04d">print</a> (raw&#95;ostream &amp;OS) const</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/raw-ostream">raw&#95;ostream</a> &amp;</>}
  name={<><a href="#ae13ac2ed5c40e40fff6ace158e7c0cf3">printEdgeProbability</a> (raw&#95;ostream &amp;OS, const BasicBlock &#42;Src, const BasicBlock &#42;Dst) const</>}>
Print an edge&#39;s probability. <a href="#ae13ac2ed5c40e40fff6ace158e7c0cf3">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a884b41d94b6ffea3302b48b3ab14fd58">releaseMemory</a> ()</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a145edc209aa2f628c73c9cf860eeeb5c">setEdgeProbability</a> (const BasicBlock &#42;Src, const SmallVectorImpl&lt; BranchProbability &gt; &amp;Probs)</>}>
Set the raw probabilities for all edges from the given block. <a href="#a145edc209aa2f628c73c9cf860eeeb5c">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#aa4f2ab60e1bb687cc5d9999ca97d57c2">swapSuccEdgesProbabilities</a> (const BasicBlock &#42;Src)</>}>
Swap outgoing edges probabilities for <code>Src</code> with branch terminator. <a href="#aa4f2ab60e1bb687cc5d9999ca97d57c2">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="bool"
  name={<><a href="#adc9ae7d9f89c23d6edf49e320a519ed8">calcEstimatedHeuristics</a> (const BasicBlock &#42;BB)</>}>
Based on computed weights by <code>computeEstimatedBlockWeight</code> set probabilities on branches. <a href="#adc9ae7d9f89c23d6edf49e320a519ed8">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a647e365e2b5e994ee5b3c5f2781d37c5">calcFloatingPointHeuristics</a> (const BasicBlock &#42;BB)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a18f6661bc9a7ba6ab4e37c4f5cd23237">calcMetadataWeights</a> (const BasicBlock &#42;BB)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a73b29c1aa15d8372a273377f01d82230">calcPointerHeuristics</a> (const BasicBlock &#42;BB)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a287b9de9dbecd10c727217300a115cfb">calcZeroHeuristics</a> (const BasicBlock &#42;BB, const TargetLibraryInfo &#42;TLI)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#aff7339f713a00a22f68bf56973399945">computeEestimateBlockWeight</a> (const Function &amp;F, DominatorTree &#42;DT, PostDominatorTree &#42;PDT)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::optional&lt; uint32&#95;t &gt;</>}
  name={<><a href="#ab812769371c960e95ea5ef11785b5ba8">getEstimatedBlockWeight</a> (const BasicBlock &#42;BB) const</>}>
Returns estimated weight for <code>BB</code>. <a href="#ab812769371c960e95ea5ef11785b5ba8">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::optional&lt; uint32&#95;t &gt;</>}
  name={<><a href="#aad49400fea6f31ece3e185f20a505f8b">getEstimatedEdgeWeight</a> (const LoopEdge &amp;Edge) const</>}>
Return estimated weight for <code>Edge</code>. <a href="#aad49400fea6f31ece3e185f20a505f8b">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::optional&lt; uint32&#95;t &gt;</>}
  name={<><a href="#a4a3598bdb59d6d992198c3a4adc33e16">getEstimatedLoopWeight</a> (const LoopData &amp;L) const</>}>
Returns estimated weight to enter <code>L</code>. <a href="#a4a3598bdb59d6d992198c3a4adc33e16">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::optional&lt; uint32&#95;t &gt;</>}
  name={<><a href="#a5713672d2a5bd673c4889c5fd20bed08">getInitialEstimatedBlockWeight</a> (const BasicBlock &#42;BB)</>}>
Returns block&#39;s weight encoded in the IR. <a href="#a5713672d2a5bd673c4889c5fd20bed08">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="LoopBlock"
  name={<><a href="#a6ca755b59fa2df435452505f3dcae1f8">getLoopBlock</a> (const BasicBlock &#42;BB) const</>}>
Helper to construct LoopBlock for <code>BB</code>. <a href="#a6ca755b59fa2df435452505f3dcae1f8">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a6cc2645eb64f8b7a7b1dd0af923e3f3e">getLoopEnterBlocks</a> (const LoopBlock &amp;LB, SmallVectorImpl&lt; BasicBlock &#42; &gt; &amp;Enters) const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#acd31bed756c01c430a6b05ac16490d0d">getLoopExitBlocks</a> (const LoopBlock &amp;LB, SmallVectorImpl&lt; BasicBlock &#42; &gt; &amp;Exits) const</>}>
</MembersIndexItem>

<MembersIndexItem
  template={<>template &lt;class IterT&gt;</>}
  type="auto "
  name={<><a href="#a83f5d11cd2252ec5710f8cbd13dfdd77">getMaxEstimatedEdgeWeight</a> (const LoopBlock &amp;SrcBB, iterator&#95;range&lt; IterT &gt; Successors) const -&gt; std::optional&lt; uint32&#95;t &gt;</>}>
Iterates over all edges leading from <code>SrcBB</code> to <code>Successors</code> and returns maximum of all estimated weights. <a href="#a83f5d11cd2252ec5710f8cbd13dfdd77">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a5929134366416c3b2824423d3d300ee1">isLoopBackEdge</a> (const LoopEdge &amp;Edge) const</>}>
Returns true if source and destination blocks belongs to the same loop and destination block is loop header. <a href="#a5929134366416c3b2824423d3d300ee1">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a017780ee735d0b759c1b8530593eabf7">isLoopEnteringEdge</a> (const LoopEdge &amp;Edge) const</>}>
Returns true if destination block belongs to some loop and source block is either doesn&#39;t belong to any loop or belongs to a loop which is not inner relative to the destination block. <a href="#a017780ee735d0b759c1b8530593eabf7">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a658ce3c0572288413fcf1b42ff2a0743">isLoopEnteringExitingEdge</a> (const LoopEdge &amp;Edge) const</>}>
Returns true if <code>Edge</code> is either enters to or exits from some loop, false in all other cases. <a href="#a658ce3c0572288413fcf1b42ff2a0743">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#afe6bbca341cf397870210c81158d115f">isLoopExitingEdge</a> (const LoopEdge &amp;Edge) const</>}>
Returns true if source block belongs to some loop and destination block is either doesn&#39;t belong to any loop or belongs to a loop which is not inner relative to the source block. <a href="#afe6bbca341cf397870210c81158d115f">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#ac8d8b3049d21861f1e3bd85094e831ee">propagateEstimatedBlockWeight</a> (const LoopBlock &amp;LoopBB, DominatorTree &#42;DT, PostDominatorTree &#42;PDT, uint32&#95;t BBWeight, SmallVectorImpl&lt; BasicBlock &#42; &gt; &amp;WorkList, SmallVectorImpl&lt; LoopBlock &gt; &amp;LoopWorkList)</>}>
Starting from <code>LoopBB</code> (including <code>LoopBB</code> itself) propagate <code>BBWeight</code> up the domination tree. <a href="#ac8d8b3049d21861f1e3bd85094e831ee">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#aef09d0c16ec287690b611c2b6ed7abaa">updateEstimatedBlockWeight</a> (LoopBlock &amp;LoopBB, uint32&#95;t BBWeight, SmallVectorImpl&lt; BasicBlock &#42; &gt; &amp;BlockWorkList, SmallVectorImpl&lt; LoopBlock &gt; &amp;LoopWorkList)</>}>
If <code>LoopBB</code> has no estimated weight then set it to <code>BBWeight</code> and return true. <a href="#aef09d0c16ec287690b611c2b6ed7abaa">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/smalldensemap">SmallDenseMap</a>&lt; <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42;, uint32&#95;t &gt;</>}
  name={<><a href="#a297bbfee1fbb7a2b23a0a7093b1882c3">EstimatedBlockWeight</a></>}>
Keeps mapping of a basic block to its estimated weight. <a href="#a297bbfee1fbb7a2b23a0a7093b1882c3">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/smalldensemap">SmallDenseMap</a>&lt; LoopData, uint32&#95;t &gt;</>}
  name={<><a href="#a707afcbd637b0c9d886a3978aec6b719">EstimatedLoopWeight</a></>}>
Keeps mapping of a loop to estimated weight to enter the loop. <a href="#a707afcbd637b0c9d886a3978aec6b719">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/denseset">DenseSet</a>&lt; BasicBlockCallbackVH, <a href="/docs/api/structs/llvm/densemapinfo">DenseMapInfo</a>&lt; <a href="/docs/api/classes/llvm/value">Value</a> &#42; &gt; &gt;</>}
  name={<><a href="#a0c4ccdbd0181c89d5ac411263724fb8f">Handles</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/function">Function</a> &#42;</>}
  name={<><a href="#abb5c13da8fc36f4d9d4ab1fe9d1a0c56">LastF</a> = nullptr</>}>
Track the last function we run over for printing. <a href="#abb5c13da8fc36f4d9d4ab1fe9d1a0c56">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/loopinfo">LoopInfo</a> &#42;</>}
  name={<><a href="#a23300e04a69aae997531ae840c7d7fa3">LI</a> = nullptr</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/densemap">DenseMap</a>&lt; Edge, <a href="/docs/api/classes/llvm/branchprobability">BranchProbability</a> &gt;</>}
  name={<><a href="#ada0c2cfcd81dc805fe460b627a1898ac">Probs</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::unique&#95;ptr&lt; <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/branchprobabilityinfo/sccinfo">SccInfo</a> &gt;</>}
  name={<><a href="#afe8c96b0c73d9ee35da359a7e09f5939">SccI</a></>}>
Keeps information about all SCCs in a function. <a href="#afe8c96b0c73d9ee35da359a7e09f5939">More...</a>
</MembersIndexItem>

</MembersIndex>

## Public Static Functions Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/branchprobability">BranchProbability</a></>}
  name={<><a href="#a4e4a47209688ad8c4359d4bf0f020f14">getBranchProbStackProtector</a> (bool IsLikely)</>}>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

Analysis providing branch probability information.

This is a function analysis which provides information on the relative probabilities of each &quot;edge&quot; in the function&#39;s CFG where such an edge is defined by a pair (PredBlock and an index in the successors). The probability of an edge from one block is always relative to the probabilities of other edges from the block. The probabilites of all edges from a block sum to exactly one (100%). We use a pair (PredBlock and an index in the successors) to uniquely identify an edge, since we can have multiple edges from Src to Dst. As an example, we can have a switch which jumps to Dst with value 0 and value 10.

<a href="/docs/api/classes/llvm/sys/process">Process</a> of computing branch probabilities can be logically viewed as three step process:

First, if there is a profile information associated with the branch then it is trivially translated to branch probabilities. There is one exception from this rule though. Probabilities for edges leading to &quot;unreachable&quot; blocks (blocks with the estimated weight not greater than UNREACHABLE&#95;WEIGHT) are evaluated according to static estimation and override profile information. If no branch probabilities were calculated on this step then take the next one.

Second, estimate absolute execution weights for each block based on statically known information. Roots of such information are &quot;cold&quot;, &quot;unreachable&quot;, &quot;noreturn&quot; and &quot;unwind&quot; blocks. Those blocks get their weights set to <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp/#a0bab6cbda2c6f1e9dd352004a6b9f393a3f7ff4daa99912d1b0c8c64340edb9fb">BlockExecWeight::COLD</a>, <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp/#a0bab6cbda2c6f1e9dd352004a6b9f393a58fd3b3b1f27606728077423eb21d8d6">BlockExecWeight::UNREACHABLE</a>, <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp/#a0bab6cbda2c6f1e9dd352004a6b9f393a25c263e3b7486f9453d37151d62ff7d1">BlockExecWeight::NORETURN</a> and <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp/#a0bab6cbda2c6f1e9dd352004a6b9f393a37b88a87188456429fa6e6c31a6d2301">BlockExecWeight::UNWIND</a> respectively. Then the weights are propagated to the other blocks up the domination line. In addition, if all successors have estimated weights set then maximum of these weights assigned to the block itself (while this is not ideal heuristic in theory it&#39;s simple and works reasonably well in most cases) and the process repeats. Once the process of weights propagation converges branch probabilities are set for all such branches that have at least one successor with the weight set. Default execution weight (<a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp/#a0bab6cbda2c6f1e9dd352004a6b9f393a5b39c8b553c821e7cddc6da64b5bd2ee">BlockExecWeight::DEFAULT</a>) is used for any successors which doesn&#39;t have its weight set. For loop back branches we use their weights scaled by loop trip count equal to &#39;LBH&#95;TAKEN&#95;WEIGHT/LBH&#95;NOTTAKEN&#95;WEIGHT&#39;.

Here is a simple example demonstrating how the described algorithm works. <CodeBlock>     BB1
    /   \\
   v     v
 BB2     BB3
/   \\
</CodeBlock> v v ColdBB UnreachBB

Initially, ColdBB is associated with COLD&#95;WEIGHT and UnreachBB with UNREACHABLE&#95;WEIGHT. COLD&#95;WEIGHT is set to BB2 as maximum between its successors. BB1 and BB3 has no explicit estimated weights and assumed to have DEFAULT&#95;WEIGHT. Based on assigned weights branches will have the following probabilities: P(BB1-&gt;BB2) = COLD&#95;WEIGHT/(COLD&#95;WEIGHT + DEFAULT&#95;WEIGHT) = 0xffff / (0xffff + 0xfffff) = 0.0588(5.9%) P(BB1-&gt;BB3) = DEFAULT&#95;WEIGHT&#95;WEIGHT/(COLD&#95;WEIGHT + DEFAULT&#95;WEIGHT) = 0xfffff / (0xffff + 0xfffff) = 0.941(94.1%) P(BB2-&gt;ColdBB) = COLD&#95;WEIGHT/(COLD&#95;WEIGHT + UNREACHABLE&#95;WEIGHT) = 1(100%) P(BB2-&gt;UnreachBB) = UNREACHABLE&#95;WEIGHT/(COLD&#95;WEIGHT+UNREACHABLE&#95;WEIGHT) = 0(0%)

If no branch probabilities were calculated on this step then take the next one.

Third, apply different kinds of local heuristics for each individual branch until first match. For example probability of a pointer to be null is estimated as PH&#95;TAKEN&#95;WEIGHT/(PH&#95;TAKEN&#95;WEIGHT + PH&#95;NONTAKEN&#95;WEIGHT). If no local heuristic has been matched then branch is left with no explicit probability set and assumed to have default probability.

Definition at line 112 of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a>.

<SectionDefinition>

## Private Member Typedefs

### Edge {#a66831d8af0b5131f093589c10f8f6c84}

<MemberDefinition
  prototype={<>using llvm::BranchProbabilityInfo::Edge =  std::pair&lt;const BasicBlock &#42;, unsigned&gt;</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h/#l00327">327</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a>.
</MemberDefinition>

### LoopData {#ae64e605abe55b103bc98301b4ea5c62d}

<MemberDefinition
  prototype={<>using llvm::BranchProbabilityInfo::LoopData =  std::pair&lt;Loop &#42;, int&gt;</>}>
Pair of <a href="/docs/api/classes/llvm/loop">Loop</a> and SCC <a href="/docs/api/namespaces/llvm/callingconv/#abdf8cf606905c10634e831390981b0ed">ID</a> number.

Used to unify handling of normal and SCC based loop representations.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h/#l00296">296</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a>.
</MemberDefinition>

### LoopEdge {#a2ffe9a9398d5a7bfdad5be7e2b8c7693}

<MemberDefinition
  prototype={<>using llvm::BranchProbabilityInfo::LoopEdge =  std::pair&lt;const LoopBlock &amp;, const LoopBlock &amp;&gt;</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h/#l00321">321</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Constructors

### BranchProbabilityInfo() {#a771cb111ac312594590e53c1f3699fda}

<MemberDefinition
  prototype="llvm::BranchProbabilityInfo::BranchProbabilityInfo ()"
  labels = {["default"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h/#l00114">114</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a>.
</MemberDefinition>

### BranchProbabilityInfo() {#ad18bab54d5bb7925300874713924714b}

<MemberDefinition
  prototype={<>llvm::BranchProbabilityInfo::BranchProbabilityInfo (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/function">Function</a> &amp; F, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/loopinfo">LoopInfo</a> &amp; LI, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/targetlibraryinfo">TargetLibraryInfo</a> &#42; TLI=nullptr, <a href="/docs/api/classes/llvm/dominatortree">DominatorTree</a> &#42; DT=nullptr, <a href="/docs/api/classes/llvm/postdominatortree">PostDominatorTree</a> &#42; PDT=nullptr)</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h/#l00116">116</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a>.
</MemberDefinition>

### BranchProbabilityInfo() {#ab030c39bf198b14c4420c1c5e6c16114}

<MemberDefinition
  prototype={<>llvm::BranchProbabilityInfo::BranchProbabilityInfo (<a href="/docs/api/classes/llvm/branchprobabilityinfo">BranchProbabilityInfo</a> &amp;&amp; Arg)</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h/#l00123">123</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a>.
</MemberDefinition>

### BranchProbabilityInfo() {#a3e4567e9936d8106c79d2323c859f5ba}

<MemberDefinition
  prototype={<>llvm::BranchProbabilityInfo::BranchProbabilityInfo (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/branchprobabilityinfo">BranchProbabilityInfo</a> &amp;)</>}
  labels = {["delete"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h/#l00131">131</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Operators

### operator=() {#ad96150e5ef2b3f2c2a27e3e5782b1c4c}

<MemberDefinition
  prototype={<>BranchProbabilityInfo &amp; llvm::BranchProbabilityInfo::operator= (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/branchprobabilityinfo">BranchProbabilityInfo</a> &amp;)</>}
  labels = {["delete"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h/#l00132">132</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a>.
</MemberDefinition>

### operator=() {#a55cc2c7c13985c330a592f921db5e926}

<MemberDefinition
  prototype={<>BranchProbabilityInfo &amp; llvm::BranchProbabilityInfo::operator= (<a href="/docs/api/classes/llvm/branchprobabilityinfo">BranchProbabilityInfo</a> &amp;&amp; RHS)</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h/#l00134">134</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### calculate() {#a54c3911cf4abbcd272fa99a303823942}

<MemberDefinition
  prototype={<>void BranchProbabilityInfo::calculate (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/function">Function</a> &amp; F, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/loopinfo">LoopInfo</a> &amp; LI, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/targetlibraryinfo">TargetLibraryInfo</a> &#42; TLI, <a href="/docs/api/classes/llvm/dominatortree">DominatorTree</a> &#42; DT, <a href="/docs/api/classes/llvm/postdominatortree">PostDominatorTree</a> &#42; PDT)</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h/#l00206">206</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp/#l01224">1224</a> of file <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp">BranchProbabilityInfo.cpp</a>.
</MemberDefinition>

### copyEdgeProbabilities() {#af095c82360c397be730c08feb78264e9}

<MemberDefinition
  prototype={<>void BranchProbabilityInfo::copyEdgeProbabilities (<a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; Src, <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; Dst)</>}>
Copy outgoing edge probabilities from <code>Src</code> to <code>Dst</code>.

This allows to keep probabilities unset for the destination if they were unset for source.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h/#l00196">196</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp/#l01158">1158</a> of file <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp">BranchProbabilityInfo.cpp</a>.
</MemberDefinition>

### eraseBlock() {#a0afb8520349ae7dc725ebfbb0532dbb1}

<MemberDefinition
  prototype={<>void BranchProbabilityInfo::eraseBlock (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; BB)</>}>
Forget analysis results for the given basic block.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h/#l00211">211</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp/#l01202">1202</a> of file <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp">BranchProbabilityInfo.cpp</a>.
</MemberDefinition>

### getEdgeProbability() {#a46502d648608aa13cb485ed4af447d88}

<MemberDefinition
  prototype={<>BranchProbability BranchProbabilityInfo::getEdgeProbability (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; Src, unsigned IndexInSuccessors) const</>}>
Get an edge&#39;s probability, relative to other out-edges of the Src.

Get the raw edge probability for the edge.

This routine provides access to the fractional probability between zero (0%) and one (100%) of this edge executing, relative to other edges leaving the &#39;Src&#39; block. The returned probability is never zero, and can only be one if the source block has only one successor.

If can&#39;t find it, return a default probability 1/N where N is the number of successors. Here an edge is specified using PredBlock and an index to the successors.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h/#l00157">157</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp/#l01094">1094</a> of file <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp">BranchProbabilityInfo.cpp</a>.
</MemberDefinition>

### getEdgeProbability() {#a8b76388f3768d895c2c1029d3356481a}

<MemberDefinition
  prototype={<>BranchProbability BranchProbabilityInfo::getEdgeProbability (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; Src, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; Dst) const</>}>
Get the probability of going from Src to Dst.

Get the raw edge probability calculated for the block pair.

It returns the sum of all probabilities for edges from Src to Dst.

This returns the sum of all raw edge probabilities from Src to Dst.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h/#l00163">163</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp/#l01117">1117</a> of file <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp">BranchProbabilityInfo.cpp</a>.
</MemberDefinition>

### getEdgeProbability() {#a4c75ce4a52aef066547edde4b012e6e2}

<MemberDefinition
  prototype={<>BranchProbability BranchProbabilityInfo::getEdgeProbability (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; Src, <a href="/docs/api/namespaces/llvm/#ae21e08e18fe951a73ef0942064ef841c">const&#95;succ&#95;iterator</a> Dst) const</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h/#l00166">166</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp/#l01109">1109</a> of file <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp">BranchProbabilityInfo.cpp</a>.
</MemberDefinition>

### invalidate() {#a41951a9cbc849c4e0f2930f594c08847}

<MemberDefinition
  prototype={<>bool BranchProbabilityInfo::invalidate (<a href="/docs/api/classes/llvm/function">Function</a> &amp;, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/preservedanalyses">PreservedAnalyses</a> &amp; PA, FunctionAnalysisManager::Invalidator &amp;)</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h/#l00144">144</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp/#l01062">1062</a> of file <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp">BranchProbabilityInfo.cpp</a>.
</MemberDefinition>

### isEdgeHot() {#aa2da8547348736e285afd8af9093a83d}

<MemberDefinition
  prototype={<>bool BranchProbabilityInfo::isEdgeHot (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; Src, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; Dst) const</>}>
Test if an edge is hot relative to other out-edges of the Src.

<a href="/docs/api/namespaces/llvm/check">Check</a> whether this edge out of the source block is &#39;hot&#39;. We define hot as having a relative probability &gt; 80%.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h/#l00173">173</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp/#l01083">1083</a> of file <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp">BranchProbabilityInfo.cpp</a>.
</MemberDefinition>

### print() {#acea510110989b4372eae3d2e68fcf04d}

<MemberDefinition
  prototype={<>void BranchProbabilityInfo::print (<a href="/docs/api/classes/llvm/raw-ostream">raw&#95;ostream</a> &amp; OS) const</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h/#l00149">149</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp/#l01071">1071</a> of file <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp">BranchProbabilityInfo.cpp</a>.
</MemberDefinition>

### printEdgeProbability() {#ae13ac2ed5c40e40fff6ace158e7c0cf3}

<MemberDefinition
  prototype={<>raw&#95;ostream &amp; BranchProbabilityInfo::printEdgeProbability (<a href="/docs/api/classes/llvm/raw-ostream">raw&#95;ostream</a> &amp; OS, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; Src, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; Dst) const</>}>
Print an edge&#39;s probability.

Retrieves an edge&#39;s probability similarly to 
<SectionUser title="See Also">
<a href="#a46502d648608aa13cb485ed4af447d88">getEdgeProbability</a>, but then prints that probability to the provided stream. That stream is then returned.
</SectionUser>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h/#l00180">180</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp/#l01188">1188</a> of file <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp">BranchProbabilityInfo.cpp</a>.
</MemberDefinition>

### releaseMemory() {#a884b41d94b6ffea3302b48b3ab14fd58}

<MemberDefinition
  prototype="void BranchProbabilityInfo::releaseMemory ()">

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h/#l00147">147</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp/#l01057">1057</a> of file <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp">BranchProbabilityInfo.cpp</a>.
</MemberDefinition>

### setEdgeProbability() {#a145edc209aa2f628c73c9cf860eeeb5c}

<MemberDefinition
  prototype={<>void BranchProbabilityInfo::setEdgeProbability (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; Src, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; <a href="/docs/api/classes/llvm/branchprobability">BranchProbability</a> &gt; &amp; Probs)</>}>
Set the raw probabilities for all edges from the given block.

Set the edge probability for all edges at once.

This allows a pass to explicitly set edge probabilities for a block. It can be used when updating the CFG to update the branch probability information.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h/#l00189">189</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp/#l01131">1131</a> of file <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp">BranchProbabilityInfo.cpp</a>.
</MemberDefinition>

### swapSuccEdgesProbabilities() {#aa4f2ab60e1bb687cc5d9999ca97d57c2}

<MemberDefinition
  prototype={<>void BranchProbabilityInfo::swapSuccEdgesProbabilities (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; Src)</>}>
Swap outgoing edges probabilities for <code>Src</code> with branch terminator.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h/#l00199">199</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp/#l01177">1177</a> of file <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp">BranchProbabilityInfo.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Functions

### calcEstimatedHeuristics() {#adc9ae7d9f89c23d6edf49e320a519ed8}

<MemberDefinition
  prototype={<>bool BranchProbabilityInfo::calcEstimatedHeuristics (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; BB)</>}>
Based on computed weights by <code>computeEstimatedBlockWeight</code> set probabilities on branches.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h/#l00416">416</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp/#l00875">875</a> of file <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp">BranchProbabilityInfo.cpp</a>.
</MemberDefinition>

### calcFloatingPointHeuristics() {#a647e365e2b5e994ee5b3c5f2781d37c5}

<MemberDefinition
  prototype={<>bool BranchProbabilityInfo::calcFloatingPointHeuristics (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; BB)</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h/#l00420">420</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp/#l01029">1029</a> of file <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp">BranchProbabilityInfo.cpp</a>.
</MemberDefinition>

### calcMetadataWeights() {#a18f6661bc9a7ba6ab4e37c4f5cd23237}

<MemberDefinition
  prototype={<>bool BranchProbabilityInfo::calcMetadataWeights (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; BB)</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h/#l00417">417</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp/#l00378">378</a> of file <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp">BranchProbabilityInfo.cpp</a>.
</MemberDefinition>

### calcPointerHeuristics() {#a73b29c1aa15d8372a273377f01d82230}

<MemberDefinition
  prototype={<>bool BranchProbabilityInfo::calcPointerHeuristics (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; BB)</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h/#l00418">418</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp/#l00514">514</a> of file <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp">BranchProbabilityInfo.cpp</a>.
</MemberDefinition>

### calcZeroHeuristics() {#a287b9de9dbecd10c727217300a115cfb}

<MemberDefinition
  prototype={<>bool BranchProbabilityInfo::calcZeroHeuristics (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; BB, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/targetlibraryinfo">TargetLibraryInfo</a> &#42; TLI)</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h/#l00419">419</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp/#l00962">962</a> of file <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp">BranchProbabilityInfo.cpp</a>.
</MemberDefinition>

### computeEestimateBlockWeight() {#aff7339f713a00a22f68bf56973399945}

<MemberDefinition
  prototype={<>void BranchProbabilityInfo::computeEestimateBlockWeight (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/function">Function</a> &amp; F, <a href="/docs/api/classes/llvm/dominatortree">DominatorTree</a> &#42; DT, <a href="/docs/api/classes/llvm/postdominatortree">PostDominatorTree</a> &#42; PDT)</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h/#l00411">411</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp/#l00805">805</a> of file <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp">BranchProbabilityInfo.cpp</a>.
</MemberDefinition>

### getEstimatedBlockWeight() {#ab812769371c960e95ea5ef11785b5ba8}

<MemberDefinition
  prototype={<>std::optional&lt; uint32&#95;t &gt; BranchProbabilityInfo::getEstimatedBlockWeight (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; BB) const</>}>
Returns estimated weight for <code>BB</code>.

std::nullopt if <code>BB</code> has no estimated weight.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h/#l00373">373</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp/#l00645">645</a> of file <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp">BranchProbabilityInfo.cpp</a>.
</MemberDefinition>

### getEstimatedEdgeWeight() {#aad49400fea6f31ece3e185f20a505f8b}

<MemberDefinition
  prototype={<>std::optional&lt; uint32&#95;t &gt; BranchProbabilityInfo::getEstimatedEdgeWeight (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> LoopEdge &amp; Edge) const</>}>
Return estimated weight for <code>Edge</code>.

Returns std::nullopt if estimated weight is unknown.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h/#l00382">382</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp/#l00661">661</a> of file <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp">BranchProbabilityInfo.cpp</a>.
</MemberDefinition>

### getEstimatedLoopWeight() {#a4a3598bdb59d6d992198c3a4adc33e16}

<MemberDefinition
  prototype={<>std::optional&lt; uint32&#95;t &gt; BranchProbabilityInfo::getEstimatedLoopWeight (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> LoopData &amp; L) const</>}>
Returns estimated weight to enter <code>L</code>.

In other words it is weight of loop&#39;s header block not scaled by trip count. Returns std::nullopt if <code>L</code> has no no estimated weight.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h/#l00378">378</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp/#l00653">653</a> of file <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp">BranchProbabilityInfo.cpp</a>.
</MemberDefinition>

### getInitialEstimatedBlockWeight() {#a5713672d2a5bd673c4889c5fd20bed08}

<MemberDefinition
  prototype={<>std::optional&lt; uint32&#95;t &gt; BranchProbabilityInfo::getInitialEstimatedBlockWeight (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; BB)</>}>
Returns block&#39;s weight encoded in the IR.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h/#l00408">408</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp/#l00765">765</a> of file <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp">BranchProbabilityInfo.cpp</a>.
</MemberDefinition>

### getLoopBlock() {#a6ca755b59fa2df435452505f3dcae1f8}

<MemberDefinition
  prototype={<>LoopBlock llvm::BranchProbabilityInfo::getLoopBlock (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; BB) const</>}
  labels = {["inline"]}>
Helper to construct LoopBlock for <code>BB</code>.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h/#l00346">346</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a>.
</MemberDefinition>

### getLoopEnterBlocks() {#a6cc2645eb64f8b7a7b1dd0af923e3f3e}

<MemberDefinition
  prototype={<>void BranchProbabilityInfo::getLoopEnterBlocks (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> LoopBlock &amp; LB, <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; &gt; &amp; Enters) const</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h/#l00365">365</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp/#l00353">353</a> of file <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp">BranchProbabilityInfo.cpp</a>.
</MemberDefinition>

### getLoopExitBlocks() {#acd31bed756c01c430a6b05ac16490d0d}

<MemberDefinition
  prototype={<>void BranchProbabilityInfo::getLoopExitBlocks (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> LoopBlock &amp; LB, <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; &gt; &amp; Exits) const</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h/#l00368">368</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp/#l00364">364</a> of file <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp">BranchProbabilityInfo.cpp</a>.
</MemberDefinition>

### getMaxEstimatedEdgeWeight() {#a83f5d11cd2252ec5710f8cbd13dfdd77}

<MemberDefinition
  template={<>template &lt;class IterT&gt;</>}
  prototype={<>std::optional&lt; uint32&#95;t &gt; BranchProbabilityInfo::getMaxEstimatedEdgeWeight (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> LoopBlock &amp; SrcBB, <a href="/docs/api/classes/llvm/iterator-range">iterator&#95;range</a>&lt; IterT &gt; Successors) const</>}>
Iterates over all edges leading from <code>SrcBB</code> to <code>Successors</code> and returns maximum of all estimated weights.

If at least one edge has unknown estimated weight std::nullopt is returned.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h/#l00389">389</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp/#l00670">670</a> of file <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp">BranchProbabilityInfo.cpp</a>.
</MemberDefinition>

### isLoopBackEdge() {#a5929134366416c3b2824423d3d300ee1}

<MemberDefinition
  prototype={<>bool BranchProbabilityInfo::isLoopBackEdge (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> LoopEdge &amp; Edge) const</>}>
Returns true if source and destination blocks belongs to the same loop and destination block is loop header.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h/#l00363">363</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp/#l00343">343</a> of file <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp">BranchProbabilityInfo.cpp</a>.
</MemberDefinition>

### isLoopEnteringEdge() {#a017780ee735d0b759c1b8530593eabf7}

<MemberDefinition
  prototype={<>bool BranchProbabilityInfo::isLoopEnteringEdge (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> LoopEdge &amp; Edge) const</>}>
Returns true if destination block belongs to some loop and source block is either doesn&#39;t belong to any loop or belongs to a loop which is not inner relative to the destination block.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h/#l00353">353</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp/#l00324">324</a> of file <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp">BranchProbabilityInfo.cpp</a>.
</MemberDefinition>

### isLoopEnteringExitingEdge() {#a658ce3c0572288413fcf1b42ff2a0743}

<MemberDefinition
  prototype={<>bool BranchProbabilityInfo::isLoopEnteringExitingEdge (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> LoopEdge &amp; Edge) const</>}>
Returns true if <code>Edge</code> is either enters to or exits from some loop, false in all other cases.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h/#l00360">360</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp/#l00338">338</a> of file <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp">BranchProbabilityInfo.cpp</a>.
</MemberDefinition>

### isLoopExitingEdge() {#afe6bbca341cf397870210c81158d115f}

<MemberDefinition
  prototype={<>bool BranchProbabilityInfo::isLoopExitingEdge (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> LoopEdge &amp; Edge) const</>}>
Returns true if source block belongs to some loop and destination block is either doesn&#39;t belong to any loop or belongs to a loop which is not inner relative to the source block.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h/#l00357">357</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp/#l00334">334</a> of file <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp">BranchProbabilityInfo.cpp</a>.
</MemberDefinition>

### propagateEstimatedBlockWeight() {#ac8d8b3049d21861f1e3bd85094e831ee}

<MemberDefinition
  prototype={<>void BranchProbabilityInfo::propagateEstimatedBlockWeight (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> LoopBlock &amp; LoopBB, <a href="/docs/api/classes/llvm/dominatortree">DominatorTree</a> &#42; DT, <a href="/docs/api/classes/llvm/postdominatortree">PostDominatorTree</a> &#42; PDT, uint32&#95;t BBWeight, <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; &gt; &amp; WorkList, <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; LoopBlock &gt; &amp; LoopWorkList)</>}>
Starting from <code>LoopBB</code> (including <code>LoopBB</code> itself) propagate <code>BBWeight</code> up the domination tree.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h/#l00402">402</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp/#l00731">731</a> of file <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp">BranchProbabilityInfo.cpp</a>.
</MemberDefinition>

### updateEstimatedBlockWeight() {#aef09d0c16ec287690b611c2b6ed7abaa}

<MemberDefinition
  prototype={<>bool BranchProbabilityInfo::updateEstimatedBlockWeight (LoopBlock &amp; LoopBB, uint32&#95;t BBWeight, <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; &gt; &amp; BlockWorkList, <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; LoopBlock &gt; &amp; LoopWorkList)</>}>
If <code>LoopBB</code> has no estimated weight then set it to <code>BBWeight</code> and return true.

Otherwise <code>BB&#39;s</code> weight remains unchanged and false is returned. In addition all blocks/loops that might need their weight to be re-estimated are put into BlockWorkList/LoopWorkList.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h/#l00396">396</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp/#l00693">693</a> of file <a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp">BranchProbabilityInfo.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Attributes

### EstimatedBlockWeight {#a297bbfee1fbb7a2b23a0a7093b1882c3}

<MemberDefinition
  prototype={<>SmallDenseMap&lt;const BasicBlock &#42;, uint32&#95;t&gt; llvm::BranchProbabilityInfo::EstimatedBlockWeight</>}>
Keeps mapping of a basic block to its estimated weight.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h/#l00340">340</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a>.
</MemberDefinition>

### EstimatedLoopWeight {#a707afcbd637b0c9d886a3978aec6b719}

<MemberDefinition
  prototype={<>SmallDenseMap&lt;LoopData, uint32&#95;t&gt; llvm::BranchProbabilityInfo::EstimatedLoopWeight</>}>
Keeps mapping of a loop to estimated weight to enter the loop.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h/#l00343">343</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a>.
</MemberDefinition>

### Handles {#a0c4ccdbd0181c89d5ac411263724fb8f}

<MemberDefinition
  prototype={<>DenseSet&lt;BasicBlockCallbackVH, DenseMapInfo&lt;Value&#42;&gt; &gt; llvm::BranchProbabilityInfo::Handles</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h/#l00323">323</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a>.
</MemberDefinition>

### LastF {#abb5c13da8fc36f4d9d4ab1fe9d1a0c56}

<MemberDefinition
  prototype={<>const Function&#42; llvm::BranchProbabilityInfo::LastF = nullptr</>}>
Track the last function we run over for printing.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h/#l00332">332</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a>.
</MemberDefinition>

### LI {#a23300e04a69aae997531ae840c7d7fa3}

<MemberDefinition
  prototype={<>const LoopInfo&#42; llvm::BranchProbabilityInfo::LI = nullptr</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h/#l00334">334</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a>.
</MemberDefinition>

### Probs {#ada0c2cfcd81dc805fe460b627a1898ac}

<MemberDefinition
  prototype={<>DenseMap&lt;Edge, BranchProbability&gt; llvm::BranchProbabilityInfo::Probs</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h/#l00329">329</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a>.
</MemberDefinition>

### SccI {#afe8c96b0c73d9ee35da359a7e09f5939}

<MemberDefinition
  prototype={<>std::unique&#95;ptr&lt;const SccInfo&gt; llvm::BranchProbabilityInfo::SccI</>}>
Keeps information about all SCCs in a function.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h/#l00337">337</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Static Functions

### getBranchProbStackProtector() {#a4e4a47209688ad8c4359d4bf0f020f14}

<MemberDefinition
  prototype="static BranchProbability llvm::BranchProbabilityInfo::getBranchProbStackProtector (bool IsLikely)"
  labels = {["inline", "static"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h/#l00201">201</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following files:

<ul>
<li><a href="/docs/api/files/include/include/llvm/include/llvm/analysis/branchprobabilityinfo-h">BranchProbabilityInfo.h</a></li>
<li><a href="/docs/api/files/lib/lib/analysis/branchprobabilityinfo-cpp">BranchProbabilityInfo.cpp</a></li>
</ul>

</DoxygenPage>
