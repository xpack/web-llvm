---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/llvm/giselcseinfo
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `GISelCSEInfo` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>

The CSE Analysis object. <a href="#details">More...</a>

## Declaration

<CodeBlock>class llvm::GISelCSEInfo</CodeBlock>

## Included Headers

<IncludesList>
<IncludesListItem
  filePath="llvm/CodeGen/GlobalISel/CSEInfo.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h"
  isLocal="true" />
</IncludesList>

## Base class

<MembersIndex>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/giselchangeobserver">GISelChangeObserver</a></>}>
Abstract class that contains various methods for clients to notify about changes. <a href="/docs/api/classes/llvm/giselchangeobserver/#details">More...</a>
</MembersIndexItem>

</MembersIndex>

## Friends Index

<MembersIndex>

<MembersIndexItem
  type="class"
  name={<><a href="#a626e1896d42e6f0bc24b7208503f8571">CSEMIRBuilder</a></>}>
</MembersIndexItem>

</MembersIndex>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#abdc620832ed68dfd3d05000c4144a891">GISelCSEInfo</a> ()=default</>}>
</MembersIndexItem>

</MembersIndex>

## Public Destructor Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a734b272edaf766bfe4167a677da53931">~GISelCSEInfo</a> ()</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="void"
  name={<><a href="#a1eb94135a67a5d61fd0c52b262e4005e">analyze</a> (MachineFunction &amp;MF)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a3111cc17dae4a9e8b1efd6b645424f6e">changedInstr</a> (MachineInstr &amp;MI) override</>}>
This instruction was mutated in some way. <a href="#a3111cc17dae4a9e8b1efd6b645424f6e">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a1ded2e81e09210d7a9185169a5dfad4f">changingInstr</a> (MachineInstr &amp;MI) override</>}>
This instruction is about to be mutated in some way. <a href="#a1ded2e81e09210d7a9185169a5dfad4f">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a77170a2d1d8f8361f887f4c8c52fa35d">countOpcodeHit</a> (unsigned Opc)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#ad7f4f979369e2c3e8745eabefc212659">createdInstr</a> (MachineInstr &amp;MI) override</>}>
An instruction has been created and inserted into the function. <a href="#ad7f4f979369e2c3e8745eabefc212659">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a7412d02074ea50f6ea4fb768c637a18f">erasingInstr</a> (MachineInstr &amp;MI) override</>}>
An instruction is about to be erased. <a href="#a7412d02074ea50f6ea4fb768c637a18f">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a8271c4e5b67d4dbb8fac15cef11df896">handleRecordedInst</a> (MachineInstr &#42;MI)</>}>
<a href="/docs/api/classes/llvm/use">Use</a> this callback to inform CSE about a newly fully created instruction. <a href="#a8271c4e5b67d4dbb8fac15cef11df896">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a82035f512493cfa0f29a952e5b774c69">handleRecordedInsts</a> ()</>}>
<a href="/docs/api/classes/llvm/use">Use</a> this callback to insert all the recorded instructions. <a href="#a82035f512493cfa0f29a952e5b774c69">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a8e8e16efa8d6ea664212d5d10d4a2141">handleRemoveInst</a> (MachineInstr &#42;MI)</>}>
Remove this inst from the CSE map. <a href="#a8e8e16efa8d6ea664212d5d10d4a2141">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#ad618ee9072d3c262117d573f41b18dc8">print</a> ()</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a3ae9bbed1860fe648429e6a4901b929d">recordNewInstruction</a> (MachineInstr &#42;MI)</>}>
Records a newly created inst in a list and lazily insert it to the CSEMap. <a href="#a3ae9bbed1860fe648429e6a4901b929d">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#ac0cb5624af80191b49dcffbb3c60964f">releaseMemory</a> ()</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a814471389ba2078b51bc925e683c7e9b">setCSEConfig</a> (std::unique&#95;ptr&lt; CSEConfigBase &gt; Opt)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a706a1329b07268694e4bbd2a8090f804">setMF</a> (MachineFunction &amp;MF)</>}>
-----— <a href="/docs/api/classes/llvm/giselcseinfo">GISelCSEInfo</a> ----------—// <a href="#a706a1329b07268694e4bbd2a8090f804">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a000c942e96138f5dcb2dd87b0c9d07d0">shouldCSE</a> (unsigned Opc) const</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/error">Error</a></>}
  name={<><a href="#ad59eed9a40a4f5cca48396538dcb9b13">verify</a> ()</>}>
</MembersIndexItem>

</MembersIndex>

## Private Member Functions Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &#42;</>}
  name={<><a href="#a0a1ca2847b517b482959b94548c3de62">getMachineInstrIfExists</a> (FoldingSetNodeID &amp;ID, MachineBasicBlock &#42;MBB, void &#42;&amp;InsertPos)</>}>
Get the MachineInstr(Unique) if it exists already in the CSEMap and the same <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a>. <a href="#a0a1ca2847b517b482959b94548c3de62">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/uniquemachineinstr">UniqueMachineInstr</a> &#42;</>}
  name={<><a href="#a75df2b1a62d07b26f810d26bb70e6e75">getNodeIfExists</a> (FoldingSetNodeID &amp;ID, MachineBasicBlock &#42;MBB, void &#42;&amp;InsertPos)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/uniquemachineinstr">UniqueMachineInstr</a> &#42;</>}
  name={<><a href="#aaad4c347d503d423d480a2f239ee2349">getUniqueInstrForMI</a> (const MachineInstr &#42;MI)</>}>
Allocate and construct a new <a href="/docs/api/classes/llvm/uniquemachineinstr">UniqueMachineInstr</a> for MI and return. <a href="#aaad4c347d503d423d480a2f239ee2349">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a7ef29dde19f2e76691928b9e021d56bf">insertInstr</a> (MachineInstr &#42;MI, void &#42;InsertPos=nullptr)</>}>
<a href="/docs/api/classes/llvm/use">Use</a> this method to allocate a new <a href="/docs/api/classes/llvm/uniquemachineinstr">UniqueMachineInstr</a> for MI and insert it into the CSEMap. <a href="#a7ef29dde19f2e76691928b9e021d56bf">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a0135f59ffb4b9a4bbf839737af1d9793">insertNode</a> (UniqueMachineInstr &#42;UMI, void &#42;InsertPos=nullptr)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a12376c2ae9d523a1d60a7861a159e97d">invalidateUniqueMachineInstr</a> (UniqueMachineInstr &#42;UMI)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#ac2fe36216800e462c40500606d0bc0fb">isUniqueMachineInstValid</a> (const UniqueMachineInstr &amp;UMI) const</>}>
</MembersIndexItem>

</MembersIndex>

## Private Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/foldingset">FoldingSet</a>&lt; <a href="/docs/api/classes/llvm/uniquemachineinstr">UniqueMachineInstr</a> &gt;</>}
  name={<><a href="#a7e5d39a8161f996d3ccdb16191709fcb">CSEMap</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::unique&#95;ptr&lt; <a href="/docs/api/classes/llvm/cseconfigbase">CSEConfigBase</a> &gt;</>}
  name={<><a href="#a3c9f98337b44666b6640b990691664a2">CSEOpt</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a1085be259874e8348f88e2e6af99ef93">HandlingRecordedInstrs</a> = false</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/densemap">DenseMap</a>&lt; <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &#42;, <a href="/docs/api/classes/llvm/uniquemachineinstr">UniqueMachineInstr</a> &#42; &gt;</>}
  name={<><a href="#a197e116c23b1c6dfdab337545de6082a">InstrMapping</a></>}>
Keep a cache of UniqueInstrs for each <a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a>. <a href="#a197e116c23b1c6dfdab337545de6082a">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machinefunction">MachineFunction</a> &#42;</>}
  name={<><a href="#a834db85beb86b6d412305d88d3318599">MF</a> = nullptr</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machineregisterinfo">MachineRegisterInfo</a> &#42;</>}
  name={<><a href="#a7e48d4724f6f2d4cc55b7e14895426f5">MRI</a> = nullptr</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/densemap">DenseMap</a>&lt; unsigned, unsigned &gt;</>}
  name={<><a href="#a70465f927243c1b4b84046021fb4b6b0">OpcodeHitTable</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/giselworklist">GISelWorkList</a>&lt; 8 &gt;</>}
  name={<><a href="#a7ee3c9612f9d673f271a0bd21e99c64d">TemporaryInsts</a></>}>
Store instructions that are not fully formed in TemporaryInsts. <a href="#a7ee3c9612f9d673f271a0bd21e99c64d">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/namespaces/llvm/#a8e612822d4ba7bb36c9c79582a567108">BumpPtrAllocator</a></>}
  name={<><a href="#a6c21c9d77974aa52c04f1ffbcf615f0d">UniqueInstrAllocator</a></>}>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

The CSE Analysis object.

This installs itself as a delegate to the <a href="/docs/api/classes/llvm/machinefunction">MachineFunction</a> to track new instructions as well as deletions. It however will not be able to track instruction mutations. In such cases, recordNewInstruction should be called (for eg inside <a href="/docs/api/classes/llvm/machineirbuilder/#a6baa0ad8a95dcded4f50f3bf0d20c94d">MachineIRBuilder::recordInsertion</a>). Also because of how just the instruction can be inserted without adding any operands to the instruction, instructions are uniqued and inserted lazily. CSEInfo should assert when trying to enter an incomplete instruction into the CSEMap. There is Opcode level granularity on which instructions can be CSE&#39;d and for now, only Generic instructions are CSEable.

Definition at line 70 of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h">CSEInfo.h</a>.

<SectionDefinition>

## Friends

### CSEMIRBuilder {#a626e1896d42e6f0bc24b7208503f8571}

<MemberDefinition
  prototype={<>friend class <a href="/docs/api/classes/llvm/csemirbuilder">CSEMIRBuilder</a></>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h/#l00072">72</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h">CSEInfo.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Constructors

### GISelCSEInfo() {#abdc620832ed68dfd3d05000c4144a891}

<MemberDefinition
  prototype="llvm::GISelCSEInfo::GISelCSEInfo ()"
  labels = {["default"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h/#l00118">118</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h">CSEInfo.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Destructor

### ~GISelCSEInfo() {#a734b272edaf766bfe4167a677da53931}

<MemberDefinition
  prototype="GISelCSEInfo::~GISelCSEInfo ()"
  labels = {["virtual"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h/#l00120">120</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h">CSEInfo.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### analyze() {#a1eb94135a67a5d61fd0c52b262e4005e}

<MemberDefinition
  prototype={<>void GISelCSEInfo::analyze (<a href="/docs/api/classes/llvm/machinefunction">MachineFunction</a> &amp; MF)</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h/#l00153">153</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h">CSEInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp/#l00251">251</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp">CSEInfo.cpp</a>.
</MemberDefinition>

### changedInstr() {#a3111cc17dae4a9e8b1efd6b645424f6e}

<MemberDefinition
  prototype={<>void GISelCSEInfo::changedInstr (<a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &amp; MI)</>}
  labels = {["virtual"]}>
This instruction was mutated in some way.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h/#l00163">163</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h">CSEInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp/#l00249">249</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp">CSEInfo.cpp</a>.
</MemberDefinition>

### changingInstr() {#a1ded2e81e09210d7a9185169a5dfad4f}

<MemberDefinition
  prototype={<>void GISelCSEInfo::changingInstr (<a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &amp; MI)</>}
  labels = {["virtual"]}>
This instruction is about to be mutated in some way.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h/#l00162">162</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h">CSEInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp/#l00244">244</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp">CSEInfo.cpp</a>.
</MemberDefinition>

### countOpcodeHit() {#a77170a2d1d8f8361f887f4c8c52fa35d}

<MemberDefinition
  prototype="void GISelCSEInfo::countOpcodeHit (unsigned Opc)">

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h/#l00155">155</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h">CSEInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp/#l00182">182</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp">CSEInfo.cpp</a>.
</MemberDefinition>

### createdInstr() {#ad7f4f979369e2c3e8745eabefc212659}

<MemberDefinition
  prototype={<>void GISelCSEInfo::createdInstr (<a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &amp; MI)</>}
  labels = {["virtual"]}>
An instruction has been created and inserted into the function.

Note that the instruction might not be a fully fledged instruction at this point and won&#39;t be if the <a href="/docs/api/classes/llvm/machinefunction/delegate">MachineFunction::Delegate</a> is calling it. This is because the delegate only sees the construction of the <a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> before operands have been added.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h/#l00161">161</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h">CSEInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp/#l00243">243</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp">CSEInfo.cpp</a>.
</MemberDefinition>

### erasingInstr() {#a7412d02074ea50f6ea4fb768c637a18f}

<MemberDefinition
  prototype={<>void GISelCSEInfo::erasingInstr (<a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &amp; MI)</>}
  labels = {["virtual"]}>
An instruction is about to be erased.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h/#l00160">160</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h">CSEInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp/#l00242">242</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp">CSEInfo.cpp</a>.
</MemberDefinition>

### handleRecordedInst() {#a8271c4e5b67d4dbb8fac15cef11df896}

<MemberDefinition
  prototype={<>void GISelCSEInfo::handleRecordedInst (<a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &#42; MI)</>}>
<a href="/docs/api/classes/llvm/use">Use</a> this callback to inform CSE about a newly fully created instruction.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h/#l00134">134</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h">CSEInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp/#l00196">196</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp">CSEInfo.cpp</a>.
</MemberDefinition>

### handleRecordedInsts() {#a82035f512493cfa0f29a952e5b774c69}

<MemberDefinition
  prototype="void GISelCSEInfo::handleRecordedInsts ()">
<a href="/docs/api/classes/llvm/use">Use</a> this callback to insert all the recorded instructions.

At this point, all of these insts need to be fully constructed and should not be missing any operands.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h/#l00139">139</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h">CSEInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp/#l00226">226</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp">CSEInfo.cpp</a>.
</MemberDefinition>

### handleRemoveInst() {#a8e8e16efa8d6ea664212d5d10d4a2141}

<MemberDefinition
  prototype={<>void GISelCSEInfo::handleRemoveInst (<a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &#42; MI)</>}>
Remove this inst from the CSE map.

If this inst has not been inserted yet, it will be removed from the Tempinsts list if it exists.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h/#l00143">143</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h">CSEInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp/#l00218">218</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp">CSEInfo.cpp</a>.
</MemberDefinition>

### print() {#ad618ee9072d3c262117d573f41b18dc8}

<MemberDefinition
  prototype="void GISelCSEInfo::print ()">

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h/#l00157">157</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h">CSEInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp/#l00322">322</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp">CSEInfo.cpp</a>.
</MemberDefinition>

### recordNewInstruction() {#a3ae9bbed1860fe648429e6a4901b929d}

<MemberDefinition
  prototype={<>void GISelCSEInfo::recordNewInstruction (<a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &#42; MI)</>}>
Records a newly created inst in a list and lazily insert it to the CSEMap.

Sometimes, this method might be called with a partially constructed <a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a>,

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h/#l00131">131</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h">CSEInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp/#l00189">189</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp">CSEInfo.cpp</a>.
</MemberDefinition>

### releaseMemory() {#ac0cb5624af80191b49dcffbb3c60964f}

<MemberDefinition
  prototype="void GISelCSEInfo::releaseMemory ()">

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h/#l00145">145</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h">CSEInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp/#l00263">263</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp">CSEInfo.cpp</a>.
</MemberDefinition>

### setCSEConfig() {#a814471389ba2078b51bc925e683c7e9b}

<MemberDefinition
  prototype={<>void llvm::GISelCSEInfo::setCSEConfig (std::unique&#95;ptr&lt; <a href="/docs/api/classes/llvm/cseconfigbase">CSEConfigBase</a> &gt; Opt)</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h/#l00147">147</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h">CSEInfo.h</a>.
</MemberDefinition>

### setMF() {#a706a1329b07268694e4bbd2a8090f804}

<MemberDefinition
  prototype={<>void GISelCSEInfo::setMF (<a href="/docs/api/classes/llvm/machinefunction">MachineFunction</a> &amp; MF)</>}>
-----— <a href="/docs/api/classes/llvm/giselcseinfo">GISelCSEInfo</a> ----------—//

<hr/>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h/#l00122">122</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h">CSEInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp/#l00101">101</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp">CSEInfo.cpp</a>.
</MemberDefinition>

### shouldCSE() {#a000c942e96138f5dcb2dd87b0c9d07d0}

<MemberDefinition
  prototype="bool GISelCSEInfo::shouldCSE (unsigned Opc) const">

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h/#l00151">151</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h">CSEInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp/#l00237">237</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp">CSEInfo.cpp</a>.
</MemberDefinition>

### verify() {#ad59eed9a40a4f5cca48396538dcb9b13}

<MemberDefinition
  prototype="Error GISelCSEInfo::verify ()">

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h/#l00124">124</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h">CSEInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp/#l00285">285</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp">CSEInfo.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Functions

### getMachineInstrIfExists() {#a0a1ca2847b517b482959b94548c3de62}

<MemberDefinition
  prototype={<>MachineInstr &#42; GISelCSEInfo::getMachineInstrIfExists (<a href="/docs/api/classes/llvm/foldingsetnodeid">FoldingSetNodeID</a> &amp; ID, <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42; MBB, void &#42;&amp; InsertPos)</>}>
Get the MachineInstr(Unique) if it exists already in the CSEMap and the same <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a>.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h/#l00107">107</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h">CSEInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp/#l00171">171</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp">CSEInfo.cpp</a>.
</MemberDefinition>

### getNodeIfExists() {#a75df2b1a62d07b26f810d26bb70e6e75}

<MemberDefinition
  prototype={<>UniqueMachineInstr &#42; GISelCSEInfo::getNodeIfExists (<a href="/docs/api/classes/llvm/foldingsetnodeid">FoldingSetNodeID</a> &amp; ID, <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42; MBB, void &#42;&amp; InsertPos)</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h/#l00097">97</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h">CSEInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp/#l00124">124</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp">CSEInfo.cpp</a>.
</MemberDefinition>

### getUniqueInstrForMI() {#aaad4c347d503d423d480a2f239ee2349}

<MemberDefinition
  prototype={<>UniqueMachineInstr &#42; GISelCSEInfo::getUniqueInstrForMI (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &#42; MI)</>}>
Allocate and construct a new <a href="/docs/api/classes/llvm/uniquemachineinstr">UniqueMachineInstr</a> for MI and return.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h/#l00101">101</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h">CSEInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp/#l00157">157</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp">CSEInfo.cpp</a>.
</MemberDefinition>

### insertInstr() {#a7ef29dde19f2e76691928b9e021d56bf}

<MemberDefinition
  prototype={<>void GISelCSEInfo::insertInstr (<a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &#42; MI, void &#42; InsertPos=nullptr)</>}>
<a href="/docs/api/classes/llvm/use">Use</a> this method to allocate a new <a href="/docs/api/classes/llvm/uniquemachineinstr">UniqueMachineInstr</a> for MI and insert it into the CSEMap.

MI should return true for shouldCSE(MI-&gt;<a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vplanslp-cpp/#a06b4f19004df11b338ccc7e73bf47ab4">getOpcode()</a>)

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h/#l00113">113</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h">CSEInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp/#l00163">163</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp">CSEInfo.cpp</a>.
</MemberDefinition>

### insertNode() {#a0135f59ffb4b9a4bbf839737af1d9793}

<MemberDefinition
  prototype={<>void GISelCSEInfo::insertNode (<a href="/docs/api/classes/llvm/uniquemachineinstr">UniqueMachineInstr</a> &#42; UMI, void &#42; InsertPos=nullptr)</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h/#l00103">103</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h">CSEInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp/#l00140">140</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp">CSEInfo.cpp</a>.
</MemberDefinition>

### invalidateUniqueMachineInstr() {#a12376c2ae9d523a1d60a7861a159e97d}

<MemberDefinition
  prototype={<>void GISelCSEInfo::invalidateUniqueMachineInstr (<a href="/docs/api/classes/llvm/uniquemachineinstr">UniqueMachineInstr</a> &#42; UMI)</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h/#l00095">95</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h">CSEInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp/#l00117">117</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp">CSEInfo.cpp</a>.
</MemberDefinition>

### isUniqueMachineInstValid() {#ac2fe36216800e462c40500606d0bc0fb}

<MemberDefinition
  prototype={<>bool GISelCSEInfo::isUniqueMachineInstValid (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/uniquemachineinstr">UniqueMachineInstr</a> &amp; UMI) const</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h/#l00093">93</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h">CSEInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp/#l00108">108</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp">CSEInfo.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Attributes

### CSEMap {#a7e5d39a8161f996d3ccdb16191709fcb}

<MemberDefinition
  prototype={<>FoldingSet&lt;UniqueMachineInstr&gt; llvm::GISelCSEInfo::CSEMap</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h/#l00075">75</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h">CSEInfo.h</a>.
</MemberDefinition>

### CSEOpt {#a3c9f98337b44666b6640b990691664a2}

<MemberDefinition
  prototype={<>std::unique&#95;ptr&lt;CSEConfigBase&gt; llvm::GISelCSEInfo::CSEOpt</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h/#l00078">78</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h">CSEInfo.h</a>.
</MemberDefinition>

### HandlingRecordedInstrs {#a1085be259874e8348f88e2e6af99ef93}

<MemberDefinition
  prototype="bool llvm::GISelCSEInfo::HandlingRecordedInstrs = false">

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h/#l00115">115</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h">CSEInfo.h</a>.
</MemberDefinition>

### InstrMapping {#a197e116c23b1c6dfdab337545de6082a}

<MemberDefinition
  prototype={<>DenseMap&lt;const MachineInstr &#42;, UniqueMachineInstr &#42;&gt; llvm::GISelCSEInfo::InstrMapping</>}>
Keep a cache of UniqueInstrs for each <a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a>.

In GISel, often instructions are mutated (while their <a href="/docs/api/namespaces/llvm/callingconv/#abdf8cf606905c10634e831390981b0ed">ID</a> has completely changed). Whenever mutation happens, invalidate the <a href="/docs/api/classes/llvm/uniquemachineinstr">UniqueMachineInstr</a> for the <a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h/#l00083">83</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h">CSEInfo.h</a>.
</MemberDefinition>

### MF {#a834db85beb86b6d412305d88d3318599}

<MemberDefinition
  prototype={<>MachineFunction&#42; llvm::GISelCSEInfo::MF = nullptr</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h/#l00077">77</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h">CSEInfo.h</a>.
</MemberDefinition>

### MRI {#a7e48d4724f6f2d4cc55b7e14895426f5}

<MemberDefinition
  prototype={<>MachineRegisterInfo&#42; llvm::GISelCSEInfo::MRI = nullptr</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h/#l00076">76</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h">CSEInfo.h</a>.
</MemberDefinition>

### OpcodeHitTable {#a70465f927243c1b4b84046021fb4b6b0}

<MemberDefinition
  prototype={<>DenseMap&lt;unsigned, unsigned&gt; llvm::GISelCSEInfo::OpcodeHitTable</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h/#l00091">91</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h">CSEInfo.h</a>.
</MemberDefinition>

### TemporaryInsts {#a7ee3c9612f9d673f271a0bd21e99c64d}

<MemberDefinition
  prototype={<>GISelWorkList&lt;8&gt; llvm::GISelCSEInfo::TemporaryInsts</>}>
Store instructions that are not fully formed in TemporaryInsts.

Also because CSE insertion happens lazily, we can remove insts from this list and avoid inserting and then removing from the CSEMap.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h/#l00088">88</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h">CSEInfo.h</a>.
</MemberDefinition>

### UniqueInstrAllocator {#a6c21c9d77974aa52c04f1ffbcf615f0d}

<MemberDefinition
  prototype="BumpPtrAllocator llvm::GISelCSEInfo::UniqueInstrAllocator">

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h/#l00074">74</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h">CSEInfo.h</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following files:

<ul>
<li><a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/cseinfo-h">CSEInfo.h</a></li>
<li><a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp">CSEInfo.cpp</a></li>
</ul>

</DoxygenPage>
