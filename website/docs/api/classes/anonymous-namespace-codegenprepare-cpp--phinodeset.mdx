---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/anonymous-namespace-codegenprepare-cpp-/phinodeset
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'
import SectionUser from '@xpack/docusaurus-plugin-doxygen/components/SectionUser'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `PhiNodeSet` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>

Keeps a set of PHINodes. <a href="#details">More...</a>

## Declaration

<CodeBlock>class anonymous_namespace{CodeGenPrepare.cpp}::PhiNodeSet</CodeBlock>

## Private Member Typedefs Index

<MembersIndex>

<MembersIndexItem
  type="using"
  name={<><a href="#a07987d7694b6c29289227cdb912ab60f">iterator</a> = <a href="/docs/api/classes/anonymous-namespace-codegenprepare-cpp-/phinodesetiterator">PhiNodeSetIterator</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type="using"
  name={<><a href="#abd9e223554f0a66ee5cbf4217d83d080">MapType</a> = <a href="/docs/api/classes/llvm/smalldensemap">SmallDenseMap</a>&lt; <a href="/docs/api/classes/llvm/phinode">PHINode</a> &#42;, size&#95;t, 32 &gt;</>}>
</MembersIndexItem>

</MembersIndex>

## Friends Index

<MembersIndex>

<MembersIndexItem
  type="class"
  name={<><a href="#aed9bff0cb7c4853f18d99ca1cc893a6a">PhiNodeSetIterator</a></>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/anonymous-namespace-codegenprepare-cpp-/phinodesetiterator">iterator</a></>}
  name={<><a href="#a6f13e5c0f27b4c9cfc9cf8b5cc566a8d">begin</a> ()</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#ab2d3905e7ebf372e3a39250a5996352b">clear</a> ()</>}>
Removes all elements and clears the collection. <a href="#ab2d3905e7ebf372e3a39250a5996352b">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>size&#95;t</>}
  name={<><a href="#aeea2f32da818130992720bbc84ad2dd8">count</a> (PHINode &#42;Ptr) const</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/anonymous-namespace-codegenprepare-cpp-/phinodesetiterator">iterator</a></>}
  name={<><a href="#a6aec8829d91ec29a4e5cbeb6245ed043">end</a> ()</>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a3111b51f006f1833e4fecfeef0318afb">erase</a> (PHINode &#42;Ptr)</>}>
Removes the element from the collection. <a href="#a3111b51f006f1833e4fecfeef0318afb">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a43f3dcfddac1a12f607ebf72f1a8d0e1">insert</a> (PHINode &#42;Ptr)</>}>
Inserts a new element to the collection. <a href="#a43f3dcfddac1a12f607ebf72f1a8d0e1">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>size&#95;t</>}
  name={<><a href="#a07c214df8becbb8a7dda21ce1edf723e">size</a> () const</>}>
Returns the number of elements in the collection. <a href="#a07c214df8becbb8a7dda21ce1edf723e">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="void"
  name={<><a href="#a3d7401565a839f4f369a6dfd5d61805f">SkipRemovedElements</a> (size&#95;t &amp;CurrentIndex)</>}>
Updates the CurrentIndex so that it will point to a valid element. <a href="#a3d7401565a839f4f369a6dfd5d61805f">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<>size&#95;t</>}
  name={<><a href="#a50cea251c4eb9e0a034ec219f19c008c">FirstValidElement</a> = 0</>}>
Points to the first valid (not deleted) element when the set is not empty and the value is not zero. <a href="#a50cea251c4eb9e0a034ec219f19c008c">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/smallvector">SmallVector</a>&lt; <a href="/docs/api/classes/llvm/phinode">PHINode</a> &#42;, 32 &gt;</>}
  name={<><a href="#ac15be7ba0d92fa17fae0129638b64ca4">NodeList</a></>}>
Keeps the elements in the order of their insertion in the underlying vector. <a href="#ac15be7ba0d92fa17fae0129638b64ca4">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/smalldensemap">MapType</a></>}
  name={<><a href="#ab6e93637d15f3374136fda98f6b0f1fc">NodeMap</a></>}>
Keeps the elements in the underlying set implementation. <a href="#ab6e93637d15f3374136fda98f6b0f1fc">More...</a>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

Keeps a set of PHINodes.

This is a minimal set implementation for a specific use case: It is very fast when there are very few elements, but also provides good performance when there are many. It is similar to <a href="/docs/api/classes/llvm/smallptrset">SmallPtrSet</a>, but also provides iteration by insertion order, which is deterministic and stable across runs. It is also similar to <a href="/docs/api/classes/llvm/smallsetvector">SmallSetVector</a>, but provides removing elements in O(1) time. This is achieved by not actually removing the element from the underlying vector, so comes at the cost of using more memory, but that is fine, since PhiNodeSets are used as short lived objects.

Definition at line 3870 of file <a href="/docs/api/files/lib/lib/codegen/codegenprepare-cpp">CodeGenPrepare.cpp</a>.

<SectionDefinition>

## Private Member Typedefs

### iterator {#a07987d7694b6c29289227cdb912ab60f}

<MemberDefinition
  prototype={<>using anonymous&#95;namespace&#123;CodeGenPrepare.cpp&#125;::PhiNodeSet::iterator =  PhiNodeSetIterator</>}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/codegenprepare-cpp/#l03874">3874</a> of file <a href="/docs/api/files/lib/lib/codegen/codegenprepare-cpp">CodeGenPrepare.cpp</a>.
</MemberDefinition>

### MapType {#abd9e223554f0a66ee5cbf4217d83d080}

<MemberDefinition
  prototype={<>using anonymous&#95;namespace&#123;CodeGenPrepare.cpp&#125;::PhiNodeSet::MapType =  SmallDenseMap&lt;PHINode &#42;, size&#95;t, 32&gt;</>}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/codegenprepare-cpp/#l03873">3873</a> of file <a href="/docs/api/files/lib/lib/codegen/codegenprepare-cpp">CodeGenPrepare.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Friends

### PhiNodeSetIterator {#aed9bff0cb7c4853f18d99ca1cc893a6a}

<MemberDefinition
  prototype={<>friend class <a href="/docs/api/classes/anonymous-namespace-codegenprepare-cpp-/phinodesetiterator">PhiNodeSetIterator</a></>}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/codegenprepare-cpp/#l03871">3871</a> of file <a href="/docs/api/files/lib/lib/codegen/codegenprepare-cpp">CodeGenPrepare.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### begin() {#a6f13e5c0f27b4c9cfc9cf8b5cc566a8d}

<MemberDefinition
  prototype={<>iterator anonymous&#95;namespace&#123;CodeGenPrepare.cpp&#125;::PhiNodeSet::begin ()</>}
  labels = {["inline"]}>

<SectionUser title="Returns">
an iterator that will iterate the elements in the order of insertion.
</SectionUser>

Definition at line <a href="/docs/api/files/lib/lib/codegen/codegenprepare-cpp/#l03923">3923</a> of file <a href="/docs/api/files/lib/lib/codegen/codegenprepare-cpp">CodeGenPrepare.cpp</a>.
</MemberDefinition>

### clear() {#ab2d3905e7ebf372e3a39250a5996352b}

<MemberDefinition
  prototype={<>void anonymous&#95;namespace&#123;CodeGenPrepare.cpp&#125;::PhiNodeSet::clear ()</>}
  labels = {["inline"]}>
Removes all elements and clears the collection.

Definition at line <a href="/docs/api/files/lib/lib/codegen/codegenprepare-cpp/#l03915">3915</a> of file <a href="/docs/api/files/lib/lib/codegen/codegenprepare-cpp">CodeGenPrepare.cpp</a>.
</MemberDefinition>

### count() {#aeea2f32da818130992720bbc84ad2dd8}

<MemberDefinition
  prototype={<>size&#95;t anonymous&#95;namespace&#123;CodeGenPrepare.cpp&#125;::PhiNodeSet::count (<a href="/docs/api/classes/llvm/phinode">PHINode</a> &#42; Ptr) const</>}
  labels = {["inline"]}>

<SectionUser title="Returns">
1 if the given element is in the collection, and 0 if otherwise.
</SectionUser>

Definition at line <a href="/docs/api/files/lib/lib/codegen/codegenprepare-cpp/#l03936">3936</a> of file <a href="/docs/api/files/lib/lib/codegen/codegenprepare-cpp">CodeGenPrepare.cpp</a>.
</MemberDefinition>

### end() {#a6aec8829d91ec29a4e5cbeb6245ed043}

<MemberDefinition
  prototype={<>iterator anonymous&#95;namespace&#123;CodeGenPrepare.cpp&#125;::PhiNodeSet::end ()</>}
  labels = {["inline"]}>

<SectionUser title="Returns">
an iterator that points to the end of the collection.
</SectionUser>

Definition at line <a href="/docs/api/files/lib/lib/codegen/codegenprepare-cpp/#l03930">3930</a> of file <a href="/docs/api/files/lib/lib/codegen/codegenprepare-cpp">CodeGenPrepare.cpp</a>.
</MemberDefinition>

### erase() {#a3111b51f006f1833e4fecfeef0318afb}

<MemberDefinition
  prototype={<>bool anonymous&#95;namespace&#123;CodeGenPrepare.cpp&#125;::PhiNodeSet::erase (<a href="/docs/api/classes/llvm/phinode">PHINode</a> &#42; Ptr)</>}
  labels = {["inline"]}>
Removes the element from the collection.

<SectionUser title="Returns">
whether the element is actually removed, i.e. was in the collection before the operation.
</SectionUser>

Definition at line <a href="/docs/api/files/lib/lib/codegen/codegenprepare-cpp/#l03906">3906</a> of file <a href="/docs/api/files/lib/lib/codegen/codegenprepare-cpp">CodeGenPrepare.cpp</a>.
</MemberDefinition>

### insert() {#a43f3dcfddac1a12f607ebf72f1a8d0e1}

<MemberDefinition
  prototype={<>bool anonymous&#95;namespace&#123;CodeGenPrepare.cpp&#125;::PhiNodeSet::insert (<a href="/docs/api/classes/llvm/phinode">PHINode</a> &#42; Ptr)</>}
  labels = {["inline"]}>
Inserts a new element to the collection.

<SectionUser title="Returns">
true if the element is actually added, i.e. was not in the collection before the operation.
</SectionUser>

Definition at line <a href="/docs/api/files/lib/lib/codegen/codegenprepare-cpp/#l03895">3895</a> of file <a href="/docs/api/files/lib/lib/codegen/codegenprepare-cpp">CodeGenPrepare.cpp</a>.
</MemberDefinition>

### size() {#a07c214df8becbb8a7dda21ce1edf723e}

<MemberDefinition
  prototype={<>size&#95;t anonymous&#95;namespace&#123;CodeGenPrepare.cpp&#125;::PhiNodeSet::size () const</>}
  labels = {["inline"]}>
Returns the number of elements in the collection.

Definition at line <a href="/docs/api/files/lib/lib/codegen/codegenprepare-cpp/#l03933">3933</a> of file <a href="/docs/api/files/lib/lib/codegen/codegenprepare-cpp">CodeGenPrepare.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Functions

### SkipRemovedElements() {#a3d7401565a839f4f369a6dfd5d61805f}

<MemberDefinition
  prototype={<>void anonymous&#95;namespace&#123;CodeGenPrepare.cpp&#125;::PhiNodeSet::SkipRemovedElements (size&#95;t &amp; CurrentIndex)</>}
  labels = {["inline"]}>
Updates the CurrentIndex so that it will point to a valid element.

If the element of <a href="/docs/api/structs/nodelist">NodeList</a> at CurrentIndex is valid, it does not change it. If there are no more valid elements, it updates CurrentIndex to point to the end of the <a href="/docs/api/structs/nodelist">NodeList</a>.

Definition at line <a href="/docs/api/files/lib/lib/codegen/codegenprepare-cpp/#l03944">3944</a> of file <a href="/docs/api/files/lib/lib/codegen/codegenprepare-cpp">CodeGenPrepare.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Attributes

### FirstValidElement {#a50cea251c4eb9e0a034ec219f19c008c}

<MemberDefinition
  prototype={<>size&#95;t anonymous&#95;namespace&#123;CodeGenPrepare.cpp&#125;::PhiNodeSet::FirstValidElement = 0</>}>
Points to the first valid (not deleted) element when the set is not empty and the value is not zero.

Equals to the size of the underlying vector when the set is empty. When the value is 0, as in the beginning, the first element may or may not be valid.

Definition at line <a href="/docs/api/files/lib/lib/codegen/codegenprepare-cpp/#l03889">3889</a> of file <a href="/docs/api/files/lib/lib/codegen/codegenprepare-cpp">CodeGenPrepare.cpp</a>.
</MemberDefinition>

### NodeList {#ac15be7ba0d92fa17fae0129638b64ca4}

<MemberDefinition
  prototype={<>SmallVector&lt;PHINode &#42;, 32&gt; anonymous&#95;namespace&#123;CodeGenPrepare.cpp&#125;::PhiNodeSet::NodeList</>}>
Keeps the elements in the order of their insertion in the underlying vector.

To achieve constant time removal, it never deletes any element.

Definition at line <a href="/docs/api/files/lib/lib/codegen/codegenprepare-cpp/#l03878">3878</a> of file <a href="/docs/api/files/lib/lib/codegen/codegenprepare-cpp">CodeGenPrepare.cpp</a>.
</MemberDefinition>

### NodeMap {#ab6e93637d15f3374136fda98f6b0f1fc}

<MemberDefinition
  prototype={<>MapType anonymous&#95;namespace&#123;CodeGenPrepare.cpp&#125;::PhiNodeSet::NodeMap</>}>
Keeps the elements in the underlying set implementation.

This (and not the <a href="/docs/api/structs/nodelist">NodeList</a> defined above) is the source of truth on whether an element is actually in the collection.

Definition at line <a href="/docs/api/files/lib/lib/codegen/codegenprepare-cpp/#l03883">3883</a> of file <a href="/docs/api/files/lib/lib/codegen/codegenprepare-cpp">CodeGenPrepare.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following file:

<ul>
<li><a href="/docs/api/files/lib/lib/codegen/codegenprepare-cpp">CodeGenPrepare.cpp</a></li>
</ul>

</DoxygenPage>
