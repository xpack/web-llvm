---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/anonymous-namespace-livedebugvariables-cpp-/uservalue
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import ParametersList from '@xpack/docusaurus-plugin-doxygen/components/ParametersList'
import ParametersListItem from '@xpack/docusaurus-plugin-doxygen/components/ParametersListItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `UserValue` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>

A user value is a part of a debug info user variable. <a href="#details">More...</a>

## Declaration

<CodeBlock>class anonymous_namespace{LiveDebugVariables.cpp}::UserValue</CodeBlock>

## Private Member Typedefs Index

<MembersIndex>

<MembersIndexItem
  type="using"
  name={<><a href="#a88fbb7df241556ac3a605cf5767b62ea">LDVImpl</a> = <a href="/docs/api/classes/llvm/livedebugvariables/ldvimpl">LiveDebugVariables::LDVImpl</a></>}>
</MembersIndexItem>

</MembersIndex>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a348e6af0fa6606819a6c8ea7ec6b0583">UserValue</a> (const DILocalVariable &#42;var, std::optional&lt; DIExpression::FragmentInfo &gt; Fragment, DebugLoc L, LocMap::Allocator &amp;alloc)</>}>
Create a new <a href="/docs/api/classes/anonymous-namespace-livedebugvariables-cpp-/uservalue">UserValue</a>. <a href="#a348e6af0fa6606819a6c8ea7ec6b0583">More...</a>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="void"
  name={<><a href="#a2f56e0c8e37796630334366257d1b7e3">addDef</a> (SlotIndex Idx, ArrayRef&lt; MachineOperand &gt; LocMOs, bool IsIndirect, bool IsList, const DIExpression &amp;Expr)</>}>
Add a definition point to this user value. <a href="#a2f56e0c8e37796630334366257d1b7e3">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#ac0a0c1bb8dc69992e326ead7f5faf286">addDefsFromCopies</a> (DbgVariableValue DbgValue, SmallVectorImpl&lt; std::pair&lt; unsigned, LiveInterval &#42; &gt; &gt; &amp;LocIntervals, SlotIndex KilledAt, SmallVectorImpl&lt; std::pair&lt; SlotIndex, DbgVariableValue &gt; &gt; &amp;NewDefs, MachineRegisterInfo &amp;MRI, LiveIntervals &amp;LIS)</>}>
The value in LI may be copies to other registers. <a href="#ac0a0c1bb8dc69992e326ead7f5faf286">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a5addc8b01ca0cce0a572d5fe3ef86654">computeIntervals</a> (MachineRegisterInfo &amp;MRI, const TargetRegisterInfo &amp;TRI, LiveIntervals &amp;LIS, LexicalScopes &amp;LS)</>}>
Compute the live intervals of all locations after collecting all their def points. <a href="#a5addc8b01ca0cce0a572d5fe3ef86654">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a38c76eebc11caaa9225a4bfe146585a6">emitDebugValues</a> (VirtRegMap &#42;VRM, LiveIntervals &amp;LIS, const TargetInstrInfo &amp;TII, const TargetRegisterInfo &amp;TRI, const SpillOffsetMap &amp;SpillOffsets, BlockSkipInstsMap &amp;BBSkipInstsMap)</>}>
Recreate DBG&#95;VALUE instruction from data structures. <a href="#a38c76eebc11caaa9225a4bfe146585a6">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a1066c542d3ccd99d3e740ad91aed49de">extendDef</a> (SlotIndex Idx, DbgVariableValue DbgValue, SmallDenseMap&lt; unsigned, std::pair&lt; LiveRange &#42;, const VNInfo &#42; &gt; &gt; &amp;LiveIntervalInfo, std::optional&lt; std::pair&lt; SlotIndex, SmallVector&lt; unsigned &gt; &gt; &gt; &amp;Kills, LiveIntervals &amp;LIS)</>}>
Extend the current definition as far as possible down. <a href="#a1066c542d3ccd99d3e740ad91aed49de">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/debugloc">DebugLoc</a> &amp;</>}
  name={<><a href="#a958d9ec8da6a69622eb3c408d14499ad">getDebugLoc</a> ()</>}>
Return <a href="/docs/api/classes/llvm/debugloc">DebugLoc</a> of this <a href="/docs/api/classes/anonymous-namespace-livedebugvariables-cpp-/uservalue">UserValue</a>. <a href="#a958d9ec8da6a69622eb3c408d14499ad">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/anonymous-namespace-livedebugvariables-cpp-/uservalue">UserValue</a> &#42;</>}
  name={<><a href="#a2bb602817973db88f42b1030aa3dae82">getLeader</a> ()</>}>
Get the leader of this value&#39;s equivalence class. <a href="#a2bb602817973db88f42b1030aa3dae82">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="unsigned"
  name={<><a href="#acdf9051278b18a64c83cc047a3080de3">getLocationNo</a> (const MachineOperand &amp;LocMO)</>}>
Return the location number that matches <a href="/docs/api/namespaces/llvm/loc">Loc</a>. <a href="#acdf9051278b18a64c83cc047a3080de3">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/anonymous-namespace-livedebugvariables-cpp-/uservalue">UserValue</a> &#42;</>}
  name={<><a href="#ad14c0e3d9177db720bb2545802ec25c6">getNext</a> () const</>}>
Return the next <a href="/docs/api/classes/anonymous-namespace-livedebugvariables-cpp-/uservalue">UserValue</a> in the equivalence class. <a href="#ad14c0e3d9177db720bb2545802ec25c6">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#aad49be349dc20188ea9201eddb54ad75">mapVirtRegs</a> (LDVImpl &#42;LDV)</>}>
Ensure that all virtual register locations are mapped. <a href="#aad49be349dc20188ea9201eddb54ad75">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a7cc6bb18e07abb863469007d3e3be069">print</a> (raw&#95;ostream &amp;, const TargetRegisterInfo &#42;)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a84a602692dd9ff042ba717d1b8f99e61">removeLocationIfUnused</a> (unsigned LocNo)</>}>
Remove (recycle) a location number. <a href="#a84a602692dd9ff042ba717d1b8f99e61">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#aa3921084f5ef700564dcb83801124551">rewriteLocations</a> (VirtRegMap &amp;VRM, const MachineFunction &amp;MF, const TargetInstrInfo &amp;TII, const TargetRegisterInfo &amp;TRI, SpillOffsetMap &amp;SpillOffsets)</>}>
Rewrite virtual register locations according to the provided virtual register map. <a href="#aa3921084f5ef700564dcb83801124551">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a6349ba885032cac28990a282263667d7">splitRegister</a> (Register OldReg, ArrayRef&lt; Register &gt; NewRegs, LiveIntervals &amp;LIS)</>}>
Replace OldReg ranges with NewRegs ranges where NewRegs is live. <a href="#a6349ba885032cac28990a282263667d7">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="void"
  name={<><a href="#ad44baed52cf2f87ea1911a919be4774f">insertDebugValue</a> (MachineBasicBlock &#42;MBB, SlotIndex StartIdx, SlotIndex StopIdx, DbgVariableValue DbgValue, ArrayRef&lt; bool &gt; LocSpills, ArrayRef&lt; unsigned &gt; SpillOffsets, LiveIntervals &amp;LIS, const TargetInstrInfo &amp;TII, const TargetRegisterInfo &amp;TRI, BlockSkipInstsMap &amp;BBSkipInstsMap)</>}>
Insert a DBG&#95;VALUE into MBB at Idx for <a href="/docs/api/classes/livedebugvalues/dbgvalue">DbgValue</a>. <a href="#ad44baed52cf2f87ea1911a919be4774f">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a523e8d14b86d4a45fde2a6aaf79b9ddb">splitLocation</a> (unsigned OldLocNo, ArrayRef&lt; Register &gt; NewRegs, LiveIntervals &amp;LIS)</>}>
Replace OldLocNo ranges with NewRegs ranges where NewRegs is live. <a href="#a523e8d14b86d4a45fde2a6aaf79b9ddb">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/debugloc">DebugLoc</a></>}
  name={<><a href="#a284a2570c36cf9f60c205115365d96c1">dl</a></>}>
The debug location for the variable. <a href="#a284a2570c36cf9f60c205115365d96c1">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> std::optional&lt; <a href="/docs/api/classes/llvm/diexpression/#a2a09e6caba71ab15519f9e55ceb4d10d">DIExpression::FragmentInfo</a> &gt;</>}
  name={<><a href="#af9de295d82dd5205bd3b073edf0a3c40">Fragment</a></>}>
The part of the variable we describe. <a href="#af9de295d82dd5205bd3b073edf0a3c40">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/anonymous-namespace-livedebugvariables-cpp-/uservalue">UserValue</a> &#42;</>}
  name={<><a href="#ac5e11cbe70b13ab9b5eda9195933e28a">leader</a></>}>
Equivalence class leader. <a href="#ac5e11cbe70b13ab9b5eda9195933e28a">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/smallvector">SmallVector</a>&lt; <a href="/docs/api/classes/llvm/machineoperand">MachineOperand</a>, 4 &gt;</>}
  name={<><a href="#a24e26f3340b8e6898c1a5de24e249249">locations</a></>}>
Numbered locations referenced by locmap. <a href="#a24e26f3340b8e6898c1a5de24e249249">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp/#ab23073f2d9db5a8fc798c87b46f1795a">LocMap</a></>}
  name={<><a href="#aa5326b54df6ec6b843283bfb578d8b95">locInts</a></>}>
Map of slot indices where this value is live. <a href="#aa5326b54df6ec6b843283bfb578d8b95">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/anonymous-namespace-livedebugvariables-cpp-/uservalue">UserValue</a> &#42;</>}
  name={<><a href="#af2355759e35f4d68ca2a137d401b468c">next</a> = nullptr</>}>
Next value in equivalence class, or null. <a href="#af2355759e35f4d68ca2a137d401b468c">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/smallset">SmallSet</a>&lt; <a href="/docs/api/classes/llvm/slotindex">SlotIndex</a>, 2 &gt;</>}
  name={<><a href="#a2ff819ac63c9afd57fa6c5de46628eb7">trimmedDefs</a></>}>
Set of interval start indexes that have been trimmed to the lexical scope. <a href="#a2ff819ac63c9afd57fa6c5de46628eb7">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/dilocalvariable">DILocalVariable</a> &#42;</>}
  name={<><a href="#a9d8a8b4539048eb2fffd3a67b02cdbc0">Variable</a></>}>
The debug info variable we are part of. <a href="#a9d8a8b4539048eb2fffd3a67b02cdbc0">More...</a>
</MembersIndexItem>

</MembersIndex>

## Public Static Functions Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/anonymous-namespace-livedebugvariables-cpp-/uservalue">UserValue</a> &#42;</>}
  name={<><a href="#a92af0086d7d75d96d35ccc03ebc66b4d">merge</a> (UserValue &#42;L1, UserValue &#42;L2)</>}>
Merge equivalence classes. <a href="#a92af0086d7d75d96d35ccc03ebc66b4d">More...</a>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

A user value is a part of a debug info user variable.

A DBG&#95;VALUE instruction notes that (a sub-register of) a virtual register holds part of a user variable. The part is identified by a byte offset.

UserValues are grouped into equivalence classes for easier searching. Two user values are related if they are held by the same virtual register. The equivalence class is the transitive closure of that relation.

Definition at line 289 of file <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp">LiveDebugVariables.cpp</a>.

<SectionDefinition>

## Private Member Typedefs

### LDVImpl {#a88fbb7df241556ac3a605cf5767b62ea}

<MemberDefinition
  prototype={<>using anonymous&#95;namespace&#123;LiveDebugVariables.cpp&#125;::UserValue::LDVImpl =  LiveDebugVariables::LDVImpl</>}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp/#l00290">290</a> of file <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp">LiveDebugVariables.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Constructors

### UserValue() {#a348e6af0fa6606819a6c8ea7ec6b0583}

<MemberDefinition
  prototype={<>anonymous&#95;namespace&#123;LiveDebugVariables.cpp&#125;::UserValue::UserValue (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/dilocalvariable">DILocalVariable</a> &#42; var, std::optional&lt; <a href="/docs/api/classes/llvm/diexpression/#a2a09e6caba71ab15519f9e55ceb4d10d">DIExpression::FragmentInfo</a> &gt; Fragment, <a href="/docs/api/classes/llvm/debugloc">DebugLoc</a> L, <a href="/docs/api/classes/llvm/intervalmap/#a6b645fcc5ae44b9a8e2fef275890ae4b">LocMap::Allocator</a> &amp; alloc)</>}
  labels = {["inline"]}>
Create a new <a href="/docs/api/classes/anonymous-namespace-livedebugvariables-cpp-/uservalue">UserValue</a>.

Definition at line <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp/#l00326">326</a> of file <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp">LiveDebugVariables.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### addDef() {#a2f56e0c8e37796630334366257d1b7e3}

<MemberDefinition
  prototype={<>void anonymous&#95;namespace&#123;LiveDebugVariables.cpp&#125;::UserValue::addDef (<a href="/docs/api/classes/llvm/slotindex">SlotIndex</a> Idx, <a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; <a href="/docs/api/classes/llvm/machineoperand">MachineOperand</a> &gt; LocMOs, bool IsIndirect, bool IsList, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/diexpression">DIExpression</a> &amp; Expr)</>}
  labels = {["inline"]}>
Add a definition point to this user value.

Definition at line <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp/#l00418">418</a> of file <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp">LiveDebugVariables.cpp</a>.
</MemberDefinition>

### addDefsFromCopies() {#ac0a0c1bb8dc69992e326ead7f5faf286}

<MemberDefinition
  prototype={<>void UserValue::addDefsFromCopies (<a href="/docs/api/classes/anonymous-namespace-livedebugvariables-cpp-/dbgvariablevalue">DbgVariableValue</a> DbgValue, <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; std::pair&lt; unsigned, <a href="/docs/api/classes/llvm/liveinterval">LiveInterval</a> &#42; &gt; &gt; &amp; LocIntervals, <a href="/docs/api/classes/llvm/slotindex">SlotIndex</a> KilledAt, <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; std::pair&lt; <a href="/docs/api/classes/llvm/slotindex">SlotIndex</a>, <a href="/docs/api/classes/anonymous-namespace-livedebugvariables-cpp-/dbgvariablevalue">DbgVariableValue</a> &gt; &gt; &amp; NewDefs, <a href="/docs/api/classes/llvm/machineregisterinfo">MachineRegisterInfo</a> &amp; MRI, <a href="/docs/api/classes/llvm/liveintervals">LiveIntervals</a> &amp; LIS)</>}>
The value in LI may be copies to other registers.

Determine if any of the copies are available at the kill points, and add defs if possible.


<ParametersList title="Parameters">
<ParametersListItem name="<a href=&quot;/docs/api/classes/livedebugvalues/dbgvalue&quot;>DbgValue</a>">Location number of LI-&gt;reg, and <a href="/docs/api/classes/llvm/diexpression">DIExpression</a>.</ParametersListItem>
<ParametersListItem name="LocIntervals">Scan for copies of the value for each location in the corresponding LiveInterval-&gt;reg.</ParametersListItem>
<ParametersListItem name="KilledAt">The point where the range of <a href="/docs/api/classes/livedebugvalues/dbgvalue">DbgValue</a> could be extended.</ParametersListItem>
<ParametersListItem name="[inout] NewDefs">Append (Idx, <a href="/docs/api/classes/livedebugvalues/dbgvalue">DbgValue</a>) of inserted defs here.</ParametersListItem>
</ParametersList>

Definition at line <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp/#l00464">464</a> of file <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp">LiveDebugVariables.cpp</a>.
</MemberDefinition>

### computeIntervals() {#a5addc8b01ca0cce0a572d5fe3ef86654}

<MemberDefinition
  prototype={<>void UserValue::computeIntervals (<a href="/docs/api/classes/llvm/machineregisterinfo">MachineRegisterInfo</a> &amp; MRI, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/targetregisterinfo">TargetRegisterInfo</a> &amp; TRI, <a href="/docs/api/classes/llvm/liveintervals">LiveIntervals</a> &amp; LIS, <a href="/docs/api/classes/llvm/lexicalscopes">LexicalScopes</a> &amp; LS)</>}>
Compute the live intervals of all locations after collecting all their def points.

Definition at line <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp/#l00473">473</a> of file <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp">LiveDebugVariables.cpp</a>.
</MemberDefinition>

### emitDebugValues() {#a38c76eebc11caaa9225a4bfe146585a6}

<MemberDefinition
  prototype={<>void UserValue::emitDebugValues (<a href="/docs/api/classes/llvm/virtregmap">VirtRegMap</a> &#42; VRM, <a href="/docs/api/classes/llvm/liveintervals">LiveIntervals</a> &amp; LIS, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/targetinstrinfo">TargetInstrInfo</a> &amp; TII, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/targetregisterinfo">TargetRegisterInfo</a> &amp; TRI, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp/#adf31c9fb4f0ad550eeeb977362135cdf">SpillOffsetMap</a> &amp; SpillOffsets, <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp/#ab17bc8e142c2f18a7576ea8276b0d124">BlockSkipInstsMap</a> &amp; BBSkipInstsMap)</>}>
Recreate DBG&#95;VALUE instruction from data structures.

Definition at line <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp/#l00490">490</a> of file <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp">LiveDebugVariables.cpp</a>.
</MemberDefinition>

### extendDef() {#a1066c542d3ccd99d3e740ad91aed49de}

<MemberDefinition
  prototype={<>void UserValue::extendDef (<a href="/docs/api/classes/llvm/slotindex">SlotIndex</a> Idx, <a href="/docs/api/classes/anonymous-namespace-livedebugvariables-cpp-/dbgvariablevalue">DbgVariableValue</a> DbgValue, <a href="/docs/api/classes/llvm/smalldensemap">SmallDenseMap</a>&lt; unsigned, std::pair&lt; <a href="/docs/api/classes/llvm/liverange">LiveRange</a> &#42;, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/vninfo">VNInfo</a> &#42; &gt; &gt; &amp; LiveIntervalInfo, std::optional&lt; std::pair&lt; <a href="/docs/api/classes/llvm/slotindex">SlotIndex</a>, <a href="/docs/api/classes/llvm/smallvector">SmallVector</a>&lt; unsigned &gt; &gt; &gt; &amp; Kills, <a href="/docs/api/classes/llvm/liveintervals">LiveIntervals</a> &amp; LIS)</>}>
Extend the current definition as far as possible down.

Stop when meeting an existing def or when leaving the live range of VNI. End points where VNI is no longer live are added to Kills.

We only propagate DBG&#95;VALUES locally here. <a href="/docs/api/namespaces/livedebugvalues">LiveDebugValues</a> performs a data-flow analysis to propagate them beyond basic block boundaries.


<ParametersList title="Parameters">
<ParametersListItem name="Idx">Starting point for the definition.</ParametersListItem>
<ParametersListItem name="<a href=&quot;/docs/api/classes/livedebugvalues/dbgvalue&quot;>DbgValue</a>">value to propagate.</ParametersListItem>
<ParametersListItem name="LiveIntervalInfo">For each location number key in this map, restricts liveness to where the <a href="/docs/api/classes/llvm/liverange">LiveRange</a> has the value equal to the\\ <a href="/docs/api/classes/llvm/vninfo">VNInfo</a>.</ParametersListItem>
<ParametersListItem name="[out] Kills">Append end points of VNI&#39;s live range to Kills.</ParametersListItem>
<ParametersListItem name="LIS">Live intervals analysis.</ParametersListItem>
</ParametersList>

Definition at line <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp/#l00449">449</a> of file <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp">LiveDebugVariables.cpp</a>.
</MemberDefinition>

### getDebugLoc() {#a958d9ec8da6a69622eb3c408d14499ad}

<MemberDefinition
  prototype={<>const DebugLoc &amp; anonymous&#95;namespace&#123;LiveDebugVariables.cpp&#125;::UserValue::getDebugLoc ()</>}
  labels = {["inline"]}>
Return <a href="/docs/api/classes/llvm/debugloc">DebugLoc</a> of this <a href="/docs/api/classes/anonymous-namespace-livedebugvariables-cpp-/uservalue">UserValue</a>.

Definition at line <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp/#l00497">497</a> of file <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp">LiveDebugVariables.cpp</a>.
</MemberDefinition>

### getLeader() {#a2bb602817973db88f42b1030aa3dae82}

<MemberDefinition
  prototype={<>UserValue &#42; anonymous&#95;namespace&#123;LiveDebugVariables.cpp&#125;::UserValue::getLeader ()</>}
  labels = {["inline"]}>
Get the leader of this value&#39;s equivalence class.

Definition at line <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp/#l00333">333</a> of file <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp">LiveDebugVariables.cpp</a>.
</MemberDefinition>

### getLocationNo() {#acdf9051278b18a64c83cc047a3080de3}

<MemberDefinition
  prototype={<>unsigned anonymous&#95;namespace&#123;LiveDebugVariables.cpp&#125;::UserValue::getLocationNo (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/machineoperand">MachineOperand</a> &amp; LocMO)</>}
  labels = {["inline"]}>
Return the location number that matches <a href="/docs/api/namespaces/llvm/loc">Loc</a>.

For undef values we always return location number UndefLocNo without inserting anything in locations. Since locations is a vector and the location number is the position in the vector and UndefLocNo is ~0, we would need a very big vector to put the value at the right position.

Definition at line <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp/#l00369">369</a> of file <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp">LiveDebugVariables.cpp</a>.
</MemberDefinition>

### getNext() {#ad14c0e3d9177db720bb2545802ec25c6}

<MemberDefinition
  prototype={<>UserValue &#42; anonymous&#95;namespace&#123;LiveDebugVariables.cpp&#125;::UserValue::getNext () const</>}
  labels = {["inline"]}>
Return the next <a href="/docs/api/classes/anonymous-namespace-livedebugvariables-cpp-/uservalue">UserValue</a> in the equivalence class.

Definition at line <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp/#l00341">341</a> of file <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp">LiveDebugVariables.cpp</a>.
</MemberDefinition>

### mapVirtRegs() {#aad49be349dc20188ea9201eddb54ad75}

<MemberDefinition
  prototype={<>void UserValue::mapVirtRegs (<a href="/docs/api/classes/llvm/livedebugvariables/ldvimpl">LDVImpl</a> &#42; LDV)</>}>
Ensure that all virtual register locations are mapped.

Definition at line <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp/#l00415">415</a> of file <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp">LiveDebugVariables.cpp</a>.
</MemberDefinition>

### print() {#a7cc6bb18e07abb863469007d3e3be069}

<MemberDefinition
  prototype={<>void UserValue::print (<a href="/docs/api/classes/llvm/raw-ostream">raw&#95;ostream</a> &amp; OS, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/targetregisterinfo">TargetRegisterInfo</a> &#42; TRI)</>}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp/#l00499">499</a> of file <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp">LiveDebugVariables.cpp</a>.
</MemberDefinition>

### removeLocationIfUnused() {#a84a602692dd9ff042ba717d1b8f99e61}

<MemberDefinition
  prototype={<>void anonymous&#95;namespace&#123;LiveDebugVariables.cpp&#125;::UserValue::removeLocationIfUnused (unsigned LocNo)</>}
  labels = {["inline"]}>
Remove (recycle) a location number.

If <code>LocNo</code> still is used by the locInts nothing is done.

Definition at line <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp/#l00397">397</a> of file <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp">LiveDebugVariables.cpp</a>.
</MemberDefinition>

### rewriteLocations() {#aa3921084f5ef700564dcb83801124551}

<MemberDefinition
  prototype={<>void UserValue::rewriteLocations (<a href="/docs/api/classes/llvm/virtregmap">VirtRegMap</a> &amp; VRM, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/machinefunction">MachineFunction</a> &amp; MF, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/targetinstrinfo">TargetInstrInfo</a> &amp; TII, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/targetregisterinfo">TargetRegisterInfo</a> &amp; TRI, <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp/#adf31c9fb4f0ad550eeeb977362135cdf">SpillOffsetMap</a> &amp; SpillOffsets)</>}>
Rewrite virtual register locations according to the provided virtual register map.

<a href="/docs/api/classes/llvm/record">Record</a> the stack slot offsets for the locations that were spilled.

Definition at line <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp/#l00484">484</a> of file <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp">LiveDebugVariables.cpp</a>.
</MemberDefinition>

### splitRegister() {#a6349ba885032cac28990a282263667d7}

<MemberDefinition
  prototype={<>bool UserValue::splitRegister (<a href="/docs/api/classes/llvm/register">Register</a> OldReg, <a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; <a href="/docs/api/classes/llvm/register">Register</a> &gt; NewRegs, <a href="/docs/api/classes/llvm/liveintervals">LiveIntervals</a> &amp; LIS)</>}>
Replace OldReg ranges with NewRegs ranges where NewRegs is live.

Returns true if any changes were made.

Definition at line <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp/#l00478">478</a> of file <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp">LiveDebugVariables.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Functions

### insertDebugValue() {#ad44baed52cf2f87ea1911a919be4774f}

<MemberDefinition
  prototype={<>void UserValue::insertDebugValue (<a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42; MBB, <a href="/docs/api/classes/llvm/slotindex">SlotIndex</a> StartIdx, <a href="/docs/api/classes/llvm/slotindex">SlotIndex</a> StopIdx, <a href="/docs/api/classes/anonymous-namespace-livedebugvariables-cpp-/dbgvariablevalue">DbgVariableValue</a> DbgValue, <a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; bool &gt; LocSpills, <a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; unsigned &gt; SpillOffsets, <a href="/docs/api/classes/llvm/liveintervals">LiveIntervals</a> &amp; LIS, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/targetinstrinfo">TargetInstrInfo</a> &amp; TII, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/targetregisterinfo">TargetRegisterInfo</a> &amp; TRI, <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp/#ab17bc8e142c2f18a7576ea8276b0d124">BlockSkipInstsMap</a> &amp; BBSkipInstsMap)</>}>
Insert a DBG&#95;VALUE into MBB at Idx for <a href="/docs/api/classes/livedebugvalues/dbgvalue">DbgValue</a>.

Definition at line <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp/#l00311">311</a> of file <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp">LiveDebugVariables.cpp</a>.
</MemberDefinition>

### splitLocation() {#a523e8d14b86d4a45fde2a6aaf79b9ddb}

<MemberDefinition
  prototype={<>bool UserValue::splitLocation (unsigned OldLocNo, <a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; <a href="/docs/api/classes/llvm/register">Register</a> &gt; NewRegs, <a href="/docs/api/classes/llvm/liveintervals">LiveIntervals</a> &amp; LIS)</>}>
Replace OldLocNo ranges with NewRegs ranges where NewRegs is live.

Returns true if any changes were made.

Definition at line <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp/#l00321">321</a> of file <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp">LiveDebugVariables.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Attributes

### dl {#a284a2570c36cf9f60c205115365d96c1}

<MemberDefinition
  prototype={<>DebugLoc anonymous&#95;namespace&#123;LiveDebugVariables.cpp&#125;::UserValue::dl</>}>
The debug location for the variable.

This is used by dwarf writer to find lexical scope.

Definition at line <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp/#l00295">295</a> of file <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp">LiveDebugVariables.cpp</a>.
</MemberDefinition>

### Fragment {#af9de295d82dd5205bd3b073edf0a3c40}

<MemberDefinition
  prototype={<>const std::optional&lt;DIExpression::FragmentInfo&gt; anonymous&#95;namespace&#123;LiveDebugVariables.cpp&#125;::UserValue::Fragment</>}>
The part of the variable we describe.

Definition at line <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp/#l00294">294</a> of file <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp">LiveDebugVariables.cpp</a>.
</MemberDefinition>

### leader {#ac5e11cbe70b13ab9b5eda9195933e28a}

<MemberDefinition
  prototype={<>UserValue&#42; anonymous&#95;namespace&#123;LiveDebugVariables.cpp&#125;::UserValue::leader</>}>
Equivalence class leader.

Definition at line <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp/#l00297">297</a> of file <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp">LiveDebugVariables.cpp</a>.
</MemberDefinition>

### locations {#a24e26f3340b8e6898c1a5de24e249249}

<MemberDefinition
  prototype={<>SmallVector&lt;MachineOperand, 4&gt; anonymous&#95;namespace&#123;LiveDebugVariables.cpp&#125;::UserValue::locations</>}>
Numbered locations referenced by locmap.

Definition at line <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp/#l00301">301</a> of file <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp">LiveDebugVariables.cpp</a>.
</MemberDefinition>

### locInts {#aa5326b54df6ec6b843283bfb578d8b95}

<MemberDefinition
  prototype={<>LocMap anonymous&#95;namespace&#123;LiveDebugVariables.cpp&#125;::UserValue::locInts</>}>
Map of slot indices where this value is live.

Definition at line <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp/#l00304">304</a> of file <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp">LiveDebugVariables.cpp</a>.
</MemberDefinition>

### next {#af2355759e35f4d68ca2a137d401b468c}

<MemberDefinition
  prototype={<>UserValue&#42; anonymous&#95;namespace&#123;LiveDebugVariables.cpp&#125;::UserValue::next = nullptr</>}>
Next value in equivalence class, or null.

Definition at line <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp/#l00298">298</a> of file <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp">LiveDebugVariables.cpp</a>.
</MemberDefinition>

### trimmedDefs {#a2ff819ac63c9afd57fa6c5de46628eb7}

<MemberDefinition
  prototype={<>SmallSet&lt;SlotIndex, 2&gt; anonymous&#95;namespace&#123;LiveDebugVariables.cpp&#125;::UserValue::trimmedDefs</>}>
Set of interval start indexes that have been trimmed to the lexical scope.

Definition at line <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp/#l00308">308</a> of file <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp">LiveDebugVariables.cpp</a>.
</MemberDefinition>

### Variable {#a9d8a8b4539048eb2fffd3a67b02cdbc0}

<MemberDefinition
  prototype={<>const DILocalVariable&#42; anonymous&#95;namespace&#123;LiveDebugVariables.cpp&#125;::UserValue::Variable</>}>
The debug info variable we are part of.

Definition at line <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp/#l00292">292</a> of file <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp">LiveDebugVariables.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Static Functions

### merge() {#a92af0086d7d75d96d35ccc03ebc66b4d}

<MemberDefinition
  prototype={<>static UserValue &#42; anonymous&#95;namespace&#123;LiveDebugVariables.cpp&#125;::UserValue::merge (<a href="/docs/api/classes/anonymous-namespace-livedebugvariables-cpp-/uservalue">UserValue</a> &#42; L1, <a href="/docs/api/classes/anonymous-namespace-livedebugvariables-cpp-/uservalue">UserValue</a> &#42; L2)</>}
  labels = {["inline", "static"]}>
Merge equivalence classes.

Definition at line <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp/#l00344">344</a> of file <a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp">LiveDebugVariables.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following file:

<ul>
<li><a href="/docs/api/files/lib/lib/codegen/livedebugvariables-cpp">LiveDebugVariables.cpp</a></li>
</ul>

</DoxygenPage>
