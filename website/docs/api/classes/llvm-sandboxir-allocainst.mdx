---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/llvm/sandboxir/allocainst
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `AllocaInst` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>



## Declaration

<CodeBlock>class llvm::sandboxir::AllocaInst</CodeBlock>

## Included Headers

<IncludesList>
<IncludesListItem
  filePath="llvm/SandboxIR/Instruction.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/sandboxir/instruction-h"
  isLocal="true" />
</IncludesList>

## Base class

<MembersIndex>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/sandboxir/unaryinstruction">UnaryInstruction</a></>}>
An abstract class, parent of unary instructions. <a href="/docs/api/classes/llvm/sandboxir/unaryinstruction/#details">More...</a>
</MembersIndexItem>

</MembersIndex>

## Friends Index

<MembersIndex>

<MembersIndexItem
  type="class"
  name={<><a href="#ac26c806e60ca4a0547680edb68f6e39b">Context</a></>}>
</MembersIndexItem>

</MembersIndex>

## Private Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#ab0e0549f349206ca8f75ac03ce21ef5f">AllocaInst</a> (llvm::AllocaInst &#42;AI, Context &amp;Ctx)</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="unsigned"
  name={<><a href="#a645e01e8c9553eb4beb7202344581cd0">getAddressSpace</a> () const</>}>
Return the address space for the allocation. <a href="#a645e01e8c9553eb4beb7202344581cd0">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/structs/llvm/align">Align</a></>}
  name={<><a href="#a7b4b2321950130a77bb094d49a34f5d9">getAlign</a> () const</>}>
Return the alignment of the memory that is being allocated by the instruction. <a href="#a7b4b2321950130a77bb094d49a34f5d9">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/sandboxir/type">Type</a> &#42;</>}
  name={<><a href="#a172b5862cbc38a02f448b7269351ef1f">getAllocatedType</a> () const</>}>
Return the type that is being allocated by the instruction. <a href="#a172b5862cbc38a02f448b7269351ef1f">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::optional&lt; <a href="/docs/api/classes/llvm/typesize">TypeSize</a> &gt;</>}
  name={<><a href="#ae31edda972b4f0e80525487e5e5af746">getAllocationSize</a> (const DataLayout &amp;DL) const</>}>
Get allocation size in bytes. <a href="#ae31edda972b4f0e80525487e5e5af746">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::optional&lt; <a href="/docs/api/classes/llvm/typesize">TypeSize</a> &gt;</>}
  name={<><a href="#a496cbedfb5cfd738413e8bca591651c9">getAllocationSizeInBits</a> (const DataLayout &amp;DL) const</>}>
Get allocation size in bits. <a href="#a496cbedfb5cfd738413e8bca591651c9">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/sandboxir/value">Value</a> &#42;</>}
  name={<><a href="#a56cdb1f63cf7b4d9339ea064a481ea7a">getArraySize</a> ()</>}>
Get the number of elements allocated. <a href="#a56cdb1f63cf7b4d9339ea064a481ea7a">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/sandboxir/value">Value</a> &#42;</>}
  name={<><a href="#ae684a2f65ccc383cea7b06af76253f14">getArraySize</a> () const</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/sandboxir/pointertype">PointerType</a> &#42;</>}
  name={<><a href="#a888f265095c39e440ed5c83a33be6073">getType</a> () const</>}>
Overload to return most specific pointer type. <a href="#a888f265095c39e440ed5c83a33be6073">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a38fddebbf9ea947034b53b0dae4e6700">isArrayAllocation</a> () const</>}>
Return true if there is an allocation size parameter to the allocation instruction that is not 1. <a href="#a38fddebbf9ea947034b53b0dae4e6700">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a26bb30bbbd677ace9552e41a55759e15">isStaticAlloca</a> () const</>}>
Return true if this alloca is in the entry block of the function and is a constant size. <a href="#a26bb30bbbd677ace9552e41a55759e15">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a08a7e741e6857ca3418b3700f35868d8">isUsedWithInAlloca</a> () const</>}>
Return true if this alloca is used as an inalloca argument to a call. <a href="#a08a7e741e6857ca3418b3700f35868d8">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#ae641a2be8d31f3518b04301c98e094d5">setAlignment</a> (Align Align)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a30ebcd2d2e510843030053dbd00b7031">setAllocatedType</a> (Type &#42;Ty)</>}>
for use only in special circumstances that need to generically transform a whole instruction (eg: IR linking and vectorization). <a href="#a30ebcd2d2e510843030053dbd00b7031">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a92d20c9a65a5af8df6f4cfad584270c3">setUsedWithInAlloca</a> (bool V)</>}>
Specify whether this alloca is used to represent the arguments to a call. <a href="#a92d20c9a65a5af8df6f4cfad584270c3">More...</a>
</MembersIndexItem>

</MembersIndex>

## Public Static Functions Index

<MembersIndex>

<MembersIndexItem
  type="bool"
  name={<><a href="#ad6d097875106336fca9137234649844d">classof</a> (const Value &#42;From)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/sandboxir/allocainst">AllocaInst</a> &#42;</>}
  name={<><a href="#aeb07c11e1ea294e14fdf52b5a9df5ab6">create</a> (Type &#42;Ty, unsigned AddrSpace, InsertPosition Pos, Context &amp;Ctx, Value &#42;ArraySize=nullptr, const Twine &amp;Name=&quot;&quot;)</>}>
</MembersIndexItem>

</MembersIndex>


Definition at line 2186 of file <a href="/docs/api/files/include/include/llvm/include/llvm/sandboxir/instruction-h">Instruction.h</a>.

<SectionDefinition>

## Friends

### Context {#ac26c806e60ca4a0547680edb68f6e39b}

<MemberDefinition
  prototype={<>friend class <a href="/docs/api/classes/llvm/sandboxir/context">Context</a></>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/sandboxir/instruction-h/#l02190">2190</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/sandboxir/instruction-h">Instruction.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Constructors

### AllocaInst() {#ab0e0549f349206ca8f75ac03ce21ef5f}

<MemberDefinition
  prototype={<>llvm::sandboxir::AllocaInst::AllocaInst (<a href="/docs/api/classes/llvm/allocainst">llvm::AllocaInst</a> &#42; AI, <a href="/docs/api/classes/llvm/sandboxir/context">Context</a> &amp; Ctx)</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/sandboxir/instruction-h/#l02187">2187</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/sandboxir/instruction-h">Instruction.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### getAddressSpace() {#a645e01e8c9553eb4beb7202344581cd0}

<MemberDefinition
  prototype="unsigned llvm::sandboxir::AllocaInst::getAddressSpace () const"
  labels = {["inline"]}>
Return the address space for the allocation.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/sandboxir/instruction-h/#l02211">2211</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/sandboxir/instruction-h">Instruction.h</a>.
</MemberDefinition>

### getAlign() {#a7b4b2321950130a77bb094d49a34f5d9}

<MemberDefinition
  prototype="Align llvm::sandboxir::AllocaInst::getAlign () const"
  labels = {["inline"]}>
Return the alignment of the memory that is being allocated by the instruction.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/sandboxir/instruction-h/#l02231">2231</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/sandboxir/instruction-h">Instruction.h</a>.
</MemberDefinition>

### getAllocatedType() {#a172b5862cbc38a02f448b7269351ef1f}

<MemberDefinition
  prototype={<>Type &#42; llvm::sandboxir::AllocaInst::getAllocatedType () const</>}>
Return the type that is being allocated by the instruction.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/sandboxir/instruction-h/#l02225">2225</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/sandboxir/instruction-h">Instruction.h</a>, definition at line <a href="/docs/api/files/lib/lib/sandboxir/instruction-cpp/#l01384">1384</a> of file <a href="/docs/api/files/lib/lib/sandboxir/instruction-cpp">Instruction.cpp</a>.
</MemberDefinition>

### getAllocationSize() {#ae31edda972b4f0e80525487e5e5af746}

<MemberDefinition
  prototype={<>std::optional&lt; TypeSize &gt; llvm::sandboxir::AllocaInst::getAllocationSize (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/datalayout">DataLayout</a> &amp; DL) const</>}
  labels = {["inline"]}>
Get allocation size in bytes.

Returns std::nullopt if size can&#39;t be determined, e.g. in case of a VLA.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/sandboxir/instruction-h/#l02216">2216</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/sandboxir/instruction-h">Instruction.h</a>.
</MemberDefinition>

### getAllocationSizeInBits() {#a496cbedfb5cfd738413e8bca591651c9}

<MemberDefinition
  prototype={<>std::optional&lt; TypeSize &gt; llvm::sandboxir::AllocaInst::getAllocationSizeInBits (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/datalayout">DataLayout</a> &amp; DL) const</>}
  labels = {["inline"]}>
Get allocation size in bits.

Returns std::nullopt if size can&#39;t be determined, e.g. in case of a VLA.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/sandboxir/instruction-h/#l02221">2221</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/sandboxir/instruction-h">Instruction.h</a>.
</MemberDefinition>

### getArraySize() {#a56cdb1f63cf7b4d9339ea064a481ea7a}

<MemberDefinition
  prototype={<>Value &#42; llvm::sandboxir::AllocaInst::getArraySize ()</>}>
Get the number of elements allocated.

For a simple allocation of a single element, this will return a constant 1 value.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/sandboxir/instruction-h/#l02204">2204</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/sandboxir/instruction-h">Instruction.h</a>, definition at line <a href="/docs/api/files/lib/lib/sandboxir/instruction-cpp/#l01410">1410</a> of file <a href="/docs/api/files/lib/lib/sandboxir/instruction-cpp">Instruction.cpp</a>.
</MemberDefinition>

### getArraySize() {#ae684a2f65ccc383cea7b06af76253f14}

<MemberDefinition
  prototype={<>const Value &#42; llvm::sandboxir::AllocaInst::getArraySize () const</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/sandboxir/instruction-h/#l02205">2205</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/sandboxir/instruction-h">Instruction.h</a>.
</MemberDefinition>

### getType() {#a888f265095c39e440ed5c83a33be6073}

<MemberDefinition
  prototype={<>PointerType &#42; llvm::sandboxir::AllocaInst::getType () const</>}>
Overload to return most specific pointer type.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/sandboxir/instruction-h/#l02209">2209</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/sandboxir/instruction-h">Instruction.h</a>, definition at line <a href="/docs/api/files/lib/lib/sandboxir/instruction-cpp/#l01414">1414</a> of file <a href="/docs/api/files/lib/lib/sandboxir/instruction-cpp">Instruction.cpp</a>.
</MemberDefinition>

### isArrayAllocation() {#a38fddebbf9ea947034b53b0dae4e6700}

<MemberDefinition
  prototype="bool llvm::sandboxir::AllocaInst::isArrayAllocation () const"
  labels = {["inline"]}>
Return true if there is an allocation size parameter to the allocation instruction that is not 1.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/sandboxir/instruction-h/#l02199">2199</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/sandboxir/instruction-h">Instruction.h</a>.
</MemberDefinition>

### isStaticAlloca() {#a26bb30bbbd677ace9552e41a55759e15}

<MemberDefinition
  prototype="bool llvm::sandboxir::AllocaInst::isStaticAlloca () const"
  labels = {["inline"]}>
Return true if this alloca is in the entry block of the function and is a constant size.

If so, the code generator will fold it into the prolog/epilog code, so it is basically free.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/sandboxir/instruction-h/#l02236">2236</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/sandboxir/instruction-h">Instruction.h</a>.
</MemberDefinition>

### isUsedWithInAlloca() {#a08a7e741e6857ca3418b3700f35868d8}

<MemberDefinition
  prototype="bool llvm::sandboxir::AllocaInst::isUsedWithInAlloca () const"
  labels = {["inline"]}>
Return true if this alloca is used as an inalloca argument to a call.

Such allocas are never considered static even if they are in the entry block.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/sandboxir/instruction-h/#l02241">2241</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/sandboxir/instruction-h">Instruction.h</a>.
</MemberDefinition>

### setAlignment() {#ae641a2be8d31f3518b04301c98e094d5}

<MemberDefinition
  prototype={<>void llvm::sandboxir::AllocaInst::setAlignment (<a href="/docs/api/structs/llvm/align">Align</a> Align)</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/sandboxir/instruction-h/#l02232">2232</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/sandboxir/instruction-h">Instruction.h</a>, definition at line <a href="/docs/api/files/lib/lib/sandboxir/instruction-cpp/#l01395">1395</a> of file <a href="/docs/api/files/lib/lib/sandboxir/instruction-cpp">Instruction.cpp</a>.
</MemberDefinition>

### setAllocatedType() {#a30ebcd2d2e510843030053dbd00b7031}

<MemberDefinition
  prototype={<>void llvm::sandboxir::AllocaInst::setAllocatedType (<a href="/docs/api/classes/llvm/sandboxir/type">Type</a> &#42; Ty)</>}>
for use only in special circumstances that need to generically transform a whole instruction (eg: IR linking and vectorization).

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/sandboxir/instruction-h/#l02228">2228</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/sandboxir/instruction-h">Instruction.h</a>, definition at line <a href="/docs/api/files/lib/lib/sandboxir/instruction-cpp/#l01388">1388</a> of file <a href="/docs/api/files/lib/lib/sandboxir/instruction-cpp">Instruction.cpp</a>.
</MemberDefinition>

### setUsedWithInAlloca() {#a92d20c9a65a5af8df6f4cfad584270c3}

<MemberDefinition
  prototype="void llvm::sandboxir::AllocaInst::setUsedWithInAlloca (bool V)">
Specify whether this alloca is used to represent the arguments to a call.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/sandboxir/instruction-h/#l02245">2245</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/sandboxir/instruction-h">Instruction.h</a>, definition at line <a href="/docs/api/files/lib/lib/sandboxir/instruction-cpp/#l01403">1403</a> of file <a href="/docs/api/files/lib/lib/sandboxir/instruction-cpp">Instruction.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Static Functions

### classof() {#ad6d097875106336fca9137234649844d}

<MemberDefinition
  prototype={<>static bool llvm::sandboxir::AllocaInst::classof (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/sandboxir/value">Value</a> &#42; From)</>}
  labels = {["inline", "static"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/sandboxir/instruction-h/#l02247">2247</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/sandboxir/instruction-h">Instruction.h</a>.
</MemberDefinition>

### create() {#aeb07c11e1ea294e14fdf52b5a9df5ab6}

<MemberDefinition
  prototype={<>AllocaInst &#42; llvm::sandboxir::AllocaInst::create (<a href="/docs/api/classes/llvm/sandboxir/type">Type</a> &#42; Ty, unsigned AddrSpace, <a href="/docs/api/classes/llvm/sandboxir/insertposition">InsertPosition</a> Pos, <a href="/docs/api/classes/llvm/sandboxir/context">Context</a> &amp; Ctx, <a href="/docs/api/classes/llvm/sandboxir/value">Value</a> &#42; ArraySize=nullptr, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/twine">Twine</a> &amp; Name=&quot;&quot;)</>}
  labels = {["static"]}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/sandboxir/instruction-h/#l02193">2193</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/sandboxir/instruction-h">Instruction.h</a>, definition at line <a href="/docs/api/files/lib/lib/sandboxir/instruction-cpp/#l01375">1375</a> of file <a href="/docs/api/files/lib/lib/sandboxir/instruction-cpp">Instruction.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following files:

<ul>
<li><a href="/docs/api/files/include/include/llvm/include/llvm/sandboxir/instruction-h">Instruction.h</a></li>
<li><a href="/docs/api/files/lib/lib/sandboxir/instruction-cpp">Instruction.cpp</a></li>
</ul>

</DoxygenPage>
