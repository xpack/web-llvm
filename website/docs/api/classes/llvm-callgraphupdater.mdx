---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/llvm/callgraphupdater
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'
import SectionUser from '@xpack/docusaurus-plugin-doxygen/components/SectionUser'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `CallGraphUpdater` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>

Wrapper to unify &quot;old style&quot; <a href="/docs/api/classes/llvm/callgraph">CallGraph</a> and &quot;new style&quot; <a href="/docs/api/classes/llvm/lazycallgraph">LazyCallGraph</a>. <a href="#details">More...</a>

## Declaration

<CodeBlock>class llvm::CallGraphUpdater</CodeBlock>

## Included Headers

<IncludesList>
<IncludesListItem
  filePath="llvm/Transforms/Utils/CallGraphUpdater.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/callgraphupdater-h"
  isLocal="true" />
</IncludesList>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#acf207c249d5794e98ce3af84899084fb">CallGraphUpdater</a> ()=default</>}>
&#125; <a href="#acf207c249d5794e98ce3af84899084fb">More...</a>
</MembersIndexItem>

</MembersIndex>

## Public Destructor Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a74348fa9965bac055506a423cb9135d0">~CallGraphUpdater</a> ()</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="bool"
  name={<><a href="#adecede763aee9d37e00fee2c2328ac7e">finalize</a> ()</>}>
&#125; <a href="#adecede763aee9d37e00fee2c2328ac7e">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#aa6cf8d3b5860ad0bd100b0a30da27e7f">initialize</a> (LazyCallGraph &amp;LCG, LazyCallGraph::SCC &amp;SCC, CGSCCAnalysisManager &amp;AM, CGSCCUpdateResult &amp;UR)</>}>
Initializers for usage outside of a CGSCC pass, inside a CGSCC pass in the old and new pass manager (PM). <a href="#aa6cf8d3b5860ad0bd100b0a30da27e7f">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a7bf8126709349339746d58096776d4f3">reanalyzeFunction</a> (Function &amp;Fn)</>}>
After an CGSCC pass changes a function in ways that affect the call graph, this method can be called to update it. <a href="#a7bf8126709349339746d58096776d4f3">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a08fe25aef5a7fa6ebb858ee29125ce9a">registerOutlinedFunction</a> (Function &amp;OriginalFn, Function &amp;NewFn)</>}>
If a new function was created by outlining, this method can be called to update the call graph for the new function. <a href="#a08fe25aef5a7fa6ebb858ee29125ce9a">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a300122a2a53b922943eff21c4039ad73">removeFunction</a> (Function &amp;Fn)</>}>
Remove <code>Fn</code> from the call graph. <a href="#a300122a2a53b922943eff21c4039ad73">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a3153d95e005c433416597836e80331d2">replaceFunctionWith</a> (Function &amp;OldFn, Function &amp;NewFn)</>}>
Replace <code>OldFn</code> in the call graph (and SCC) with <code>NewFn</code>. <a href="#a3153d95e005c433416597836e80331d2">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/namespaces/llvm/#a571b2bbf074b46c75300bd8f14c5ab72">CGSCCAnalysisManager</a> &#42;</>}
  name={<><a href="#a3db5c7f9b2ff853895c5d65966706750">AM</a> = nullptr</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/smallvector">SmallVector</a>&lt; <a href="/docs/api/classes/llvm/function">Function</a> &#42;, 16 &gt;</>}
  name={<><a href="#aca49f7ebd7ac4e8ced644f79e58bbd9c">DeadFunctions</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/smallvector">SmallVector</a>&lt; <a href="/docs/api/classes/llvm/function">Function</a> &#42;, 16 &gt;</>}
  name={<><a href="#a3b07505f348a1dde8deb3c5a67746931">DeadFunctionsInComdats</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/namespaces/llvm/#adce09a5a0de0e3177eb00e932734af2f">FunctionAnalysisManager</a> &#42;</>}
  name={<><a href="#ab512360d69465acb8bee3d296e04fd87">FAM</a> = nullptr</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/lazycallgraph">LazyCallGraph</a> &#42;</>}
  name={<><a href="#a06c6aef16eb3c6129d6ceeba9730837a">LCG</a> = nullptr</>}>
&#125; <a href="#a06c6aef16eb3c6129d6ceeba9730837a">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/smallptrset">SmallPtrSet</a>&lt; <a href="/docs/api/classes/llvm/function">Function</a> &#42;, 16 &gt;</>}
  name={<><a href="#ac0cf5c0b5a1d8c365a33ddc00b85f17a">ReplacedFunctions</a></>}>
Containers for functions which we did replace or want to delete when <code>finalize</code> is called. <a href="#ac0cf5c0b5a1d8c365a33ddc00b85f17a">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/lazycallgraph/scc">LazyCallGraph::SCC</a> &#42;</>}
  name={<><a href="#af466284b2c0bf46b340b1c8896cc3aa8">SCC</a> = nullptr</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/structs/llvm/cgsccupdateresult">CGSCCUpdateResult</a> &#42;</>}
  name={<><a href="#aed53a195e61b3ac1183b947735d74fee">UR</a> = nullptr</>}>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

Wrapper to unify &quot;old style&quot; <a href="/docs/api/classes/llvm/callgraph">CallGraph</a> and &quot;new style&quot; <a href="/docs/api/classes/llvm/lazycallgraph">LazyCallGraph</a>.

This simplifies the interface and the call sites, e.g., new and old pass manager passes can share the same code.

Definition at line 29 of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/callgraphupdater-h">CallGraphUpdater.h</a>.

<SectionDefinition>

## Public Constructors

### CallGraphUpdater() {#acf207c249d5794e98ce3af84899084fb}

<MemberDefinition
  prototype="llvm::CallGraphUpdater::CallGraphUpdater ()"
  labels = {["default"]}>
&#125;

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/callgraphupdater-h/#l00051">51</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/callgraphupdater-h">CallGraphUpdater.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Destructor

### ~CallGraphUpdater() {#a74348fa9965bac055506a423cb9135d0}

<MemberDefinition
  prototype="llvm::CallGraphUpdater::~CallGraphUpdater ()"
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/callgraphupdater-h/#l00052">52</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/callgraphupdater-h">CallGraphUpdater.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### finalize() {#adecede763aee9d37e00fee2c2328ac7e}

<MemberDefinition
  prototype="bool CallGraphUpdater::finalize ()">
&#125;

Finalizer that will trigger actions like function removal from the CG.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/callgraphupdater-h/#l00069">69</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/callgraphupdater-h">CallGraphUpdater.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/callgraphupdater-cpp/#l00021">21</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/callgraphupdater-cpp">CallGraphUpdater.cpp</a>.
</MemberDefinition>

### initialize() {#aa6cf8d3b5860ad0bd100b0a30da27e7f}

<MemberDefinition
  prototype={<>void llvm::CallGraphUpdater::initialize (<a href="/docs/api/classes/llvm/lazycallgraph">LazyCallGraph</a> &amp; LCG, <a href="/docs/api/classes/llvm/lazycallgraph/scc">LazyCallGraph::SCC</a> &amp; SCC, <a href="/docs/api/namespaces/llvm/#a571b2bbf074b46c75300bd8f14c5ab72">CGSCCAnalysisManager</a> &amp; AM, <a href="/docs/api/structs/llvm/cgsccupdateresult">CGSCCUpdateResult</a> &amp; UR)</>}
  labels = {["inline"]}>
Initializers for usage outside of a CGSCC pass, inside a CGSCC pass in the old and new pass manager (PM).

&#123;

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/callgraphupdater-h/#l00057">57</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/callgraphupdater-h">CallGraphUpdater.h</a>.
</MemberDefinition>

### reanalyzeFunction() {#a7bf8126709349339746d58096776d4f3}

<MemberDefinition
  prototype={<>void CallGraphUpdater::reanalyzeFunction (<a href="/docs/api/classes/llvm/function">Function</a> &amp; Fn)</>}>
After an CGSCC pass changes a function in ways that affect the call graph, this method can be called to update it.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/callgraphupdater-h/#l00076">76</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/callgraphupdater-h">CallGraphUpdater.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/callgraphupdater-cpp/#l00064">64</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/callgraphupdater-cpp">CallGraphUpdater.cpp</a>.
</MemberDefinition>

### registerOutlinedFunction() {#a08fe25aef5a7fa6ebb858ee29125ce9a}

<MemberDefinition
  prototype={<>void CallGraphUpdater::registerOutlinedFunction (<a href="/docs/api/classes/llvm/function">Function</a> &amp; OriginalFn, <a href="/docs/api/classes/llvm/function">Function</a> &amp; NewFn)</>}>
If a new function was created by outlining, this method can be called to update the call graph for the new function.

Note that the old one still needs to be re-analyzed or manually updated.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/callgraphupdater-h/#l00081">81</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/callgraphupdater-h">CallGraphUpdater.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/callgraphupdater-cpp/#l00072">72</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/callgraphupdater-cpp">CallGraphUpdater.cpp</a>.
</MemberDefinition>

### removeFunction() {#a300122a2a53b922943eff21c4039ad73}

<MemberDefinition
  prototype={<>void CallGraphUpdater::removeFunction (<a href="/docs/api/classes/llvm/function">Function</a> &amp; Fn)</>}>
Remove <code>Fn</code> from the call graph.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/callgraphupdater-h/#l00072">72</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/callgraphupdater-h">CallGraphUpdater.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/callgraphupdater-cpp/#l00078">78</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/callgraphupdater-cpp">CallGraphUpdater.cpp</a>.
</MemberDefinition>

### replaceFunctionWith() {#a3153d95e005c433416597836e80331d2}

<MemberDefinition
  prototype={<>void CallGraphUpdater::replaceFunctionWith (<a href="/docs/api/classes/llvm/function">Function</a> &amp; OldFn, <a href="/docs/api/classes/llvm/function">Function</a> &amp; NewFn)</>}>
Replace <code>OldFn</code> in the call graph (and SCC) with <code>NewFn</code>.

The uses outside the call graph and the function <code>OldFn</code> are not modified. Note that <code>OldFn</code> is also removed from the call graph (
<SectionUser title="See Also">
<a href="#a300122a2a53b922943eff21c4039ad73">removeFunction</a>).
</SectionUser>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/callgraphupdater-h/#l00087">87</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/callgraphupdater-h">CallGraphUpdater.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/callgraphupdater-cpp/#l00090">90</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/callgraphupdater-cpp">CallGraphUpdater.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Attributes

### AM {#a3db5c7f9b2ff853895c5d65966706750}

<MemberDefinition
  prototype={<>CGSCCAnalysisManager&#42; llvm::CallGraphUpdater::AM = nullptr</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/callgraphupdater-h/#l00045">45</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/callgraphupdater-h">CallGraphUpdater.h</a>.
</MemberDefinition>

### DeadFunctions {#aca49f7ebd7ac4e8ced644f79e58bbd9c}

<MemberDefinition
  prototype={<>SmallVector&lt;Function &#42;, 16&gt; llvm::CallGraphUpdater::DeadFunctions</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/callgraphupdater-h/#l00037">37</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/callgraphupdater-h">CallGraphUpdater.h</a>.
</MemberDefinition>

### DeadFunctionsInComdats {#a3b07505f348a1dde8deb3c5a67746931}

<MemberDefinition
  prototype={<>SmallVector&lt;Function &#42;, 16&gt; llvm::CallGraphUpdater::DeadFunctionsInComdats</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/callgraphupdater-h/#l00038">38</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/callgraphupdater-h">CallGraphUpdater.h</a>.
</MemberDefinition>

### FAM {#ab512360d69465acb8bee3d296e04fd87}

<MemberDefinition
  prototype={<>FunctionAnalysisManager&#42; llvm::CallGraphUpdater::FAM = nullptr</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/callgraphupdater-h/#l00047">47</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/callgraphupdater-h">CallGraphUpdater.h</a>.
</MemberDefinition>

### LCG {#a06c6aef16eb3c6129d6ceeba9730837a}

<MemberDefinition
  prototype={<>LazyCallGraph&#42; llvm::CallGraphUpdater::LCG = nullptr</>}>
&#125;

New PM variables &#123;

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/callgraphupdater-h/#l00043">43</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/callgraphupdater-h">CallGraphUpdater.h</a>.
</MemberDefinition>

### ReplacedFunctions {#ac0cf5c0b5a1d8c365a33ddc00b85f17a}

<MemberDefinition
  prototype={<>SmallPtrSet&lt;Function &#42;, 16&gt; llvm::CallGraphUpdater::ReplacedFunctions</>}>
Containers for functions which we did replace or want to delete when <code>finalize</code> is called.

This can happen explicitly or as part of the destructor. Dead functions in comdat sections are tracked separately because a function with discardable linakage in a COMDAT should only be dropped if the entire COMDAT is dropped, see git ac07703842cf. &#123;

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/callgraphupdater-h/#l00036">36</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/callgraphupdater-h">CallGraphUpdater.h</a>.
</MemberDefinition>

### SCC {#af466284b2c0bf46b340b1c8896cc3aa8}

<MemberDefinition
  prototype={<>LazyCallGraph::SCC&#42; llvm::CallGraphUpdater::SCC = nullptr</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/callgraphupdater-h/#l00044">44</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/callgraphupdater-h">CallGraphUpdater.h</a>.
</MemberDefinition>

### UR {#aed53a195e61b3ac1183b947735d74fee}

<MemberDefinition
  prototype={<>CGSCCUpdateResult&#42; llvm::CallGraphUpdater::UR = nullptr</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/callgraphupdater-h/#l00046">46</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/callgraphupdater-h">CallGraphUpdater.h</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following files:

<ul>
<li><a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/callgraphupdater-h">CallGraphUpdater.h</a></li>
<li><a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/callgraphupdater-cpp">CallGraphUpdater.cpp</a></li>
</ul>

</DoxygenPage>
