---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/llvm/orc/irpartitionlayer
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `IRPartitionLayer` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>

A layer that breaks up IR modules into smaller submodules that only contains looked up symbols. <a href="#details">More...</a>

## Declaration

<CodeBlock>class llvm::orc::IRPartitionLayer</CodeBlock>

## Included Headers

<IncludesList>
<IncludesListItem
  filePath="llvm/ExecutionEngine/Orc/IRPartitionLayer.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/irpartitionlayer-h"
  isLocal="true" />
</IncludesList>

## Base class

<MembersIndex>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/orc/irlayer">IRLayer</a></>}>
Interface for layers that accept LLVM IR. <a href="/docs/api/classes/llvm/orc/irlayer/#details">More...</a>
</MembersIndexItem>

</MembersIndex>

## Public Member Typedefs Index

<MembersIndex>

<MembersIndexItem
  type="using"
  name={<><a href="#a711d070e416c2146b2387262fc703591">GlobalValueSet</a> = std::set&lt; <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/globalvalue">GlobalValue</a> &#42; &gt;</>}>
</MembersIndexItem>

<MembersIndexItem
  type="using"
  name={<><a href="#a14c5fdeb59c2b96e436bef5da73e87f9">PartitionFunction</a> = std::function&lt; std::optional&lt; <a href="#a711d070e416c2146b2387262fc703591">GlobalValueSet</a> &gt;(<a href="#a711d070e416c2146b2387262fc703591">GlobalValueSet</a> Requested)&gt;</>}>
Partitioning function. <a href="#a14c5fdeb59c2b96e436bef5da73e87f9">More...</a>
</MembersIndexItem>

</MembersIndex>

## Friends Index

<MembersIndex>

<MembersIndexItem
  type="class"
  name={<><a href="#af268832e921ee9d8bb7cd4f828d6be16">PartitioningIRMaterializationUnit</a></>}>
</MembersIndexItem>

</MembersIndex>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#abf7323697c8d97d33f9c96099e9e7426">IRPartitionLayer</a> (ExecutionSession &amp;ES, IRLayer &amp;BaseLayer)</>}>
Construct a <a href="/docs/api/classes/llvm/orc/irpartitionlayer">IRPartitionLayer</a>. <a href="#abf7323697c8d97d33f9c96099e9e7426">More...</a>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="void"
  name={<><a href="#a422aebce39fe92265115190c32de1312">emit</a> (std::unique&#95;ptr&lt; MaterializationResponsibility &gt; R, ThreadSafeModule TSM) override</>}>
Emits the given module. <a href="#a422aebce39fe92265115190c32de1312">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#af0da72f54d279e477b8c4e345ee7e19a">setPartitionFunction</a> (PartitionFunction Partition)</>}>
Sets the partition function. <a href="#af0da72f54d279e477b8c4e345ee7e19a">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="void"
  name={<><a href="#a605d986e9b892770dfca2d84373732c6">cleanUpModule</a> (Module &amp;M)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a1b31a377cbb66ad7146eed2848f8d661">emitPartition</a> (std::unique&#95;ptr&lt; MaterializationResponsibility &gt; R, ThreadSafeModule TSM, IRMaterializationUnit::SymbolNameToDefinitionMap Defs)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a00efb1d475a4576bd7960e2bd9c2daef">expandPartition</a> (GlobalValueSet &amp;Partition)</>}>
</MembersIndexItem>

</MembersIndex>

## Private Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/orc/irlayer">IRLayer</a> &amp;</>}
  name={<><a href="#a1ba3a29548081c810b0e1d476444372c">BaseLayer</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="#a14c5fdeb59c2b96e436bef5da73e87f9">PartitionFunction</a></>}
  name={<><a href="#a9bd1875b8397e998f887f2248fbea046">Partition</a> = <a href="#af4b6e5166c469c1a35960a5c838d381f">compileRequested</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/orc/symbollinkagepromoter">SymbolLinkagePromoter</a></>}
  name={<><a href="#aee65605af0a21a76a860d9790b8f81a2">PromoteSymbols</a></>}>
</MembersIndexItem>

</MembersIndex>

## Public Static Functions Index

<MembersIndex>

<MembersIndexItem
  type={<>std::optional&lt; <a href="#a711d070e416c2146b2387262fc703591">GlobalValueSet</a> &gt;</>}
  name={<><a href="#af4b6e5166c469c1a35960a5c838d381f">compileRequested</a> (GlobalValueSet Requested)</>}>
Off-the-shelf partitioning which compiles all requested symbols (usually a single function at a time). <a href="#af4b6e5166c469c1a35960a5c838d381f">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::optional&lt; <a href="#a711d070e416c2146b2387262fc703591">GlobalValueSet</a> &gt;</>}
  name={<><a href="#a50c9261ce51dd65ab4d3d3c8d2d29792">compileWholeModule</a> (GlobalValueSet Requested)</>}>
Off-the-shelf partitioning which compiles whole modules whenever any symbol in them is requested. <a href="#a50c9261ce51dd65ab4d3d3c8d2d29792">More...</a>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

A layer that breaks up IR modules into smaller submodules that only contains looked up symbols.

Definition at line 37 of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/irpartitionlayer-h">IRPartitionLayer.h</a>.

<SectionDefinition>

## Public Member Typedefs

### GlobalValueSet {#a711d070e416c2146b2387262fc703591}

<MemberDefinition
  prototype={<>using llvm::orc::IRPartitionLayer::GlobalValueSet =  std::set&lt;const GlobalValue &#42;&gt;</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/irpartitionlayer-h/#l00041">41</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/irpartitionlayer-h">IRPartitionLayer.h</a>.
</MemberDefinition>

### PartitionFunction {#a14c5fdeb59c2b96e436bef5da73e87f9}

<MemberDefinition
  prototype={<>using llvm::orc::IRPartitionLayer::PartitionFunction = 
      std::function&lt;std::optional&lt;GlobalValueSet&gt;(GlobalValueSet Requested)&gt;</>}>
Partitioning function.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/irpartitionlayer-h/#l00044">44</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/irpartitionlayer-h">IRPartitionLayer.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Friends

### PartitioningIRMaterializationUnit {#af268832e921ee9d8bb7cd4f828d6be16}

<MemberDefinition
  prototype={<>friend class <a href="/docs/api/classes/llvm/orc/partitioningirmaterializationunit">PartitioningIRMaterializationUnit</a></>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/irpartitionlayer-h/#l00038">38</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/irpartitionlayer-h">IRPartitionLayer.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Constructors

### IRPartitionLayer() {#abf7323697c8d97d33f9c96099e9e7426}

<MemberDefinition
  prototype={<>IRPartitionLayer::IRPartitionLayer (<a href="/docs/api/classes/llvm/orc/executionsession">ExecutionSession</a> &amp; ES, <a href="/docs/api/classes/llvm/orc/irlayer">IRLayer</a> &amp; BaseLayer)</>}>
Construct a <a href="/docs/api/classes/llvm/orc/irpartitionlayer">IRPartitionLayer</a>.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/irpartitionlayer-h/#l00048">48</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/irpartitionlayer-h">IRPartitionLayer.h</a>, definition at line <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/irpartitionlayer-cpp/#l00102">102</a> of file <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/irpartitionlayer-cpp">IRPartitionLayer.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### emit() {#a422aebce39fe92265115190c32de1312}

<MemberDefinition
  prototype={<>void IRPartitionLayer::emit (std::unique&#95;ptr&lt; <a href="/docs/api/classes/llvm/orc/materializationresponsibility">MaterializationResponsibility</a> &gt; R, <a href="/docs/api/classes/llvm/orc/threadsafemodule">ThreadSafeModule</a> TSM)</>}
  labels = {["virtual"]}>
Emits the given module.

This should not be called by clients: it will be called by the JIT when a definition added via the add method is requested.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/irpartitionlayer-h/#l00065">65</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/irpartitionlayer-h">IRPartitionLayer.h</a>, definition at line <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/irpartitionlayer-cpp/#l00119">119</a> of file <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/irpartitionlayer-cpp">IRPartitionLayer.cpp</a>.
</MemberDefinition>

### setPartitionFunction() {#af0da72f54d279e477b8c4e345ee7e19a}

<MemberDefinition
  prototype={<>void IRPartitionLayer::setPartitionFunction (<a href="#a14c5fdeb59c2b96e436bef5da73e87f9">PartitionFunction</a> Partition)</>}>
Sets the partition function.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/irpartitionlayer-h/#l00061">61</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/irpartitionlayer-h">IRPartitionLayer.h</a>, definition at line <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/irpartitionlayer-cpp/#l00105">105</a> of file <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/irpartitionlayer-cpp">IRPartitionLayer.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Functions

### cleanUpModule() {#a605d986e9b892770dfca2d84373732c6}

<MemberDefinition
  prototype={<>void IRPartitionLayer::cleanUpModule (<a href="/docs/api/classes/llvm/module">Module</a> &amp; M)</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/irpartitionlayer-h/#l00069">69</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/irpartitionlayer-h">IRPartitionLayer.h</a>, definition at line <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/irpartitionlayer-cpp/#l00138">138</a> of file <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/irpartitionlayer-cpp">IRPartitionLayer.cpp</a>.
</MemberDefinition>

### emitPartition() {#a1b31a377cbb66ad7146eed2848f8d661}

<MemberDefinition
  prototype={<>void IRPartitionLayer::emitPartition (std::unique&#95;ptr&lt; <a href="/docs/api/classes/llvm/orc/materializationresponsibility">MaterializationResponsibility</a> &gt; R, <a href="/docs/api/classes/llvm/orc/threadsafemodule">ThreadSafeModule</a> TSM, <a href="/docs/api/classes/llvm/orc/irmaterializationunit/#acda17e0078ab60791c6e794f403b71ff">IRMaterializationUnit::SymbolNameToDefinitionMap</a> Defs)</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/irpartitionlayer-h/#l00073">73</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/irpartitionlayer-h">IRPartitionLayer.h</a>, definition at line <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/irpartitionlayer-cpp/#l00183">183</a> of file <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/irpartitionlayer-cpp">IRPartitionLayer.cpp</a>.
</MemberDefinition>

### expandPartition() {#a00efb1d475a4576bd7960e2bd9c2daef}

<MemberDefinition
  prototype={<>void IRPartitionLayer::expandPartition (<a href="#a711d070e416c2146b2387262fc703591">GlobalValueSet</a> &amp; Partition)</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/irpartitionlayer-h/#l00071">71</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/irpartitionlayer-h">IRPartitionLayer.h</a>, definition at line <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/irpartitionlayer-cpp/#l00151">151</a> of file <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/irpartitionlayer-cpp">IRPartitionLayer.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Attributes

### BaseLayer {#a1ba3a29548081c810b0e1d476444372c}

<MemberDefinition
  prototype={<>IRLayer&amp; llvm::orc::IRPartitionLayer::BaseLayer</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/irpartitionlayer-h/#l00077">77</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/irpartitionlayer-h">IRPartitionLayer.h</a>.
</MemberDefinition>

### Partition {#a9bd1875b8397e998f887f2248fbea046}

<MemberDefinition
  prototype={<>PartitionFunction llvm::orc::IRPartitionLayer::Partition = <a href="#af4b6e5166c469c1a35960a5c838d381f">compileRequested</a></>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/irpartitionlayer-h/#l00078">78</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/irpartitionlayer-h">IRPartitionLayer.h</a>.
</MemberDefinition>

### PromoteSymbols {#aee65605af0a21a76a860d9790b8f81a2}

<MemberDefinition
  prototype="SymbolLinkagePromoter llvm::orc::IRPartitionLayer::PromoteSymbols">

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/irpartitionlayer-h/#l00079">79</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/irpartitionlayer-h">IRPartitionLayer.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Static Functions

### compileRequested() {#af4b6e5166c469c1a35960a5c838d381f}

<MemberDefinition
  prototype={<>std::optional&lt; IRPartitionLayer::GlobalValueSet &gt; IRPartitionLayer::compileRequested (<a href="#a711d070e416c2146b2387262fc703591">GlobalValueSet</a> Requested)</>}
  labels = {["static"]}>
Off-the-shelf partitioning which compiles all requested symbols (usually a single function at a time).

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/irpartitionlayer-h/#l00053">53</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/irpartitionlayer-h">IRPartitionLayer.h</a>, definition at line <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/irpartitionlayer-cpp/#l00110">110</a> of file <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/irpartitionlayer-cpp">IRPartitionLayer.cpp</a>.
</MemberDefinition>

### compileWholeModule() {#a50c9261ce51dd65ab4d3d3c8d2d29792}

<MemberDefinition
  prototype={<>std::optional&lt; IRPartitionLayer::GlobalValueSet &gt; IRPartitionLayer::compileWholeModule (<a href="#a711d070e416c2146b2387262fc703591">GlobalValueSet</a> Requested)</>}
  labels = {["static"]}>
Off-the-shelf partitioning which compiles whole modules whenever any symbol in them is requested.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/irpartitionlayer-h/#l00058">58</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/irpartitionlayer-h">IRPartitionLayer.h</a>, definition at line <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/irpartitionlayer-cpp/#l00115">115</a> of file <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/irpartitionlayer-cpp">IRPartitionLayer.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following files:

<ul>
<li><a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/irpartitionlayer-h">IRPartitionLayer.h</a></li>
<li><a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/irpartitionlayer-cpp">IRPartitionLayer.cpp</a></li>
</ul>

</DoxygenPage>
