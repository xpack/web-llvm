---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/llvm/rewritebuffer
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `RewriteBuffer` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>

<a href="/docs/api/classes/llvm/rewritebuffer">RewriteBuffer</a> - As code is rewritten, SourceBuffer&#39;s from the original input with modifications get a new <a href="/docs/api/classes/llvm/rewritebuffer">RewriteBuffer</a> associated with them. <a href="#details">More...</a>

## Declaration

<CodeBlock>class llvm::RewriteBuffer</CodeBlock>

## Included Headers

<IncludesList>
<IncludesListItem
  filePath="llvm/ADT/RewriteBuffer.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/adt/rewritebuffer-h"
  isLocal="true" />
</IncludesList>

## Public Member Typedefs Index

<MembersIndex>

<MembersIndexItem
  type="using"
  name={<><a href="#ab672c063a54889c173d84d3ef5e40942">iterator</a> = <a href="/docs/api/classes/llvm/rewriterope/#aae0632a23e919ec6285c0cd7e7839ce5">RewriteRope::const&#95;iterator</a></>}>
</MembersIndexItem>

</MembersIndex>

## Friends Index

<MembersIndex>

<MembersIndexItem
  type="class"
  name={<><a href="#a6858b60c9b365d29f2cea3e024bf8e62">clang::Rewriter</a></>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="#ab672c063a54889c173d84d3ef5e40942">iterator</a></>}
  name={<><a href="#a856895feec13424f426516cba22ec8df">begin</a> () const</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="#ab672c063a54889c173d84d3ef5e40942">iterator</a></>}
  name={<><a href="#a0f93f5b96aae17e8e801734dd13f3ea6">end</a> () const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#aad911b0b688a9a92ea8ef85f80cfa9c1">Initialize</a> (const char &#42;BufStart, const char &#42;BufEnd)</>}>
Initialize - Start this rewrite buffer out with a copy of the unmodified input buffer. <a href="#aad911b0b688a9a92ea8ef85f80cfa9c1">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#acc1e891f99ade3d225acd7c67cb41522">Initialize</a> (StringRef Input)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a3b5f8de8f5f0ee46177d2cf2281ea475">InsertText</a> (unsigned OrigOffset, StringRef Str, bool InsertAfter=true)</>}>
InsertText - Insert some text at the specified point, where the offset in the buffer is specified relative to the original SourceBuffer. <a href="#a3b5f8de8f5f0ee46177d2cf2281ea475">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#afd5c73017f12ea37edde955b7ddc07ba">InsertTextAfter</a> (unsigned OrigOffset, StringRef Str)</>}>
InsertTextAfter - Insert some text at the specified point, where the offset in the buffer is specified relative to the original SourceBuffer. <a href="#afd5c73017f12ea37edde955b7ddc07ba">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a4c5e6f816e760c0e7299045e9143c072">InsertTextBefore</a> (unsigned OrigOffset, StringRef Str)</>}>
InsertTextBefore - Insert some text before the specified point, where the offset in the buffer is specified relative to the original SourceBuffer. <a href="#a4c5e6f816e760c0e7299045e9143c072">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a08eea0e9e695bc7d1e025b211aebeae9">RemoveText</a> (unsigned OrigOffset, unsigned Size, bool removeLineIfEmpty=false)</>}>
RemoveText - Remove the specified text. <a href="#a08eea0e9e695bc7d1e025b211aebeae9">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#af4da15ad7c70b2c9ac934adf213819f7">ReplaceText</a> (unsigned OrigOffset, unsigned OrigLength, StringRef NewStr)</>}>
ReplaceText - This method replaces a range of characters in the input buffer with a new string. <a href="#af4da15ad7c70b2c9ac934adf213819f7">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="unsigned"
  name={<><a href="#a4b6a74c2bda71f4a5184e57239c3bda4">size</a> () const</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/raw-ostream">raw&#95;ostream</a> &amp;</>}
  name={<><a href="#a0b72d3db59db1731c63217c291929ced">write</a> (raw&#95;ostream &amp;Stream) const</>}>
Write to <code>Stream</code> the result of applying all changes to the original buffer. <a href="#a0b72d3db59db1731c63217c291929ced">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="void"
  name={<><a href="#adf8b6d875840a0fecc696f5912cb6f32">AddInsertDelta</a> (unsigned OrigOffset, int Change)</>}>
AddInsertDelta - When an insertion is made at a position, this method is used to record that information. <a href="#adf8b6d875840a0fecc696f5912cb6f32">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a2230f1f81e47afde2a09347d9eba47ab">AddReplaceDelta</a> (unsigned OrigOffset, int Change)</>}>
AddReplaceDelta - When a replacement/deletion is made at a position, this method is used to record that information. <a href="#a2230f1f81e47afde2a09347d9eba47ab">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="unsigned"
  name={<><a href="#a2ac435e5367bbd5c22f840544b24d45d">getMappedOffset</a> (unsigned OrigOffset, bool AfterInserts=false) const</>}>
getMappedOffset - Given an offset into the original SourceBuffer that this <a href="/docs/api/classes/llvm/rewritebuffer">RewriteBuffer</a> is based on, map it into the offset space of the <a href="/docs/api/classes/llvm/rewritebuffer">RewriteBuffer</a>. <a href="#a2ac435e5367bbd5c22f840544b24d45d">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/rewriterope">RewriteRope</a></>}
  name={<><a href="#a3c10b38c93e216d7a34529edd3d4ec47">Buffer</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/deltatree">DeltaTree</a></>}
  name={<><a href="#a393d3821d8cf8f206ad8bd114c2491b8">Deltas</a></>}>
Deltas - Keep track of all the deltas in the source code due to insertions and deletions. <a href="#a393d3821d8cf8f206ad8bd114c2491b8">More...</a>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

<a href="/docs/api/classes/llvm/rewritebuffer">RewriteBuffer</a> - As code is rewritten, SourceBuffer&#39;s from the original input with modifications get a new <a href="/docs/api/classes/llvm/rewritebuffer">RewriteBuffer</a> associated with them.

The <a href="/docs/api/classes/llvm/rewritebuffer">RewriteBuffer</a> captures the modified text itself as well as information used to map between SourceLocation&#39;s in the original input and offsets in the <a href="/docs/api/classes/llvm/rewritebuffer">RewriteBuffer</a>. For example, if text is inserted into the buffer, any locations after the insertion point have to be mapped.

Definition at line 30 of file <a href="/docs/api/files/include/include/llvm/include/llvm/adt/rewritebuffer-h">RewriteBuffer.h</a>.

<SectionDefinition>

## Public Member Typedefs

### iterator {#ab672c063a54889c173d84d3ef5e40942}

<MemberDefinition
  prototype={<>using llvm::RewriteBuffer::iterator =  RewriteRope::const&#95;iterator</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/adt/rewritebuffer-h/#l00040">40</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/adt/rewritebuffer-h">RewriteBuffer.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Friends

### clang::Rewriter {#a6858b60c9b365d29f2cea3e024bf8e62}

<MemberDefinition
  prototype="friend class clang::Rewriter">

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/adt/rewritebuffer-h/#l00031">31</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/adt/rewritebuffer-h">RewriteBuffer.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### begin() {#a856895feec13424f426516cba22ec8df}

<MemberDefinition
  prototype="iterator llvm::RewriteBuffer::begin () const"
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/adt/rewritebuffer-h/#l00042">42</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/adt/rewritebuffer-h">RewriteBuffer.h</a>.
</MemberDefinition>

### end() {#a0f93f5b96aae17e8e801734dd13f3ea6}

<MemberDefinition
  prototype="iterator llvm::RewriteBuffer::end () const"
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/adt/rewritebuffer-h/#l00043">43</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/adt/rewritebuffer-h">RewriteBuffer.h</a>.
</MemberDefinition>

### Initialize() {#aad911b0b688a9a92ea8ef85f80cfa9c1}

<MemberDefinition
  prototype={<>void llvm::RewriteBuffer::Initialize (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> char &#42; BufStart, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> char &#42; BufEnd)</>}
  labels = {["inline"]}>
Initialize - Start this rewrite buffer out with a copy of the unmodified input buffer.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/adt/rewritebuffer-h/#l00048">48</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/adt/rewritebuffer-h">RewriteBuffer.h</a>.
</MemberDefinition>

### Initialize() {#acc1e891f99ade3d225acd7c67cb41522}

<MemberDefinition
  prototype={<>void llvm::RewriteBuffer::Initialize (<a href="/docs/api/classes/llvm/stringref">StringRef</a> Input)</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/adt/rewritebuffer-h/#l00051">51</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/adt/rewritebuffer-h">RewriteBuffer.h</a>.
</MemberDefinition>

### InsertText() {#a3b5f8de8f5f0ee46177d2cf2281ea475}

<MemberDefinition
  prototype={<>void RewriteBuffer::InsertText (unsigned OrigOffset, <a href="/docs/api/classes/llvm/stringref">StringRef</a> Str, bool InsertAfter=<a href="/docs/api/files/lib/lib/analysis/basicaliasanalysis-cpp/#af6d5cafbdfc5313e65d990120021a3ec">true</a>)</>}>
InsertText - Insert some text at the specified point, where the offset in the buffer is specified relative to the original SourceBuffer.

The text is inserted after the specified location.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/adt/rewritebuffer-h/#l00069">69</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/adt/rewritebuffer-h">RewriteBuffer.h</a>, definition at line <a href="/docs/api/files/lib/lib/support/rewritebuffer-cpp/#l00084">84</a> of file <a href="/docs/api/files/lib/lib/support/rewritebuffer-cpp">RewriteBuffer.cpp</a>.
</MemberDefinition>

### InsertTextAfter() {#afd5c73017f12ea37edde955b7ddc07ba}

<MemberDefinition
  prototype={<>void llvm::RewriteBuffer::InsertTextAfter (unsigned OrigOffset, <a href="/docs/api/classes/llvm/stringref">StringRef</a> Str)</>}
  labels = {["inline"]}>
InsertTextAfter - Insert some text at the specified point, where the offset in the buffer is specified relative to the original SourceBuffer.

The text is inserted after the specified location.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/adt/rewritebuffer-h/#l00082">82</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/adt/rewritebuffer-h">RewriteBuffer.h</a>.
</MemberDefinition>

### InsertTextBefore() {#a4c5e6f816e760c0e7299045e9143c072}

<MemberDefinition
  prototype={<>void llvm::RewriteBuffer::InsertTextBefore (unsigned OrigOffset, <a href="/docs/api/classes/llvm/stringref">StringRef</a> Str)</>}
  labels = {["inline"]}>
InsertTextBefore - Insert some text before the specified point, where the offset in the buffer is specified relative to the original SourceBuffer.

The text is inserted before the specified location. This is method is the same as InsertText with &quot;InsertAfter == false&quot;.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/adt/rewritebuffer-h/#l00075">75</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/adt/rewritebuffer-h">RewriteBuffer.h</a>.
</MemberDefinition>

### RemoveText() {#a08eea0e9e695bc7d1e025b211aebeae9}

<MemberDefinition
  prototype="void RewriteBuffer::RemoveText (unsigned OrigOffset, unsigned Size, bool removeLineIfEmpty=false)">
RemoveText - Remove the specified text.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/adt/rewritebuffer-h/#l00063">63</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/adt/rewritebuffer-h">RewriteBuffer.h</a>, definition at line <a href="/docs/api/files/lib/lib/support/rewritebuffer-cpp/#l00029">29</a> of file <a href="/docs/api/files/lib/lib/support/rewritebuffer-cpp">RewriteBuffer.cpp</a>.
</MemberDefinition>

### ReplaceText() {#af4da15ad7c70b2c9ac934adf213819f7}

<MemberDefinition
  prototype={<>void RewriteBuffer::ReplaceText (unsigned OrigOffset, unsigned OrigLength, <a href="/docs/api/classes/llvm/stringref">StringRef</a> NewStr)</>}>
ReplaceText - This method replaces a range of characters in the input buffer with a new string.

This is effectively a combined &quot;remove/insert&quot; operation.

This is effectively a combined &quot;remove+insert&quot; operation.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/adt/rewritebuffer-h/#l00089">89</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/adt/rewritebuffer-h">RewriteBuffer.h</a>, definition at line <a href="/docs/api/files/lib/lib/support/rewritebuffer-cpp/#l00100">100</a> of file <a href="/docs/api/files/lib/lib/support/rewritebuffer-cpp">RewriteBuffer.cpp</a>.
</MemberDefinition>

### size() {#a4b6a74c2bda71f4a5184e57239c3bda4}

<MemberDefinition
  prototype="unsigned llvm::RewriteBuffer::size () const"
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/adt/rewritebuffer-h/#l00044">44</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/adt/rewritebuffer-h">RewriteBuffer.h</a>.
</MemberDefinition>

### write() {#a0b72d3db59db1731c63217c291929ced}

<MemberDefinition
  prototype={<>raw&#95;ostream &amp; RewriteBuffer::write (<a href="/docs/api/classes/llvm/raw-ostream">raw&#95;ostream</a> &amp; Stream) const</>}>
Write to <code>Stream</code> the result of applying all changes to the original buffer.

Note that it isn&#39;t safe to use this function to overwrite memory mapped files in-place (PR17960). Consider using a higher-level utility such as Rewriter::overwriteChangedFiles() instead.

The original buffer is not actually changed.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/adt/rewritebuffer-h/#l00060">60</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/adt/rewritebuffer-h">RewriteBuffer.h</a>, definition at line <a href="/docs/api/files/lib/lib/support/rewritebuffer-cpp/#l00014">14</a> of file <a href="/docs/api/files/lib/lib/support/rewritebuffer-cpp">RewriteBuffer.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Functions

### AddInsertDelta() {#adf8b6d875840a0fecc696f5912cb6f32}

<MemberDefinition
  prototype="void llvm::RewriteBuffer::AddInsertDelta (unsigned OrigOffset, int Change)"
  labels = {["inline"]}>
AddInsertDelta - When an insertion is made at a position, this method is used to record that information.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/adt/rewritebuffer-h/#l00104">104</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/adt/rewritebuffer-h">RewriteBuffer.h</a>.
</MemberDefinition>

### AddReplaceDelta() {#a2230f1f81e47afde2a09347d9eba47ab}

<MemberDefinition
  prototype="void llvm::RewriteBuffer::AddReplaceDelta (unsigned OrigOffset, int Change)"
  labels = {["inline"]}>
AddReplaceDelta - When a replacement/deletion is made at a position, this method is used to record that information.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/adt/rewritebuffer-h/#l00110">110</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/adt/rewritebuffer-h">RewriteBuffer.h</a>.
</MemberDefinition>

### getMappedOffset() {#a2ac435e5367bbd5c22f840544b24d45d}

<MemberDefinition
  prototype="unsigned llvm::RewriteBuffer::getMappedOffset (unsigned OrigOffset, bool AfterInserts=false) const"
  labels = {["inline"]}>
getMappedOffset - Given an offset into the original SourceBuffer that this <a href="/docs/api/classes/llvm/rewritebuffer">RewriteBuffer</a> is based on, map it into the offset space of the <a href="/docs/api/classes/llvm/rewritebuffer">RewriteBuffer</a>.

If AfterInserts is true and if the OrigOffset indicates a position where text is inserted, the location returned will be after any inserted text at the position.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/adt/rewritebuffer-h/#l00097">97</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/adt/rewritebuffer-h">RewriteBuffer.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Attributes

### Buffer {#a3c10b38c93e216d7a34529edd3d4ec47}

<MemberDefinition
  prototype="RewriteRope llvm::RewriteBuffer::Buffer">

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/adt/rewritebuffer-h/#l00037">37</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/adt/rewritebuffer-h">RewriteBuffer.h</a>.
</MemberDefinition>

### Deltas {#a393d3821d8cf8f206ad8bd114c2491b8}

<MemberDefinition
  prototype="DeltaTree llvm::RewriteBuffer::Deltas">
Deltas - Keep track of all the deltas in the source code due to insertions and deletions.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/adt/rewritebuffer-h/#l00035">35</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/adt/rewritebuffer-h">RewriteBuffer.h</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following files:

<ul>
<li><a href="/docs/api/files/include/include/llvm/include/llvm/adt/rewritebuffer-h">RewriteBuffer.h</a></li>
<li><a href="/docs/api/files/lib/lib/support/rewritebuffer-cpp">RewriteBuffer.cpp</a></li>
</ul>

</DoxygenPage>
