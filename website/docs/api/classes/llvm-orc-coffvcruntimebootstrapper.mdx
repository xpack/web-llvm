---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/llvm/orc/coffvcruntimebootstrapper
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `COFFVCRuntimeBootstrapper` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>

Bootstraps the vc runtime within jitdylibs. <a href="#details">More...</a>

## Declaration

<CodeBlock>class llvm::orc::COFFVCRuntimeBootstrapper</CodeBlock>

## Included Headers

<IncludesList>
<IncludesListItem
  filePath="llvm/ExecutionEngine/Orc/COFFVCRuntimeSupport.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/coffvcruntimesupport-h"
  isLocal="true" />
</IncludesList>

## Private Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#ac9c4b7c09e1e0819a333dc42ddbe1e5f">COFFVCRuntimeBootstrapper</a> (ExecutionSession &amp;ES, ObjectLinkingLayer &amp;ObjLinkingLayer, const char &#42;RuntimePath)</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/error">Error</a></>}
  name={<><a href="#ae44ab952b63e5c304c8ea532a7dd01b1">initializeStaticVCRuntime</a> (JITDylib &amp;JD)</>}>
Runs the initializer of static version of msvc runtime libraries. <a href="#ae44ab952b63e5c304c8ea532a7dd01b1">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/expected">Expected</a>&lt; std::vector&lt; std::string &gt; &gt;</>}
  name={<><a href="#ad4d58003ec0ce1138761122939c20d7a">loadDynamicVCRuntime</a> (JITDylib &amp;JD, bool DebugVersion=false)</>}>
Adds symbol definitions of dynamic version of msvc runtime libraries. <a href="#ad4d58003ec0ce1138761122939c20d7a">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/expected">Expected</a>&lt; std::vector&lt; std::string &gt; &gt;</>}
  name={<><a href="#aa199c65cb56c64b00e7cb294bee41fbd">loadStaticVCRuntime</a> (JITDylib &amp;JD, bool DebugVersion=false)</>}>
Adds symbol definitions of static version of msvc runtime libraries. <a href="#aa199c65cb56c64b00e7cb294bee41fbd">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Functions Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/error">Error</a></>}
  name={<><a href="#a63ee67f642a79938c294be28336d77af">loadVCRuntime</a> (JITDylib &amp;JD, std::vector&lt; std::string &gt; &amp;ImportedLibraries, ArrayRef&lt; StringRef &gt; VCLibs, ArrayRef&lt; StringRef &gt; UCRTLibs)</>}>
</MembersIndexItem>

</MembersIndex>

## Private Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/orc/executionsession">ExecutionSession</a> &amp;</>}
  name={<><a href="#ad357fbc475d878c219e6e9b7075236b7">ES</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/orc/objectlinkinglayer">ObjectLinkingLayer</a> &amp;</>}
  name={<><a href="#aeef173f5aafd138bcfc34dcb8152d811">ObjLinkingLayer</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type="std::string"
  name={<><a href="#a43f0e0b93c39b8a0736ae7922464c33c">RuntimePath</a></>}>
</MembersIndexItem>

</MembersIndex>

## Public Static Functions Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/expected">Expected</a>&lt; std::unique&#95;ptr&lt; <a href="/docs/api/classes/llvm/orc/coffvcruntimebootstrapper">COFFVCRuntimeBootstrapper</a> &gt; &gt;</>}
  name={<><a href="#a86d3eff3f2d3dfad1bfb2f8ffa8d332b">Create</a> (ExecutionSession &amp;ES, ObjectLinkingLayer &amp;ObjLinkingLayer, const char &#42;RuntimePath=nullptr)</>}>
Try to create a <a href="/docs/api/classes/llvm/orc/coffvcruntimebootstrapper">COFFVCRuntimeBootstrapper</a> instance. <a href="#a86d3eff3f2d3dfad1bfb2f8ffa8d332b">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Static Functions Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/expected">Expected</a>&lt; MSVCToolchainPath &gt;</>}
  name={<><a href="#a91c09c2e70695caa9d3fd62dd1b900a0">getMSVCToolchainPath</a> ()</>}>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

Bootstraps the vc runtime within jitdylibs.

Definition at line 31 of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/coffvcruntimesupport-h">COFFVCRuntimeSupport.h</a>.

<SectionDefinition>

## Private Constructors

### COFFVCRuntimeBootstrapper() {#ac9c4b7c09e1e0819a333dc42ddbe1e5f}

<MemberDefinition
  prototype={<>COFFVCRuntimeBootstrapper::COFFVCRuntimeBootstrapper (<a href="/docs/api/classes/llvm/orc/executionsession">ExecutionSession</a> &amp; ES, <a href="/docs/api/classes/llvm/orc/objectlinkinglayer">ObjectLinkingLayer</a> &amp; ObjLinkingLayer, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> char &#42; RuntimePath)</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/coffvcruntimesupport-h/#l00068">68</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/coffvcruntimesupport-h">COFFVCRuntimeSupport.h</a>, definition at line <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/coffvcruntimesupport-cpp/#l00030">30</a> of file <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/coffvcruntimesupport-cpp">COFFVCRuntimeSupport.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### initializeStaticVCRuntime() {#ae44ab952b63e5c304c8ea532a7dd01b1}

<MemberDefinition
  prototype={<>Error COFFVCRuntimeBootstrapper::initializeStaticVCRuntime (<a href="/docs/api/classes/llvm/orc/jitdylib">JITDylib</a> &amp; JD)</>}>
Runs the initializer of static version of msvc runtime libraries.

This must be called before calling any functions requiring c runtime (e.g. printf) within the jit session. Note that proper initialization of vc runtime requires ability of running static initializers. Cosider setting up <a href="/docs/api/classes/llvm/orc/coffplatform">COFFPlatform</a>.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/coffvcruntimesupport-h/#l00061">61</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/coffvcruntimesupport-h">COFFVCRuntimeSupport.h</a>, definition at line <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/coffvcruntimesupport-cpp/#l00109">109</a> of file <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/coffvcruntimesupport-cpp">COFFVCRuntimeSupport.cpp</a>.
</MemberDefinition>

### loadDynamicVCRuntime() {#ad4d58003ec0ce1138761122939c20d7a}

<MemberDefinition
  prototype={<>Expected&lt; std::vector&lt; std::string &gt; &gt; COFFVCRuntimeBootstrapper::loadDynamicVCRuntime (<a href="/docs/api/classes/llvm/orc/jitdylib">JITDylib</a> &amp; JD, bool DebugVersion=false)</>}>
Adds symbol definitions of dynamic version of msvc runtime libraries.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/coffvcruntimesupport-h/#l00065">65</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/coffvcruntimesupport-h">COFFVCRuntimeSupport.h</a>, definition at line <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/coffvcruntimesupport-cpp/#l00051">51</a> of file <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/coffvcruntimesupport-cpp">COFFVCRuntimeSupport.cpp</a>.
</MemberDefinition>

### loadStaticVCRuntime() {#aa199c65cb56c64b00e7cb294bee41fbd}

<MemberDefinition
  prototype={<>Expected&lt; std::vector&lt; std::string &gt; &gt; COFFVCRuntimeBootstrapper::loadStaticVCRuntime (<a href="/docs/api/classes/llvm/orc/jitdylib">JITDylib</a> &amp; JD, bool DebugVersion=false)</>}>
Adds symbol definitions of static version of msvc runtime libraries.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/coffvcruntimesupport-h/#l00054">54</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/coffvcruntimesupport-h">COFFVCRuntimeSupport.h</a>, definition at line <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/coffvcruntimesupport-cpp/#l00039">39</a> of file <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/coffvcruntimesupport-cpp">COFFVCRuntimeSupport.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Functions

### loadVCRuntime() {#a63ee67f642a79938c294be28336d77af}

<MemberDefinition
  prototype={<>Error COFFVCRuntimeBootstrapper::loadVCRuntime (<a href="/docs/api/classes/llvm/orc/jitdylib">JITDylib</a> &amp; JD, std::vector&lt; std::string &gt; &amp; ImportedLibraries, <a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; <a href="/docs/api/classes/llvm/stringref">StringRef</a> &gt; VCLibs, <a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; <a href="/docs/api/classes/llvm/stringref">StringRef</a> &gt; UCRTLibs)</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/coffvcruntimesupport-h/#l00082">82</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/coffvcruntimesupport-h">COFFVCRuntimeSupport.h</a>, definition at line <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/coffvcruntimesupport-cpp/#l00062">62</a> of file <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/coffvcruntimesupport-cpp">COFFVCRuntimeSupport.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Attributes

### ES {#ad357fbc475d878c219e6e9b7075236b7}

<MemberDefinition
  prototype={<>ExecutionSession&amp; llvm::orc::COFFVCRuntimeBootstrapper::ES</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/coffvcruntimesupport-h/#l00072">72</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/coffvcruntimesupport-h">COFFVCRuntimeSupport.h</a>.
</MemberDefinition>

### ObjLinkingLayer {#aeef173f5aafd138bcfc34dcb8152d811}

<MemberDefinition
  prototype={<>ObjectLinkingLayer&amp; llvm::orc::COFFVCRuntimeBootstrapper::ObjLinkingLayer</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/coffvcruntimesupport-h/#l00073">73</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/coffvcruntimesupport-h">COFFVCRuntimeSupport.h</a>.
</MemberDefinition>

### RuntimePath {#a43f0e0b93c39b8a0736ae7922464c33c}

<MemberDefinition
  prototype="std::string llvm::orc::COFFVCRuntimeBootstrapper::RuntimePath">

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/coffvcruntimesupport-h/#l00074">74</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/coffvcruntimesupport-h">COFFVCRuntimeSupport.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Static Functions

### Create() {#a86d3eff3f2d3dfad1bfb2f8ffa8d332b}

<MemberDefinition
  prototype={<>Expected&lt; std::unique&#95;ptr&lt; COFFVCRuntimeBootstrapper &gt; &gt; COFFVCRuntimeBootstrapper::Create (<a href="/docs/api/classes/llvm/orc/executionsession">ExecutionSession</a> &amp; ES, <a href="/docs/api/classes/llvm/orc/objectlinkinglayer">ObjectLinkingLayer</a> &amp; ObjLinkingLayer, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> char &#42; RuntimePath=nullptr)</>}
  labels = {["static"]}>
Try to create a <a href="/docs/api/classes/llvm/orc/coffvcruntimebootstrapper">COFFVCRuntimeBootstrapper</a> instance.

An optional RuntimePath can be given to specify the location of directory that contains all vc runtime library files such as ucrt.lib and msvcrt.lib. If no path was given, it will try to search the MSVC toolchain and Windows SDK installation and use the found library files automatically.

Note that depending on the build setting, a different library file must be used. In general, if vc runtime was statically linked to the object file that is to be jit-linked, LoadStaticVCRuntime and InitializeStaticVCRuntime must be used with libcmt.lib, libucrt.lib, libvcruntimelib. If vc runtime was dynamically linked LoadDynamicVCRuntime must be used along with msvcrt.lib, ucrt.lib, vcruntime.lib.

More information is on: <a href="https://docs.microsoft.com/en-us/cpp/c-runtime-library/crt-library-features">https://docs.microsoft.com/en-us/cpp/c-runtime-library/crt-library-features</a>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/coffvcruntimesupport-h/#l00049">49</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/coffvcruntimesupport-h">COFFVCRuntimeSupport.h</a>, definition at line <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/coffvcruntimesupport-cpp/#l00023">23</a> of file <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/coffvcruntimesupport-cpp">COFFVCRuntimeSupport.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Static Functions

### getMSVCToolchainPath() {#a91c09c2e70695caa9d3fd62dd1b900a0}

<MemberDefinition
  prototype={<>Expected&lt; COFFVCRuntimeBootstrapper::MSVCToolchainPath &gt; COFFVCRuntimeBootstrapper::getMSVCToolchainPath ()</>}
  labels = {["static"]}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/coffvcruntimesupport-h/#l00081">81</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/coffvcruntimesupport-h">COFFVCRuntimeSupport.h</a>, definition at line <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/coffvcruntimesupport-cpp/#l00156">156</a> of file <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/coffvcruntimesupport-cpp">COFFVCRuntimeSupport.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following files:

<ul>
<li><a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/coffvcruntimesupport-h">COFFVCRuntimeSupport.h</a></li>
<li><a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/coffvcruntimesupport-cpp">COFFVCRuntimeSupport.cpp</a></li>
</ul>

</DoxygenPage>
