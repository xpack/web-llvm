---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/anonymous-namespace-gvnsink-cpp-/gvnsink
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `GVNSink` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>



## Declaration

<CodeBlock>class anonymous_namespace{GVNSink.cpp}::GVNSink</CodeBlock>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a8895aed5d4168ada50076def330294cb">GVNSink</a> ()</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="bool"
  name={<><a href="#a900ef156c51ab7bbcff3a4d45856a670">run</a> (Function &amp;F)</>}>
</MembersIndexItem>

</MembersIndex>

## Private Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="void"
  name={<><a href="#ad0d92c05f187ee62ca80be814942815c">analyzeInitialPHIs</a> (BasicBlock &#42;BB, ModelledPHISet &amp;PHIs, SmallPtrSetImpl&lt; Value &#42; &gt; &amp;PHIContents)</>}>
Create a <a href="/docs/api/classes/anonymous-namespace-gvnsink-cpp-/modelledphi">ModelledPHI</a> for each PHI in BB, adding to PHIs. <a href="#ad0d92c05f187ee62ca80be814942815c">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::optional&lt; <a href="/docs/api/structs/anonymous-namespace-gvnsink-cpp-/sinkinginstructioncandidate">SinkingInstructionCandidate</a> &gt;</>}
  name={<><a href="#a615e436433febab97d63752dad0b6443">analyzeInstructionForSinking</a> (LockstepReverseIterator &amp;LRI, unsigned &amp;InstNum, unsigned &amp;MemoryInstNum, ModelledPHISet &amp;NeededPHIs, SmallPtrSetImpl&lt; Value &#42; &gt; &amp;PHIContents)</>}>
The main heuristic function. <a href="#a615e436433febab97d63752dad0b6443">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a335fab6d4c71441126fa5a8fce1f9f05">foldPointlessPHINodes</a> (BasicBlock &#42;BB)</>}>
Remove PHIs that all have the same incoming value. <a href="#a335fab6d4c71441126fa5a8fce1f9f05">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a10f57b404caeef8298ef9b73e5623e62">shouldAvoidSinkingInstruction</a> (Instruction &#42;I)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="unsigned"
  name={<><a href="#a1978eb73a064966f49065af5933e1121">sinkBB</a> (BasicBlock &#42;BBEnd)</>}>
The main instruction sinking driver. <a href="#a1978eb73a064966f49065af5933e1121">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#af7aa4f387bf3256314174d29c338651c">sinkLastInstruction</a> (ArrayRef&lt; BasicBlock &#42; &gt; Blocks, BasicBlock &#42;BBEnd)</>}>
Perform the actual mechanics of sinking an instruction from Blocks into BBEnd, which is their only successor. <a href="#af7aa4f387bf3256314174d29c338651c">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/densemap">DenseMap</a>&lt; <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42;, unsigned &gt;</>}
  name={<><a href="#a7fa34857c4f047ac0ada32de21c30a36">RPOTOrder</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/anonymous-namespace-gvnsink-cpp-/valuetable">ValueTable</a></>}
  name={<><a href="#a9b16b627c1d49e24b6cf69afd74cf62f">VN</a></>}>
</MembersIndexItem>

</MembersIndex>


Definition at line 595 of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp">GVNSink.cpp</a>.

<SectionDefinition>

## Public Constructors

### GVNSink() {#a8895aed5d4168ada50076def330294cb}

<MemberDefinition
  prototype={<>anonymous&#95;namespace&#123;GVNSink.cpp&#125;::GVNSink::GVNSink ()</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp/#l00597">597</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp">GVNSink.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### run() {#a900ef156c51ab7bbcff3a4d45856a670}

<MemberDefinition
  prototype={<>bool anonymous&#95;namespace&#123;GVNSink.cpp&#125;::GVNSink::run (<a href="/docs/api/classes/llvm/function">Function</a> &amp; F)</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp/#l00599">599</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp">GVNSink.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Functions

### analyzeInitialPHIs() {#ad0d92c05f187ee62ca80be814942815c}

<MemberDefinition
  prototype={<>void anonymous&#95;namespace&#123;GVNSink.cpp&#125;::GVNSink::analyzeInitialPHIs (<a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; BB, <a href="/docs/api/namespaces/anonymous-gvnsink-cpp-/#a3cb4bce4910377f3e897dfdff0280ad9">ModelledPHISet</a> &amp; PHIs, <a href="/docs/api/classes/llvm/smallptrsetimpl">SmallPtrSetImpl</a>&lt; <a href="/docs/api/classes/llvm/value">Value</a> &#42; &gt; &amp; PHIContents)</>}
  labels = {["inline"]}>
Create a <a href="/docs/api/classes/anonymous-namespace-gvnsink-cpp-/modelledphi">ModelledPHI</a> for each PHI in BB, adding to PHIs.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp/#l00642">642</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp">GVNSink.cpp</a>.
</MemberDefinition>

### analyzeInstructionForSinking() {#a615e436433febab97d63752dad0b6443}

<MemberDefinition
  prototype={<>std::optional&lt; SinkingInstructionCandidate &gt; anonymous&#95;namespace&#123;GVNSink.cpp&#125;::GVNSink::analyzeInstructionForSinking (<a href="/docs/api/classes/anonymous-namespace-gvnsink-cpp-/lockstepreverseiterator">LockstepReverseIterator</a> &amp; LRI, unsigned &amp; InstNum, unsigned &amp; MemoryInstNum, <a href="/docs/api/namespaces/anonymous-gvnsink-cpp-/#a3cb4bce4910377f3e897dfdff0280ad9">ModelledPHISet</a> &amp; NeededPHIs, <a href="/docs/api/classes/llvm/smallptrsetimpl">SmallPtrSetImpl</a>&lt; <a href="/docs/api/classes/llvm/value">Value</a> &#42; &gt; &amp; PHIContents)</>}>
The main heuristic function.

Analyze the set of instructions pointed to by LRI and return a candidate solution if these instructions can be sunk, or std::nullopt otherwise.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp/#l00637">637</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp">GVNSink.cpp</a>.
</MemberDefinition>

### foldPointlessPHINodes() {#a335fab6d4c71441126fa5a8fce1f9f05}

<MemberDefinition
  prototype={<>void anonymous&#95;namespace&#123;GVNSink.cpp&#125;::GVNSink::foldPointlessPHINodes (<a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; BB)</>}
  labels = {["inline"]}>
Remove PHIs that all have the same incoming value.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp/#l00661">661</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp">GVNSink.cpp</a>.
</MemberDefinition>

### shouldAvoidSinkingInstruction() {#a10f57b404caeef8298ef9b73e5623e62}

<MemberDefinition
  prototype={<>bool anonymous&#95;namespace&#123;GVNSink.cpp&#125;::GVNSink::shouldAvoidSinkingInstruction (<a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42; I)</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp/#l00626">626</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp">GVNSink.cpp</a>.
</MemberDefinition>

### sinkBB() {#a1978eb73a064966f49065af5933e1121}

<MemberDefinition
  prototype={<>unsigned anonymous&#95;namespace&#123;GVNSink.cpp&#125;::GVNSink::sinkBB (<a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; BBEnd)</>}>
The main instruction sinking driver.

Set up state and try and sink instructions into BBEnd from its predecessors.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp/#l00654">654</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp">GVNSink.cpp</a>.
</MemberDefinition>

### sinkLastInstruction() {#af7aa4f387bf3256314174d29c338651c}

<MemberDefinition
  prototype={<>void anonymous&#95;namespace&#123;GVNSink.cpp&#125;::GVNSink::sinkLastInstruction (<a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; &gt; Blocks, <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; BBEnd)</>}>
Perform the actual mechanics of sinking an instruction from Blocks into BBEnd, which is their only successor.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp/#l00658">658</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp">GVNSink.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Attributes

### RPOTOrder {#a7fa34857c4f047ac0ada32de21c30a36}

<MemberDefinition
  prototype={<>DenseMap&lt;const BasicBlock &#42;, unsigned&gt; anonymous&#95;namespace&#123;GVNSink.cpp&#125;::GVNSink::RPOTOrder</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp/#l00624">624</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp">GVNSink.cpp</a>.
</MemberDefinition>

### VN {#a9b16b627c1d49e24b6cf69afd74cf62f}

<MemberDefinition
  prototype={<>ValueTable anonymous&#95;namespace&#123;GVNSink.cpp&#125;::GVNSink::VN</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp/#l00623">623</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp">GVNSink.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following file:

<ul>
<li><a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp">GVNSink.cpp</a></li>
</ul>

</DoxygenPage>
