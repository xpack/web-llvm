---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/llvm/sys/memory
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import Link from '@docusaurus/Link'
import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import EnumerationList from '@xpack/docusaurus-plugin-doxygen/components/EnumerationList'
import EnumerationListItem from '@xpack/docusaurus-plugin-doxygen/components/EnumerationListItem'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'
import SectionUser from '@xpack/docusaurus-plugin-doxygen/components/SectionUser'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `Memory` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>

This class provides various memory handling functions that manipulate <a href="/docs/api/classes/llvm/sys/memoryblock">MemoryBlock</a> instances. <a href="#details">More...</a>

## Declaration

<CodeBlock>class llvm::sys::Memory</CodeBlock>

## Included Headers

<IncludesList>
<IncludesListItem
  filePath="llvm/Support/Memory.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/support/memory-h"
  isLocal="true" />
</IncludesList>

## Enumerations Index

<MembersIndex>

<MembersIndexItem
  type="enum"
  name={<>:  &#123; <a href="#a548f317b89dc0bba738b89e5ce791395">...</a> &#125;</>}>
</MembersIndexItem>

</MembersIndex>

## Public Static Functions Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/sys/memoryblock">MemoryBlock</a></>}
  name={<><a href="#a1326dd13b23711e68ade413fbc57b9f6">allocateMappedMemory</a> (size&#95;t NumBytes, const MemoryBlock &#42;const NearBlock, unsigned Flags, std::error&#95;code &amp;EC)</>}>
This method allocates a block of memory that is suitable for loading dynamically generated code (e.g. <a href="#a1326dd13b23711e68ade413fbc57b9f6">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a5cfd4d2a8227a3f9ca0667f42f05f20b">InvalidateInstructionCache</a> (const void &#42;Addr, size&#95;t Len)</>}>
InvalidateInstructionCache - Before the JIT can run a block of code that has been emitted it must invalidate the instruction cache on some platforms. <a href="#a5cfd4d2a8227a3f9ca0667f42f05f20b">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::error&#95;code</>}
  name={<><a href="#ae27409ddee7e191f33392283ca826703">protectMappedMemory</a> (const MemoryBlock &amp;Block, unsigned Flags)</>}>
This method sets the protection flags for a block of memory to the state specified by /p Flags. <a href="#ae27409ddee7e191f33392283ca826703">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::error&#95;code</>}
  name={<><a href="#a042d24349a4b6a5ce475309cce529ae0">releaseMappedMemory</a> (MemoryBlock &amp;Block)</>}>
This method releases a block of memory that was allocated with the allocateMappedMemory method. <a href="#a042d24349a4b6a5ce475309cce529ae0">More...</a>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

This class provides various memory handling functions that manipulate <a href="/docs/api/classes/llvm/sys/memoryblock">MemoryBlock</a> instances.

<SectionUser title="Since">
1.4 An abstraction for memory operations.
</SectionUser>

Definition at line 53 of file <a href="/docs/api/files/include/include/llvm/include/llvm/support/memory-h">Memory.h</a>.

<SectionDefinition>

## Enumerations

### enum  {#a548f317b89dc0bba738b89e5ce791395}

<MemberDefinition
  prototype="enum llvm::sys::Memory::ProtectionFlags ">

<EnumerationList title="Enumeration values">

<Link id="a548f317b89dc0bba738b89e5ce791395a02cae455b05abf1bfb1de69095e66417" />
<EnumerationListItem name="MF_READ">
 (= 0x1000000)
</EnumerationListItem>

<Link id="a548f317b89dc0bba738b89e5ce791395a83e34a8267f7acd88563e9d5a3ee7c25" />
<EnumerationListItem name="MF_WRITE">
 (= 0x2000000)
</EnumerationListItem>

<Link id="a548f317b89dc0bba738b89e5ce791395a72200d7026f0978efe86fc34f4cba76e" />
<EnumerationListItem name="MF_EXEC">
 (= 0x4000000)
</EnumerationListItem>

<Link id="a548f317b89dc0bba738b89e5ce791395a04baa4ca0e4ca865eba075daf1e551f3" />
<EnumerationListItem name="MF_RWE_MASK">
 (= 0x7000000)
</EnumerationListItem>

<Link id="a548f317b89dc0bba738b89e5ce791395a1f8e817d37e6406698e099531487e3db" />
<EnumerationListItem name="MF_HUGE_HINT">
The <code>MF&#95;HUGE&#95;HINT</code> flag is used to indicate that the request for a memory block should be satisfied with large pages if possible (= 0x0000001)
</EnumerationListItem>

</EnumerationList>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/support/memory-h/#l00055">55</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/support/memory-h">Memory.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Static Functions

### allocateMappedMemory() {#a1326dd13b23711e68ade413fbc57b9f6}

<MemberDefinition
  prototype={<>static MemoryBlock llvm::sys::Memory::allocateMappedMemory (size&#95;t NumBytes, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/sys/memoryblock">MemoryBlock</a> &#42;<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> NearBlock, unsigned Flags, std::error&#95;code &amp; EC)</>}
  labels = {["static"]}>
This method allocates a block of memory that is suitable for loading dynamically generated code (e.g.

JIT). An attempt to allocate <code>NumBytes</code> bytes of virtual memory is made. <code>NearBlock</code> may point to an existing allocation in which case an attempt is made to allocate more memory near the existing block. The actual allocated address is not guaranteed to be near the requested address. <code>Flags</code> is used to set the initial protection flags for the block of the memory. <code>EC</code> &#91;out&#93; returns an object describing any error that occurs.

This method may allocate more than the number of bytes requested. The actual number of bytes allocated is indicated in the returned <a href="/docs/api/classes/llvm/sys/memoryblock">MemoryBlock</a>.

The start of the allocated block must be aligned with the system allocation granularity (64K on Windows, page size on Linux). If the address following <code>NearBlock</code> is not so aligned, it will be rounded up to the next allocation granularity boundary.

\\r a non-null <a href="/docs/api/classes/llvm/sys/memoryblock">MemoryBlock</a> if the function was successful, otherwise a null <a href="/docs/api/classes/llvm/sys/memoryblock">MemoryBlock</a> is with <code>EC</code> describing the error.

Allocate mapped memory.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/support/memory-h/#l00098">98</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/support/memory-h">Memory.h</a>.
</MemberDefinition>

### InvalidateInstructionCache() {#a5cfd4d2a8227a3f9ca0667f42f05f20b}

<MemberDefinition
  prototype={<>static void llvm::sys::Memory::InvalidateInstructionCache (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> void &#42; Addr, size&#95;t Len)</>}
  labels = {["static"]}>
InvalidateInstructionCache - Before the JIT can run a block of code that has been emitted it must invalidate the instruction cache on some platforms.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/support/memory-h/#l00134">134</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/support/memory-h">Memory.h</a>.
</MemberDefinition>

### protectMappedMemory() {#ae27409ddee7e191f33392283ca826703}

<MemberDefinition
  prototype={<>static std::error&#95;code llvm::sys::Memory::protectMappedMemory (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/sys/memoryblock">MemoryBlock</a> &amp; Block, unsigned Flags)</>}
  labels = {["static"]}>
This method sets the protection flags for a block of memory to the state specified by /p Flags.

The behavior is not specified if the memory was not allocated using the allocateMappedMemory method. <code>Block</code> describes the memory block to be protected. <code>Flags</code> specifies the new protection state to be assigned to the block.

If <code>Flags</code> is MF&#95;WRITE, the actual behavior varies with the operating system (i.e. MF&#95;READ | MF&#95;WRITE on Windows) and the target architecture (i.e. MF&#95;WRITE -&gt; MF&#95;READ | MF&#95;WRITE on i386).

\\r error&#95;success if the function was successful, or an error&#95;code describing the failure if an error occurred.

Set memory protection state.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/support/memory-h/#l00128">128</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/support/memory-h">Memory.h</a>.
</MemberDefinition>

### releaseMappedMemory() {#a042d24349a4b6a5ce475309cce529ae0}

<MemberDefinition
  prototype={<>static std::error&#95;code llvm::sys::Memory::releaseMappedMemory (<a href="/docs/api/classes/llvm/sys/memoryblock">MemoryBlock</a> &amp; Block)</>}
  labels = {["static"]}>
This method releases a block of memory that was allocated with the allocateMappedMemory method.

It should not be used to release any memory block allocated any other way. <code>Block</code> describes the memory to be released.

\\r error&#95;success if the function was successful, or an error&#95;code describing the failure if an error occurred.

Release mapped memory.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/support/memory-h/#l00112">112</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/support/memory-h">Memory.h</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following file:

<ul>
<li><a href="/docs/api/files/include/include/llvm/include/llvm/support/memory-h">Memory.h</a></li>
</ul>

</DoxygenPage>
