---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/llvm/csemirbuilder
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import CodeLine from '@xpack/docusaurus-plugin-doxygen/components/CodeLine'
import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import Highlight from '@xpack/docusaurus-plugin-doxygen/components/Highlight'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import ProgramListing from '@xpack/docusaurus-plugin-doxygen/components/ProgramListing'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'
import SectionUser from '@xpack/docusaurus-plugin-doxygen/components/SectionUser'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `CSEMIRBuilder` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>

Defines a builder that does CSE of MachineInstructions using <a href="/docs/api/classes/llvm/giselcseinfo">GISelCSEInfo</a>. <a href="#details">More...</a>

## Declaration

<CodeBlock>class llvm::CSEMIRBuilder</CodeBlock>

## Included Headers

<IncludesList>
<IncludesListItem
  filePath="llvm/CodeGen/GlobalISel/CSEMIRBuilder.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h"
  isLocal="true" />
</IncludesList>

## Base class

<MembersIndex>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/machineirbuilder">MachineIRBuilder</a></>}>
Helper class to build <a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a>. <a href="/docs/api/classes/llvm/machineirbuilder/#details">More...</a>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machineinstrbuilder">MachineInstrBuilder</a></>}
  name={<><a href="#af20c06f6ef57cddf624f531efbaf69e7">buildConstant</a> (const DstOp &amp;Res, const ConstantInt &amp;Val) override</>}>
Build and insert <code>Res</code> = G&#95;CONSTANT <code>Val</code>. <a href="#af20c06f6ef57cddf624f531efbaf69e7">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machineinstrbuilder">MachineInstrBuilder</a></>}
  name={<><a href="#afdce4b9880a0aed02fe487da6a613cbd">buildConstant</a> (const DstOp &amp;Res, int64&#95;t Val)</>}>
Build and insert <code>Res</code> = G&#95;CONSTANT <code>Val</code>. <a href="#afdce4b9880a0aed02fe487da6a613cbd">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machineinstrbuilder">MachineInstrBuilder</a></>}
  name={<><a href="#ab952b8b71fdba5baaf6a083e06d71da2">buildConstant</a> (const DstOp &amp;Res, const APInt &amp;Val)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machineinstrbuilder">MachineInstrBuilder</a></>}
  name={<><a href="#ae1fe7f5085d203a5984b2450f907b239">buildFConstant</a> (const DstOp &amp;Res, const ConstantFP &amp;Val) override</>}>
Build and insert <code>Res</code> = G&#95;FCONSTANT <code>Val</code>. <a href="#ae1fe7f5085d203a5984b2450f907b239">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machineinstrbuilder">MachineInstrBuilder</a></>}
  name={<><a href="#a4265ff404073d12b765bc9fee4e7f186">buildFConstant</a> (const DstOp &amp;Res, double Val)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machineinstrbuilder">MachineInstrBuilder</a></>}
  name={<><a href="#aa28f164b227803f0fef41094366c2dca">buildFConstant</a> (const DstOp &amp;Res, const APFloat &amp;Val)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machineinstrbuilder">MachineInstrBuilder</a></>}
  name={<><a href="#a9c2e15b867893ec15cb49acfbb38e542">buildInstr</a> (unsigned Opc, ArrayRef&lt; DstOp &gt; DstOps, ArrayRef&lt; SrcOp &gt; SrcOps, std::optional&lt; unsigned &gt; Flag=std::nullopt) override</>}>
</MembersIndexItem>

<MembersIndexItem
  name={<><a href="#ad662a74c60eeb99f6a24927479eda063">MachineIRBuilder</a> ()=default</>}>
Some constructors for easy use. <a href="#ad662a74c60eeb99f6a24927479eda063">More...</a>
</MembersIndexItem>

<MembersIndexItem
  name={<><a href="#aa03c7e0eb5346e000177cb95b910cc71">MachineIRBuilder</a> (MachineFunction &amp;MF)</>}>
</MembersIndexItem>

<MembersIndexItem
  name={<><a href="#a6149c9a2642b91bfdb471868a7f8bd1f">MachineIRBuilder</a> (MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator InsPt)</>}>
</MembersIndexItem>

<MembersIndexItem
  name={<><a href="#a7d5d8e859928cc003454a2ba18372a71">MachineIRBuilder</a> (MachineInstr &amp;MI)</>}>
</MembersIndexItem>

<MembersIndexItem
  name={<><a href="#a8d69fb9fe28f38bfe61a276caec92263">MachineIRBuilder</a> (MachineInstr &amp;MI, GISelChangeObserver &amp;Observer)</>}>
</MembersIndexItem>

<MembersIndexItem
  name={<><a href="#aa048045615f06db86c3a4e317ed3a2b3">MachineIRBuilder</a> (const MachineIRBuilderState &amp;BState)</>}>
</MembersIndexItem>

</MembersIndex>

## Private Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="bool"
  name={<><a href="#ae6e8209ef4c337a011476b902bd799cc">canPerformCSEForOpc</a> (unsigned Opc) const</>}>
Simple check if we can CSE (we have the CSEInfo) or if this Opcode is safe to CSE. <a href="#ae6e8209ef4c337a011476b902bd799cc">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a17236385c665da0dbf18b5ab098bb58e">checkCopyToDefsPossible</a> (ArrayRef&lt; DstOp &gt; DstOps)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#ab53292a8500fa16004af814a68e277fb">dominates</a> (MachineBasicBlock::const&#95;iterator A, MachineBasicBlock::const&#95;iterator B) const</>}>
Returns true if A dominates B (within the same basic block). <a href="#ab53292a8500fa16004af814a68e277fb">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machineinstrbuilder">MachineInstrBuilder</a></>}
  name={<><a href="#a9d23c2aafd35499e6ab41c13cb8c9523">generateCopiesIfRequired</a> (ArrayRef&lt; DstOp &gt; DstOps, MachineInstrBuilder &amp;MIB)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machineinstrbuilder">MachineInstrBuilder</a></>}
  name={<><a href="#a6bce118c21f6190369af1a308b734807">getDominatingInstrForID</a> (FoldingSetNodeID &amp;ID, void &#42;&amp;NodeInsertPos)</>}>
For given <a href="/docs/api/namespaces/llvm/callingconv/#abdf8cf606905c10634e831390981b0ed">ID</a>, find a machineinstr in the CSE Map. <a href="#a6bce118c21f6190369af1a308b734807">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machineinstrbuilder">MachineInstrBuilder</a></>}
  name={<><a href="#a20ecb12f5d22d71cd40f9e3ea6553296">memoizeMI</a> (MachineInstrBuilder MIB, void &#42;NodeInsertPos)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a665403895fbe470c1252de4819d00f04">profileDstOp</a> (const DstOp &amp;Op, GISelInstProfileBuilder &amp;B) const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#af9dea911a6daa75a4db7e113076bef58">profileDstOps</a> (ArrayRef&lt; DstOp &gt; Ops, GISelInstProfileBuilder &amp;B) const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#ad7619bee4a86d2909d5861716198eb23">profileEverything</a> (unsigned Opc, ArrayRef&lt; DstOp &gt; DstOps, ArrayRef&lt; SrcOp &gt; SrcOps, std::optional&lt; unsigned &gt; Flags, GISelInstProfileBuilder &amp;B) const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a39e86102e53060a9daabe3fbeb4e27f3">profileMBBOpcode</a> (GISelInstProfileBuilder &amp;B, unsigned Opc) const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#ac091b02ba9259014e18c883b2b829d92">profileSrcOp</a> (const SrcOp &amp;Op, GISelInstProfileBuilder &amp;B) const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a599a4fcb5249b1c6c96ad7a6800bb4c1">profileSrcOps</a> (ArrayRef&lt; SrcOp &gt; Ops, GISelInstProfileBuilder &amp;B) const</>}>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

Defines a builder that does CSE of MachineInstructions using <a href="/docs/api/classes/llvm/giselcseinfo">GISelCSEInfo</a>.

Eg usage.


<ProgramListing>

<CodeLine><Highlight kind="normal">GISelCSEInfo &#42;<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp/#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a> =</Highlight></CodeLine>
<CodeLine><Highlight kind="normal">    &amp;getAnalysis&lt;GISelCSEAnalysisWrapperPass&gt;().getCSEInfo();</Highlight></CodeLine>
<CodeLine><Highlight kind="normal">CSEMIRBuilder CB(Builder.getState());</Highlight></CodeLine>
<CodeLine><Highlight kind="normal">CB.setCSEInfo(<a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/cseinfo-cpp/#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>);</Highlight></CodeLine>
<CodeLine><Highlight kind="normal"></Highlight><Highlight kind="keyword">auto</Highlight><Highlight kind="normal"> <a href="/docs/api/files/lib/lib/ir/builtingcs-cpp/#a2e38c85003a042421cde1647632d0b72">A</a> = CB.buildConstant(s32, 42);</Highlight></CodeLine>
<CodeLine><Highlight kind="normal"></Highlight><Highlight kind="keyword">auto</Highlight><Highlight kind="normal"> <a href="/docs/api/files/lib/lib/ir/builtingcs-cpp/#ae76959fe811ba090de4cba69ac00f1da">B</a> = CB.buildConstant(s32, 42);</Highlight></CodeLine>
<CodeLine><Highlight kind="normal"><a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a href="/docs/api/files/lib/lib/ir/builtingcs-cpp/#a2e38c85003a042421cde1647632d0b72">A</a> == <a href="/docs/api/files/lib/lib/ir/builtingcs-cpp/#ae76959fe811ba090de4cba69ac00f1da">B</a>);</Highlight></CodeLine>
<CodeLine><Highlight kind="normal"></Highlight><Highlight kind="keywordtype">unsigned</Highlight><Highlight kind="normal"> CReg = <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64advsimdscalarpass-cpp/#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.createGenericVirtualRegister(s32);</Highlight></CodeLine>
<CodeLine><Highlight kind="normal"></Highlight><Highlight kind="keyword">auto</Highlight><Highlight kind="normal"> <a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a> = CB.buildConstant(CReg, 42);</Highlight></CodeLine>
<CodeLine><Highlight kind="normal"><a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/silowercontrolflow-cpp/#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a href="/docs/api/namespaces/llvm/callingconv/#ac6aa1387c4375260e2468eb5a77fdb4cafd841a49aec1539bc88abc8ff9e170fb">C</a>-&gt;getOpcode() == TargetOpcode::COPY);</Highlight></CodeLine>

</ProgramListing>


Explicitly passing in a register would materialize a copy if possible. <a href="/docs/api/classes/llvm/csemirbuilder">CSEMIRBuilder</a> also does trivial constant folding for binary ops.

Definition at line 38 of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h">CSEMIRBuilder.h</a>.

<SectionDefinition>

## Public Member Functions

### buildConstant() {#af20c06f6ef57cddf624f531efbaf69e7}

<MemberDefinition
  prototype={<>MachineInstrBuilder CSEMIRBuilder::buildConstant (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/dstop">DstOp</a> &amp; Res, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/constantint">ConstantInt</a> &amp; Val)</>}
  labels = {["virtual"]}>
Build and insert <code>Res</code> = G&#95;CONSTANT <code>Val</code>.

G&#95;CONSTANT is an integer constant with the specified size and value. <code>Val</code> will be extended or truncated to the size of <code>Reg</code>.


<SectionUser title="Precondition">
setBasicBlock or setMI must have been called.
</SectionUser>


<SectionUser title="Precondition">
<code>Res</code> must be a generic virtual register with scalar or pointer type.
</SectionUser>


<SectionUser title="Returns">
The newly created instruction.
</SectionUser>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h/#l00106">106</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h">CSEMIRBuilder.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/csemirbuilder-cpp/#l00334">334</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/csemirbuilder-cpp">CSEMIRBuilder.cpp</a>.
</MemberDefinition>

### buildConstant() {#afdce4b9880a0aed02fe487da6a613cbd}

<MemberDefinition
  prototype={<>MachineInstrBuilder MachineIRBuilder::buildConstant (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/dstop">DstOp</a> &amp; Res, int64&#95;t Val)</>}>
Build and insert <code>Res</code> = G&#95;CONSTANT <code>Val</code>.

G&#95;CONSTANT is an integer constant with the specified size and value.


<SectionUser title="Precondition">
setBasicBlock or setMI must have been called.
</SectionUser>


<SectionUser title="Precondition">
<code>Res</code> must be a generic virtual register with scalar type.
</SectionUser>


<SectionUser title="Returns">
The newly created instruction.
</SectionUser>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h/#l00104">104</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h">CSEMIRBuilder.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/machineirbuilder-cpp/#l00341">341</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/machineirbuilder-cpp">MachineIRBuilder.cpp</a>.
</MemberDefinition>

### buildConstant() {#ab952b8b71fdba5baaf6a083e06d71da2}

<MemberDefinition
  prototype={<>MachineInstrBuilder MachineIRBuilder::buildConstant (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/dstop">DstOp</a> &amp; Res, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/apint">APInt</a> &amp; Val)</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h/#l00104">104</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h">CSEMIRBuilder.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/machineirbuilder-cpp/#l00378">378</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/machineirbuilder-cpp">MachineIRBuilder.cpp</a>.
</MemberDefinition>

### buildFConstant() {#ae1fe7f5085d203a5984b2450f907b239}

<MemberDefinition
  prototype={<>MachineInstrBuilder CSEMIRBuilder::buildFConstant (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/dstop">DstOp</a> &amp; Res, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/constantfp">ConstantFP</a> &amp; Val)</>}
  labels = {["virtual"]}>
Build and insert <code>Res</code> = G&#95;FCONSTANT <code>Val</code>.

G&#95;FCONSTANT is a floating-point constant with the specified size and value.


<SectionUser title="Precondition">
setBasicBlock or setMI must have been called.
</SectionUser>


<SectionUser title="Precondition">
<code>Res</code> must be a generic virtual register with scalar type.
</SectionUser>


<SectionUser title="Returns">
The newly created instruction.
</SectionUser>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h/#l00111">111</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h">CSEMIRBuilder.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/csemirbuilder-cpp/#l00361">361</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/csemirbuilder-cpp">CSEMIRBuilder.cpp</a>.
</MemberDefinition>

### buildFConstant() {#a4265ff404073d12b765bc9fee4e7f186}

<MemberDefinition
  prototype={<>MachineInstrBuilder MachineIRBuilder::buildFConstant (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/dstop">DstOp</a> &amp; Res, double Val)</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h/#l00110">110</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h">CSEMIRBuilder.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/machineirbuilder-cpp/#l00384">384</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/machineirbuilder-cpp">MachineIRBuilder.cpp</a>.
</MemberDefinition>

### buildFConstant() {#aa28f164b227803f0fef41094366c2dca}

<MemberDefinition
  prototype={<>MachineInstrBuilder MachineIRBuilder::buildFConstant (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/dstop">DstOp</a> &amp; Res, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/apfloat">APFloat</a> &amp; Val)</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h/#l00110">110</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h">CSEMIRBuilder.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/machineirbuilder-cpp/#l00393">393</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/machineirbuilder-cpp">MachineIRBuilder.cpp</a>.
</MemberDefinition>

### buildInstr() {#a9c2e15b867893ec15cb49acfbb38e542}

<MemberDefinition
  prototype={<>MachineInstrBuilder CSEMIRBuilder::buildInstr (unsigned Opc, <a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; <a href="/docs/api/classes/llvm/dstop">DstOp</a> &gt; DstOps, <a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; <a href="/docs/api/classes/llvm/srcop">SrcOp</a> &gt; SrcOps, std::optional&lt; unsigned &gt; Flag=std::nullopt)</>}
  labels = {["virtual"]}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h/#l00101">101</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h">CSEMIRBuilder.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/csemirbuilder-cpp/#l00181">181</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/csemirbuilder-cpp">CSEMIRBuilder.cpp</a>.
</MemberDefinition>

### MachineIRBuilder() {#ad662a74c60eeb99f6a24927479eda063}

<MemberDefinition
  prototype="llvm::MachineIRBuilder::MachineIRBuilder ()"
  labels = {["default"]}>
Some constructors for easy use.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h/#l00098">98</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h">CSEMIRBuilder.h</a>.
</MemberDefinition>

### MachineIRBuilder() {#aa03c7e0eb5346e000177cb95b910cc71}

<MemberDefinition
  prototype={<>llvm::MachineIRBuilder::MachineIRBuilder (<a href="/docs/api/classes/llvm/machinefunction">MachineFunction</a> &amp; MF)</>}
  labels = {["inline"]}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h/#l00098">98</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h">CSEMIRBuilder.h</a>, definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/machineirbuilder-h/#l00259">259</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/machineirbuilder-h">MachineIRBuilder.h</a>.
</MemberDefinition>

### MachineIRBuilder() {#a6149c9a2642b91bfdb471868a7f8bd1f}

<MemberDefinition
  prototype={<>llvm::MachineIRBuilder::MachineIRBuilder (<a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &amp; MBB, <a href="/docs/api/classes/llvm/machinebasicblock/#ae34c996b58df9b9ce6695a0c8b70c533">MachineBasicBlock::iterator</a> InsPt)</>}
  labels = {["inline"]}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h/#l00098">98</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h">CSEMIRBuilder.h</a>, definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/machineirbuilder-h/#l00261">261</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/machineirbuilder-h">MachineIRBuilder.h</a>.
</MemberDefinition>

### MachineIRBuilder() {#a7d5d8e859928cc003454a2ba18372a71}

<MemberDefinition
  prototype={<>llvm::MachineIRBuilder::MachineIRBuilder (<a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &amp; MI)</>}
  labels = {["inline"]}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h/#l00098">98</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h">CSEMIRBuilder.h</a>, definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/machineirbuilder-h/#l00266">266</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/machineirbuilder-h">MachineIRBuilder.h</a>.
</MemberDefinition>

### MachineIRBuilder() {#a8d69fb9fe28f38bfe61a276caec92263}

<MemberDefinition
  prototype={<>llvm::MachineIRBuilder::MachineIRBuilder (<a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &amp; MI, <a href="/docs/api/classes/llvm/giselchangeobserver">GISelChangeObserver</a> &amp; Observer)</>}
  labels = {["inline"]}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h/#l00098">98</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h">CSEMIRBuilder.h</a>, definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/machineirbuilder-h/#l00272">272</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/machineirbuilder-h">MachineIRBuilder.h</a>.
</MemberDefinition>

### MachineIRBuilder() {#aa048045615f06db86c3a4e317ed3a2b3}

<MemberDefinition
  prototype={<>llvm::MachineIRBuilder::MachineIRBuilder (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/structs/llvm/machineirbuilderstate">MachineIRBuilderState</a> &amp; BState)</>}
  labels = {["inline"]}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h/#l00098">98</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h">CSEMIRBuilder.h</a>, definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/machineirbuilder-h/#l00279">279</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/machineirbuilder-h">MachineIRBuilder.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Functions

### canPerformCSEForOpc() {#ae6e8209ef4c337a011476b902bd799cc}

<MemberDefinition
  prototype="bool CSEMIRBuilder::canPerformCSEForOpc (unsigned Opc) const">
Simple check if we can CSE (we have the CSEInfo) or if this Opcode is safe to CSE.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h/#l00060">60</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h">CSEMIRBuilder.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/csemirbuilder-cpp/#l00066">66</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/csemirbuilder-cpp">CSEMIRBuilder.cpp</a>.
</MemberDefinition>

### checkCopyToDefsPossible() {#a17236385c665da0dbf18b5ab098bb58e}

<MemberDefinition
  prototype={<>bool CSEMIRBuilder::checkCopyToDefsPossible (<a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; <a href="/docs/api/classes/llvm/dstop">DstOp</a> &gt; DstOps)</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h/#l00094">94</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h">CSEMIRBuilder.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/csemirbuilder-cpp/#l00143">143</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/csemirbuilder-cpp">CSEMIRBuilder.cpp</a>.
</MemberDefinition>

### dominates() {#ab53292a8500fa16004af814a68e277fb}

<MemberDefinition
  prototype={<>bool CSEMIRBuilder::dominates (<a href="/docs/api/classes/llvm/machinebasicblock/#a199a6e4bfdffc8f3379ef4f35004488f">MachineBasicBlock::const&#95;iterator</a> A, <a href="/docs/api/classes/llvm/machinebasicblock/#a199a6e4bfdffc8f3379ef4f35004488f">MachineBasicBlock::const&#95;iterator</a> B) const</>}>
Returns true if A dominates B (within the same basic block).

Both iterators must be in the same basic block.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h/#l00049">49</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h">CSEMIRBuilder.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/csemirbuilder-cpp/#l00023">23</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/csemirbuilder-cpp">CSEMIRBuilder.cpp</a>.
</MemberDefinition>

### generateCopiesIfRequired() {#a9d23c2aafd35499e6ab41c13cb8c9523}

<MemberDefinition
  prototype={<>MachineInstrBuilder CSEMIRBuilder::generateCopiesIfRequired (<a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; <a href="/docs/api/classes/llvm/dstop">DstOp</a> &gt; DstOps, <a href="/docs/api/classes/llvm/machineinstrbuilder">MachineInstrBuilder</a> &amp; MIB)</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h/#l00088">88</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h">CSEMIRBuilder.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/csemirbuilder-cpp/#l00154">154</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/csemirbuilder-cpp">CSEMIRBuilder.cpp</a>.
</MemberDefinition>

### getDominatingInstrForID() {#a6bce118c21f6190369af1a308b734807}

<MemberDefinition
  prototype={<>MachineInstrBuilder CSEMIRBuilder::getDominatingInstrForID (<a href="/docs/api/classes/llvm/foldingsetnodeid">FoldingSetNodeID</a> &amp; ID, void &#42;&amp; NodeInsertPos)</>}>
For given <a href="/docs/api/namespaces/llvm/callingconv/#abdf8cf606905c10634e831390981b0ed">ID</a>, find a machineinstr in the CSE Map.

If found, check if it dominates the current insertion point and if not, move it just before the current insertion point and return it. If not found, return Null <a href="/docs/api/classes/llvm/machineinstrbuilder">MachineInstrBuilder</a>.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h/#l00056">56</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h">CSEMIRBuilder.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/csemirbuilder-cpp/#l00038">38</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/csemirbuilder-cpp">CSEMIRBuilder.cpp</a>.
</MemberDefinition>

### memoizeMI() {#a20ecb12f5d22d71cd40f9e3ea6553296}

<MemberDefinition
  prototype={<>MachineInstrBuilder CSEMIRBuilder::memoizeMI (<a href="/docs/api/classes/llvm/machineinstrbuilder">MachineInstrBuilder</a> MIB, void &#42; NodeInsertPos)</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h/#l00084">84</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h">CSEMIRBuilder.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/csemirbuilder-cpp/#l00134">134</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/csemirbuilder-cpp">CSEMIRBuilder.cpp</a>.
</MemberDefinition>

### profileDstOp() {#a665403895fbe470c1252de4819d00f04}

<MemberDefinition
  prototype={<>void CSEMIRBuilder::profileDstOp (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/dstop">DstOp</a> &amp; Op, <a href="/docs/api/classes/llvm/giselinstprofilebuilder">GISelInstProfileBuilder</a> &amp; B) const</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h/#l00062">62</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h">CSEMIRBuilder.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/csemirbuilder-cpp/#l00073">73</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/csemirbuilder-cpp">CSEMIRBuilder.cpp</a>.
</MemberDefinition>

### profileDstOps() {#af9dea911a6daa75a4db7e113076bef58}

<MemberDefinition
  prototype={<>void llvm::CSEMIRBuilder::profileDstOps (<a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; <a href="/docs/api/classes/llvm/dstop">DstOp</a> &gt; Ops, <a href="/docs/api/classes/llvm/giselinstprofilebuilder">GISelInstProfileBuilder</a> &amp; B) const</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h/#l00064">64</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h">CSEMIRBuilder.h</a>.
</MemberDefinition>

### profileEverything() {#ad7619bee4a86d2909d5861716198eb23}

<MemberDefinition
  prototype={<>void CSEMIRBuilder::profileEverything (unsigned Opc, <a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; <a href="/docs/api/classes/llvm/dstop">DstOp</a> &gt; DstOps, <a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; <a href="/docs/api/classes/llvm/srcop">SrcOp</a> &gt; SrcOps, std::optional&lt; unsigned &gt; Flags, <a href="/docs/api/classes/llvm/giselinstprofilebuilder">GISelInstProfileBuilder</a> &amp; B) const</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h/#l00078">78</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h">CSEMIRBuilder.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/csemirbuilder-cpp/#l00119">119</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/csemirbuilder-cpp">CSEMIRBuilder.cpp</a>.
</MemberDefinition>

### profileMBBOpcode() {#a39e86102e53060a9daabe3fbeb4e27f3}

<MemberDefinition
  prototype={<>void CSEMIRBuilder::profileMBBOpcode (<a href="/docs/api/classes/llvm/giselinstprofilebuilder">GISelInstProfileBuilder</a> &amp; B, unsigned Opc) const</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h/#l00076">76</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h">CSEMIRBuilder.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/csemirbuilder-cpp/#l00111">111</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/csemirbuilder-cpp">CSEMIRBuilder.cpp</a>.
</MemberDefinition>

### profileSrcOp() {#ac091b02ba9259014e18c883b2b829d92}

<MemberDefinition
  prototype={<>void CSEMIRBuilder::profileSrcOp (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/srcop">SrcOp</a> &amp; Op, <a href="/docs/api/classes/llvm/giselinstprofilebuilder">GISelInstProfileBuilder</a> &amp; B) const</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h/#l00069">69</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h">CSEMIRBuilder.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/csemirbuilder-cpp/#l00096">96</a> of file <a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/csemirbuilder-cpp">CSEMIRBuilder.cpp</a>.
</MemberDefinition>

### profileSrcOps() {#a599a4fcb5249b1c6c96ad7a6800bb4c1}

<MemberDefinition
  prototype={<>void llvm::CSEMIRBuilder::profileSrcOps (<a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; <a href="/docs/api/classes/llvm/srcop">SrcOp</a> &gt; Ops, <a href="/docs/api/classes/llvm/giselinstprofilebuilder">GISelInstProfileBuilder</a> &amp; B) const</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h/#l00071">71</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h">CSEMIRBuilder.h</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following files:

<ul>
<li><a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/csemirbuilder-h">CSEMIRBuilder.h</a></li>
<li><a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/machineirbuilder-h">MachineIRBuilder.h</a></li>
<li><a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/csemirbuilder-cpp">CSEMIRBuilder.cpp</a></li>
<li><a href="/docs/api/files/lib/lib/codegen/lib/codegen/globalisel/machineirbuilder-cpp">MachineIRBuilder.cpp</a></li>
</ul>

</DoxygenPage>
