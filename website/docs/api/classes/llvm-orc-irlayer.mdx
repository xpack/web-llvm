---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/llvm/orc/irlayer
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `IRLayer` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>

Interface for layers that accept LLVM IR. <a href="#details">More...</a>

## Declaration

<CodeBlock>class llvm::orc::IRLayer</CodeBlock>

## Included Headers

<IncludesList>
<IncludesListItem
  filePath="llvm/ExecutionEngine/Orc/Layer.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/layer-h"
  isLocal="true" />
</IncludesList>

## Derived Classes

<MembersIndex>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/orc/compileondemandlayer">CompileOnDemandLayer</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/orc/ircompilelayer">IRCompileLayer</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/orc/irpartitionlayer">IRPartitionLayer</a></>}>
A layer that breaks up IR modules into smaller submodules that only contains looked up symbols. <a href="/docs/api/classes/llvm/orc/irpartitionlayer/#details">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/orc/irspeculationlayer">IRSpeculationLayer</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/orc/irtransformlayer">IRTransformLayer</a></>}>
A layer that applies a transform to emitted modules. <a href="/docs/api/classes/llvm/orc/irtransformlayer/#details">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/orc/reoptimizelayer">ReOptimizeLayer</a></>}>
</MembersIndexItem>

</MembersIndex>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a1141609d9c7e4bdd205bc09698ff51b3">IRLayer</a> (ExecutionSession &amp;ES, const IRSymbolMapper::ManglingOptions &#42;&amp;MO)</>}>
</MembersIndexItem>

</MembersIndex>

## Public Destructor Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a73e7356e785b11cc1798ed30cb43f87e">~IRLayer</a> ()</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/error">Error</a></>}
  name={<><a href="#a55d40572359c36d1ee718fe3b5ccb89e">add</a> (ResourceTrackerSP RT, ThreadSafeModule TSM)</>}>
Add a MaterializatinoUnit representing the given IR to the <a href="/docs/api/classes/llvm/orc/jitdylib">JITDylib</a> targeted by the given tracker. <a href="#a55d40572359c36d1ee718fe3b5ccb89e">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/error">Error</a></>}
  name={<><a href="#aad7763ba39a875c20de25ee9f47eba17">add</a> (JITDylib &amp;JD, ThreadSafeModule TSM)</>}>
Adds a <a href="/docs/api/classes/llvm/orc/materializationunit">MaterializationUnit</a> representing the given IR to the given <a href="/docs/api/classes/llvm/orc/jitdylib">JITDylib</a>. <a href="#aad7763ba39a875c20de25ee9f47eba17">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a3432ce8c435e826875e4476505a4c2fc">emit</a> (std::unique&#95;ptr&lt; MaterializationResponsibility &gt; R, ThreadSafeModule TSM)=0</>}>
Emit should materialize the given IR. <a href="#a3432ce8c435e826875e4476505a4c2fc">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#aee70ef9d8989f16d25260d172b7f2bd9">getCloneToNewContextOnEmit</a> () const</>}>
Returns the current value of the CloneToNewContextOnEmit flag. <a href="#aee70ef9d8989f16d25260d172b7f2bd9">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/orc/executionsession">ExecutionSession</a> &amp;</>}
  name={<><a href="#a88dfbca45a6353ce7c643414c0d945cf">getExecutionSession</a> ()</>}>
Returns the <a href="/docs/api/classes/llvm/orc/executionsession">ExecutionSession</a> for this layer. <a href="#a88dfbca45a6353ce7c643414c0d945cf">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/structs/llvm/orc/irsymbolmapper/manglingoptions">IRSymbolMapper::ManglingOptions</a> &#42;&amp;</>}
  name={<><a href="#ae3cfe72cdaca15dbe4c360d8bcdb5207">getManglingOptions</a> () const</>}>
Get the mangling options for this layer. <a href="#ae3cfe72cdaca15dbe4c360d8bcdb5207">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a9c064a010c4aaeb1df5ed5d5f4ef6de8">setCloneToNewContextOnEmit</a> (bool CloneToNewContextOnEmit)</>}>
Sets the CloneToNewContextOnEmit flag (false by default). <a href="#a9c064a010c4aaeb1df5ed5d5f4ef6de8">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type="bool"
  name={<><a href="#a46395ac2cabd0dd70182f04b8c24065d">CloneToNewContextOnEmit</a> = false</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/orc/executionsession">ExecutionSession</a> &amp;</>}
  name={<><a href="#a4f3fe7f434a1e51749411c39f9f31388">ES</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/structs/llvm/orc/irsymbolmapper/manglingoptions">IRSymbolMapper::ManglingOptions</a> &#42;&amp;</>}
  name={<><a href="#a77ce44eb4fbac0c6be0969a24285014d">MO</a></>}>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

Interface for layers that accept LLVM IR.

Definition at line 67 of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/layer-h">Layer.h</a>.

<SectionDefinition>

## Public Constructors

### IRLayer() {#a1141609d9c7e4bdd205bc09698ff51b3}

<MemberDefinition
  prototype={<>llvm::orc::IRLayer::IRLayer (<a href="/docs/api/classes/llvm/orc/executionsession">ExecutionSession</a> &amp; ES, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/structs/llvm/orc/irsymbolmapper/manglingoptions">IRSymbolMapper::ManglingOptions</a> &#42;&amp; MO)</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/layer-h/#l00069">69</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/layer-h">Layer.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Destructor

### ~IRLayer() {#a73e7356e785b11cc1798ed30cb43f87e}

<MemberDefinition
  prototype="llvm::orc::IRLayer::~IRLayer ()"
  labels = {["virtual"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/layer-h/#l00072">72</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/layer-h">Layer.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### add() {#a55d40572359c36d1ee718fe3b5ccb89e}

<MemberDefinition
  prototype={<>Error llvm::orc::IRLayer::add (<a href="/docs/api/namespaces/llvm/orc/#a25b487d71ccd2a8f38131e2b21c5d612">ResourceTrackerSP</a> RT, <a href="/docs/api/classes/llvm/orc/threadsafemodule">ThreadSafeModule</a> TSM)</>}
  labels = {["virtual"]}>
Add a MaterializatinoUnit representing the given IR to the <a href="/docs/api/classes/llvm/orc/jitdylib">JITDylib</a> targeted by the given tracker.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/layer-h/#l00100">100</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/layer-h">Layer.h</a>, definition at line <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/layer-cpp/#l00024">24</a> of file <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/layer-cpp">Layer.cpp</a>.
</MemberDefinition>

### add() {#aad7763ba39a875c20de25ee9f47eba17}

<MemberDefinition
  prototype={<>Error llvm::orc::IRLayer::add (<a href="/docs/api/classes/llvm/orc/jitdylib">JITDylib</a> &amp; JD, <a href="/docs/api/classes/llvm/orc/threadsafemodule">ThreadSafeModule</a> TSM)</>}
  labels = {["inline"]}>
Adds a <a href="/docs/api/classes/llvm/orc/materializationunit">MaterializationUnit</a> representing the given IR to the given <a href="/docs/api/classes/llvm/orc/jitdylib">JITDylib</a>.

If RT is not specif

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/layer-h/#l00104">104</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/layer-h">Layer.h</a>.
</MemberDefinition>

### emit() {#a3432ce8c435e826875e4476505a4c2fc}

<MemberDefinition
  prototype={<>virtual void llvm::orc::IRLayer::emit (std::unique&#95;ptr&lt; <a href="/docs/api/classes/llvm/orc/materializationresponsibility">MaterializationResponsibility</a> &gt; R, <a href="/docs/api/classes/llvm/orc/threadsafemodule">ThreadSafeModule</a> TSM)</>}>
Emit should materialize the given IR.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/layer-h/#l00109">109</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/layer-h">Layer.h</a>.
</MemberDefinition>

### getCloneToNewContextOnEmit() {#aee70ef9d8989f16d25260d172b7f2bd9}

<MemberDefinition
  prototype="bool llvm::orc::IRLayer::getCloneToNewContextOnEmit () const"
  labels = {["inline"]}>
Returns the current value of the CloneToNewContextOnEmit flag.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/layer-h/#l00096">96</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/layer-h">Layer.h</a>.
</MemberDefinition>

### getExecutionSession() {#a88dfbca45a6353ce7c643414c0d945cf}

<MemberDefinition
  prototype={<>ExecutionSession &amp; llvm::orc::IRLayer::getExecutionSession ()</>}
  labels = {["inline"]}>
Returns the <a href="/docs/api/classes/llvm/orc/executionsession">ExecutionSession</a> for this layer.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/layer-h/#l00075">75</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/layer-h">Layer.h</a>.
</MemberDefinition>

### getManglingOptions() {#ae3cfe72cdaca15dbe4c360d8bcdb5207}

<MemberDefinition
  prototype={<>const IRSymbolMapper::ManglingOptions &#42;&amp; llvm::orc::IRLayer::getManglingOptions () const</>}
  labels = {["inline"]}>
Get the mangling options for this layer.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/layer-h/#l00078">78</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/layer-h">Layer.h</a>.
</MemberDefinition>

### setCloneToNewContextOnEmit() {#a9c064a010c4aaeb1df5ed5d5f4ef6de8}

<MemberDefinition
  prototype="void llvm::orc::IRLayer::setCloneToNewContextOnEmit (bool CloneToNewContextOnEmit)"
  labels = {["inline"]}>
Sets the CloneToNewContextOnEmit flag (false by default).

When set, IR modules added to this layer will be cloned on to a new context before emit is called. This can be used by clients who want to load all IR using one <a href="/docs/api/classes/llvm/llvmcontext">LLVMContext</a> (to save memory via type and constant uniquing), but want to move Modules to fresh contexts before compiling them to enable concurrent compilation. Single threaded clients, or clients who load every module on a new context, need not set this.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/layer-h/#l00091">91</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/layer-h">Layer.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Attributes

### CloneToNewContextOnEmit {#a46395ac2cabd0dd70182f04b8c24065d}

<MemberDefinition
  prototype="bool llvm::orc::IRLayer::CloneToNewContextOnEmit = false">

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/layer-h/#l00113">113</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/layer-h">Layer.h</a>.
</MemberDefinition>

### ES {#a4f3fe7f434a1e51749411c39f9f31388}

<MemberDefinition
  prototype={<>ExecutionSession&amp; llvm::orc::IRLayer::ES</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/layer-h/#l00114">114</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/layer-h">Layer.h</a>.
</MemberDefinition>

### MO {#a77ce44eb4fbac0c6be0969a24285014d}

<MemberDefinition
  prototype={<>const IRSymbolMapper::ManglingOptions&#42;&amp; llvm::orc::IRLayer::MO</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/layer-h/#l00115">115</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/layer-h">Layer.h</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following files:

<ul>
<li><a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/layer-h">Layer.h</a></li>
<li><a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/layer-cpp">Layer.cpp</a></li>
</ul>

</DoxygenPage>
