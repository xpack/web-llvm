---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/llvm/machineloop
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `MachineLoop` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>



## Declaration

<CodeBlock>class llvm::MachineLoop</CodeBlock>

## Included Headers

<IncludesList>
<IncludesListItem
  filePath="llvm/CodeGen/MachineLoopInfo.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/codegen/machineloopinfo-h"
  isLocal="true" />
</IncludesList>

## Base class

<MembersIndex>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/loopbase">LoopBase&lt;BlockT, LoopT&gt;</a></>}>
Instances of this class are used to represent loops that are detected in the flow graph. <a href="/docs/api/classes/llvm/loopbase/#details">More...</a>
</MembersIndexItem>

</MembersIndex>

## Friends Index

<MembersIndex>

<MembersIndexItem
  type="class"
  name={<><a href="#a7b25b2f840c82a24dfd0fe80b5cfefc9">LoopInfoBase&lt; MachineBasicBlock, MachineLoop &gt;</a></>}>
</MembersIndexItem>

</MembersIndex>

## Private Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#af67f66885ba37646c0069ee7ad57686f">MachineLoop</a> (MachineBasicBlock &#42;MBB)</>}>
</MembersIndexItem>

<MembersIndexItem
  name={<><a href="#a3637288a6f4af3b6d1143e96a99baa4d">MachineLoop</a> ()=default</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="void"
  name={<><a href="#a8540c69f528369eb693bb2fafc1d7030">dump</a> () const</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;</>}
  name={<><a href="#a21c5ce341ebbe98e0a15ea6914661f0b">findLoopControlBlock</a> () const</>}>
Find the block that contains the loop control variable and the loop test. <a href="#a21c5ce341ebbe98e0a15ea6914661f0b">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;</>}
  name={<><a href="#aa5d6d2568abd0f3161ac255b4c6e1f4c">getBottomBlock</a> ()</>}>
Return the &quot;bottom&quot; block in the loop, which is the last block in the linear layout, ignoring any parts of the loop not contiguous with the part that contains the header. <a href="#aa5d6d2568abd0f3161ac255b4c6e1f4c">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/mdnode">MDNode</a> &#42;</>}
  name={<><a href="#a670b0c3e3a586e3263765d61f840cf22">getLoopID</a> () const</>}>
Find the llvm.loop metadata for this loop. <a href="#a670b0c3e3a586e3263765d61f840cf22">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/debugloc">DebugLoc</a></>}
  name={<><a href="#a8272f9a740bb9f21c0a1025873ae697a">getStartLoc</a> () const</>}>
Return the debug location of the start of this loop. <a href="#a8272f9a740bb9f21c0a1025873ae697a">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;</>}
  name={<><a href="#adfb3765b2827835823c1c55d12b33957">getTopBlock</a> ()</>}>
Return the &quot;top&quot; block in the loop, which is the first block in the linear layout, ignoring any parts of the loop not contiguous with the part that contains the header. <a href="#adfb3765b2827835823c1c55d12b33957">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#ac3ba70811fe6842e3354120afc36c8d5">isLoopInvariant</a> (MachineInstr &amp;I, const Register ExcludeReg=0) const</>}>
Returns true if the instruction is loop invariant. <a href="#ac3ba70811fe6842e3354120afc36c8d5">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="bool"
  name={<><a href="#a6943de33e6f8e1d4c00e535578950acc">isLoopInvariantImplicitPhysReg</a> (Register Reg) const</>}>
Returns true if the given physreg has no defs inside the loop. <a href="#a6943de33e6f8e1d4c00e535578950acc">More...</a>
</MembersIndexItem>

</MembersIndex>


Definition at line 46 of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machineloopinfo-h">MachineLoopInfo.h</a>.

<SectionDefinition>

## Friends

### LoopInfoBase&lt; MachineBasicBlock, MachineLoop &gt; {#a7b25b2f840c82a24dfd0fe80b5cfefc9}

<MemberDefinition
  prototype={<>friend class <a href="/docs/api/classes/llvm/loopinfobase">LoopInfoBase</a>&lt; <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a>, <a href="/docs/api/classes/llvm/machineloop">MachineLoop</a> &gt;</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machineloopinfo-h/#l00088">88</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machineloopinfo-h">MachineLoopInfo.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Constructors

### MachineLoop() {#af67f66885ba37646c0069ee7ad57686f}

<MemberDefinition
  prototype={<>llvm::MachineLoop::MachineLoop (<a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42; MBB)</>}
  labels = {["inline", "explicit"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machineloopinfo-h/#l00096">96</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machineloopinfo-h">MachineLoopInfo.h</a>.
</MemberDefinition>

### MachineLoop() {#a3637288a6f4af3b6d1143e96a99baa4d}

<MemberDefinition
  prototype="llvm::MachineLoop::MachineLoop ()"
  labels = {["default"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machineloopinfo-h/#l00099">99</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machineloopinfo-h">MachineLoopInfo.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### dump() {#a8540c69f528369eb693bb2fafc1d7030}

<MemberDefinition
  prototype={<>LLVM&#95;DUMP&#95;METHOD void MachineLoop::dump () const</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machineloopinfo-h/#l00088">88</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machineloopinfo-h">MachineLoopInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/machineloopinfo-cpp/#l00307">307</a> of file <a href="/docs/api/files/lib/lib/codegen/machineloopinfo-cpp">MachineLoopInfo.cpp</a>.
</MemberDefinition>

### findLoopControlBlock() {#a21c5ce341ebbe98e0a15ea6914661f0b}

<MemberDefinition
  prototype={<>MachineBasicBlock &#42; MachineLoop::findLoopControlBlock () const</>}>
Find the block that contains the loop control variable and the loop test.

This will return the latch block if it&#39;s one of the exiting blocks. Otherwise, return the exiting block. Return &#39;null&#39; when multiple exiting blocks are present.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machineloopinfo-h/#l00062">62</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machineloopinfo-h">MachineLoopInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/machineloopinfo-cpp/#l00119">119</a> of file <a href="/docs/api/files/lib/lib/codegen/machineloopinfo-cpp">MachineLoopInfo.cpp</a>.
</MemberDefinition>

### getBottomBlock() {#aa5d6d2568abd0f3161ac255b4c6e1f4c}

<MemberDefinition
  prototype={<>MachineBasicBlock &#42; MachineLoop::getBottomBlock ()</>}>
Return the &quot;bottom&quot; block in the loop, which is the last block in the linear layout, ignoring any parts of the loop not contiguous with the part that contains the header.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machineloopinfo-h/#l00056">56</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machineloopinfo-h">MachineLoopInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/machineloopinfo-cpp/#l00104">104</a> of file <a href="/docs/api/files/lib/lib/codegen/machineloopinfo-cpp">MachineLoopInfo.cpp</a>.
</MemberDefinition>

### getLoopID() {#a670b0c3e3a586e3263765d61f840cf22}

<MemberDefinition
  prototype={<>MDNode &#42; MachineLoop::getLoopID () const</>}>
Find the llvm.loop metadata for this loop.

If each branch to the header of this loop contains the same llvm.loop metadata, then this metadata node is returned. Otherwise, if any latch instruction does not contain the llvm.loop metadata or multiple latch instructions contain different llvm.loop metadata nodes, then null is returned.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machineloopinfo-h/#l00077">77</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machineloopinfo-h">MachineLoopInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/machineloopinfo-cpp/#l00182">182</a> of file <a href="/docs/api/files/lib/lib/codegen/machineloopinfo-cpp">MachineLoopInfo.cpp</a>.
</MemberDefinition>

### getStartLoc() {#a8272f9a740bb9f21c0a1025873ae697a}

<MemberDefinition
  prototype="DebugLoc MachineLoop::getStartLoc () const">
Return the debug location of the start of this loop.

This looks for a BB terminating instruction with a known debug location by looking at the preheader and header blocks. If it cannot find a terminating instruction with location information, it returns an unknown location.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machineloopinfo-h/#l00069">69</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machineloopinfo-h">MachineLoopInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/machineloopinfo-cpp/#l00129">129</a> of file <a href="/docs/api/files/lib/lib/codegen/machineloopinfo-cpp">MachineLoopInfo.cpp</a>.
</MemberDefinition>

### getTopBlock() {#adfb3765b2827835823c1c55d12b33957}

<MemberDefinition
  prototype={<>MachineBasicBlock &#42; MachineLoop::getTopBlock ()</>}>
Return the &quot;top&quot; block in the loop, which is the first block in the linear layout, ignoring any parts of the loop not contiguous with the part that contains the header.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machineloopinfo-h/#l00051">51</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machineloopinfo-h">MachineLoopInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/machineloopinfo-cpp/#l00089">89</a> of file <a href="/docs/api/files/lib/lib/codegen/machineloopinfo-cpp">MachineLoopInfo.cpp</a>.
</MemberDefinition>

### isLoopInvariant() {#ac3ba70811fe6842e3354120afc36c8d5}

<MemberDefinition
  prototype={<>bool MachineLoop::isLoopInvariant (<a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &amp; I, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/register">Register</a> ExcludeReg=0) const</>}>
Returns true if the instruction is loop invariant.

I.e., all virtual register operands are defined outside of the loop, physical registers aren&#39;t accessed explicitly, and there are no side effects that aren&#39;t captured by the operands or other flags. ExcludeReg can be used to exclude the given register from the check i.e. when we&#39;re considering hoisting it&#39;s definition but not hoisted it yet

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machineloopinfo-h/#l00086">86</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machineloopinfo-h">MachineLoopInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/machineloopinfo-cpp/#l00246">246</a> of file <a href="/docs/api/files/lib/lib/codegen/machineloopinfo-cpp">MachineLoopInfo.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Functions

### isLoopInvariantImplicitPhysReg() {#a6943de33e6f8e1d4c00e535578950acc}

<MemberDefinition
  prototype={<>bool MachineLoop::isLoopInvariantImplicitPhysReg (<a href="/docs/api/classes/llvm/register">Register</a> Reg) const</>}>
Returns true if the given physreg has no defs inside the loop.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machineloopinfo-h/#l00094">94</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machineloopinfo-h">MachineLoopInfo.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/machineloopinfo-cpp/#l00229">229</a> of file <a href="/docs/api/files/lib/lib/codegen/machineloopinfo-cpp">MachineLoopInfo.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following files:

<ul>
<li><a href="/docs/api/files/include/include/llvm/include/llvm/codegen/machineloopinfo-h">MachineLoopInfo.h</a></li>
<li><a href="/docs/api/files/lib/lib/codegen/machineloopinfo-cpp">MachineLoopInfo.cpp</a></li>
</ul>

</DoxygenPage>
