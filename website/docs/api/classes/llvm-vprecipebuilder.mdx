---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/llvm/vprecipebuilder
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `VPRecipeBuilder` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>

Helper class to create VPRecipies from IR instructions. <a href="#details">More...</a>

## Declaration

<CodeBlock>class llvm::VPRecipeBuilder</CodeBlock>

## Included Headers

<IncludesList>
<IncludesListItem
  filePath="Transforms/Vectorize/VPRecipeBuilder.h"
  permalink="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h"
  isLocal="true" />
</IncludesList>

## Private Member Typedefs Index

<MembersIndex>

<MembersIndexItem
  type="using"
  name={<><a href="#af471aecea0d388416897d4986f36fcf9">BlockMaskCacheTy</a> = <a href="/docs/api/classes/llvm/densemap">DenseMap</a>&lt; <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42;, <a href="/docs/api/classes/llvm/vpvalue">VPValue</a> &#42; &gt;</>}>
</MembersIndexItem>

<MembersIndexItem
  type="using"
  name={<><a href="#acd211a51adf7aef33cfa49ee55d62a41">EdgeMaskCacheTy</a> = <a href="/docs/api/classes/llvm/densemap">DenseMap</a>&lt; std::pair&lt; <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42;, <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; &gt;, <a href="/docs/api/classes/llvm/vpvalue">VPValue</a> &#42; &gt;</>}>
When we if-convert we need to create edge masks. <a href="#acd211a51adf7aef33cfa49ee55d62a41">More...</a>
</MembersIndexItem>

</MembersIndex>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#afc4659f1aee78e49f4e81af4eacaad23">VPRecipeBuilder</a> (VPlan &amp;Plan, Loop &#42;OrigLoop, const TargetLibraryInfo &#42;TLI, const TargetTransformInfo &#42;TTI, LoopVectorizationLegality &#42;Legal, LoopVectorizationCostModel &amp;CM, PredicatedScalarEvolution &amp;PSE, VPBuilder &amp;Builder)</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="void"
  name={<><a href="#a8dc41af84f49f4b418bddf15547755af">collectScaledReductions</a> (VFRange &amp;Range)</>}>
Find all possible partial reductions in the loop and track all of those that are valid so recipes can be formed later. <a href="#a8dc41af84f49f4b418bddf15547755af">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a8a4bd8661b898e837b18df553e937311">createBlockInMask</a> (BasicBlock &#42;BB)</>}>
A helper function that computes the predicate of the block BB, assuming that the header block of the loop is set to True or the loop mask when tail folding. <a href="#a8a4bd8661b898e837b18df553e937311">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/vpvalue">VPValue</a> &#42;</>}
  name={<><a href="#a0775987674a0fc922481db1966a5fdf5">createEdgeMask</a> (BasicBlock &#42;Src, BasicBlock &#42;Dst)</>}>
A helper function that computes the predicate of the edge between SRC and DST. <a href="#a0775987674a0fc922481db1966a5fdf5">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a826173bded23a3839e30074a98ad34a1">createHeaderMask</a> ()</>}>
Create the mask for the vector loop header block. <a href="#a826173bded23a3839e30074a98ad34a1">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a2e7e2adb0e2bd1c35df6aee471fc1db7">createSwitchEdgeMasks</a> (SwitchInst &#42;SI)</>}>
Create an edge mask for every destination of cases and/or default. <a href="#a2e7e2adb0e2bd1c35df6aee471fc1db7">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a6d8fbabf45554d7d598dc8eb4eca41cf">fixHeaderPhis</a> ()</>}>
Add the incoming values from the backedge to reduction &amp; first-order recurrence cross-iteration phis. <a href="#a6d8fbabf45554d7d598dc8eb4eca41cf">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/vpvalue">VPValue</a> &#42;</>}
  name={<><a href="#a38a607d72d35cad5060b4cd7b5934bb5">getBlockInMask</a> (BasicBlock &#42;BB) const</>}>
Returns the <em>entry</em> mask for the block <code>BB</code>. <a href="#a38a607d72d35cad5060b4cd7b5934bb5">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/vpvalue">VPValue</a> &#42;</>}
  name={<><a href="#a4a24061cba79c1c33396b71076a7379e">getEdgeMask</a> (BasicBlock &#42;Src, BasicBlock &#42;Dst) const</>}>
A helper that returns the previously computed predicate of the edge between SRC and DST. <a href="#a4a24061cba79c1c33396b71076a7379e">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/vprecipebase">VPRecipeBase</a> &#42;</>}
  name={<><a href="#af5f874dc688e86699e648825bfcbf495">getRecipe</a> (Instruction &#42;I)</>}>
Return the recipe created for given ingredient. <a href="#af5f874dc688e86699e648825bfcbf495">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::optional&lt; unsigned &gt;</>}
  name={<><a href="#a830fac639095604081943918ff84f703">getScalingForReduction</a> (const Instruction &#42;ExitInst)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/vpvalue">VPValue</a> &#42;</>}
  name={<><a href="#a7951985b28c0786b4ca50f061172ff22">getVPValueOrAddLiveIn</a> (Value &#42;V)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/vpreplicaterecipe">VPReplicateRecipe</a> &#42;</>}
  name={<><a href="#a2c36c7d44a38145e7c72340d1b0e34d8">handleReplication</a> (Instruction &#42;I, VFRange &amp;Range)</>}>
Build a VPReplicationRecipe for <code>I</code>. <a href="#a2c36c7d44a38145e7c72340d1b0e34d8">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/iterator-range">iterator&#95;range</a>&lt; <a href="/docs/api/classes/llvm/mapped-iterator">mapped&#95;iterator</a>&lt; <a href="/docs/api/classes/llvm/use">Use</a> &#42;, std::function&lt; <a href="/docs/api/classes/llvm/vpvalue">VPValue</a> &#42;(<a href="/docs/api/classes/llvm/value">Value</a> &#42;)&gt; &gt; &gt;</>}
  name={<><a href="#a537d8b3b5160caeb94b20a21a9f6dcff">mapToVPValues</a> (User::op&#95;range Operands)</>}>
Returns a range mapping the values of the range <code>Operands</code> to their corresponding VPValues. <a href="#a537d8b3b5160caeb94b20a21a9f6dcff">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a919404e870cee5ce3eea6e0cfb4238d4">setRecipe</a> (Instruction &#42;I, VPRecipeBase &#42;R)</>}>
Set the recipe created for given ingredient. <a href="#a919404e870cee5ce3eea6e0cfb4238d4">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/vprecipebase">VPRecipeBase</a> &#42;</>}
  name={<><a href="#a06a097fb3e3b640d70709b4770408024">tryToCreatePartialReduction</a> (Instruction &#42;Reduction, ArrayRef&lt; VPValue &#42; &gt; Operands)</>}>
Create and return a partial reduction recipe for a reduction instruction along with binary operation and reduction phi operands. <a href="#a06a097fb3e3b640d70709b4770408024">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/vprecipebase">VPRecipeBase</a> &#42;</>}
  name={<><a href="#a760fb390c24b907500c0a181fada9590">tryToCreateWidenRecipe</a> (Instruction &#42;Instr, ArrayRef&lt; VPValue &#42; &gt; Operands, VFRange &amp;Range, VPBasicBlock &#42;VPBB)</>}>
Create and return a widened recipe for <code>I</code> if one can be created within the given VF <code>Range</code>. <a href="#a760fb390c24b907500c0a181fada9590">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="bool"
  name={<><a href="#a9eb3573da98ef0f60a92872c0d4ea578">getScaledReductions</a> (Instruction &#42;PHI, Instruction &#42;RdxExitInstr, VFRange &amp;Range, SmallVectorImpl&lt; std::pair&lt; PartialReductionChain, unsigned &gt; &gt; &amp;Chains)</>}>
Examines reduction operations to see if the target can use a cheaper operation with a wider per-iteration input VF and narrower PHI VF. <a href="#a9eb3573da98ef0f60a92872c0d4ea578">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#aea89a3a2a84acc89687e9538fea93436">shouldWiden</a> (Instruction &#42;I, VFRange &amp;Range) const</>}>
<a href="/docs/api/namespaces/llvm/check">Check</a> if <code>I</code> can be widened at the start of <code>Range</code> and possibly decrease the range such that the returned value holds for the entire <code>Range</code>. <a href="#aea89a3a2a84acc89687e9538fea93436">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/vpblendrecipe">VPBlendRecipe</a> &#42;</>}
  name={<><a href="#a9a2d4313651e2bd8795377b7bfed74d9">tryToBlend</a> (PHINode &#42;Phi, ArrayRef&lt; VPValue &#42; &gt; Operands)</>}>
Handle non-loop phi nodes. <a href="#a9a2d4313651e2bd8795377b7bfed74d9">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/vpheaderphirecipe">VPHeaderPHIRecipe</a> &#42;</>}
  name={<><a href="#ac0a173d4291530cbbf7756fc10d17570">tryToOptimizeInductionPHI</a> (PHINode &#42;Phi, ArrayRef&lt; VPValue &#42; &gt; Operands, VFRange &amp;Range)</>}>
<a href="/docs/api/namespaces/llvm/check">Check</a> if an induction recipe should be constructed for <code>Phi</code>. <a href="#ac0a173d4291530cbbf7756fc10d17570">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/vpwidenintorfpinductionrecipe">VPWidenIntOrFpInductionRecipe</a> &#42;</>}
  name={<><a href="#a5604ea1499455510762c5132ba979515">tryToOptimizeInductionTruncate</a> (TruncInst &#42;I, ArrayRef&lt; VPValue &#42; &gt; Operands, VFRange &amp;Range)</>}>
Optimize the special case where the operand of <code>I</code> is a constant integer induction variable. <a href="#a5604ea1499455510762c5132ba979515">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/vpwidenrecipe">VPWidenRecipe</a> &#42;</>}
  name={<><a href="#a1a2c0611ceeca50ba03f8a0b69e6a489">tryToWiden</a> (Instruction &#42;I, ArrayRef&lt; VPValue &#42; &gt; Operands, VPBasicBlock &#42;VPBB)</>}>
<a href="/docs/api/namespaces/llvm/check">Check</a> if <code>I</code> has an opcode that can be widened and return a <a href="/docs/api/classes/llvm/vpwidenrecipe">VPWidenRecipe</a> if it can. <a href="#a1a2c0611ceeca50ba03f8a0b69e6a489">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/vpsingledefrecipe">VPSingleDefRecipe</a> &#42;</>}
  name={<><a href="#a48d8b59c620cdc640d6ead4681386042">tryToWidenCall</a> (CallInst &#42;CI, ArrayRef&lt; VPValue &#42; &gt; Operands, VFRange &amp;Range)</>}>
Handle call instructions. <a href="#a48d8b59c620cdc640d6ead4681386042">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/vphistogramrecipe">VPHistogramRecipe</a> &#42;</>}
  name={<><a href="#a496f0ec22c8acf89cd2a76c569625716">tryToWidenHistogram</a> (const HistogramInfo &#42;HI, ArrayRef&lt; VPValue &#42; &gt; Operands)</>}>
Makes Histogram count operations safe for vectorization, by emitting a llvm.experimental.vector.histogram.add intrinsic in place of the Load + Add|Sub + Store operations that perform the histogram in the original scalar loop. <a href="#a496f0ec22c8acf89cd2a76c569625716">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/vpwidenmemoryrecipe">VPWidenMemoryRecipe</a> &#42;</>}
  name={<><a href="#ae81657b7392dfe7784c06e6d19d8aeb0">tryToWidenMemory</a> (Instruction &#42;I, ArrayRef&lt; VPValue &#42; &gt; Operands, VFRange &amp;Range)</>}>
<a href="/docs/api/namespaces/llvm/check">Check</a> if the load or store instruction <code>I</code> should widened for <code>Range.Start</code> and potentially masked. <a href="#ae81657b7392dfe7784c06e6d19d8aeb0">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/densemap">BlockMaskCacheTy</a></>}
  name={<><a href="#af63b932ee669cd63f00ef3c08f4da7d1">BlockMaskCache</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/vpbuilder">VPBuilder</a> &amp;</>}
  name={<><a href="#ad727e271392ae366439e1818994fe688">Builder</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/loopvectorizationcostmodel">LoopVectorizationCostModel</a> &amp;</>}
  name={<><a href="#a34d121710314af4c0efa458406d22cc2">CM</a></>}>
The profitablity analysis. <a href="#a34d121710314af4c0efa458406d22cc2">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/densemap">EdgeMaskCacheTy</a></>}
  name={<><a href="#a9f147aaa8c5afa2b18247658215e502f">EdgeMaskCache</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/densemap">DenseMap</a>&lt; <a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42;, <a href="/docs/api/classes/llvm/vprecipebase">VPRecipeBase</a> &#42; &gt;</>}
  name={<><a href="#af8bae54b55bc54c0c645495e64d81393">Ingredient2Recipe</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/loopvectorizationlegality">LoopVectorizationLegality</a> &#42;</>}
  name={<><a href="#ac87f0430d9c153ab92c2a257b665614e">Legal</a></>}>
The legality analysis. <a href="#ac87f0430d9c153ab92c2a257b665614e">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/loop">Loop</a> &#42;</>}
  name={<><a href="#ac241dea3c4680ba644d04ca9e70819e5">OrigLoop</a></>}>
The loop that we evaluate. <a href="#ac241dea3c4680ba644d04ca9e70819e5">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/smallvector">SmallVector</a>&lt; <a href="/docs/api/classes/llvm/vpheaderphirecipe">VPHeaderPHIRecipe</a> &#42;, 4 &gt;</>}
  name={<><a href="#a281254c3022de84d28191f7474089baa">PhisToFix</a></>}>
Cross-iteration reduction &amp; first-order recurrence phis for which we need to add the incoming value from the backedge after all recipes have been created. <a href="#a281254c3022de84d28191f7474089baa">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/vplan">VPlan</a> &amp;</>}
  name={<><a href="#a838aff225f3387d5114d02f1abe6572e">Plan</a></>}>
The <a href="/docs/api/classes/llvm/vplan">VPlan</a> new recipes are added to. <a href="#a838aff225f3387d5114d02f1abe6572e">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/predicatedscalarevolution">PredicatedScalarEvolution</a> &amp;</>}
  name={<><a href="#ae939f954b2016e9d62df4f2440a477d7">PSE</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/densemap">DenseMap</a>&lt; <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42;, unsigned &gt;</>}
  name={<><a href="#a1ec506f08e07913840094222ce898bdd">ScaledReductionMap</a></>}>
A mapping of partial reduction exit instructions to their scaling factor. <a href="#a1ec506f08e07913840094222ce898bdd">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/targetlibraryinfo">TargetLibraryInfo</a> &#42;</>}
  name={<><a href="#a3af8bcea18d89c9c14df6dea75f957ca">TLI</a></>}>
<a href="/docs/api/classes/llvm/target">Target</a> Library Info. <a href="#a3af8bcea18d89c9c14df6dea75f957ca">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/targettransforminfo">TargetTransformInfo</a> &#42;</>}
  name={<><a href="#ace71e7cb485479d694e3d73ff93301e1">TTI</a></>}>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

Helper class to create VPRecipies from IR instructions.

Definition at line 47 of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h">VPRecipeBuilder.h</a>.

<SectionDefinition>

## Private Member Typedefs

### BlockMaskCacheTy {#af471aecea0d388416897d4986f36fcf9}

<MemberDefinition
  prototype={<>using llvm::VPRecipeBuilder::BlockMaskCacheTy =  DenseMap&lt;BasicBlock &#42;, VPValue &#42;&gt;</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h/#l00076">76</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h">VPRecipeBuilder.h</a>.
</MemberDefinition>

### EdgeMaskCacheTy {#acd211a51adf7aef33cfa49ee55d62a41}

<MemberDefinition
  prototype={<>using llvm::VPRecipeBuilder::EdgeMaskCacheTy = 
      DenseMap&lt;std::pair&lt;BasicBlock &#42;, BasicBlock &#42;&gt;, VPValue &#42;&gt;</>}>
When we if-convert we need to create edge masks.

We have to cache values so that we don&#39;t end up with exponential recursion/IR. Note that if-conversion currently takes place during VPlan-construction, so these caches are only used at that stage.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h/#l00074">74</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h">VPRecipeBuilder.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Constructors

### VPRecipeBuilder() {#afc4659f1aee78e49f4e81af4eacaad23}

<MemberDefinition
  prototype={<>llvm::VPRecipeBuilder::VPRecipeBuilder (<a href="/docs/api/classes/llvm/vplan">VPlan</a> &amp; Plan, <a href="/docs/api/classes/llvm/loop">Loop</a> &#42; OrigLoop, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/targetlibraryinfo">TargetLibraryInfo</a> &#42; TLI, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/targettransforminfo">TargetTransformInfo</a> &#42; TTI, <a href="/docs/api/classes/llvm/loopvectorizationlegality">LoopVectorizationLegality</a> &#42; Legal, <a href="/docs/api/classes/llvm/loopvectorizationcostmodel">LoopVectorizationCostModel</a> &amp; CM, <a href="/docs/api/classes/llvm/predicatedscalarevolution">PredicatedScalarEvolution</a> &amp; PSE, <a href="/docs/api/classes/llvm/vpbuilder">VPBuilder</a> &amp; Builder)</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h/#l00154">154</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h">VPRecipeBuilder.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### collectScaledReductions() {#a8dc41af84f49f4b418bddf15547755af}

<MemberDefinition
  prototype={<>void VPRecipeBuilder::collectScaledReductions (<a href="/docs/api/structs/llvm/vfrange">VFRange</a> &amp; Range)</>}>
Find all possible partial reductions in the loop and track all of those that are valid so recipes can be formed later.

Declaration at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h/#l00170">170</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h">VPRecipeBuilder.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/loopvectorize-cpp/#l08687">8687</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/loopvectorize-cpp">LoopVectorize.cpp</a>.
</MemberDefinition>

### createBlockInMask() {#a8a4bd8661b898e837b18df553e937311}

<MemberDefinition
  prototype={<>void VPRecipeBuilder::createBlockInMask (<a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; BB)</>}>
A helper function that computes the predicate of the block BB, assuming that the header block of the loop is set to True or the loop mask when tail folding.

Declaration at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h/#l00196">196</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h">VPRecipeBuilder.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/loopvectorize-cpp/#l08218">8218</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/loopvectorize-cpp">LoopVectorize.cpp</a>.
</MemberDefinition>

### createEdgeMask() {#a0775987674a0fc922481db1966a5fdf5}

<MemberDefinition
  prototype={<>VPValue &#42; VPRecipeBuilder::createEdgeMask (<a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; Src, <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; Dst)</>}>
A helper function that computes the predicate of the edge between SRC and DST.

Declaration at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h/#l00206">206</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h">VPRecipeBuilder.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/loopvectorize-cpp/#l08124">8124</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/loopvectorize-cpp">LoopVectorize.cpp</a>.
</MemberDefinition>

### createHeaderMask() {#a826173bded23a3839e30074a98ad34a1}

<MemberDefinition
  prototype="void VPRecipeBuilder::createHeaderMask ()">
Create the mask for the vector loop header block.

Declaration at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h/#l00191">191</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h">VPRecipeBuilder.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/loopvectorize-cpp/#l08183">8183</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/loopvectorize-cpp">LoopVectorize.cpp</a>.
</MemberDefinition>

### createSwitchEdgeMasks() {#a2e7e2adb0e2bd1c35df6aee471fc1db7}

<MemberDefinition
  prototype={<>void VPRecipeBuilder::createSwitchEdgeMasks (<a href="/docs/api/classes/llvm/switchinst">SwitchInst</a> &#42; SI)</>}>
Create an edge mask for every destination of cases and/or default.

Declaration at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h/#l00202">202</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h">VPRecipeBuilder.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/loopvectorize-cpp/#l08068">8068</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/loopvectorize-cpp">LoopVectorize.cpp</a>.
</MemberDefinition>

### fixHeaderPhis() {#a6d8fbabf45554d7d598dc8eb4eca41cf}

<MemberDefinition
  prototype="void VPRecipeBuilder::fixHeaderPhis ()">
Add the incoming values from the backedge to reduction &amp; first-order recurrence cross-iteration phis.

Declaration at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h/#l00228">228</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h">VPRecipeBuilder.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/loopvectorize-cpp/#l08613">8613</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/loopvectorize-cpp">LoopVectorize.cpp</a>.
</MemberDefinition>

### getBlockInMask() {#a38a607d72d35cad5060b4cd7b5934bb5}

<MemberDefinition
  prototype={<>VPValue &#42; VPRecipeBuilder::getBlockInMask (<a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; BB) const</>}>
Returns the <em>entry</em> mask for the block <code>BB</code>.

Declaration at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h/#l00199">199</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h">VPRecipeBuilder.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/loopvectorize-cpp/#l08210">8210</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/loopvectorize-cpp">LoopVectorize.cpp</a>.
</MemberDefinition>

### getEdgeMask() {#a4a24061cba79c1c33396b71076a7379e}

<MemberDefinition
  prototype={<>VPValue &#42; VPRecipeBuilder::getEdgeMask (<a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; Src, <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; Dst) const</>}>
A helper that returns the previously computed predicate of the edge between SRC and DST.

Declaration at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h/#l00210">210</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h">VPRecipeBuilder.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/loopvectorize-cpp/#l08172">8172</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/loopvectorize-cpp">LoopVectorize.cpp</a>.
</MemberDefinition>

### getRecipe() {#af5f874dc688e86699e648825bfcbf495}

<MemberDefinition
  prototype={<>VPRecipeBase &#42; llvm::VPRecipeBuilder::getRecipe (<a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42; I)</>}
  labels = {["inline"]}>
Return the recipe created for given ingredient.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h/#l00213">213</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h">VPRecipeBuilder.h</a>.
</MemberDefinition>

### getScalingForReduction() {#a830fac639095604081943918ff84f703}

<MemberDefinition
  prototype={<>std::optional&lt; unsigned &gt; llvm::VPRecipeBuilder::getScalingForReduction (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42; ExitInst)</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h/#l00162">162</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h">VPRecipeBuilder.h</a>.
</MemberDefinition>

### getVPValueOrAddLiveIn() {#a7951985b28c0786b4ca50f061172ff22}

<MemberDefinition
  prototype={<>VPValue &#42; llvm::VPRecipeBuilder::getVPValueOrAddLiveIn (<a href="/docs/api/classes/llvm/value">Value</a> &#42; V)</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h/#l00235">235</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h">VPRecipeBuilder.h</a>.
</MemberDefinition>

### handleReplication() {#a2c36c7d44a38145e7c72340d1b0e34d8}

<MemberDefinition
  prototype={<>VPReplicateRecipe &#42; VPRecipeBuilder::handleReplication (<a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42; I, <a href="/docs/api/structs/llvm/vfrange">VFRange</a> &amp; Range)</>}>
Build a VPReplicationRecipe for <code>I</code>.

If it is predicated, add the mask as last operand. Range.End may be decreased to ensure same recipe behavior from <code>Range.Start</code> to <code>Range.End</code>.

Declaration at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h/#l00224">224</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h">VPRecipeBuilder.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/loopvectorize-cpp/#l08623">8623</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/loopvectorize-cpp">LoopVectorize.cpp</a>.
</MemberDefinition>

### mapToVPValues() {#a537d8b3b5160caeb94b20a21a9f6dcff}

<MemberDefinition
  prototype={<>iterator&#95;range&lt; mapped&#95;iterator&lt; Use &#42;, std::function&lt; VPValue &#42;(Value &#42;)&gt; &gt; &gt; VPRecipeBuilder::mapToVPValues (<a href="/docs/api/classes/llvm/user/#a917548288129e24325af275795e4622f">User::op&#95;range</a> Operands)</>}>
Returns a range mapping the values of the range <code>Operands</code> to their corresponding VPValues.

Declaration at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h/#l00233">233</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h">VPRecipeBuilder.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/loopvectorize-cpp/#l08061">8061</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/loopvectorize-cpp">LoopVectorize.cpp</a>.
</MemberDefinition>

### setRecipe() {#a919404e870cee5ce3eea6e0cfb4238d4}

<MemberDefinition
  prototype={<>void llvm::VPRecipeBuilder::setRecipe (<a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42; I, <a href="/docs/api/classes/llvm/vprecipebase">VPRecipeBase</a> &#42; R)</>}
  labels = {["inline"]}>
Set the recipe created for given ingredient.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h/#l00184">184</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h">VPRecipeBuilder.h</a>.
</MemberDefinition>

### tryToCreatePartialReduction() {#a06a097fb3e3b640d70709b4770408024}

<MemberDefinition
  prototype={<>VPRecipeBase &#42; VPRecipeBuilder::tryToCreatePartialReduction (<a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42; Reduction, <a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; <a href="/docs/api/classes/llvm/vpvalue">VPValue</a> &#42; &gt; Operands)</>}>
Create and return a partial reduction recipe for a reduction instruction along with binary operation and reduction phi operands.

Declaration at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h/#l00180">180</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h">VPRecipeBuilder.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/loopvectorize-cpp/#l08887">8887</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/loopvectorize-cpp">LoopVectorize.cpp</a>.
</MemberDefinition>

### tryToCreateWidenRecipe() {#a760fb390c24b907500c0a181fada9590}

<MemberDefinition
  prototype={<>VPRecipeBase &#42; VPRecipeBuilder::tryToCreateWidenRecipe (<a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42; Instr, <a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; <a href="/docs/api/classes/llvm/vpvalue">VPValue</a> &#42; &gt; Operands, <a href="/docs/api/structs/llvm/vfrange">VFRange</a> &amp; Range, <a href="/docs/api/classes/llvm/vpbasicblock">VPBasicBlock</a> &#42; VPBB)</>}>
Create and return a widened recipe for <code>I</code> if one can be created within the given VF <code>Range</code>.

Declaration at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h/#l00174">174</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h">VPRecipeBuilder.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/loopvectorize-cpp/#l08802">8802</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/loopvectorize-cpp">LoopVectorize.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Functions

### getScaledReductions() {#a9eb3573da98ef0f60a92872c0d4ea578}

<MemberDefinition
  prototype={<>bool VPRecipeBuilder::getScaledReductions (<a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42; PHI, <a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42; RdxExitInstr, <a href="/docs/api/structs/llvm/vfrange">VFRange</a> &amp; Range, <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; std::pair&lt; <a href="/docs/api/structs/llvm/partialreductionchain">PartialReductionChain</a>, unsigned &gt; &gt; &amp; Chains)</>}>
Examines reduction operations to see if the target can use a cheaper operation with a wider per-iteration input VF and narrower PHI VF.

Each element within Chains is a pair with a struct containing reduction information and the scaling factor between the number of elements in the input and output. Recursively calls itself to identify chained scaled reductions. Returns true if this invocation added an entry to Chains, otherwise false. i.e. returns false in the case that a subcall adds an entry to Chains, but the top-level call does not.

Declaration at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h/#l00149">149</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h">VPRecipeBuilder.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/loopvectorize-cpp/#l08722">8722</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/loopvectorize-cpp">LoopVectorize.cpp</a>.
</MemberDefinition>

### shouldWiden() {#aea89a3a2a84acc89687e9538fea93436}

<MemberDefinition
  prototype={<>bool VPRecipeBuilder::shouldWiden (<a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42; I, <a href="/docs/api/structs/llvm/vfrange">VFRange</a> &amp; Range) const</>}>
<a href="/docs/api/namespaces/llvm/check">Check</a> if <code>I</code> can be widened at the start of <code>Range</code> and possibly decrease the range such that the returned value holds for the entire <code>Range</code>.

The function should not be called for memory instructions or calls.

Declaration at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h/#l00095">95</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h">VPRecipeBuilder.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/loopvectorize-cpp/#l08506">8506</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/loopvectorize-cpp">LoopVectorize.cpp</a>.
</MemberDefinition>

### tryToBlend() {#a9a2d4313651e2bd8795377b7bfed74d9}

<MemberDefinition
  prototype={<>VPBlendRecipe &#42; VPRecipeBuilder::tryToBlend (<a href="/docs/api/classes/llvm/phinode">PHINode</a> &#42; Phi, <a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; <a href="/docs/api/classes/llvm/vpvalue">VPValue</a> &#42; &gt; Operands)</>}>
Handle non-loop phi nodes.

Return a new <a href="/docs/api/classes/llvm/vpblendrecipe">VPBlendRecipe</a> otherwise. Currently all such phi nodes are turned into a sequence of select instructions as the vectorizer currently performs full if-conversion.

Declaration at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h/#l00119">119</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h">VPRecipeBuilder.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/loopvectorize-cpp/#l08390">8390</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/loopvectorize-cpp">LoopVectorize.cpp</a>.
</MemberDefinition>

### tryToOptimizeInductionPHI() {#ac0a173d4291530cbbf7756fc10d17570}

<MemberDefinition
  prototype={<>VPHeaderPHIRecipe &#42; VPRecipeBuilder::tryToOptimizeInductionPHI (<a href="/docs/api/classes/llvm/phinode">PHINode</a> &#42; Phi, <a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; <a href="/docs/api/classes/llvm/vpvalue">VPValue</a> &#42; &gt; Operands, <a href="/docs/api/structs/llvm/vfrange">VFRange</a> &amp; Range)</>}>
<a href="/docs/api/namespaces/llvm/check">Check</a> if an induction recipe should be constructed for <code>Phi</code>.

If so build and return it. If not, return null.

Declaration at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h/#l00106">106</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h">VPRecipeBuilder.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/loopvectorize-cpp/#l08337">8337</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/loopvectorize-cpp">LoopVectorize.cpp</a>.
</MemberDefinition>

### tryToOptimizeInductionTruncate() {#a5604ea1499455510762c5132ba979515}

<MemberDefinition
  prototype={<>VPWidenIntOrFpInductionRecipe &#42; VPRecipeBuilder::tryToOptimizeInductionTruncate (<a href="/docs/api/classes/llvm/truncinst">TruncInst</a> &#42; I, <a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; <a href="/docs/api/classes/llvm/vpvalue">VPValue</a> &#42; &gt; Operands, <a href="/docs/api/structs/llvm/vfrange">VFRange</a> &amp; Range)</>}>
Optimize the special case where the operand of <code>I</code> is a constant integer induction variable.

Declaration at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h/#l00113">113</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h">VPRecipeBuilder.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/loopvectorize-cpp/#l08362">8362</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/loopvectorize-cpp">LoopVectorize.cpp</a>.
</MemberDefinition>

### tryToWiden() {#a1a2c0611ceeca50ba03f8a0b69e6a489}

<MemberDefinition
  prototype={<>VPWidenRecipe &#42; VPRecipeBuilder::tryToWiden (<a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42; I, <a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; <a href="/docs/api/classes/llvm/vpvalue">VPValue</a> &#42; &gt; Operands, <a href="/docs/api/classes/llvm/vpbasicblock">VPBasicBlock</a> &#42; VPBB)</>}>
<a href="/docs/api/namespaces/llvm/check">Check</a> if <code>I</code> has an opcode that can be widened and return a <a href="/docs/api/classes/llvm/vpwidenrecipe">VPWidenRecipe</a> if it can.

The function should only be called if the cost-model indicates that widening should be performed.

Declaration at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h/#l00130">130</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h">VPRecipeBuilder.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/loopvectorize-cpp/#l08520">8520</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/loopvectorize-cpp">LoopVectorize.cpp</a>.
</MemberDefinition>

### tryToWidenCall() {#a48d8b59c620cdc640d6ead4681386042}

<MemberDefinition
  prototype={<>VPSingleDefRecipe &#42; VPRecipeBuilder::tryToWidenCall (<a href="/docs/api/classes/llvm/callinst">CallInst</a> &#42; CI, <a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; <a href="/docs/api/classes/llvm/vpvalue">VPValue</a> &#42; &gt; Operands, <a href="/docs/api/structs/llvm/vfrange">VFRange</a> &amp; Range)</>}>
Handle call instructions.

If <code>CI</code> can be widened for <code>Range.Start</code>, return a new <a href="/docs/api/classes/llvm/vpwidencallrecipe">VPWidenCallRecipe</a> or <a href="/docs/api/classes/llvm/vpwidenintrinsicrecipe">VPWidenIntrinsicRecipe</a>. Range.End may be decreased to ensure same decision from <code>Range.Start</code> to <code>Range.End</code>.

Declaration at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h/#l00124">124</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h">VPRecipeBuilder.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/loopvectorize-cpp/#l08416">8416</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/loopvectorize-cpp">LoopVectorize.cpp</a>.
</MemberDefinition>

### tryToWidenHistogram() {#a496f0ec22c8acf89cd2a76c569625716}

<MemberDefinition
  prototype={<>VPHistogramRecipe &#42; VPRecipeBuilder::tryToWidenHistogram (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/structs/llvm/histograminfo">HistogramInfo</a> &#42; HI, <a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; <a href="/docs/api/classes/llvm/vpvalue">VPValue</a> &#42; &gt; Operands)</>}>
Makes Histogram count operations safe for vectorization, by emitting a llvm.experimental.vector.histogram.add intrinsic in place of the Load + Add|Sub + Store operations that perform the histogram in the original scalar loop.

Declaration at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h/#l00137">137</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h">VPRecipeBuilder.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/loopvectorize-cpp/#l08590">8590</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/loopvectorize-cpp">LoopVectorize.cpp</a>.
</MemberDefinition>

### tryToWidenMemory() {#ae81657b7392dfe7784c06e6d19d8aeb0}

<MemberDefinition
  prototype={<>VPWidenMemoryRecipe &#42; VPRecipeBuilder::tryToWidenMemory (<a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42; I, <a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; <a href="/docs/api/classes/llvm/vpvalue">VPValue</a> &#42; &gt; Operands, <a href="/docs/api/structs/llvm/vfrange">VFRange</a> &amp; Range)</>}>
<a href="/docs/api/namespaces/llvm/check">Check</a> if the load or store instruction <code>I</code> should widened for <code>Range.Start</code> and potentially masked.

Such instructions are handled by a recipe that takes an additional <a href="/docs/api/classes/llvm/vpinstruction">VPInstruction</a> for the mask.

Declaration at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h/#l00100">100</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h">VPRecipeBuilder.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/loopvectorize-cpp/#l08248">8248</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/loopvectorize-cpp">LoopVectorize.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Attributes

### BlockMaskCache {#af63b932ee669cd63f00ef3c08f4da7d1}

<MemberDefinition
  prototype="BlockMaskCacheTy llvm::VPRecipeBuilder::BlockMaskCache">

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h/#l00078">78</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h">VPRecipeBuilder.h</a>.
</MemberDefinition>

### Builder {#ad727e271392ae366439e1818994fe688}

<MemberDefinition
  prototype={<>VPBuilder&amp; llvm::VPRecipeBuilder::Builder</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h/#l00068">68</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h">VPRecipeBuilder.h</a>.
</MemberDefinition>

### CM {#a34d121710314af4c0efa458406d22cc2}

<MemberDefinition
  prototype={<>LoopVectorizationCostModel&amp; llvm::VPRecipeBuilder::CM</>}>
The profitablity analysis.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h/#l00064">64</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h">VPRecipeBuilder.h</a>.
</MemberDefinition>

### EdgeMaskCache {#a9f147aaa8c5afa2b18247658215e502f}

<MemberDefinition
  prototype="EdgeMaskCacheTy llvm::VPRecipeBuilder::EdgeMaskCache">

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h/#l00077">77</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h">VPRecipeBuilder.h</a>.
</MemberDefinition>

### Ingredient2Recipe {#af8bae54b55bc54c0c645495e64d81393}

<MemberDefinition
  prototype={<>DenseMap&lt;Instruction &#42;, VPRecipeBase &#42;&gt; llvm::VPRecipeBuilder::Ingredient2Recipe</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h/#l00082">82</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h">VPRecipeBuilder.h</a>.
</MemberDefinition>

### Legal {#ac87f0430d9c153ab92c2a257b665614e}

<MemberDefinition
  prototype={<>LoopVectorizationLegality&#42; llvm::VPRecipeBuilder::Legal</>}>
The legality analysis.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h/#l00061">61</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h">VPRecipeBuilder.h</a>.
</MemberDefinition>

### OrigLoop {#ac241dea3c4680ba644d04ca9e70819e5}

<MemberDefinition
  prototype={<>Loop&#42; llvm::VPRecipeBuilder::OrigLoop</>}>
The loop that we evaluate.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h/#l00052">52</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h">VPRecipeBuilder.h</a>.
</MemberDefinition>

### PhisToFix {#a281254c3022de84d28191f7474089baa}

<MemberDefinition
  prototype={<>SmallVector&lt;VPHeaderPHIRecipe &#42;, 4&gt; llvm::VPRecipeBuilder::PhisToFix</>}>
Cross-iteration reduction &amp; first-order recurrence phis for which we need to add the incoming value from the backedge after all recipes have been created.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h/#l00087">87</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h">VPRecipeBuilder.h</a>.
</MemberDefinition>

### Plan {#a838aff225f3387d5114d02f1abe6572e}

<MemberDefinition
  prototype={<>VPlan&amp; llvm::VPRecipeBuilder::Plan</>}>
The <a href="/docs/api/classes/llvm/vplan">VPlan</a> new recipes are added to.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h/#l00049">49</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h">VPRecipeBuilder.h</a>.
</MemberDefinition>

### PSE {#ae939f954b2016e9d62df4f2440a477d7}

<MemberDefinition
  prototype={<>PredicatedScalarEvolution&amp; llvm::VPRecipeBuilder::PSE</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h/#l00066">66</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h">VPRecipeBuilder.h</a>.
</MemberDefinition>

### ScaledReductionMap {#a1ec506f08e07913840094222ce898bdd}

<MemberDefinition
  prototype={<>DenseMap&lt;const Instruction &#42;, unsigned&gt; llvm::VPRecipeBuilder::ScaledReductionMap</>}>
A mapping of partial reduction exit instructions to their scaling factor.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h/#l00090">90</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h">VPRecipeBuilder.h</a>.
</MemberDefinition>

### TLI {#a3af8bcea18d89c9c14df6dea75f957ca}

<MemberDefinition
  prototype={<>const TargetLibraryInfo&#42; llvm::VPRecipeBuilder::TLI</>}>
<a href="/docs/api/classes/llvm/target">Target</a> Library Info.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h/#l00055">55</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h">VPRecipeBuilder.h</a>.
</MemberDefinition>

### TTI {#ace71e7cb485479d694e3d73ff93301e1}

<MemberDefinition
  prototype={<>const TargetTransformInfo&#42; llvm::VPRecipeBuilder::TTI</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h/#l00058">58</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h">VPRecipeBuilder.h</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following files:

<ul>
<li><a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/loopvectorize-cpp">LoopVectorize.cpp</a></li>
<li><a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/vprecipebuilder-h">VPRecipeBuilder.h</a></li>
</ul>

</DoxygenPage>
