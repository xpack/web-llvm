---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/llvm/defaultevictionadvisor
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import ParametersList from '@xpack/docusaurus-plugin-doxygen/components/ParametersList'
import ParametersListItem from '@xpack/docusaurus-plugin-doxygen/components/ParametersListItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'
import SectionUser from '@xpack/docusaurus-plugin-doxygen/components/SectionUser'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `DefaultEvictionAdvisor` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>



## Declaration

<CodeBlock>class llvm::DefaultEvictionAdvisor</CodeBlock>

## Included Headers

<IncludesList>
<IncludesListItem
  filePath="CodeGen/RegAllocEvictionAdvisor.h"
  permalink="/docs/api/files/lib/lib/codegen/regallocevictionadvisor-h"
  isLocal="true" />
</IncludesList>

## Base class

<MembersIndex>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/regallocevictionadvisor">RegAllocEvictionAdvisor</a></>}>
</MembersIndexItem>

</MembersIndex>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#aa84832873bdcccdbf6fc514adb1e773e">DefaultEvictionAdvisor</a> (const MachineFunction &amp;MF, const RAGreedy &amp;RA)</>}>
</MembersIndexItem>

</MembersIndex>

## Private Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="bool"
  name={<><a href="#a22a76566ed72f875189d137ca972417f">canEvictHintInterference</a> (const LiveInterval &amp;, MCRegister, const SmallVirtRegSet &amp;) const override</>}>
canEvictHintInterference - return true if the interference for VirtReg on the PhysReg, which is VirtReg&#39;s hint, can be evicted in favor of VirtReg. <a href="#a22a76566ed72f875189d137ca972417f">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a8e8538c704cbf7e3f900e0d1c4a40b55">canEvictInterferenceBasedOnCost</a> (const LiveInterval &amp;, MCRegister, bool, EvictionCost &amp;, const SmallVirtRegSet &amp;) const</>}>
canEvictInterferenceBasedOnCost - Return true if all interferences between VirtReg and PhysReg can be evicted. <a href="#a8e8538c704cbf7e3f900e0d1c4a40b55">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a46b9ad6f22eb66ee14d0153fd8a4a464">shouldEvict</a> (const LiveInterval &amp;A, bool, const LiveInterval &amp;B, bool) const</>}>
shouldEvict - determine if A should evict the assigned live range B. <a href="#a46b9ad6f22eb66ee14d0153fd8a4a464">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/mcregister">MCRegister</a></>}
  name={<><a href="#aff4b246de34b1280466b8b728bda4157">tryFindEvictionCandidate</a> (const LiveInterval &amp;, const AllocationOrder &amp;, uint8&#95;t, const SmallVirtRegSet &amp;) const override</>}>
Find a physical register that can be freed by evicting the FixedRegisters, or return NoRegister. <a href="#aff4b246de34b1280466b8b728bda4157">More...</a>
</MembersIndexItem>

</MembersIndex>


Definition at line 204 of file <a href="/docs/api/files/lib/lib/codegen/regallocevictionadvisor-h">RegAllocEvictionAdvisor.h</a>.

<SectionDefinition>

## Public Constructors

### DefaultEvictionAdvisor() {#aa84832873bdcccdbf6fc514adb1e773e}

<MemberDefinition
  prototype={<>llvm::DefaultEvictionAdvisor::DefaultEvictionAdvisor (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/machinefunction">MachineFunction</a> &amp; MF, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/ragreedy">RAGreedy</a> &amp; RA)</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/regallocevictionadvisor-h/#l00206">206</a> of file <a href="/docs/api/files/lib/lib/codegen/regallocevictionadvisor-h">RegAllocEvictionAdvisor.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Functions

### canEvictHintInterference() {#a22a76566ed72f875189d137ca972417f}

<MemberDefinition
  prototype={<>bool DefaultEvictionAdvisor::canEvictHintInterference (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/liveinterval">LiveInterval</a> &amp; VirtReg, <a href="/docs/api/classes/llvm/mcregister">MCRegister</a> PhysReg, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/namespaces/llvm/#a1d6cfdcc234093f39fb0719ddb649500">SmallVirtRegSet</a> &amp; FixedRegisters) const</>}
  labels = {["virtual"]}>
canEvictHintInterference - return true if the interference for VirtReg on the PhysReg, which is VirtReg&#39;s hint, can be evicted in favor of VirtReg.

Declaration at line <a href="/docs/api/files/lib/lib/codegen/regallocevictionadvisor-h/#l00213">213</a> of file <a href="/docs/api/files/lib/lib/codegen/regallocevictionadvisor-h">RegAllocEvictionAdvisor.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/regallocevictionadvisor-cpp/#l00168">168</a> of file <a href="/docs/api/files/lib/lib/codegen/regallocevictionadvisor-cpp">RegAllocEvictionAdvisor.cpp</a>.
</MemberDefinition>

### canEvictInterferenceBasedOnCost() {#a8e8538c704cbf7e3f900e0d1c4a40b55}

<MemberDefinition
  prototype={<>bool DefaultEvictionAdvisor::canEvictInterferenceBasedOnCost (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/liveinterval">LiveInterval</a> &amp; VirtReg, <a href="/docs/api/classes/llvm/mcregister">MCRegister</a> PhysReg, bool IsHint, <a href="/docs/api/structs/llvm/evictioncost">EvictionCost</a> &amp; MaxCost, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/namespaces/llvm/#a1d6cfdcc234093f39fb0719ddb649500">SmallVirtRegSet</a> &amp; FixedRegisters) const</>}>
canEvictInterferenceBasedOnCost - Return true if all interferences between VirtReg and PhysReg can be evicted.

<ParametersList title="Parameters">
<ParametersListItem name="VirtReg">Live range that is about to be assigned.</ParametersListItem>
<ParametersListItem name="PhysReg">Desired register for assignment.</ParametersListItem>
<ParametersListItem name="IsHint">True when PhysReg is VirtReg&#39;s preferred register.</ParametersListItem>
<ParametersListItem name="MaxCost">Only look for cheaper candidates and update with new cost when returning true.</ParametersListItem>
</ParametersList>

<SectionUser title="Returns">
True when interference can be evicted cheaper than MaxCost.
</SectionUser>

Declaration at line <a href="/docs/api/files/lib/lib/codegen/regallocevictionadvisor-h/#l00215">215</a> of file <a href="/docs/api/files/lib/lib/codegen/regallocevictionadvisor-h">RegAllocEvictionAdvisor.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/regallocevictionadvisor-cpp/#l00186">186</a> of file <a href="/docs/api/files/lib/lib/codegen/regallocevictionadvisor-cpp">RegAllocEvictionAdvisor.cpp</a>.
</MemberDefinition>

### shouldEvict() {#a46b9ad6f22eb66ee14d0153fd8a4a464}

<MemberDefinition
  prototype={<>bool DefaultEvictionAdvisor::shouldEvict (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/liveinterval">LiveInterval</a> &amp; A, bool IsHint, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/liveinterval">LiveInterval</a> &amp; B, bool BreaksHint) const</>}>
shouldEvict - determine if A should evict the assigned live range B.

The eviction policy defined by this function together with the allocation order defined by enqueue() decides which registers ultimately end up being split and spilled.

Cascade numbers are used to prevent infinite loops if this function is a cyclic relation.


<ParametersList title="Parameters">
<ParametersListItem name="A">The live range to be assigned.</ParametersListItem>
<ParametersListItem name="IsHint">True when A is about to be assigned to its preferred register.</ParametersListItem>
<ParametersListItem name="B">The live range to be evicted.</ParametersListItem>
<ParametersListItem name="BreaksHint">True when B is already assigned to its preferred register.</ParametersListItem>
</ParametersList>

Declaration at line <a href="/docs/api/files/lib/lib/codegen/regallocevictionadvisor-h/#l00218">218</a> of file <a href="/docs/api/files/lib/lib/codegen/regallocevictionadvisor-h">RegAllocEvictionAdvisor.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/regallocevictionadvisor-cpp/#l00149">149</a> of file <a href="/docs/api/files/lib/lib/codegen/regallocevictionadvisor-cpp">RegAllocEvictionAdvisor.cpp</a>.
</MemberDefinition>

### tryFindEvictionCandidate() {#aff4b246de34b1280466b8b728bda4157}

<MemberDefinition
  prototype={<>MCRegister DefaultEvictionAdvisor::tryFindEvictionCandidate (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/liveinterval">LiveInterval</a> &amp; VirtReg, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/allocationorder">AllocationOrder</a> &amp; Order, uint8&#95;t CostPerUseLimit, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/namespaces/llvm/#a1d6cfdcc234093f39fb0719ddb649500">SmallVirtRegSet</a> &amp; FixedRegisters) const</>}
  labels = {["virtual"]}>
Find a physical register that can be freed by evicting the FixedRegisters, or return NoRegister.

The eviction decision is assumed to be correct (i.e. no fixed live ranges are evicted) and profitable.

Declaration at line <a href="/docs/api/files/lib/lib/codegen/regallocevictionadvisor-h/#l00210">210</a> of file <a href="/docs/api/files/lib/lib/codegen/regallocevictionadvisor-h">RegAllocEvictionAdvisor.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/regallocevictionadvisor-cpp/#l00276">276</a> of file <a href="/docs/api/files/lib/lib/codegen/regallocevictionadvisor-cpp">RegAllocEvictionAdvisor.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following files:

<ul>
<li><a href="/docs/api/files/lib/lib/codegen/regallocevictionadvisor-cpp">RegAllocEvictionAdvisor.cpp</a></li>
<li><a href="/docs/api/files/lib/lib/codegen/regallocevictionadvisor-h">RegAllocEvictionAdvisor.h</a></li>
</ul>

</DoxygenPage>
