---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/anonymous-namespace-virtualfilesystem-cpp-/realfilesystem
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `RealFileSystem` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>

A file system according to your operating system. <a href="#details">More...</a>

## Declaration

<CodeBlock>class anonymous_namespace{VirtualFileSystem.cpp}::RealFileSystem</CodeBlock>

## Base class

<MembersIndex>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/vfs/filesystem">FileSystem</a></>}>
The virtual file system interface. <a href="/docs/api/classes/llvm/vfs/filesystem/#details">More...</a>
</MembersIndexItem>

</MembersIndex>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a927d1b385cc13faacbcef9c23aec9ade">RealFileSystem</a> (bool LinkCWDToProcess)</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/vfs/directory-iterator">directory&#95;iterator</a></>}
  name={<><a href="#a0d3295327878ca77047240f797f1361e">dir&#95;begin</a> (const Twine &amp;Dir, std::error&#95;code &amp;EC) override</>}>
Get a directory&#95;iterator for <code>Dir</code>. <a href="#a0d3295327878ca77047240f797f1361e">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/erroror">llvm::ErrorOr</a>&lt; std::string &gt;</>}
  name={<><a href="#a44bf6b28c71c495cb7a0a037d566347e">getCurrentWorkingDirectory</a> () const override</>}>
Get the working directory of this file system. <a href="#a44bf6b28c71c495cb7a0a037d566347e">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::error&#95;code</>}
  name={<><a href="#ae3a0f5abb9cf8b60c5e803db52eb14c3">getRealPath</a> (const Twine &amp;Path, SmallVectorImpl&lt; char &gt; &amp;Output) override</>}>
Gets real path of <code>Path</code> e.g. <a href="#ae3a0f5abb9cf8b60c5e803db52eb14c3">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::error&#95;code</>}
  name={<><a href="#aaba04fb456275efdc6734f13d51c3301">isLocal</a> (const Twine &amp;Path, bool &amp;Result) override</>}>
Is the file mounted on a local filesystem? <a href="#aaba04fb456275efdc6734f13d51c3301">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/erroror">ErrorOr</a>&lt; std::unique&#95;ptr&lt; <a href="/docs/api/classes/llvm/vfs/file">File</a> &gt; &gt;</>}
  name={<><a href="#a15cf09ac267510c83699cd39791647cf">openFileForRead</a> (const Twine &amp;Path) override</>}>
Get a <code>File</code> object for the text file at <code>Path</code>, if one exists. <a href="#a15cf09ac267510c83699cd39791647cf">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/erroror">ErrorOr</a>&lt; std::unique&#95;ptr&lt; <a href="/docs/api/classes/llvm/vfs/file">File</a> &gt; &gt;</>}
  name={<><a href="#a4750bd242c6ca760c2399ce4f26a98c6">openFileForReadBinary</a> (const Twine &amp;Path) override</>}>
Get a <code>File</code> object for the binary file at <code>Path</code>, if one exists. <a href="#a4750bd242c6ca760c2399ce4f26a98c6">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::error&#95;code</>}
  name={<><a href="#afb0f6e94a1ddabea59b90081cbf7639a">setCurrentWorkingDirectory</a> (const Twine &amp;Path) override</>}>
Set the working directory. <a href="#afb0f6e94a1ddabea59b90081cbf7639a">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/erroror">ErrorOr</a>&lt; <a href="/docs/api/classes/llvm/vfs/status">Status</a> &gt;</>}
  name={<><a href="#ad899abf11af79a6f64de6e0c59ca2a41">status</a> (const Twine &amp;Path) override</>}>
Get the status of the entry at <code>Path</code>, if one exists. <a href="#ad899abf11af79a6f64de6e0c59ca2a41">More...</a>
</MembersIndexItem>

</MembersIndex>

## Protected Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="void"
  name={<><a href="#adf383f42d11fc142b9442bfcb2f3d503">printImpl</a> (raw&#95;ostream &amp;OS, PrintType Type, unsigned IndentLevel) const override</>}>
</MembersIndexItem>

</MembersIndex>

## Private Member Functions Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/twine">Twine</a></>}
  name={<><a href="#aaea58dd24de9f1f534fe56f4ab7abaac">adjustPath</a> (const Twine &amp;Path, SmallVectorImpl&lt; char &gt; &amp;Storage) const</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/erroror">ErrorOr</a>&lt; std::unique&#95;ptr&lt; <a href="/docs/api/classes/llvm/vfs/file">File</a> &gt; &gt;</>}
  name={<><a href="#a76d549ab46a847969458176c3ec2fca7">openFileForReadWithFlags</a> (const Twine &amp;Name, sys::fs::OpenFlags Flags)</>}>
</MembersIndexItem>

</MembersIndex>

## Private Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<>std::optional&lt; <a href="/docs/api/classes/llvm/erroror">llvm::ErrorOr</a>&lt; WorkingDirectory &gt; &gt;</>}
  name={<><a href="#ab0b28dc816778e5ba3f915638e35be3e">WD</a></>}>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

A file system according to your operating system.

This may be linked to the process&#39;s working directory, or maintain its own.

Currently, its own working directory is emulated by storing the path and sending absolute paths to <a href="/docs/api/namespaces/llvm/sys/fs">llvm::sys::fs</a>:: functions. A more principled approach would be to push this down a level, modelling the working dir as an llvm::sys::fs::WorkingDir or similar. This would enable the use of openat()-style functions on some platforms.

Definition at line 266 of file <a href="/docs/api/files/lib/lib/support/virtualfilesystem-cpp">VirtualFileSystem.cpp</a>.

<SectionDefinition>

## Public Constructors

### RealFileSystem() {#a927d1b385cc13faacbcef9c23aec9ade}

<MemberDefinition
  prototype={<>anonymous&#95;namespace&#123;VirtualFileSystem.cpp&#125;::RealFileSystem::RealFileSystem (bool LinkCWDToProcess)</>}
  labels = {["inline", "explicit"]}>

Definition at line <a href="/docs/api/files/lib/lib/support/virtualfilesystem-cpp/#l00268">268</a> of file <a href="/docs/api/files/lib/lib/support/virtualfilesystem-cpp">VirtualFileSystem.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### dir&#95;begin() {#a0d3295327878ca77047240f797f1361e}

<MemberDefinition
  prototype={<>directory&#95;iterator RealFileSystem::dir&#95;begin (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/twine">Twine</a> &amp; Dir, std::error&#95;code &amp; EC)</>}
  labels = {["virtual"]}>
Get a directory&#95;iterator for <code>Dir</code>.

:::info
The &#39;end&#39; iterator is directory&#95;iterator().
:::

Definition at line <a href="/docs/api/files/lib/lib/support/virtualfilesystem-cpp/#l00284">284</a> of file <a href="/docs/api/files/lib/lib/support/virtualfilesystem-cpp">VirtualFileSystem.cpp</a>.
</MemberDefinition>

### getCurrentWorkingDirectory() {#a44bf6b28c71c495cb7a0a037d566347e}

<MemberDefinition
  prototype={<>llvm::ErrorOr&lt; std::string &gt; RealFileSystem::getCurrentWorkingDirectory () const</>}
  labels = {["virtual"]}>
Get the working directory of this file system.

Definition at line <a href="/docs/api/files/lib/lib/support/virtualfilesystem-cpp/#l00286">286</a> of file <a href="/docs/api/files/lib/lib/support/virtualfilesystem-cpp">VirtualFileSystem.cpp</a>.
</MemberDefinition>

### getRealPath() {#ae3a0f5abb9cf8b60c5e803db52eb14c3}

<MemberDefinition
  prototype={<>std::error&#95;code RealFileSystem::getRealPath (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/twine">Twine</a> &amp; Path, <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; char &gt; &amp; Output)</>}
  labels = {["virtual"]}>
Gets real path of <code>Path</code> e.g.

collapse all . and .. patterns, resolve symlinks. For real file system, this uses <code><a href="/docs/api/namespaces/llvm/sys/fs/#a2363fbfbd0a348f5d81fc3d3223ecae3">llvm::sys::fs::real&#95;path</a></code>. This returns errc::operation&#95;not&#95;permitted if not implemented by subclass.

Definition at line <a href="/docs/api/files/lib/lib/support/virtualfilesystem-cpp/#l00289">289</a> of file <a href="/docs/api/files/lib/lib/support/virtualfilesystem-cpp">VirtualFileSystem.cpp</a>.
</MemberDefinition>

### isLocal() {#aaba04fb456275efdc6734f13d51c3301}

<MemberDefinition
  prototype={<>std::error&#95;code RealFileSystem::isLocal (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/twine">Twine</a> &amp; Path, bool &amp; Result)</>}
  labels = {["virtual"]}>
Is the file mounted on a local filesystem?

Definition at line <a href="/docs/api/files/lib/lib/support/virtualfilesystem-cpp/#l00288">288</a> of file <a href="/docs/api/files/lib/lib/support/virtualfilesystem-cpp">VirtualFileSystem.cpp</a>.
</MemberDefinition>

### openFileForRead() {#a15cf09ac267510c83699cd39791647cf}

<MemberDefinition
  prototype={<>ErrorOr&lt; std::unique&#95;ptr&lt; File &gt; &gt; RealFileSystem::openFileForRead (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/twine">Twine</a> &amp; Path)</>}
  labels = {["virtual"]}>
Get a <code>File</code> object for the text file at <code>Path</code>, if one exists.

Definition at line <a href="/docs/api/files/lib/lib/support/virtualfilesystem-cpp/#l00281">281</a> of file <a href="/docs/api/files/lib/lib/support/virtualfilesystem-cpp">VirtualFileSystem.cpp</a>.
</MemberDefinition>

### openFileForReadBinary() {#a4750bd242c6ca760c2399ce4f26a98c6}

<MemberDefinition
  prototype={<>ErrorOr&lt; std::unique&#95;ptr&lt; File &gt; &gt; RealFileSystem::openFileForReadBinary (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/twine">Twine</a> &amp; Path)</>}
  labels = {["virtual"]}>
Get a <code>File</code> object for the binary file at <code>Path</code>, if one exists.

Some non-ascii based file systems perform encoding conversions when reading as a text file, and this function should be used if a file&#39;s bytes should be read as-is. On most filesystems, this is the same behaviour as openFileForRead.

Definition at line <a href="/docs/api/files/lib/lib/support/virtualfilesystem-cpp/#l00283">283</a> of file <a href="/docs/api/files/lib/lib/support/virtualfilesystem-cpp">VirtualFileSystem.cpp</a>.
</MemberDefinition>

### setCurrentWorkingDirectory() {#afb0f6e94a1ddabea59b90081cbf7639a}

<MemberDefinition
  prototype={<>std::error&#95;code RealFileSystem::setCurrentWorkingDirectory (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/twine">Twine</a> &amp; Path)</>}
  labels = {["virtual"]}>
Set the working directory.

This will affect all following operations on this file system and may propagate down for nested file systems.

Definition at line <a href="/docs/api/files/lib/lib/support/virtualfilesystem-cpp/#l00287">287</a> of file <a href="/docs/api/files/lib/lib/support/virtualfilesystem-cpp">VirtualFileSystem.cpp</a>.
</MemberDefinition>

### status() {#ad899abf11af79a6f64de6e0c59ca2a41}

<MemberDefinition
  prototype={<>ErrorOr&lt; Status &gt; RealFileSystem::status (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/twine">Twine</a> &amp; Path)</>}
  labels = {["virtual"]}>
Get the status of the entry at <code>Path</code>, if one exists.

Definition at line <a href="/docs/api/files/lib/lib/support/virtualfilesystem-cpp/#l00280">280</a> of file <a href="/docs/api/files/lib/lib/support/virtualfilesystem-cpp">VirtualFileSystem.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Protected Member Functions

### printImpl() {#adf383f42d11fc142b9442bfcb2f3d503}

<MemberDefinition
  prototype={<>void RealFileSystem::printImpl (<a href="/docs/api/classes/llvm/raw-ostream">raw&#95;ostream</a> &amp; OS, <a href="/docs/api/classes/llvm/vfs/filesystem/#a18e26e37e377b73c564488e7b77424ec">PrintType</a> Type, unsigned IndentLevel) const</>}
  labels = {["protected", "virtual"]}>

Definition at line <a href="/docs/api/files/lib/lib/support/virtualfilesystem-cpp/#l00293">293</a> of file <a href="/docs/api/files/lib/lib/support/virtualfilesystem-cpp">VirtualFileSystem.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Functions

### adjustPath() {#aaea58dd24de9f1f534fe56f4ab7abaac}

<MemberDefinition
  prototype={<>Twine anonymous&#95;namespace&#123;VirtualFileSystem.cpp&#125;::RealFileSystem::adjustPath (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/twine">Twine</a> &amp; Path, <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; char &gt; &amp; Storage) const</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/support/virtualfilesystem-cpp/#l00299">299</a> of file <a href="/docs/api/files/lib/lib/support/virtualfilesystem-cpp">VirtualFileSystem.cpp</a>.
</MemberDefinition>

### openFileForReadWithFlags() {#a76d549ab46a847969458176c3ec2fca7}

<MemberDefinition
  prototype={<>ErrorOr&lt; std::unique&#95;ptr&lt; File &gt; &gt; anonymous&#95;namespace&#123;VirtualFileSystem.cpp&#125;::RealFileSystem::openFileForReadWithFlags (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/twine">Twine</a> &amp; Name, <a href="/docs/api/namespaces/llvm/sys/fs/#a662978c0cdf81de0d448032f142a3695">sys::fs::OpenFlags</a> Flags)</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/support/virtualfilesystem-cpp/#l00308">308</a> of file <a href="/docs/api/files/lib/lib/support/virtualfilesystem-cpp">VirtualFileSystem.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Attributes

### WD {#ab0b28dc816778e5ba3f915638e35be3e}

<MemberDefinition
  prototype={<>std::optional&lt;llvm::ErrorOr&lt;WorkingDirectory&gt; &gt; anonymous&#95;namespace&#123;VirtualFileSystem.cpp&#125;::RealFileSystem::WD</>}>

Definition at line <a href="/docs/api/files/lib/lib/support/virtualfilesystem-cpp/#l00324">324</a> of file <a href="/docs/api/files/lib/lib/support/virtualfilesystem-cpp">VirtualFileSystem.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following file:

<ul>
<li><a href="/docs/api/files/lib/lib/support/virtualfilesystem-cpp">VirtualFileSystem.cpp</a></li>
</ul>

</DoxygenPage>
