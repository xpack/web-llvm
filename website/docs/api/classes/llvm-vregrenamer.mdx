---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/llvm/vregrenamer
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `VRegRenamer` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>

<a href="/docs/api/classes/llvm/vregrenamer">VRegRenamer</a> - This class is used for renaming vregs in a machine basic block according to semantics of the instruction. <a href="#details">More...</a>

## Declaration

<CodeBlock>class llvm::VRegRenamer</CodeBlock>

## Included Headers

<IncludesList>
<IncludesListItem
  filePath="CodeGen/MIRVRegNamerUtils.h"
  permalink="/docs/api/files/lib/lib/codegen/mirvregnamerutils-h"
  isLocal="true" />
</IncludesList>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#ae40e2165f07ee6464a85366f53b08e8f">VRegRenamer</a> ()=delete</>}>
</MembersIndexItem>

<MembersIndexItem
  name={<><a href="#ad424af22e00bb521388ec299c0a3cac7">VRegRenamer</a> (MachineRegisterInfo &amp;MRI)</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="bool"
  name={<><a href="#ae0de3daa9030d33988e07804f9faa03a">renameVRegs</a> (MachineBasicBlock &#42;MBB, unsigned BBNum)</>}>
Same as the above, but sets a BBNum depending on BB traversal that will be used as prefix for the vreg names. <a href="#ae0de3daa9030d33988e07804f9faa03a">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="unsigned"
  name={<><a href="#aa7d6c0231b92c8422054117cb39b379f">createVirtualRegister</a> (unsigned VReg)</>}>
createVirtualRegister - Given an existing vreg, create a named vreg to take its place. <a href="#aa7d6c0231b92c8422054117cb39b379f">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="unsigned"
  name={<><a href="#a1c015c0ada12ddf764529b71def15392">createVirtualRegisterWithLowerName</a> (unsigned VReg, StringRef Name)</>}>
Create a vreg with name and return it. <a href="#a1c015c0ada12ddf764529b71def15392">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#ab8320b631eaa9d19b6ce216907f3eee1">doVRegRenaming</a> (const std::map&lt; unsigned, unsigned &gt; &amp;VRegRenameMap)</>}>
Perform replacing of registers based on the &lt;old,new&gt; vreg map. <a href="#ab8320b631eaa9d19b6ce216907f3eee1">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="std::string"
  name={<><a href="#a679c893eebe76d49bae96b06cbf5b49a">getInstructionOpcodeHash</a> (MachineInstr &amp;MI)</>}>
Given an <a href="/docs/api/classes/llvm/instruction">Instruction</a>, construct a hash of the operands of the instructions along with the opcode. <a href="#a679c893eebe76d49bae96b06cbf5b49a">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::map&lt; unsigned, unsigned &gt;</>}
  name={<><a href="#a98acfdcb080981ca02dff3ae19532892">getVRegRenameMap</a> (const std::vector&lt; NamedVReg &gt; &amp;VRegs)</>}>
For all the VRegs that are candidates for renaming, return a mapping from old vregs to new vregs with names. <a href="#a98acfdcb080981ca02dff3ae19532892">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a3f460c69bb6bd8a7c1e77d1a11246303">renameInstsInMBB</a> (MachineBasicBlock &#42;MBB)</>}>
Linearly traverse the <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> and rename each instruction&#39;s vreg definition based on the semantics of the instruction. <a href="#a3f460c69bb6bd8a7c1e77d1a11246303">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type="unsigned"
  name={<><a href="#a3b2ea1658be8ad213b7dd39989939b45">CurrentBBNumber</a> = 0</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machineregisterinfo">MachineRegisterInfo</a> &amp;</>}
  name={<><a href="#ab9800de4cb415373abe969d8a0d03181">MRI</a></>}>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

<a href="/docs/api/classes/llvm/vregrenamer">VRegRenamer</a> - This class is used for renaming vregs in a machine basic block according to semantics of the instruction.

Definition at line 34 of file <a href="/docs/api/files/lib/lib/codegen/mirvregnamerutils-h">MIRVRegNamerUtils.h</a>.

<SectionDefinition>

## Public Constructors

### VRegRenamer() {#ae40e2165f07ee6464a85366f53b08e8f}

<MemberDefinition
  prototype="llvm::VRegRenamer::VRegRenamer ()"
  labels = {["delete"]}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/mirvregnamerutils-h/#l00084">84</a> of file <a href="/docs/api/files/lib/lib/codegen/mirvregnamerutils-h">MIRVRegNamerUtils.h</a>.
</MemberDefinition>

### VRegRenamer() {#ad424af22e00bb521388ec299c0a3cac7}

<MemberDefinition
  prototype={<>llvm::VRegRenamer::VRegRenamer (<a href="/docs/api/classes/llvm/machineregisterinfo">MachineRegisterInfo</a> &amp; MRI)</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/mirvregnamerutils-h/#l00085">85</a> of file <a href="/docs/api/files/lib/lib/codegen/mirvregnamerutils-h">MIRVRegNamerUtils.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### renameVRegs() {#ae0de3daa9030d33988e07804f9faa03a}

<MemberDefinition
  prototype={<>bool llvm::VRegRenamer::renameVRegs (<a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42; MBB, unsigned BBNum)</>}
  labels = {["inline"]}>
Same as the above, but sets a BBNum depending on BB traversal that will be used as prefix for the vreg names.

Definition at line <a href="/docs/api/files/lib/lib/codegen/mirvregnamerutils-h/#l00089">89</a> of file <a href="/docs/api/files/lib/lib/codegen/mirvregnamerutils-h">MIRVRegNamerUtils.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Functions

### createVirtualRegister() {#aa7d6c0231b92c8422054117cb39b379f}

<MemberDefinition
  prototype="unsigned VRegRenamer::createVirtualRegister (unsigned VReg)">
createVirtualRegister - Given an existing vreg, create a named vreg to take its place.

The name is determined by calling getInstructionOpcodeHash.

Declaration at line <a href="/docs/api/files/lib/lib/codegen/mirvregnamerutils-h/#l00073">73</a> of file <a href="/docs/api/files/lib/lib/codegen/mirvregnamerutils-h">MIRVRegNamerUtils.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/mirvregnamerutils-cpp/#l00139">139</a> of file <a href="/docs/api/files/lib/lib/codegen/mirvregnamerutils-cpp">MIRVRegNamerUtils.cpp</a>.
</MemberDefinition>

### createVirtualRegisterWithLowerName() {#a1c015c0ada12ddf764529b71def15392}

<MemberDefinition
  prototype={<>unsigned VRegRenamer::createVirtualRegisterWithLowerName (unsigned VReg, <a href="/docs/api/classes/llvm/stringref">StringRef</a> Name)</>}>
Create a vreg with name and return it.

Declaration at line <a href="/docs/api/files/lib/lib/codegen/mirvregnamerutils-h/#l00076">76</a> of file <a href="/docs/api/files/lib/lib/codegen/mirvregnamerutils-h">MIRVRegNamerUtils.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/mirvregnamerutils-cpp/#l00166">166</a> of file <a href="/docs/api/files/lib/lib/codegen/mirvregnamerutils-cpp">MIRVRegNamerUtils.cpp</a>.
</MemberDefinition>

### doVRegRenaming() {#ab8320b631eaa9d19b6ce216907f3eee1}

<MemberDefinition
  prototype={<>bool VRegRenamer::doVRegRenaming (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> std::map&lt; unsigned, unsigned &gt; &amp; VRegRenameMap)</>}>
Perform replacing of registers based on the &lt;old,new&gt; vreg map.

Declaration at line <a href="/docs/api/files/lib/lib/codegen/mirvregnamerutils-h/#l00068">68</a> of file <a href="/docs/api/files/lib/lib/codegen/mirvregnamerutils-h">MIRVRegNamerUtils.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/mirvregnamerutils-cpp/#l00025">25</a> of file <a href="/docs/api/files/lib/lib/codegen/mirvregnamerutils-cpp">MIRVRegNamerUtils.cpp</a>.
</MemberDefinition>

### getInstructionOpcodeHash() {#a679c893eebe76d49bae96b06cbf5b49a}

<MemberDefinition
  prototype={<>std::string VRegRenamer::getInstructionOpcodeHash (<a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &amp; MI)</>}>
Given an <a href="/docs/api/classes/llvm/instruction">Instruction</a>, construct a hash of the operands of the instructions along with the opcode.

When dealing with virtual registers, just hash the opcode of the instruction defining that vreg. Handle immediates, registers (physical and virtual) explicitly, and return a common value for the other cases. <a href="/docs/api/classes/llvm/instruction">Instruction</a> will be named in the following scheme bb&lt;block&#95;no&gt;<em>hash</em>&lt;collission&#95;count&gt;.

Declaration at line <a href="/docs/api/files/lib/lib/codegen/mirvregnamerutils-h/#l00060">60</a> of file <a href="/docs/api/files/lib/lib/codegen/mirvregnamerutils-h">MIRVRegNamerUtils.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/mirvregnamerutils-cpp/#l00054">54</a> of file <a href="/docs/api/files/lib/lib/codegen/mirvregnamerutils-cpp">MIRVRegNamerUtils.cpp</a>.
</MemberDefinition>

### getVRegRenameMap() {#a98acfdcb080981ca02dff3ae19532892}

<MemberDefinition
  prototype={<>VRegRenameMap VRegRenamer::getVRegRenameMap (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> std::vector&lt; NamedVReg &gt; &amp; VRegs)</>}>
For all the VRegs that are candidates for renaming, return a mapping from old vregs to new vregs with names.

Declaration at line <a href="/docs/api/files/lib/lib/codegen/mirvregnamerutils-h/#l00065">65</a> of file <a href="/docs/api/files/lib/lib/codegen/mirvregnamerutils-h">MIRVRegNamerUtils.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/mirvregnamerutils-cpp/#l00037">37</a> of file <a href="/docs/api/files/lib/lib/codegen/mirvregnamerutils-cpp">MIRVRegNamerUtils.cpp</a>.
</MemberDefinition>

### renameInstsInMBB() {#a3f460c69bb6bd8a7c1e77d1a11246303}

<MemberDefinition
  prototype={<>bool VRegRenamer::renameInstsInMBB (<a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42; MBB)</>}>
Linearly traverse the <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> and rename each instruction&#39;s vreg definition based on the semantics of the instruction.

Names are as follows bb&lt;BBNum&gt;<em>hash</em>&#91;0-9&#93;+

Declaration at line <a href="/docs/api/files/lib/lib/codegen/mirvregnamerutils-h/#l00081">81</a> of file <a href="/docs/api/files/lib/lib/codegen/mirvregnamerutils-h">MIRVRegNamerUtils.h</a>, definition at line <a href="/docs/api/files/lib/lib/codegen/mirvregnamerutils-cpp/#l00145">145</a> of file <a href="/docs/api/files/lib/lib/codegen/mirvregnamerutils-cpp">MIRVRegNamerUtils.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Attributes

### CurrentBBNumber {#a3b2ea1658be8ad213b7dd39989939b45}

<MemberDefinition
  prototype="unsigned llvm::VRegRenamer::CurrentBBNumber = 0">

Definition at line <a href="/docs/api/files/lib/lib/codegen/mirvregnamerutils-h/#l00050">50</a> of file <a href="/docs/api/files/lib/lib/codegen/mirvregnamerutils-h">MIRVRegNamerUtils.h</a>.
</MemberDefinition>

### MRI {#ab9800de4cb415373abe969d8a0d03181}

<MemberDefinition
  prototype={<>MachineRegisterInfo&amp; llvm::VRegRenamer::MRI</>}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/mirvregnamerutils-h/#l00048">48</a> of file <a href="/docs/api/files/lib/lib/codegen/mirvregnamerutils-h">MIRVRegNamerUtils.h</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following files:

<ul>
<li><a href="/docs/api/files/lib/lib/codegen/mirvregnamerutils-cpp">MIRVRegNamerUtils.cpp</a></li>
<li><a href="/docs/api/files/lib/lib/codegen/mirvregnamerutils-h">MIRVRegNamerUtils.h</a></li>
</ul>

</DoxygenPage>
