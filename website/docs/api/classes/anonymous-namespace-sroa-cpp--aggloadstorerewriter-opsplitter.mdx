---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/anonymous-namespace-sroa-cpp-/aggloadstorerewriter/opsplitter
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import ParametersList from '@xpack/docusaurus-plugin-doxygen/components/ParametersList'
import ParametersListItem from '@xpack/docusaurus-plugin-doxygen/components/ParametersListItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `OpSplitter` Class Template Reference

<DoxygenPage pluginConfig={pluginConfig}>

Generic recursive split emission class. <a href="#details">More...</a>

## Declaration

<CodeBlock>template &lt;typename Derived&gt;
class anonymous_namespace{SROA.cpp}::AggLoadStoreRewriter::OpSplitter&lt;Derived&gt;</CodeBlock>

## Protected Constructors Index

<MembersIndex>

<MembersIndexItem
  template={<>template &lt;typename Derived&gt;</>}
  name={<><a href="#a8fdd5eaa5f628b3689e30f3fbc470522">OpSplitter</a> (Instruction &#42;InsertionPoint, Value &#42;Ptr, Type &#42;BaseTy, Align BaseAlign, const DataLayout &amp;DL, IRBuilderTy &amp;IRB)</>}>
Initialize the splitter with an insertion point, Ptr and start with a single zero GEP index. <a href="#a8fdd5eaa5f628b3689e30f3fbc470522">More...</a>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  template={<>template &lt;typename Derived&gt;</>}
  type="void"
  name={<><a href="#abbbd6810c26292fabe5a73e8aa4b40b0">emitSplitOps</a> (Type &#42;Ty, Value &#42;&amp;Agg, const Twine &amp;Name)</>}>
Generic recursive split emission routine. <a href="#abbbd6810c26292fabe5a73e8aa4b40b0">More...</a>
</MembersIndexItem>

</MembersIndex>

## Protected Member Attributes Index

<MembersIndex>

<MembersIndexItem
  template={<>template &lt;typename Derived&gt;</>}
  type={<><a href="/docs/api/structs/llvm/align">Align</a></>}
  name={<><a href="#a7dc3b218b4e5ea3d9a82e8c5205a43d6">BaseAlign</a></>}>
Known alignment of the base pointer. <a href="#a7dc3b218b4e5ea3d9a82e8c5205a43d6">More...</a>
</MembersIndexItem>

<MembersIndexItem
  template={<>template &lt;typename Derived&gt;</>}
  type={<><a href="/docs/api/classes/llvm/type">Type</a> &#42;</>}
  name={<><a href="#a55f6f218b46e64bde6570f8b90bd6d75">BaseTy</a></>}>
The base pointee type being GEPed into. <a href="#a55f6f218b46e64bde6570f8b90bd6d75">More...</a>
</MembersIndexItem>

<MembersIndexItem
  template={<>template &lt;typename Derived&gt;</>}
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/datalayout">DataLayout</a> &amp;</>}
  name={<><a href="#a939eb5b42352e5b09d6097aaa000c6ed">DL</a></>}>
To calculate offset of each component so we can correctly deduce alignments. <a href="#a939eb5b42352e5b09d6097aaa000c6ed">More...</a>
</MembersIndexItem>

<MembersIndexItem
  template={<>template &lt;typename Derived&gt;</>}
  type={<><a href="/docs/api/classes/llvm/smallvector">SmallVector</a>&lt; <a href="/docs/api/classes/llvm/value">Value</a> &#42;, 4 &gt;</>}
  name={<><a href="#a8d8defc4b11e35bdf9abbc3b533ee79c">GEPIndices</a></>}>
The indices to a GEP instruction which will move Ptr to the correct slot within the aggregate. <a href="#a8d8defc4b11e35bdf9abbc3b533ee79c">More...</a>
</MembersIndexItem>

<MembersIndexItem
  template={<>template &lt;typename Derived&gt;</>}
  type={<><a href="/docs/api/classes/llvm/smallvector">SmallVector</a>&lt; unsigned, 4 &gt;</>}
  name={<><a href="#aac64dd802c08a5c25c8c4a0c346adbf3">Indices</a></>}>
The indices which to be used with insert- or extractvalue to select the appropriate value within the aggregate. <a href="#aac64dd802c08a5c25c8c4a0c346adbf3">More...</a>
</MembersIndexItem>

<MembersIndexItem
  template={<>template &lt;typename Derived&gt;</>}
  type={<><a href="/docs/api/namespaces/anonymous-sroa-cpp-/#a25b3d08de3386c79fa6533b6bd2485de">IRBuilderTy</a> &amp;</>}
  name={<><a href="#a8d4d8fed634aee816420cee6bcf39fdf">IRB</a></>}>
The builder used to form new instructions. <a href="#a8d4d8fed634aee816420cee6bcf39fdf">More...</a>
</MembersIndexItem>

<MembersIndexItem
  template={<>template &lt;typename Derived&gt;</>}
  type={<><a href="/docs/api/classes/llvm/value">Value</a> &#42;</>}
  name={<><a href="#a8b6b86bd78451e5ac8cb8ace4b62887a">Ptr</a></>}>
The base pointer of the original op, used as a base for GEPing the split operations. <a href="#a8b6b86bd78451e5ac8cb8ace4b62887a">More...</a>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

Generic recursive split emission class.

Definition at line 3734 of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/sroa-cpp">SROA.cpp</a>.

<SectionDefinition>

## Protected Constructors

### OpSplitter() {#a8fdd5eaa5f628b3689e30f3fbc470522}

<MemberDefinition
  template={<>template &lt;typename Derived&gt;</>}
  prototype={<>anonymous&#95;namespace&#123;SROA.cpp&#125;::AggLoadStoreRewriter::OpSplitter&lt; Derived &gt;::OpSplitter (<a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42; InsertionPoint, <a href="/docs/api/classes/llvm/value">Value</a> &#42; Ptr, <a href="/docs/api/classes/llvm/type">Type</a> &#42; BaseTy, <a href="/docs/api/structs/llvm/align">Align</a> BaseAlign, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/datalayout">DataLayout</a> &amp; DL, <a href="/docs/api/namespaces/anonymous-sroa-cpp-/#a25b3d08de3386c79fa6533b6bd2485de">IRBuilderTy</a> &amp; IRB)</>}
  labels = {["inline", "protected"]}>
Initialize the splitter with an insertion point, Ptr and start with a single zero GEP index.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/sroa-cpp/#l03763">3763</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/sroa-cpp">SROA.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### emitSplitOps() {#abbbd6810c26292fabe5a73e8aa4b40b0}

<MemberDefinition
  template={<>template &lt;typename Derived&gt;</>}
  prototype={<>void anonymous&#95;namespace&#123;SROA.cpp&#125;::AggLoadStoreRewriter::OpSplitter&lt; Derived &gt;::emitSplitOps (<a href="/docs/api/classes/llvm/type">Type</a> &#42; Ty, <a href="/docs/api/classes/llvm/value">Value</a> &#42;&amp; Agg, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/twine">Twine</a> &amp; Name)</>}
  labels = {["inline"]}>
Generic recursive split emission routine.

This method recursively splits an aggregate op (load or store) into scalar or vector ops. It splits recursively until it hits a single value and emits that single value operation via the template argument.

The logic of this routine relies on GEPs and insertvalue and extractvalue all operating with the same fundamental index list, merely formatted differently (GEPs need actual values).


<ParametersList title="Parameters">
<ParametersListItem name="Ty">The type being split recursively into smaller ops.</ParametersListItem>
<ParametersListItem name="Agg">The aggregate value being built up or stored, depending on whether this is splitting a load or a store respectively.</ParametersListItem>
</ParametersList>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/sroa-cpp/#l03784">3784</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/sroa-cpp">SROA.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Protected Member Attributes

### BaseAlign {#a7dc3b218b4e5ea3d9a82e8c5205a43d6}

<MemberDefinition
  template={<>template &lt;typename Derived&gt;</>}
  prototype={<>Align anonymous&#95;namespace&#123;SROA.cpp&#125;::AggLoadStoreRewriter::OpSplitter&lt; Derived &gt;::BaseAlign</>}
  labels = {["protected"]}>
Known alignment of the base pointer.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/sroa-cpp/#l03755">3755</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/sroa-cpp">SROA.cpp</a>.
</MemberDefinition>

### BaseTy {#a55f6f218b46e64bde6570f8b90bd6d75}

<MemberDefinition
  template={<>template &lt;typename Derived&gt;</>}
  prototype={<>Type&#42; anonymous&#95;namespace&#123;SROA.cpp&#125;::AggLoadStoreRewriter::OpSplitter&lt; Derived &gt;::BaseTy</>}
  labels = {["protected"]}>
The base pointee type being GEPed into.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/sroa-cpp/#l03752">3752</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/sroa-cpp">SROA.cpp</a>.
</MemberDefinition>

### DL {#a939eb5b42352e5b09d6097aaa000c6ed}

<MemberDefinition
  template={<>template &lt;typename Derived&gt;</>}
  prototype={<>const DataLayout&amp; anonymous&#95;namespace&#123;SROA.cpp&#125;::AggLoadStoreRewriter::OpSplitter&lt; Derived &gt;::DL</>}
  labels = {["protected"]}>
To calculate offset of each component so we can correctly deduce alignments.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/sroa-cpp/#l03759">3759</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/sroa-cpp">SROA.cpp</a>.
</MemberDefinition>

### GEPIndices {#a8d8defc4b11e35bdf9abbc3b533ee79c}

<MemberDefinition
  template={<>template &lt;typename Derived&gt;</>}
  prototype={<>SmallVector&lt;Value &#42;, 4&gt; anonymous&#95;namespace&#123;SROA.cpp&#125;::AggLoadStoreRewriter::OpSplitter&lt; Derived &gt;::GEPIndices</>}
  labels = {["protected"]}>
The indices to a GEP instruction which will move Ptr to the correct slot within the aggregate.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/sroa-cpp/#l03745">3745</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/sroa-cpp">SROA.cpp</a>.
</MemberDefinition>

### Indices {#aac64dd802c08a5c25c8c4a0c346adbf3}

<MemberDefinition
  template={<>template &lt;typename Derived&gt;</>}
  prototype={<>SmallVector&lt;unsigned, 4&gt; anonymous&#95;namespace&#123;SROA.cpp&#125;::AggLoadStoreRewriter::OpSplitter&lt; Derived &gt;::Indices</>}
  labels = {["protected"]}>
The indices which to be used with insert- or extractvalue to select the appropriate value within the aggregate.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/sroa-cpp/#l03741">3741</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/sroa-cpp">SROA.cpp</a>.
</MemberDefinition>

### IRB {#a8d4d8fed634aee816420cee6bcf39fdf}

<MemberDefinition
  template={<>template &lt;typename Derived&gt;</>}
  prototype={<>IRBuilderTy&amp; anonymous&#95;namespace&#123;SROA.cpp&#125;::AggLoadStoreRewriter::OpSplitter&lt; Derived &gt;::IRB</>}
  labels = {["protected"]}>
The builder used to form new instructions.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/sroa-cpp/#l03737">3737</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/sroa-cpp">SROA.cpp</a>.
</MemberDefinition>

### Ptr {#a8b6b86bd78451e5ac8cb8ace4b62887a}

<MemberDefinition
  template={<>template &lt;typename Derived&gt;</>}
  prototype={<>Value&#42; anonymous&#95;namespace&#123;SROA.cpp&#125;::AggLoadStoreRewriter::OpSplitter&lt; Derived &gt;::Ptr</>}
  labels = {["protected"]}>
The base pointer of the original op, used as a base for GEPing the split operations.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/sroa-cpp/#l03749">3749</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/sroa-cpp">SROA.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following file:

<ul>
<li><a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/sroa-cpp">SROA.cpp</a></li>
</ul>

</DoxygenPage>
