---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/llvm/syntheticcountsutils
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `SyntheticCountsUtils` Class Template Reference

<DoxygenPage pluginConfig={pluginConfig}>

Class with methods to propagate synthetic entry counts. <a href="#details">More...</a>

## Declaration

<CodeBlock>template &lt;typename CallGraphType&gt;
class llvm::SyntheticCountsUtils&lt;CallGraphType&gt;</CodeBlock>

## Included Headers

<IncludesList>
<IncludesListItem
  filePath="llvm/Analysis/SyntheticCountsUtils.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/analysis/syntheticcountsutils-h"
  isLocal="true" />
</IncludesList>

## Public Member Typedefs Index

<MembersIndex>

<MembersIndexItem
  template={<>template &lt;typename CallGraphType&gt;</>}
  type="using"
  name={<><a href="#aca86078c2d914c27eaa89b04653fe51d">AddCountTy</a> = <a href="/docs/api/classes/llvm/function-ref">function&#95;ref</a>&lt; void(<a href="#a53587e3dc22af4b6768d4928d9949391">NodeRef</a>, <a href="#a28363df14a5b39b841984b2885b9a5c1">Scaled64</a>)&gt;</>}>
</MembersIndexItem>

<MembersIndexItem
  template={<>template &lt;typename CallGraphType&gt;</>}
  type="using"
  name={<><a href="#a69a4083045ace77a0ec7f7c14868074f">CGT</a> = <a href="/docs/api/structs/llvm/graphtraits">GraphTraits</a>&lt; CallGraphType &gt;</>}>
</MembersIndexItem>

<MembersIndexItem
  template={<>template &lt;typename CallGraphType&gt;</>}
  type="using"
  name={<><a href="#aca3d432cf1a1de6e83854bc9a8763289">EdgeRef</a> = typename CGT::EdgeRef</>}>
</MembersIndexItem>

<MembersIndexItem
  template={<>template &lt;typename CallGraphType&gt;</>}
  type="using"
  name={<><a href="#a74f2a62ba48d877e2aaf26132369c813">GetProfCountTy</a> = <a href="/docs/api/classes/llvm/function-ref">function&#95;ref</a>&lt; std::optional&lt; <a href="#a28363df14a5b39b841984b2885b9a5c1">Scaled64</a> &gt;(<a href="#a53587e3dc22af4b6768d4928d9949391">NodeRef</a>, <a href="#aca3d432cf1a1de6e83854bc9a8763289">EdgeRef</a>)&gt;</>}>
</MembersIndexItem>

<MembersIndexItem
  template={<>template &lt;typename CallGraphType&gt;</>}
  type="using"
  name={<><a href="#a53587e3dc22af4b6768d4928d9949391">NodeRef</a> = typename <a href="/docs/api/structs/llvm/graphtraits/#a741f7d63af17a7bd0bcf63f68e8658bd">CGT::NodeRef</a></>}>
</MembersIndexItem>

<MembersIndexItem
  template={<>template &lt;typename CallGraphType&gt;</>}
  type="using"
  name={<><a href="#a28363df14a5b39b841984b2885b9a5c1">Scaled64</a> = <a href="/docs/api/classes/llvm/scalednumber">ScaledNumber</a>&lt; uint64&#95;t &gt;</>}>
</MembersIndexItem>

<MembersIndexItem
  template={<>template &lt;typename CallGraphType&gt;</>}
  type="using"
  name={<><a href="#ac6148bb1a377a31601e6fc491cee8ff3">SccTy</a> = std::vector&lt; <a href="#a53587e3dc22af4b6768d4928d9949391">NodeRef</a> &gt;</>}>
</MembersIndexItem>

</MembersIndex>

## Public Static Functions Index

<MembersIndex>

<MembersIndexItem
  template={<>template &lt;typename CallGraphType&gt;</>}
  type="void"
  name={<><a href="#adb9f0161ed871cc18d6c62810cb74913">propagate</a> (const CallGraphType &amp;CG, GetProfCountTy GetProfCount, AddCountTy AddCount)</>}>
Propgate synthetic entry counts on a callgraph <code>CG</code>. <a href="#adb9f0161ed871cc18d6c62810cb74913">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Static Functions Index

<MembersIndex>

<MembersIndexItem
  template={<>template &lt;typename CallGraphType&gt;</>}
  type="void"
  name={<><a href="#a4e1827fe32d7ffac7768d287534855fc">propagateFromSCC</a> (const SccTy &amp;SCC, GetProfCountTy GetProfCount, AddCountTy AddCount)</>}>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

Class with methods to propagate synthetic entry counts.

This class is templated on the type of the call graph and designed to work with the traditional per-module callgraph and the summary callgraphs used in ThinLTO. This contains only static methods and alias templates.

Definition at line 28 of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/syntheticcountsutils-h">SyntheticCountsUtils.h</a>.

<SectionDefinition>

## Public Member Typedefs

### AddCountTy {#aca86078c2d914c27eaa89b04653fe51d}

<MemberDefinition
  template={<>template &lt;typename CallGraphType&gt;</>}
  prototype={<>using llvm::SyntheticCountsUtils&lt; CallGraphType &gt;::AddCountTy =  function&#95;ref&lt;void(NodeRef, Scaled64)&gt;</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/syntheticcountsutils-h/#l00040">40</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/syntheticcountsutils-h">SyntheticCountsUtils.h</a>.
</MemberDefinition>

### CGT {#a69a4083045ace77a0ec7f7c14868074f}

<MemberDefinition
  template={<>template &lt;typename CallGraphType&gt;</>}
  prototype={<>using llvm::SyntheticCountsUtils&lt; CallGraphType &gt;::CGT =  GraphTraits&lt;CallGraphType&gt;</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/syntheticcountsutils-h/#l00031">31</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/syntheticcountsutils-h">SyntheticCountsUtils.h</a>.
</MemberDefinition>

### EdgeRef {#aca3d432cf1a1de6e83854bc9a8763289}

<MemberDefinition
  template={<>template &lt;typename CallGraphType&gt;</>}
  prototype={<>using llvm::SyntheticCountsUtils&lt; CallGraphType &gt;::EdgeRef =  typename CGT::EdgeRef</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/syntheticcountsutils-h/#l00033">33</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/syntheticcountsutils-h">SyntheticCountsUtils.h</a>.
</MemberDefinition>

### GetProfCountTy {#a74f2a62ba48d877e2aaf26132369c813}

<MemberDefinition
  template={<>template &lt;typename CallGraphType&gt;</>}
  prototype={<>using llvm::SyntheticCountsUtils&lt; CallGraphType &gt;::GetProfCountTy = 
      function&#95;ref&lt;std::optional&lt;Scaled64&gt;(NodeRef, EdgeRef)&gt;</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/syntheticcountsutils-h/#l00038">38</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/syntheticcountsutils-h">SyntheticCountsUtils.h</a>.
</MemberDefinition>

### NodeRef {#a53587e3dc22af4b6768d4928d9949391}

<MemberDefinition
  template={<>template &lt;typename CallGraphType&gt;</>}
  prototype={<>using llvm::SyntheticCountsUtils&lt; CallGraphType &gt;::NodeRef =  typename CGT::NodeRef</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/syntheticcountsutils-h/#l00032">32</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/syntheticcountsutils-h">SyntheticCountsUtils.h</a>.
</MemberDefinition>

### Scaled64 {#a28363df14a5b39b841984b2885b9a5c1}

<MemberDefinition
  template={<>template &lt;typename CallGraphType&gt;</>}
  prototype={<>using llvm::SyntheticCountsUtils&lt; CallGraphType &gt;::Scaled64 =  ScaledNumber&lt;uint64&#95;t&gt;</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/syntheticcountsutils-h/#l00030">30</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/syntheticcountsutils-h">SyntheticCountsUtils.h</a>.
</MemberDefinition>

### SccTy {#ac6148bb1a377a31601e6fc491cee8ff3}

<MemberDefinition
  template={<>template &lt;typename CallGraphType&gt;</>}
  prototype={<>using llvm::SyntheticCountsUtils&lt; CallGraphType &gt;::SccTy =  std::vector&lt;NodeRef&gt;</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/syntheticcountsutils-h/#l00034">34</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/syntheticcountsutils-h">SyntheticCountsUtils.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Static Functions

### propagate() {#adb9f0161ed871cc18d6c62810cb74913}

<MemberDefinition
  template={<>template &lt;typename CallGraphType&gt;</>}
  prototype={<>void SyntheticCountsUtils::propagate (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> CallGraphType &amp; CG, <a href="#a74f2a62ba48d877e2aaf26132369c813">GetProfCountTy</a> GetProfCount, <a href="#aca86078c2d914c27eaa89b04653fe51d">AddCountTy</a> AddCount)</>}
  labels = {["static"]}>
Propgate synthetic entry counts on a callgraph <code>CG</code>.

This performs a reverse post-order traversal of the callgraph SCC. For each SCC, it first propagates the entry counts to the nodes within the SCC through call edges and updates them in one shot. Then the entry counts are propagated to nodes outside the SCC. This requires <code><a href="/docs/api/structs/llvm/graphtraits">GraphTraits</a></code> to have a specialization for <code>CallGraphType</code>.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/syntheticcountsutils-h/#l00042">42</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/syntheticcountsutils-h">SyntheticCountsUtils.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/syntheticcountsutils-cpp/#l00083">83</a> of file <a href="/docs/api/files/lib/lib/analysis/syntheticcountsutils-cpp">SyntheticCountsUtils.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Static Functions

### propagateFromSCC() {#a4e1827fe32d7ffac7768d287534855fc}

<MemberDefinition
  template={<>template &lt;typename CallGraphType&gt;</>}
  prototype={<>void SyntheticCountsUtils::propagateFromSCC (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="#ac6148bb1a377a31601e6fc491cee8ff3">SccTy</a> &amp; SCC, <a href="#a74f2a62ba48d877e2aaf26132369c813">GetProfCountTy</a> GetProfCount, <a href="#aca86078c2d914c27eaa89b04653fe51d">AddCountTy</a> AddCount)</>}
  labels = {["static"]}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/syntheticcountsutils-h/#l00046">46</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/syntheticcountsutils-h">SyntheticCountsUtils.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/syntheticcountsutils-cpp/#l00023">23</a> of file <a href="/docs/api/files/lib/lib/analysis/syntheticcountsutils-cpp">SyntheticCountsUtils.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following files:

<ul>
<li><a href="/docs/api/files/include/include/llvm/include/llvm/analysis/syntheticcountsutils-h">SyntheticCountsUtils.h</a></li>
<li><a href="/docs/api/files/lib/lib/analysis/syntheticcountsutils-cpp">SyntheticCountsUtils.cpp</a></li>
</ul>

</DoxygenPage>
