---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/llvm/targetinstrinfo/pipelinerloopinfo
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `PipelinerLoopInfo` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>

Object returned by analyzeLoopForPipelining. <a href="#details">More...</a>

## Declaration

<CodeBlock>class llvm::TargetInstrInfo::PipelinerLoopInfo</CodeBlock>

## Included Headers

<IncludesList>
<IncludesListItem
  filePath="llvm/CodeGen/TargetInstrInfo.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/codegen/targetinstrinfo-h"
  isLocal="true" />
</IncludesList>

## Derived Classes

<MembersIndex>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/anonymous-namespace-aarch64instrinfo-cpp-/aarch64pipelinerloopinfo">AArch64PipelinerLoopInfo</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/anonymous-namespace-armbaseinstrinfo-cpp-/armpipelinerloopinfo">ARMPipelinerLoopInfo</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/anonymous-namespace-hexagoninstrinfo-cpp-/hexagonpipelinerloopinfo">HexagonPipelinerLoopInfo</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/anonymous-namespace-ppcinstrinfo-cpp-/ppcpipelinerloopinfo">PPCPipelinerLoopInfo</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/anonymous-namespace-riscvinstrinfo-cpp-/riscvpipelinerloopinfo">RISCVPipelinerLoopInfo</a></>}>
</MembersIndexItem>

</MembersIndex>

## Public Destructor Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a323f9c5e373d7d31752443ccfc5b3ad0">~PipelinerLoopInfo</a> ()</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="void"
  name={<><a href="#a580346a21489f177f3653e28706705de">adjustTripCount</a> (int TripCountAdjust)=0</>}>
Modify the loop such that the trip count is OriginalTC + TripCountAdjust. <a href="#a580346a21489f177f3653e28706705de">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a5035eb4b6ba9b90e3f5efa5d02e14220">createRemainingIterationsGreaterCondition</a> (int TC, MachineBasicBlock &amp;MBB, SmallVectorImpl&lt; MachineOperand &gt; &amp;Cond, DenseMap&lt; MachineInstr &#42;, MachineInstr &#42; &gt; &amp;LastStage0Insts)</>}>
Create a condition to determine if the remaining trip count for a phase is greater than TC. <a href="#a5035eb4b6ba9b90e3f5efa5d02e14220">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::optional&lt; bool &gt;</>}
  name={<><a href="#aec10ebaf323ba8e4819ebc03a85c6d35">createTripCountGreaterCondition</a> (int TC, MachineBasicBlock &amp;MBB, SmallVectorImpl&lt; MachineOperand &gt; &amp;Cond)=0</>}>
Create a condition to determine if the trip count of the loop is greater than TC, where TC is always one more than for the previous prologue or 0 if this is being called for the outermost prologue. <a href="#aec10ebaf323ba8e4819ebc03a85c6d35">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a584d399e63e0d0dabbd5bf7a3ea706d3">disposed</a> (LiveIntervals &#42;LIS=nullptr)</>}>
Called when the loop is being removed. <a href="#a584d399e63e0d0dabbd5bf7a3ea706d3">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a08eced6b6bf6b02841750f478b027bf9">isMVEExpanderSupported</a> ()</>}>
Return true if the target can expand pipelined schedule with modulo variable expansion. <a href="#a08eced6b6bf6b02841750f478b027bf9">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a8c72fd2759b3ccba6f928da04138dd63">setPreheader</a> (MachineBasicBlock &#42;NewPreheader)=0</>}>
Called when the loop&#39;s preheader has been modified to NewPreheader. <a href="#a8c72fd2759b3ccba6f928da04138dd63">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a60ab2da004401c41428ea89e043ae9c5">shouldIgnoreForPipelining</a> (const MachineInstr &#42;MI) const =0</>}>
Return true if the given instruction should not be pipelined and should be ignored. <a href="#a60ab2da004401c41428ea89e043ae9c5">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#ac80ee8cb2c02915c24dd294ed95ac57b">shouldUseSchedule</a> (SwingSchedulerDAG &amp;SSD, SMSchedule &amp;SMS)</>}>
Return true if the proposed schedule should used. <a href="#ac80ee8cb2c02915c24dd294ed95ac57b">More...</a>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

Object returned by analyzeLoopForPipelining.

Allows software pipelining implementations to query attributes of the loop being pipelined and to apply target-specific updates to the loop once pipelining is complete.

Definition at line 751 of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/targetinstrinfo-h">TargetInstrInfo.h</a>.

<SectionDefinition>

## Public Destructor

### ~PipelinerLoopInfo() {#a323f9c5e373d7d31752443ccfc5b3ad0}

<MemberDefinition
  prototype="TargetInstrInfo::PipelinerLoopInfo::~PipelinerLoopInfo ()"
  labels = {["virtual"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/targetinstrinfo-h/#l00753">753</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/targetinstrinfo-h">TargetInstrInfo.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### adjustTripCount() {#a580346a21489f177f3653e28706705de}

<MemberDefinition
  prototype="virtual void llvm::TargetInstrInfo::PipelinerLoopInfo::adjustTripCount (int TripCountAdjust)">
Modify the loop such that the trip count is OriginalTC + TripCountAdjust.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/targetinstrinfo-h/#l00803">803</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/targetinstrinfo-h">TargetInstrInfo.h</a>.
</MemberDefinition>

### createRemainingIterationsGreaterCondition() {#a5035eb4b6ba9b90e3f5efa5d02e14220}

<MemberDefinition
  prototype={<>virtual void llvm::TargetInstrInfo::PipelinerLoopInfo::createRemainingIterationsGreaterCondition (int TC, <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &amp; MBB, <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; <a href="/docs/api/classes/llvm/machineoperand">MachineOperand</a> &gt; &amp; Cond, <a href="/docs/api/classes/llvm/densemap">DenseMap</a>&lt; <a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &#42;, <a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &#42; &gt; &amp; LastStage0Insts)</>}
  labels = {["inline", "virtual"]}>
Create a condition to determine if the remaining trip count for a phase is greater than TC.

Some instructions such as comparisons may be inserted at the bottom of MBB. All instructions expanded for the phase must be inserted in MBB before calling this function. LastStage0Insts is the map from the original instructions scheduled at stage#0 to the expanded instructions for the last iteration of the kernel. LastStage0Insts is intended to obtain the instruction that refers the latest loop counter value.

MBB can also be a predecessor of the prologue block. Then LastStage0Insts must be empty and the compared value is the initial value of the trip count.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/targetinstrinfo-h/#l00793">793</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/targetinstrinfo-h">TargetInstrInfo.h</a>.
</MemberDefinition>

### createTripCountGreaterCondition() {#aec10ebaf323ba8e4819ebc03a85c6d35}

<MemberDefinition
  prototype={<>virtual std::optional&lt; bool &gt; llvm::TargetInstrInfo::PipelinerLoopInfo::createTripCountGreaterCondition (int TC, <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &amp; MBB, <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; <a href="/docs/api/classes/llvm/machineoperand">MachineOperand</a> &gt; &amp; Cond)</>}>
Create a condition to determine if the trip count of the loop is greater than TC, where TC is always one more than for the previous prologue or 0 if this is being called for the outermost prologue.

If the trip count is statically known to be greater than TC, return true. If the trip count is statically known to be not greater than TC, return false. Otherwise return nullopt and fill out Cond with the test condition.

Note: This hook is guaranteed to be called from the innermost to the outermost prologue of the loop being software pipelined.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/targetinstrinfo-h/#l00778">778</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/targetinstrinfo-h">TargetInstrInfo.h</a>.
</MemberDefinition>

### disposed() {#a584d399e63e0d0dabbd5bf7a3ea706d3}

<MemberDefinition
  prototype={<>virtual void llvm::TargetInstrInfo::PipelinerLoopInfo::disposed (<a href="/docs/api/classes/llvm/liveintervals">LiveIntervals</a> &#42; LIS=nullptr)</>}
  labels = {["inline", "virtual"]}>
Called when the loop is being removed.

<a href="/docs/api/classes/llvm/any">Any</a> instructions in the preheader should be removed.

Once this function is called, no other functions on this object are valid; the loop has been removed.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/targetinstrinfo-h/#l00813">813</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/targetinstrinfo-h">TargetInstrInfo.h</a>.
</MemberDefinition>

### isMVEExpanderSupported() {#a08eced6b6bf6b02841750f478b027bf9}

<MemberDefinition
  prototype="virtual bool llvm::TargetInstrInfo::PipelinerLoopInfo::isMVEExpanderSupported ()"
  labels = {["inline", "virtual"]}>
Return true if the target can expand pipelined schedule with modulo variable expansion.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/targetinstrinfo-h/#l00817">817</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/targetinstrinfo-h">TargetInstrInfo.h</a>.
</MemberDefinition>

### setPreheader() {#a8c72fd2759b3ccba6f928da04138dd63}

<MemberDefinition
  prototype={<>virtual void llvm::TargetInstrInfo::PipelinerLoopInfo::setPreheader (<a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42; NewPreheader)</>}>
Called when the loop&#39;s preheader has been modified to NewPreheader.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/targetinstrinfo-h/#l00806">806</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/targetinstrinfo-h">TargetInstrInfo.h</a>.
</MemberDefinition>

### shouldIgnoreForPipelining() {#a60ab2da004401c41428ea89e043ae9c5}

<MemberDefinition
  prototype={<>virtual bool llvm::TargetInstrInfo::PipelinerLoopInfo::shouldIgnoreForPipelining (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &#42; MI) const</>}>
Return true if the given instruction should not be pipelined and should be ignored.

An example could be a loop comparison, or induction variable update with no users being pipelined.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/targetinstrinfo-h/#l00757">757</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/targetinstrinfo-h">TargetInstrInfo.h</a>.
</MemberDefinition>

### shouldUseSchedule() {#ac80ee8cb2c02915c24dd294ed95ac57b}

<MemberDefinition
  prototype={<>virtual bool llvm::TargetInstrInfo::PipelinerLoopInfo::shouldUseSchedule (<a href="/docs/api/classes/llvm/swingschedulerdag">SwingSchedulerDAG</a> &amp; SSD, <a href="/docs/api/classes/llvm/smschedule">SMSchedule</a> &amp; SMS)</>}
  labels = {["inline", "virtual"]}>
Return true if the proposed schedule should used.

Otherwise return false to not pipeline the loop. This function should be used to ensure that pipelined loops meet target-specific quality heuristics.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/targetinstrinfo-h/#l00762">762</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/targetinstrinfo-h">TargetInstrInfo.h</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following file:

<ul>
<li><a href="/docs/api/files/include/include/llvm/include/llvm/codegen/targetinstrinfo-h">TargetInstrInfo.h</a></li>
</ul>

</DoxygenPage>
