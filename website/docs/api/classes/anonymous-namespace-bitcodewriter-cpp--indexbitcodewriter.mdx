---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/anonymous-namespace-bitcodewriter-cpp-/indexbitcodewriter
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `IndexBitcodeWriter` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>

Class to manage the bitcode writing for a combined index. <a href="#details">More...</a>

## Declaration

<CodeBlock>class anonymous_namespace{BitcodeWriter.cpp}::IndexBitcodeWriter</CodeBlock>

## Base class

<MembersIndex>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/anonymous-namespace-bitcodewriter-cpp-/bitcodewriterbase">BitcodeWriterBase</a></>}>
Abstract class to manage the bitcode writing, subclassed for each bitcode file type. <a href="/docs/api/classes/anonymous-namespace-bitcodewriter-cpp-/bitcodewriterbase/#details">More...</a>
</MembersIndexItem>

</MembersIndex>

## Public Member Typedefs Index

<MembersIndex>

<MembersIndexItem
  type="using"
  name={<><a href="#a3e01fd1353d2dd3b147f87cce57ab5a2">GVInfo</a> = std::pair&lt; <a href="/docs/api/classes/llvm/globalvalue/#a3af0428ec6e48cb2f05c199b7b9f7e07">GlobalValue::GUID</a>, <a href="/docs/api/classes/llvm/globalvaluesummary">GlobalValueSummary</a> &#42; &gt;</>}>
The below iterator returns the GUID and associated summary. <a href="#a3e01fd1353d2dd3b147f87cce57ab5a2">More...</a>
</MembersIndexItem>

</MembersIndex>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a8723cbabc5c7064728c2fdcc5b14b771">IndexBitcodeWriter</a> (BitstreamWriter &amp;Stream, StringTableBuilder &amp;StrtabBuilder, const ModuleSummaryIndex &amp;Index, const GVSummaryPtrSet &#42;DecSummaries=nullptr, const ModuleToSummariesForIndexTy &#42;ModuleToSummariesForIndex=nullptr)</>}>
Constructs a <a href="/docs/api/classes/anonymous-namespace-bitcodewriter-cpp-/indexbitcodewriter">IndexBitcodeWriter</a> object for the given combined index, writing to the provided <code>Buffer</code>. <a href="#a8723cbabc5c7064728c2fdcc5b14b771">More...</a>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  template={<>template &lt;typename Functor&gt;</>}
  type="void"
  name={<><a href="#a5796fcdd25688200886925c4f3878799">forEachModule</a> (Functor Callback)</>}>
Calls the callback for each entry in the modulePaths <a href="/docs/api/classes/llvm/stringmap">StringMap</a> that should be written to the module path string table. <a href="#a5796fcdd25688200886925c4f3878799">More...</a>
</MembersIndexItem>

<MembersIndexItem
  template={<>template &lt;typename Functor&gt;</>}
  type="void"
  name={<><a href="#aa3645d133a2e3aefbb5c9ae55065b671">forEachSummary</a> (Functor Callback)</>}>
Calls the callback for each value GUID and summary to be written to bitcode. <a href="#aa3645d133a2e3aefbb5c9ae55065b671">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#aaade9f75fd9ed6de54fefd2d0e0bb2e8">write</a> ()</>}>
Main entry point for writing a combined index to bitcode. <a href="#aaade9f75fd9ed6de54fefd2d0e0bb2e8">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Functions Index

<MembersIndex>

<MembersIndexItem
  type={<>std::optional&lt; unsigned &gt;</>}
  name={<><a href="#a752949100743d4b5a71cdf927ec3f4b3">getValueId</a> (GlobalValue::GUID ValGUID)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::map&lt; <a href="/docs/api/classes/llvm/globalvalue/#a3af0428ec6e48cb2f05c199b7b9f7e07">GlobalValue::GUID</a>, unsigned &gt; &amp;</>}
  name={<><a href="#a9f51e9a836a012fb98dedb3ac0393036">valueIds</a> ()</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#afa8180964bd4215b549fe00601f57240">writeCombinedGlobalValueSummary</a> ()</>}>
Emit the combined summary section into the combined index file. <a href="#afa8180964bd4215b549fe00601f57240">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#aaf24c56a25c4d24f4e666522899b1df9">writeModStrings</a> ()</>}>
Write the module path strings, currently only used when generating a combined index file. <a href="#aaf24c56a25c4d24f4e666522899b1df9">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/namespaces/llvm/#a126f52d391b28545496b57f7de17fc61">GVSummaryPtrSet</a> &#42;</>}
  name={<><a href="#a12dceadce0c788d32deeeef4c2b53e28">DecSummaries</a> = nullptr</>}>
When writing combined summaries, provides the set of global value summaries for which the value (function, function alias, etc) should be imported as a declaration. <a href="#a12dceadce0c788d32deeeef4c2b53e28">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="unsigned"
  name={<><a href="#a603b60879f9223e028c894902de78dca">GlobalValueId</a> = 0</>}>
Tracks the last value id recorded in the GUIDToValueMap. <a href="#a603b60879f9223e028c894902de78dca">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::map&lt; <a href="/docs/api/classes/llvm/globalvalue/#a3af0428ec6e48cb2f05c199b7b9f7e07">GlobalValue::GUID</a>, unsigned &gt;</>}
  name={<><a href="#a7699988709e9a8243ab16f3fa60284bb">GUIDToValueIdMap</a></>}>
Map that holds the correspondence between the GUID used in the combined index and a value id generated by this class to use in references. <a href="#a7699988709e9a8243ab16f3fa60284bb">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/modulesummaryindex">ModuleSummaryIndex</a> &amp;</>}
  name={<><a href="#ae9e5edf3662d5621af52d9080edb15d4">Index</a></>}>
The combined index to write to bitcode. <a href="#ae9e5edf3662d5621af52d9080edb15d4">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/densemap">DenseMap</a>&lt; <a href="/docs/api/classes/llvm/stringref">StringRef</a>, uint64&#95;t &gt;</>}
  name={<><a href="#ae74286b752896ecd2e07cebc0d43ce96">ModuleIdMap</a></>}>
Tracks the assignment of module paths in the module path string table to an id assigned for use in summary references to the module path. <a href="#ae74286b752896ecd2e07cebc0d43ce96">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/namespaces/llvm/#a855e9319bbdff7f7c70bb2b2c5a0650e">ModuleToSummariesForIndexTy</a> &#42;</>}
  name={<><a href="#a7ed721ae27f7d431e5e2e2f880aaf5b9">ModuleToSummariesForIndex</a></>}>
When writing a subset of the index for distributed backends, client provides a map of modules to the corresponding GUIDs/summaries to write. <a href="#a7ed721ae27f7d431e5e2e2f880aaf5b9">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/densemap">DenseMap</a>&lt; unsigned, unsigned &gt;</>}
  name={<><a href="#a86208ee055a6f3c94056febc6affb4a7">StackIdIndicesToIndex</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::vector&lt; uint64&#95;t &gt;</>}
  name={<><a href="#a5a18f1302fd4be21703e76f40045d5d0">StackIds</a></>}>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

Class to manage the bitcode writing for a combined index.

Definition at line 430 of file <a href="/docs/api/files/lib/lib/bitcode/lib/bitcode/writer/bitcodewriter-cpp">BitcodeWriter.cpp</a>.

<SectionDefinition>

## Public Member Typedefs

### GVInfo {#a3e01fd1353d2dd3b147f87cce57ab5a2}

<MemberDefinition
  prototype={<>using anonymous&#95;namespace&#123;BitcodeWriter.cpp&#125;::IndexBitcodeWriter::GVInfo =  std::pair&lt;GlobalValue::GUID, GlobalValueSummary &#42;&gt;</>}>
The below iterator returns the GUID and associated summary.

Definition at line <a href="/docs/api/files/lib/lib/bitcode/lib/bitcode/writer/bitcodewriter-cpp/#l00534">534</a> of file <a href="/docs/api/files/lib/lib/bitcode/lib/bitcode/writer/bitcodewriter-cpp">BitcodeWriter.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Constructors

### IndexBitcodeWriter() {#a8723cbabc5c7064728c2fdcc5b14b771}

<MemberDefinition
  prototype={<>anonymous&#95;namespace&#123;BitcodeWriter.cpp&#125;::IndexBitcodeWriter::IndexBitcodeWriter (<a href="/docs/api/classes/llvm/bitstreamwriter">BitstreamWriter</a> &amp; Stream, <a href="/docs/api/classes/llvm/stringtablebuilder">StringTableBuilder</a> &amp; StrtabBuilder, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/modulesummaryindex">ModuleSummaryIndex</a> &amp; Index, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/namespaces/llvm/#a126f52d391b28545496b57f7de17fc61">GVSummaryPtrSet</a> &#42; DecSummaries=nullptr, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/namespaces/llvm/#a855e9319bbdff7f7c70bb2b2c5a0650e">ModuleToSummariesForIndexTy</a> &#42; ModuleToSummariesForIndex=nullptr)</>}
  labels = {["inline"]}>
Constructs a <a href="/docs/api/classes/anonymous-namespace-bitcodewriter-cpp-/indexbitcodewriter">IndexBitcodeWriter</a> object for the given combined index, writing to the provided <code>Buffer</code>.

When writing a subset of the index for a distributed backend, provide a <code>ModuleToSummariesForIndex</code> map. If provided, <code>DecSummaries</code> specifies the set of summaries for which the corresponding functions or aliased functions should be imported as a declaration (but not definition) for each module.

Definition at line <a href="/docs/api/files/lib/lib/bitcode/lib/bitcode/writer/bitcodewriter-cpp/#l00470">470</a> of file <a href="/docs/api/files/lib/lib/bitcode/lib/bitcode/writer/bitcodewriter-cpp">BitcodeWriter.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### forEachModule() {#a5796fcdd25688200886925c4f3878799}

<MemberDefinition
  template={<>template &lt;typename Functor&gt;</>}
  prototype={<>void anonymous&#95;namespace&#123;BitcodeWriter.cpp&#125;::IndexBitcodeWriter::forEachModule (Functor Callback)</>}
  labels = {["inline"]}>
Calls the callback for each entry in the modulePaths <a href="/docs/api/classes/llvm/stringmap">StringMap</a> that should be written to the module path string table.

This hides the details of whether they are being pulled from the entire index or just those in a provided ModuleToSummariesForIndex map.

Definition at line <a href="/docs/api/files/lib/lib/bitcode/lib/bitcode/writer/bitcodewriter-cpp/#l00562">562</a> of file <a href="/docs/api/files/lib/lib/bitcode/lib/bitcode/writer/bitcodewriter-cpp">BitcodeWriter.cpp</a>.
</MemberDefinition>

### forEachSummary() {#aa3645d133a2e3aefbb5c9ae55065b671}

<MemberDefinition
  template={<>template &lt;typename Functor&gt;</>}
  prototype={<>void anonymous&#95;namespace&#123;BitcodeWriter.cpp&#125;::IndexBitcodeWriter::forEachSummary (Functor Callback)</>}
  labels = {["inline"]}>
Calls the callback for each value GUID and summary to be written to bitcode.

This hides the details of whether they are being pulled from the entire index or just those in a provided ModuleToSummariesForIndex map.

Definition at line <a href="/docs/api/files/lib/lib/bitcode/lib/bitcode/writer/bitcodewriter-cpp/#l00540">540</a> of file <a href="/docs/api/files/lib/lib/bitcode/lib/bitcode/writer/bitcodewriter-cpp">BitcodeWriter.cpp</a>.
</MemberDefinition>

### write() {#aaade9f75fd9ed6de54fefd2d0e0bb2e8}

<MemberDefinition
  prototype="void IndexBitcodeWriter::write ()">
Main entry point for writing a combined index to bitcode.

Definition at line <a href="/docs/api/files/lib/lib/bitcode/lib/bitcode/writer/bitcodewriter-cpp/#l00590">590</a> of file <a href="/docs/api/files/lib/lib/bitcode/lib/bitcode/writer/bitcodewriter-cpp">BitcodeWriter.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Functions

### getValueId() {#a752949100743d4b5a71cdf927ec3f4b3}

<MemberDefinition
  prototype={<>std::optional&lt; unsigned &gt; anonymous&#95;namespace&#123;BitcodeWriter.cpp&#125;::IndexBitcodeWriter::getValueId (<a href="/docs/api/classes/llvm/globalvalue/#a3af0428ec6e48cb2f05c199b7b9f7e07">GlobalValue::GUID</a> ValGUID)</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/bitcode/lib/bitcode/writer/bitcodewriter-cpp/#l00596">596</a> of file <a href="/docs/api/files/lib/lib/bitcode/lib/bitcode/writer/bitcodewriter-cpp">BitcodeWriter.cpp</a>.
</MemberDefinition>

### valueIds() {#a9f51e9a836a012fb98dedb3ac0393036}

<MemberDefinition
  prototype={<>std::map&lt; GlobalValue::GUID, unsigned &gt; &amp; anonymous&#95;namespace&#123;BitcodeWriter.cpp&#125;::IndexBitcodeWriter::valueIds ()</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/bitcode/lib/bitcode/writer/bitcodewriter-cpp/#l00603">603</a> of file <a href="/docs/api/files/lib/lib/bitcode/lib/bitcode/writer/bitcodewriter-cpp">BitcodeWriter.cpp</a>.
</MemberDefinition>

### writeCombinedGlobalValueSummary() {#afa8180964bd4215b549fe00601f57240}

<MemberDefinition
  prototype="void IndexBitcodeWriter::writeCombinedGlobalValueSummary ()">
Emit the combined summary section into the combined index file.

Definition at line <a href="/docs/api/files/lib/lib/bitcode/lib/bitcode/writer/bitcodewriter-cpp/#l00594">594</a> of file <a href="/docs/api/files/lib/lib/bitcode/lib/bitcode/writer/bitcodewriter-cpp">BitcodeWriter.cpp</a>.
</MemberDefinition>

### writeModStrings() {#aaf24c56a25c4d24f4e666522899b1df9}

<MemberDefinition
  prototype="void IndexBitcodeWriter::writeModStrings ()">
Write the module path strings, currently only used when generating a combined index file.

Definition at line <a href="/docs/api/files/lib/lib/bitcode/lib/bitcode/writer/bitcodewriter-cpp/#l00593">593</a> of file <a href="/docs/api/files/lib/lib/bitcode/lib/bitcode/writer/bitcodewriter-cpp">BitcodeWriter.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Attributes

### DecSummaries {#a12dceadce0c788d32deeeef4c2b53e28}

<MemberDefinition
  prototype={<>const GVSummaryPtrSet&#42; anonymous&#95;namespace&#123;BitcodeWriter.cpp&#125;::IndexBitcodeWriter::DecSummaries = nullptr</>}>
When writing combined summaries, provides the set of global value summaries for which the value (function, function alias, etc) should be imported as a declaration.

Definition at line <a href="/docs/api/files/lib/lib/bitcode/lib/bitcode/writer/bitcodewriter-cpp/#l00437">437</a> of file <a href="/docs/api/files/lib/lib/bitcode/lib/bitcode/writer/bitcodewriter-cpp">BitcodeWriter.cpp</a>.
</MemberDefinition>

### GlobalValueId {#a603b60879f9223e028c894902de78dca}

<MemberDefinition
  prototype={<>unsigned anonymous&#95;namespace&#123;BitcodeWriter.cpp&#125;::IndexBitcodeWriter::GlobalValueId = 0</>}>
Tracks the last value id recorded in the GUIDToValueMap.

Definition at line <a href="/docs/api/files/lib/lib/bitcode/lib/bitcode/writer/bitcodewriter-cpp/#l00457">457</a> of file <a href="/docs/api/files/lib/lib/bitcode/lib/bitcode/writer/bitcodewriter-cpp">BitcodeWriter.cpp</a>.
</MemberDefinition>

### GUIDToValueIdMap {#a7699988709e9a8243ab16f3fa60284bb}

<MemberDefinition
  prototype={<>std::map&lt;GlobalValue::GUID, unsigned&gt; anonymous&#95;namespace&#123;BitcodeWriter.cpp&#125;::IndexBitcodeWriter::GUIDToValueIdMap</>}>
Map that holds the correspondence between the GUID used in the combined index and a value id generated by this class to use in references.

Definition at line <a href="/docs/api/files/lib/lib/bitcode/lib/bitcode/writer/bitcodewriter-cpp/#l00445">445</a> of file <a href="/docs/api/files/lib/lib/bitcode/lib/bitcode/writer/bitcodewriter-cpp">BitcodeWriter.cpp</a>.
</MemberDefinition>

### Index {#ae9e5edf3662d5621af52d9080edb15d4}

<MemberDefinition
  prototype={<>const ModuleSummaryIndex&amp; anonymous&#95;namespace&#123;BitcodeWriter.cpp&#125;::IndexBitcodeWriter::Index</>}>
The combined index to write to bitcode.

Definition at line <a href="/docs/api/files/lib/lib/bitcode/lib/bitcode/writer/bitcodewriter-cpp/#l00432">432</a> of file <a href="/docs/api/files/lib/lib/bitcode/lib/bitcode/writer/bitcodewriter-cpp">BitcodeWriter.cpp</a>.
</MemberDefinition>

### ModuleIdMap {#ae74286b752896ecd2e07cebc0d43ce96}

<MemberDefinition
  prototype={<>DenseMap&lt;StringRef, uint64&#95;t&gt; anonymous&#95;namespace&#123;BitcodeWriter.cpp&#125;::IndexBitcodeWriter::ModuleIdMap</>}>
Tracks the assignment of module paths in the module path string table to an id assigned for use in summary references to the module path.

Definition at line <a href="/docs/api/files/lib/lib/bitcode/lib/bitcode/writer/bitcodewriter-cpp/#l00461">461</a> of file <a href="/docs/api/files/lib/lib/bitcode/lib/bitcode/writer/bitcodewriter-cpp">BitcodeWriter.cpp</a>.
</MemberDefinition>

### ModuleToSummariesForIndex {#a7ed721ae27f7d431e5e2e2f880aaf5b9}

<MemberDefinition
  prototype={<>const ModuleToSummariesForIndexTy&#42; anonymous&#95;namespace&#123;BitcodeWriter.cpp&#125;::IndexBitcodeWriter::ModuleToSummariesForIndex</>}>
When writing a subset of the index for distributed backends, client provides a map of modules to the corresponding GUIDs/summaries to write.

Definition at line <a href="/docs/api/files/lib/lib/bitcode/lib/bitcode/writer/bitcodewriter-cpp/#l00441">441</a> of file <a href="/docs/api/files/lib/lib/bitcode/lib/bitcode/writer/bitcodewriter-cpp">BitcodeWriter.cpp</a>.
</MemberDefinition>

### StackIdIndicesToIndex {#a86208ee055a6f3c94056febc6affb4a7}

<MemberDefinition
  prototype={<>DenseMap&lt;unsigned, unsigned&gt; anonymous&#95;namespace&#123;BitcodeWriter.cpp&#125;::IndexBitcodeWriter::StackIdIndicesToIndex</>}>

Definition at line <a href="/docs/api/files/lib/lib/bitcode/lib/bitcode/writer/bitcodewriter-cpp/#l00454">454</a> of file <a href="/docs/api/files/lib/lib/bitcode/lib/bitcode/writer/bitcodewriter-cpp">BitcodeWriter.cpp</a>.
</MemberDefinition>

### StackIds {#a5a18f1302fd4be21703e76f40045d5d0}

<MemberDefinition
  prototype={<>std::vector&lt;uint64&#95;t&gt; anonymous&#95;namespace&#123;BitcodeWriter.cpp&#125;::IndexBitcodeWriter::StackIds</>}>

Definition at line <a href="/docs/api/files/lib/lib/bitcode/lib/bitcode/writer/bitcodewriter-cpp/#l00449">449</a> of file <a href="/docs/api/files/lib/lib/bitcode/lib/bitcode/writer/bitcodewriter-cpp">BitcodeWriter.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following file:

<ul>
<li><a href="/docs/api/files/lib/lib/bitcode/lib/bitcode/writer/bitcodewriter-cpp">BitcodeWriter.cpp</a></li>
</ul>

</DoxygenPage>
