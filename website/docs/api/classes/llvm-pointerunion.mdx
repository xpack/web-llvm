---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/llvm/pointerunion
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `PointerUnion` Class Template Reference

<DoxygenPage pluginConfig={pluginConfig}>

A discriminated union of two or more pointer types, with the discriminator in the low bit of the pointer. <a href="#details">More...</a>

## Declaration

<CodeBlock>template &lt;typename... PTs&gt;
class llvm::PointerUnion&lt;PTs&gt;</CodeBlock>

## Included Headers

<IncludesList>
<IncludesListItem
  filePath="llvm/ADT/PointerUnion.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/adt/pointerunion-h"
  isLocal="true" />
</IncludesList>

## Base class

<MembersIndex>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/pointer-union-detail/pointerunionmembers">PointerUnionMembers&lt;Derived, ValTy, I, Types&gt;</a></>}>
</MembersIndexItem>

</MembersIndex>

## Private Member Typedefs Index

<MembersIndex>

<MembersIndexItem
  template={<>template &lt;typename... PTs&gt;</>}
  type="using"
  name={<><a href="#ae76cdef00e64e1e37fb056dabde1cf95">Base</a> = typename PointerUnion::PointerUnionMembers</>}>
</MembersIndexItem>

<MembersIndexItem
  template={<>template &lt;typename... PTs&gt;</>}
  type="using"
  name={<><a href="#a28bd8a329e97464f628bcda670b9d80e">First</a> = <a href="/docs/api/namespaces/llvm/#ac6f1a6a977a36412e8334968f89437a4">TypeAtIndex</a>&lt; 0, PTs... &gt;</>}>
</MembersIndexItem>

</MembersIndex>

## Friends Index

<MembersIndex>

<MembersIndexItem
  template={<>template &lt;typename... PTs&gt;</>}
  type="struct"
  name={<><a href="#a70028a6e275a60bdc2b207ee8e6b0ab6">CastInfoPointerUnionImpl&lt; PTs... &gt;</a></>}>
This is needed to give the <a href="/docs/api/structs/llvm/castinfo">CastInfo</a> implementation below access to protected members. <a href="#a70028a6e275a60bdc2b207ee8e6b0ab6">More...</a>
</MembersIndexItem>

</MembersIndex>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  template={<>template &lt;typename... PTs&gt;</>}
  name={<><a href="#a026920b196771d8a451c6868d1c1bda8">PointerUnion</a> ()=default</>}>
</MembersIndexItem>

<MembersIndexItem
  template={<>template &lt;typename... PTs&gt;</>}
  name={<><a href="#ad700d0d8130c1b19479e0c683c2023df">PointerUnion</a> (std::nullptr&#95;t)</>}>
</MembersIndexItem>

</MembersIndex>

## Public Operators Index

<MembersIndex>

<MembersIndexItem
  template={<>template &lt;typename... PTs&gt;</>}
  name={<><a href="#a5f457b8eed12fc7b8e591a929419563e">operator bool</a> () const</>}>
</MembersIndexItem>

<MembersIndexItem
  template={<>template &lt;typename... PTs&gt;</>}
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/pointerunion">PointerUnion</a> &amp;</>}
  name={<><a href="#ad834b14f86ac60086c3805227ea1f95a">operator=</a> (std::nullptr&#95;t)</>}>
Assignment from nullptr which just clears the union. <a href="#ad834b14f86ac60086c3805227ea1f95a">More...</a>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  template={<>template &lt;typename T&gt;</>}
  type="T"
  name={<><a href="#a9147352f78d98ee246f25d3300e0aaba">dyn&#95;cast</a> () const</>}>
Returns the current pointer if it is of the specified pointer type, otherwise returns null. <a href="#a9147352f78d98ee246f25d3300e0aaba">More...</a>
</MembersIndexItem>

<MembersIndexItem
  template={<>template &lt;typename T&gt;</>}
  type="T"
  name={<><a href="#a47a37d4a29c6d015b0ec9b0e722110fe">get</a> () const</>}>
Returns the value of the specified pointer type. <a href="#a47a37d4a29c6d015b0ec9b0e722110fe">More...</a>
</MembersIndexItem>

<MembersIndexItem
  template={<>template &lt;typename... PTs&gt;</>}
  type={<><a href="/docs/api/namespaces/llvm/#a9eb4f5b98b70ee4fab9614ed58282c1fa7fb55ed0b7a30342ba6da306428cae04">First</a> <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> &#42;</>}
  name={<><a href="#aa13e0e57f69d33b8e9267043fc5a9767">getAddrOfPtr1</a> () const</>}>
If the union is set to the first pointer type get an address pointing to it. <a href="#aa13e0e57f69d33b8e9267043fc5a9767">More...</a>
</MembersIndexItem>

<MembersIndexItem
  template={<>template &lt;typename... PTs&gt;</>}
  type={<><a href="/docs/api/namespaces/llvm/#a9eb4f5b98b70ee4fab9614ed58282c1fa7fb55ed0b7a30342ba6da306428cae04">First</a> &#42;</>}
  name={<><a href="#ae906d5ae313c87cee5fe7660e581cafd">getAddrOfPtr1</a> ()</>}>
If the union is set to the first pointer type get an address pointing to it. <a href="#ae906d5ae313c87cee5fe7660e581cafd">More...</a>
</MembersIndexItem>

<MembersIndexItem
  template={<>template &lt;typename... PTs&gt;</>}
  type={<>void &#42;</>}
  name={<><a href="#ab7809d1212d3a2392ddbc63be90bb5ed">getOpaqueValue</a> () const</>}>
</MembersIndexItem>

<MembersIndexItem
  template={<>template &lt;typename T&gt;</>}
  type="bool"
  name={<><a href="#aa2b5d50bce283a11bd0dc04c13dca0fc">is</a> () const</>}>
Test if the Union currently holds the type matching T. <a href="#aa2b5d50bce283a11bd0dc04c13dca0fc">More...</a>
</MembersIndexItem>

<MembersIndexItem
  template={<>template &lt;typename... PTs&gt;</>}
  type="bool"
  name={<><a href="#a0aa81c94e84ebcff45233c23bccf3efb">isNull</a> () const</>}>
Test if the pointer held in the union is null, regardless of which type it is. <a href="#a0aa81c94e84ebcff45233c23bccf3efb">More...</a>
</MembersIndexItem>

</MembersIndex>

## Public Static Functions Index

<MembersIndex>

<MembersIndexItem
  template={<>template &lt;typename... PTs&gt;</>}
  type={<><a href="/docs/api/classes/llvm/pointerunion">PointerUnion</a></>}
  name={<><a href="#afea06e5e14a72c56c82f9acd41648a23">getFromOpaqueValue</a> (void &#42;VP)</>}>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

A discriminated union of two or more pointer types, with the discriminator in the low bit of the pointer.

This implementation is extremely efficient in space due to leveraging the low bits of the pointer, while exposing a natural and type-safe API.

Common use patterns would be something like this: PointerUnion&lt;int&#42;, float&#42;&gt; P; P = (int&#42;)0; printf(&quot;%d %d&quot;, P.is&lt;int&#42;&gt;(), P.is&lt;float&#42;&gt;()); // prints &quot;1 0&quot; X = P.get&lt;int&#42;&gt;(); // ok. Y = P.get&lt;float&#42;&gt;(); // runtime assertion failure. Z = P.get&lt;double&#42;&gt;(); // compile time failure. P = (float&#42;)0; Y = P.get&lt;float&#42;&gt;(); // ok. X = P.get&lt;int&#42;&gt;(); // runtime assertion failure. PointerUnion&lt;int&#42;, int&#42;&gt; Q; // compile time failure.

Definition at line 112 of file <a href="/docs/api/files/include/include/llvm/include/llvm/adt/pointerunion-h">PointerUnion.h</a>.

<SectionDefinition>

## Private Member Typedefs

### Base {#ae76cdef00e64e1e37fb056dabde1cf95}

<MemberDefinition
  template={<>template &lt;typename... PTs&gt;</>}
  prototype={<>using llvm::PointerUnion&lt; PTs &gt;::Base =  typename PointerUnion::PointerUnionMembers</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/adt/pointerunion-h/#l00127">127</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/adt/pointerunion-h">PointerUnion.h</a>.
</MemberDefinition>

### First {#a28bd8a329e97464f628bcda670b9d80e}

<MemberDefinition
  template={<>template &lt;typename... PTs&gt;</>}
  prototype={<>using llvm::PointerUnion&lt; PTs &gt;::First =  TypeAtIndex&lt;0, PTs...&gt;</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/adt/pointerunion-h/#l00126">126</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/adt/pointerunion-h">PointerUnion.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Friends

### CastInfoPointerUnionImpl&lt; PTs... &gt; {#a70028a6e275a60bdc2b207ee8e6b0ab6}

<MemberDefinition
  prototype={<>friend struct <a href="/docs/api/structs/llvm/castinfopointerunionimpl">CastInfoPointerUnionImpl</a>&lt; PTs... &gt;</>}>
This is needed to give the <a href="/docs/api/structs/llvm/castinfo">CastInfo</a> implementation below access to protected members.

Refer to its definition for further details.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/adt/pointerunion-h/#l00119">119</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/adt/pointerunion-h">PointerUnion.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Constructors

### PointerUnion() {#a026920b196771d8a451c6868d1c1bda8}

<MemberDefinition
  template={<>template &lt;typename... PTs&gt;</>}
  prototype={<>llvm::PointerUnion&lt; PTs &gt;::PointerUnion ()</>}
  labels = {["default"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/adt/pointerunion-h/#l00135">135</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/adt/pointerunion-h">PointerUnion.h</a>.
</MemberDefinition>

### PointerUnion() {#ad700d0d8130c1b19479e0c683c2023df}

<MemberDefinition
  template={<>template &lt;typename... PTs&gt;</>}
  prototype={<>llvm::PointerUnion&lt; PTs &gt;::PointerUnion (std::nullptr&#95;t)</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/adt/pointerunion-h/#l00137">137</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/adt/pointerunion-h">PointerUnion.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Operators

### operator bool() {#a5f457b8eed12fc7b8e591a929419563e}

<MemberDefinition
  template={<>template &lt;typename... PTs&gt;</>}
  prototype={<>llvm::PointerUnion&lt; PTs &gt;::operator bool () const</>}
  labels = {["inline", "explicit"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/adt/pointerunion-h/#l00144">144</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/adt/pointerunion-h">PointerUnion.h</a>.
</MemberDefinition>

### operator=() {#ad834b14f86ac60086c3805227ea1f95a}

<MemberDefinition
  template={<>template &lt;typename... PTs&gt;</>}
  prototype={<>const PointerUnion &amp; llvm::PointerUnion&lt; PTs &gt;::operator= (std::nullptr&#95;t)</>}
  labels = {["inline"]}>
Assignment from nullptr which just clears the union.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/adt/pointerunion-h/#l00191">191</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/adt/pointerunion-h">PointerUnion.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### dyn&#95;cast() {#a9147352f78d98ee246f25d3300e0aaba}

<MemberDefinition
  template={<>template &lt;typename T&gt;</>}
  prototype={<>T llvm::PointerUnion&lt; PTs &gt;::dyn&#95;cast () const</>}
  labels = {["inline"]}>
Returns the current pointer if it is of the specified pointer type, otherwise returns null.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/adt/pointerunion-h/#l00168">168</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/adt/pointerunion-h">PointerUnion.h</a>.
</MemberDefinition>

### get() {#a47a37d4a29c6d015b0ec9b0e722110fe}

<MemberDefinition
  template={<>template &lt;typename T&gt;</>}
  prototype={<>T llvm::PointerUnion&lt; PTs &gt;::get () const</>}
  labels = {["inline"]}>
Returns the value of the specified pointer type.

If the specified pointer type is incorrect, assert.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/adt/pointerunion-h/#l00161">161</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/adt/pointerunion-h">PointerUnion.h</a>.
</MemberDefinition>

### getAddrOfPtr1() {#aa13e0e57f69d33b8e9267043fc5a9767}

<MemberDefinition
  template={<>template &lt;typename... PTs&gt;</>}
  prototype={<>First const  &#42; llvm::PointerUnion&lt; PTs &gt;::getAddrOfPtr1 () const</>}
  labels = {["inline"]}>
If the union is set to the first pointer type get an address pointing to it.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/adt/pointerunion-h/#l00174">174</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/adt/pointerunion-h">PointerUnion.h</a>.
</MemberDefinition>

### getAddrOfPtr1() {#ae906d5ae313c87cee5fe7660e581cafd}

<MemberDefinition
  template={<>template &lt;typename... PTs&gt;</>}
  prototype={<>First &#42; llvm::PointerUnion&lt; PTs &gt;::getAddrOfPtr1 ()</>}
  labels = {["inline"]}>
If the union is set to the first pointer type get an address pointing to it.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/adt/pointerunion-h/#l00180">180</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/adt/pointerunion-h">PointerUnion.h</a>.
</MemberDefinition>

### getOpaqueValue() {#ab7809d1212d3a2392ddbc63be90bb5ed}

<MemberDefinition
  template={<>template &lt;typename... PTs&gt;</>}
  prototype={<>void &#42; llvm::PointerUnion&lt; PTs &gt;::getOpaqueValue () const</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/adt/pointerunion-h/#l00199">199</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/adt/pointerunion-h">PointerUnion.h</a>.
</MemberDefinition>

### is() {#aa2b5d50bce283a11bd0dc04c13dca0fc}

<MemberDefinition
  template={<>template &lt;typename T&gt;</>}
  prototype={<>bool llvm::PointerUnion&lt; PTs &gt;::is () const</>}
  labels = {["inline"]}>
Test if the Union currently holds the type matching T.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/adt/pointerunion-h/#l00152">152</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/adt/pointerunion-h">PointerUnion.h</a>.
</MemberDefinition>

### isNull() {#a0aa81c94e84ebcff45233c23bccf3efb}

<MemberDefinition
  template={<>template &lt;typename... PTs&gt;</>}
  prototype={<>bool llvm::PointerUnion&lt; PTs &gt;::isNull () const</>}
  labels = {["inline"]}>
Test if the pointer held in the union is null, regardless of which type it is.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/adt/pointerunion-h/#l00142">142</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/adt/pointerunion-h">PointerUnion.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Static Functions

### getFromOpaqueValue() {#afea06e5e14a72c56c82f9acd41648a23}

<MemberDefinition
  template={<>template &lt;typename... PTs&gt;</>}
  prototype={<>static PointerUnion llvm::PointerUnion&lt; PTs &gt;::getFromOpaqueValue (void &#42; VP)</>}
  labels = {["inline", "static"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/adt/pointerunion-h/#l00200">200</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/adt/pointerunion-h">PointerUnion.h</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following file:

<ul>
<li><a href="/docs/api/files/include/include/llvm/include/llvm/adt/pointerunion-h">PointerUnion.h</a></li>
</ul>

</DoxygenPage>
