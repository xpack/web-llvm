---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/boupslp/shufflecostestimator
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `ShuffleCostEstimator` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>

Merges shuffle masks and emits final shuffle instruction, if required. <a href="#details">More...</a>

## Declaration

<CodeBlock>class BoUpSLP::ShuffleCostEstimator</CodeBlock>

## Base class

<MembersIndex>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/baseshuffleanalysis">BaseShuffleAnalysis</a></>}>
</MembersIndexItem>

</MembersIndex>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a01132bd1988568a34c781bcc4631f6bd">ShuffleCostEstimator</a> (Type &#42;ScalarTy, TargetTransformInfo &amp;TTI, ArrayRef&lt; Value &#42; &gt; VectorizedVals, BoUpSLP &amp;R, SmallPtrSetImpl&lt; Value &#42; &gt; &amp;CheckedExtracts)</>}>
</MembersIndexItem>

</MembersIndex>

## Public Destructor Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a8b21be07c1bcaf8f86c6d4c3b8ab39eb">~ShuffleCostEstimator</a> ()</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="void"
  name={<><a href="#a551b374dc91637e6406a55d9ebea95ca">add</a> (const TreeEntry &amp;E1, const TreeEntry &amp;E2, ArrayRef&lt; int &gt; Mask)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#ad9982431e49e2d23ded133fcb20f8f98">add</a> (const TreeEntry &amp;E1, ArrayRef&lt; int &gt; Mask)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a087821dadd2b54394c44559904edd9fc">add</a> (Value &#42;V1, Value &#42;V2, ArrayRef&lt; int &gt; Mask)</>}>
Adds 2 input vectors and the mask for their shuffling. <a href="#a087821dadd2b54394c44559904edd9fc">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#afb6d6cbaefb1efadfc3a9bbce3764147">add</a> (Value &#42;V1, ArrayRef&lt; int &gt; Mask, bool ForExtracts=false)</>}>
Adds another one input vector and the mask for the shuffling. <a href="#afb6d6cbaefb1efadfc3a9bbce3764147">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/value">Value</a> &#42;</>}
  name={<><a href="#af9c2291628b96648d9f5d681ea49644c">adjustExtracts</a> (const TreeEntry &#42;E, MutableArrayRef&lt; int &gt; Mask, ArrayRef&lt; std::optional&lt; TTI::ShuffleKind &gt; &gt; ShuffleKinds, unsigned NumParts, bool &amp;UseVecBaseAsInput)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/instructioncost">InstructionCost</a></>}
  name={<><a href="#ad7d17400129daa6607f8cb3a484d31f8">createFreeze</a> (InstructionCost Cost)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/instructioncost">InstructionCost</a></>}
  name={<><a href="#aba8daf2b565a29f3f6ef5426fd5e3796">finalize</a> (ArrayRef&lt; int &gt; ExtMask, ArrayRef&lt; std::pair&lt; const TreeEntry &#42;, unsigned &gt; &gt; SubVectors, ArrayRef&lt; int &gt; SubVectorsMask, unsigned VF=0, function&#95;ref&lt; void(Value &#42;&amp;, SmallVectorImpl&lt; int &gt; &amp;)&gt; Action=&#123;&#125;)</>}>
Finalize emission of the shuffles. <a href="#aba8daf2b565a29f3f6ef5426fd5e3796">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/value">Value</a> &#42;</>}
  name={<><a href="#a7d3b40cff3ff8c00007cf9a3f0d785f1">gather</a> (ArrayRef&lt; Value &#42; &gt; VL, unsigned MaskVF=0, Value &#42;Root=nullptr)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::optional&lt; <a href="/docs/api/classes/llvm/instructioncost">InstructionCost</a> &gt;</>}
  name={<><a href="#a62eb78bc11c91eb533d97fa0bb0c39dd">needToDelay</a> (const TreeEntry &#42;, ArrayRef&lt; SmallVector&lt; const TreeEntry &#42; &gt; &gt;) const</>}>
Checks if the specified entry <code>E</code> needs to be delayed because of its dependency nodes. <a href="#a62eb78bc11c91eb533d97fa0bb0c39dd">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Functions Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/instructioncost">InstructionCost</a></>}
  name={<><a href="#a9ca60588986615d0646d9d8cf8be2f2b">computeExtractCost</a> (ArrayRef&lt; Value &#42; &gt; VL, ArrayRef&lt; int &gt; Mask, ArrayRef&lt; std::optional&lt; TTI::ShuffleKind &gt; &gt; ShuffleKinds, unsigned NumParts)</>}>
Compute the cost of creating a vector containing the extracted values from <code>VL</code>. <a href="#a9ca60588986615d0646d9d8cf8be2f2b">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/instructioncost">InstructionCost</a></>}
  name={<><a href="#ac98a09820a9c2d3411b640243c3e3e1d">createShuffle</a> (const PointerUnion&lt; Value &#42;, const TreeEntry &#42; &gt; &amp;P1, const PointerUnion&lt; Value &#42;, const TreeEntry &#42; &gt; &amp;P2, ArrayRef&lt; int &gt; Mask)</>}>
Smart shuffle instruction emission, walks through shuffles trees and tries to find the best matching vector for the actual shuffle instruction. <a href="#ac98a09820a9c2d3411b640243c3e3e1d">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#aeb47cd5759a2897390cc86da9de1e2ae">estimateNodesPermuteCost</a> (const TreeEntry &amp;E1, const TreeEntry &#42;E2, ArrayRef&lt; int &gt; Mask, unsigned Part, unsigned SliceSize)</>}>
Adds the cost of reshuffling <code>NaN</code> and <code>NaN</code> (if present), using given mask <code>Mask</code>, register number <code>Part</code>, that includes <code>SliceSize</code> elements. <a href="#aeb47cd5759a2897390cc86da9de1e2ae">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/instructioncost">InstructionCost</a></>}
  name={<><a href="#a206284a60a9749dfff907b5d3c67bfd7">getBuildVectorCost</a> (ArrayRef&lt; Value &#42; &gt; VL, Value &#42;Root)</>}>
</MembersIndexItem>

</MembersIndex>

## Private Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/smallptrsetimpl">SmallPtrSetImpl</a>&lt; <a href="/docs/api/classes/llvm/value">Value</a> &#42; &gt; &amp;</>}
  name={<><a href="#a51432b8fca0fd3ff9c05ddfc41818b22">CheckedExtracts</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/smallvector">SmallVector</a>&lt; int &gt;</>}
  name={<><a href="#a9689d5cab53d0bdbd63c2aa50785b6bb">CommonMask</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/instructioncost">InstructionCost</a></>}
  name={<><a href="#ad4484892006839a317ce4950f6108a4b">Cost</a> = 0</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/smallvector">SmallVector</a>&lt; <a href="/docs/api/classes/llvm/pointerunion">PointerUnion</a>&lt; <a href="/docs/api/classes/llvm/value">Value</a> &#42;, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> TreeEntry &#42; &gt;, 2 &gt;</>}
  name={<><a href="#aafe3efe4cd57d7ed548d615e190c3fe0">InVectors</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a00f3127f92bb2d9c23f6695c6795dc95">IsFinalized</a> = false</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/slpvectorizer/boupslp">BoUpSLP</a> &amp;</>}
  name={<><a href="#ace530ff548c43d7a7476a3084669e08c">R</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a0ba04c1cab094e7b0bc56f73085c96d8">SameNodesEstimated</a> = <a href="/docs/api/files/lib/lib/analysis/basicaliasanalysis-cpp/#af6d5cafbdfc5313e65d990120021a3ec">true</a></>}>
While set, still trying to estimate the cost for the same nodes and we can delay actual cost estimation (virtual shuffle instruction emission). <a href="#a0ba04c1cab094e7b0bc56f73085c96d8">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/targettransforminfo">TargetTransformInfo</a> &amp;</>}
  name={<><a href="#adb222665c21930f01c64cee012ac76fd">TTI</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/smalldenseset">SmallDenseSet</a>&lt; <a href="/docs/api/classes/llvm/value">Value</a> &#42; &gt;</>}
  name={<><a href="#a39192d6f778d8417a402e800ced97c95">VectorizedVals</a></>}>
</MembersIndexItem>

</MembersIndex>

## Private Static Functions Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/constant">Constant</a> &#42;</>}
  name={<><a href="#a1fea536ff7a87cf0964d5cab8213be82">getAllOnesValue</a> (const DataLayout &amp;DL, Type &#42;Ty)</>}>
</MembersIndexItem>

</MembersIndex>

## Private Static Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/targettransforminfo/#a706f223f760b55668fbae74202b816bb">TTI::TargetCostKind</a></>}
  name={<><a href="#aa5ad6e8a04f9d6017cbf7348c0735006">CostKind</a> = <a href="/docs/api/classes/llvm/targettransforminfo/#a706f223f760b55668fbae74202b816bba59b32ea7b6f10564abd40ad90602ca5b">TTI::TCK&#95;RecipThroughput</a></>}>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

Merges shuffle masks and emits final shuffle instruction, if required.

It supports shuffling of 2 input vectors. It implements lazy shuffles emission, when the actual shuffle instruction is generated only if this is actually required. Otherwise, the shuffle instruction emission is delayed till the end of the process, to reduce the number of emitted instructions and further analysis/transformations.

Definition at line 10144 of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp">SLPVectorizer.cpp</a>.

<SectionDefinition>

## Public Constructors

### ShuffleCostEstimator() {#a01132bd1988568a34c781bcc4631f6bd}

<MemberDefinition
  prototype={<>llvm::slpvectorizer::BoUpSLP::ShuffleCostEstimator::ShuffleCostEstimator (<a href="/docs/api/classes/llvm/type">Type</a> &#42; ScalarTy, <a href="/docs/api/classes/llvm/targettransforminfo">TargetTransformInfo</a> &amp; TTI, <a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; <a href="/docs/api/classes/llvm/value">Value</a> &#42; &gt; VectorizedVals, <a href="/docs/api/classes/llvm/slpvectorizer/boupslp">BoUpSLP</a> &amp; R, <a href="/docs/api/classes/llvm/smallptrsetimpl">SmallPtrSetImpl</a>&lt; <a href="/docs/api/classes/llvm/value">Value</a> &#42; &gt; &amp; CheckedExtracts)</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp/#l10673">10673</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp">SLPVectorizer.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Destructor

### ~ShuffleCostEstimator() {#a8b21be07c1bcaf8f86c6d4c3b8ab39eb}

<MemberDefinition
  prototype="llvm::slpvectorizer::BoUpSLP::ShuffleCostEstimator::~ShuffleCostEstimator ()"
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp/#l11037">11037</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp">SLPVectorizer.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### add() {#a551b374dc91637e6406a55d9ebea95ca}

<MemberDefinition
  prototype={<>void llvm::slpvectorizer::BoUpSLP::ShuffleCostEstimator::add (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> TreeEntry &amp; NaN, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> TreeEntry &amp; NaN, <a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; int &gt; Mask)</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp/#l10790">10790</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp">SLPVectorizer.cpp</a>.
</MemberDefinition>

### add() {#ad9982431e49e2d23ded133fcb20f8f98}

<MemberDefinition
  prototype={<>void llvm::slpvectorizer::BoUpSLP::ShuffleCostEstimator::add (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> TreeEntry &amp; NaN, <a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; int &gt; Mask)</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp/#l10814">10814</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp">SLPVectorizer.cpp</a>.
</MemberDefinition>

### add() {#a087821dadd2b54394c44559904edd9fc}

<MemberDefinition
  prototype={<>void llvm::slpvectorizer::BoUpSLP::ShuffleCostEstimator::add (<a href="/docs/api/classes/llvm/value">Value</a> &#42; V1, <a href="/docs/api/classes/llvm/value">Value</a> &#42; V2, <a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; int &gt; Mask)</>}
  labels = {["inline"]}>
Adds 2 input vectors and the mask for their shuffling.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp/#l10832">10832</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp">SLPVectorizer.cpp</a>.
</MemberDefinition>

### add() {#afb6d6cbaefb1efadfc3a9bbce3764147}

<MemberDefinition
  prototype={<>void llvm::slpvectorizer::BoUpSLP::ShuffleCostEstimator::add (<a href="/docs/api/classes/llvm/value">Value</a> &#42; V1, <a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; int &gt; Mask, bool ForExtracts=false)</>}
  labels = {["inline"]}>
Adds another one input vector and the mask for the shuffling.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp/#l10849">10849</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp">SLPVectorizer.cpp</a>.
</MemberDefinition>

### adjustExtracts() {#af9c2291628b96648d9f5d681ea49644c}

<MemberDefinition
  prototype={<>Value &#42; llvm::slpvectorizer::BoUpSLP::ShuffleCostEstimator::adjustExtracts (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> TreeEntry &#42; E, <a href="/docs/api/classes/llvm/mutablearrayref">MutableArrayRef</a>&lt; int &gt; Mask, <a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; std::optional&lt; <a href="/docs/api/classes/llvm/targettransforminfo/#af46433d0e36d3f80afc3a8c67b5c53ec">TTI::ShuffleKind</a> &gt; &gt; ShuffleKinds, unsigned NumParts, bool &amp; UseVecBaseAsInput)</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp/#l10679">10679</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp">SLPVectorizer.cpp</a>.
</MemberDefinition>

### createFreeze() {#ad7d17400129daa6607f8cb3a484d31f8}

<MemberDefinition
  prototype={<>InstructionCost llvm::slpvectorizer::BoUpSLP::ShuffleCostEstimator::createFreeze (<a href="/docs/api/classes/llvm/instructioncost">InstructionCost</a> Cost)</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp/#l10939">10939</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp">SLPVectorizer.cpp</a>.
</MemberDefinition>

### finalize() {#aba8daf2b565a29f3f6ef5426fd5e3796}

<MemberDefinition
  prototype={<>InstructionCost llvm::slpvectorizer::BoUpSLP::ShuffleCostEstimator::finalize (<a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; int &gt; ExtMask, <a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; std::pair&lt; <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> TreeEntry &#42;, unsigned &gt; &gt; SubVectors, <a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; int &gt; SubVectorsMask, unsigned VF=0, <a href="/docs/api/classes/llvm/function-ref">function&#95;ref</a>&lt; void(<a href="/docs/api/classes/llvm/value">Value</a> &#42;&amp;, <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; int &gt; &amp;)&gt; Action=&#123;&#125;)</>}
  labels = {["inline"]}>
Finalize emission of the shuffles.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp/#l10942">10942</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp">SLPVectorizer.cpp</a>.
</MemberDefinition>

### gather() {#a7d3b40cff3ff8c00007cf9a3f0d785f1}

<MemberDefinition
  prototype={<>Value &#42; llvm::slpvectorizer::BoUpSLP::ShuffleCostEstimator::gather (<a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; <a href="/docs/api/classes/llvm/value">Value</a> &#42; &gt; VL, unsigned MaskVF=0, <a href="/docs/api/classes/llvm/value">Value</a> &#42; Root=nullptr)</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp/#l10896">10896</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp">SLPVectorizer.cpp</a>.
</MemberDefinition>

### needToDelay() {#a62eb78bc11c91eb533d97fa0bb0c39dd}

<MemberDefinition
  prototype={<>std::optional&lt; InstructionCost &gt; llvm::slpvectorizer::BoUpSLP::ShuffleCostEstimator::needToDelay (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> TreeEntry &#42;, <a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; <a href="/docs/api/classes/llvm/smallvector">SmallVector</a>&lt; <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> TreeEntry &#42; &gt; &gt;) const</>}
  labels = {["inline"]}>
Checks if the specified entry <code>E</code> needs to be delayed because of its dependency nodes.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp/#l10785">10785</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp">SLPVectorizer.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Functions

### computeExtractCost() {#a9ca60588986615d0646d9d8cf8be2f2b}

<MemberDefinition
  prototype={<>InstructionCost llvm::slpvectorizer::BoUpSLP::ShuffleCostEstimator::computeExtractCost (<a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; <a href="/docs/api/classes/llvm/value">Value</a> &#42; &gt; VL, <a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; int &gt; Mask, <a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; std::optional&lt; <a href="/docs/api/classes/llvm/targettransforminfo/#af46433d0e36d3f80afc3a8c67b5c53ec">TTI::ShuffleKind</a> &gt; &gt; ShuffleKinds, unsigned NumParts)</>}
  labels = {["inline"]}>
Compute the cost of creating a vector containing the extracted values from <code>VL</code>.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp/#l10225">10225</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp">SLPVectorizer.cpp</a>.
</MemberDefinition>

### createShuffle() {#ac98a09820a9c2d3411b640243c3e3e1d}

<MemberDefinition
  prototype={<>InstructionCost llvm::slpvectorizer::BoUpSLP::ShuffleCostEstimator::createShuffle (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/pointerunion">PointerUnion</a>&lt; <a href="/docs/api/classes/llvm/value">Value</a> &#42;, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> TreeEntry &#42; &gt; &amp; P1, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/pointerunion">PointerUnion</a>&lt; <a href="/docs/api/classes/llvm/value">Value</a> &#42;, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> TreeEntry &#42; &gt; &amp; P2, <a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; int &gt; Mask)</>}
  labels = {["inline"]}>
Smart shuffle instruction emission, walks through shuffles trees and tries to find the best matching vector for the actual shuffle instruction.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp/#l10459">10459</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp">SLPVectorizer.cpp</a>.
</MemberDefinition>

### estimateNodesPermuteCost() {#aeb47cd5759a2897390cc86da9de1e2ae}

<MemberDefinition
  prototype={<>void llvm::slpvectorizer::BoUpSLP::ShuffleCostEstimator::estimateNodesPermuteCost (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> TreeEntry &amp; NaN, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> TreeEntry &#42; NaN, <a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; int &gt; Mask, unsigned Part, unsigned SliceSize)</>}
  labels = {["inline"]}>
Adds the cost of reshuffling <code>NaN</code> and <code>NaN</code> (if present), using given mask <code>Mask</code>, register number <code>Part</code>, that includes <code>SliceSize</code> elements.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp/#l10349">10349</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp">SLPVectorizer.cpp</a>.
</MemberDefinition>

### getBuildVectorCost() {#a206284a60a9749dfff907b5d3c67bfd7}

<MemberDefinition
  prototype={<>InstructionCost llvm::slpvectorizer::BoUpSLP::ShuffleCostEstimator::getBuildVectorCost (<a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; <a href="/docs/api/classes/llvm/value">Value</a> &#42; &gt; VL, <a href="/docs/api/classes/llvm/value">Value</a> &#42; Root)</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp/#l10174">10174</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp">SLPVectorizer.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Attributes

### CheckedExtracts {#a51432b8fca0fd3ff9c05ddfc41818b22}

<MemberDefinition
  prototype={<>SmallPtrSetImpl&lt;Value &#42;&gt;&amp; llvm::slpvectorizer::BoUpSLP::ShuffleCostEstimator::CheckedExtracts</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp/#l10152">10152</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp">SLPVectorizer.cpp</a>.
</MemberDefinition>

### CommonMask {#a9689d5cab53d0bdbd63c2aa50785b6bb}

<MemberDefinition
  prototype={<>SmallVector&lt;int&gt; llvm::slpvectorizer::BoUpSLP::ShuffleCostEstimator::CommonMask</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp/#l10146">10146</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp">SLPVectorizer.cpp</a>.
</MemberDefinition>

### Cost {#ad4484892006839a317ce4950f6108a4b}

<MemberDefinition
  prototype="InstructionCost llvm::slpvectorizer::BoUpSLP::ShuffleCostEstimator::Cost = 0">

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp/#l10149">10149</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp">SLPVectorizer.cpp</a>.
</MemberDefinition>

### InVectors {#aafe3efe4cd57d7ed548d615e190c3fe0}

<MemberDefinition
  prototype={<>SmallVector&lt;PointerUnion&lt;Value &#42;, const TreeEntry &#42;&gt;, 2&gt; llvm::slpvectorizer::BoUpSLP::ShuffleCostEstimator::InVectors</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp/#l10147">10147</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp">SLPVectorizer.cpp</a>.
</MemberDefinition>

### IsFinalized {#a00f3127f92bb2d9c23f6695c6795dc95}

<MemberDefinition
  prototype="bool llvm::slpvectorizer::BoUpSLP::ShuffleCostEstimator::IsFinalized = false">

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp/#l10145">10145</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp">SLPVectorizer.cpp</a>.
</MemberDefinition>

### R {#ace530ff548c43d7a7476a3084669e08c}

<MemberDefinition
  prototype={<>BoUpSLP&amp; llvm::slpvectorizer::BoUpSLP::ShuffleCostEstimator::R</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp/#l10151">10151</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp">SLPVectorizer.cpp</a>.
</MemberDefinition>

### SameNodesEstimated {#a0ba04c1cab094e7b0bc56f73085c96d8}

<MemberDefinition
  prototype={<>bool llvm::slpvectorizer::BoUpSLP::ShuffleCostEstimator::SameNodesEstimated = <a href="/docs/api/files/lib/lib/analysis/basicaliasanalysis-cpp/#af6d5cafbdfc5313e65d990120021a3ec">true</a></>}>
While set, still trying to estimate the cost for the same nodes and we can delay actual cost estimation (virtual shuffle instruction emission).

May help better estimate the cost if same nodes must be permuted + allows to move most of the long shuffles cost estimation to TTI.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp/#l10158">10158</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp">SLPVectorizer.cpp</a>.
</MemberDefinition>

### TTI {#adb222665c21930f01c64cee012ac76fd}

<MemberDefinition
  prototype={<>const TargetTransformInfo&amp; llvm::slpvectorizer::BoUpSLP::ShuffleCostEstimator::TTI</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp/#l10148">10148</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp">SLPVectorizer.cpp</a>.
</MemberDefinition>

### VectorizedVals {#a39192d6f778d8417a402e800ced97c95}

<MemberDefinition
  prototype={<>SmallDenseSet&lt;Value &#42;&gt; llvm::slpvectorizer::BoUpSLP::ShuffleCostEstimator::VectorizedVals</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp/#l10150">10150</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp">SLPVectorizer.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Static Functions

### getAllOnesValue() {#a1fea536ff7a87cf0964d5cab8213be82}

<MemberDefinition
  prototype={<>static Constant &#42; llvm::slpvectorizer::BoUpSLP::ShuffleCostEstimator::getAllOnesValue (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/datalayout">DataLayout</a> &amp; DL, <a href="/docs/api/classes/llvm/type">Type</a> &#42; Ty)</>}
  labels = {["inline", "static"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp/#l10160">10160</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp">SLPVectorizer.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Static Attributes

### CostKind {#aa5ad6e8a04f9d6017cbf7348c0735006}

<MemberDefinition
  prototype={<>TTI::TargetCostKind llvm::slpvectorizer::BoUpSLP::ShuffleCostEstimator::CostKind = <a href="/docs/api/classes/llvm/targettransforminfo/#a706f223f760b55668fbae74202b816bba59b32ea7b6f10564abd40ad90602ca5b">TTI::TCK&#95;RecipThroughput</a></>}
  labels = {["constexpr", "static"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp/#l10153">10153</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp">SLPVectorizer.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following file:

<ul>
<li><a href="/docs/api/files/lib/lib/transforms/lib/transforms/vectorize/slpvectorizer-cpp">SLPVectorizer.cpp</a></li>
</ul>

</DoxygenPage>
