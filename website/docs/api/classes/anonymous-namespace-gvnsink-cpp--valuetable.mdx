---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/anonymous-namespace-gvnsink-cpp-/valuetable
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `ValueTable` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>



## Declaration

<CodeBlock>class anonymous_namespace{GVNSink.cpp}::ValueTable</CodeBlock>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#ad431b90d5da2e7dd043c72d9eefed9a9">ValueTable</a> ()=default</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="void"
  name={<><a href="#acfdef247a5c87f5c377d10db4983ce85">clear</a> ()</>}>
Removes all value numberings and resets the value table. <a href="#acfdef247a5c87f5c377d10db4983ce85">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>uint32&#95;t</>}
  name={<><a href="#a0f202a9387b6d7a60044c0ea986e7cb4">getMemoryUseOrder</a> (Instruction &#42;Inst)</>}>
<code>Inst</code> uses or touches memory. <a href="#a0f202a9387b6d7a60044c0ea986e7cb4">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>uint32&#95;t</>}
  name={<><a href="#a13da6163075a3bb48f31b83d79a4fe54">lookup</a> (Value &#42;V) const</>}>
Returns the value number of the specified value. <a href="#a13da6163075a3bb48f31b83d79a4fe54">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>uint32&#95;t</>}
  name={<><a href="#a8e7a1f80b6a1b4eb63fcff1619fd4207">lookupOrAdd</a> (Value &#42;V)</>}>
Returns the value number for the specified value, assigning it a new number if it did not have one before. <a href="#a8e7a1f80b6a1b4eb63fcff1619fd4207">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a718cb8936fc783fdd1706fa7f4a4a6a5">setReachableBBs</a> (const BasicBlocksSet &amp;ReachableBBs)</>}>
Set basic blocks reachable from entry block. <a href="#a718cb8936fc783fdd1706fa7f4a4a6a5">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Functions Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/anonymous-namespace-gvnsink-cpp-/instructionuseexpr">InstructionUseExpr</a> &#42;</>}
  name={<><a href="#a9f6ebb99afcfcfa05abe500e3898dc5a">createExpr</a> (Instruction &#42;I)</>}>
Create an expression for I based on its opcode and its uses. <a href="#a9f6ebb99afcfcfa05abe500e3898dc5a">More...</a>
</MembersIndexItem>

<MembersIndexItem
  template={<>template &lt;class Inst&gt;</>}
  type={<><a href="/docs/api/classes/anonymous-namespace-gvnsink-cpp-/instructionuseexpr">InstructionUseExpr</a> &#42;</>}
  name={<><a href="#ad0a8f1fd82eae5a8afd61ba277e12d4f">createMemoryExpr</a> (Inst &#42;I)</>}>
Helper to compute the value number for a memory instruction (LoadInst/StoreInst), including checking the memory ordering and volatility. <a href="#ad0a8f1fd82eae5a8afd61ba277e12d4f">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/namespaces/llvm/#a8e612822d4ba7bb36c9c79582a567108">BumpPtrAllocator</a></>}
  name={<><a href="#a7fa61ea6a64443a75c1cdf4728783620">Allocator</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/densemap">DenseMap</a>&lt; <a href="/docs/api/classes/llvm/gvnexpression/expression">GVNExpression::Expression</a> &#42;, uint32&#95;t &gt;</>}
  name={<><a href="#a838d2e5bcea50e83e44752f016f55155">ExpressionNumbering</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/densemap">DenseMap</a>&lt; size&#95;t, uint32&#95;t &gt;</>}
  name={<><a href="#a0fbe44c28be0260b808b450df1aa2350">HashNumbering</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>uint32&#95;t</>}
  name={<><a href="#a412271abefd6f2f595fb3f06704d84a0">nextValueNumber</a> = 1</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/namespaces/anonymous-gvnsink-cpp-/#ae392bfb5a30a6ff3655f1620fa6c86c2">BasicBlocksSet</a></>}
  name={<><a href="#a880df0c7684879c1fe558d74aea7029f">ReachableBBs</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/arrayrecycler">ArrayRecycler</a>&lt; <a href="/docs/api/classes/llvm/value">Value</a> &#42; &gt;</>}
  name={<><a href="#a056cb9cef8cb1618eea2577ad5cdc666">Recycler</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/densemap">DenseMap</a>&lt; <a href="/docs/api/classes/llvm/value">Value</a> &#42;, uint32&#95;t &gt;</>}
  name={<><a href="#a8e385dd8db230292ab4bc9c1e98a701f">ValueNumbering</a></>}>
</MembersIndexItem>

</MembersIndex>


Definition at line 413 of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp">GVNSink.cpp</a>.

<SectionDefinition>

## Public Constructors

### ValueTable() {#ad431b90d5da2e7dd043c72d9eefed9a9}

<MemberDefinition
  prototype={<>anonymous&#95;namespace&#123;GVNSink.cpp&#125;::ValueTable::ValueTable ()</>}
  labels = {["default"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp/#l00450">450</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp">GVNSink.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### clear() {#acfdef247a5c87f5c377d10db4983ce85}

<MemberDefinition
  prototype={<>void anonymous&#95;namespace&#123;GVNSink.cpp&#125;::ValueTable::clear ()</>}
  labels = {["inline"]}>
Removes all value numberings and resets the value table.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp/#l00555">555</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp">GVNSink.cpp</a>.
</MemberDefinition>

### getMemoryUseOrder() {#a0f202a9387b6d7a60044c0ea986e7cb4}

<MemberDefinition
  prototype={<>uint32&#95;t anonymous&#95;namespace&#123;GVNSink.cpp&#125;::ValueTable::getMemoryUseOrder (<a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42; Inst)</>}
  labels = {["inline"]}>
<code>Inst</code> uses or touches memory.

Return an <a href="/docs/api/namespaces/llvm/callingconv/#abdf8cf606905c10634e831390981b0ed">ID</a> describing the memory state at <code>Inst</code> such that if getMemoryUseOrder(I1) == getMemoryUseOrder(I2), the exact same memory operations happen after I1 and I2.

This is a very hard problem in general, so we use domain-specific knowledge that we only ever check for equivalence between blocks sharing a single immediate successor that is common, and when determining if I1 == I2 we will have already determined that next(I1) == next(I2). This inductive property allows us to simply return the value number of the next instruction that defines memory.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp/#l00573">573</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp">GVNSink.cpp</a>.
</MemberDefinition>

### lookup() {#a13da6163075a3bb48f31b83d79a4fe54}

<MemberDefinition
  prototype={<>uint32&#95;t anonymous&#95;namespace&#123;GVNSink.cpp&#125;::ValueTable::lookup (<a href="/docs/api/classes/llvm/value">Value</a> &#42; V) const</>}
  labels = {["inline"]}>
Returns the value number of the specified value.

Fails if the value has not yet been numbered.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp/#l00548">548</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp">GVNSink.cpp</a>.
</MemberDefinition>

### lookupOrAdd() {#a8e7a1f80b6a1b4eb63fcff1619fd4207}

<MemberDefinition
  prototype={<>uint32&#95;t anonymous&#95;namespace&#123;GVNSink.cpp&#125;::ValueTable::lookupOrAdd (<a href="/docs/api/classes/llvm/value">Value</a> &#42; V)</>}
  labels = {["inline"]}>
Returns the value number for the specified value, assigning it a new number if it did not have one before.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp/#l00459">459</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp">GVNSink.cpp</a>.
</MemberDefinition>

### setReachableBBs() {#a718cb8936fc783fdd1706fa7f4a4a6a5}

<MemberDefinition
  prototype={<>void anonymous&#95;namespace&#123;GVNSink.cpp&#125;::ValueTable::setReachableBBs (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/namespaces/anonymous-gvnsink-cpp-/#ae392bfb5a30a6ff3655f1620fa6c86c2">BasicBlocksSet</a> &amp; ReachableBBs)</>}
  labels = {["inline"]}>
Set basic blocks reachable from entry block.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp/#l00453">453</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp">GVNSink.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Functions

### createExpr() {#a9f6ebb99afcfcfa05abe500e3898dc5a}

<MemberDefinition
  prototype={<>InstructionUseExpr &#42; anonymous&#95;namespace&#123;GVNSink.cpp&#125;::ValueTable::createExpr (<a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42; I)</>}
  labels = {["inline"]}>
Create an expression for I based on its opcode and its uses.

If I touches or reads memory, the expression is also based upon its memory order - see <code><a href="#a0f202a9387b6d7a60044c0ea986e7cb4">getMemoryUseOrder()</a></code>.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp/#l00425">425</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp">GVNSink.cpp</a>.
</MemberDefinition>

### createMemoryExpr() {#ad0a8f1fd82eae5a8afd61ba277e12d4f}

<MemberDefinition
  template={<>template &lt;class Inst&gt;</>}
  prototype={<>InstructionUseExpr &#42; anonymous&#95;namespace&#123;GVNSink.cpp&#125;::ValueTable::createMemoryExpr (Inst &#42; I)</>}
  labels = {["inline"]}>
Helper to compute the value number for a memory instruction (LoadInst/StoreInst), including checking the memory ordering and volatility.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp/#l00441">441</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp">GVNSink.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Attributes

### Allocator {#a7fa61ea6a64443a75c1cdf4728783620}

<MemberDefinition
  prototype={<>BumpPtrAllocator anonymous&#95;namespace&#123;GVNSink.cpp&#125;::ValueTable::Allocator</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp/#l00417">417</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp">GVNSink.cpp</a>.
</MemberDefinition>

### ExpressionNumbering {#a838d2e5bcea50e83e44752f016f55155}

<MemberDefinition
  prototype={<>DenseMap&lt;GVNExpression::Expression &#42;, uint32&#95;t&gt; anonymous&#95;namespace&#123;GVNSink.cpp&#125;::ValueTable::ExpressionNumbering</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp/#l00415">415</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp">GVNSink.cpp</a>.
</MemberDefinition>

### HashNumbering {#a0fbe44c28be0260b808b450df1aa2350}

<MemberDefinition
  prototype={<>DenseMap&lt;size&#95;t, uint32&#95;t&gt; anonymous&#95;namespace&#123;GVNSink.cpp&#125;::ValueTable::HashNumbering</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp/#l00416">416</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp">GVNSink.cpp</a>.
</MemberDefinition>

### nextValueNumber {#a412271abefd6f2f595fb3f06704d84a0}

<MemberDefinition
  prototype={<>uint32&#95;t anonymous&#95;namespace&#123;GVNSink.cpp&#125;::ValueTable::nextValueNumber = 1</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp/#l00419">419</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp">GVNSink.cpp</a>.
</MemberDefinition>

### ReachableBBs {#a880df0c7684879c1fe558d74aea7029f}

<MemberDefinition
  prototype={<>BasicBlocksSet anonymous&#95;namespace&#123;GVNSink.cpp&#125;::ValueTable::ReachableBBs</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp/#l00420">420</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp">GVNSink.cpp</a>.
</MemberDefinition>

### Recycler {#a056cb9cef8cb1618eea2577ad5cdc666}

<MemberDefinition
  prototype={<>ArrayRecycler&lt;Value &#42;&gt; anonymous&#95;namespace&#123;GVNSink.cpp&#125;::ValueTable::Recycler</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp/#l00418">418</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp">GVNSink.cpp</a>.
</MemberDefinition>

### ValueNumbering {#a8e385dd8db230292ab4bc9c1e98a701f}

<MemberDefinition
  prototype={<>DenseMap&lt;Value &#42;, uint32&#95;t&gt; anonymous&#95;namespace&#123;GVNSink.cpp&#125;::ValueTable::ValueNumbering</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp/#l00414">414</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp">GVNSink.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following file:

<ul>
<li><a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/gvnsink-cpp">GVNSink.cpp</a></li>
</ul>

</DoxygenPage>
