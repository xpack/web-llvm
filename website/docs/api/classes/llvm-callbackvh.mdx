---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/llvm/callbackvh
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `CallbackVH` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>

<a href="/docs/api/classes/llvm/value">Value</a> handle with callbacks on RAUW and destruction. <a href="#details">More...</a>

## Declaration

<CodeBlock>class llvm::CallbackVH</CodeBlock>

## Included Headers

<IncludesList>
<IncludesListItem
  filePath="llvm/IR/ValueHandle.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/ir/valuehandle-h"
  isLocal="true" />
</IncludesList>

## Base class

<MembersIndex>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/valuehandlebase">ValueHandleBase</a></>}>
This is the common base class of value handles. <a href="/docs/api/classes/llvm/valuehandlebase/#details">More...</a>
</MembersIndexItem>

</MembersIndex>

## Derived Classes

<MembersIndex>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/anonymous-namespace-asmprinter-cpp-/addrlabelmapcallbackptr">AddrLabelMapCallbackPtr</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/anonymous-namespace-executionengine-cpp-/gvmemoryblock">GVMemoryBlock</a></>}>
Helper class which uses a value handler to automatically deletes the memory block when the <a href="/docs/api/classes/llvm/globalvariable">GlobalVariable</a> is destroyed. <a href="/docs/api/classes/anonymous-namespace-executionengine-cpp-/gvmemoryblock/#details">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="struct"
  name={<><a href="/docs/api/structs/anonymous-namespace-lazyvalueinfo-cpp-/lvivaluehandle">LVIValueHandle</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/ivstrideuse">IVStrideUse</a></>}>
<a href="/docs/api/classes/llvm/ivstrideuse">IVStrideUse</a> - Keep track of one use of a strided induction variable. <a href="/docs/api/classes/llvm/ivstrideuse/#details">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="struct"
  name={<><a href="/docs/api/structs/llvm/preservedcfgcheckerinstrumentation/bbguard">BBGuard</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/scevunknown">SCEVUnknown</a></>}>
This means that we are dealing with an entirely unknown <a href="/docs/api/classes/llvm/scev">SCEV</a> value, and only represent it as its LLVM <a href="/docs/api/classes/llvm/value">Value</a>. <a href="/docs/api/classes/llvm/scevunknown/#details">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/valuemapcallbackvh">ValueMapCallbackVH&lt;KeyT, ValueT, Config&gt;</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/bfi-detail/bficallbackvh-49ff4c89ffda7f9a22c66676f1ddc8f8">BFICallbackVH&lt;BasicBlock, BFIImplT&gt;</a></>}>
</MembersIndexItem>

</MembersIndex>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a8b64e4dd7471ef330b74ec0d5f112e29">CallbackVH</a> ()</>}>
</MembersIndexItem>

<MembersIndexItem
  name={<><a href="#a5ec3602ff26e2f61e14a777a511fbf11">CallbackVH</a> (Value &#42;P)</>}>
</MembersIndexItem>

<MembersIndexItem
  name={<><a href="#a3388197aa4f644d4e871c763b59875af">CallbackVH</a> (const Value &#42;P)</>}>
</MembersIndexItem>

</MembersIndex>

## Protected Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a7e87f4bd72a4d8b7f092b2a2ee69ba1d">CallbackVH</a> (const CallbackVH &amp;)=default</>}>
</MembersIndexItem>

</MembersIndex>

## Protected Destructor Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#ae87f9079f52b7bcb09b7e20b7699a6db">~CallbackVH</a> ()=default</>}>
</MembersIndexItem>

</MembersIndex>

## Public Operators Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a3cc26426e370328a52e00ddb75a0dfbd">operator Value &#42;</a> () const</>}>
</MembersIndexItem>

</MembersIndex>

## Protected Operators Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/callbackvh">CallbackVH</a> &amp;</>}
  name={<><a href="#a5054c2936d9b8f44278866dbdaed0c4c">operator=</a> (const CallbackVH &amp;)=default</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="void"
  name={<><a href="#a1f633ad5396b6726039d26f5bbac940d">allUsesReplacedWith</a> (Value &#42;)</>}>
Callback for <a href="/docs/api/classes/llvm/value">Value</a> RAUW. <a href="#a1f633ad5396b6726039d26f5bbac940d">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a93891950be05a0bae5743979913e13f3">deleted</a> ()</>}>
Callback for <a href="/docs/api/classes/llvm/value">Value</a> destruction. <a href="#a93891950be05a0bae5743979913e13f3">More...</a>
</MembersIndexItem>

</MembersIndex>

## Protected Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="void"
  name={<><a href="#ab3a25e82043f8a99ad6ed61fb9c9483c">setValPtr</a> (Value &#42;P)</>}>
</MembersIndexItem>

</MembersIndex>

## Private Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="void"
  name={<><a href="#a4c5637a9dba5e86322763831c5851b2b">anchor</a> ()</>}>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

<a href="/docs/api/classes/llvm/value">Value</a> handle with callbacks on RAUW and destruction.

This is a value handle that allows subclasses to define callbacks that run when the underlying <a href="/docs/api/classes/llvm/value">Value</a> has RAUW called on it or is destroyed. This class can be used as the key of a map, as long as the user takes it out of the map before calling <a href="#ab3a25e82043f8a99ad6ed61fb9c9483c">setValPtr()</a> (since the map has to rearrange itself when the pointer changes). Unlike <a href="/docs/api/classes/llvm/valuehandlebase">ValueHandleBase</a>, this class has a vtable.

Definition at line 383 of file <a href="/docs/api/files/include/include/llvm/include/llvm/ir/valuehandle-h">ValueHandle.h</a>.

<SectionDefinition>

## Public Constructors

### CallbackVH() {#a8b64e4dd7471ef330b74ec0d5f112e29}

<MemberDefinition
  prototype="llvm::CallbackVH::CallbackVH ()"
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/ir/valuehandle-h/#l00395">395</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/ir/valuehandle-h">ValueHandle.h</a>.
</MemberDefinition>

### CallbackVH() {#a5ec3602ff26e2f61e14a777a511fbf11}

<MemberDefinition
  prototype={<>llvm::CallbackVH::CallbackVH (<a href="/docs/api/classes/llvm/value">Value</a> &#42; P)</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/ir/valuehandle-h/#l00396">396</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/ir/valuehandle-h">ValueHandle.h</a>.
</MemberDefinition>

### CallbackVH() {#a3388197aa4f644d4e871c763b59875af}

<MemberDefinition
  prototype={<>llvm::CallbackVH::CallbackVH (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/value">Value</a> &#42; P)</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/ir/valuehandle-h/#l00397">397</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/ir/valuehandle-h">ValueHandle.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Protected Constructors

### CallbackVH() {#a7e87f4bd72a4d8b7f092b2a2ee69ba1d}

<MemberDefinition
  prototype={<>llvm::CallbackVH::CallbackVH (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/callbackvh">CallbackVH</a> &amp;)</>}
  labels = {["protected", "default"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/ir/valuehandle-h/#l00387">387</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/ir/valuehandle-h">ValueHandle.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Protected Destructor

### ~CallbackVH() {#ae87f9079f52b7bcb09b7e20b7699a6db}

<MemberDefinition
  prototype="llvm::CallbackVH::~CallbackVH ()"
  labels = {["protected", "default"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/ir/valuehandle-h/#l00386">386</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/ir/valuehandle-h">ValueHandle.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Operators

### operator Value &#42;() {#a3cc26426e370328a52e00ddb75a0dfbd}

<MemberDefinition
  prototype={<>llvm::CallbackVH::operator Value &#42; () const</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/ir/valuehandle-h/#l00399">399</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/ir/valuehandle-h">ValueHandle.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Protected Operators

### operator=() {#a5054c2936d9b8f44278866dbdaed0c4c}

<MemberDefinition
  prototype={<>CallbackVH &amp; llvm::CallbackVH::operator= (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/callbackvh">CallbackVH</a> &amp;)</>}
  labels = {["protected", "default"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/ir/valuehandle-h/#l00388">388</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/ir/valuehandle-h">ValueHandle.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### allUsesReplacedWith() {#a1f633ad5396b6726039d26f5bbac940d}

<MemberDefinition
  prototype={<>virtual void llvm::CallbackVH::allUsesReplacedWith (<a href="/docs/api/classes/llvm/value">Value</a> &#42;)</>}
  labels = {["inline", "virtual"]}>
Callback for <a href="/docs/api/classes/llvm/value">Value</a> RAUW.

Called when this-&gt;<a href="/docs/api/classes/llvm/valuehandlebase/#a7d6d2457c839e340266704440f3bb243">getValPtr()</a>-&gt;replaceAllUsesWith(new&#95;value) is called, <em>before</em> any of the uses have actually been replaced. If <a href="/docs/api/classes/llvm/weaktrackingvh">WeakTrackingVH</a> were implemented as a <a href="/docs/api/classes/llvm/callbackvh">CallbackVH</a>, it would use this method to call setValPtr(new&#95;value). <a href="/docs/api/classes/llvm/assertingvh">AssertingVH</a> would do nothing in this method.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/ir/valuehandle-h/#l00423">423</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/ir/valuehandle-h">ValueHandle.h</a>.
</MemberDefinition>

### deleted() {#a93891950be05a0bae5743979913e13f3}

<MemberDefinition
  prototype="virtual void llvm::CallbackVH::deleted ()"
  labels = {["inline", "virtual"]}>
Callback for <a href="/docs/api/classes/llvm/value">Value</a> destruction.

Called when this-&gt;<a href="/docs/api/classes/llvm/valuehandlebase/#a7d6d2457c839e340266704440f3bb243">getValPtr()</a> is destroyed, inside ~Value(), so you may call any non-virtual <a href="/docs/api/classes/llvm/value">Value</a> method on <a href="/docs/api/classes/llvm/valuehandlebase/#a7d6d2457c839e340266704440f3bb243">getValPtr()</a>, but no subclass methods. If <a href="/docs/api/classes/llvm/weaktrackingvh">WeakTrackingVH</a> were implemented as a <a href="/docs/api/classes/llvm/callbackvh">CallbackVH</a>, it would use this method to call setValPtr(NULL). <a href="/docs/api/classes/llvm/assertingvh">AssertingVH</a> would use this method to cause an assertion failure.

All implementations must remove the reference from this object to the <a href="/docs/api/classes/llvm/value">Value</a> that&#39;s being destroyed.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/ir/valuehandle-h/#l00414">414</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/ir/valuehandle-h">ValueHandle.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Protected Member Functions

### setValPtr() {#ab3a25e82043f8a99ad6ed61fb9c9483c}

<MemberDefinition
  prototype={<>void llvm::CallbackVH::setValPtr (<a href="/docs/api/classes/llvm/value">Value</a> &#42; P)</>}
  labels = {["inline", "protected"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/ir/valuehandle-h/#l00390">390</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/ir/valuehandle-h">ValueHandle.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Functions

### anchor() {#a4c5637a9dba5e86322763831c5851b2b}

<MemberDefinition
  prototype="void CallbackVH::anchor ()"
  labels = {["virtual"]}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/ir/valuehandle-h/#l00384">384</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/ir/valuehandle-h">ValueHandle.h</a>, definition at line 1312 of file <a href="/docs/api/files/lib/lib/sandboxir/value-cpp">Value.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following files:

<ul>
<li><a href="/docs/api/files/include/include/llvm/include/llvm/ir/valuehandle-h">ValueHandle.h</a></li>
<li><a href="/docs/api/files/lib/lib/sandboxir/value-cpp">Value.cpp</a></li>
</ul>

</DoxygenPage>
