---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/llvm/functioncomparator
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `FunctionComparator` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>

<a href="/docs/api/classes/llvm/functioncomparator">FunctionComparator</a> - Compares two functions to determine whether or not they will generate machine code with the same behaviour. <a href="#details">More...</a>

## Declaration

<CodeBlock>class llvm::FunctionComparator</CodeBlock>

## Included Headers

<IncludesList>
<IncludesListItem
  filePath="llvm/Transforms/Utils/FunctionComparator.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h"
  isLocal="true" />
</IncludesList>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a0d0bc707a7410d5e1225c5e29a6f0c0c">FunctionComparator</a> (const Function &#42;F1, const Function &#42;F2, GlobalNumberState &#42;GN)</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="int"
  name={<><a href="#a4ca10cc5976994ee1c01be4b019c1ee6">compare</a> ()</>}>
Test whether the two functions have equivalent behaviour. <a href="#a4ca10cc5976994ee1c01be4b019c1ee6">More...</a>
</MembersIndexItem>

</MembersIndex>

## Protected Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="void"
  name={<><a href="#ac6d7e8c1ae29b2989d915a96866408ad">beginCompare</a> ()</>}>
Start the comparison. <a href="#ac6d7e8c1ae29b2989d915a96866408ad">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="int"
  name={<><a href="#abec80b03038382f41e2f3217db10d729">cmpAligns</a> (Align L, Align R) const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="int"
  name={<><a href="#a5a31319ba96ba0a68b6c30fed08f3dd2">cmpAPFloats</a> (const APFloat &amp;L, const APFloat &amp;R) const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="int"
  name={<><a href="#aedf58b007a386724dbc14ca472df8980">cmpAPInts</a> (const APInt &amp;L, const APInt &amp;R) const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="int"
  name={<><a href="#a21408b47716ef75ac95ded9097918f0a">cmpBasicBlocks</a> (const BasicBlock &#42;BBL, const BasicBlock &#42;BBR) const</>}>
Test whether two basic blocks have equivalent behaviour. <a href="#a21408b47716ef75ac95ded9097918f0a">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="int"
  name={<><a href="#a3090ffa7bd5437bfa54660bc5983834a">cmpConstantRanges</a> (const ConstantRange &amp;L, const ConstantRange &amp;R) const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="int"
  name={<><a href="#aecc5ef45f49070634ddd53a04ed5548e">cmpConstants</a> (const Constant &#42;L, const Constant &#42;R) const</>}>
Constants comparison. <a href="#aecc5ef45f49070634ddd53a04ed5548e">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="int"
  name={<><a href="#ad251347b1feac30dc71e64f61b2ea195">cmpGlobalValues</a> (GlobalValue &#42;L, GlobalValue &#42;R) const</>}>
Compares two global values by number. <a href="#ad251347b1feac30dc71e64f61b2ea195">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="int"
  name={<><a href="#a494a3d5038b4704ce9d4220394e18c84">cmpMem</a> (StringRef L, StringRef R) const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="int"
  name={<><a href="#ab0590a1bcd08f75a7580a66c7a2023f0">cmpNumbers</a> (uint64&#95;t L, uint64&#95;t R) const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="int"
  name={<><a href="#aa359aa2850f74fbc9dbdb4650c13f4cf">cmpOperations</a> (const Instruction &#42;L, const Instruction &#42;R, bool &amp;needToCmpOperands) const</>}>
Compare two Instructions for equivalence, similar to <a href="/docs/api/classes/llvm/instruction/#a25175390eaee0646bcb8b30990ab723b">Instruction::isSameOperationAs</a>. <a href="#aa359aa2850f74fbc9dbdb4650c13f4cf">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="int"
  name={<><a href="#a96167048c547bb562d69720cee2a48a6">cmpTypes</a> (Type &#42;TyL, Type &#42;TyR) const</>}>
cmpType - compares two types, defines total ordering among the types set. <a href="#a96167048c547bb562d69720cee2a48a6">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="int"
  name={<><a href="#ac7b438ce165bdc9f0bff4c55f8c0f499">cmpValues</a> (const Value &#42;L, const Value &#42;R) const</>}>
Assign or look up previously assigned numbers for the two values, and return whether the numbers are equal. <a href="#ac7b438ce165bdc9f0bff4c55f8c0f499">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="int"
  name={<><a href="#a404aec2d456394b3b9ace0364045cfa2">compareSignature</a> () const</>}>
Compares the signature and other general attributes of the two functions. <a href="#a404aec2d456394b3b9ace0364045cfa2">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="int"
  name={<><a href="#a15d2f05de66ff22cab55aa260fd0417a">cmpAttrs</a> (const AttributeList L, const AttributeList R) const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="int"
  name={<><a href="#af111b976ea3558ddc40db053b53fd58d">cmpGEPs</a> (const GEPOperator &#42;GEPL, const GEPOperator &#42;GEPR) const</>}>
Compare two GEPs for equivalent pointer arithmetic. <a href="#af111b976ea3558ddc40db053b53fd58d">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="int"
  name={<><a href="#a72b827b6ddd7075cf4c670b7229b9827">cmpGEPs</a> (const GetElementPtrInst &#42;GEPL, const GetElementPtrInst &#42;GEPR) const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="int"
  name={<><a href="#a9268807201ab47ed85e878a8f08fc66c">cmpInlineAsm</a> (const InlineAsm &#42;L, const InlineAsm &#42;R) const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="int"
  name={<><a href="#aa64a3ae7604cec072650dc8612391133">cmpInstMetadata</a> (Instruction const &#42;L, Instruction const &#42;R) const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="int"
  name={<><a href="#a55ff1222f9638bfb1c8c6302fdca0883">cmpMDNode</a> (const MDNode &#42;L, const MDNode &#42;R) const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="int"
  name={<><a href="#aee43772169f3d279ded2656a3fe63a58">cmpMetadata</a> (const Metadata &#42;L, const Metadata &#42;R) const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="int"
  name={<><a href="#a6046e72387de962e5e1b160ed627defb">cmpOperandBundlesSchema</a> (const CallBase &amp;LCS, const CallBase &amp;RCS) const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="int"
  name={<><a href="#a5b05aa2bd58caf3af6f88825f34e5776">cmpOrderings</a> (AtomicOrdering L, AtomicOrdering R) const</>}>
</MembersIndexItem>

</MembersIndex>

## Protected Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/function">Function</a> &#42;</>}
  name={<><a href="#a6ab58e4d2fb258a0d2c839fbfdae9024">FnL</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/function">Function</a> &#42;</>}
  name={<><a href="#a2fec2baea95adaabe3bec634298422db">FnR</a></>}>
</MembersIndexItem>

</MembersIndex>

## Private Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/globalnumberstate">GlobalNumberState</a> &#42;</>}
  name={<><a href="#aac8d9e79148bc71611a20406b85c991b">GlobalNumbers</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/densemap">DenseMap</a>&lt; <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/value">Value</a> &#42;, int &gt;</>}
  name={<><a href="#a77ad785d8141826893648381c2af01d1">sn&#95;mapL</a></>}>
Assign serial numbers to values from left function, and values from right function. <a href="#a77ad785d8141826893648381c2af01d1">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/densemap">DenseMap</a>&lt; <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/value">Value</a> &#42;, int &gt;</>}
  name={<><a href="#a5ff9c9c67aa148ddc34ff5f8aac1150d">sn&#95;mapR</a></>}>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

<a href="/docs/api/classes/llvm/functioncomparator">FunctionComparator</a> - Compares two functions to determine whether or not they will generate machine code with the same behaviour.

<a href="/docs/api/classes/llvm/datalayout">DataLayout</a> is used if available. The comparator always fails conservatively (erring on the side of claiming that two functions are different).

Definition at line 93 of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h">FunctionComparator.h</a>.

<SectionDefinition>

## Public Constructors

### FunctionComparator() {#a0d0bc707a7410d5e1225c5e29a6f0c0c}

<MemberDefinition
  prototype={<>llvm::FunctionComparator::FunctionComparator (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/function">Function</a> &#42; F1, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/function">Function</a> &#42; F2, <a href="/docs/api/classes/llvm/globalnumberstate">GlobalNumberState</a> &#42; GN)</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h/#l00095">95</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h">FunctionComparator.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### compare() {#a4ca10cc5976994ee1c01be4b019c1ee6}

<MemberDefinition
  prototype="int FunctionComparator::compare ()">
Test whether the two functions have equivalent behaviour.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h/#l00100">100</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h">FunctionComparator.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/functioncomparator-cpp/#l01007">1007</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/functioncomparator-cpp">FunctionComparator.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Protected Member Functions

### beginCompare() {#ac6d7e8c1ae29b2989d915a96866408ad}

<MemberDefinition
  prototype="void llvm::FunctionComparator::beginCompare ()"
  labels = {["inline", "protected"]}>
Start the comparison.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h/#l00104">104</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h">FunctionComparator.h</a>.
</MemberDefinition>

### cmpAligns() {#abec80b03038382f41e2f3217db10d729}

<MemberDefinition
  prototype={<>int FunctionComparator::cmpAligns (<a href="/docs/api/structs/llvm/align">Align</a> L, <a href="/docs/api/structs/llvm/align">Align</a> R) const</>}
  labels = {["protected"]}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h/#l00318">318</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h">FunctionComparator.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/functioncomparator-cpp/#l00060">60</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/functioncomparator-cpp">FunctionComparator.cpp</a>.
</MemberDefinition>

### cmpAPFloats() {#a5a31319ba96ba0a68b6c30fed08f3dd2}

<MemberDefinition
  prototype={<>int FunctionComparator::cmpAPFloats (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/apfloat">APFloat</a> &amp; L, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/apfloat">APFloat</a> &amp; R) const</>}
  labels = {["protected"]}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h/#l00321">321</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h">FunctionComparator.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/functioncomparator-cpp/#l00093">93</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/functioncomparator-cpp">FunctionComparator.cpp</a>.
</MemberDefinition>

### cmpAPInts() {#aedf58b007a386724dbc14ca472df8980}

<MemberDefinition
  prototype={<>int FunctionComparator::cmpAPInts (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/apint">APInt</a> &amp; L, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/apint">APInt</a> &amp; R) const</>}
  labels = {["protected"]}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h/#l00319">319</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h">FunctionComparator.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/functioncomparator-cpp/#l00076">76</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/functioncomparator-cpp">FunctionComparator.cpp</a>.
</MemberDefinition>

### cmpBasicBlocks() {#a21408b47716ef75ac95ded9097918f0a}

<MemberDefinition
  prototype={<>int FunctionComparator::cmpBasicBlocks (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; BBL, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; BBR) const</>}
  labels = {["protected"]}>
Test whether two basic blocks have equivalent behaviour.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h/#l00113">113</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h">FunctionComparator.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/functioncomparator-cpp/#l00927">927</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/functioncomparator-cpp">FunctionComparator.cpp</a>.
</MemberDefinition>

### cmpConstantRanges() {#a3090ffa7bd5437bfa54660bc5983834a}

<MemberDefinition
  prototype={<>int FunctionComparator::cmpConstantRanges (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/constantrange">ConstantRange</a> &amp; L, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/constantrange">ConstantRange</a> &amp; R) const</>}
  labels = {["protected"]}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h/#l00320">320</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h">FunctionComparator.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/functioncomparator-cpp/#l00086">86</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/functioncomparator-cpp">FunctionComparator.cpp</a>.
</MemberDefinition>

### cmpConstants() {#aecc5ef45f49070634ddd53a04ed5548e}

<MemberDefinition
  prototype={<>int FunctionComparator::cmpConstants (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/constant">Constant</a> &#42; L, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/constant">Constant</a> &#42; R) const</>}
  labels = {["protected"]}>
Constants comparison.

Constants comparison:

Its analog to lexicographical comparison between hypothetical numbers of next format: &lt;bitcastability-trait&gt;&lt;raw-bit-contents&gt;


<ul>
<li>Bitcastability. <a href="/docs/api/namespaces/llvm/check">Check</a> whether L&#39;s type could be losslessly bitcasted to R&#39;s type. On this stage method, in case when lossless bitcast is not possible method returns -1 or 1, thus also defining which type is greater in context of bitcastability. Stage 0: If types are equal in terms of cmpTypes, then we can go straight to the contents comparison. If types differ, remember types comparison result and check whether we still can bitcast types. Stage 1: Types that satisfies isFirstClassType conditions are always greater then others. Stage 2: Vector is greater then non-vector. If both types are vectors, then vector with greater bitwidth is greater. If both types are vectors with the same bitwidth, then types are bitcastable, and we can skip other stages, and go to contents comparison. Stage 3: Pointer types are greater than non-pointers. If both types are pointers of the same address space - go to contents comparison. Different address spaces: pointer with greater address space is greater. Stage 4: Types are neither vectors, nor pointers. And they differ. We don&#39;t know how to bitcast them. So, we better don&#39;t do it, and return types comparison result (so it determines the relationship among constants we don&#39;t know how to bitcast).</li>
</ul>


Just for clearance, let&#39;s see how the set of constants could look on single dimension axis:

&#91;NFCT&#93;, &#91;FCT, &quot;others&quot;&#93;, &#91;FCT, pointers&#93;, &#91;FCT, vectors&#93; Where: NFCT - Not a FirstClassType FCT - FirstClassTyp:


<ul>
<li>Compare raw contents. It ignores types on this stage and only compares bits from L and R. Returns 0, if L and R has equivalent contents. -1 or 1 if values are different. Pretty trivial: 2.1. If contents are numbers, compare numbers. Ints with greater bitwidth are greater. Ints with same bitwidths compared by their contents. 2.2. &quot;And so on&quot;. Just to avoid discrepancies with comments perhaps it would be better to read the implementation itself.</li>
<li>And again about overall picture. Let&#39;s look back at how the ordered set of constants will look like: &#91;NFCT&#93;, &#91;FCT, &quot;others&quot;&#93;, &#91;FCT, pointers&#93;, &#91;FCT, vectors&#93;</li>
</ul>


Now look, what could be inside &#91;FCT, &quot;others&quot;&#93;, for example: &#91;FCT, &quot;others&quot;&#93; = &#91; &#91;double 0.1&#93;, &#91;double 1.23&#93;, &#91;i32 1&#93;, &#91;i32 2&#93;, &#123; double 1.0 &#125;, ; StructTyID, NumElements = 1 &#123; i32 1 &#125;, ; StructTyID, NumElements = 1 &#123; double 1, i32 1 &#125;, ; StructTyID, NumElements = 2 &#123; i32 1, double 1 &#125; ; StructTyID, NumElements = 2 &#93;

Let&#39;s explain the order. Float numbers will be less than integers, just because of cmpType terms: FloatTyID &lt; IntegerTyID. Floats (with same <a href="/docs/api/structs/llvm/fltsemantics">fltSemantics</a>) are sorted according to their value. Then you can see integers, and they are, like a floats, could be easy sorted among each others. The structures. Structures are grouped at the tail, again because of their <a href="/docs/api/files/lib/lib/target/lib/target/mips/mips16hardfloat-cpp/#a80cca3528193bd0d53e43a6d030f0ea0">TypeID</a>: StructTyID &gt; IntegerTyID &gt; FloatTyID. Structures with greater number of elements are greater. Structures with greater elements going first are greater. The same logic with vectors, arrays and other possible complex types.

Bitcastable constants. Let&#39;s assume, that some constant, belongs to some group of &quot;so-called-equal&quot; values with different types, and at the same time belongs to another group of constants with equal types and &quot;really&quot; equal values.

Now, prove that this is impossible:

If constant A with type TyA is bitcastable to B with type TyB, then:
<ul>
<li>All constants with equal types to TyA, are bitcastable to B. Since those should be vectors (if TyA is vector), pointers (if TyA is pointer), or else (if TyA equal to TyB), those types should be equal to TyB.</li>
<li>All constants with non-equal, but bitcastable types to TyA, are bitcastable to B. Once again, just because we allow it to vectors and pointers only. This statement could be expanded as below: 2.1. All vectors with equal bitwidth to vector A, has equal bitwidth to vector B, and thus bitcastable to B as well. 2.2. All pointers of the same address space, no matter what they point to, bitcastable. So if C is pointer, it could be bitcasted to A and to B. So any constant equal or bitcastable to A is equal or bitcastable to B. QED.</li>
</ul>


In another words, for pointers and vectors, we ignore top-level type and look at their particular properties (bit-width for vectors, and address space for pointers). If these properties are equal - compare their contents.


<ul>
<li><a href="/docs/api/namespaces/llvm/check">Check</a> whether type of L constant could be losslessly bitcasted to R type.</li>
<li>Compare constant contents. For more details see declaration comments.</li>
</ul>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h/#l00217">217</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h">FunctionComparator.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/functioncomparator-cpp/#l00290">290</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/functioncomparator-cpp">FunctionComparator.cpp</a>.
</MemberDefinition>

### cmpGlobalValues() {#ad251347b1feac30dc71e64f61b2ea195}

<MemberDefinition
  prototype={<>int FunctionComparator::cmpGlobalValues (<a href="/docs/api/classes/llvm/globalvalue">GlobalValue</a> &#42; L, <a href="/docs/api/classes/llvm/globalvalue">GlobalValue</a> &#42; R) const</>}
  labels = {["protected"]}>
Compares two global values by number.

Uses the GlobalNumbersState to identify the same gobals across function calls.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h/#l00221">221</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h">FunctionComparator.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/functioncomparator-cpp/#l00528">528</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/functioncomparator-cpp">FunctionComparator.cpp</a>.
</MemberDefinition>

### cmpMem() {#a494a3d5038b4704ce9d4220394e18c84}

<MemberDefinition
  prototype={<>int FunctionComparator::cmpMem (<a href="/docs/api/classes/llvm/stringref">StringRef</a> L, <a href="/docs/api/classes/llvm/stringref">StringRef</a> R) const</>}
  labels = {["protected"]}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h/#l00322">322</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h">FunctionComparator.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/functioncomparator-cpp/#l00112">112</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/functioncomparator-cpp">FunctionComparator.cpp</a>.
</MemberDefinition>

### cmpNumbers() {#ab0590a1bcd08f75a7580a66c7a2023f0}

<MemberDefinition
  prototype={<>int FunctionComparator::cmpNumbers (uint64&#95;t L, uint64&#95;t R) const</>}
  labels = {["protected"]}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h/#l00317">317</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h">FunctionComparator.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/functioncomparator-cpp/#l00052">52</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/functioncomparator-cpp">FunctionComparator.cpp</a>.
</MemberDefinition>

### cmpOperations() {#aa359aa2850f74fbc9dbdb4650c13f4cf}

<MemberDefinition
  prototype={<>int FunctionComparator::cmpOperations (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42; L, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42; R, bool &amp; needToCmpOperands) const</>}
  labels = {["protected"]}>
Compare two Instructions for equivalence, similar to <a href="/docs/api/classes/llvm/instruction/#a25175390eaee0646bcb8b30990ab723b">Instruction::isSameOperationAs</a>.

Stages are listed in &quot;most significant stage first&quot; order: On each stage below, we do comparison between some left and right operation parts. If parts are non-equal, we assign parts comparison result to the operation comparison result and exit from method. Otherwise we proceed to the next stage. Stages:
<ul>
<li>Operations opcodes. Compared as numbers.</li>
<li>Number of operands.</li>
<li>Operation types. Compared with cmpType method.</li>
<li>Compare operation subclass optional data as stream of bytes: just convert it to integers and call cmpNumbers.</li>
<li>Compare in operation operand types with cmpType in most significant operand first order.</li>
<li>Last stage. <a href="/docs/api/namespaces/llvm/check">Check</a> operations for some specific attributes. For example, for Load it would be: 6.1.Load: volatile (as boolean flag) 6.2.Load: alignment (as integer numbers) 6.3.Load: ordering (as underlying enum class value) 6.4.Load: synch-scope (as integer numbers) 6.5.Load: range metadata (as integer ranges) On this stage its better to see the code, since its not more than 10-15 strings for particular instruction, and could change sometimes.</li>
</ul>


Sets <code>needToCmpOperands</code> to true if the operands of the instructions still must be compared afterwards. In this case it&#39;s already guaranteed that both instructions have the same number of operands.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h/#l00272">272</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h">FunctionComparator.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/functioncomparator-cpp/#l00637">637</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/functioncomparator-cpp">FunctionComparator.cpp</a>.
</MemberDefinition>

### cmpTypes() {#a96167048c547bb562d69720cee2a48a6}

<MemberDefinition
  prototype={<>int FunctionComparator::cmpTypes (<a href="/docs/api/classes/llvm/type">Type</a> &#42; TyL, <a href="/docs/api/classes/llvm/type">Type</a> &#42; TyR) const</>}
  labels = {["protected"]}>
cmpType - compares two types, defines total ordering among the types set.

Return values: 0 if types are equal, -1 if Left is less than Right, +1 if Left is greater than Right.

Description: Comparison is broken onto stages. Like in lexicographical comparison stage coming first has higher priority. On each explanation stage keep in mind total ordering properties.


<ul>
<li>Before comparison we coerce pointer types of 0 address space to integer. We also don&#39;t bother with same type at left and right, so just return 0 in this case.</li>
<li>If types are of different kind (different type IDs). Return result of type IDs comparison, treating them as numbers.</li>
<li>If types are integers, check that they have the same width. If they are vectors, check that they have the same count and subtype.</li>
<li>Types have the same <a href="/docs/api/namespaces/llvm/callingconv/#abdf8cf606905c10634e831390981b0ed">ID</a>, so check whether they are one of:</li>
</ul>

<ul>
<li>Void</li>
<li>Float</li>
<li>Double</li>
<li>X86&#95;FP80</li>
<li>FP128</li>
<li>PPC&#95;FP128</li>
<li>Label</li>
<li><a href="/docs/api/classes/llvm/metadata">Metadata</a> We can treat these types as equal whenever their IDs are same.</li>
</ul>

<ul>
<li>If Left and Right are pointers, return result of address space comparison (numbers comparison). We can treat pointer types of same address space as equal.</li>
<li>If types are complex. Then both Left and Right are to be expanded and their element types will be checked with the same way. If we get Res != 0 on some stage, return it. Otherwise return 0.</li>
<li>For all other cases put llvm&#95;unreachable.</li>
</ul>


See method declaration comments for more details.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h/#l00315">315</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h">FunctionComparator.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/functioncomparator-cpp/#l00537">537</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/functioncomparator-cpp">FunctionComparator.cpp</a>.
</MemberDefinition>

### cmpValues() {#ac7b438ce165bdc9f0bff4c55f8c0f499}

<MemberDefinition
  prototype={<>int FunctionComparator::cmpValues (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/value">Value</a> &#42; L, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/value">Value</a> &#42; R) const</>}
  labels = {["protected"]}>
Assign or look up previously assigned numbers for the two values, and return whether the numbers are equal.

Compare two values used by the two functions under pair-wise comparison.

Numbers are assigned in the order visited. Comparison order: Stage 0: <a href="/docs/api/classes/llvm/value">Value</a> that is function itself is always greater then others. If left and right values are references to their functions, then they are equal. Stage 1: Constants are greater than non-constants. If both left and right are constants, then the result of cmpConstants is used as cmpValues result. Stage 2: <a href="/docs/api/classes/llvm/inlineasm">InlineAsm</a> instances are greater than others. If both left and right are <a href="/docs/api/classes/llvm/inlineasm">InlineAsm</a> instances, InlineAsm&#42; pointers casted to integers and compared as numbers. Stage 3: For all other cases we compare order we meet these values in their functions. If right value was met first during scanning, then left value is greater. In another words, we compare serial numbers, for more details see comments for sn&#95;mapL and sn&#95;mapR.

If this is the first time the values are seen, they&#39;re added to the mapping so that we will detect mismatches on next use. See comments in declaration for more details.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h/#l00241">241</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h">FunctionComparator.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/functioncomparator-cpp/#l00869">869</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/functioncomparator-cpp">FunctionComparator.cpp</a>.
</MemberDefinition>

### compareSignature() {#a404aec2d456394b3b9ace0364045cfa2}

<MemberDefinition
  prototype="int FunctionComparator::compareSignature () const"
  labels = {["protected"]}>
Compares the signature and other general attributes of the two functions.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h/#l00110">110</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h">FunctionComparator.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/functioncomparator-cpp/#l00960">960</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/functioncomparator-cpp">FunctionComparator.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Functions

### cmpAttrs() {#a15d2f05de66ff22cab55aa260fd0417a}

<MemberDefinition
  prototype={<>int FunctionComparator::cmpAttrs (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> AttributeList L, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> AttributeList R) const</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h/#l00330">330</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h">FunctionComparator.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/functioncomparator-cpp/#l00122">122</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/functioncomparator-cpp">FunctionComparator.cpp</a>.
</MemberDefinition>

### cmpGEPs() {#af111b976ea3558ddc40db053b53fd58d}

<MemberDefinition
  prototype={<>int FunctionComparator::cmpGEPs (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/gepoperator">GEPOperator</a> &#42; GEPL, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/gepoperator">GEPOperator</a> &#42; GEPR) const</>}>
Compare two GEPs for equivalent pointer arithmetic.

Parts to be compared for each comparison stage, most significant stage first:
<ul>
<li>Address space. As numbers.</li>
<li><a href="/docs/api/classes/llvm/constant">Constant</a> offset, (using <a href="/docs/api/classes/llvm/gepoperator/#a5c00e7e76ef5e98c6ffec8d31f63970a">GEPOperator::accumulateConstantOffset</a> method).</li>
<li>Pointer operand type (using cmpType method).</li>
<li>Number of operands.</li>
<li>Compare operands, using cmpValues method.</li>
</ul>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h/#l00344">344</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h">FunctionComparator.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/functioncomparator-cpp/#l00812">812</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/functioncomparator-cpp">FunctionComparator.cpp</a>.
</MemberDefinition>

### cmpGEPs() {#a72b827b6ddd7075cf4c670b7229b9827}

<MemberDefinition
  prototype={<>int llvm::FunctionComparator::cmpGEPs (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/getelementptrinst">GetElementPtrInst</a> &#42; GEPL, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/getelementptrinst">GetElementPtrInst</a> &#42; GEPR) const</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h/#l00345">345</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h">FunctionComparator.h</a>.
</MemberDefinition>

### cmpInlineAsm() {#a9268807201ab47ed85e878a8f08fc66c}

<MemberDefinition
  prototype={<>int FunctionComparator::cmpInlineAsm (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/inlineasm">InlineAsm</a> &#42; L, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/inlineasm">InlineAsm</a> &#42; R) const</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h/#l00329">329</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h">FunctionComparator.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/functioncomparator-cpp/#l00843">843</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/functioncomparator-cpp">FunctionComparator.cpp</a>.
</MemberDefinition>

### cmpInstMetadata() {#aa64a3ae7604cec072650dc8612391133}

<MemberDefinition
  prototype={<>int FunctionComparator::cmpInstMetadata (<a href="/docs/api/classes/llvm/instruction">Instruction</a> <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> &#42; L, <a href="/docs/api/classes/llvm/instruction">Instruction</a> <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> &#42; R) const</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h/#l00333">333</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h">FunctionComparator.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/functioncomparator-cpp/#l00240">240</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/functioncomparator-cpp">FunctionComparator.cpp</a>.
</MemberDefinition>

### cmpMDNode() {#a55ff1222f9638bfb1c8c6302fdca0883}

<MemberDefinition
  prototype={<>int FunctionComparator::cmpMDNode (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/mdnode">MDNode</a> &#42; L, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/mdnode">MDNode</a> &#42; R) const</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h/#l00331">331</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h">FunctionComparator.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/functioncomparator-cpp/#l00219">219</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/functioncomparator-cpp">FunctionComparator.cpp</a>.
</MemberDefinition>

### cmpMetadata() {#aee43772169f3d279ded2656a3fe63a58}

<MemberDefinition
  prototype={<>int FunctionComparator::cmpMetadata (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/metadata">Metadata</a> &#42; L, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/metadata">Metadata</a> &#42; R) const</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h/#l00332">332</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h">FunctionComparator.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/functioncomparator-cpp/#l00188">188</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/functioncomparator-cpp">FunctionComparator.cpp</a>.
</MemberDefinition>

### cmpOperandBundlesSchema() {#a6046e72387de962e5e1b160ed627defb}

<MemberDefinition
  prototype={<>int FunctionComparator::cmpOperandBundlesSchema (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/callbase">CallBase</a> &amp; LCS, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/callbase">CallBase</a> &amp; RCS) const</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h/#l00334">334</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h">FunctionComparator.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/functioncomparator-cpp/#l00263">263</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/functioncomparator-cpp">FunctionComparator.cpp</a>.
</MemberDefinition>

### cmpOrderings() {#a5b05aa2bd58caf3af6f88825f34e5776}

<MemberDefinition
  prototype={<>int FunctionComparator::cmpOrderings (<a href="/docs/api/namespaces/llvm/#a9bccbe67aaab722783ca4e7c504aaaa7">AtomicOrdering</a> L, <a href="/docs/api/namespaces/llvm/#a9bccbe67aaab722783ca4e7c504aaaa7">AtomicOrdering</a> R) const</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h/#l00328">328</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h">FunctionComparator.h</a>, definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/functioncomparator-cpp/#l00068">68</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/functioncomparator-cpp">FunctionComparator.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Protected Member Attributes

### FnL {#a6ab58e4d2fb258a0d2c839fbfdae9024}

<MemberDefinition
  prototype={<>const Function&#42; llvm::FunctionComparator::FnL</>}
  labels = {["protected"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h/#l00325">325</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h">FunctionComparator.h</a>.
</MemberDefinition>

### FnR {#a2fec2baea95adaabe3bec634298422db}

<MemberDefinition
  prototype={<>const Function &#42; llvm::FunctionComparator::FnR</>}
  labels = {["protected"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h/#l00325">325</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h">FunctionComparator.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Attributes

### GlobalNumbers {#aac8d9e79148bc71611a20406b85c991b}

<MemberDefinition
  prototype={<>GlobalNumberState&#42; llvm::FunctionComparator::GlobalNumbers</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h/#l00386">386</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h">FunctionComparator.h</a>.
</MemberDefinition>

### sn&#95;mapL {#a77ad785d8141826893648381c2af01d1}

<MemberDefinition
  prototype={<>DenseMap&lt;const Value&#42;, int&gt; llvm::FunctionComparator::sn&#95;mapL</>}
  labels = {["mutable"]}>
Assign serial numbers to values from left function, and values from right function.

Explanation: Being comparing functions we need to compare values we meet at left and right sides. Its easy to sort things out for external values. It just should be the same value at left and right. But for local values (those were introduced inside function body) we have to ensure they were introduced at exactly the same place, and plays the same role. Let&#39;s assign serial number to each value when we meet it first time. Values that were met at same place will be with same serial numbers. In this case it would be good to explain few points about values assigned to BBs and other ways of implementation (see below).


<ul>
<li>Safety of BB reordering. It&#39;s safe to change the order of BasicBlocks in function. Relationship with other functions and serial numbering will not be changed in this case. As follows from <a href="#a4ca10cc5976994ee1c01be4b019c1ee6">FunctionComparator::compare()</a>, we do CFG walk: we start from the entry, and then take each terminator. So it doesn&#39;t matter how in fact BBs are ordered in function. And since cmpValues are called during this walk, the numbering depends only on how BBs located inside the CFG. So the answer is - yes. We will get the same numbering.</li>
<li>Impossibility to use dominance properties of values. If we compare two instruction operands: first is usage of local variable AL from function FL, and second is usage of local variable AR from FR, we could compare their origins and check whether they are defined at the same place. But, we are still not able to compare operands of PHI nodes, since those could be operands from further BBs we didn&#39;t scan yet. So it&#39;s impossible to use dominance properties in general.</li>
</ul>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h/#l00383">383</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h">FunctionComparator.h</a>.
</MemberDefinition>

### sn&#95;mapR {#a5ff9c9c67aa148ddc34ff5f8aac1150d}

<MemberDefinition
  prototype={<>DenseMap&lt;const Value&#42;, int&gt; llvm::FunctionComparator::sn&#95;mapR</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h/#l00383">383</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h">FunctionComparator.h</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following files:

<ul>
<li><a href="/docs/api/files/include/include/llvm/include/llvm/transforms/include/llvm/transforms/utils/functioncomparator-h">FunctionComparator.h</a></li>
<li><a href="/docs/api/files/lib/lib/transforms/lib/transforms/utils/functioncomparator-cpp">FunctionComparator.cpp</a></li>
</ul>

</DoxygenPage>
