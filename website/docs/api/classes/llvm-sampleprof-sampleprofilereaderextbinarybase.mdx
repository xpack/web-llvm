---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/llvm/sampleprof/sampleprofilereaderextbinarybase
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `SampleProfileReaderExtBinaryBase` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>

SampleProfileReaderExtBinaryBase/SampleProfileWriterExtBinaryBase defines the basic structure of the extensible binary format. <a href="#details">More...</a>

## Declaration

<CodeBlock>class llvm::sampleprof::SampleProfileReaderExtBinaryBase</CodeBlock>

## Included Headers

<IncludesList>
<IncludesListItem
  filePath="llvm/ProfileData/SampleProfReader.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h"
  isLocal="true" />
</IncludesList>

## Base class

<MembersIndex>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/sampleprof/sampleprofilereaderbinary">SampleProfileReaderBinary</a></>}>
</MembersIndexItem>

</MembersIndex>

## Derived Classes

<MembersIndex>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/sampleprof/sampleprofilereaderextbinary">SampleProfileReaderExtBinary</a></>}>
</MembersIndexItem>

</MembersIndex>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#ab6ffdd6df239a2e84804f57c4b7c7317">SampleProfileReaderExtBinaryBase</a> (std::unique&#95;ptr&lt; MemoryBuffer &gt; B, LLVMContext &amp;C, SampleProfileFormat Format)</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="bool"
  name={<><a href="#a0d0cdeb3cf9845558d9577f37fc326b3">collectFuncsFromModule</a> () override</>}>
Collect functions with definitions in <a href="/docs/api/classes/llvm/module">Module</a> M. <a href="#a0d0cdeb3cf9845558d9577f37fc326b3">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#ab0f3253a66867b0999fc9d2be549268c">dumpSectionInfo</a> (raw&#95;ostream &amp;OS=dbgs()) override</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>uint64&#95;t</>}
  name={<><a href="#ae5212e24c2c507eb51d7ad201800cbfc">getFileSize</a> ()</>}>
Get the total size of header and all sections. <a href="#ae5212e24c2c507eb51d7ad201800cbfc">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::unique&#95;ptr&lt; <a href="/docs/api/classes/llvm/sampleprof/profilesymbollist">ProfileSymbolList</a> &gt;</>}
  name={<><a href="#aa05dfff9baa25b88665df394ec32f5a5">getProfileSymbolList</a> () override</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>uint64&#95;t</>}
  name={<><a href="#a192f65175b8cab2ec3ce9ff6bfd38ebb">getSectionSize</a> (SecType Type)</>}>
Get the total size of all <code><a href="/docs/api/classes/llvm/type">Type</a></code> sections. <a href="#a192f65175b8cab2ec3ce9ff6bfd38ebb">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::error&#95;code</>}
  name={<><a href="#aa3075229a3db86f1b533efcc85f82d97">readImpl</a> () override</>}>
Read sample profiles in extensible format from the associated file. <a href="#aa3075229a3db86f1b533efcc85f82d97">More...</a>
</MembersIndexItem>

</MembersIndex>

## Protected Member Functions Index

<MembersIndex>

<MembersIndexItem
  type={<>std::error&#95;code</>}
  name={<><a href="#a272ffb93f3958019735d7a4ef9bf22d2">readCSNameTableSec</a> ()</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::error&#95;code</>}
  name={<><a href="#a3603fe57b2751d6366d8fc860de40078">readCustomSection</a> (const SecHdrTableEntry &amp;Entry)=0</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::error&#95;code</>}
  name={<><a href="#a58cedb1356bab80647af0fa48bc1750a">readFuncMetadata</a> (bool ProfileHasAttribute, SampleProfileMap &amp;Profiles)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::error&#95;code</>}
  name={<><a href="#a077db87ff742498d2add620c1a7130db">readFuncMetadata</a> (bool ProfileHasAttribute)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::error&#95;code</>}
  name={<><a href="#a9b9e845ee3096f8360407bfa4f0f3d1a">readFuncMetadata</a> (bool ProfileHasAttribute, FunctionSamples &#42;FProfile)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::error&#95;code</>}
  name={<><a href="#a008cc734a7a06814838c697a958ee982">readFuncOffsetTable</a> ()</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::error&#95;code</>}
  name={<><a href="#a727bcceedcf0fe170cb330513c25ab2a">readFuncProfiles</a> ()</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::error&#95;code</>}
  name={<><a href="#a873e0df967c1a3a622ee9e25c1a6fa00">readFuncProfiles</a> (const DenseSet&lt; StringRef &gt; &amp;FuncsToUse, SampleProfileMap &amp;Profiles)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::error&#95;code</>}
  name={<><a href="#ae375ab166c92c7d215eea3a3f0277d46">readHeader</a> () override</>}>
Read and validate the file header. <a href="#ae375ab166c92c7d215eea3a3f0277d46">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::error&#95;code</>}
  name={<><a href="#a79b534a93144bf69a0b42214dc7a62de">readNameTableSec</a> (bool IsMD5, bool FixedLengthMD5)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::error&#95;code</>}
  name={<><a href="#ab0c499972ec35ad7872cbceafa870704">readOneSection</a> (const uint8&#95;t &#42;Start, uint64&#95;t Size, const SecHdrTableEntry &amp;Entry)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::error&#95;code</>}
  name={<><a href="#ae9691c4736a7e6c9c247e997383771f4">readProfileSymbolList</a> ()</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::error&#95;code</>}
  name={<><a href="#a71d1634305839ada83dff4daee355a95">readSecHdrTable</a> ()</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::error&#95;code</>}
  name={<><a href="#a9f75738be57d967b82567631e51bd545">readSecHdrTableEntry</a> (uint64&#95;t Idx)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a749c376568365b892c49529c92ed7499">useFuncOffsetList</a> () const</>}>
Determine which container <a href="#a008cc734a7a06814838c697a958ee982">readFuncOffsetTable()</a> should populate, the list FuncOffsetList or the map FuncOffsetTable. <a href="#a749c376568365b892c49529c92ed7499">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::error&#95;code</>}
  name={<><a href="#ab62f4de0484410fceefb50f7f3acb84f">verifySPMagic</a> (uint64&#95;t Magic) override=0</>}>
</MembersIndexItem>

</MembersIndex>

## Private Member Functions Index

<MembersIndex>

<MembersIndexItem
  type={<>std::error&#95;code</>}
  name={<><a href="#a7c72cebeb1e19f6345d0cbea372b7223">decompressSection</a> (const uint8&#95;t &#42;SecStart, const uint64&#95;t SecSize, const uint8&#95;t &#42;&amp;DecompressBuf, uint64&#95;t &amp;DecompressBufSize)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::error&#95;code</>}
  name={<><a href="#a7ad95f5337c96a2fcbe6cee6df1002e9">read</a> (const DenseSet&lt; StringRef &gt; &amp;FuncsToUse, SampleProfileMap &amp;Profiles) override</>}>
Read the profiles on-demand for the given functions. <a href="#a7ad95f5337c96a2fcbe6cee6df1002e9">More...</a>
</MembersIndexItem>

</MembersIndex>

## Protected Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<>std::vector&lt; std::pair&lt; <a href="/docs/api/classes/llvm/sampleprof/samplecontext">SampleContext</a>, uint64&#95;t &gt; &gt;</>}
  name={<><a href="#a3c2242c2960947a793dfd7995fed38d5">FuncOffsetList</a></>}>
The list version of FuncOffsetTable. <a href="#a3c2242c2960947a793dfd7995fed38d5">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/densemap">DenseMap</a>&lt; <a href="/docs/api/classes/llvm/hash-code">hash&#95;code</a>, uint64&#95;t &gt;</>}
  name={<><a href="#adb05340f4153393eede497cb6210ec53">FuncOffsetTable</a></>}>
The table mapping from a function context&#39;s <a href="/docs/api/classes/llvm/md5">MD5</a> to the offset of its FunctionSample towards file start. <a href="#adb05340f4153393eede497cb6210ec53">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/denseset">DenseSet</a>&lt; <a href="/docs/api/classes/llvm/stringref">StringRef</a> &gt;</>}
  name={<><a href="#a4bf2495c6c16f17a97e4c69ce4a68ffd">FuncsToUse</a></>}>
The set containing the functions to use when compiling a module. <a href="#a4bf2495c6c16f17a97e4c69ce4a68ffd">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::unique&#95;ptr&lt; <a href="/docs/api/classes/llvm/sampleprof/profilesymbollist">ProfileSymbolList</a> &gt;</>}
  name={<><a href="#a634fd1a32a2d1831d0fc9c8874ca6abc">ProfSymList</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::vector&lt; <a href="/docs/api/structs/llvm/sampleprof/sechdrtableentry">SecHdrTableEntry</a> &gt;</>}
  name={<><a href="#a00abab1c900c6b6eec7e9dcb44d248fb">SecHdrTable</a></>}>
</MembersIndexItem>

</MembersIndex>

## Private Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/namespaces/llvm/#a8e612822d4ba7bb36c9c79582a567108">BumpPtrAllocator</a></>}
  name={<><a href="#a50b4a8ef050103d3e796a29054e467dc">Allocator</a></>}>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

SampleProfileReaderExtBinaryBase/SampleProfileWriterExtBinaryBase defines the basic structure of the extensible binary format.

The format is organized in sections except the magic and version number at the beginning. There is a section table before all the sections, and each entry in the table describes the entry type, start, size and attributes. The format in each section is defined by the section itself.

It is easy to add a new section while maintaining the backward compatibility of the profile. Nothing extra needs to be done. If we want to extend an existing section, like add cache misses information in addition to the sample count in the profile body, we can add a new section with the extension and retire the existing section, and we could choose to keep the parser of the old section if we want the reader to be able to read both new and old format profile.

SampleProfileReaderExtBinary/SampleProfileWriterExtBinary define the commonly used sections of a profile in extensible binary format. It is possible to define other types of profile inherited from SampleProfileReaderExtBinaryBase/SampleProfileWriterExtBinaryBase.

Definition at line 765 of file <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h">SampleProfReader.h</a>.

<SectionDefinition>

## Public Constructors

### SampleProfileReaderExtBinaryBase() {#ab6ffdd6df239a2e84804f57c4b7c7317}

<MemberDefinition
  prototype={<>llvm::sampleprof::SampleProfileReaderExtBinaryBase::SampleProfileReaderExtBinaryBase (std::unique&#95;ptr&lt; <a href="/docs/api/classes/llvm/memorybuffer">MemoryBuffer</a> &gt; B, <a href="/docs/api/classes/llvm/llvmcontext">LLVMContext</a> &amp; C, <a href="/docs/api/namespaces/llvm/sampleprof/#a373137ee5de445ffb3a1dbc685cf66ec">SampleProfileFormat</a> Format)</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h/#l00818">818</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h">SampleProfReader.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### collectFuncsFromModule() {#a0d0cdeb3cf9845558d9577f37fc326b3}

<MemberDefinition
  prototype="bool SampleProfileReaderExtBinaryBase::collectFuncsFromModule ()"
  labels = {["virtual"]}>
Collect functions with definitions in <a href="/docs/api/classes/llvm/module">Module</a> M.

Return true if the reader has been given a module.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h/#l00833">833</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h">SampleProfReader.h</a>, definition at line <a href="/docs/api/files/lib/lib/profiledata/sampleprofreader-cpp/#l00840">840</a> of file <a href="/docs/api/files/lib/lib/profiledata/sampleprofreader-cpp">SampleProfReader.cpp</a>.
</MemberDefinition>

### dumpSectionInfo() {#ab0f3253a66867b0999fc9d2be549268c}

<MemberDefinition
  prototype={<>bool SampleProfileReaderExtBinaryBase::dumpSectionInfo (<a href="/docs/api/classes/llvm/raw-ostream">raw&#95;ostream</a> &amp; OS=<a href="/docs/api/namespaces/llvm/#a7c46c742c31be54870e2038048e6b391">dbgs</a>())</>}
  labels = {["virtual"]}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h/#l00829">829</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h">SampleProfReader.h</a>, definition at line <a href="/docs/api/files/lib/lib/profiledata/sampleprofreader-cpp/#l01474">1474</a> of file <a href="/docs/api/files/lib/lib/profiledata/sampleprofreader-cpp">SampleProfReader.cpp</a>.
</MemberDefinition>

### getFileSize() {#ae5212e24c2c507eb51d7ad201800cbfc}

<MemberDefinition
  prototype={<>uint64&#95;t SampleProfileReaderExtBinaryBase::getFileSize ()</>}>
Get the total size of header and all sections.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h/#l00828">828</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h">SampleProfReader.h</a>, definition at line <a href="/docs/api/files/lib/lib/profiledata/sampleprofreader-cpp/#l01411">1411</a> of file <a href="/docs/api/files/lib/lib/profiledata/sampleprofreader-cpp">SampleProfReader.cpp</a>.
</MemberDefinition>

### getProfileSymbolList() {#aa05dfff9baa25b88665df394ec32f5a5}

<MemberDefinition
  prototype={<>std::unique&#95;ptr&lt; ProfileSymbolList &gt; llvm::sampleprof::SampleProfileReaderExtBinaryBase::getProfileSymbolList ()</>}
  labels = {["inline", "virtual"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h/#l00835">835</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h">SampleProfReader.h</a>.
</MemberDefinition>

### getSectionSize() {#a192f65175b8cab2ec3ce9ff6bfd38ebb}

<MemberDefinition
  prototype={<>uint64&#95;t SampleProfileReaderExtBinaryBase::getSectionSize (<a href="/docs/api/namespaces/llvm/sampleprof/#af9c6f2601a71ffce0953ca9df59a3e85">SecType</a> Type)</>}>
Get the total size of all <code><a href="/docs/api/classes/llvm/type">Type</a></code> sections.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h/#l00826">826</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h">SampleProfReader.h</a>, definition at line <a href="/docs/api/files/lib/lib/profiledata/sampleprofreader-cpp/#l01402">1402</a> of file <a href="/docs/api/files/lib/lib/profiledata/sampleprofreader-cpp">SampleProfReader.cpp</a>.
</MemberDefinition>

### readImpl() {#aa3075229a3db86f1b533efcc85f82d97}

<MemberDefinition
  prototype={<>std::error&#95;code SampleProfileReaderExtBinaryBase::readImpl ()</>}
  labels = {["virtual"]}>
Read sample profiles in extensible format from the associated file.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h/#l00823">823</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h">SampleProfReader.h</a>, definition at line <a href="/docs/api/files/lib/lib/profiledata/sampleprofreader-cpp/#l01045">1045</a> of file <a href="/docs/api/files/lib/lib/profiledata/sampleprofreader-cpp">SampleProfReader.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Protected Member Functions

### readCSNameTableSec() {#a272ffb93f3958019735d7a4ef9bf22d2}

<MemberDefinition
  prototype={<>std::error&#95;code SampleProfileReaderExtBinaryBase::readCSNameTableSec ()</>}
  labels = {["protected"]}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h/#l00789">789</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h">SampleProfReader.h</a>, definition at line <a href="/docs/api/files/lib/lib/profiledata/sampleprofreader-cpp/#l01203">1203</a> of file <a href="/docs/api/files/lib/lib/profiledata/sampleprofreader-cpp">SampleProfReader.cpp</a>.
</MemberDefinition>

### readCustomSection() {#a3603fe57b2751d6366d8fc860de40078}

<MemberDefinition
  prototype={<>virtual std::error&#95;code llvm::sampleprof::SampleProfileReaderExtBinaryBase::readCustomSection (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/structs/llvm/sampleprof/sechdrtableentry">SecHdrTableEntry</a> &amp; Entry)</>}
  labels = {["protected"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h/#l00797">797</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h">SampleProfReader.h</a>.
</MemberDefinition>

### readFuncMetadata() {#a58cedb1356bab80647af0fa48bc1750a}

<MemberDefinition
  prototype={<>std::error&#95;code SampleProfileReaderExtBinaryBase::readFuncMetadata (bool ProfileHasAttribute, <a href="/docs/api/classes/llvm/sampleprof/sampleprofilemap">SampleProfileMap</a> &amp; Profiles)</>}
  labels = {["protected"]}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h/#l00779">779</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h">SampleProfReader.h</a>, definition at line <a href="/docs/api/files/lib/lib/profiledata/sampleprofreader-cpp/#l01304">1304</a> of file <a href="/docs/api/files/lib/lib/profiledata/sampleprofreader-cpp">SampleProfReader.cpp</a>.
</MemberDefinition>

### readFuncMetadata() {#a077db87ff742498d2add620c1a7130db}

<MemberDefinition
  prototype={<>std::error&#95;code SampleProfileReaderExtBinaryBase::readFuncMetadata (bool ProfileHasAttribute)</>}
  labels = {["protected"]}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h/#l00781">781</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h">SampleProfReader.h</a>, definition at line <a href="/docs/api/files/lib/lib/profiledata/sampleprofreader-cpp/#l01325">1325</a> of file <a href="/docs/api/files/lib/lib/profiledata/sampleprofreader-cpp">SampleProfReader.cpp</a>.
</MemberDefinition>

### readFuncMetadata() {#a9b9e845ee3096f8360407bfa4f0f3d1a}

<MemberDefinition
  prototype={<>std::error&#95;code SampleProfileReaderExtBinaryBase::readFuncMetadata (bool ProfileHasAttribute, <a href="/docs/api/classes/llvm/sampleprof/functionsamples">FunctionSamples</a> &#42; FProfile)</>}
  labels = {["protected"]}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h/#l00782">782</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h">SampleProfReader.h</a>, definition at line <a href="/docs/api/files/lib/lib/profiledata/sampleprofreader-cpp/#l01247">1247</a> of file <a href="/docs/api/files/lib/lib/profiledata/sampleprofreader-cpp">SampleProfReader.cpp</a>.
</MemberDefinition>

### readFuncOffsetTable() {#a008cc734a7a06814838c697a958ee982}

<MemberDefinition
  prototype={<>std::error&#95;code SampleProfileReaderExtBinaryBase::readFuncOffsetTable ()</>}
  labels = {["protected"]}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h/#l00784">784</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h">SampleProfReader.h</a>, definition at line <a href="/docs/api/files/lib/lib/profiledata/sampleprofreader-cpp/#l00849">849</a> of file <a href="/docs/api/files/lib/lib/profiledata/sampleprofreader-cpp">SampleProfReader.cpp</a>.
</MemberDefinition>

### readFuncProfiles() {#a727bcceedcf0fe170cb330513c25ab2a}

<MemberDefinition
  prototype={<>std::error&#95;code SampleProfileReaderExtBinaryBase::readFuncProfiles ()</>}
  labels = {["protected"]}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h/#l00785">785</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h">SampleProfReader.h</a>, definition at line <a href="/docs/api/files/lib/lib/profiledata/sampleprofreader-cpp/#l00977">977</a> of file <a href="/docs/api/files/lib/lib/profiledata/sampleprofreader-cpp">SampleProfReader.cpp</a>.
</MemberDefinition>

### readFuncProfiles() {#a873e0df967c1a3a622ee9e25c1a6fa00}

<MemberDefinition
  prototype={<>std::error&#95;code SampleProfileReaderExtBinaryBase::readFuncProfiles (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/denseset">DenseSet</a>&lt; <a href="/docs/api/classes/llvm/stringref">StringRef</a> &gt; &amp; FuncsToUse, <a href="/docs/api/classes/llvm/sampleprof/sampleprofilemap">SampleProfileMap</a> &amp; Profiles)</>}
  labels = {["protected"]}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h/#l00786">786</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h">SampleProfReader.h</a>, definition at line <a href="/docs/api/files/lib/lib/profiledata/sampleprofreader-cpp/#l00886">886</a> of file <a href="/docs/api/files/lib/lib/profiledata/sampleprofreader-cpp">SampleProfReader.cpp</a>.
</MemberDefinition>

### readHeader() {#ae375ab166c92c7d215eea3a3f0277d46}

<MemberDefinition
  prototype={<>std::error&#95;code SampleProfileReaderExtBinaryBase::readHeader ()</>}
  labels = {["protected", "virtual"]}>
Read and validate the file header.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h/#l00792">792</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h">SampleProfReader.h</a>, definition at line <a href="/docs/api/files/lib/lib/profiledata/sampleprofreader-cpp/#l01387">1387</a> of file <a href="/docs/api/files/lib/lib/profiledata/sampleprofreader-cpp">SampleProfReader.cpp</a>.
</MemberDefinition>

### readNameTableSec() {#a79b534a93144bf69a0b42214dc7a62de}

<MemberDefinition
  prototype={<>std::error&#95;code SampleProfileReaderExtBinaryBase::readNameTableSec (bool IsMD5, bool FixedLengthMD5)</>}
  labels = {["protected"]}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h/#l00788">788</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h">SampleProfReader.h</a>, definition at line <a href="/docs/api/files/lib/lib/profiledata/sampleprofreader-cpp/#l01144">1144</a> of file <a href="/docs/api/files/lib/lib/profiledata/sampleprofreader-cpp">SampleProfReader.cpp</a>.
</MemberDefinition>

### readOneSection() {#ab0c499972ec35ad7872cbceafa870704}

<MemberDefinition
  prototype={<>std::error&#95;code SampleProfileReaderExtBinaryBase::readOneSection (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> uint8&#95;t &#42; Start, uint64&#95;t Size, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/structs/llvm/sampleprof/sechdrtableentry">SecHdrTableEntry</a> &amp; Entry)</>}
  labels = {["protected", "virtual"]}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h/#l00794">794</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h">SampleProfReader.h</a>, definition at line <a href="/docs/api/files/lib/lib/profiledata/sampleprofreader-cpp/#l00723">723</a> of file <a href="/docs/api/files/lib/lib/profiledata/sampleprofreader-cpp">SampleProfReader.cpp</a>.
</MemberDefinition>

### readProfileSymbolList() {#ae9691c4736a7e6c9c247e997383771f4}

<MemberDefinition
  prototype={<>std::error&#95;code SampleProfileReaderExtBinaryBase::readProfileSymbolList ()</>}
  labels = {["protected"]}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h/#l00790">790</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h">SampleProfReader.h</a>, definition at line <a href="/docs/api/files/lib/lib/profiledata/sampleprofreader-cpp/#l01007">1007</a> of file <a href="/docs/api/files/lib/lib/profiledata/sampleprofreader-cpp">SampleProfReader.cpp</a>.
</MemberDefinition>

### readSecHdrTable() {#a71d1634305839ada83dff4daee355a95}

<MemberDefinition
  prototype={<>std::error&#95;code SampleProfileReaderExtBinaryBase::readSecHdrTable ()</>}
  labels = {["protected"]}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h/#l00777">777</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h">SampleProfReader.h</a>, definition at line <a href="/docs/api/files/lib/lib/profiledata/sampleprofreader-cpp/#l01375">1375</a> of file <a href="/docs/api/files/lib/lib/profiledata/sampleprofreader-cpp">SampleProfReader.cpp</a>.
</MemberDefinition>

### readSecHdrTableEntry() {#a9f75738be57d967b82567631e51bd545}

<MemberDefinition
  prototype={<>std::error&#95;code SampleProfileReaderExtBinaryBase::readSecHdrTableEntry (uint64&#95;t Idx)</>}
  labels = {["protected"]}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h/#l00776">776</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h">SampleProfReader.h</a>, definition at line <a href="/docs/api/files/lib/lib/profiledata/sampleprofreader-cpp/#l01348">1348</a> of file <a href="/docs/api/files/lib/lib/profiledata/sampleprofreader-cpp">SampleProfReader.cpp</a>.
</MemberDefinition>

### useFuncOffsetList() {#a749c376568365b892c49529c92ed7499}

<MemberDefinition
  prototype="bool SampleProfileReaderExtBinaryBase::useFuncOffsetList () const"
  labels = {["protected"]}>
Determine which container <a href="#a008cc734a7a06814838c697a958ee982">readFuncOffsetTable()</a> should populate, the list FuncOffsetList or the map FuncOffsetTable.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h/#l00801">801</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h">SampleProfReader.h</a>, definition at line <a href="/docs/api/files/lib/lib/profiledata/sampleprofreader-cpp/#l00798">798</a> of file <a href="/docs/api/files/lib/lib/profiledata/sampleprofreader-cpp">SampleProfReader.cpp</a>.
</MemberDefinition>

### verifySPMagic() {#ab62f4de0484410fceefb50f7f3acb84f}

<MemberDefinition
  prototype={<>std::error&#95;code llvm::sampleprof::SampleProfileReaderExtBinaryBase::verifySPMagic (uint64&#95;t Magic)</>}
  labels = {["protected"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h/#l00793">793</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h">SampleProfReader.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Functions

### decompressSection() {#a7c72cebeb1e19f6345d0cbea372b7223}

<MemberDefinition
  prototype={<>std::error&#95;code SampleProfileReaderExtBinaryBase::decompressSection (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> uint8&#95;t &#42; SecStart, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> uint64&#95;t SecSize, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> uint8&#95;t &#42;&amp; DecompressBuf, uint64&#95;t &amp; DecompressBufSize)</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h/#l00767">767</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h">SampleProfReader.h</a>, definition at line <a href="/docs/api/files/lib/lib/profiledata/sampleprofreader-cpp/#l01018">1018</a> of file <a href="/docs/api/files/lib/lib/profiledata/sampleprofreader-cpp">SampleProfReader.cpp</a>.
</MemberDefinition>

### read() {#a7ad95f5337c96a2fcbe6cee6df1002e9}

<MemberDefinition
  prototype={<>std::error&#95;code SampleProfileReaderExtBinaryBase::read (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/denseset">DenseSet</a>&lt; <a href="/docs/api/classes/llvm/stringref">StringRef</a> &gt; &amp; FuncsToUse, <a href="/docs/api/classes/llvm/sampleprof/sampleprofilemap">SampleProfileMap</a> &amp; Profiles)</>}
  labels = {["virtual"]}>
Read the profiles on-demand for the given functions.

This is used after stale call graph matching finds new functions whose profiles aren&#39;t loaded at the beginning and we need to loaded the profiles explicitly for potential matching.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h/#l00844">844</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h">SampleProfReader.h</a>, definition at line <a href="/docs/api/files/lib/lib/profiledata/sampleprofreader-cpp/#l00827">827</a> of file <a href="/docs/api/files/lib/lib/profiledata/sampleprofreader-cpp">SampleProfReader.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Protected Member Attributes

### FuncOffsetList {#a3c2242c2960947a793dfd7995fed38d5}

<MemberDefinition
  prototype={<>std::vector&lt;std::pair&lt;SampleContext, uint64&#95;t&gt; &gt; llvm::sampleprof::SampleProfileReaderExtBinaryBase::FuncOffsetList</>}
  labels = {["protected"]}>
The list version of FuncOffsetTable.

This is used if every entry is being accessed.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h/#l00812">812</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h">SampleProfReader.h</a>.
</MemberDefinition>

### FuncOffsetTable {#adb05340f4153393eede497cb6210ec53}

<MemberDefinition
  prototype={<>DenseMap&lt;hash&#95;code, uint64&#95;t&gt; llvm::sampleprof::SampleProfileReaderExtBinaryBase::FuncOffsetTable</>}
  labels = {["protected"]}>
The table mapping from a function context&#39;s <a href="/docs/api/classes/llvm/md5">MD5</a> to the offset of its FunctionSample towards file start.

At most one of FuncOffsetTable and FuncOffsetList is populated.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h/#l00808">808</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h">SampleProfReader.h</a>.
</MemberDefinition>

### FuncsToUse {#a4bf2495c6c16f17a97e4c69ce4a68ffd}

<MemberDefinition
  prototype={<>DenseSet&lt;StringRef&gt; llvm::sampleprof::SampleProfileReaderExtBinaryBase::FuncsToUse</>}
  labels = {["protected"]}>
The set containing the functions to use when compiling a module.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h/#l00815">815</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h">SampleProfReader.h</a>.
</MemberDefinition>

### ProfSymList {#a634fd1a32a2d1831d0fc9c8874ca6abc}

<MemberDefinition
  prototype={<>std::unique&#95;ptr&lt;ProfileSymbolList&gt; llvm::sampleprof::SampleProfileReaderExtBinaryBase::ProfSymList</>}
  labels = {["protected"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h/#l00803">803</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h">SampleProfReader.h</a>.
</MemberDefinition>

### SecHdrTable {#a00abab1c900c6b6eec7e9dcb44d248fb}

<MemberDefinition
  prototype={<>std::vector&lt;SecHdrTableEntry&gt; llvm::sampleprof::SampleProfileReaderExtBinaryBase::SecHdrTable</>}
  labels = {["protected"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h/#l00775">775</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h">SampleProfReader.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Attributes

### Allocator {#a50b4a8ef050103d3e796a29054e467dc}

<MemberDefinition
  prototype="BumpPtrAllocator llvm::sampleprof::SampleProfileReaderExtBinaryBase::Allocator">

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h/#l00772">772</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h">SampleProfReader.h</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following files:

<ul>
<li><a href="/docs/api/files/include/include/llvm/include/llvm/profiledata/sampleprofreader-h">SampleProfReader.h</a></li>
<li><a href="/docs/api/files/lib/lib/profiledata/sampleprofreader-cpp">SampleProfReader.cpp</a></li>
</ul>

</DoxygenPage>
