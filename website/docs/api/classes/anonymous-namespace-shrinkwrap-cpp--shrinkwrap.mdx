---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/anonymous-namespace-shrinkwrap-cpp-/shrinkwrap
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'
import SectionUser from '@xpack/docusaurus-plugin-doxygen/components/SectionUser'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `ShrinkWrap` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>

Class to determine where the safe point to insert the prologue and epilogue are. <a href="#details">More...</a>

## Declaration

<CodeBlock>class anonymous_namespace{ShrinkWrap.cpp}::ShrinkWrap</CodeBlock>

## Base class

<MembersIndex>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/machinefunctionpass">MachineFunctionPass</a></>}>
<a href="/docs/api/classes/llvm/machinefunctionpass">MachineFunctionPass</a> - This class adapts the <a href="/docs/api/classes/llvm/functionpass">FunctionPass</a> interface to allow convenient creation of passes that operate on the <a href="/docs/api/classes/llvm/machinefunction">MachineFunction</a> representation. <a href="/docs/api/classes/llvm/machinefunctionpass/#details">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Typedefs Index

<MembersIndex>

<MembersIndexItem
  type="using"
  name={<><a href="#ab2894f17bfa80c1aeed4a1c85fef046e">SetOfRegs</a> = <a href="/docs/api/classes/llvm/smallsetvector">SmallSetVector</a>&lt; unsigned, 16 &gt;</>}>
</MembersIndexItem>

</MembersIndex>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a17de0c0936c0f365ccbd2deb62e4ca6f">ShrinkWrap</a> ()</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="void"
  name={<><a href="#a269884a1a9c68cf90e38daf6a0110bc4">getAnalysisUsage</a> (AnalysisUsage &amp;AU) const override</>}>
getAnalysisUsage - Subclasses that override getAnalysisUsage must call this. <a href="#a269884a1a9c68cf90e38daf6a0110bc4">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/stringref">StringRef</a></>}
  name={<><a href="#a8e1ccccd7c3448adc0510b54477dbf43">getPassName</a> () const override</>}>
getPassName - Return a nice clean name for a pass. <a href="#a8e1ccccd7c3448adc0510b54477dbf43">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machinefunctionproperties">MachineFunctionProperties</a></>}
  name={<><a href="#ac14d58b234f78072b3f0f63b642e5bd1">getRequiredProperties</a> () const override</>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a0b77b3bd867840460e8de5e83245240e">runOnMachineFunction</a> (MachineFunction &amp;MF) override</>}>
Perform the shrink-wrapping analysis and update the <a href="/docs/api/classes/llvm/machineframeinfo">MachineFrameInfo</a> attached to <code>MF</code> with the results. <a href="#a0b77b3bd867840460e8de5e83245240e">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="bool"
  name={<><a href="#a0510f4a451e5097755414efff49b3afb">ArePointsInteresting</a> () const</>}>
Check whether or not Save and Restore points are still interesting for shrink-wrapping. <a href="#a0510f4a451e5097755414efff49b3afb">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#add19b93aa4183e6a909388348e2bca93">checkIfRestoreSplittable</a> (const MachineBasicBlock &#42;CurRestore, const DenseSet&lt; const MachineBasicBlock &#42; &gt; &amp;ReachableByDirty, SmallVectorImpl&lt; MachineBasicBlock &#42; &gt; &amp;DirtyPreds, SmallVectorImpl&lt; MachineBasicBlock &#42; &gt; &amp;CleanPreds, const TargetInstrInfo &#42;TII, RegScavenger &#42;RS)</>}>
This function analyzes if the restore point can split to create a new restore point. <a href="#add19b93aa4183e6a909388348e2bca93">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/smallsetvector">SetOfRegs</a> &amp;</>}
  name={<><a href="#a875e64b7e34595adb2d0f39a529a4200">getCurrentCSRs</a> (RegScavenger &#42;RS) const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#af56044cdf1e3c5aebdba9a950d022a26">init</a> (MachineFunction &amp;MF)</>}>
Initialize the pass for <code>MF</code>. <a href="#af56044cdf1e3c5aebdba9a950d022a26">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a7a213fdee0488f4816a25e29d05f31dc">performShrinkWrapping</a> (const ReversePostOrderTraversal&lt; MachineBasicBlock &#42; &gt; &amp;RPOT, RegScavenger &#42;RS)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#ac2fab74d2cbc257950bec7f7d5d7e0e2">postShrinkWrapping</a> (bool HasCandidate, MachineFunction &amp;MF, RegScavenger &#42;RS)</>}>
This function tries to split the restore point if doing so can shrink the save point further. <a href="#ac2fab74d2cbc257950bec7f7d5d7e0e2">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a888194cd1fb71ed98f19ba7f5d72ad5d">updateSaveRestorePoints</a> (MachineBasicBlock &amp;MBB, RegScavenger &#42;RS)</>}>
Update the Save and Restore points such that <code>MBB</code> is in the region that is dominated by Save and post-dominated by Restore and Save and Restore still match the safe point definition. <a href="#a888194cd1fb71ed98f19ba7f5d72ad5d">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a1732fb2fb7a25828eb4064c5009627db">useOrDefCSROrFI</a> (const MachineInstr &amp;MI, RegScavenger &#42;RS, bool StackAddressUsed) const</>}>
Check if <code>MI</code> uses or defines a callee-saved register or a frame index. <a href="#a1732fb2fb7a25828eb4064c5009627db">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/smallsetvector">SetOfRegs</a></>}
  name={<><a href="#a062013e392728b0b02d6a141cdba0059">CurrentCSRs</a></>}>
Registers that need to be saved for the current function. <a href="#a062013e392728b0b02d6a141cdba0059">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;</>}
  name={<><a href="#ad25dda938e387fe5bd6bf144557694f5">Entry</a> = nullptr</>}>
Entry block. <a href="#ad25dda938e387fe5bd6bf144557694f5">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/blockfrequency">BlockFrequency</a></>}
  name={<><a href="#a687e4fea61c45cb59fdaab057b89dc3f">EntryFreq</a></>}>
Frequency of the Entry block. <a href="#a687e4fea61c45cb59fdaab057b89dc3f">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="unsigned"
  name={<><a href="#afe2e3d0f89cf5a7c827b23dff7ae5cb2">FrameDestroyOpcode</a> = ~0u</>}>
Current opcode for frame destroy. <a href="#afe2e3d0f89cf5a7c827b23dff7ae5cb2">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="unsigned"
  name={<><a href="#ac54bd3a95adc02b521a4a65ad356afd1">FrameSetupOpcode</a> = ~0u</>}>
Current opcode for frame setup. <a href="#ac54bd3a95adc02b521a4a65ad356afd1">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machinefunction">MachineFunction</a> &#42;</>}
  name={<><a href="#ab29c4875dc53f320005bb74201bc6a96">MachineFunc</a> = nullptr</>}>
Current <a href="/docs/api/classes/llvm/machinefunction">MachineFunction</a>. <a href="#ab29c4875dc53f320005bb74201bc6a96">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machineblockfrequencyinfo">MachineBlockFrequencyInfo</a> &#42;</>}
  name={<><a href="#ae18c0d65756ced818d05109cf173c5e7">MBFI</a> = nullptr</>}>
Hold the information of the basic block frequency. <a href="#ae18c0d65756ced818d05109cf173c5e7">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machinedominatortree">MachineDominatorTree</a> &#42;</>}
  name={<><a href="#a56fd32dc5d379dbdb3d54ca879111247">MDT</a> = nullptr</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machineloopinfo">MachineLoopInfo</a> &#42;</>}
  name={<><a href="#aa151ddc76cd690a27ffea715143067c2">MLI</a> = nullptr</>}>
Hold the loop information. <a href="#aa151ddc76cd690a27ffea715143067c2">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machinepostdominatortree">MachinePostDominatorTree</a> &#42;</>}
  name={<><a href="#a37be96055b36809390f339a732fbf000">MPDT</a> = nullptr</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machineoptimizationremarkemitter">MachineOptimizationRemarkEmitter</a> &#42;</>}
  name={<><a href="#aba3438fa0e9a515a93f2c2762371c061">ORE</a> = nullptr</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/registerclassinfo">RegisterClassInfo</a></>}
  name={<><a href="#a6d64d2669ea5aeb435a49a0eaa1c6a16">RCI</a></>}>
Hold callee-saved information. <a href="#a6d64d2669ea5aeb435a49a0eaa1c6a16">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;</>}
  name={<><a href="#a3b1a1e79190fb76b27ee917a8142ccc5">Restore</a> = nullptr</>}>
Current safe point found for the epilogue. <a href="#a3b1a1e79190fb76b27ee917a8142ccc5">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;</>}
  name={<><a href="#adf217bab49b9326746d4b751a298a121">Save</a> = nullptr</>}>
Current safe point found for the prologue. <a href="#adf217bab49b9326746d4b751a298a121">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/register">Register</a></>}
  name={<><a href="#adcf8dc46944674848680c12f4dc3fcef">SP</a></>}>
Stack pointer register, used by llvm.&#123;savestack,restorestack&#125;. <a href="#adcf8dc46944674848680c12f4dc3fcef">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/bitvector">BitVector</a></>}
  name={<><a href="#adf0ac3f42557619356198927391ba205">StackAddressUsedBlockInfo</a></>}>
Is <code>true</code> for the block numbers where we assume possible stack accesses or computation of stack-relative addresses on any CFG path including the block itself. <a href="#adf0ac3f42557619356198927391ba205">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Static Functions Index

<MembersIndex>

<MembersIndexItem
  type="bool"
  name={<><a href="#a1b81e46cefcbee11c702257afe1fd6e9">isShrinkWrapEnabled</a> (const MachineFunction &amp;MF)</>}>
Check if shrink wrapping is enabled for this target and function. <a href="#a1b81e46cefcbee11c702257afe1fd6e9">More...</a>
</MembersIndexItem>

</MembersIndex>

## Public Static Attributes Index

<MembersIndex>

<MembersIndexItem
  type="char"
  name={<><a href="#a84c40a26a7a52840d78b42313db93027">ID</a> = 0</>}>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

Class to determine where the safe point to insert the prologue and epilogue are.

Unlike the paper from Fred C. Chow, PLDI&#39;88, that introduces the shrink-wrapping term for prologue/epilogue placement, this pass does not rely on expensive data-flow analysis. Instead we use the dominance properties and loop information to decide which point are safe for such insertion.

Definition at line 113 of file <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp">ShrinkWrap.cpp</a>.

<SectionDefinition>

## Private Member Typedefs

### SetOfRegs {#ab2894f17bfa80c1aeed4a1c85fef046e}

<MemberDefinition
  prototype={<>using anonymous&#95;namespace&#123;ShrinkWrap.cpp&#125;::ShrinkWrap::SetOfRegs =  SmallSetVector&lt;unsigned, 16&gt;</>}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp/#l00155">155</a> of file <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp">ShrinkWrap.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Constructors

### ShrinkWrap() {#a17de0c0936c0f365ccbd2deb62e4ca6f}

<MemberDefinition
  prototype={<>anonymous&#95;namespace&#123;ShrinkWrap.cpp&#125;::ShrinkWrap::ShrinkWrap ()</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp/#l00257">257</a> of file <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp">ShrinkWrap.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### getAnalysisUsage() {#a269884a1a9c68cf90e38daf6a0110bc4}

<MemberDefinition
  prototype={<>void anonymous&#95;namespace&#123;ShrinkWrap.cpp&#125;::ShrinkWrap::getAnalysisUsage (<a href="/docs/api/classes/llvm/analysisusage">AnalysisUsage</a> &amp; AU) const</>}
  labels = {["inline", "virtual"]}>
getAnalysisUsage - Subclasses that override getAnalysisUsage must call this.

For MachineFunctionPasses, calling AU.preservesCFG() indicates that the pass does not modify the MachineBasicBlock CFG.

Definition at line <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp/#l00261">261</a> of file <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp">ShrinkWrap.cpp</a>.
</MemberDefinition>

### getPassName() {#a8e1ccccd7c3448adc0510b54477dbf43}

<MemberDefinition
  prototype={<>StringRef anonymous&#95;namespace&#123;ShrinkWrap.cpp&#125;::ShrinkWrap::getPassName () const</>}
  labels = {["inline", "virtual"]}>
getPassName - Return a nice clean name for a pass.

This usually implemented in terms of the name that is registered by one of the Registration templates, but can be overloaded directly.

Definition at line <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp/#l00276">276</a> of file <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp">ShrinkWrap.cpp</a>.
</MemberDefinition>

### getRequiredProperties() {#ac14d58b234f78072b3f0f63b642e5bd1}

<MemberDefinition
  prototype={<>MachineFunctionProperties anonymous&#95;namespace&#123;ShrinkWrap.cpp&#125;::ShrinkWrap::getRequiredProperties () const</>}
  labels = {["inline", "virtual"]}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp/#l00271">271</a> of file <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp">ShrinkWrap.cpp</a>.
</MemberDefinition>

### runOnMachineFunction() {#a0b77b3bd867840460e8de5e83245240e}

<MemberDefinition
  prototype={<>bool ShrinkWrap::runOnMachineFunction (<a href="/docs/api/classes/llvm/machinefunction">MachineFunction</a> &amp; MF)</>}
  labels = {["virtual"]}>
Perform the shrink-wrapping analysis and update the <a href="/docs/api/classes/llvm/machineframeinfo">MachineFrameInfo</a> attached to <code>MF</code> with the results.

Definition at line <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp/#l00280">280</a> of file <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp">ShrinkWrap.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Functions

### ArePointsInteresting() {#a0510f4a451e5097755414efff49b3afb}

<MemberDefinition
  prototype={<>bool anonymous&#95;namespace&#123;ShrinkWrap.cpp&#125;::ShrinkWrap::ArePointsInteresting () const</>}
  labels = {["inline"]}>
Check whether or not Save and Restore points are still interesting for shrink-wrapping.

Definition at line <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp/#l00249">249</a> of file <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp">ShrinkWrap.cpp</a>.
</MemberDefinition>

### checkIfRestoreSplittable() {#add19b93aa4183e6a909388348e2bca93}

<MemberDefinition
  prototype={<>bool ShrinkWrap::checkIfRestoreSplittable (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42; CurRestore, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/denseset">DenseSet</a>&lt; <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42; &gt; &amp; ReachableByDirty, <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42; &gt; &amp; DirtyPreds, <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42; &gt; &amp; CleanPreds, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/targetinstrinfo">TargetInstrInfo</a> &#42; TII, <a href="/docs/api/classes/llvm/regscavenger">RegScavenger</a> &#42; RS)</>}>
This function analyzes if the restore point can split to create a new restore point.

This function collects
<ul>
<li><a href="/docs/api/classes/llvm/any">Any</a> preds of current restore that are reachable by callee save/FI blocks</li>
</ul>

<ul>
<li>indicated by DirtyPreds</li>
</ul>

<ul>
<li><a href="/docs/api/classes/llvm/any">Any</a> preds of current restore that are not DirtyPreds - indicated by CleanPreds Both sets should be non-empty for considering restore point split.</li>
</ul>

Definition at line <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp/#l00217">217</a> of file <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp">ShrinkWrap.cpp</a>.
</MemberDefinition>

### getCurrentCSRs() {#a875e64b7e34595adb2d0f39a529a4200}

<MemberDefinition
  prototype={<>const SetOfRegs &amp; anonymous&#95;namespace&#123;ShrinkWrap.cpp&#125;::ShrinkWrap::getCurrentCSRs (<a href="/docs/api/classes/llvm/regscavenger">RegScavenger</a> &#42; RS) const</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp/#l00176">176</a> of file <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp">ShrinkWrap.cpp</a>.
</MemberDefinition>

### init() {#af56044cdf1e3c5aebdba9a950d022a26}

<MemberDefinition
  prototype={<>void anonymous&#95;namespace&#123;ShrinkWrap.cpp&#125;::ShrinkWrap::init (<a href="/docs/api/classes/llvm/machinefunction">MachineFunction</a> &amp; MF)</>}
  labels = {["inline"]}>
Initialize the pass for <code>MF</code>.

Definition at line <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp/#l00225">225</a> of file <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp">ShrinkWrap.cpp</a>.
</MemberDefinition>

### performShrinkWrapping() {#a7a213fdee0488f4816a25e29d05f31dc}

<MemberDefinition
  prototype={<>bool ShrinkWrap::performShrinkWrapping (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/reversepostordertraversal">ReversePostOrderTraversal</a>&lt; <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42; &gt; &amp; RPOT, <a href="/docs/api/classes/llvm/regscavenger">RegScavenger</a> &#42; RS)</>}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp/#l00200">200</a> of file <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp">ShrinkWrap.cpp</a>.
</MemberDefinition>

### postShrinkWrapping() {#ac2fab74d2cbc257950bec7f7d5d7e0e2}

<MemberDefinition
  prototype={<>bool ShrinkWrap::postShrinkWrapping (bool HasCandidate, <a href="/docs/api/classes/llvm/machinefunction">MachineFunction</a> &amp; MF, <a href="/docs/api/classes/llvm/regscavenger">RegScavenger</a> &#42; RS)</>}>
This function tries to split the restore point if doing so can shrink the save point further.

<SectionUser title="Returns">
True if restore point is split.
</SectionUser>

Definition at line <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp/#l00206">206</a> of file <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp">ShrinkWrap.cpp</a>.
</MemberDefinition>

### updateSaveRestorePoints() {#a888194cd1fb71ed98f19ba7f5d72ad5d}

<MemberDefinition
  prototype={<>void ShrinkWrap::updateSaveRestorePoints (<a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &amp; MBB, <a href="/docs/api/classes/llvm/regscavenger">RegScavenger</a> &#42; RS)</>}>
Update the Save and Restore points such that <code>MBB</code> is in the region that is dominated by Save and post-dominated by Restore and Save and Restore still match the safe point definition.

Such point may not exist and Save and/or Restore may be null after this call.

Definition at line <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp/#l00196">196</a> of file <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp">ShrinkWrap.cpp</a>.
</MemberDefinition>

### useOrDefCSROrFI() {#a1732fb2fb7a25828eb4064c5009627db}

<MemberDefinition
  prototype={<>bool ShrinkWrap::useOrDefCSROrFI (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &amp; MI, <a href="/docs/api/classes/llvm/regscavenger">RegScavenger</a> &#42; RS, bool StackAddressUsed) const</>}>
Check if <code>MI</code> uses or defines a callee-saved register or a frame index.

If this is the case, this means <code>MI</code> must happen after Save and before Restore.

Definition at line <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp/#l00173">173</a> of file <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp">ShrinkWrap.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Attributes

### CurrentCSRs {#a062013e392728b0b02d6a141cdba0059}

<MemberDefinition
  prototype={<>SetOfRegs anonymous&#95;namespace&#123;ShrinkWrap.cpp&#125;::ShrinkWrap::CurrentCSRs</>}
  labels = {["mutable"]}>
Registers that need to be saved for the current function.

Definition at line <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp/#l00158">158</a> of file <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp">ShrinkWrap.cpp</a>.
</MemberDefinition>

### Entry {#ad25dda938e387fe5bd6bf144557694f5}

<MemberDefinition
  prototype={<>const MachineBasicBlock&#42; anonymous&#95;namespace&#123;ShrinkWrap.cpp&#125;::ShrinkWrap::Entry = nullptr</>}>
Entry block.

Definition at line <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp/#l00153">153</a> of file <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp">ShrinkWrap.cpp</a>.
</MemberDefinition>

### EntryFreq {#a687e4fea61c45cb59fdaab057b89dc3f}

<MemberDefinition
  prototype={<>BlockFrequency anonymous&#95;namespace&#123;ShrinkWrap.cpp&#125;::ShrinkWrap::EntryFreq</>}>
Frequency of the Entry block.

Definition at line <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp/#l00141">141</a> of file <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp">ShrinkWrap.cpp</a>.
</MemberDefinition>

### FrameDestroyOpcode {#afe2e3d0f89cf5a7c827b23dff7ae5cb2}

<MemberDefinition
  prototype={<>unsigned anonymous&#95;namespace&#123;ShrinkWrap.cpp&#125;::ShrinkWrap::FrameDestroyOpcode = ~0u</>}>
Current opcode for frame destroy.

Definition at line <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp/#l00147">147</a> of file <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp">ShrinkWrap.cpp</a>.
</MemberDefinition>

### FrameSetupOpcode {#ac54bd3a95adc02b521a4a65ad356afd1}

<MemberDefinition
  prototype={<>unsigned anonymous&#95;namespace&#123;ShrinkWrap.cpp&#125;::ShrinkWrap::FrameSetupOpcode = ~0u</>}>
Current opcode for frame setup.

Definition at line <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp/#l00144">144</a> of file <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp">ShrinkWrap.cpp</a>.
</MemberDefinition>

### MachineFunc {#ab29c4875dc53f320005bb74201bc6a96}

<MemberDefinition
  prototype={<>MachineFunction&#42; anonymous&#95;namespace&#123;ShrinkWrap.cpp&#125;::ShrinkWrap::MachineFunc = nullptr</>}>
Current <a href="/docs/api/classes/llvm/machinefunction">MachineFunction</a>.

Definition at line <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp/#l00161">161</a> of file <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp">ShrinkWrap.cpp</a>.
</MemberDefinition>

### MBFI {#ae18c0d65756ced818d05109cf173c5e7}

<MemberDefinition
  prototype={<>MachineBlockFrequencyInfo&#42; anonymous&#95;namespace&#123;ShrinkWrap.cpp&#125;::ShrinkWrap::MBFI = nullptr</>}>
Hold the information of the basic block frequency.

<a href="/docs/api/classes/llvm/use">Use</a> to check the profitability of the new points.

Definition at line <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp/#l00131">131</a> of file <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp">ShrinkWrap.cpp</a>.
</MemberDefinition>

### MDT {#a56fd32dc5d379dbdb3d54ca879111247}

<MemberDefinition
  prototype={<>MachineDominatorTree&#42; anonymous&#95;namespace&#123;ShrinkWrap.cpp&#125;::ShrinkWrap::MDT = nullptr</>}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp/#l00116">116</a> of file <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp">ShrinkWrap.cpp</a>.
</MemberDefinition>

### MLI {#aa151ddc76cd690a27ffea715143067c2}

<MemberDefinition
  prototype={<>MachineLoopInfo&#42; anonymous&#95;namespace&#123;ShrinkWrap.cpp&#125;::ShrinkWrap::MLI = nullptr</>}>
Hold the loop information.

Used to determine if Save and Restore are in the same loop.

Definition at line <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp/#l00135">135</a> of file <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp">ShrinkWrap.cpp</a>.
</MemberDefinition>

### MPDT {#a37be96055b36809390f339a732fbf000}

<MemberDefinition
  prototype={<>MachinePostDominatorTree&#42; anonymous&#95;namespace&#123;ShrinkWrap.cpp&#125;::ShrinkWrap::MPDT = nullptr</>}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp/#l00117">117</a> of file <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp">ShrinkWrap.cpp</a>.
</MemberDefinition>

### ORE {#aba3438fa0e9a515a93f2c2762371c061}

<MemberDefinition
  prototype={<>MachineOptimizationRemarkEmitter&#42; anonymous&#95;namespace&#123;ShrinkWrap.cpp&#125;::ShrinkWrap::ORE = nullptr</>}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp/#l00138">138</a> of file <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp">ShrinkWrap.cpp</a>.
</MemberDefinition>

### RCI {#a6d64d2669ea5aeb435a49a0eaa1c6a16}

<MemberDefinition
  prototype={<>RegisterClassInfo anonymous&#95;namespace&#123;ShrinkWrap.cpp&#125;::ShrinkWrap::RCI</>}>
Hold callee-saved information.

Definition at line <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp/#l00115">115</a> of file <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp">ShrinkWrap.cpp</a>.
</MemberDefinition>

### Restore {#a3b1a1e79190fb76b27ee917a8142ccc5}

<MemberDefinition
  prototype={<>MachineBasicBlock&#42; anonymous&#95;namespace&#123;ShrinkWrap.cpp&#125;::ShrinkWrap::Restore = nullptr</>}>
Current safe point found for the epilogue.

The epilogue will be inserted before the first terminator instruction in this basic block.

Definition at line <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp/#l00127">127</a> of file <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp">ShrinkWrap.cpp</a>.
</MemberDefinition>

### Save {#adf217bab49b9326746d4b751a298a121}

<MemberDefinition
  prototype={<>MachineBasicBlock&#42; anonymous&#95;namespace&#123;ShrinkWrap.cpp&#125;::ShrinkWrap::Save = nullptr</>}>
Current safe point found for the prologue.

The prologue will be inserted before the first instruction in this basic block.

Definition at line <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp/#l00122">122</a> of file <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp">ShrinkWrap.cpp</a>.
</MemberDefinition>

### SP {#adcf8dc46944674848680c12f4dc3fcef}

<MemberDefinition
  prototype={<>Register anonymous&#95;namespace&#123;ShrinkWrap.cpp&#125;::ShrinkWrap::SP</>}>
Stack pointer register, used by llvm.&#123;savestack,restorestack&#125;.

Definition at line <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp/#l00150">150</a> of file <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp">ShrinkWrap.cpp</a>.
</MemberDefinition>

### StackAddressUsedBlockInfo {#adf0ac3f42557619356198927391ba205}

<MemberDefinition
  prototype={<>BitVector anonymous&#95;namespace&#123;ShrinkWrap.cpp&#125;::ShrinkWrap::StackAddressUsedBlockInfo</>}>
Is <code>true</code> for the block numbers where we assume possible stack accesses or computation of stack-relative addresses on any CFG path including the block itself.

Is <code>false</code> for basic blocks where we can guarantee the opposite. False positives won&#39;t lead to incorrect analysis results, therefore this approach is fair.

Definition at line <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp/#l00168">168</a> of file <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp">ShrinkWrap.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Static Functions

### isShrinkWrapEnabled() {#a1b81e46cefcbee11c702257afe1fd6e9}

<MemberDefinition
  prototype={<>bool ShrinkWrap::isShrinkWrapEnabled (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/machinefunction">MachineFunction</a> &amp; MF)</>}
  labels = {["static"]}>
Check if shrink wrapping is enabled for this target and function.

Definition at line <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp/#l00252">252</a> of file <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp">ShrinkWrap.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Static Attributes

### ID {#a84c40a26a7a52840d78b42313db93027}

<MemberDefinition
  prototype="char ShrinkWrap::ID = 0"
  labels = {["static"]}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp/#l00255">255</a> of file <a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp">ShrinkWrap.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following file:

<ul>
<li><a href="/docs/api/files/lib/lib/codegen/shrinkwrap-cpp">ShrinkWrap.cpp</a></li>
</ul>

</DoxygenPage>
