---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/llvm/orc/compileondemandlayer
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `CompileOnDemandLayer` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>



## Declaration

<CodeBlock>class llvm::orc::CompileOnDemandLayer</CodeBlock>

## Included Headers

<IncludesList>
<IncludesListItem
  filePath="llvm/ExecutionEngine/Orc/CompileOnDemandLayer.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/compileondemandlayer-h"
  isLocal="true" />
</IncludesList>

## Base class

<MembersIndex>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/orc/irlayer">IRLayer</a></>}>
Interface for layers that accept LLVM IR. <a href="/docs/api/classes/llvm/orc/irlayer/#details">More...</a>
</MembersIndexItem>

</MembersIndex>

## Public Member Typedefs Index

<MembersIndex>

<MembersIndexItem
  type="using"
  name={<><a href="#a8bccd12782700db63367128dc4a3c89d">IndirectStubsManagerBuilder</a> = std::function&lt; std::unique&#95;ptr&lt; <a href="/docs/api/classes/llvm/orc/indirectstubsmanager">IndirectStubsManager</a> &gt;()&gt;</>}>
Builder for IndirectStubsManagers. <a href="#a8bccd12782700db63367128dc4a3c89d">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Typedefs Index

<MembersIndex>

<MembersIndexItem
  type="using"
  name={<><a href="#a1c0f4e08fae802417c25853b6bf0d32e">PerDylibResourcesMap</a> = std::map&lt; <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/orc/jitdylib">JITDylib</a> &#42;, PerDylibResources &gt;</>}>
</MembersIndexItem>

</MembersIndex>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a60b3749f91b86e4e27270e69d82fb330">CompileOnDemandLayer</a> (ExecutionSession &amp;ES, IRLayer &amp;BaseLayer, LazyCallThroughManager &amp;LCTMgr, IndirectStubsManagerBuilder BuildIndirectStubsManager)</>}>
Construct a <a href="/docs/api/classes/llvm/orc/compileondemandlayer">CompileOnDemandLayer</a>. <a href="#a60b3749f91b86e4e27270e69d82fb330">More...</a>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="void"
  name={<><a href="#a58cc5a656f5d4cc0a32d58494dcb860b">emit</a> (std::unique&#95;ptr&lt; MaterializationResponsibility &gt; R, ThreadSafeModule TSM) override</>}>
Emits the given module. <a href="#a58cc5a656f5d4cc0a32d58494dcb860b">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a7c507a2cc8f50d7dbf01908e8b3be329">setImplMap</a> (ImplSymbolMap &#42;Imp)</>}>
Sets the <a href="/docs/api/classes/llvm/orc/implsymbolmap">ImplSymbolMap</a>. <a href="#a7c507a2cc8f50d7dbf01908e8b3be329">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Functions Index

<MembersIndex>

<MembersIndexItem
  type={<>PerDylibResources &amp;</>}
  name={<><a href="#a77c00dafd3139f077a126440836bfec7">getPerDylibResources</a> (JITDylib &amp;TargetD)</>}>
</MembersIndexItem>

</MembersIndex>

## Private Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/orc/implsymbolmap">ImplSymbolMap</a> &#42;</>}
  name={<><a href="#acca14270156e38b136d14a13088e4fc9">AliaseeImpls</a> = nullptr</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/orc/irlayer">IRLayer</a> &amp;</>}
  name={<><a href="#aadc665f3e210437af16f0ce2e32c1b7f">BaseLayer</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="#a8bccd12782700db63367128dc4a3c89d">IndirectStubsManagerBuilder</a></>}
  name={<><a href="#ad630f89b0b981167f422f5aa772aca29">BuildIndirectStubsManager</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type="std::mutex"
  name={<><a href="#a9d66e414a61eff40f081b97b13900485">CODLayerMutex</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type="PerDylibResourcesMap"
  name={<><a href="#aa2191fae7c4b84c78dd2fd4dce703a2d">DylibResources</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/orc/lazycallthroughmanager">LazyCallThroughManager</a> &amp;</>}
  name={<><a href="#a135d3a71a90412e65c9dadcabfc86107">LCTMgr</a></>}>
</MembersIndexItem>

</MembersIndex>


Definition at line 55 of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/compileondemandlayer-h">CompileOnDemandLayer.h</a>.

<SectionDefinition>

## Public Member Typedefs

### IndirectStubsManagerBuilder {#a8bccd12782700db63367128dc4a3c89d}

<MemberDefinition
  prototype={<>using llvm::orc::CompileOnDemandLayer::IndirectStubsManagerBuilder = 
      std::function&lt;std::unique&#95;ptr&lt;IndirectStubsManager&gt;()&gt;</>}>
Builder for IndirectStubsManagers.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/compileondemandlayer-h/#l00058">58</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/compileondemandlayer-h">CompileOnDemandLayer.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Typedefs

### PerDylibResourcesMap {#a1c0f4e08fae802417c25853b6bf0d32e}

<MemberDefinition
  prototype={<>using llvm::orc::CompileOnDemandLayer::PerDylibResourcesMap =  std::map&lt;const JITDylib &#42;, PerDylibResources&gt;</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/compileondemandlayer-h/#l00087">87</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/compileondemandlayer-h">CompileOnDemandLayer.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Constructors

### CompileOnDemandLayer() {#a60b3749f91b86e4e27270e69d82fb330}

<MemberDefinition
  prototype={<>CompileOnDemandLayer::CompileOnDemandLayer (<a href="/docs/api/classes/llvm/orc/executionsession">ExecutionSession</a> &amp; ES, <a href="/docs/api/classes/llvm/orc/irlayer">IRLayer</a> &amp; BaseLayer, <a href="/docs/api/classes/llvm/orc/lazycallthroughmanager">LazyCallThroughManager</a> &amp; LCTMgr, <a href="#a8bccd12782700db63367128dc4a3c89d">IndirectStubsManagerBuilder</a> BuildIndirectStubsManager)</>}>
Construct a <a href="/docs/api/classes/llvm/orc/compileondemandlayer">CompileOnDemandLayer</a>.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/compileondemandlayer-h/#l00062">62</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/compileondemandlayer-h">CompileOnDemandLayer.h</a>, definition at line <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/compileondemandlayer-cpp/#l00016">16</a> of file <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/compileondemandlayer-cpp">CompileOnDemandLayer.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### emit() {#a58cc5a656f5d4cc0a32d58494dcb860b}

<MemberDefinition
  prototype={<>void CompileOnDemandLayer::emit (std::unique&#95;ptr&lt; <a href="/docs/api/classes/llvm/orc/materializationresponsibility">MaterializationResponsibility</a> &gt; R, <a href="/docs/api/classes/llvm/orc/threadsafemodule">ThreadSafeModule</a> TSM)</>}
  labels = {["virtual"]}>
Emits the given module.

This should not be called by clients: it will be called by the JIT when a definition added via the add method is requested.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/compileondemandlayer-h/#l00070">70</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/compileondemandlayer-h">CompileOnDemandLayer.h</a>, definition at line <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/compileondemandlayer-cpp/#l00027">27</a> of file <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/compileondemandlayer-cpp">CompileOnDemandLayer.cpp</a>.
</MemberDefinition>

### setImplMap() {#a7c507a2cc8f50d7dbf01908e8b3be329}

<MemberDefinition
  prototype={<>void CompileOnDemandLayer::setImplMap (<a href="/docs/api/classes/llvm/orc/implsymbolmap">ImplSymbolMap</a> &#42; Imp)</>}>
Sets the <a href="/docs/api/classes/llvm/orc/implsymbolmap">ImplSymbolMap</a>.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/compileondemandlayer-h/#l00066">66</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/compileondemandlayer-h">CompileOnDemandLayer.h</a>, definition at line <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/compileondemandlayer-cpp/#l00023">23</a> of file <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/compileondemandlayer-cpp">CompileOnDemandLayer.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Functions

### getPerDylibResources() {#a77c00dafd3139f077a126440836bfec7}

<MemberDefinition
  prototype={<>CompileOnDemandLayer::PerDylibResources &amp; CompileOnDemandLayer::getPerDylibResources (<a href="/docs/api/classes/llvm/orc/jitdylib">JITDylib</a> &amp; TargetD)</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/compileondemandlayer-h/#l00089">89</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/compileondemandlayer-h">CompileOnDemandLayer.h</a>, definition at line <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/compileondemandlayer-cpp/#l00078">78</a> of file <a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/compileondemandlayer-cpp">CompileOnDemandLayer.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Attributes

### AliaseeImpls {#acca14270156e38b136d14a13088e4fc9}

<MemberDefinition
  prototype={<>ImplSymbolMap&#42; llvm::orc::CompileOnDemandLayer::AliaseeImpls = nullptr</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/compileondemandlayer-h/#l00097">97</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/compileondemandlayer-h">CompileOnDemandLayer.h</a>.
</MemberDefinition>

### BaseLayer {#aadc665f3e210437af16f0ce2e32c1b7f}

<MemberDefinition
  prototype={<>IRLayer&amp; llvm::orc::CompileOnDemandLayer::BaseLayer</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/compileondemandlayer-h/#l00093">93</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/compileondemandlayer-h">CompileOnDemandLayer.h</a>.
</MemberDefinition>

### BuildIndirectStubsManager {#ad630f89b0b981167f422f5aa772aca29}

<MemberDefinition
  prototype="IndirectStubsManagerBuilder llvm::orc::CompileOnDemandLayer::BuildIndirectStubsManager">

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/compileondemandlayer-h/#l00095">95</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/compileondemandlayer-h">CompileOnDemandLayer.h</a>.
</MemberDefinition>

### CODLayerMutex {#a9d66e414a61eff40f081b97b13900485}

<MemberDefinition
  prototype="std::mutex llvm::orc::CompileOnDemandLayer::CODLayerMutex"
  labels = {["mutable"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/compileondemandlayer-h/#l00091">91</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/compileondemandlayer-h">CompileOnDemandLayer.h</a>.
</MemberDefinition>

### DylibResources {#aa2191fae7c4b84c78dd2fd4dce703a2d}

<MemberDefinition
  prototype="PerDylibResourcesMap llvm::orc::CompileOnDemandLayer::DylibResources">

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/compileondemandlayer-h/#l00096">96</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/compileondemandlayer-h">CompileOnDemandLayer.h</a>.
</MemberDefinition>

### LCTMgr {#a135d3a71a90412e65c9dadcabfc86107}

<MemberDefinition
  prototype={<>LazyCallThroughManager&amp; llvm::orc::CompileOnDemandLayer::LCTMgr</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/compileondemandlayer-h/#l00094">94</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/compileondemandlayer-h">CompileOnDemandLayer.h</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following files:

<ul>
<li><a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/include/llvm/executionengine/orc/compileondemandlayer-h">CompileOnDemandLayer.h</a></li>
<li><a href="/docs/api/files/lib/lib/executionengine/lib/executionengine/orc/compileondemandlayer-cpp">CompileOnDemandLayer.cpp</a></li>
</ul>

</DoxygenPage>
