---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/llvm/regbankselect/insertpoint
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'
import SectionUser from '@xpack/docusaurus-plugin-doxygen/components/SectionUser'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `InsertPoint` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>

Abstract class used to represent an insertion point in a CFG. <a href="#details">More...</a>

## Declaration

<CodeBlock>class llvm::RegBankSelect::InsertPoint</CodeBlock>

## Included Headers

<IncludesList>
<IncludesListItem
  filePath="llvm/CodeGen/GlobalISel/RegBankSelect.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/regbankselect-h"
  isLocal="true" />
</IncludesList>

## Derived Classes

<MembersIndex>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/regbankselect/edgeinsertpoint">EdgeInsertPoint</a></>}>
Insertion point on an edge. <a href="/docs/api/classes/llvm/regbankselect/edgeinsertpoint/#details">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/regbankselect/instrinsertpoint">InstrInsertPoint</a></>}>
Insertion point before or after an instruction. <a href="/docs/api/classes/llvm/regbankselect/instrinsertpoint/#details">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/regbankselect/mbbinsertpoint">MBBInsertPoint</a></>}>
Insertion point at the beginning or end of a basic block. <a href="/docs/api/classes/llvm/regbankselect/mbbinsertpoint/#details">More...</a>
</MembersIndexItem>

</MembersIndex>

## Public Destructor Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#ab6175d66449695916d9006d558879995">~InsertPoint</a> ()=default</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="bool"
  name={<><a href="#ae449014b2e72fef6f2f952ea5e44e0f1">canMaterialize</a> () const</>}>
<a href="/docs/api/namespaces/llvm/check">Check</a> whether this insertion point can be materialized. <a href="#ae449014b2e72fef6f2f952ea5e44e0f1">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>uint64&#95;t</>}
  name={<><a href="#a1a042440b348ec5add8a7acf6231d32b">frequency</a> (const Pass &amp;P) const</>}>
Frequency of the insertion point. <a href="#a1a042440b348ec5add8a7acf6231d32b">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &amp;</>}
  name={<><a href="#a461885c579b71413b87ee1e0eb5bc294">getInsertMBB</a> ()</>}>
The first call to this method will cause the splitting to happen if need be, then sub sequent calls just return the basic block that contains the insertion point. <a href="#a461885c579b71413b87ee1e0eb5bc294">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machinebasicblock/#ae34c996b58df9b9ce6695a0c8b70c533">MachineBasicBlock::iterator</a></>}
  name={<><a href="#a7a0275cf0b23f61fed8b27a60dd950a5">getPoint</a> ()</>}>
The first call to this method will cause the splitting to happen if need be, then sub sequent calls just return the iterator to that point. <a href="#a7a0275cf0b23f61fed8b27a60dd950a5">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machinebasicblock/#ae34c996b58df9b9ce6695a0c8b70c533">MachineBasicBlock::iterator</a></>}
  name={<><a href="#ac54a5d84d40b30695f8229f023d7ee69">insert</a> (MachineInstr &amp;MI)</>}>
Insert <code>MI</code> in the just before <a href="#a7a0275cf0b23f61fed8b27a60dd950a5">getPoint()</a> <a href="#ac54a5d84d40b30695f8229f023d7ee69">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#aed32195671c69b83c41212d5e67d5b62">isSplit</a> () const</>}>
Does this point involve splitting an edge or block? <a href="#aed32195671c69b83c41212d5e67d5b62">More...</a>
</MembersIndexItem>

</MembersIndex>

## Protected Member Functions Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &amp;</>}
  name={<><a href="#a4acd081c2e07b76bc2d5a5b5144ea937">getInsertMBBImpl</a> ()=0</>}>
Return the materialized insertion basic block. <a href="#a4acd081c2e07b76bc2d5a5b5144ea937">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machinebasicblock/#ae34c996b58df9b9ce6695a0c8b70c533">MachineBasicBlock::iterator</a></>}
  name={<><a href="#af81657c35d5dd8aea4fc76cf2566d6a0">getPointImpl</a> ()=0</>}>
Return the materialized insertion point. <a href="#af81657c35d5dd8aea4fc76cf2566d6a0">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#ad8275ad73d60d460541c51e9c11ddf7d">materialize</a> ()=0</>}>
Materialize the insertion point. <a href="#ad8275ad73d60d460541c51e9c11ddf7d">More...</a>
</MembersIndexItem>

</MembersIndex>

## Protected Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type="bool"
  name={<><a href="#a8ba1c76e0f667d713ceb4ef26be8aed3">WasMaterialized</a> = false</>}>
Tell if the insert point has already been materialized. <a href="#a8ba1c76e0f667d713ceb4ef26be8aed3">More...</a>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

Abstract class used to represent an insertion point in a CFG.

This class records an insertion point and materializes it on demand. It allows to reason about the frequency of this insertion point, without having to logically materialize it (e.g., on an edge), before we actually need to insert something.

Definition at line 111 of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/regbankselect-h">RegBankSelect.h</a>.

<SectionDefinition>

## Public Destructor

### ~InsertPoint() {#ab6175d66449695916d9006d558879995}

<MemberDefinition
  prototype="virtual llvm::RegBankSelect::InsertPoint::~InsertPoint ()"
  labels = {["virtual", "default"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/regbankselect-h/#l00139">139</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/regbankselect-h">RegBankSelect.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### canMaterialize() {#ae449014b2e72fef6f2f952ea5e44e0f1}

<MemberDefinition
  prototype="virtual bool llvm::RegBankSelect::InsertPoint::canMaterialize () const"
  labels = {["inline", "virtual"]}>
<a href="/docs/api/namespaces/llvm/check">Check</a> whether this insertion point can be materialized.

As soon as <a href="#a7a0275cf0b23f61fed8b27a60dd950a5">getPoint</a> is called and thus, the point materialized calling this method does not make sense.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/regbankselect-h/#l00200">200</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/regbankselect-h">RegBankSelect.h</a>.
</MemberDefinition>

### frequency() {#a1a042440b348ec5add8a7acf6231d32b}

<MemberDefinition
  prototype={<>virtual uint64&#95;t llvm::RegBankSelect::InsertPoint::frequency (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/pass">Pass</a> &amp; P) const</>}
  labels = {["inline", "virtual"]}>
Frequency of the insertion point.

<code>P</code> is used to access the various analysis that will help to get that information, like <a href="/docs/api/classes/llvm/machineblockfrequencyinfo">MachineBlockFrequencyInfo</a>. If <code>P</code> does not contain enough to return the actual frequency, this returns 1.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/regbankselect-h/#l00195">195</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/regbankselect-h">RegBankSelect.h</a>.
</MemberDefinition>

### getInsertMBB() {#a461885c579b71413b87ee1e0eb5bc294}

<MemberDefinition
  prototype={<>MachineBasicBlock &amp; llvm::RegBankSelect::InsertPoint::getInsertMBB ()</>}
  labels = {["inline"]}>
The first call to this method will cause the splitting to happen if need be, then sub sequent calls just return the basic block that contains the insertion point.

I.e., no more splitting will occur.


<SectionUser title="Returns">
The basic block should be used with <a href="/docs/api/classes/llvm/machinebasicblock/#a3435a2381e60e842e915f85c931b7dde">MachineBasicBlock::insert</a> and <a href="#a7a0275cf0b23f61fed8b27a60dd950a5">getPoint</a>. The new code should happen before that point.
</SectionUser>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/regbankselect-h/#l00168">168</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/regbankselect-h">RegBankSelect.h</a>.
</MemberDefinition>

### getPoint() {#a7a0275cf0b23f61fed8b27a60dd950a5}

<MemberDefinition
  prototype="MachineBasicBlock::iterator llvm::RegBankSelect::InsertPoint::getPoint ()"
  labels = {["inline"]}>
The first call to this method will cause the splitting to happen if need be, then sub sequent calls just return the iterator to that point.

I.e., no more splitting will occur.


<SectionUser title="Returns">
The iterator that should be used with <a href="/docs/api/classes/llvm/machinebasicblock/#a3435a2381e60e842e915f85c931b7dde">MachineBasicBlock::insert</a>. I.e., additional code happens before that point.
</SectionUser>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/regbankselect-h/#l00149">149</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/regbankselect-h">RegBankSelect.h</a>.
</MemberDefinition>

### insert() {#ac54a5d84d40b30695f8229f023d7ee69}

<MemberDefinition
  prototype={<>MachineBasicBlock::iterator llvm::RegBankSelect::InsertPoint::insert (<a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &amp; MI)</>}
  labels = {["inline"]}>
Insert <code>MI</code> in the just before <a href="#a7a0275cf0b23f61fed8b27a60dd950a5">getPoint()</a>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/regbankselect-h/#l00180">180</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/regbankselect-h">RegBankSelect.h</a>.
</MemberDefinition>

### isSplit() {#aed32195671c69b83c41212d5e67d5b62}

<MemberDefinition
  prototype="virtual bool llvm::RegBankSelect::InsertPoint::isSplit () const"
  labels = {["inline", "virtual"]}>
Does this point involve splitting an edge or block?

As soon as <a href="#a7a0275cf0b23f61fed8b27a60dd950a5">getPoint</a> is called and thus, the point materialized, the point will not require splitting anymore, i.e., this will return false.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/regbankselect-h/#l00188">188</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/regbankselect-h">RegBankSelect.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Protected Member Functions

### getInsertMBBImpl() {#a4acd081c2e07b76bc2d5a5b5144ea937}

<MemberDefinition
  prototype={<>virtual MachineBasicBlock &amp; llvm::RegBankSelect::InsertPoint::getInsertMBBImpl ()</>}
  labels = {["protected"]}>
Return the materialized insertion basic block.

Code will be inserted into that basic block.


<SectionUser title="Precondition">
<a href="#ad8275ad73d60d460541c51e9c11ddf7d">materialize</a> has been called.
</SectionUser>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/regbankselect-h/#l00130">130</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/regbankselect-h">RegBankSelect.h</a>.
</MemberDefinition>

### getPointImpl() {#af81657c35d5dd8aea4fc76cf2566d6a0}

<MemberDefinition
  prototype="virtual MachineBasicBlock::iterator llvm::RegBankSelect::InsertPoint::getPointImpl ()"
  labels = {["protected"]}>
Return the materialized insertion point.

Code will be inserted before that point.


<SectionUser title="Precondition">
<a href="#ad8275ad73d60d460541c51e9c11ddf7d">materialize</a> has been called.
</SectionUser>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/regbankselect-h/#l00136">136</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/regbankselect-h">RegBankSelect.h</a>.
</MemberDefinition>

### materialize() {#ad8275ad73d60d460541c51e9c11ddf7d}

<MemberDefinition
  prototype="virtual void llvm::RegBankSelect::InsertPoint::materialize ()"
  labels = {["protected"]}>
Materialize the insertion point.

If <a href="#aed32195671c69b83c41212d5e67d5b62">isSplit()</a> is true, this involves actually splitting the block or edge.


<SectionUser title="Postcondition">
<a href="#af81657c35d5dd8aea4fc76cf2566d6a0">getPointImpl()</a> returns a valid iterator.
</SectionUser>


<SectionUser title="Postcondition">
<a href="#a4acd081c2e07b76bc2d5a5b5144ea937">getInsertMBBImpl()</a> returns a valid basic block.
</SectionUser>


<SectionUser title="Postcondition">
<a href="#aed32195671c69b83c41212d5e67d5b62">isSplit()</a> == false ; no more splitting should be required.
</SectionUser>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/regbankselect-h/#l00124">124</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/regbankselect-h">RegBankSelect.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Protected Member Attributes

### WasMaterialized {#a8ba1c76e0f667d713ceb4ef26be8aed3}

<MemberDefinition
  prototype="bool llvm::RegBankSelect::InsertPoint::WasMaterialized = false"
  labels = {["protected"]}>
Tell if the insert point has already been materialized.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/regbankselect-h/#l00114">114</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/regbankselect-h">RegBankSelect.h</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following file:

<ul>
<li><a href="/docs/api/files/include/include/llvm/include/llvm/codegen/include/llvm/codegen/globalisel/regbankselect-h">RegBankSelect.h</a></li>
</ul>

</DoxygenPage>
