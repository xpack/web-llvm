---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/anonymous-namespace-loopstrengthreduce-cpp-/lsrinstance
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `LSRInstance` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>

This class holds state for the main loop strength reduction logic. <a href="#details">More...</a>

## Declaration

<CodeBlock>class anonymous_namespace{LoopStrengthReduce.cpp}::LSRInstance</CodeBlock>

## Private Member Typedefs Index

<MembersIndex>

<MembersIndexItem
  type="using"
  name={<><a href="#a393998e4f5d7b103ee0566b8c98bbd72">UseMapTy</a> = <a href="/docs/api/classes/llvm/densemap">DenseMap</a>&lt; <a href="/docs/api/classes/anonymous-namespace-loopstrengthreduce-cpp-/lsruse/#a4a62881e0181b4f2dc498eff32edf764">LSRUse::SCEVUseKindPair</a>, size&#95;t &gt;</>}>
</MembersIndexItem>

</MembersIndex>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a9bcf42be7435217d79cd175d4e6993d7">LSRInstance</a> (Loop &#42;L, IVUsers &amp;IU, ScalarEvolution &amp;SE, DominatorTree &amp;DT, LoopInfo &amp;LI, const TargetTransformInfo &amp;TTI, AssumptionCache &amp;AC, TargetLibraryInfo &amp;TLI, MemorySSAUpdater &#42;MSSAU)</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="void"
  name={<><a href="#a890ca19e74514f1ec5cbb3e5cdd8d50b">dump</a> () const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a93ebde9d4c2fe184724a11d3c1184124">getChanged</a> () const</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; <a href="/docs/api/classes/llvm/weakvh">WeakVH</a> &gt; &amp;</>}
  name={<><a href="#a34d7093fa45e90e82de2073b08157efc">getScalarEvolutionIVs</a> () const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a154b34752235c9434c21cd366250100f">print</a> (raw&#95;ostream &amp;OS) const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#af93b911868eadea967fc026ed208698d">print&#95;factors&#95;and&#95;types</a> (raw&#95;ostream &amp;OS) const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a1ed1067b1498e4790ce06d7b0fb995a3">print&#95;fixups</a> (raw&#95;ostream &amp;OS) const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a0d604d6453ff8ad118da3e2cadc04c66">print&#95;uses</a> (raw&#95;ostream &amp;OS) const</>}>
</MembersIndexItem>

</MembersIndex>

## Private Member Functions Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/basicblock/#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a></>}
  name={<><a href="#aa318f5ed9147988ef7af4dd86b85d6ba">AdjustInsertPositionForExpand</a> (BasicBlock::iterator IP, const LSRFixup &amp;LF, const LSRUse &amp;LU) const</>}>
Determine an input position which will be dominated by the operands and which will dominate the result. <a href="#aa318f5ed9147988ef7af4dd86b85d6ba">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a715514c1c4664f58ecf2858fc46ed933">ChainInstruction</a> (Instruction &#42;UserInst, Instruction &#42;IVOper, SmallVectorImpl&lt; ChainUsers &gt; &amp;ChainUsersVec)</>}>
Add this IV user to an existing chain or make it the head of a new chain. <a href="#a715514c1c4664f58ecf2858fc46ed933">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a512df630a3117cda430197944ab8f07f">CollectChains</a> ()</>}>
Populate the vector of Chains. <a href="#a512df630a3117cda430197944ab8f07f">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#afddc8565244874a6ecacf717f7f10092">CollectFixupsAndInitialFormulae</a> ()</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a0f7b75292a5fe583873379329eb58cc4">CollectInterestingTypesAndFactors</a> ()</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a3fd0b9ace01391c74a0102f465e8ed59">CollectLoopInvariantFixupsAndFormulae</a> ()</>}>
Check for other uses of loop-invariant values which we&#39;re tracking. <a href="#a3fd0b9ace01391c74a0102f465e8ed59">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#acbf65bc4fdc59b76bb459e44a5dbced2">CountRegisters</a> (const Formula &amp;F, size&#95;t LUIdx)</>}>
Note which registers are used by the given formula, updating RegUses. <a href="#acbf65bc4fdc59b76bb459e44a5dbced2">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a6277d3360ab51c8c32904a2ea3669630">DeleteUse</a> (LSRUse &amp;LU, size&#95;t LUIdx)</>}>
Delete the given use from the Uses list. <a href="#a6277d3360ab51c8c32904a2ea3669630">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>size&#95;t</>}
  name={<><a href="#a0000279470b1c2bb09a950398a66e54c">EstimateSearchSpaceComplexity</a> () const</>}>
Estimate the worst-case number of solutions the solver might have to consider. <a href="#a0000279470b1c2bb09a950398a66e54c">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/value">Value</a> &#42;</>}
  name={<><a href="#a7841bf80789049777d6e3e90bbd4b0db">Expand</a> (const LSRUse &amp;LU, const LSRFixup &amp;LF, const Formula &amp;F, BasicBlock::iterator IP, SmallVectorImpl&lt; WeakTrackingVH &gt; &amp;DeadInsts) const</>}>
Emit instructions for the leading candidate expression for this <a href="/docs/api/classes/anonymous-namespace-loopstrengthreduce-cpp-/lsruse">LSRUse</a> (this is called &quot;expanding&quot;). <a href="#a7841bf80789049777d6e3e90bbd4b0db">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a91a58e38ab4f3d5a32a55a39b6840efa">FilterOutUndesirableDedicatedRegisters</a> ()</>}>
If there are multiple formulae with the same set of registers used by other uses, pick the best one and delete the others. <a href="#a91a58e38ab4f3d5a32a55a39b6840efa">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a407dd69b2e6c0c82bf076a5f9a98c182">FinalizeChain</a> (IVChain &amp;Chain)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#afbb35ddbd139e02e3d95e279b42db16c">FindIVUserForCond</a> (ICmpInst &#42;Cond, IVStrideUse &#42;&amp;CondUse)</>}>
If Cond has an operand that is an expression of an IV, set the IV user and stride information and return true, otherwise return false. <a href="#afbb35ddbd139e02e3d95e279b42db16c">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/anonymous-namespace-loopstrengthreduce-cpp-/lsruse">LSRUse</a> &#42;</>}
  name={<><a href="#aff198519c6d210ba7103bdb7749489c1">FindUseWithSimilarFormula</a> (const Formula &amp;F, const LSRUse &amp;OrigLU)</>}>
Look for a use distinct from OrigLU which is has a formula that has the same registers as the given formula. <a href="#aff198519c6d210ba7103bdb7749489c1">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a8bf7bfbd64324ea1cb1050bb5c89d649">GenerateAllReuseFormulae</a> ()</>}>
Generate formulae for each use. <a href="#a8bf7bfbd64324ea1cb1050bb5c89d649">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a4f9af4d0f16eb5e093fa9f008dcfd503">GenerateCombinations</a> (LSRUse &amp;LU, unsigned LUIdx, Formula Base)</>}>
Generate a formula consisting of all of the loop-dominating registers added into a single register. <a href="#a4f9af4d0f16eb5e093fa9f008dcfd503">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#aa1c61ef74e884a870cf98fd79abdb1ef">GenerateConstantOffsets</a> (LSRUse &amp;LU, unsigned LUIdx, Formula Base)</>}>
GenerateConstantOffsets - Generate reuse formulae using symbolic offsets. <a href="#aa1c61ef74e884a870cf98fd79abdb1ef">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#ac3aec691599b58e7f5c51a5b5f52fd38">GenerateConstantOffsetsImpl</a> (LSRUse &amp;LU, unsigned LUIdx, const Formula &amp;Base, const SmallVectorImpl&lt; Immediate &gt; &amp;Worklist, size&#95;t Idx, bool IsScaledReg=false)</>}>
Helper function for LSRInstance::GenerateConstantOffsets. <a href="#ac3aec691599b58e7f5c51a5b5f52fd38">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a593ae190c9aaffceef97b5bc9a5f0b8b">GenerateCrossUseConstantOffsets</a> ()</>}>
Look for registers which are a constant distance apart and try to form reuse opportunities between them. <a href="#a593ae190c9aaffceef97b5bc9a5f0b8b">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a099e39f2e93fc1a5ce139f9a54cdf8fb">GenerateICmpZeroScales</a> (LSRUse &amp;LU, unsigned LUIdx, Formula Base)</>}>
For ICmpZero, check to see if we can scale up the comparison. <a href="#a099e39f2e93fc1a5ce139f9a54cdf8fb">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#ac35652ffaf6855297da971358f94ee57">GenerateIVChain</a> (const IVChain &amp;Chain, SmallVectorImpl&lt; WeakTrackingVH &gt; &amp;DeadInsts)</>}>
Generate an add or subtract for each <a href="/docs/api/structs/anonymous-namespace-loopstrengthreduce-cpp-/ivinc">IVInc</a> in a chain to materialize the IV user&#39;s operand from the previous IV user&#39;s operand. <a href="#ac35652ffaf6855297da971358f94ee57">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a131e86428d982f30a771fcef8036a594">GenerateReassociations</a> (LSRUse &amp;LU, unsigned LUIdx, Formula Base, unsigned Depth=0)</>}>
Split out subexpressions from adds and the bases of addrecs. <a href="#a131e86428d982f30a771fcef8036a594">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#af84182e8fe06102c0cc81bbaafc5807e">GenerateReassociationsImpl</a> (LSRUse &amp;LU, unsigned LUIdx, const Formula &amp;Base, unsigned Depth, size&#95;t Idx, bool IsScaledReg=false)</>}>
Helper function for LSRInstance::GenerateReassociations. <a href="#af84182e8fe06102c0cc81bbaafc5807e">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a8349baf5c3354477ba45c360896ffdaa">GenerateScales</a> (LSRUse &amp;LU, unsigned LUIdx, Formula Base)</>}>
Generate stride factor reuse formulae by making use of scaled-offset address modes, for example. <a href="#a8349baf5c3354477ba45c360896ffdaa">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a26e4f1f4f86f4eaa6186570b28c625df">GenerateSymbolicOffsets</a> (LSRUse &amp;LU, unsigned LUIdx, Formula Base)</>}>
Generate reuse formulae using symbolic offsets. <a href="#a26e4f1f4f86f4eaa6186570b28c625df">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a8ba5135d854d22334e82bebe878bc4f4">GenerateSymbolicOffsetsImpl</a> (LSRUse &amp;LU, unsigned LUIdx, const Formula &amp;Base, size&#95;t Idx, bool IsScaledReg=false)</>}>
Helper function for LSRInstance::GenerateSymbolicOffsets. <a href="#a8ba5135d854d22334e82bebe878bc4f4">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#ae59c3c503720d1c5ed502655c7543617">GenerateTruncates</a> (LSRUse &amp;LU, unsigned LUIdx, Formula Base)</>}>
Generate reuse formulae from different IV types. <a href="#ae59c3c503720d1c5ed502655c7543617">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::pair&lt; size&#95;t, <a href="/docs/api/classes/anonymous-namespace-loopstrengthreduce-cpp-/immediate">Immediate</a> &gt;</>}
  name={<><a href="#ad09b134600550cfb3ef01cacea128998">getUse</a> (const SCEV &#42;&amp;Expr, LSRUse::KindType Kind, MemAccessTy AccessTy)</>}>
Return an <a href="/docs/api/classes/anonymous-namespace-loopstrengthreduce-cpp-/lsruse">LSRUse</a> index and an offset value for a fixup which needs the given expression, with the given kind and optional access type. <a href="#ad09b134600550cfb3ef01cacea128998">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/basicblock/#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a></>}
  name={<><a href="#adddf31c945c77716f8a1e0740c0a525a">HoistInsertPosition</a> (BasicBlock::iterator IP, const SmallVectorImpl&lt; Instruction &#42; &gt; &amp;Inputs) const</>}>
Helper for AdjustInsertPositionForExpand. <a href="#adddf31c945c77716f8a1e0740c0a525a">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a4453cb4bffc0cbc29cb9f31f4f9083f8">ImplementSolution</a> (const SmallVectorImpl&lt; const Formula &#42; &gt; &amp;Solution)</>}>
Rewrite all the fixup locations with new values, following the chosen solution. <a href="#a4453cb4bffc0cbc29cb9f31f4f9083f8">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#ae3c384f80656b918926278569d3afa24">InsertFormula</a> (LSRUse &amp;LU, unsigned LUIdx, const Formula &amp;F)</>}>
If the given formula has not yet been inserted, add it to the list, and return true. <a href="#ae3c384f80656b918926278569d3afa24">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a8d8810f530e1664ce5e435c9e1c10a11">InsertInitialFormula</a> (const SCEV &#42;S, LSRUse &amp;LU, size&#95;t LUIdx)</>}>
Insert a formula for the given expression into the given use, separating out loop-variant portions from loop-invariant and loop-computable portions. <a href="#a8d8810f530e1664ce5e435c9e1c10a11">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#ad456e3e06233ba42e26377d835cbd32c">InsertSupplementalFormula</a> (const SCEV &#42;S, LSRUse &amp;LU, size&#95;t LUIdx)</>}>
Insert a simple single-register formula for the given expression into the given use. <a href="#ad456e3e06233ba42e26377d835cbd32c">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#abaac954dc35f3f3dc5734d74729d4b59">NarrowSearchSpaceByCollapsingUnrolledCode</a> ()</>}>
When there are many registers for expressions like A, A+1, A+2, etc., allocate a single register for them. <a href="#abaac954dc35f3f3dc5734d74729d4b59">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a5021dc188b1f29105cbb965468502514">NarrowSearchSpaceByDeletingCostlyFormulas</a> ()</>}>
The function delete formulas with high registers number expectation. <a href="#a5021dc188b1f29105cbb965468502514">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a9bfd40d657b0d602db076d1e74b36ac3">NarrowSearchSpaceByDetectingSupersets</a> ()</>}>
When one formula uses a superset of the registers of another formula, it won&#39;t help reduce register pressure (though it may not necessarily hurt register pressure); remove it to simplify the system. <a href="#a9bfd40d657b0d602db076d1e74b36ac3">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#ae4b1d4c4c64612023ec04a6ab797947f">NarrowSearchSpaceByFilterFormulaWithSameScaledReg</a> ()</>}>
If a <a href="/docs/api/classes/anonymous-namespace-loopstrengthreduce-cpp-/lsruse">LSRUse</a> has multiple formulae with the same ScaledReg and Scale. <a href="#ae4b1d4c4c64612023ec04a6ab797947f">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a97ecf0b652ef46c7bede7441b512b175">NarrowSearchSpaceByFilterPostInc</a> ()</>}>
If we are over the complexity limit, filter out any post-inc prefering variables to only post-inc values. <a href="#a97ecf0b652ef46c7bede7441b512b175">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#ad10fa4f61542c7d3f2b075d6631973db">NarrowSearchSpaceByPickingWinnerRegs</a> ()</>}>
Pick a register which seems likely to be profitable, and then in any use which has any reference to that register, delete all formulae which do not reference that register. <a href="#ad10fa4f61542c7d3f2b075d6631973db">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#abfdece554ed27edf399f99cf8b7decde">NarrowSearchSpaceByRefilteringUndesirableDedicatedRegisters</a> ()</>}>
Call FilterOutUndesirableDedicatedRegisters again, if necessary, now that we&#39;ve done more filtering, as it may be able to find more formulae to eliminate. <a href="#abfdece554ed27edf399f99cf8b7decde">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a8957c043357b655f3091a9c093e2652b">NarrowSearchSpaceUsingHeuristics</a> ()</>}>
If there are an extraordinary number of formulae to choose from, use some rough heuristics to prune down the number of formulae. <a href="#a8957c043357b655f3091a9c093e2652b">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#accaaa0062865326525359f6a78eff0f5">OptimizeLoopTermCond</a> ()</>}>
Change loop terminating condition to use the postinc iv when possible. <a href="#accaaa0062865326525359f6a78eff0f5">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/icmpinst">ICmpInst</a> &#42;</>}
  name={<><a href="#a32352d875d91e0c18e72f49a752d071d">OptimizeMax</a> (ICmpInst &#42;Cond, IVStrideUse &#42;&amp;CondUse)</>}>
Rewrite the loop&#39;s terminating condition if it uses a max computation. <a href="#a32352d875d91e0c18e72f49a752d071d">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#ae5b019b20b40da9d880b7b9643a42616">OptimizeShadowIV</a> ()</>}>
If IV is used in a int-to-float cast inside the loop then try to eliminate the cast operation. <a href="#ae5b019b20b40da9d880b7b9643a42616">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a94935b404993387e7aec5cdfb1aef6d5">reconcileNewOffset</a> (LSRUse &amp;LU, Immediate NewOffset, bool HasBaseReg, LSRUse::KindType Kind, MemAccessTy AccessTy)</>}>
Determine if the given use can accommodate a fixup at the given offset and other details. <a href="#a94935b404993387e7aec5cdfb1aef6d5">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a12abc9d7a83f261e6f12535cc9b94588">Rewrite</a> (const LSRUse &amp;LU, const LSRFixup &amp;LF, const Formula &amp;F, SmallVectorImpl&lt; WeakTrackingVH &gt; &amp;DeadInsts)</>}>
Emit instructions for the leading candidate expression for this <a href="/docs/api/classes/anonymous-namespace-loopstrengthreduce-cpp-/lsruse">LSRUse</a> (this is called &quot;expanding&quot;), and update the UserInst to reference the newly expanded value. <a href="#a12abc9d7a83f261e6f12535cc9b94588">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a26330898baea53c04152823be7652aa9">RewriteForPHI</a> (PHINode &#42;PN, const LSRUse &amp;LU, const LSRFixup &amp;LF, const Formula &amp;F, SmallVectorImpl&lt; WeakTrackingVH &gt; &amp;DeadInsts)</>}>
Helper for Rewrite. <a href="#a26330898baea53c04152823be7652aa9">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a5b08cb248b1984ff1dae6899aa886a4e">Solve</a> (SmallVectorImpl&lt; const Formula &#42; &gt; &amp;Solution) const</>}>
Choose one formula from each use. <a href="#a5b08cb248b1984ff1dae6899aa886a4e">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#ad48e169c4317e14b093e535f1db7c5e4">SolveRecurse</a> (SmallVectorImpl&lt; const Formula &#42; &gt; &amp;Solution, Cost &amp;SolutionCost, SmallVectorImpl&lt; const Formula &#42; &gt; &amp;Workspace, const Cost &amp;CurCost, const SmallPtrSet&lt; const SCEV &#42;, 16 &gt; &amp;CurRegs, DenseSet&lt; const SCEV &#42; &gt; &amp;VisitedRegs) const</>}>
This is the recursive solver. <a href="#ad48e169c4317e14b093e535f1db7c5e4">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/assumptioncache">AssumptionCache</a> &amp;</>}
  name={<><a href="#aac46d97825effef6f5543742a094865a">AC</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/targettransforminfo/#ad88649498463e1fe02380ad98886ce43">TTI::AddressingModeKind</a></>}
  name={<><a href="#acb6190119088b7c7a92a909bb6428187">AMK</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/anonymous-namespace-loopstrengthreduce-cpp-/cost">Cost</a></>}
  name={<><a href="#ac7190d2744d2cff4851540183528393c">BaselineCost</a></>}>
The cost of the current <a href="/docs/api/classes/llvm/scev">SCEV</a>, the best solution by LSR will be dropped if the solution is not profitable. <a href="#ac7190d2744d2cff4851540183528393c">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#aff619f77b08c608f1727c88e802b49e8">Changed</a> = false</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/dominatortree">DominatorTree</a> &amp;</>}
  name={<><a href="#a56bd333fe5572f557f3d3ca5632acf94">DT</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/setvector">SetVector</a>&lt; int64&#95;t, <a href="/docs/api/classes/llvm/smallvector">SmallVector</a>&lt; int64&#95;t, 8 &gt;, <a href="/docs/api/classes/llvm/smallset">SmallSet</a>&lt; int64&#95;t, 8 &gt; &gt;</>}
  name={<><a href="#a486ffa7182e7f0cdb85dc8030c19d4d0">Factors</a></>}>
Interesting factors between use strides. <a href="#a486ffa7182e7f0cdb85dc8030c19d4d0">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/smallsetvector">SmallSetVector</a>&lt; <a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42;, 4 &gt;</>}
  name={<><a href="#af74aac279158f04fb154b5363329815d">InsertedNonLCSSAInsts</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/ivusers">IVUsers</a> &amp;</>}
  name={<><a href="#a43374274406d3d89701c862c95324932">IU</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/smallvector">SmallVector</a>&lt; <a href="/docs/api/structs/anonymous-namespace-loopstrengthreduce-cpp-/ivchain">IVChain</a>, MaxChains &gt;</>}
  name={<><a href="#ae3cfb6ab9a4ed4669134aab058930e74">IVChainVec</a></>}>
IV users can form a chain of IV increments. <a href="#ae3cfb6ab9a4ed4669134aab058930e74">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42;</>}
  name={<><a href="#a0e321389f3c9cc55787b5b0b34d5f60e">IVIncInsertPos</a> = nullptr</>}>
This is the insert position that the current loop&#39;s induction variable increment should be placed. <a href="#a0e321389f3c9cc55787b5b0b34d5f60e">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/smallptrset">SmallPtrSet</a>&lt; <a href="/docs/api/classes/llvm/use">Use</a> &#42;, MaxChains &gt;</>}
  name={<><a href="#ae340fc3e385bf9386c2b74615d163ac9">IVIncSet</a></>}>
IV users that belong to profitable IVChains. <a href="#ae340fc3e385bf9386c2b74615d163ac9">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/loop">Loop</a> &#42;<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a></>}
  name={<><a href="#ac50dbb6771a787a7f4469fb12d6a0b6b">L</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/loopinfo">LoopInfo</a> &amp;</>}
  name={<><a href="#a97382d1d7a63180310d70172064215d9">LI</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/memoryssaupdater">MemorySSAUpdater</a> &#42;</>}
  name={<><a href="#a321e2f21f3b9fc968baf2f8a93dffe80">MSSAU</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/anonymous-namespace-loopstrengthreduce-cpp-/regusetracker">RegUseTracker</a></>}
  name={<><a href="#a6ab18d8bb0759fe83f7d5efb6d0ac046">RegUses</a></>}>
Track which uses use which register candidates. <a href="#a6ab18d8bb0759fe83f7d5efb6d0ac046">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/scevexpander">SCEVExpander</a></>}
  name={<><a href="#a7f350a9d8ea17d7abce0edc235bb888a">Rewriter</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/smallvector">SmallVector</a>&lt; <a href="/docs/api/classes/llvm/weakvh">llvm::WeakVH</a>, 2 &gt;</>}
  name={<><a href="#a72e78c2942bf7e8348624c615d080871">ScalarEvolutionIVs</a></>}>
Induction variables that were generated and inserted by the <a href="/docs/api/classes/llvm/scev">SCEV</a> Expander. <a href="#a72e78c2942bf7e8348624c615d080871">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/scalarevolution">ScalarEvolution</a> &amp;</>}
  name={<><a href="#a75d0eecd5dcdbebc60559c49484263b4">SE</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/targetlibraryinfo">TargetLibraryInfo</a> &amp;</>}
  name={<><a href="#a8727f18583c0369429fae4badd0cb76f">TLI</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/targettransforminfo">TargetTransformInfo</a> &amp;</>}
  name={<><a href="#a0e1752a3672e005bebad0b4fa21c80d1">TTI</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/smallsetvector">SmallSetVector</a>&lt; <a href="/docs/api/classes/llvm/type">Type</a> &#42;, 4 &gt;</>}
  name={<><a href="#acdeb6377ff95fc86ef01f0bd7e41c65a">Types</a></>}>
Interesting use types, to facilitate truncation reuse. <a href="#acdeb6377ff95fc86ef01f0bd7e41c65a">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/densemap">UseMapTy</a></>}
  name={<><a href="#aa2bc35d39d375eefad685b9526d1e6ec">UseMap</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/smallvector">SmallVector</a>&lt; <a href="/docs/api/classes/anonymous-namespace-loopstrengthreduce-cpp-/lsruse">LSRUse</a>, 16 &gt;</>}
  name={<><a href="#ab12767d7dcdf10ee7cf60f2468f3daad">Uses</a></>}>
The list of interesting uses. <a href="#ab12767d7dcdf10ee7cf60f2468f3daad">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Static Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> unsigned</>}
  name={<><a href="#adea7d2cd98babadcd59137cb46b66af8">MaxChains</a> = 8</>}>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

This class holds state for the main loop strength reduction logic.

Definition at line 2136 of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.

<SectionDefinition>

## Private Member Typedefs

### UseMapTy {#a393998e4f5d7b103ee0566b8c98bbd72}

<MemberDefinition
  prototype={<>using anonymous&#95;namespace&#123;LoopStrengthReduce.cpp&#125;::LSRInstance::UseMapTy =  DenseMap&lt;LSRUse::SCEVUseKindPair, size&#95;t&gt;</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02213">2213</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Constructors

### LSRInstance() {#a9bcf42be7435217d79cd175d4e6993d7}

<MemberDefinition
  prototype={<>LSRInstance::LSRInstance (<a href="/docs/api/classes/llvm/loop">Loop</a> &#42; L, <a href="/docs/api/classes/llvm/ivusers">IVUsers</a> &amp; IU, <a href="/docs/api/classes/llvm/scalarevolution">ScalarEvolution</a> &amp; SE, <a href="/docs/api/classes/llvm/dominatortree">DominatorTree</a> &amp; DT, <a href="/docs/api/classes/llvm/loopinfo">LoopInfo</a> &amp; LI, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/targettransforminfo">TargetTransformInfo</a> &amp; TTI, <a href="/docs/api/classes/llvm/assumptioncache">AssumptionCache</a> &amp; AC, <a href="/docs/api/classes/llvm/targetlibraryinfo">TargetLibraryInfo</a> &amp; TLI, <a href="/docs/api/classes/llvm/memoryssaupdater">MemorySSAUpdater</a> &#42; MSSAU)</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02293">2293</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### dump() {#a890ca19e74514f1ec5cbb3e5cdd8d50b}

<MemberDefinition
  prototype={<>LLVM&#95;DUMP&#95;METHOD void LSRInstance::dump () const</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02306">2306</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### getChanged() {#a93ebde9d4c2fe184724a11d3c1184124}

<MemberDefinition
  prototype={<>bool anonymous&#95;namespace&#123;LoopStrengthReduce.cpp&#125;::LSRInstance::getChanged () const</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02297">2297</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### getScalarEvolutionIVs() {#a34d7093fa45e90e82de2073b08157efc}

<MemberDefinition
  prototype={<>const SmallVectorImpl&lt; WeakVH &gt; &amp; anonymous&#95;namespace&#123;LoopStrengthReduce.cpp&#125;::LSRInstance::getScalarEvolutionIVs () const</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02298">2298</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### print() {#a154b34752235c9434c21cd366250100f}

<MemberDefinition
  prototype={<>void LSRInstance::print (<a href="/docs/api/classes/llvm/raw-ostream">raw&#95;ostream</a> &amp; OS) const</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02305">2305</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### print&#95;factors&#95;and&#95;types() {#af93b911868eadea967fc026ed208698d}

<MemberDefinition
  prototype={<>void LSRInstance::print&#95;factors&#95;and&#95;types (<a href="/docs/api/classes/llvm/raw-ostream">raw&#95;ostream</a> &amp; OS) const</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02302">2302</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### print&#95;fixups() {#a1ed1067b1498e4790ce06d7b0fb995a3}

<MemberDefinition
  prototype={<>void LSRInstance::print&#95;fixups (<a href="/docs/api/classes/llvm/raw-ostream">raw&#95;ostream</a> &amp; OS) const</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02303">2303</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### print&#95;uses() {#a0d604d6453ff8ad118da3e2cadc04c66}

<MemberDefinition
  prototype={<>void LSRInstance::print&#95;uses (<a href="/docs/api/classes/llvm/raw-ostream">raw&#95;ostream</a> &amp; OS) const</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02304">2304</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Functions

### AdjustInsertPositionForExpand() {#aa318f5ed9147988ef7af4dd86b85d6ba}

<MemberDefinition
  prototype={<>BasicBlock::iterator LSRInstance::AdjustInsertPositionForExpand (<a href="/docs/api/classes/llvm/basicblock/#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> IP, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/structs/anonymous-namespace-loopstrengthreduce-cpp-/lsrfixup">LSRFixup</a> &amp; LF, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/anonymous-namespace-loopstrengthreduce-cpp-/lsruse">LSRUse</a> &amp; LU) const</>}>
Determine an input position which will be dominated by the operands and which will dominate the result.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02278">2278</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### ChainInstruction() {#a715514c1c4664f58ecf2858fc46ed933}

<MemberDefinition
  prototype={<>void LSRInstance::ChainInstruction (<a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42; UserInst, <a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42; IVOper, <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; <a href="/docs/api/structs/anonymous-namespace-loopstrengthreduce-cpp-/chainusers">ChainUsers</a> &gt; &amp; ChainUsersVec)</>}>
Add this IV user to an existing chain or make it the head of a new chain.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02202">2202</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### CollectChains() {#a512df630a3117cda430197944ab8f07f}

<MemberDefinition
  prototype="void LSRInstance::CollectChains ()">
Populate the vector of Chains.

This decreases ILP at the architecture level. Targets with ample registers, multiple memory ports, and no register renaming probably don&#39;t want this. However, such targets should probably disable LSR altogether.

The job of LSR is to make a reasonable choice of induction variables across the loop. Subsequent passes can easily &quot;unchain&quot; computation exposing more ILP <em>within the loop</em> if the target wants it.

Finding the best IV chain is potentially a scheduling problem. Since LSR will not reorder memory operations, it will recognize this as a chain, but will generate redundant IV increments. Ideally this would be corrected later by a smart scheduler: = A&#91;i&#93; = A&#91;i+x&#93; A&#91;i&#93; = A&#91;i+x&#93; =

TODO: Walk the entire domtree within this loop, not just the path to the loop latch. This will discover chains on side paths, but requires maintaining multiple copies of the Chains state.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02205">2205</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### CollectFixupsAndInitialFormulae() {#afddc8565244874a6ecacf717f7f10092}

<MemberDefinition
  prototype="void LSRInstance::CollectFixupsAndInitialFormulae ()">

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02210">2210</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### CollectInterestingTypesAndFactors() {#a0f7b75292a5fe583873379329eb58cc4}

<MemberDefinition
  prototype="void LSRInstance::CollectInterestingTypesAndFactors ()">

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02209">2209</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### CollectLoopInvariantFixupsAndFormulae() {#a3fd0b9ace01391c74a0102f465e8ed59}

<MemberDefinition
  prototype="void LSRInstance::CollectLoopInvariantFixupsAndFormulae ()">
Check for other uses of loop-invariant values which we&#39;re tracking.

These other uses will pin these values in registers, making them less profitable for elimination. TODO: This currently misses non-constant addrec step registers. TODO: Should this give more weight to users inside the loop?

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02231">2231</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### CountRegisters() {#acbf65bc4fdc59b76bb459e44a5dbced2}

<MemberDefinition
  prototype={<>void LSRInstance::CountRegisters (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/structs/anonymous-namespace-loopstrengthreduce-cpp-/formula">Formula</a> &amp; F, size&#95;t LUIdx)</>}>
Note which registers are used by the given formula, updating RegUses.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02228">2228</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### DeleteUse() {#a6277d3360ab51c8c32904a2ea3669630}

<MemberDefinition
  prototype={<>void LSRInstance::DeleteUse (<a href="/docs/api/classes/anonymous-namespace-loopstrengthreduce-cpp-/lsruse">LSRUse</a> &amp; LU, size&#95;t LUIdx)</>}>
Delete the given use from the Uses list.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02222">2222</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### EstimateSearchSpaceComplexity() {#a0000279470b1c2bb09a950398a66e54c}

<MemberDefinition
  prototype={<>size&#95;t LSRInstance::EstimateSearchSpaceComplexity () const</>}>
Estimate the worst-case number of solutions the solver might have to consider.

It almost never considers this many solutions because it prune the search space, but the pruning isn&#39;t always sufficient.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02257">2257</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### Expand() {#a7841bf80789049777d6e3e90bbd4b0db}

<MemberDefinition
  prototype={<>Value &#42; LSRInstance::Expand (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/anonymous-namespace-loopstrengthreduce-cpp-/lsruse">LSRUse</a> &amp; LU, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/structs/anonymous-namespace-loopstrengthreduce-cpp-/lsrfixup">LSRFixup</a> &amp; LF, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/structs/anonymous-namespace-loopstrengthreduce-cpp-/formula">Formula</a> &amp; F, <a href="/docs/api/classes/llvm/basicblock/#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> IP, <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; <a href="/docs/api/classes/llvm/weaktrackingvh">WeakTrackingVH</a> &gt; &amp; DeadInsts) const</>}>
Emit instructions for the leading candidate expression for this <a href="/docs/api/classes/anonymous-namespace-loopstrengthreduce-cpp-/lsruse">LSRUse</a> (this is called &quot;expanding&quot;).

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02282">2282</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### FilterOutUndesirableDedicatedRegisters() {#a91a58e38ab4f3d5a32a55a39b6840efa}

<MemberDefinition
  prototype="void LSRInstance::FilterOutUndesirableDedicatedRegisters ()">
If there are multiple formulae with the same set of registers used by other uses, pick the best one and delete the others.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02255">2255</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### FinalizeChain() {#a407dd69b2e6c0c82bf076a5f9a98c182}

<MemberDefinition
  prototype={<>void LSRInstance::FinalizeChain (<a href="/docs/api/structs/anonymous-namespace-loopstrengthreduce-cpp-/ivchain">IVChain</a> &amp; Chain)</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02204">2204</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### FindIVUserForCond() {#afbb35ddbd139e02e3d95e279b42db16c}

<MemberDefinition
  prototype={<>bool LSRInstance::FindIVUserForCond (<a href="/docs/api/classes/llvm/icmpinst">ICmpInst</a> &#42; Cond, <a href="/docs/api/classes/llvm/ivstrideuse">IVStrideUse</a> &#42;&amp; CondUse)</>}>
If Cond has an operand that is an expression of an IV, set the IV user and stride information and return true, otherwise return false.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02198">2198</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### FindUseWithSimilarFormula() {#aff198519c6d210ba7103bdb7749489c1}

<MemberDefinition
  prototype={<>LSRUse &#42; LSRInstance::FindUseWithSimilarFormula (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/structs/anonymous-namespace-loopstrengthreduce-cpp-/formula">Formula</a> &amp; F, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/anonymous-namespace-loopstrengthreduce-cpp-/lsruse">LSRUse</a> &amp; OrigLU)</>}>
Look for a use distinct from OrigLU which is has a formula that has the same registers as the given formula.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02224">2224</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### GenerateAllReuseFormulae() {#a8bf7bfbd64324ea1cb1050bb5c89d649}

<MemberDefinition
  prototype="void LSRInstance::GenerateAllReuseFormulae ()">
Generate formulae for each use.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02253">2253</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### GenerateCombinations() {#a4f9af4d0f16eb5e093fa9f008dcfd503}

<MemberDefinition
  prototype={<>void LSRInstance::GenerateCombinations (<a href="/docs/api/classes/anonymous-namespace-loopstrengthreduce-cpp-/lsruse">LSRUse</a> &amp; LU, unsigned LUIdx, <a href="/docs/api/structs/anonymous-namespace-loopstrengthreduce-cpp-/formula">Formula</a> Base)</>}>
Generate a formula consisting of all of the loop-dominating registers added into a single register.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02239">2239</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### GenerateConstantOffsets() {#aa1c61ef74e884a870cf98fd79abdb1ef}

<MemberDefinition
  prototype={<>void LSRInstance::GenerateConstantOffsets (<a href="/docs/api/classes/anonymous-namespace-loopstrengthreduce-cpp-/lsruse">LSRUse</a> &amp; LU, unsigned LUIdx, <a href="/docs/api/structs/anonymous-namespace-loopstrengthreduce-cpp-/formula">Formula</a> Base)</>}>
GenerateConstantOffsets - Generate reuse formulae using symbolic offsets.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02248">2248</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### GenerateConstantOffsetsImpl() {#ac3aec691599b58e7f5c51a5b5f52fd38}

<MemberDefinition
  prototype={<>void LSRInstance::GenerateConstantOffsetsImpl (<a href="/docs/api/classes/anonymous-namespace-loopstrengthreduce-cpp-/lsruse">LSRUse</a> &amp; LU, unsigned LUIdx, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/structs/anonymous-namespace-loopstrengthreduce-cpp-/formula">Formula</a> &amp; Base, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; <a href="/docs/api/classes/anonymous-namespace-loopstrengthreduce-cpp-/immediate">Immediate</a> &gt; &amp; Worklist, size&#95;t Idx, bool IsScaledReg=false)</>}>
Helper function for LSRInstance::GenerateConstantOffsets.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02244">2244</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### GenerateCrossUseConstantOffsets() {#a593ae190c9aaffceef97b5bc9a5f0b8b}

<MemberDefinition
  prototype="void LSRInstance::GenerateCrossUseConstantOffsets ()">
Look for registers which are a constant distance apart and try to form reuse opportunities between them.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02252">2252</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### GenerateICmpZeroScales() {#a099e39f2e93fc1a5ce139f9a54cdf8fb}

<MemberDefinition
  prototype={<>void LSRInstance::GenerateICmpZeroScales (<a href="/docs/api/classes/anonymous-namespace-loopstrengthreduce-cpp-/lsruse">LSRUse</a> &amp; LU, unsigned LUIdx, <a href="/docs/api/structs/anonymous-namespace-loopstrengthreduce-cpp-/formula">Formula</a> Base)</>}>
For ICmpZero, check to see if we can scale up the comparison.

For example, x == y -&gt; x&#42;c == y&#42;c.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02249">2249</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### GenerateIVChain() {#ac35652ffaf6855297da971358f94ee57}

<MemberDefinition
  prototype={<>void LSRInstance::GenerateIVChain (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/structs/anonymous-namespace-loopstrengthreduce-cpp-/ivchain">IVChain</a> &amp; Chain, <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; <a href="/docs/api/classes/llvm/weaktrackingvh">WeakTrackingVH</a> &gt; &amp; DeadInsts)</>}>
Generate an add or subtract for each <a href="/docs/api/structs/anonymous-namespace-loopstrengthreduce-cpp-/ivinc">IVInc</a> in a chain to materialize the IV user&#39;s operand from the previous IV user&#39;s operand.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02206">2206</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### GenerateReassociations() {#a131e86428d982f30a771fcef8036a594}

<MemberDefinition
  prototype={<>void LSRInstance::GenerateReassociations (<a href="/docs/api/classes/anonymous-namespace-loopstrengthreduce-cpp-/lsruse">LSRUse</a> &amp; LU, unsigned LUIdx, <a href="/docs/api/structs/anonymous-namespace-loopstrengthreduce-cpp-/formula">Formula</a> Base, unsigned Depth=0)</>}>
Split out subexpressions from adds and the bases of addrecs.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02233">2233</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### GenerateReassociationsImpl() {#af84182e8fe06102c0cc81bbaafc5807e}

<MemberDefinition
  prototype={<>void LSRInstance::GenerateReassociationsImpl (<a href="/docs/api/classes/anonymous-namespace-loopstrengthreduce-cpp-/lsruse">LSRUse</a> &amp; LU, unsigned LUIdx, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/structs/anonymous-namespace-loopstrengthreduce-cpp-/formula">Formula</a> &amp; Base, unsigned Depth, size&#95;t Idx, bool IsScaledReg=false)</>}>
Helper function for LSRInstance::GenerateReassociations.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02236">2236</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### GenerateScales() {#a8349baf5c3354477ba45c360896ffdaa}

<MemberDefinition
  prototype={<>void LSRInstance::GenerateScales (<a href="/docs/api/classes/anonymous-namespace-loopstrengthreduce-cpp-/lsruse">LSRUse</a> &amp; LU, unsigned LUIdx, <a href="/docs/api/structs/anonymous-namespace-loopstrengthreduce-cpp-/formula">Formula</a> Base)</>}>
Generate stride factor reuse formulae by making use of scaled-offset address modes, for example.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02250">2250</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### GenerateSymbolicOffsets() {#a26e4f1f4f86f4eaa6186570b28c625df}

<MemberDefinition
  prototype={<>void LSRInstance::GenerateSymbolicOffsets (<a href="/docs/api/classes/anonymous-namespace-loopstrengthreduce-cpp-/lsruse">LSRUse</a> &amp; LU, unsigned LUIdx, <a href="/docs/api/structs/anonymous-namespace-loopstrengthreduce-cpp-/formula">Formula</a> Base)</>}>
Generate reuse formulae using symbolic offsets.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02243">2243</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### GenerateSymbolicOffsetsImpl() {#a8ba5135d854d22334e82bebe878bc4f4}

<MemberDefinition
  prototype={<>void LSRInstance::GenerateSymbolicOffsetsImpl (<a href="/docs/api/classes/anonymous-namespace-loopstrengthreduce-cpp-/lsruse">LSRUse</a> &amp; LU, unsigned LUIdx, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/structs/anonymous-namespace-loopstrengthreduce-cpp-/formula">Formula</a> &amp; Base, size&#95;t Idx, bool IsScaledReg=false)</>}>
Helper function for LSRInstance::GenerateSymbolicOffsets.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02240">2240</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### GenerateTruncates() {#ae59c3c503720d1c5ed502655c7543617}

<MemberDefinition
  prototype={<>void LSRInstance::GenerateTruncates (<a href="/docs/api/classes/anonymous-namespace-loopstrengthreduce-cpp-/lsruse">LSRUse</a> &amp; LU, unsigned LUIdx, <a href="/docs/api/structs/anonymous-namespace-loopstrengthreduce-cpp-/formula">Formula</a> Base)</>}>
Generate reuse formulae from different IV types.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02251">2251</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### getUse() {#ad09b134600550cfb3ef01cacea128998}

<MemberDefinition
  prototype={<>std::pair&lt; size&#95;t, Immediate &gt; LSRInstance::getUse (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/scev">SCEV</a> &#42;&amp; Expr, <a href="/docs/api/classes/anonymous-namespace-loopstrengthreduce-cpp-/lsruse/#a1ba9c6c01c92aafaeb2986bdd756dcf0">LSRUse::KindType</a> Kind, <a href="/docs/api/structs/anonymous-namespace-loopstrengthreduce-cpp-/memaccessty">MemAccessTy</a> AccessTy)</>}>
Return an <a href="/docs/api/classes/anonymous-namespace-loopstrengthreduce-cpp-/lsruse">LSRUse</a> index and an offset value for a fixup which needs the given expression, with the given kind and optional access type.

Either reuse an existing use or create a new one, as needed.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02219">2219</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### HoistInsertPosition() {#adddf31c945c77716f8a1e0740c0a525a}

<MemberDefinition
  prototype={<>BasicBlock::iterator LSRInstance::HoistInsertPosition (<a href="/docs/api/classes/llvm/basicblock/#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> IP, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; <a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42; &gt; &amp; Inputs) const</>}>
Helper for AdjustInsertPositionForExpand.

Climb up the dominator tree far as we can go while still being dominated by the input positions. This helps canonicalize the insert position, which encourages sharing.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02276">2276</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### ImplementSolution() {#a4453cb4bffc0cbc29cb9f31f4f9083f8}

<MemberDefinition
  prototype={<>void LSRInstance::ImplementSolution (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/structs/anonymous-namespace-loopstrengthreduce-cpp-/formula">Formula</a> &#42; &gt; &amp; Solution)</>}>
Rewrite all the fixup locations with new values, following the chosen solution.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02290">2290</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### InsertFormula() {#ae3c384f80656b918926278569d3afa24}

<MemberDefinition
  prototype={<>bool LSRInstance::InsertFormula (<a href="/docs/api/classes/anonymous-namespace-loopstrengthreduce-cpp-/lsruse">LSRUse</a> &amp; LU, unsigned LUIdx, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/structs/anonymous-namespace-loopstrengthreduce-cpp-/formula">Formula</a> &amp; F)</>}>
If the given formula has not yet been inserted, add it to the list, and return true.

Return false otherwise.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02229">2229</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### InsertInitialFormula() {#a8d8810f530e1664ce5e435c9e1c10a11}

<MemberDefinition
  prototype={<>void LSRInstance::InsertInitialFormula (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/scev">SCEV</a> &#42; S, <a href="/docs/api/classes/anonymous-namespace-loopstrengthreduce-cpp-/lsruse">LSRUse</a> &amp; LU, size&#95;t LUIdx)</>}>
Insert a formula for the given expression into the given use, separating out loop-variant portions from loop-invariant and loop-computable portions.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02226">2226</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### InsertSupplementalFormula() {#ad456e3e06233ba42e26377d835cbd32c}

<MemberDefinition
  prototype={<>void LSRInstance::InsertSupplementalFormula (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/scev">SCEV</a> &#42; S, <a href="/docs/api/classes/anonymous-namespace-loopstrengthreduce-cpp-/lsruse">LSRUse</a> &amp; LU, size&#95;t LUIdx)</>}>
Insert a simple single-register formula for the given expression into the given use.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02227">2227</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### NarrowSearchSpaceByCollapsingUnrolledCode() {#abaac954dc35f3f3dc5734d74729d4b59}

<MemberDefinition
  prototype="void LSRInstance::NarrowSearchSpaceByCollapsingUnrolledCode ()">
When there are many registers for expressions like A, A+1, A+2, etc., allocate a single register for them.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02259">2259</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### NarrowSearchSpaceByDeletingCostlyFormulas() {#a5021dc188b1f29105cbb965468502514}

<MemberDefinition
  prototype="void LSRInstance::NarrowSearchSpaceByDeletingCostlyFormulas ()">
The function delete formulas with high registers number expectation.

Assuming we don&#39;t know the value of each formula (already delete all inefficient), generate probability of not selecting for each register. For example, Use1: reg(a) + reg(&#123;0,+,1&#125;) reg(a) + reg(&#123;-1,+,1&#125;) + 1 reg(&#123;a,+,1&#125;) Use2: reg(b) + reg(&#123;0,+,1&#125;) reg(b) + reg(&#123;-1,+,1&#125;) + 1 reg(&#123;b,+,1&#125;) Use3: reg(c) + reg(b) + reg(&#123;0,+,1&#125;) reg(c) + reg(&#123;b,+,1&#125;)

Probability of not selecting Use1 Use2 Use3 reg(a) (1/3) &#42; 1 &#42; 1 reg(b) 1 &#42; (1/3) &#42; (1/2) reg(&#123;0,+,1&#125;) (2/3) &#42; (2/3) &#42; (1/2) reg(&#123;-1,+,1&#125;) (2/3) &#42; (2/3) &#42; 1 reg(&#123;a,+,1&#125;) (2/3) &#42; 1 &#42; 1 reg(&#123;b,+,1&#125;) 1 &#42; (2/3) &#42; (2/3) reg(c) 1 &#42; 1 &#42; 0

Now count registers number mathematical expectation for each formula: Note that for each use we exclude probability if not selecting for the use. For example for Use1 probability for reg(a) would be just 1 &#42; 1 (excluding probabilty 1/3 of not selecting for Use1). Use1: reg(a) + reg(&#123;0,+,1&#125;) 1 + 1/3 – to be deleted reg(a) + reg(&#123;-1,+,1&#125;) + 1 1 + 4/9 – to be deleted reg(&#123;a,+,1&#125;) 1 Use2: reg(b) + reg(&#123;0,+,1&#125;) 1/2 + 1/3 – to be deleted reg(b) + reg(&#123;-1,+,1&#125;) + 1 1/2 + 2/3 – to be deleted reg(&#123;b,+,1&#125;) 2/3 Use3: reg(c) + reg(b) + reg(&#123;0,+,1&#125;) 1 + 1/3 + 4/9 – to be deleted reg(c) + reg(&#123;b,+,1&#125;) 1 + 2/3

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02263">2263</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### NarrowSearchSpaceByDetectingSupersets() {#a9bfd40d657b0d602db076d1e74b36ac3}

<MemberDefinition
  prototype="void LSRInstance::NarrowSearchSpaceByDetectingSupersets ()">
When one formula uses a superset of the registers of another formula, it won&#39;t help reduce register pressure (though it may not necessarily hurt register pressure); remove it to simplify the system.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02258">2258</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### NarrowSearchSpaceByFilterFormulaWithSameScaledReg() {#ae4b1d4c4c64612023ec04a6ab797947f}

<MemberDefinition
  prototype="void LSRInstance::NarrowSearchSpaceByFilterFormulaWithSameScaledReg ()">
If a <a href="/docs/api/classes/anonymous-namespace-loopstrengthreduce-cpp-/lsruse">LSRUse</a> has multiple formulae with the same ScaledReg and Scale.

Pick the best one and delete the others. This narrowing heuristic is to keep as many formulae with different Scale and ScaledReg pair as possible while narrowing the search space. The benefit is that it is more likely to find out a better solution from a formulae set with more Scale and ScaledReg variations than a formulae set with the same Scale and ScaledReg. The picking winner reg heuristic will often keep the formulae with the same Scale and ScaledReg and filter others, and we want to avoid that if possible.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02261">2261</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### NarrowSearchSpaceByFilterPostInc() {#a97ecf0b652ef46c7bede7441b512b175}

<MemberDefinition
  prototype="void LSRInstance::NarrowSearchSpaceByFilterPostInc ()">
If we are over the complexity limit, filter out any post-inc prefering variables to only post-inc values.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02262">2262</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### NarrowSearchSpaceByPickingWinnerRegs() {#ad10fa4f61542c7d3f2b075d6631973db}

<MemberDefinition
  prototype="void LSRInstance::NarrowSearchSpaceByPickingWinnerRegs ()">
Pick a register which seems likely to be profitable, and then in any use which has any reference to that register, delete all formulae which do not reference that register.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02264">2264</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### NarrowSearchSpaceByRefilteringUndesirableDedicatedRegisters() {#abfdece554ed27edf399f99cf8b7decde}

<MemberDefinition
  prototype="void LSRInstance::NarrowSearchSpaceByRefilteringUndesirableDedicatedRegisters ()">
Call FilterOutUndesirableDedicatedRegisters again, if necessary, now that we&#39;ve done more filtering, as it may be able to find more formulae to eliminate.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02260">2260</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### NarrowSearchSpaceUsingHeuristics() {#a8957c043357b655f3091a9c093e2652b}

<MemberDefinition
  prototype="void LSRInstance::NarrowSearchSpaceUsingHeuristics ()">
If there are an extraordinary number of formulae to choose from, use some rough heuristics to prune down the number of formulae.

This keeps the main solver from taking an extraordinary amount of time in some worst-case scenarios.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02265">2265</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### OptimizeLoopTermCond() {#accaaa0062865326525359f6a78eff0f5}

<MemberDefinition
  prototype="void LSRInstance::OptimizeLoopTermCond ()">
Change loop terminating condition to use the postinc iv when possible.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02200">2200</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### OptimizeMax() {#a32352d875d91e0c18e72f49a752d071d}

<MemberDefinition
  prototype={<>ICmpInst &#42; LSRInstance::OptimizeMax (<a href="/docs/api/classes/llvm/icmpinst">ICmpInst</a> &#42; Cond, <a href="/docs/api/classes/llvm/ivstrideuse">IVStrideUse</a> &#42;&amp; CondUse)</>}>
Rewrite the loop&#39;s terminating condition if it uses a max computation.

This is a narrow solution to a specific, but acute, problem. For loops like this:

i = 0; do &#123; p&#91;i&#93; = 0.0; &#125; while (++i &lt; n);

the trip count isn&#39;t just &#39;n&#39;, because &#39;n&#39; might not be positive. And unfortunately this can come up even for loops where the user didn&#39;t use a C do-while loop. For example, seemingly well-behaved top-test loops will commonly be lowered like this:

if (n &gt; 0) &#123; i = 0; do &#123; p&#91;i&#93; = 0.0; &#125; while (++i &lt; n); &#125;

and then it&#39;s possible for subsequent optimization to obscure the if test in such a way that indvars can&#39;t find it.

When indvars can&#39;t find the if test in loops like this, it creates a max expression, which allows it to give the loop a canonical induction variable:

i = 0; max = n &lt; 1 ? 1 : n; do &#123; p&#91;i&#93; = 0.0; &#125; while (++i != max);

Canonical induction variables are necessary because the loop passes are designed around them. The most obvious example of this is the <a href="/docs/api/classes/llvm/loopinfo">LoopInfo</a> analysis, which doesn&#39;t remember trip count values. It expects to be able to rediscover the trip count each time it is needed, and it does this using a simple analysis that only succeeds if the loop has a canonical induction variable.

However, when it comes time to generate code, the maximum operation can be quite costly, especially if it&#39;s inside of an outer loop.

This function solves this problem by detecting this type of loop and rewriting their conditions from ICMP&#95;NE back to ICMP&#95;SLT, and deleting the instructions for the maximum computation.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02199">2199</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### OptimizeShadowIV() {#ae5b019b20b40da9d880b7b9643a42616}

<MemberDefinition
  prototype="void LSRInstance::OptimizeShadowIV ()">
If IV is used in a int-to-float cast inside the loop then try to eliminate the cast operation.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02197">2197</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### reconcileNewOffset() {#a94935b404993387e7aec5cdfb1aef6d5}

<MemberDefinition
  prototype={<>bool LSRInstance::reconcileNewOffset (<a href="/docs/api/classes/anonymous-namespace-loopstrengthreduce-cpp-/lsruse">LSRUse</a> &amp; LU, <a href="/docs/api/classes/anonymous-namespace-loopstrengthreduce-cpp-/immediate">Immediate</a> NewOffset, bool HasBaseReg, <a href="/docs/api/classes/anonymous-namespace-loopstrengthreduce-cpp-/lsruse/#a1ba9c6c01c92aafaeb2986bdd756dcf0">LSRUse::KindType</a> Kind, <a href="/docs/api/structs/anonymous-namespace-loopstrengthreduce-cpp-/memaccessty">MemAccessTy</a> AccessTy)</>}>
Determine if the given use can accommodate a fixup at the given offset and other details.

If so, update the use and return true.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02216">2216</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### Rewrite() {#a12abc9d7a83f261e6f12535cc9b94588}

<MemberDefinition
  prototype={<>void LSRInstance::Rewrite (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/anonymous-namespace-loopstrengthreduce-cpp-/lsruse">LSRUse</a> &amp; LU, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/structs/anonymous-namespace-loopstrengthreduce-cpp-/lsrfixup">LSRFixup</a> &amp; LF, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/structs/anonymous-namespace-loopstrengthreduce-cpp-/formula">Formula</a> &amp; F, <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; <a href="/docs/api/classes/llvm/weaktrackingvh">WeakTrackingVH</a> &gt; &amp; DeadInsts)</>}>
Emit instructions for the leading candidate expression for this <a href="/docs/api/classes/anonymous-namespace-loopstrengthreduce-cpp-/lsruse">LSRUse</a> (this is called &quot;expanding&quot;), and update the UserInst to reference the newly expanded value.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02288">2288</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### RewriteForPHI() {#a26330898baea53c04152823be7652aa9}

<MemberDefinition
  prototype={<>void LSRInstance::RewriteForPHI (<a href="/docs/api/classes/llvm/phinode">PHINode</a> &#42; PN, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/anonymous-namespace-loopstrengthreduce-cpp-/lsruse">LSRUse</a> &amp; LU, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/structs/anonymous-namespace-loopstrengthreduce-cpp-/lsrfixup">LSRFixup</a> &amp; LF, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/structs/anonymous-namespace-loopstrengthreduce-cpp-/formula">Formula</a> &amp; F, <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; <a href="/docs/api/classes/llvm/weaktrackingvh">WeakTrackingVH</a> &gt; &amp; DeadInsts)</>}>
Helper for Rewrite.

PHI nodes are special because the use of their operands effectively happens in their predecessor blocks, so the expression may need to be expanded in multiple places.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02285">2285</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### Solve() {#a5b08cb248b1984ff1dae6899aa886a4e}

<MemberDefinition
  prototype={<>void LSRInstance::Solve (<a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/structs/anonymous-namespace-loopstrengthreduce-cpp-/formula">Formula</a> &#42; &gt; &amp; Solution) const</>}>
Choose one formula from each use.

Return the results in the given Solution vector.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02273">2273</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### SolveRecurse() {#ad48e169c4317e14b093e535f1db7c5e4}

<MemberDefinition
  prototype={<>void LSRInstance::SolveRecurse (<a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/structs/anonymous-namespace-loopstrengthreduce-cpp-/formula">Formula</a> &#42; &gt; &amp; Solution, <a href="/docs/api/classes/anonymous-namespace-loopstrengthreduce-cpp-/cost">Cost</a> &amp; SolutionCost, <a href="/docs/api/classes/llvm/smallvectorimpl">SmallVectorImpl</a>&lt; <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/structs/anonymous-namespace-loopstrengthreduce-cpp-/formula">Formula</a> &#42; &gt; &amp; Workspace, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/anonymous-namespace-loopstrengthreduce-cpp-/cost">Cost</a> &amp; CurCost, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/smallptrset">SmallPtrSet</a>&lt; <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/scev">SCEV</a> &#42;, 16 &gt; &amp; CurRegs, <a href="/docs/api/classes/llvm/denseset">DenseSet</a>&lt; <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/scev">SCEV</a> &#42; &gt; &amp; VisitedRegs) const</>}>
This is the recursive solver.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02267">2267</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Attributes

### AC {#aac46d97825effef6f5543742a094865a}

<MemberDefinition
  prototype={<>AssumptionCache&amp; anonymous&#95;namespace&#123;LoopStrengthReduce.cpp&#125;::LSRInstance::AC</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02141">2141</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### AMK {#acb6190119088b7c7a92a909bb6428187}

<MemberDefinition
  prototype={<>TTI::AddressingModeKind anonymous&#95;namespace&#123;LoopStrengthReduce.cpp&#125;::LSRInstance::AMK</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02146">2146</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### BaselineCost {#ac7190d2744d2cff4851540183528393c}

<MemberDefinition
  prototype={<>Cost anonymous&#95;namespace&#123;LoopStrengthReduce.cpp&#125;::LSRInstance::BaselineCost</>}>
The cost of the current <a href="/docs/api/classes/llvm/scev">SCEV</a>, the best solution by LSR will be dropped if the solution is not profitable.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02166">2166</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### Changed {#aff619f77b08c608f1727c88e802b49e8}

<MemberDefinition
  prototype={<>bool anonymous&#95;namespace&#123;LoopStrengthReduce.cpp&#125;::LSRInstance::Changed = false</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02148">2148</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### DT {#a56bd333fe5572f557f3d3ca5632acf94}

<MemberDefinition
  prototype={<>DominatorTree&amp; anonymous&#95;namespace&#123;LoopStrengthReduce.cpp&#125;::LSRInstance::DT</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02139">2139</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### Factors {#a486ffa7182e7f0cdb85dc8030c19d4d0}

<MemberDefinition
  prototype={<>SetVector&lt;int64&#95;t, SmallVector&lt;int64&#95;t, 8&gt;, SmallSet&lt;int64&#95;t, 8&gt; &gt; anonymous&#95;namespace&#123;LoopStrengthReduce.cpp&#125;::LSRInstance::Factors</>}>
Interesting factors between use strides.

We explicitly use a <a href="/docs/api/classes/llvm/setvector">SetVector</a> which contains a <a href="/docs/api/classes/llvm/smallset">SmallSet</a>, instead of the default, a <a href="/docs/api/classes/llvm/smalldenseset">SmallDenseSet</a>, because we need to use the full range of int64&#95;ts, and there&#39;s currently no good way of doing that with <a href="/docs/api/classes/llvm/smalldenseset">SmallDenseSet</a>.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02162">2162</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### InsertedNonLCSSAInsts {#af74aac279158f04fb154b5363329815d}

<MemberDefinition
  prototype={<>SmallSetVector&lt;Instruction &#42;, 4&gt; anonymous&#95;namespace&#123;LoopStrengthReduce.cpp&#125;::LSRInstance::InsertedNonLCSSAInsts</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02195">2195</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### IU {#a43374274406d3d89701c862c95324932}

<MemberDefinition
  prototype={<>IVUsers&amp; anonymous&#95;namespace&#123;LoopStrengthReduce.cpp&#125;::LSRInstance::IU</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02137">2137</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### IVChainVec {#ae3cfb6ab9a4ed4669134aab058930e74}

<MemberDefinition
  prototype={<>SmallVector&lt;IVChain, MaxChains&gt; anonymous&#95;namespace&#123;LoopStrengthReduce.cpp&#125;::LSRInstance::IVChainVec</>}>
IV users can form a chain of IV increments.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02183">2183</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### IVIncInsertPos {#a0e321389f3c9cc55787b5b0b34d5f60e}

<MemberDefinition
  prototype={<>Instruction&#42; anonymous&#95;namespace&#123;LoopStrengthReduce.cpp&#125;::LSRInstance::IVIncInsertPos = nullptr</>}>
This is the insert position that the current loop&#39;s induction variable increment should be placed.

In simple loops, this is the latch block&#39;s terminator. But in more complicated cases, this is a position which will dominate all the in-loop post-increment users.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02154">2154</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### IVIncSet {#ae340fc3e385bf9386c2b74615d163ac9}

<MemberDefinition
  prototype={<>SmallPtrSet&lt;Use&#42;, MaxChains&gt; anonymous&#95;namespace&#123;LoopStrengthReduce.cpp&#125;::LSRInstance::IVIncSet</>}>
IV users that belong to profitable IVChains.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02186">2186</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### L {#ac50dbb6771a787a7f4469fb12d6a0b6b}

<MemberDefinition
  prototype={<>Loop&#42; const anonymous&#95;namespace&#123;LoopStrengthReduce.cpp&#125;::LSRInstance::L</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02144">2144</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### LI {#a97382d1d7a63180310d70172064215d9}

<MemberDefinition
  prototype={<>LoopInfo&amp; anonymous&#95;namespace&#123;LoopStrengthReduce.cpp&#125;::LSRInstance::LI</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02140">2140</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### MSSAU {#a321e2f21f3b9fc968baf2f8a93dffe80}

<MemberDefinition
  prototype={<>MemorySSAUpdater&#42; anonymous&#95;namespace&#123;LoopStrengthReduce.cpp&#125;::LSRInstance::MSSAU</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02145">2145</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### RegUses {#a6ab18d8bb0759fe83f7d5efb6d0ac046}

<MemberDefinition
  prototype={<>RegUseTracker anonymous&#95;namespace&#123;LoopStrengthReduce.cpp&#125;::LSRInstance::RegUses</>}>
Track which uses use which register candidates.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02175">2175</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### Rewriter {#a7f350a9d8ea17d7abce0edc235bb888a}

<MemberDefinition
  prototype={<>SCEVExpander anonymous&#95;namespace&#123;LoopStrengthReduce.cpp&#125;::LSRInstance::Rewriter</>}
  labels = {["mutable"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02147">2147</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### ScalarEvolutionIVs {#a72e78c2942bf7e8348624c615d080871}

<MemberDefinition
  prototype={<>SmallVector&lt;llvm::WeakVH, 2&gt; anonymous&#95;namespace&#123;LoopStrengthReduce.cpp&#125;::LSRInstance::ScalarEvolutionIVs</>}>
Induction variables that were generated and inserted by the <a href="/docs/api/classes/llvm/scev">SCEV</a> Expander.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02189">2189</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### SE {#a75d0eecd5dcdbebc60559c49484263b4}

<MemberDefinition
  prototype={<>ScalarEvolution&amp; anonymous&#95;namespace&#123;LoopStrengthReduce.cpp&#125;::LSRInstance::SE</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02138">2138</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### TLI {#a8727f18583c0369429fae4badd0cb76f}

<MemberDefinition
  prototype={<>TargetLibraryInfo&amp; anonymous&#95;namespace&#123;LoopStrengthReduce.cpp&#125;::LSRInstance::TLI</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02142">2142</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### TTI {#a0e1752a3672e005bebad0b4fa21c80d1}

<MemberDefinition
  prototype={<>const TargetTransformInfo&amp; anonymous&#95;namespace&#123;LoopStrengthReduce.cpp&#125;::LSRInstance::TTI</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02143">2143</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### Types {#acdeb6377ff95fc86ef01f0bd7e41c65a}

<MemberDefinition
  prototype={<>SmallSetVector&lt;Type &#42;, 4&gt; anonymous&#95;namespace&#123;LoopStrengthReduce.cpp&#125;::LSRInstance::Types</>}>
Interesting use types, to facilitate truncation reuse.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02169">2169</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### UseMap {#aa2bc35d39d375eefad685b9526d1e6ec}

<MemberDefinition
  prototype={<>UseMapTy anonymous&#95;namespace&#123;LoopStrengthReduce.cpp&#125;::LSRInstance::UseMap</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02214">2214</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

### Uses {#ab12767d7dcdf10ee7cf60f2468f3daad}

<MemberDefinition
  prototype={<>SmallVector&lt;LSRUse, 16&gt; anonymous&#95;namespace&#123;LoopStrengthReduce.cpp&#125;::LSRInstance::Uses</>}
  labels = {["mutable"]}>
The list of interesting uses.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02172">2172</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Static Attributes

### MaxChains {#adea7d2cd98babadcd59137cb46b66af8}

<MemberDefinition
  prototype={<>const unsigned anonymous&#95;namespace&#123;LoopStrengthReduce.cpp&#125;::LSRInstance::MaxChains = 8</>}
  labels = {["static"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp/#l02180">2180</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following file:

<ul>
<li><a href="/docs/api/files/lib/lib/transforms/lib/transforms/scalar/loopstrengthreduce-cpp">LoopStrengthReduce.cpp</a></li>
</ul>

</DoxygenPage>
