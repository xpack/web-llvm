---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/anonymous-namespace-amdgpuatomicoptimizer-cpp-/amdgpuatomicoptimizerimpl
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `AMDGPUAtomicOptimizerImpl` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>



## Declaration

<CodeBlock>class anonymous_namespace{AMDGPUAtomicOptimizer.cpp}::AMDGPUAtomicOptimizerImpl</CodeBlock>

## Base class

<MembersIndex>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/instvisitor">InstVisitor&lt;SubClass, RetTy&gt;</a></>}>
Base class for instruction visitors. <a href="/docs/api/classes/llvm/instvisitor/#details">More...</a>
</MembersIndexItem>

</MembersIndex>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#af9f26825b8ad5ebb9cb2aa83bb9ecf6f">AMDGPUAtomicOptimizerImpl</a> ()=delete</>}>
</MembersIndexItem>

<MembersIndexItem
  name={<><a href="#ac87543297f9b2721fc5a3774f50ec00c">AMDGPUAtomicOptimizerImpl</a> (Function &amp;F, const UniformityInfo &amp;UA, DomTreeUpdater &amp;DTU, const GCNSubtarget &amp;ST, ScanOptions ScanImpl)</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="bool"
  name={<><a href="#a221c2b15dc8ca25c52a54ed9b1276183">run</a> ()</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a7686ed8fbdeb649c6997dd8906b0833a">visitAtomicRMWInst</a> (AtomicRMWInst &amp;I)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#afe49db1bd3e541d3bf4c58ef745a14a7">visitIntrinsicInst</a> (IntrinsicInst &amp;I)</>}>
</MembersIndexItem>

</MembersIndex>

## Private Member Functions Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/value">Value</a> &#42;</>}
  name={<><a href="#a038f3cab901f8917b188d7081705194d">buildReduction</a> (IRBuilder&lt;&gt; &amp;B, AtomicRMWInst::BinOp Op, Value &#42;V, Value &#42;const Identity) const</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/value">Value</a> &#42;</>}
  name={<><a href="#aba8c24c2812a4cb1702bda6bcb71fb31">buildScan</a> (IRBuilder&lt;&gt; &amp;B, AtomicRMWInst::BinOp Op, Value &#42;V, Value &#42;const Identity) const</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::pair&lt; <a href="/docs/api/classes/llvm/value">Value</a> &#42;, <a href="/docs/api/classes/llvm/value">Value</a> &#42; &gt;</>}
  name={<><a href="#a882198097ac0ba8628a830788e8d3f54">buildScanIteratively</a> (IRBuilder&lt;&gt; &amp;B, AtomicRMWInst::BinOp Op, Value &#42;const Identity, Value &#42;V, Instruction &amp;I, BasicBlock &#42;ComputeLoop, BasicBlock &#42;ComputeEnd) const</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/value">Value</a> &#42;</>}
  name={<><a href="#a00d03dc3bee94dd2f6df2b71a93d71d5">buildShiftRight</a> (IRBuilder&lt;&gt; &amp;B, Value &#42;V, Value &#42;const Identity) const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#ad8d9ee484a5c97546da5b5584a2a3a64">optimizeAtomic</a> (Instruction &amp;I, AtomicRMWInst::BinOp Op, unsigned ValIdx, bool ValDivergent) const</>}>
</MembersIndexItem>

</MembersIndex>

## Private Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/datalayout">DataLayout</a> &amp;</>}
  name={<><a href="#ad45c00d0b70479577e4372b2e577ad65">DL</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/domtreeupdater">DomTreeUpdater</a> &amp;</>}
  name={<><a href="#aed8e22e23378ed237795a446fdb4eeed">DTU</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/function">Function</a> &amp;</>}
  name={<><a href="#aad769a6fce89e1a4aff192629ce4a4fd">F</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a28d7a47fd2003c92af3de8980c0948e2">IsPixelShader</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/namespaces/llvm/#a0792ed4b093a9c219a38ecd8c868a351">ScanOptions</a></>}
  name={<><a href="#ab77f2fcc417b9b2530381fb7a3d75c52">ScanImpl</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/gcnsubtarget">GCNSubtarget</a> &amp;</>}
  name={<><a href="#ad0827b637cf27e4aac4fd0b4c8dcbb8e">ST</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/smallvector">SmallVector</a>&lt; <a href="/docs/api/structs/anonymous-namespace-amdgpuatomicoptimizer-cpp-/replacementinfo">ReplacementInfo</a>, 8 &gt;</>}
  name={<><a href="#a7917d64e7707c89c07e68dabfe3768aa">ToReplace</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/namespaces/llvm/#a00a2f5a62b5d5d5b6b0e143c4d30041f">UniformityInfo</a> &amp;</>}
  name={<><a href="#ada738c85c8f4fef9ed7024afb75f0e71">UA</a></>}>
</MembersIndexItem>

</MembersIndex>


Definition at line 66 of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdgpuatomicoptimizer-cpp">AMDGPUAtomicOptimizer.cpp</a>.

<SectionDefinition>

## Public Constructors

### AMDGPUAtomicOptimizerImpl() {#af9f26825b8ad5ebb9cb2aa83bb9ecf6f}

<MemberDefinition
  prototype={<>anonymous&#95;namespace&#123;AMDGPUAtomicOptimizer.cpp&#125;::AMDGPUAtomicOptimizerImpl::AMDGPUAtomicOptimizerImpl ()</>}
  labels = {["delete"]}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdgpuatomicoptimizer-cpp/#l00093">93</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdgpuatomicoptimizer-cpp">AMDGPUAtomicOptimizer.cpp</a>.
</MemberDefinition>

### AMDGPUAtomicOptimizerImpl() {#ac87543297f9b2721fc5a3774f50ec00c}

<MemberDefinition
  prototype={<>anonymous&#95;namespace&#123;AMDGPUAtomicOptimizer.cpp&#125;::AMDGPUAtomicOptimizerImpl::AMDGPUAtomicOptimizerImpl (<a href="/docs/api/classes/llvm/function">Function</a> &amp; F, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/namespaces/llvm/#a00a2f5a62b5d5d5b6b0e143c4d30041f">UniformityInfo</a> &amp; UA, <a href="/docs/api/classes/llvm/domtreeupdater">DomTreeUpdater</a> &amp; DTU, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/gcnsubtarget">GCNSubtarget</a> &amp; ST, <a href="/docs/api/namespaces/llvm/#a0792ed4b093a9c219a38ecd8c868a351">ScanOptions</a> ScanImpl)</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdgpuatomicoptimizer-cpp/#l00095">95</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdgpuatomicoptimizer-cpp">AMDGPUAtomicOptimizer.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### run() {#a221c2b15dc8ca25c52a54ed9b1276183}

<MemberDefinition
  prototype="bool AMDGPUAtomicOptimizerImpl::run ()">

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdgpuatomicoptimizer-cpp/#l00102">102</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdgpuatomicoptimizer-cpp">AMDGPUAtomicOptimizer.cpp</a>.
</MemberDefinition>

### visitAtomicRMWInst() {#a7686ed8fbdeb649c6997dd8906b0833a}

<MemberDefinition
  prototype={<>void AMDGPUAtomicOptimizerImpl::visitAtomicRMWInst (<a href="/docs/api/classes/llvm/atomicrmwinst">AtomicRMWInst</a> &amp; I)</>}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdgpuatomicoptimizer-cpp/#l00104">104</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdgpuatomicoptimizer-cpp">AMDGPUAtomicOptimizer.cpp</a>.
</MemberDefinition>

### visitIntrinsicInst() {#afe49db1bd3e541d3bf4c58ef745a14a7}

<MemberDefinition
  prototype={<>void AMDGPUAtomicOptimizerImpl::visitIntrinsicInst (<a href="/docs/api/classes/llvm/intrinsicinst">IntrinsicInst</a> &amp; I)</>}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdgpuatomicoptimizer-cpp/#l00105">105</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdgpuatomicoptimizer-cpp">AMDGPUAtomicOptimizer.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Functions

### buildReduction() {#a038f3cab901f8917b188d7081705194d}

<MemberDefinition
  prototype={<>Value &#42; AMDGPUAtomicOptimizerImpl::buildReduction (<a href="/docs/api/classes/llvm/irbuilder">IRBuilder</a>&lt;&gt; &amp; B, <a href="/docs/api/classes/llvm/atomicrmwinst/#a461cfbbb5c7a57ab73210498923cf615">AtomicRMWInst::BinOp</a> Op, <a href="/docs/api/classes/llvm/value">Value</a> &#42; V, <a href="/docs/api/classes/llvm/value">Value</a> &#42;<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> Identity) const</>}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdgpuatomicoptimizer-cpp/#l00078">78</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdgpuatomicoptimizer-cpp">AMDGPUAtomicOptimizer.cpp</a>.
</MemberDefinition>

### buildScan() {#aba8c24c2812a4cb1702bda6bcb71fb31}

<MemberDefinition
  prototype={<>Value &#42; AMDGPUAtomicOptimizerImpl::buildScan (<a href="/docs/api/classes/llvm/irbuilder">IRBuilder</a>&lt;&gt; &amp; B, <a href="/docs/api/classes/llvm/atomicrmwinst/#a461cfbbb5c7a57ab73210498923cf615">AtomicRMWInst::BinOp</a> Op, <a href="/docs/api/classes/llvm/value">Value</a> &#42; V, <a href="/docs/api/classes/llvm/value">Value</a> &#42;<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> Identity) const</>}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdgpuatomicoptimizer-cpp/#l00080">80</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdgpuatomicoptimizer-cpp">AMDGPUAtomicOptimizer.cpp</a>.
</MemberDefinition>

### buildScanIteratively() {#a882198097ac0ba8628a830788e8d3f54}

<MemberDefinition
  prototype={<>std::pair&lt; Value &#42;, Value &#42; &gt; AMDGPUAtomicOptimizerImpl::buildScanIteratively (<a href="/docs/api/classes/llvm/irbuilder">IRBuilder</a>&lt;&gt; &amp; B, <a href="/docs/api/classes/llvm/atomicrmwinst/#a461cfbbb5c7a57ab73210498923cf615">AtomicRMWInst::BinOp</a> Op, <a href="/docs/api/classes/llvm/value">Value</a> &#42;<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> Identity, <a href="/docs/api/classes/llvm/value">Value</a> &#42; V, <a href="/docs/api/classes/llvm/instruction">Instruction</a> &amp; I, <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; ComputeLoop, <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; ComputeEnd) const</>}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdgpuatomicoptimizer-cpp/#l00085">85</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdgpuatomicoptimizer-cpp">AMDGPUAtomicOptimizer.cpp</a>.
</MemberDefinition>

### buildShiftRight() {#a00d03dc3bee94dd2f6df2b71a93d71d5}

<MemberDefinition
  prototype={<>Value &#42; AMDGPUAtomicOptimizerImpl::buildShiftRight (<a href="/docs/api/classes/llvm/irbuilder">IRBuilder</a>&lt;&gt; &amp; B, <a href="/docs/api/classes/llvm/value">Value</a> &#42; V, <a href="/docs/api/classes/llvm/value">Value</a> &#42;<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> Identity) const</>}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdgpuatomicoptimizer-cpp/#l00082">82</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdgpuatomicoptimizer-cpp">AMDGPUAtomicOptimizer.cpp</a>.
</MemberDefinition>

### optimizeAtomic() {#ad8d9ee484a5c97546da5b5584a2a3a64}

<MemberDefinition
  prototype={<>void AMDGPUAtomicOptimizerImpl::optimizeAtomic (<a href="/docs/api/classes/llvm/instruction">Instruction</a> &amp; I, <a href="/docs/api/classes/llvm/atomicrmwinst/#a461cfbbb5c7a57ab73210498923cf615">AtomicRMWInst::BinOp</a> Op, unsigned ValIdx, bool ValDivergent) const</>}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdgpuatomicoptimizer-cpp/#l00089">89</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdgpuatomicoptimizer-cpp">AMDGPUAtomicOptimizer.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Attributes

### DL {#ad45c00d0b70479577e4372b2e577ad65}

<MemberDefinition
  prototype={<>const DataLayout&amp; anonymous&#95;namespace&#123;AMDGPUAtomicOptimizer.cpp&#125;::AMDGPUAtomicOptimizerImpl::DL</>}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdgpuatomicoptimizer-cpp/#l00072">72</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdgpuatomicoptimizer-cpp">AMDGPUAtomicOptimizer.cpp</a>.
</MemberDefinition>

### DTU {#aed8e22e23378ed237795a446fdb4eeed}

<MemberDefinition
  prototype={<>DomTreeUpdater&amp; anonymous&#95;namespace&#123;AMDGPUAtomicOptimizer.cpp&#125;::AMDGPUAtomicOptimizerImpl::DTU</>}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdgpuatomicoptimizer-cpp/#l00073">73</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdgpuatomicoptimizer-cpp">AMDGPUAtomicOptimizer.cpp</a>.
</MemberDefinition>

### F {#aad769a6fce89e1a4aff192629ce4a4fd}

<MemberDefinition
  prototype={<>Function&amp; anonymous&#95;namespace&#123;AMDGPUAtomicOptimizer.cpp&#125;::AMDGPUAtomicOptimizerImpl::F</>}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdgpuatomicoptimizer-cpp/#l00069">69</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdgpuatomicoptimizer-cpp">AMDGPUAtomicOptimizer.cpp</a>.
</MemberDefinition>

### IsPixelShader {#a28d7a47fd2003c92af3de8980c0948e2}

<MemberDefinition
  prototype={<>bool anonymous&#95;namespace&#123;AMDGPUAtomicOptimizer.cpp&#125;::AMDGPUAtomicOptimizerImpl::IsPixelShader</>}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdgpuatomicoptimizer-cpp/#l00075">75</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdgpuatomicoptimizer-cpp">AMDGPUAtomicOptimizer.cpp</a>.
</MemberDefinition>

### ScanImpl {#ab77f2fcc417b9b2530381fb7a3d75c52}

<MemberDefinition
  prototype={<>ScanOptions anonymous&#95;namespace&#123;AMDGPUAtomicOptimizer.cpp&#125;::AMDGPUAtomicOptimizerImpl::ScanImpl</>}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdgpuatomicoptimizer-cpp/#l00076">76</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdgpuatomicoptimizer-cpp">AMDGPUAtomicOptimizer.cpp</a>.
</MemberDefinition>

### ST {#ad0827b637cf27e4aac4fd0b4c8dcbb8e}

<MemberDefinition
  prototype={<>const GCNSubtarget&amp; anonymous&#95;namespace&#123;AMDGPUAtomicOptimizer.cpp&#125;::AMDGPUAtomicOptimizerImpl::ST</>}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdgpuatomicoptimizer-cpp/#l00074">74</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdgpuatomicoptimizer-cpp">AMDGPUAtomicOptimizer.cpp</a>.
</MemberDefinition>

### ToReplace {#a7917d64e7707c89c07e68dabfe3768aa}

<MemberDefinition
  prototype={<>SmallVector&lt;ReplacementInfo, 8&gt; anonymous&#95;namespace&#123;AMDGPUAtomicOptimizer.cpp&#125;::AMDGPUAtomicOptimizerImpl::ToReplace</>}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdgpuatomicoptimizer-cpp/#l00070">70</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdgpuatomicoptimizer-cpp">AMDGPUAtomicOptimizer.cpp</a>.
</MemberDefinition>

### UA {#ada738c85c8f4fef9ed7024afb75f0e71}

<MemberDefinition
  prototype={<>const UniformityInfo&amp; anonymous&#95;namespace&#123;AMDGPUAtomicOptimizer.cpp&#125;::AMDGPUAtomicOptimizerImpl::UA</>}>

Definition at line <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdgpuatomicoptimizer-cpp/#l00071">71</a> of file <a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdgpuatomicoptimizer-cpp">AMDGPUAtomicOptimizer.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following file:

<ul>
<li><a href="/docs/api/files/lib/lib/target/lib/target/amdgpu/amdgpuatomicoptimizer-cpp">AMDGPUAtomicOptimizer.cpp</a></li>
</ul>

</DoxygenPage>
