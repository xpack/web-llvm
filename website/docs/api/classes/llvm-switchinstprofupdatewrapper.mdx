---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/llvm/switchinstprofupdatewrapper
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `SwitchInstProfUpdateWrapper` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>

A wrapper class to simplify modification of <a href="/docs/api/classes/llvm/switchinst">SwitchInst</a> cases along with their prof branch&#95;weights metadata. <a href="#details">More...</a>

## Declaration

<CodeBlock>class llvm::SwitchInstProfUpdateWrapper</CodeBlock>

## Included Headers

<IncludesList>
<IncludesListItem
  filePath="llvm/IR/Instructions.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/ir/instructions-h"
  isLocal="true" />
</IncludesList>

## Public Member Typedefs Index

<MembersIndex>

<MembersIndexItem
  type="using"
  name={<><a href="#acf60dfe9415b02d8da94b723e1ce87f8">CaseWeightOpt</a> = std::optional&lt; uint32&#95;t &gt;</>}>
</MembersIndexItem>

</MembersIndex>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a8a2790be7d6dce25f86b19cc9221a1c7">SwitchInstProfUpdateWrapper</a> (SwitchInst &amp;SI)</>}>
</MembersIndexItem>

</MembersIndex>

## Public Destructor Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a9268b49b041e1356b102cc48ae82a559">~SwitchInstProfUpdateWrapper</a> ()</>}>
</MembersIndexItem>

</MembersIndex>

## Public Operators Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#ac6e30063cd182edcbc2dfd4fd8cd116e">operator SwitchInst &#42;</a> ()</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/switchinst">SwitchInst</a> &#42;</>}
  name={<><a href="#ad10b89b31a4aa2ab4b2d36f65e9c21d6">operator-&gt;</a> ()</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/switchinst">SwitchInst</a> &amp;</>}
  name={<><a href="#a7b25c3fd0b76707b4b31b068d67eae16">operator&#42;</a> ()</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="void"
  name={<><a href="#a722eca444a919e1bc6af18b07941aad9">addCase</a> (ConstantInt &#42;OnVal, BasicBlock &#42;Dest, CaseWeightOpt W)</>}>
Delegate the call to the underlying <a href="/docs/api/classes/llvm/switchinst/#a62abc2475d09c01d583ba24a487898fd">SwitchInst::addCase()</a> and set the specified branch weight for the added case. <a href="#a722eca444a919e1bc6af18b07941aad9">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/iplist-impl/#a4563732eae31ee14694e7ce17a5a6749">Instruction::InstListType::iterator</a></>}
  name={<><a href="#a241eb312f38b46a95df18ba8a6250636">eraseFromParent</a> ()</>}>
Delegate the call to the underlying <a href="/docs/api/classes/llvm/instruction/#a601ee49a4c4e0babf29bd1cf09036570">SwitchInst::eraseFromParent()</a> and mark this object to not touch the underlying <a href="/docs/api/classes/llvm/switchinst">SwitchInst</a> in destructor. <a href="#a241eb312f38b46a95df18ba8a6250636">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="#acf60dfe9415b02d8da94b723e1ce87f8">CaseWeightOpt</a></>}
  name={<><a href="#aa78ac7cc796c2905e31c1ef6de35087d">getSuccessorWeight</a> (unsigned idx)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/switchinst/#a723af715edeaedc8ed1048f8c235ce9e">SwitchInst::CaseIt</a></>}
  name={<><a href="#adf90515665080eadf537aff00bbf0594">removeCase</a> (SwitchInst::CaseIt I)</>}>
Delegate the call to the underlying <a href="/docs/api/classes/llvm/switchinst/#aff8bc09200ccc3617a5cb37e0d2f23ff">SwitchInst::removeCase()</a> and remove correspondent branch weight. <a href="#adf90515665080eadf537aff00bbf0594">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a1a01b0843bc5ed009f7fdb2c8b8a41a5">setSuccessorWeight</a> (unsigned idx, CaseWeightOpt W)</>}>
</MembersIndexItem>

</MembersIndex>

## Protected Member Functions Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/mdnode">MDNode</a> &#42;</>}
  name={<><a href="#ab2834f787d0273fe7af2f1db987c02c9">buildProfBranchWeightsMD</a> ()</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a10337503b6d9d510fc04cad7f5018b10">init</a> ()</>}>
</MembersIndexItem>

</MembersIndex>

## Private Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type="bool"
  name={<><a href="#ace8a9486e6d9e2932fb3d3cf66ab4fad">Changed</a> = false</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/switchinst">SwitchInst</a> &amp;</>}
  name={<><a href="#a1dcce497c14e20beed5ee7acbc158242">SI</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::optional&lt; <a href="/docs/api/classes/llvm/smallvector">SmallVector</a>&lt; uint32&#95;t, 8 &gt; &gt;</>}
  name={<><a href="#aa8095b29b492f6258ca5f02869378618">Weights</a></>}>
</MembersIndexItem>

</MembersIndex>

## Public Static Functions Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="#acf60dfe9415b02d8da94b723e1ce87f8">CaseWeightOpt</a></>}
  name={<><a href="#ae6106a112dcb8e7f6b615d746d5bcfc2">getSuccessorWeight</a> (const SwitchInst &amp;SI, unsigned idx)</>}>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

A wrapper class to simplify modification of <a href="/docs/api/classes/llvm/switchinst">SwitchInst</a> cases along with their prof branch&#95;weights metadata.

Definition at line 3492 of file <a href="/docs/api/files/include/include/llvm/include/llvm/ir/instructions-h">Instructions.h</a>.

<SectionDefinition>

## Public Member Typedefs

### CaseWeightOpt {#acf60dfe9415b02d8da94b723e1ce87f8}

<MemberDefinition
  prototype={<>using llvm::SwitchInstProfUpdateWrapper::CaseWeightOpt =  std::optional&lt;uint32&#95;t&gt;</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/ir/instructions-h/#l03503">3503</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/ir/instructions-h">Instructions.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Constructors

### SwitchInstProfUpdateWrapper() {#a8a2790be7d6dce25f86b19cc9221a1c7}

<MemberDefinition
  prototype={<>llvm::SwitchInstProfUpdateWrapper::SwitchInstProfUpdateWrapper (<a href="/docs/api/classes/llvm/switchinst">SwitchInst</a> &amp; SI)</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/ir/instructions-h/#l03508">3508</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/ir/instructions-h">Instructions.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Destructor

### ~SwitchInstProfUpdateWrapper() {#a9268b49b041e1356b102cc48ae82a559}

<MemberDefinition
  prototype="llvm::SwitchInstProfUpdateWrapper::~SwitchInstProfUpdateWrapper ()"
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/ir/instructions-h/#l03510">3510</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/ir/instructions-h">Instructions.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Operators

### operator SwitchInst &#42;() {#ac6e30063cd182edcbc2dfd4fd8cd116e}

<MemberDefinition
  prototype={<>llvm::SwitchInstProfUpdateWrapper::operator SwitchInst &#42; ()</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/ir/instructions-h/#l03506">3506</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/ir/instructions-h">Instructions.h</a>.
</MemberDefinition>

### operator-&gt;() {#ad10b89b31a4aa2ab4b2d36f65e9c21d6}

<MemberDefinition
  prototype={<>SwitchInst &#42; llvm::SwitchInstProfUpdateWrapper::operator-&gt; ()</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/ir/instructions-h/#l03504">3504</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/ir/instructions-h">Instructions.h</a>.
</MemberDefinition>

### operator&#42;() {#a7b25c3fd0b76707b4b31b068d67eae16}

<MemberDefinition
  prototype={<>SwitchInst &amp; llvm::SwitchInstProfUpdateWrapper::operator&#42; ()</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/ir/instructions-h/#l03505">3505</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/ir/instructions-h">Instructions.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### addCase() {#a722eca444a919e1bc6af18b07941aad9}

<MemberDefinition
  prototype={<>void SwitchInstProfUpdateWrapper::addCase (<a href="/docs/api/classes/llvm/constantint">ConstantInt</a> &#42; OnVal, <a href="/docs/api/classes/llvm/basicblock">BasicBlock</a> &#42; Dest, <a href="#acf60dfe9415b02d8da94b723e1ce87f8">CaseWeightOpt</a> W)</>}>
Delegate the call to the underlying <a href="/docs/api/classes/llvm/switchinst/#a62abc2475d09c01d583ba24a487898fd">SwitchInst::addCase()</a> and set the specified branch weight for the added case.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/ir/instructions-h/#l03521">3521</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/ir/instructions-h">Instructions.h</a>, definition at line <a href="/docs/api/files/lib/lib/ir/instructions-cpp/#l04107">4107</a> of file <a href="/docs/api/files/lib/lib/ir/instructions-cpp">Instructions.cpp</a>.
</MemberDefinition>

### eraseFromParent() {#a241eb312f38b46a95df18ba8a6250636}

<MemberDefinition
  prototype="Instruction::InstListType::iterator SwitchInstProfUpdateWrapper::eraseFromParent ()">
Delegate the call to the underlying <a href="/docs/api/classes/llvm/instruction/#a601ee49a4c4e0babf29bd1cf09036570">SwitchInst::eraseFromParent()</a> and mark this object to not touch the underlying <a href="/docs/api/classes/llvm/switchinst">SwitchInst</a> in destructor.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/ir/instructions-h/#l03525">3525</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/ir/instructions-h">Instructions.h</a>, definition at line <a href="/docs/api/files/lib/lib/ir/instructions-cpp/#l04126">4126</a> of file <a href="/docs/api/files/lib/lib/ir/instructions-cpp">Instructions.cpp</a>.
</MemberDefinition>

### getSuccessorWeight() {#aa78ac7cc796c2905e31c1ef6de35087d}

<MemberDefinition
  prototype="SwitchInstProfUpdateWrapper::CaseWeightOpt SwitchInstProfUpdateWrapper::getSuccessorWeight (unsigned idx)">

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/ir/instructions-h/#l03528">3528</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/ir/instructions-h">Instructions.h</a>, definition at line <a href="/docs/api/files/lib/lib/ir/instructions-cpp/#l04135">4135</a> of file <a href="/docs/api/files/lib/lib/ir/instructions-cpp">Instructions.cpp</a>.
</MemberDefinition>

### removeCase() {#adf90515665080eadf537aff00bbf0594}

<MemberDefinition
  prototype={<>SwitchInst::CaseIt SwitchInstProfUpdateWrapper::removeCase (<a href="/docs/api/classes/llvm/switchinst/#a723af715edeaedc8ed1048f8c235ce9e">SwitchInst::CaseIt</a> I)</>}>
Delegate the call to the underlying <a href="/docs/api/classes/llvm/switchinst/#aff8bc09200ccc3617a5cb37e0d2f23ff">SwitchInst::removeCase()</a> and remove correspondent branch weight.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/ir/instructions-h/#l03517">3517</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/ir/instructions-h">Instructions.h</a>, definition at line <a href="/docs/api/files/lib/lib/ir/instructions-cpp/#l04093">4093</a> of file <a href="/docs/api/files/lib/lib/ir/instructions-cpp">Instructions.cpp</a>.
</MemberDefinition>

### setSuccessorWeight() {#a1a01b0843bc5ed009f7fdb2c8b8a41a5}

<MemberDefinition
  prototype={<>void SwitchInstProfUpdateWrapper::setSuccessorWeight (unsigned idx, <a href="#acf60dfe9415b02d8da94b723e1ce87f8">CaseWeightOpt</a> W)</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/ir/instructions-h/#l03527">3527</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/ir/instructions-h">Instructions.h</a>, definition at line <a href="/docs/api/files/lib/lib/ir/instructions-cpp/#l04141">4141</a> of file <a href="/docs/api/files/lib/lib/ir/instructions-cpp">Instructions.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Protected Member Functions

### buildProfBranchWeightsMD() {#ab2834f787d0273fe7af2f1db987c02c9}

<MemberDefinition
  prototype={<>MDNode &#42; SwitchInstProfUpdateWrapper::buildProfBranchWeightsMD ()</>}
  labels = {["protected"]}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/ir/instructions-h/#l03498">3498</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/ir/instructions-h">Instructions.h</a>, definition at line <a href="/docs/api/files/lib/lib/ir/instructions-cpp/#l04059">4059</a> of file <a href="/docs/api/files/lib/lib/ir/instructions-cpp">Instructions.cpp</a>.
</MemberDefinition>

### init() {#a10337503b6d9d510fc04cad7f5018b10}

<MemberDefinition
  prototype="void SwitchInstProfUpdateWrapper::init ()"
  labels = {["protected"]}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/ir/instructions-h/#l03500">3500</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/ir/instructions-h">Instructions.h</a>, definition at line <a href="/docs/api/files/lib/lib/ir/instructions-cpp/#l04076">4076</a> of file <a href="/docs/api/files/lib/lib/ir/instructions-cpp">Instructions.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Attributes

### Changed {#ace8a9486e6d9e2932fb3d3cf66ab4fad}

<MemberDefinition
  prototype="bool llvm::SwitchInstProfUpdateWrapper::Changed = false">

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/ir/instructions-h/#l03495">3495</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/ir/instructions-h">Instructions.h</a>.
</MemberDefinition>

### SI {#a1dcce497c14e20beed5ee7acbc158242}

<MemberDefinition
  prototype={<>SwitchInst&amp; llvm::SwitchInstProfUpdateWrapper::SI</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/ir/instructions-h/#l03493">3493</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/ir/instructions-h">Instructions.h</a>.
</MemberDefinition>

### Weights {#aa8095b29b492f6258ca5f02869378618}

<MemberDefinition
  prototype={<>std::optional&lt;SmallVector&lt;uint32&#95;t, 8&gt; &gt; llvm::SwitchInstProfUpdateWrapper::Weights</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/ir/instructions-h/#l03494">3494</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/ir/instructions-h">Instructions.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Static Functions

### getSuccessorWeight() {#ae6106a112dcb8e7f6b615d746d5bcfc2}

<MemberDefinition
  prototype={<>SwitchInstProfUpdateWrapper::CaseWeightOpt SwitchInstProfUpdateWrapper::getSuccessorWeight (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/switchinst">SwitchInst</a> &amp; SI, unsigned idx)</>}
  labels = {["static"]}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/ir/instructions-h/#l03530">3530</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/ir/instructions-h">Instructions.h</a>, definition at line <a href="/docs/api/files/lib/lib/ir/instructions-cpp/#l04159">4159</a> of file <a href="/docs/api/files/lib/lib/ir/instructions-cpp">Instructions.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following files:

<ul>
<li><a href="/docs/api/files/include/include/llvm/include/llvm/ir/instructions-h">Instructions.h</a></li>
<li><a href="/docs/api/files/lib/lib/ir/instructions-cpp">Instructions.cpp</a></li>
</ul>

</DoxygenPage>
