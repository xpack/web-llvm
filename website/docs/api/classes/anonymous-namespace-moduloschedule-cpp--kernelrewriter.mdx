---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/anonymous-namespace-moduloschedule-cpp-/kernelrewriter
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `KernelRewriter` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>

Rewrites the kernel block in-place to adhere to the given schedule. <a href="#details">More...</a>

## Declaration

<CodeBlock>class anonymous_namespace{ModuloSchedule.cpp}::KernelRewriter</CodeBlock>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#ab21e77ad66bbad9ba8a9d999c7414c35">KernelRewriter</a> (MachineLoop &amp;L, ModuloSchedule &amp;S, MachineBasicBlock &#42;LoopBB, LiveIntervals &#42;LIS=nullptr)</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="void"
  name={<><a href="#a2e7a99d381fd8c317ade905833ae3138">rewrite</a> ()</>}>
</MembersIndexItem>

</MembersIndex>

## Private Member Functions Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/register">Register</a></>}
  name={<><a href="#aabac6b0f13cc674b9e4fc6a5bcee94ac">phi</a> (Register LoopReg, std::optional&lt; Register &gt; InitReg=&#123;&#125;, const TargetRegisterClass &#42;RC=nullptr)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/register">Register</a></>}
  name={<><a href="#ac1a58465267d12fc7390e02f92530d1b">remapUse</a> (Register Reg, MachineInstr &amp;MI)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/register">Register</a></>}
  name={<><a href="#a4508344c36f330447d5420d37bc71e67">undef</a> (const TargetRegisterClass &#42;RC)</>}>
</MembersIndexItem>

</MembersIndex>

## Private Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;</>}
  name={<><a href="#a5b9fecfd287a6a25a998ad7bf88d1031">BB</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;</>}
  name={<><a href="#a64fb237bebc68c891f974333918f32f1">ExitBB</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/liveintervals">LiveIntervals</a> &#42;</>}
  name={<><a href="#a187dcc9c97c72d8852051d949e688dc0">LIS</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machineregisterinfo">MachineRegisterInfo</a> &amp;</>}
  name={<><a href="#a6d8c959dbf260ed4da301f4f8a063d77">MRI</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/densemap">DenseMap</a>&lt; std::pair&lt; unsigned, unsigned &gt;, <a href="/docs/api/classes/llvm/register">Register</a> &gt;</>}
  name={<><a href="#a5988ad16659c7eb84351e898312284e1">Phis</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;</>}
  name={<><a href="#a102394eef5f48097aafc1517000a679d">PreheaderBB</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/moduloschedule">ModuloSchedule</a> &amp;</>}
  name={<><a href="#a38209d50dba8de79a99917be18bfdd7c">S</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/targetinstrinfo">TargetInstrInfo</a> &#42;</>}
  name={<><a href="#a08eab83a81f5f7004410ba36049081ea">TII</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/densemap">DenseMap</a>&lt; <a href="/docs/api/classes/llvm/register">Register</a>, <a href="/docs/api/classes/llvm/register">Register</a> &gt;</>}
  name={<><a href="#a6c3000cea63841a6fd86b8c97b04b841">UndefPhis</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/densemap">DenseMap</a>&lt; <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/targetregisterclass">TargetRegisterClass</a> &#42;, <a href="/docs/api/classes/llvm/register">Register</a> &gt;</>}
  name={<><a href="#af71f034bc43176a5dce7805d59a0092b">Undefs</a></>}>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

Rewrites the kernel block in-place to adhere to the given schedule.

<a href="/docs/api/classes/anonymous-namespace-moduloschedule-cpp-/kernelrewriter">KernelRewriter</a> holds all of the state required to perform the rewriting.

Definition at line 1280 of file <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp">ModuloSchedule.cpp</a>.

<SectionDefinition>

## Public Constructors

### KernelRewriter() {#ab21e77ad66bbad9ba8a9d999c7414c35}

<MemberDefinition
  prototype={<>KernelRewriter::KernelRewriter (<a href="/docs/api/classes/llvm/machineloop">MachineLoop</a> &amp; L, <a href="/docs/api/classes/llvm/moduloschedule">ModuloSchedule</a> &amp; S, <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42; LoopBB, <a href="/docs/api/classes/llvm/liveintervals">LiveIntervals</a> &#42; LIS=nullptr)</>}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp/#l01308">1308</a> of file <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp">ModuloSchedule.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### rewrite() {#a2e7a99d381fd8c317ade905833ae3138}

<MemberDefinition
  prototype="void KernelRewriter::rewrite ()">

Definition at line <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp/#l01310">1310</a> of file <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp">ModuloSchedule.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Functions

### phi() {#aabac6b0f13cc674b9e4fc6a5bcee94ac}

<MemberDefinition
  prototype={<>Register KernelRewriter::phi (<a href="/docs/api/classes/llvm/register">Register</a> LoopReg, std::optional&lt; <a href="/docs/api/classes/llvm/register">Register</a> &gt; InitReg=&#123;&#125;, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/targetregisterclass">TargetRegisterClass</a> &#42; RC=nullptr)</>}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp/#l01302">1302</a> of file <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp">ModuloSchedule.cpp</a>.
</MemberDefinition>

### remapUse() {#ac1a58465267d12fc7390e02f92530d1b}

<MemberDefinition
  prototype={<>Register KernelRewriter::remapUse (<a href="/docs/api/classes/llvm/register">Register</a> Reg, <a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &amp; MI)</>}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp/#l01298">1298</a> of file <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp">ModuloSchedule.cpp</a>.
</MemberDefinition>

### undef() {#a4508344c36f330447d5420d37bc71e67}

<MemberDefinition
  prototype={<>Register KernelRewriter::undef (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/targetregisterclass">TargetRegisterClass</a> &#42; RC)</>}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp/#l01305">1305</a> of file <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp">ModuloSchedule.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Attributes

### BB {#a5b9fecfd287a6a25a998ad7bf88d1031}

<MemberDefinition
  prototype={<>MachineBasicBlock&#42; anonymous&#95;namespace&#123;ModuloSchedule.cpp&#125;::KernelRewriter::BB</>}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp/#l01282">1282</a> of file <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp">ModuloSchedule.cpp</a>.
</MemberDefinition>

### ExitBB {#a64fb237bebc68c891f974333918f32f1}

<MemberDefinition
  prototype={<>MachineBasicBlock &#42; anonymous&#95;namespace&#123;ModuloSchedule.cpp&#125;::KernelRewriter::ExitBB</>}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp/#l01283">1283</a> of file <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp">ModuloSchedule.cpp</a>.
</MemberDefinition>

### LIS {#a187dcc9c97c72d8852051d949e688dc0}

<MemberDefinition
  prototype={<>LiveIntervals&#42; anonymous&#95;namespace&#123;ModuloSchedule.cpp&#125;::KernelRewriter::LIS</>}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp/#l01286">1286</a> of file <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp">ModuloSchedule.cpp</a>.
</MemberDefinition>

### MRI {#a6d8c959dbf260ed4da301f4f8a063d77}

<MemberDefinition
  prototype={<>MachineRegisterInfo&amp; anonymous&#95;namespace&#123;ModuloSchedule.cpp&#125;::KernelRewriter::MRI</>}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp/#l01284">1284</a> of file <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp">ModuloSchedule.cpp</a>.
</MemberDefinition>

### Phis {#a5988ad16659c7eb84351e898312284e1}

<MemberDefinition
  prototype={<>DenseMap&lt;std::pair&lt;unsigned, unsigned&gt;, Register&gt; anonymous&#95;namespace&#123;ModuloSchedule.cpp&#125;::KernelRewriter::Phis</>}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp/#l01292">1292</a> of file <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp">ModuloSchedule.cpp</a>.
</MemberDefinition>

### PreheaderBB {#a102394eef5f48097aafc1517000a679d}

<MemberDefinition
  prototype={<>MachineBasicBlock&#42; anonymous&#95;namespace&#123;ModuloSchedule.cpp&#125;::KernelRewriter::PreheaderBB</>}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp/#l01283">1283</a> of file <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp">ModuloSchedule.cpp</a>.
</MemberDefinition>

### S {#a38209d50dba8de79a99917be18bfdd7c}

<MemberDefinition
  prototype={<>ModuloSchedule&amp; anonymous&#95;namespace&#123;ModuloSchedule.cpp&#125;::KernelRewriter::S</>}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp/#l01281">1281</a> of file <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp">ModuloSchedule.cpp</a>.
</MemberDefinition>

### TII {#a08eab83a81f5f7004410ba36049081ea}

<MemberDefinition
  prototype={<>const TargetInstrInfo&#42; anonymous&#95;namespace&#123;ModuloSchedule.cpp&#125;::KernelRewriter::TII</>}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp/#l01285">1285</a> of file <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp">ModuloSchedule.cpp</a>.
</MemberDefinition>

### UndefPhis {#a6c3000cea63841a6fd86b8c97b04b841}

<MemberDefinition
  prototype={<>DenseMap&lt;Register, Register&gt; anonymous&#95;namespace&#123;ModuloSchedule.cpp&#125;::KernelRewriter::UndefPhis</>}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp/#l01294">1294</a> of file <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp">ModuloSchedule.cpp</a>.
</MemberDefinition>

### Undefs {#af71f034bc43176a5dce7805d59a0092b}

<MemberDefinition
  prototype={<>DenseMap&lt;const TargetRegisterClass &#42;, Register&gt; anonymous&#95;namespace&#123;ModuloSchedule.cpp&#125;::KernelRewriter::Undefs</>}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp/#l01289">1289</a> of file <a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp">ModuloSchedule.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following file:

<ul>
<li><a href="/docs/api/files/lib/lib/codegen/moduloschedule-cpp">ModuloSchedule.cpp</a></li>
</ul>

</DoxygenPage>
