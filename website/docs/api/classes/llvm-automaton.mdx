---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/llvm/automaton
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import ParametersList from '@xpack/docusaurus-plugin-doxygen/components/ParametersList'
import ParametersListItem from '@xpack/docusaurus-plugin-doxygen/components/ParametersListItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `Automaton` Class Template Reference

<DoxygenPage pluginConfig={pluginConfig}>

A deterministic finite-state automaton. <a href="#details">More...</a>

## Declaration

<CodeBlock>template &lt;typename ActionT&gt;
class llvm::Automaton&lt;ActionT&gt;</CodeBlock>

## Included Headers

<IncludesList>
<IncludesListItem
  filePath="llvm/Support/Automaton.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/support/automaton-h"
  isLocal="true" />
</IncludesList>

## Private Member Typedefs Index

<MembersIndex>

<MembersIndexItem
  template={<>template &lt;typename ActionT&gt;</>}
  type="using"
  name={<><a href="#a3ed601358dcead55d7299f124c7417aa">MapTy</a> = std::map&lt; std::pair&lt; uint64&#95;t, ActionT &gt;, std::pair&lt; uint64&#95;t, unsigned &gt; &gt;</>}>
Map from &#123;State, Action&#125; to &#123;NewState, TransitionInfoIdx&#125;. <a href="#a3ed601358dcead55d7299f124c7417aa">More...</a>
</MembersIndexItem>

</MembersIndex>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  template={<>template &lt;typename InfoT&gt;</>}
  name={<><a href="#adbfe7e804f0c334162d71db7e2f77ded">Automaton</a> (ArrayRef&lt; InfoT &gt; Transitions, ArrayRef&lt; NfaStatePair &gt; TranscriptionTable=&#123;&#125;)</>}>
Create an automaton. <a href="#adbfe7e804f0c334162d71db7e2f77ded">More...</a>
</MembersIndexItem>

<MembersIndexItem
  template={<>template &lt;typename ActionT&gt;</>}
  name={<><a href="#a9ade48998a5f4ef2d6c9b7ceecbe209d">Automaton</a> (const Automaton &amp;Other)</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  template={<>template &lt;typename ActionT&gt;</>}
  type="bool"
  name={<><a href="#aa2620d2287c9bf8cd15da84914af65e2">add</a> (const ActionT &amp;A)</>}>
Transition the automaton based on input symbol A. <a href="#aa2620d2287c9bf8cd15da84914af65e2">More...</a>
</MembersIndexItem>

<MembersIndexItem
  template={<>template &lt;typename ActionT&gt;</>}
  type="bool"
  name={<><a href="#a8b955bf418dc9539b07a58a6e94ec638">canAdd</a> (const ActionT &amp;A)</>}>
Return true if the automaton can be transitioned based on input symbol A. <a href="#a8b955bf418dc9539b07a58a6e94ec638">More...</a>
</MembersIndexItem>

<MembersIndexItem
  template={<>template &lt;typename ActionT&gt;</>}
  type="void"
  name={<><a href="#ab475bbd3819025a90bd009e18988bb40">enableTranscription</a> (bool Enable=true)</>}>
Enable or disable transcription. <a href="#ab475bbd3819025a90bd009e18988bb40">More...</a>
</MembersIndexItem>

<MembersIndexItem
  template={<>template &lt;typename ActionT&gt;</>}
  type="auto "
  name={<><a href="#ad6fe99d549af75e18cd1e383e70c5beb">getNfaPaths</a> () -&gt; <a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; <a href="/docs/api/namespaces/llvm/#a7c51673db3dd1c6d2088fc30224393d3">NfaPath</a> &gt;</>}>
Obtain a set of possible paths through the input nondeterministic automaton that could be obtained from the sequence of input actions presented to this deterministic automaton. <a href="#ad6fe99d549af75e18cd1e383e70c5beb">More...</a>
</MembersIndexItem>

<MembersIndexItem
  template={<>template &lt;typename ActionT&gt;</>}
  type="void"
  name={<><a href="#a30f80f4c7e00f9a31b9d6e6221805b4d">reset</a> ()</>}>
Reset the automaton to its initial state. <a href="#a30f80f4c7e00f9a31b9d6e6221805b4d">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Attributes Index

<MembersIndex>

<MembersIndexItem
  template={<>template &lt;typename ActionT&gt;</>}
  type={<>std::shared&#95;ptr&lt; MapTy &gt;</>}
  name={<><a href="#aa83ee188c66f74ed78d5eb6b0e2b7e94">M</a></>}>
</MembersIndexItem>

<MembersIndexItem
  template={<>template &lt;typename ActionT&gt;</>}
  type={<>uint64&#95;t</>}
  name={<><a href="#a4775b526d6e6e28d07266cb148732f75">State</a> = 1</>}>
The initial DFA state is 1. <a href="#a4775b526d6e6e28d07266cb148732f75">More...</a>
</MembersIndexItem>

<MembersIndexItem
  template={<>template &lt;typename ActionT&gt;</>}
  type="bool"
  name={<><a href="#aca89c3fcad786aea10404e4c6b9734e2">Transcribe</a></>}>
True if we should transcribe and false if not (even if Transcriber is defined). <a href="#aca89c3fcad786aea10404e4c6b9734e2">More...</a>
</MembersIndexItem>

<MembersIndexItem
  template={<>template &lt;typename ActionT&gt;</>}
  type={<>std::shared&#95;ptr&lt; <a href="/docs/api/classes/llvm/internal/nfatranscriber">internal::NfaTranscriber</a> &gt;</>}
  name={<><a href="#a863c0781f406ba2bf7f2d79472b2d0c7">Transcriber</a></>}>
An optional transcription object. <a href="#a863c0781f406ba2bf7f2d79472b2d0c7">More...</a>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

A deterministic finite-state automaton.

The automaton is defined in <a href="/docs/api/namespaces/llvm/tablegen">TableGen</a>; this object drives an automaton defined by tblgen-emitted tables.

An automaton accepts a sequence of input tokens (&quot;actions&quot;). This class is templated on the type of these actions.

Definition at line 160 of file <a href="/docs/api/files/include/include/llvm/include/llvm/support/automaton-h">Automaton.h</a>.

<SectionDefinition>

## Private Member Typedefs

### MapTy {#a3ed601358dcead55d7299f124c7417aa}

<MemberDefinition
  template={<>template &lt;typename ActionT&gt;</>}
  prototype={<>using llvm::Automaton&lt; ActionT &gt;::MapTy =  std::map&lt;std::pair&lt;uint64&#95;t, ActionT&gt;, std::pair&lt;uint64&#95;t, unsigned&gt;&gt;</>}>
Map from &#123;State, Action&#125; to &#123;NewState, TransitionInfoIdx&#125;.

TransitionInfoIdx is used by the DfaTranscriber to analyze the transition. FIXME: This uses a std::map because ActionT can be a pair type including an enum. In particular <a href="/docs/api/structs/llvm/densemapinfo">DenseMapInfo&lt;ActionT&gt;</a> must be defined to use <a href="/docs/api/classes/llvm/densemap">DenseMap</a> here. This is a shared&#95;ptr to allow very quick copy-construction of Automata; this state is immutable after construction so this is safe.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/support/automaton-h/#l00168">168</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/support/automaton-h">Automaton.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Constructors

### Automaton() {#adbfe7e804f0c334162d71db7e2f77ded}

<MemberDefinition
  template={<>template &lt;typename InfoT&gt;</>}
  prototype={<>llvm::Automaton&lt; ActionT &gt;::Automaton (<a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; InfoT &gt; Transitions, <a href="/docs/api/classes/llvm/arrayref">ArrayRef</a>&lt; <a href="/docs/api/structs/llvm/nfastatepair">NfaStatePair</a> &gt; TranscriptionTable=&#123;&#125;)</>}
  labels = {["inline"]}>
Create an automaton.

<ParametersList title="Parameters">
<ParametersListItem name="Transitions">The Transitions table as created by <a href="/docs/api/namespaces/llvm/tablegen">TableGen</a>. Note that because the action type differs per automaton, the table type is templated as <a href="/docs/api/classes/llvm/arrayref">ArrayRef&lt;InfoT&gt;</a>.</ParametersListItem>
<ParametersListItem name="TranscriptionTable">The TransitionInfo table as created by <a href="/docs/api/namespaces/llvm/tablegen">TableGen</a>.</ParametersListItem>
</ParametersList>
Providing the TranscriptionTable argument as non-empty will enable the use of transcription, which analyzes the possible paths in the original NFA taken by the DFA. NOTE: This is substantially more work than simply driving the DFA, so unless you require the getPaths() method leave this empty.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/support/automaton-h/#l00191">191</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/support/automaton-h">Automaton.h</a>.
</MemberDefinition>

### Automaton() {#a9ade48998a5f4ef2d6c9b7ceecbe209d}

<MemberDefinition
  template={<>template &lt;typename ActionT&gt;</>}
  prototype={<>llvm::Automaton&lt; ActionT &gt;::Automaton (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/automaton">Automaton</a> &amp; Other)</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/support/automaton-h/#l00203">203</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/support/automaton-h">Automaton.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### add() {#aa2620d2287c9bf8cd15da84914af65e2}

<MemberDefinition
  template={<>template &lt;typename ActionT&gt;</>}
  prototype={<>bool llvm::Automaton&lt; ActionT &gt;::add (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> ActionT &amp; A)</>}
  labels = {["inline"]}>
Transition the automaton based on input symbol A.

Return true if the automaton transitioned to a valid state, false if the automaton transitioned to an invalid state.

If this function returns false, all methods are undefined until <a href="#a30f80f4c7e00f9a31b9d6e6221805b4d">reset()</a> is called.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/support/automaton-h/#l00233">233</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/support/automaton-h">Automaton.h</a>.
</MemberDefinition>

### canAdd() {#a8b955bf418dc9539b07a58a6e94ec638}

<MemberDefinition
  template={<>template &lt;typename ActionT&gt;</>}
  prototype={<>bool llvm::Automaton&lt; ActionT &gt;::canAdd (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> ActionT &amp; A)</>}
  labels = {["inline"]}>
Return true if the automaton can be transitioned based on input symbol A.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/support/automaton-h/#l00244">244</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/support/automaton-h">Automaton.h</a>.
</MemberDefinition>

### enableTranscription() {#ab475bbd3819025a90bd009e18988bb40}

<MemberDefinition
  template={<>template &lt;typename ActionT&gt;</>}
  prototype={<>void llvm::Automaton&lt; ActionT &gt;::enableTranscription (bool Enable=<a href="/docs/api/files/lib/lib/analysis/basicaliasanalysis-cpp/#af6d5cafbdfc5313e65d990120021a3ec">true</a>)</>}
  labels = {["inline"]}>
Enable or disable transcription.

Transcription is only available if TranscriptionTable was provided to the constructor.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/support/automaton-h/#l00220">220</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/support/automaton-h">Automaton.h</a>.
</MemberDefinition>

### getNfaPaths() {#ad6fe99d549af75e18cd1e383e70c5beb}

<MemberDefinition
  template={<>template &lt;typename ActionT&gt;</>}
  prototype={<>ArrayRef&lt; NfaPath &gt; llvm::Automaton&lt; ActionT &gt;::getNfaPaths ()</>}
  labels = {["inline"]}>
Obtain a set of possible paths through the input nondeterministic automaton that could be obtained from the sequence of input actions presented to this deterministic automaton.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/support/automaton-h/#l00252">252</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/support/automaton-h">Automaton.h</a>.
</MemberDefinition>

### reset() {#a30f80f4c7e00f9a31b9d6e6221805b4d}

<MemberDefinition
  template={<>template &lt;typename ActionT&gt;</>}
  prototype={<>void llvm::Automaton&lt; ActionT &gt;::reset ()</>}
  labels = {["inline"]}>
Reset the automaton to its initial state.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/support/automaton-h/#l00212">212</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/support/automaton-h">Automaton.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Attributes

### M {#aa83ee188c66f74ed78d5eb6b0e2b7e94}

<MemberDefinition
  template={<>template &lt;typename ActionT&gt;</>}
  prototype={<>std::shared&#95;ptr&lt;MapTy&gt; llvm::Automaton&lt; ActionT &gt;::M</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/support/automaton-h/#l00169">169</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/support/automaton-h">Automaton.h</a>.
</MemberDefinition>

### State {#a4775b526d6e6e28d07266cb148732f75}

<MemberDefinition
  template={<>template &lt;typename ActionT&gt;</>}
  prototype={<>uint64&#95;t llvm::Automaton&lt; ActionT &gt;::State = 1</>}>
The initial DFA state is 1.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/support/automaton-h/#l00174">174</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/support/automaton-h">Automaton.h</a>.
</MemberDefinition>

### Transcribe {#aca89c3fcad786aea10404e4c6b9734e2}

<MemberDefinition
  template={<>template &lt;typename ActionT&gt;</>}
  prototype={<>bool llvm::Automaton&lt; ActionT &gt;::Transcribe</>}>
True if we should transcribe and false if not (even if Transcriber is defined).

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/support/automaton-h/#l00176">176</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/support/automaton-h">Automaton.h</a>.
</MemberDefinition>

### Transcriber {#a863c0781f406ba2bf7f2d79472b2d0c7}

<MemberDefinition
  template={<>template &lt;typename ActionT&gt;</>}
  prototype={<>std::shared&#95;ptr&lt;internal::NfaTranscriber&gt; llvm::Automaton&lt; ActionT &gt;::Transcriber</>}>
An optional transcription object.

This uses much more state than simply traversing the DFA for acceptance, so is heap allocated.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/support/automaton-h/#l00172">172</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/support/automaton-h">Automaton.h</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following file:

<ul>
<li><a href="/docs/api/files/include/include/llvm/include/llvm/support/automaton-h">Automaton.h</a></li>
</ul>

</DoxygenPage>
