---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/anonymous-namespace-memprofiler-cpp-/memprofiler
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `MemProfiler` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>

Instrument the code in module to profile memory accesses. <a href="#details">More...</a>

## Declaration

<CodeBlock>class anonymous_namespace{MemProfiler.cpp}::MemProfiler</CodeBlock>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a77802cf83b248213a74db75d5850ab4b">MemProfiler</a> (Module &amp;M)</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="bool"
  name={<><a href="#aef19207a92ea27b8da4249da77deb78c">insertDynamicShadowAtFunctionEntry</a> (Function &amp;F)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#abb10d6b403863597e459061c0d8e1dd7">instrumentAddress</a> (Instruction &#42;OrigIns, Instruction &#42;InsertBefore, Value &#42;Addr, bool IsWrite)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#aa38dcf9a1b93414e7bd1b956a1d04895">instrumentFunction</a> (Function &amp;F)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#af9fbc70050508bb1e9945c089bbdf043">instrumentMaskedLoadOrStore</a> (const DataLayout &amp;DL, Value &#42;Mask, Instruction &#42;I, Value &#42;Addr, Type &#42;AccessTy, bool IsWrite)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a1e3344b62f597b980e0e9d2f843e2390">instrumentMemIntrinsic</a> (MemIntrinsic &#42;MI)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a0208b6206a644a8b7f20ed1a11bf7c17">instrumentMop</a> (Instruction &#42;I, const DataLayout &amp;DL, InterestingMemoryAccess &amp;Access)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::optional&lt; <a href="/docs/api/structs/anonymous-namespace-memprofiler-cpp-/interestingmemoryaccess">InterestingMemoryAccess</a> &gt;</>}
  name={<><a href="#a7421c242cf99bb3c1709262edadc96ff">isInterestingMemoryAccess</a> (Instruction &#42;I) const</>}>
If it is an interesting memory access, populate information about the access and return a <a href="/docs/api/structs/anonymous-namespace-memprofiler-cpp-/interestingmemoryaccess">InterestingMemoryAccess</a> struct. <a href="#a7421c242cf99bb3c1709262edadc96ff">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a823d078fa3a7f1991784035f738da320">maybeInsertMemProfInitAtFunctionEntry</a> (Function &amp;F)</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/value">Value</a> &#42;</>}
  name={<><a href="#a08601a6235c268e4010b1d07c774eb61">memToShadow</a> (Value &#42;Shadow, IRBuilder&lt;&gt; &amp;IRB)</>}>
</MembersIndexItem>

</MembersIndex>

## Private Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="void"
  name={<><a href="#adcad4d0e2730909801fe00ef194fe4b3">initializeCallbacks</a> (Module &amp;M)</>}>
</MembersIndexItem>

</MembersIndex>

## Private Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/llvmcontext">LLVMContext</a> &#42;</>}
  name={<><a href="#a6e761b40231bd0fe7a382712f9f62aad">C</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/value">Value</a> &#42;</>}
  name={<><a href="#a4d5739a967337f9983c0ec3f0de045a2">DynamicShadowOffset</a> = nullptr</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/type">Type</a> &#42;</>}
  name={<><a href="#a35ca4a2fdb64a4b99da12a8216238dcd">IntptrTy</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type="int"
  name={<><a href="#a614d2febd21aa9ba63002ee1364288b2">LongSize</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/structs/anonymous-namespace-memprofiler-cpp-/shadowmapping">ShadowMapping</a></>}
  name={<><a href="#a7a9f4b2051ebe8c1a211776cafc5fd5e">Mapping</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/functioncallee">FunctionCallee</a></>}
  name={<><a href="#a0014da8e51faa02bd28d49e17fb77586">MemProfMemcpy</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/functioncallee">FunctionCallee</a></>}
  name={<><a href="#a85c64fd9acc37fa67684c8e91f98844c">MemProfMemmove</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/functioncallee">FunctionCallee</a></>}
  name={<><a href="#a3173aefd8e6cd57ff1fdf1487a16ffc3">MemProfMemoryAccessCallback</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/functioncallee">FunctionCallee</a></>}
  name={<><a href="#a6193dcbba192f157b248c57cd9eecbb3">MemProfMemset</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/pointertype">PointerType</a> &#42;</>}
  name={<><a href="#a83e369364f6148d8c40b15e85621187b">PtrTy</a></>}>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

Instrument the code in module to profile memory accesses.

Definition at line 240 of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/memprofiler-cpp">MemProfiler.cpp</a>.

<SectionDefinition>

## Public Constructors

### MemProfiler() {#a77802cf83b248213a74db75d5850ab4b}

<MemberDefinition
  prototype={<>anonymous&#95;namespace&#123;MemProfiler.cpp&#125;::MemProfiler::MemProfiler (<a href="/docs/api/classes/llvm/module">Module</a> &amp; M)</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/memprofiler-cpp/#l00242">242</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/memprofiler-cpp">MemProfiler.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### insertDynamicShadowAtFunctionEntry() {#aef19207a92ea27b8da4249da77deb78c}

<MemberDefinition
  prototype={<>bool MemProfiler::insertDynamicShadowAtFunctionEntry (<a href="/docs/api/classes/llvm/function">Function</a> &amp; F)</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/memprofiler-cpp/#l00266">266</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/memprofiler-cpp">MemProfiler.cpp</a>.
</MemberDefinition>

### instrumentAddress() {#abb10d6b403863597e459061c0d8e1dd7}

<MemberDefinition
  prototype={<>void MemProfiler::instrumentAddress (<a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42; OrigIns, <a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42; InsertBefore, <a href="/docs/api/classes/llvm/value">Value</a> &#42; Addr, bool IsWrite)</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/memprofiler-cpp/#l00257">257</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/memprofiler-cpp">MemProfiler.cpp</a>.
</MemberDefinition>

### instrumentFunction() {#aa38dcf9a1b93414e7bd1b956a1d04895}

<MemberDefinition
  prototype={<>bool MemProfiler::instrumentFunction (<a href="/docs/api/classes/llvm/function">Function</a> &amp; F)</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/memprofiler-cpp/#l00264">264</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/memprofiler-cpp">MemProfiler.cpp</a>.
</MemberDefinition>

### instrumentMaskedLoadOrStore() {#af9fbc70050508bb1e9945c089bbdf043}

<MemberDefinition
  prototype={<>void MemProfiler::instrumentMaskedLoadOrStore (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/datalayout">DataLayout</a> &amp; DL, <a href="/docs/api/classes/llvm/value">Value</a> &#42; Mask, <a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42; I, <a href="/docs/api/classes/llvm/value">Value</a> &#42; Addr, <a href="/docs/api/classes/llvm/type">Type</a> &#42; AccessTy, bool IsWrite)</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/memprofiler-cpp/#l00259">259</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/memprofiler-cpp">MemProfiler.cpp</a>.
</MemberDefinition>

### instrumentMemIntrinsic() {#a1e3344b62f597b980e0e9d2f843e2390}

<MemberDefinition
  prototype={<>void MemProfiler::instrumentMemIntrinsic (<a href="/docs/api/classes/llvm/memintrinsic">MemIntrinsic</a> &#42; MI)</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/memprofiler-cpp/#l00262">262</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/memprofiler-cpp">MemProfiler.cpp</a>.
</MemberDefinition>

### instrumentMop() {#a0208b6206a644a8b7f20ed1a11bf7c17}

<MemberDefinition
  prototype={<>void MemProfiler::instrumentMop (<a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42; I, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/datalayout">DataLayout</a> &amp; DL, <a href="/docs/api/structs/anonymous-namespace-memprofiler-cpp-/interestingmemoryaccess">InterestingMemoryAccess</a> &amp; Access)</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/memprofiler-cpp/#l00255">255</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/memprofiler-cpp">MemProfiler.cpp</a>.
</MemberDefinition>

### isInterestingMemoryAccess() {#a7421c242cf99bb3c1709262edadc96ff}

<MemberDefinition
  prototype={<>std::optional&lt; InterestingMemoryAccess &gt; MemProfiler::isInterestingMemoryAccess (<a href="/docs/api/classes/llvm/instruction">Instruction</a> &#42; I) const</>}>
If it is an interesting memory access, populate information about the access and return a <a href="/docs/api/structs/anonymous-namespace-memprofiler-cpp-/interestingmemoryaccess">InterestingMemoryAccess</a> struct.

Otherwise return std::nullopt.

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/memprofiler-cpp/#l00253">253</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/memprofiler-cpp">MemProfiler.cpp</a>.
</MemberDefinition>

### maybeInsertMemProfInitAtFunctionEntry() {#a823d078fa3a7f1991784035f738da320}

<MemberDefinition
  prototype={<>bool MemProfiler::maybeInsertMemProfInitAtFunctionEntry (<a href="/docs/api/classes/llvm/function">Function</a> &amp; F)</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/memprofiler-cpp/#l00265">265</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/memprofiler-cpp">MemProfiler.cpp</a>.
</MemberDefinition>

### memToShadow() {#a08601a6235c268e4010b1d07c774eb61}

<MemberDefinition
  prototype={<>Value &#42; MemProfiler::memToShadow (<a href="/docs/api/classes/llvm/value">Value</a> &#42; Shadow, <a href="/docs/api/classes/llvm/irbuilder">IRBuilder</a>&lt;&gt; &amp; IRB)</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/memprofiler-cpp/#l00263">263</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/memprofiler-cpp">MemProfiler.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Functions

### initializeCallbacks() {#adcad4d0e2730909801fe00ef194fe4b3}

<MemberDefinition
  prototype={<>void MemProfiler::initializeCallbacks (<a href="/docs/api/classes/llvm/module">Module</a> &amp; M)</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/memprofiler-cpp/#l00269">269</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/memprofiler-cpp">MemProfiler.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Attributes

### C {#a6e761b40231bd0fe7a382712f9f62aad}

<MemberDefinition
  prototype={<>LLVMContext&#42; anonymous&#95;namespace&#123;MemProfiler.cpp&#125;::MemProfiler::C</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/memprofiler-cpp/#l00271">271</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/memprofiler-cpp">MemProfiler.cpp</a>.
</MemberDefinition>

### DynamicShadowOffset {#a4d5739a967337f9983c0ec3f0de045a2}

<MemberDefinition
  prototype={<>Value&#42; anonymous&#95;namespace&#123;MemProfiler.cpp&#125;::MemProfiler::DynamicShadowOffset = nullptr</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/memprofiler-cpp/#l00281">281</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/memprofiler-cpp">MemProfiler.cpp</a>.
</MemberDefinition>

### IntptrTy {#a35ca4a2fdb64a4b99da12a8216238dcd}

<MemberDefinition
  prototype={<>Type&#42; anonymous&#95;namespace&#123;MemProfiler.cpp&#125;::MemProfiler::IntptrTy</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/memprofiler-cpp/#l00273">273</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/memprofiler-cpp">MemProfiler.cpp</a>.
</MemberDefinition>

### LongSize {#a614d2febd21aa9ba63002ee1364288b2}

<MemberDefinition
  prototype={<>int anonymous&#95;namespace&#123;MemProfiler.cpp&#125;::MemProfiler::LongSize</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/memprofiler-cpp/#l00272">272</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/memprofiler-cpp">MemProfiler.cpp</a>.
</MemberDefinition>

### Mapping {#a7a9f4b2051ebe8c1a211776cafc5fd5e}

<MemberDefinition
  prototype={<>ShadowMapping anonymous&#95;namespace&#123;MemProfiler.cpp&#125;::MemProfiler::Mapping</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/memprofiler-cpp/#l00275">275</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/memprofiler-cpp">MemProfiler.cpp</a>.
</MemberDefinition>

### MemProfMemcpy {#a0014da8e51faa02bd28d49e17fb77586}

<MemberDefinition
  prototype={<>FunctionCallee anonymous&#95;namespace&#123;MemProfiler.cpp&#125;::MemProfiler::MemProfMemcpy</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/memprofiler-cpp/#l00280">280</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/memprofiler-cpp">MemProfiler.cpp</a>.
</MemberDefinition>

### MemProfMemmove {#a85c64fd9acc37fa67684c8e91f98844c}

<MemberDefinition
  prototype={<>FunctionCallee anonymous&#95;namespace&#123;MemProfiler.cpp&#125;::MemProfiler::MemProfMemmove</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/memprofiler-cpp/#l00280">280</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/memprofiler-cpp">MemProfiler.cpp</a>.
</MemberDefinition>

### MemProfMemoryAccessCallback {#a3173aefd8e6cd57ff1fdf1487a16ffc3}

<MemberDefinition
  prototype={<>FunctionCallee anonymous&#95;namespace&#123;MemProfiler.cpp&#125;::MemProfiler::MemProfMemoryAccessCallback&#91;2&#93;</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/memprofiler-cpp/#l00278">278</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/memprofiler-cpp">MemProfiler.cpp</a>.
</MemberDefinition>

### MemProfMemset {#a6193dcbba192f157b248c57cd9eecbb3}

<MemberDefinition
  prototype={<>FunctionCallee anonymous&#95;namespace&#123;MemProfiler.cpp&#125;::MemProfiler::MemProfMemset</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/memprofiler-cpp/#l00280">280</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/memprofiler-cpp">MemProfiler.cpp</a>.
</MemberDefinition>

### PtrTy {#a83e369364f6148d8c40b15e85621187b}

<MemberDefinition
  prototype={<>PointerType&#42; anonymous&#95;namespace&#123;MemProfiler.cpp&#125;::MemProfiler::PtrTy</>}>

Definition at line <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/memprofiler-cpp/#l00274">274</a> of file <a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/memprofiler-cpp">MemProfiler.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following file:

<ul>
<li><a href="/docs/api/files/lib/lib/transforms/lib/transforms/instrumentation/memprofiler-cpp">MemProfiler.cpp</a></li>
</ul>

</DoxygenPage>
