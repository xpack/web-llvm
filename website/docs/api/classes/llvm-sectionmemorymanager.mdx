---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/llvm/sectionmemorymanager
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import Link from '@docusaurus/Link'
import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import EnumerationList from '@xpack/docusaurus-plugin-doxygen/components/EnumerationList'
import EnumerationListItem from '@xpack/docusaurus-plugin-doxygen/components/EnumerationListItem'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'
import SectionUser from '@xpack/docusaurus-plugin-doxygen/components/SectionUser'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `SectionMemoryManager` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>

This is a simple memory manager which implements the methods called by the <a href="/docs/api/classes/llvm/runtimedyld">RuntimeDyld</a> class to allocate memory for section-based loading of objects, usually those generated by the <a href="/docs/api/classes/llvm/mcjit">MCJIT</a> execution engine. <a href="#details">More...</a>

## Declaration

<CodeBlock>class llvm::SectionMemoryManager</CodeBlock>

## Included Headers

<IncludesList>
<IncludesListItem
  filePath="llvm/ExecutionEngine/SectionMemoryManager.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/executionengine/sectionmemorymanager-h"
  isLocal="true" />
</IncludesList>

## Base class

<MembersIndex>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/rtdyldmemorymanager">RTDyldMemoryManager</a></>}>
</MembersIndexItem>

</MembersIndex>

## Enumerations Index

<MembersIndex>

<MembersIndexItem
  type="enum class"
  name={<>:  &#123; <a href="#a0cdbe52ddf56f7c9188174848e9423a4">...</a> &#125;</>}>
This enum describes the various reasons to allocate pages from allocateMappedMemory. <a href="#a0cdbe52ddf56f7c9188174848e9423a4">More...</a>
</MembersIndexItem>

</MembersIndex>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a3238490fd7e79eeb59559c5a9c57adb8">SectionMemoryManager</a> (MemoryMapper &#42;MM=nullptr)</>}>
Creates a <a href="/docs/api/classes/llvm/sectionmemorymanager">SectionMemoryManager</a> instance with <code>MM</code> as the associated memory mapper. <a href="#a3238490fd7e79eeb59559c5a9c57adb8">More...</a>
</MembersIndexItem>

<MembersIndexItem
  name={<><a href="#ad7b4628d82be8aec032d1b3198040d55">SectionMemoryManager</a> (const SectionMemoryManager &amp;)=delete</>}>
</MembersIndexItem>

</MembersIndex>

## Public Destructor Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a709a05abb7e82c5c8fefcc7ee16a3252">~SectionMemoryManager</a> () override</>}>
</MembersIndexItem>

</MembersIndex>

## Public Operators Index

<MembersIndex>

<MembersIndexItem
  type="void"
  name={<><a href="#a9d3af0bc08da43e2c91b20edccca6ceb">operator=</a> (const SectionMemoryManager &amp;)=delete</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type={<>uint8&#95;t &#42;</>}
  name={<><a href="#acfcf22eac937cf698005e9cc378cad73">allocateCodeSection</a> (uintptr&#95;t Size, unsigned Alignment, unsigned SectionID, StringRef SectionName) override</>}>
Allocates a memory block of (at least) the given size suitable for executable code. <a href="#acfcf22eac937cf698005e9cc378cad73">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>uint8&#95;t &#42;</>}
  name={<><a href="#ac4eeaddc4bbbe555cb2abc159b96492c">allocateDataSection</a> (uintptr&#95;t Size, unsigned Alignment, unsigned SectionID, StringRef SectionName, bool isReadOnly) override</>}>
Allocates a memory block of (at least) the given size suitable for executable code. <a href="#ac4eeaddc4bbbe555cb2abc159b96492c">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#af06d61d7c637095c5b7270b34224c5dd">finalizeMemory</a> (std::string &#42;ErrMsg=nullptr) override</>}>
Update section-specific memory permissions and other attributes. <a href="#af06d61d7c637095c5b7270b34224c5dd">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a64835973f93c4f018aa377870e15ee97">invalidateInstructionCache</a> ()</>}>
Invalidate instruction cache for code sections. <a href="#a64835973f93c4f018aa377870e15ee97">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Functions Index

<MembersIndex>

<MembersIndexItem
  type={<>uint8&#95;t &#42;</>}
  name={<><a href="#a70f713822091779839fb0697890b44fc">allocateSection</a> (AllocationPurpose Purpose, uintptr&#95;t Size, unsigned Alignment)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a9daa5533bf122c58ff0c1876063ff953">anchor</a> () override</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::error&#95;code</>}
  name={<><a href="#abeadc4a435040725ef277d0854e8231f">applyMemoryGroupPermissions</a> (MemoryGroup &amp;MemGroup, unsigned Permissions)</>}>
</MembersIndexItem>

</MembersIndex>

## Private Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type="MemoryGroup"
  name={<><a href="#a37c90b584f4921926d2f91baec417de9">CodeMem</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/sectionmemorymanager/memorymapper">MemoryMapper</a> &#42;</>}
  name={<><a href="#ac11efffdfc513a919954956c7529fc68">MMapper</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::unique&#95;ptr&lt; <a href="/docs/api/classes/llvm/sectionmemorymanager/memorymapper">MemoryMapper</a> &gt;</>}
  name={<><a href="#ae1ab84c209cf054d1cb9cf804b05cf60">OwnedMMapper</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type="MemoryGroup"
  name={<><a href="#a53c2fc3df5d5ab5a6651517137269621">RODataMem</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type="MemoryGroup"
  name={<><a href="#ae26c34dc8ed8bd7458866dd7db9fbe41">RWDataMem</a></>}>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

This is a simple memory manager which implements the methods called by the <a href="/docs/api/classes/llvm/runtimedyld">RuntimeDyld</a> class to allocate memory for section-based loading of objects, usually those generated by the <a href="/docs/api/classes/llvm/mcjit">MCJIT</a> execution engine.

This memory manager allocates all section memory as read-write. The <a href="/docs/api/classes/llvm/runtimedyld">RuntimeDyld</a> will copy JITed section memory into these allocated blocks and perform any necessary linking and relocations.

<a href="/docs/api/classes/llvm/any">Any</a> client using this memory manager MUST ensure that section-specific page permissions have been applied before attempting to execute functions in the JITed object. Permissions can be applied either by calling <a href="/docs/api/classes/llvm/mcjit/#a46de6cc1d24bff3fd2ae2006c8b35456">MCJIT::finalizeObject</a> or by calling <a href="#af06d61d7c637095c5b7270b34224c5dd">SectionMemoryManager::finalizeMemory</a> directly. Clients of <a href="/docs/api/classes/llvm/mcjit">MCJIT</a> should call <a href="/docs/api/classes/llvm/mcjit/#a46de6cc1d24bff3fd2ae2006c8b35456">MCJIT::finalizeObject</a>.

Definition at line 39 of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/sectionmemorymanager-h">SectionMemoryManager.h</a>.

<SectionDefinition>

## Enumerations

### enum class  {#a0cdbe52ddf56f7c9188174848e9423a4}

<MemberDefinition
  prototype="enum class llvm::SectionMemoryManager::AllocationPurpose "
 labels = {["strong"]}>
This enum describes the various reasons to allocate pages from allocateMappedMemory.

<EnumerationList title="Enumeration values">

<Link id="a0cdbe52ddf56f7c9188174848e9423a4aca0dbad92a874b2f69b549293387925e" />
<EnumerationListItem name="Code">

</EnumerationListItem>

<Link id="a0cdbe52ddf56f7c9188174848e9423a4a38ff86a50131b388742b542528d67ac7" />
<EnumerationListItem name="ROData">

</EnumerationListItem>

<Link id="a0cdbe52ddf56f7c9188174848e9423a4a93131f8e50abc73a8e6bf07701a3633c" />
<EnumerationListItem name="RWData">

</EnumerationListItem>

</EnumerationList>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/sectionmemorymanager-h/#l00043">43</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/sectionmemorymanager-h">SectionMemoryManager.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Constructors

### SectionMemoryManager() {#a3238490fd7e79eeb59559c5a9c57adb8}

<MemberDefinition
  prototype={<>llvm::SectionMemoryManager::SectionMemoryManager (<a href="/docs/api/classes/llvm/sectionmemorymanager/memorymapper">MemoryMapper</a> &#42; MM=nullptr)</>}>
Creates a <a href="/docs/api/classes/llvm/sectionmemorymanager">SectionMemoryManager</a> instance with <code>MM</code> as the associated memory mapper.

If <code>MM</code> is nullptr then a default memory mapper is used that directly calls into the operating system.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/sectionmemorymanager-h/#l00107">107</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/sectionmemorymanager-h">SectionMemoryManager.h</a>, definition at line <a href="/docs/api/files/lib/lib/executionengine/sectionmemorymanager-cpp/#l00267">267</a> of file <a href="/docs/api/files/lib/lib/executionengine/sectionmemorymanager-cpp">SectionMemoryManager.cpp</a>.
</MemberDefinition>

### SectionMemoryManager() {#ad7b4628d82be8aec032d1b3198040d55}

<MemberDefinition
  prototype={<>llvm::SectionMemoryManager::SectionMemoryManager (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/sectionmemorymanager">SectionMemoryManager</a> &amp;)</>}
  labels = {["delete"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/sectionmemorymanager-h/#l00108">108</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/sectionmemorymanager-h">SectionMemoryManager.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Destructor

### ~SectionMemoryManager() {#a709a05abb7e82c5c8fefcc7ee16a3252}

<MemberDefinition
  prototype="llvm::SectionMemoryManager::~SectionMemoryManager ()">

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/sectionmemorymanager-h/#l00110">110</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/sectionmemorymanager-h">SectionMemoryManager.h</a>, definition at line <a href="/docs/api/files/lib/lib/executionengine/sectionmemorymanager-cpp/#l00233">233</a> of file <a href="/docs/api/files/lib/lib/executionengine/sectionmemorymanager-cpp">SectionMemoryManager.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Operators

### operator=() {#a9d3af0bc08da43e2c91b20edccca6ceb}

<MemberDefinition
  prototype={<>void llvm::SectionMemoryManager::operator= (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/sectionmemorymanager">SectionMemoryManager</a> &amp;)</>}
  labels = {["delete"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/sectionmemorymanager-h/#l00109">109</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/sectionmemorymanager-h">SectionMemoryManager.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### allocateCodeSection() {#acfcf22eac937cf698005e9cc378cad73}

<MemberDefinition
  prototype={<>uint8&#95;t &#42; llvm::SectionMemoryManager::allocateCodeSection (uintptr&#95;t Size, unsigned Alignment, unsigned SectionID, <a href="/docs/api/classes/llvm/stringref">StringRef</a> SectionName)</>}
  labels = {["virtual"]}>
Allocates a memory block of (at least) the given size suitable for executable code.

The value of <code>Alignment</code> must be a power of two. If <code>Alignment</code> is zero a default alignment of 16 will be used.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/sectionmemorymanager-h/#l00117">117</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/sectionmemorymanager-h">SectionMemoryManager.h</a>, definition at line <a href="/docs/api/files/lib/lib/executionengine/sectionmemorymanager-cpp/#l00032">32</a> of file <a href="/docs/api/files/lib/lib/executionengine/sectionmemorymanager-cpp">SectionMemoryManager.cpp</a>.
</MemberDefinition>

### allocateDataSection() {#ac4eeaddc4bbbe555cb2abc159b96492c}

<MemberDefinition
  prototype={<>uint8&#95;t &#42; llvm::SectionMemoryManager::allocateDataSection (uintptr&#95;t Size, unsigned Alignment, unsigned SectionID, <a href="/docs/api/classes/llvm/stringref">StringRef</a> SectionName, bool isReadOnly)</>}
  labels = {["virtual"]}>
Allocates a memory block of (at least) the given size suitable for executable code.

The value of <code>Alignment</code> must be a power of two. If <code>Alignment</code> is zero a default alignment of 16 will be used.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/sectionmemorymanager-h/#l00126">126</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/sectionmemorymanager-h">SectionMemoryManager.h</a>, definition at line <a href="/docs/api/files/lib/lib/executionengine/sectionmemorymanager-cpp/#l00020">20</a> of file <a href="/docs/api/files/lib/lib/executionengine/sectionmemorymanager-cpp">SectionMemoryManager.cpp</a>.
</MemberDefinition>

### finalizeMemory() {#af06d61d7c637095c5b7270b34224c5dd}

<MemberDefinition
  prototype={<>bool llvm::SectionMemoryManager::finalizeMemory (std::string &#42; ErrMsg=nullptr)</>}
  labels = {["virtual"]}>
Update section-specific memory permissions and other attributes.

This method is called when object loading is complete and section page permissions can be applied. It is up to the memory manager implementation to decide whether or not to act on this method. The memory manager will typically allocate all sections as read-write and then apply specific permissions when this method is called. Code sections cannot be executed until this function has been called. In addition, any cache coherency operations needed to reliably use the memory are also performed.


<SectionUser title="Returns">
true if an error occurred, false otherwise.
</SectionUser>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/sectionmemorymanager-h/#l00141">141</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/sectionmemorymanager-h">SectionMemoryManager.h</a>, definition at line <a href="/docs/api/files/lib/lib/executionengine/sectionmemorymanager-cpp/#l00148">148</a> of file <a href="/docs/api/files/lib/lib/executionengine/sectionmemorymanager-cpp">SectionMemoryManager.cpp</a>.
</MemberDefinition>

### invalidateInstructionCache() {#a64835973f93c4f018aa377870e15ee97}

<MemberDefinition
  prototype="void llvm::SectionMemoryManager::invalidateInstructionCache ()"
  labels = {["virtual"]}>
Invalidate instruction cache for code sections.

Some platforms with separate data cache and instruction cache require explicit cache flush, otherwise JIT code manipulations (like resolved relocations) will get to the data cache but not to the instruction cache.

This method is called from finalizeMemory.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/sectionmemorymanager-h/#l00150">150</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/sectionmemorymanager-h">SectionMemoryManager.h</a>, definition at line <a href="/docs/api/files/lib/lib/executionengine/sectionmemorymanager-cpp/#l00227">227</a> of file <a href="/docs/api/files/lib/lib/executionengine/sectionmemorymanager-cpp">SectionMemoryManager.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Functions

### allocateSection() {#a70f713822091779839fb0697890b44fc}

<MemberDefinition
  prototype={<>uint8&#95;t &#42; llvm::SectionMemoryManager::allocateSection (<a href="#a0cdbe52ddf56f7c9188174848e9423a4">AllocationPurpose</a> Purpose, uintptr&#95;t Size, unsigned Alignment)</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/sectionmemorymanager-h/#l00177">177</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/sectionmemorymanager-h">SectionMemoryManager.h</a>, definition at line <a href="/docs/api/files/lib/lib/executionengine/sectionmemorymanager-cpp/#l00040">40</a> of file <a href="/docs/api/files/lib/lib/executionengine/sectionmemorymanager-cpp">SectionMemoryManager.cpp</a>.
</MemberDefinition>

### anchor() {#a9daa5533bf122c58ff0c1876063ff953}

<MemberDefinition
  prototype="void llvm::SectionMemoryManager::anchor ()"
  labels = {["virtual"]}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/sectionmemorymanager-h/#l00183">183</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/sectionmemorymanager-h">SectionMemoryManager.h</a>, definition at line <a href="/docs/api/files/lib/lib/executionengine/sectionmemorymanager-cpp/#l00242">242</a> of file <a href="/docs/api/files/lib/lib/executionengine/sectionmemorymanager-cpp">SectionMemoryManager.cpp</a>.
</MemberDefinition>

### applyMemoryGroupPermissions() {#abeadc4a435040725ef277d0854e8231f}

<MemberDefinition
  prototype={<>std::error&#95;code llvm::SectionMemoryManager::applyMemoryGroupPermissions (MemoryGroup &amp; MemGroup, unsigned Permissions)</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/sectionmemorymanager-h/#l00180">180</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/sectionmemorymanager-h">SectionMemoryManager.h</a>, definition at line <a href="/docs/api/files/lib/lib/executionengine/sectionmemorymanager-cpp/#l00203">203</a> of file <a href="/docs/api/files/lib/lib/executionengine/sectionmemorymanager-cpp">SectionMemoryManager.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Attributes

### CodeMem {#a37c90b584f4921926d2f91baec417de9}

<MemberDefinition
  prototype="MemoryGroup llvm::SectionMemoryManager::CodeMem">

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/sectionmemorymanager-h/#l00185">185</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/sectionmemorymanager-h">SectionMemoryManager.h</a>.
</MemberDefinition>

### MMapper {#ac11efffdfc513a919954956c7529fc68}

<MemberDefinition
  prototype={<>MemoryMapper&#42; llvm::SectionMemoryManager::MMapper</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/sectionmemorymanager-h/#l00188">188</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/sectionmemorymanager-h">SectionMemoryManager.h</a>.
</MemberDefinition>

### OwnedMMapper {#ae1ab84c209cf054d1cb9cf804b05cf60}

<MemberDefinition
  prototype={<>std::unique&#95;ptr&lt;MemoryMapper&gt; llvm::SectionMemoryManager::OwnedMMapper</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/sectionmemorymanager-h/#l00189">189</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/sectionmemorymanager-h">SectionMemoryManager.h</a>.
</MemberDefinition>

### RODataMem {#a53c2fc3df5d5ab5a6651517137269621}

<MemberDefinition
  prototype="MemoryGroup llvm::SectionMemoryManager::RODataMem">

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/sectionmemorymanager-h/#l00187">187</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/sectionmemorymanager-h">SectionMemoryManager.h</a>.
</MemberDefinition>

### RWDataMem {#ae26c34dc8ed8bd7458866dd7db9fbe41}

<MemberDefinition
  prototype="MemoryGroup llvm::SectionMemoryManager::RWDataMem">

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/sectionmemorymanager-h/#l00186">186</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/sectionmemorymanager-h">SectionMemoryManager.h</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following files:

<ul>
<li><a href="/docs/api/files/include/include/llvm/include/llvm/executionengine/sectionmemorymanager-h">SectionMemoryManager.h</a></li>
<li><a href="/docs/api/files/lib/lib/executionengine/sectionmemorymanager-cpp">SectionMemoryManager.cpp</a></li>
</ul>

</DoxygenPage>
