---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/llvm/blockfrequencyinfoimplbase
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import IncludesList from '@xpack/docusaurus-plugin-doxygen/components/IncludesList'
import IncludesListItem from '@xpack/docusaurus-plugin-doxygen/components/IncludesListItem'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'
import SectionUser from '@xpack/docusaurus-plugin-doxygen/components/SectionUser'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `BlockFrequencyInfoImplBase` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>

Base class for <a href="/docs/api/classes/llvm/blockfrequencyinfoimpl">BlockFrequencyInfoImpl</a>. <a href="#details">More...</a>

## Declaration

<CodeBlock>class llvm::BlockFrequencyInfoImplBase</CodeBlock>

## Included Headers

<IncludesList>
<IncludesListItem
  filePath="llvm/Analysis/BlockFrequencyInfoImpl.h"
  permalink="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h"
  isLocal="true" />
</IncludesList>

## Derived Classes

<MembersIndex>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/blockfrequencyinfoimpl">BlockFrequencyInfoImpl&lt;BT&gt;</a></>}>
Shared implementation for block frequency analysis. <a href="/docs/api/classes/llvm/blockfrequencyinfoimpl/#details">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/blockfrequencyinfoimpl">BlockFrequencyInfoImpl&lt;BT&gt;</a></>}>
Shared implementation for block frequency analysis. <a href="/docs/api/classes/llvm/blockfrequencyinfoimpl/#details">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/blockfrequencyinfoimpl">BlockFrequencyInfoImpl&lt;BT&gt;</a></>}>
Shared implementation for block frequency analysis. <a href="/docs/api/classes/llvm/blockfrequencyinfoimpl/#details">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="class"
  name={<><a href="/docs/api/classes/llvm/blockfrequencyinfoimpl">BlockFrequencyInfoImpl&lt;BT&gt;</a></>}>
Shared implementation for block frequency analysis. <a href="/docs/api/classes/llvm/blockfrequencyinfoimpl/#details">More...</a>
</MembersIndexItem>

</MembersIndex>

## Public Member Typedefs Index

<MembersIndex>

<MembersIndexItem
  type="using"
  name={<><a href="#a6e6da6d64b5e1623157336544dd0e7a2">BlockMass</a> = <a href="/docs/api/classes/llvm/bfi-detail/blockmass">bfi&#95;detail::BlockMass</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type="using"
  name={<><a href="#a5514a17c0ec3ccae841930a4f8f74f99">Scaled64</a> = <a href="/docs/api/classes/llvm/scalednumber">ScaledNumber</a>&lt; uint64&#95;t &gt;</>}>
</MembersIndexItem>

</MembersIndex>

## Public Destructor Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#a0450ba0c5f10bc567038749976ebd228">~BlockFrequencyInfoImplBase</a> ()=default</>}>
Virtual destructor. <a href="#a0450ba0c5f10bc567038749976ebd228">More...</a>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="bool"
  name={<><a href="#a41ea5a32fdaf85d4aa83b1e2d8473fdc">addLoopSuccessorsToDist</a> (const LoopData &#42;OuterLoop, LoopData &amp;Loop, Distribution &amp;Dist)</>}>
Add all edges out of a packaged loop to the distribution. <a href="#a41ea5a32fdaf85d4aa83b1e2d8473fdc">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#aac32cd773a37b10c8f835459a23ac606">addToDist</a> (Distribution &amp;Dist, const LoopData &#42;OuterLoop, const BlockNode &amp;Pred, const BlockNode &amp;Succ, uint64&#95;t Weight)</>}>
Add an edge to the distribution. <a href="#aac32cd773a37b10c8f835459a23ac606">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#af8aa6262fff3f09a8e2076d7a76e1628">adjustLoopHeaderMass</a> (LoopData &amp;Loop)</>}>
Adjust the mass of all headers in an irreducible loop. <a href="#af8aa6262fff3f09a8e2076d7a76e1628">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/iterator-range">iterator&#95;range</a>&lt; std::list&lt; <a href="/docs/api/structs/llvm/blockfrequencyinfoimplbase/loopdata">LoopData</a> &gt;<a href="/docs/api/classes/llvm/iplist">::iterator</a> &gt;</>}
  name={<><a href="#aabc6780051353310f8899f9cc5283337">analyzeIrreducible</a> (const bfi&#95;detail::IrreducibleGraph &amp;G, LoopData &#42;OuterLoop, std::list&lt; LoopData &gt;::iterator Insert)</>}>
Analyze irreducible SCCs. <a href="#aabc6780051353310f8899f9cc5283337">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a90cc95ac676cd6751e696d9a683745c0">clear</a> ()</>}>
Clear all memory. <a href="#a90cc95ac676cd6751e696d9a683745c0">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a6aca67ed248d1eb55621f38869372c65">computeLoopScale</a> (LoopData &amp;Loop)</>}>
Compute the loop scale for a loop. <a href="#a6aca67ed248d1eb55621f38869372c65">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#aaa2c0a25aeaf519f9df55f422331f0db">distributeIrrLoopHeaderMass</a> (Distribution &amp;Dist)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#adda9f21a68ad40aac3ee4e0bf3afa31d">distributeMass</a> (const BlockNode &amp;Source, LoopData &#42;OuterLoop, Distribution &amp;Dist)</>}>
Distribute mass according to a distribution. <a href="#adda9f21a68ad40aac3ee4e0bf3afa31d">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a0b3608d47dacd2c63e831fee11073c2c">dump</a> () const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a8381abddeccf17690f4533ba6ecce36b">finalizeMetrics</a> ()</>}>
Finalize frequency metrics. <a href="#a8381abddeccf17690f4533ba6ecce36b">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/blockfrequency">BlockFrequency</a></>}
  name={<><a href="#a9b5fd69cbe234f56395e6ddd4eeed8be">getBlockFreq</a> (const BlockNode &amp;Node) const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="std::string"
  name={<><a href="#a81aacbe4befdc892179bb8cdac170370">getBlockName</a> (const BlockNode &amp;Node) const</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::optional&lt; uint64&#95;t &gt;</>}
  name={<><a href="#a92a5bef9afab84656590bbe1c530c86a">getBlockProfileCount</a> (const Function &amp;F, const BlockNode &amp;Node, bool AllowSynthetic=false) const</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/blockfrequency">BlockFrequency</a></>}
  name={<><a href="#a890eb320a0268a610cea6fc12459b1c0">getEntryFreq</a> () const</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="#a5514a17c0ec3ccae841930a4f8f74f99">Scaled64</a></>}
  name={<><a href="#adc0b4a681eb28808ca79e6b13e50f0d4">getFloatingBlockFreq</a> (const BlockNode &amp;Node) const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="std::string"
  name={<><a href="#a58791fa7d9b74c05628abed162ce2725">getLoopName</a> (const LoopData &amp;Loop) const</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::optional&lt; uint64&#95;t &gt;</>}
  name={<><a href="#ac2c46c98ef08efa11fd207209dabba62">getProfileCountFromFreq</a> (const Function &amp;F, BlockFrequency Freq, bool AllowSynthetic=false) const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a673d335f21e5df4fb227432b653fe8ab">isIrrLoopHeader</a> (const BlockNode &amp;Node)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a72a0d1f4a55f5756a4ef8e59662a7621">packageLoop</a> (LoopData &amp;Loop)</>}>
Package up a loop. <a href="#a72a0d1f4a55f5756a4ef8e59662a7621">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/raw-ostream">raw&#95;ostream</a> &amp;</>}
  name={<><a href="#a80efc92dca9ca54505f0a1399578c244">print</a> (raw&#95;ostream &amp;OS) const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a88624bc3c370c84a05d0f891b8b0793e">setBlockFreq</a> (const BlockNode &amp;Node, BlockFrequency Freq)</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#ab4e1554fca8ef98622714e55215db4a9">unwrapLoops</a> ()</>}>
Unwrap loops. <a href="#ab4e1554fca8ef98622714e55215db4a9">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a8fcc33897ff2ea4ebc874792c49497ef">updateLoopWithIrreducible</a> (LoopData &amp;OuterLoop)</>}>
Update a loop after packaging irreducible SCCs inside of it. <a href="#a8fcc33897ff2ea4ebc874792c49497ef">More...</a>
</MembersIndexItem>

</MembersIndex>

## Public Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<>std::vector&lt; <a href="/docs/api/structs/llvm/blockfrequencyinfoimplbase/frequencydata">FrequencyData</a> &gt;</>}
  name={<><a href="#aee96d15a297893d47f2d5fb50eac90d6">Freqs</a></>}>
Data about each block. This is used downstream. <a href="#aee96d15a297893d47f2d5fb50eac90d6">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/sparsebitvector">SparseBitVector</a></>}
  name={<><a href="#ae6a50da1ec57ffdb0576275d819dcb50">IsIrrLoopHeader</a></>}>
Whether each block is an irreducible loop header. <a href="#ae6a50da1ec57ffdb0576275d819dcb50">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::list&lt; <a href="/docs/api/structs/llvm/blockfrequencyinfoimplbase/loopdata">LoopData</a> &gt;</>}
  name={<><a href="#a0cce18fa64430b89b255227a997d7dac">Loops</a></>}>
Indexed information about loops. <a href="#a0cce18fa64430b89b255227a997d7dac">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<>std::vector&lt; <a href="/docs/api/structs/llvm/blockfrequencyinfoimplbase/workingdata">WorkingData</a> &gt;</>}
  name={<><a href="#a0270fc5b1a979417e696f5d8b655812d">Working</a></>}>
<a href="/docs/api/classes/llvm/loop">Loop</a> data: see initializeLoops(). <a href="#a0270fc5b1a979417e696f5d8b655812d">More...</a>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

Base class for <a href="/docs/api/classes/llvm/blockfrequencyinfoimpl">BlockFrequencyInfoImpl</a>.

<a href="/docs/api/classes/llvm/blockfrequencyinfoimplbase">BlockFrequencyInfoImplBase</a> has supporting data structures and some algorithms for <a href="/docs/api/classes/llvm/blockfrequencyinfoimplbase">BlockFrequencyInfoImplBase</a>. Only algorithms that depend on the block type (or that call such algorithms) are skipped here.

Nevertheless, the majority of the overall algorithm documentation lives with <a href="/docs/api/classes/llvm/blockfrequencyinfoimpl">BlockFrequencyInfoImpl</a>. See there for details.

Definition at line 180 of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h">BlockFrequencyInfoImpl.h</a>.

<SectionDefinition>

## Public Member Typedefs

### BlockMass {#a6e6da6d64b5e1623157336544dd0e7a2}

<MemberDefinition
  prototype={<>using llvm::BlockFrequencyInfoImplBase::BlockMass =  bfi&#95;detail::BlockMass</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h/#l00183">183</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h">BlockFrequencyInfoImpl.h</a>.
</MemberDefinition>

### Scaled64 {#a5514a17c0ec3ccae841930a4f8f74f99}

<MemberDefinition
  prototype={<>using llvm::BlockFrequencyInfoImplBase::Scaled64 =  ScaledNumber&lt;uint64&#95;t&gt;</>}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h/#l00182">182</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h">BlockFrequencyInfoImpl.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Destructor

### ~BlockFrequencyInfoImplBase() {#a0450ba0c5f10bc567038749976ebd228}

<MemberDefinition
  prototype="virtual llvm::BlockFrequencyInfoImplBase::~BlockFrequencyInfoImplBase ()"
  labels = {["virtual", "default"]}>
Virtual destructor.

Need a virtual destructor to mask the compiler warning about <a href="#a81aacbe4befdc892179bb8cdac170370">getBlockName()</a>.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h/#l00438">438</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h">BlockFrequencyInfoImpl.h</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### addLoopSuccessorsToDist() {#a41ea5a32fdaf85d4aa83b1e2d8473fdc}

<MemberDefinition
  prototype={<>bool BlockFrequencyInfoImplBase::addLoopSuccessorsToDist (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/structs/llvm/blockfrequencyinfoimplbase/loopdata">LoopData</a> &#42; OuterLoop, <a href="/docs/api/structs/llvm/blockfrequencyinfoimplbase/loopdata">LoopData</a> &amp; Loop, <a href="/docs/api/structs/llvm/blockfrequencyinfoimplbase/distribution">Distribution</a> &amp; Dist)</>}>
Add all edges out of a packaged loop to the distribution.

Adds all edges from LocalLoopHead to Dist. Calls <a href="#aac32cd773a37b10c8f835459a23ac606">addToDist()</a> to add each successor edge.


<SectionUser title="Returns">
<code>true</code> unless there&#39;s an irreducible backedge.
</SectionUser>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h/#l00446">446</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h">BlockFrequencyInfoImpl.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/blockfrequencyinfoimpl-cpp/#l00374">374</a> of file <a href="/docs/api/files/lib/lib/analysis/blockfrequencyinfoimpl-cpp">BlockFrequencyInfoImpl.cpp</a>.
</MemberDefinition>

### addToDist() {#aac32cd773a37b10c8f835459a23ac606}

<MemberDefinition
  prototype={<>bool BlockFrequencyInfoImplBase::addToDist (<a href="/docs/api/structs/llvm/blockfrequencyinfoimplbase/distribution">Distribution</a> &amp; Dist, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/structs/llvm/blockfrequencyinfoimplbase/loopdata">LoopData</a> &#42; OuterLoop, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/structs/llvm/blockfrequencyinfoimplbase/blocknode">BlockNode</a> &amp; Pred, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/structs/llvm/blockfrequencyinfoimplbase/blocknode">BlockNode</a> &amp; Succ, uint64&#95;t Weight)</>}>
Add an edge to the distribution.

Adds an edge to Succ to Dist. If <code>LoopHead.isValid()</code>, then whether the edge is local/exit/backedge is in the context of LoopHead. Otherwise, every edge should be a local edge (since all the loops are packaged up).


<SectionUser title="Returns">
<code>true</code> unless aborted due to an irreducible backedge.
</SectionUser>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h/#l00456">456</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h">BlockFrequencyInfoImpl.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/blockfrequencyinfoimpl-cpp/#l00312">312</a> of file <a href="/docs/api/files/lib/lib/analysis/blockfrequencyinfoimpl-cpp">BlockFrequencyInfoImpl.cpp</a>.
</MemberDefinition>

### adjustLoopHeaderMass() {#af8aa6262fff3f09a8e2076d7a76e1628}

<MemberDefinition
  prototype={<>void BlockFrequencyInfoImplBase::adjustLoopHeaderMass (<a href="/docs/api/structs/llvm/blockfrequencyinfoimplbase/loopdata">LoopData</a> &amp; Loop)</>}>
Adjust the mass of all headers in an irreducible loop.

Initially, irreducible loops are assumed to distribute their mass equally among its headers. This can lead to wrong frequency estimates since some headers may be executed more frequently than others.

This adjusts header mass distribution so it matches the weights of the backedges going into each of the loop headers.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h/#l00498">498</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h">BlockFrequencyInfoImpl.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/blockfrequencyinfoimpl-cpp/#l00812">812</a> of file <a href="/docs/api/files/lib/lib/analysis/blockfrequencyinfoimpl-cpp">BlockFrequencyInfoImpl.cpp</a>.
</MemberDefinition>

### analyzeIrreducible() {#aabc6780051353310f8899f9cc5283337}

<MemberDefinition
  prototype={<>iterator&#95;range&lt; std::list&lt; LoopData &gt;::iterator &gt; BlockFrequencyInfoImplBase::analyzeIrreducible (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/structs/llvm/bfi-detail/irreduciblegraph">bfi&#95;detail::IrreducibleGraph</a> &amp; G, <a href="/docs/api/structs/llvm/blockfrequencyinfoimplbase/loopdata">LoopData</a> &#42; OuterLoop, std::list&lt; <a href="/docs/api/structs/llvm/blockfrequencyinfoimplbase/loopdata">LoopData</a> &gt;<a href="/docs/api/classes/llvm/iplist">::iterator</a> Insert)</>}>
Analyze irreducible SCCs.

Separate irreducible SCCs from <code>G</code>, which is an explicit graph of <code>OuterLoop</code> (or the top-level function, if <code>OuterLoop</code> is <code>nullptr</code>). Insert them into <em>Loops</em> before <code>Insert</code>.


<SectionUser title="Returns">
the <code><a href="/docs/api/structs/llvm/blockfrequencyinfoimplbase/loopdata">LoopData</a></code> nodes representing the irreducible SCCs.
</SectionUser>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h/#l00467">467</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h">BlockFrequencyInfoImpl.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/blockfrequencyinfoimpl-cpp/#l00781">781</a> of file <a href="/docs/api/files/lib/lib/analysis/blockfrequencyinfoimpl-cpp">BlockFrequencyInfoImpl.cpp</a>.
</MemberDefinition>

### clear() {#a90cc95ac676cd6751e696d9a683745c0}

<MemberDefinition
  prototype="void BlockFrequencyInfoImplBase::clear ()">
Clear all memory.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h/#l00515">515</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h">BlockFrequencyInfoImpl.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/blockfrequencyinfoimpl-cpp/#l00292">292</a> of file <a href="/docs/api/files/lib/lib/analysis/blockfrequencyinfoimpl-cpp">BlockFrequencyInfoImpl.cpp</a>.
</MemberDefinition>

### computeLoopScale() {#a6aca67ed248d1eb55621f38869372c65}

<MemberDefinition
  prototype={<>void BlockFrequencyInfoImplBase::computeLoopScale (<a href="/docs/api/structs/llvm/blockfrequencyinfoimplbase/loopdata">LoopData</a> &amp; Loop)</>}>
Compute the loop scale for a loop.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h/#l00488">488</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h">BlockFrequencyInfoImpl.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/blockfrequencyinfoimpl-cpp/#l00387">387</a> of file <a href="/docs/api/files/lib/lib/analysis/blockfrequencyinfoimpl-cpp">BlockFrequencyInfoImpl.cpp</a>.
</MemberDefinition>

### distributeIrrLoopHeaderMass() {#aaa2c0a25aeaf519f9df55f422331f0db}

<MemberDefinition
  prototype={<>void BlockFrequencyInfoImplBase::distributeIrrLoopHeaderMass (<a href="/docs/api/structs/llvm/blockfrequencyinfoimplbase/distribution">Distribution</a> &amp; Dist)</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h/#l00500">500</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h">BlockFrequencyInfoImpl.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/blockfrequencyinfoimpl-cpp/#l00849">849</a> of file <a href="/docs/api/files/lib/lib/analysis/blockfrequencyinfoimpl-cpp">BlockFrequencyInfoImpl.cpp</a>.
</MemberDefinition>

### distributeMass() {#adda9f21a68ad40aac3ee4e0bf3afa31d}

<MemberDefinition
  prototype={<>void BlockFrequencyInfoImplBase::distributeMass (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/structs/llvm/blockfrequencyinfoimplbase/blocknode">BlockNode</a> &amp; Source, <a href="/docs/api/structs/llvm/blockfrequencyinfoimplbase/loopdata">LoopData</a> &#42; OuterLoop, <a href="/docs/api/structs/llvm/blockfrequencyinfoimplbase/distribution">Distribution</a> &amp; Dist)</>}>
Distribute mass according to a distribution.

Distributes the mass in Source according to Dist. If LoopHead.isValid(), backedges and exits are stored in its entry in Loops.

Mass is distributed in parallel from two copies of the source mass.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h/#l00484">484</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h">BlockFrequencyInfoImpl.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/blockfrequencyinfoimpl-cpp/#l00447">447</a> of file <a href="/docs/api/files/lib/lib/analysis/blockfrequencyinfoimpl-cpp">BlockFrequencyInfoImpl.cpp</a>.
</MemberDefinition>

### dump() {#a0b3608d47dacd2c63e831fee11073c2c}

<MemberDefinition
  prototype="void llvm::BlockFrequencyInfoImplBase::dump () const"
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h/#l00521">521</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h">BlockFrequencyInfoImpl.h</a>.
</MemberDefinition>

### finalizeMetrics() {#a8381abddeccf17690f4533ba6ecce36b}

<MemberDefinition
  prototype="void BlockFrequencyInfoImplBase::finalizeMetrics ()">
Finalize frequency metrics.

Calculates final frequencies and cleans up no-longer-needed data structures.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h/#l00512">512</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h">BlockFrequencyInfoImpl.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/blockfrequencyinfoimpl-cpp/#l00546">546</a> of file <a href="/docs/api/files/lib/lib/analysis/blockfrequencyinfoimpl-cpp">BlockFrequencyInfoImpl.cpp</a>.
</MemberDefinition>

### getBlockFreq() {#a9b5fd69cbe234f56395e6ddd4eeed8be}

<MemberDefinition
  prototype={<>BlockFrequency BlockFrequencyInfoImplBase::getBlockFreq (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/structs/llvm/blockfrequencyinfoimplbase/blocknode">BlockNode</a> &amp; Node) const</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h/#l00525">525</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h">BlockFrequencyInfoImpl.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/blockfrequencyinfoimpl-cpp/#l00568">568</a> of file <a href="/docs/api/files/lib/lib/analysis/blockfrequencyinfoimpl-cpp">BlockFrequencyInfoImpl.cpp</a>.
</MemberDefinition>

### getBlockName() {#a81aacbe4befdc892179bb8cdac170370}

<MemberDefinition
  prototype={<>std::string BlockFrequencyInfoImplBase::getBlockName (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/structs/llvm/blockfrequencyinfoimplbase/blocknode">BlockNode</a> &amp; Node) const</>}
  labels = {["virtual"]}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h/#l00517">517</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h">BlockFrequencyInfoImpl.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/blockfrequencyinfoimpl-cpp/#l00628">628</a> of file <a href="/docs/api/files/lib/lib/analysis/blockfrequencyinfoimpl-cpp">BlockFrequencyInfoImpl.cpp</a>.
</MemberDefinition>

### getBlockProfileCount() {#a92a5bef9afab84656590bbe1c530c86a}

<MemberDefinition
  prototype={<>std::optional&lt; uint64&#95;t &gt; BlockFrequencyInfoImplBase::getBlockProfileCount (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/function">Function</a> &amp; F, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/structs/llvm/blockfrequencyinfoimplbase/blocknode">BlockNode</a> &amp; Node, bool AllowSynthetic=false) const</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h/#l00527">527</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h">BlockFrequencyInfoImpl.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/blockfrequencyinfoimpl-cpp/#l00584">584</a> of file <a href="/docs/api/files/lib/lib/analysis/blockfrequencyinfoimpl-cpp">BlockFrequencyInfoImpl.cpp</a>.
</MemberDefinition>

### getEntryFreq() {#a890eb320a0268a610cea6fc12459b1c0}

<MemberDefinition
  prototype="BlockFrequency llvm::BlockFrequencyInfoImplBase::getEntryFreq () const"
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h/#l00536">536</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h">BlockFrequencyInfoImpl.h</a>.
</MemberDefinition>

### getFloatingBlockFreq() {#adc0b4a681eb28808ca79e6b13e50f0d4}

<MemberDefinition
  prototype={<>Scaled64 BlockFrequencyInfoImplBase::getFloatingBlockFreq (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/structs/llvm/blockfrequencyinfoimplbase/blocknode">BlockNode</a> &amp; Node) const</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h/#l00523">523</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h">BlockFrequencyInfoImpl.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/blockfrequencyinfoimpl-cpp/#l00614">614</a> of file <a href="/docs/api/files/lib/lib/analysis/blockfrequencyinfoimpl-cpp">BlockFrequencyInfoImpl.cpp</a>.
</MemberDefinition>

### getLoopName() {#a58791fa7d9b74c05628abed162ce2725}

<MemberDefinition
  prototype={<>std::string BlockFrequencyInfoImplBase::getLoopName (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/structs/llvm/blockfrequencyinfoimplbase/loopdata">LoopData</a> &amp; Loop) const</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h/#l00518">518</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h">BlockFrequencyInfoImpl.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/blockfrequencyinfoimpl-cpp/#l00633">633</a> of file <a href="/docs/api/files/lib/lib/analysis/blockfrequencyinfoimpl-cpp">BlockFrequencyInfoImpl.cpp</a>.
</MemberDefinition>

### getProfileCountFromFreq() {#ac2c46c98ef08efa11fd207209dabba62}

<MemberDefinition
  prototype={<>std::optional&lt; uint64&#95;t &gt; BlockFrequencyInfoImplBase::getProfileCountFromFreq (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/function">Function</a> &amp; F, <a href="/docs/api/classes/llvm/blockfrequency">BlockFrequency</a> Freq, bool AllowSynthetic=false) const</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h/#l00530">530</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h">BlockFrequencyInfoImpl.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/blockfrequencyinfoimpl-cpp/#l00590">590</a> of file <a href="/docs/api/files/lib/lib/analysis/blockfrequencyinfoimpl-cpp">BlockFrequencyInfoImpl.cpp</a>.
</MemberDefinition>

### isIrrLoopHeader() {#a673d335f21e5df4fb227432b653fe8ab}

<MemberDefinition
  prototype={<>bool BlockFrequencyInfoImplBase::isIrrLoopHeader (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/structs/llvm/blockfrequencyinfoimplbase/blocknode">BlockNode</a> &amp; Node)</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h/#l00532">532</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h">BlockFrequencyInfoImpl.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/blockfrequencyinfoimpl-cpp/#l00607">607</a> of file <a href="/docs/api/files/lib/lib/analysis/blockfrequencyinfoimpl-cpp">BlockFrequencyInfoImpl.cpp</a>.
</MemberDefinition>

### packageLoop() {#a72a0d1f4a55f5756a4ef8e59662a7621}

<MemberDefinition
  prototype={<>void BlockFrequencyInfoImplBase::packageLoop (<a href="/docs/api/structs/llvm/blockfrequencyinfoimplbase/loopdata">LoopData</a> &amp; Loop)</>}>
Package up a loop.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h/#l00503">503</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h">BlockFrequencyInfoImpl.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/blockfrequencyinfoimpl-cpp/#l00422">422</a> of file <a href="/docs/api/files/lib/lib/analysis/blockfrequencyinfoimpl-cpp">BlockFrequencyInfoImpl.cpp</a>.
</MemberDefinition>

### print() {#a80efc92dca9ca54505f0a1399578c244}

<MemberDefinition
  prototype={<>virtual raw&#95;ostream &amp; llvm::BlockFrequencyInfoImplBase::print (<a href="/docs/api/classes/llvm/raw-ostream">raw&#95;ostream</a> &amp; OS) const</>}
  labels = {["inline", "virtual"]}>

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h/#l00520">520</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h">BlockFrequencyInfoImpl.h</a>.
</MemberDefinition>

### setBlockFreq() {#a88624bc3c370c84a05d0f891b8b0793e}

<MemberDefinition
  prototype={<>void BlockFrequencyInfoImplBase::setBlockFreq (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/structs/llvm/blockfrequencyinfoimplbase/blocknode">BlockNode</a> &amp; Node, <a href="/docs/api/classes/llvm/blockfrequency">BlockFrequency</a> Freq)</>}>

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h/#l00534">534</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h">BlockFrequencyInfoImpl.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/blockfrequencyinfoimpl-cpp/#l00620">620</a> of file <a href="/docs/api/files/lib/lib/analysis/blockfrequencyinfoimpl-cpp">BlockFrequencyInfoImpl.cpp</a>.
</MemberDefinition>

### unwrapLoops() {#ab4e1554fca8ef98622714e55215db4a9}

<MemberDefinition
  prototype="void BlockFrequencyInfoImplBase::unwrapLoops ()">
Unwrap loops.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h/#l00506">506</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h">BlockFrequencyInfoImpl.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/blockfrequencyinfoimpl-cpp/#l00537">537</a> of file <a href="/docs/api/files/lib/lib/analysis/blockfrequencyinfoimpl-cpp">BlockFrequencyInfoImpl.cpp</a>.
</MemberDefinition>

### updateLoopWithIrreducible() {#a8fcc33897ff2ea4ebc874792c49497ef}

<MemberDefinition
  prototype={<>void BlockFrequencyInfoImplBase::updateLoopWithIrreducible (<a href="/docs/api/structs/llvm/blockfrequencyinfoimplbase/loopdata">LoopData</a> &amp; OuterLoop)</>}>
Update a loop after packaging irreducible SCCs inside of it.

Update <code>OuterLoop</code>. Before finding irreducible control flow, it was partway through <em>computeMassInLoop()</em>, so <em><a href="/docs/api/structs/llvm/blockfrequencyinfoimplbase/loopdata/#a2ba9de56719382167db6112ba3d0b056">LoopData::Exits</a></em> and <em><a href="/docs/api/structs/llvm/blockfrequencyinfoimplbase/loopdata/#ac7119657849326a17e7ada6cb242c288">LoopData::BackedgeMass</a></em> need to be reset. Also, nodes that were packaged up need to be removed from <em>OuterLoop::Nodes</em>.

Declaration at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h/#l00476">476</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h">BlockFrequencyInfoImpl.h</a>, definition at line <a href="/docs/api/files/lib/lib/analysis/blockfrequencyinfoimpl-cpp/#l00801">801</a> of file <a href="/docs/api/files/lib/lib/analysis/blockfrequencyinfoimpl-cpp">BlockFrequencyInfoImpl.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Attributes

### Freqs {#aee96d15a297893d47f2d5fb50eac90d6}

<MemberDefinition
  prototype={<>std::vector&lt;FrequencyData&gt; llvm::BlockFrequencyInfoImplBase::Freqs</>}>
Data about each block. This is used downstream.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h/#l00422">422</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h">BlockFrequencyInfoImpl.h</a>.
</MemberDefinition>

### IsIrrLoopHeader {#ae6a50da1ec57ffdb0576275d819dcb50}

<MemberDefinition
  prototype="SparseBitVector llvm::BlockFrequencyInfoImplBase::IsIrrLoopHeader">
Whether each block is an irreducible loop header.

This is used downstream.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h/#l00426">426</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h">BlockFrequencyInfoImpl.h</a>.
</MemberDefinition>

### Loops {#a0cce18fa64430b89b255227a997d7dac}

<MemberDefinition
  prototype={<>std::list&lt;LoopData&gt; llvm::BlockFrequencyInfoImplBase::Loops</>}>
Indexed information about loops.

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h/#l00432">432</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h">BlockFrequencyInfoImpl.h</a>.
</MemberDefinition>

### Working {#a0270fc5b1a979417e696f5d8b655812d}

<MemberDefinition
  prototype={<>std::vector&lt;WorkingData&gt; llvm::BlockFrequencyInfoImplBase::Working</>}>
<a href="/docs/api/classes/llvm/loop">Loop</a> data: see initializeLoops().

Definition at line <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h/#l00429">429</a> of file <a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h">BlockFrequencyInfoImpl.h</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following files:

<ul>
<li><a href="/docs/api/files/include/include/llvm/include/llvm/analysis/blockfrequencyinfoimpl-h">BlockFrequencyInfoImpl.h</a></li>
<li><a href="/docs/api/files/lib/lib/analysis/blockfrequencyinfoimpl-cpp">BlockFrequencyInfoImpl.cpp</a></li>
</ul>

</DoxygenPage>
