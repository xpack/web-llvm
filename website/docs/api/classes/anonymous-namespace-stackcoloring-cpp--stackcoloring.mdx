---

# DO NOT EDIT!
# Automatically generated via docusaurus-plugin-doxygen by Doxygen.

slug: /api/classes/anonymous-namespace-stackcoloring-cpp-/stackcoloring
custom_edit_url: null
keywords:
  - doxygen
  - reference
  - class
toc_max_heading_level: 3

---

import CodeBlock from '@theme/CodeBlock'

import DoxygenPage from '@xpack/docusaurus-plugin-doxygen/components/DoxygenPage'
import MemberDefinition from '@xpack/docusaurus-plugin-doxygen/components/MemberDefinition'
import MembersIndex from '@xpack/docusaurus-plugin-doxygen/components/MembersIndex'
import MembersIndexItem from '@xpack/docusaurus-plugin-doxygen/components/MembersIndexItem'
import SectionDefinition from '@xpack/docusaurus-plugin-doxygen/components/SectionDefinition'
import SectionUser from '@xpack/docusaurus-plugin-doxygen/components/SectionUser'

import pluginConfig from '@site/docusaurus-plugin-doxygen-config.json'

# The `StackColoring` Class Reference

<DoxygenPage pluginConfig={pluginConfig}>

<a href="/docs/api/classes/anonymous-namespace-stackcoloring-cpp-/stackcoloring">StackColoring</a> - A machine pass for merging disjoint stack allocations, marked by the LIFETIME&#95;START and LIFETIME&#95;END pseudo instructions. <a href="#details">More...</a>

## Declaration

<CodeBlock>class anonymous_namespace{StackColoring.cpp}::StackColoring</CodeBlock>

## Private Member Typedefs Index

<MembersIndex>

<MembersIndexItem
  type="using"
  name={<><a href="#a4f4c6a26dd0fc3d4fed356823f8453a3">BlockBitVecMap</a> = <a href="/docs/api/classes/llvm/densemap">DenseMap</a>&lt; <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;, <a href="/docs/api/classes/llvm/bitvector">BitVector</a> &gt;</>}>
Used in collectMarkers. <a href="#a4f4c6a26dd0fc3d4fed356823f8453a3">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="using"
  name={<><a href="#aeba0a81e646e7bfcb6cf6f2d9cb764d7">LivenessMap</a> = <a href="/docs/api/classes/llvm/densemap">DenseMap</a>&lt; <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;, BlockLifetimeInfo &gt;</>}>
Maps active slots (per bit) for each basic block. <a href="#aeba0a81e646e7bfcb6cf6f2d9cb764d7">More...</a>
</MembersIndexItem>

</MembersIndex>

## Public Constructors Index

<MembersIndex>

<MembersIndexItem
  name={<><a href="#af7c4d85591a3578b1b420dbde4c42580">StackColoring</a> (SlotIndexes &#42;Indexes)</>}>
</MembersIndexItem>

</MembersIndex>

## Public Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="bool"
  name={<><a href="#a97d6b0d6fae6fc47e5e354e6c3382938">run</a> (MachineFunction &amp;Func)</>}>
</MembersIndexItem>

</MembersIndex>

## Private Member Functions Index

<MembersIndex>

<MembersIndexItem
  type="bool"
  name={<><a href="#a02d0909e976dfc868d13ec513b189a17">applyFirstUse</a> (int Slot)</>}>
Returns TRUE if we&#39;re using the first-use-begins-lifetime method for this slot (if FALSE, then the start marker is treated as start of lifetime). <a href="#a02d0909e976dfc868d13ec513b189a17">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a1dd47c7be3573a6ac61078f1b5543558">calculateLiveIntervals</a> (unsigned NumSlots)</>}>
Construct the <a href="/docs/api/classes/llvm/liveintervals">LiveIntervals</a> for the slots. <a href="#a1dd47c7be3573a6ac61078f1b5543558">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a8d4ea186aaa9b69e5344c93b732677ec">calculateLocalLiveness</a> ()</>}>
Perform the dataflow calculation and calculate the lifetime for each of the slots, based on the BEGIN/END vectors. <a href="#a8d4ea186aaa9b69e5344c93b732677ec">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="unsigned"
  name={<><a href="#a39e133b79aeab3ac6dace3fb804ceddf">collectMarkers</a> (unsigned NumSlot)</>}>
Scan the machine function and find all of the lifetime markers. <a href="#a39e133b79aeab3ac6dace3fb804ceddf">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a1b02a9db581601dda7f4faad4e933e39">dump</a> () const</>}>
Debug. <a href="#a1b02a9db581601dda7f4faad4e933e39">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a6250e9734eb86b21892a686ab4fb25b8">dumpBB</a> (MachineBasicBlock &#42;MBB) const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a9fbf3b1bbd4f8d43645cdb31c5df4567">dumpBV</a> (const char &#42;tag, const BitVector &amp;BV) const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a2ded4a94ddbb27252f02217befa76eb0">dumpIntervals</a> () const</>}>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a17b088823e2eda3b62fa805530a05c3d">expungeSlotMap</a> (DenseMap&lt; int, int &gt; &amp;SlotRemap, unsigned NumSlots)</>}>
Map entries which point to other entries to their destination. <a href="#a17b088823e2eda3b62fa805530a05c3d">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#a2bbb75088b66780d62e1bfb73fd26537">isLifetimeStartOrEnd</a> (const MachineInstr &amp;MI, SmallVector&lt; int, 4 &gt; &amp;slots, bool &amp;isStart)</>}>
Examines the specified instruction and returns TRUE if the instruction represents the start or end of an interesting lifetime. <a href="#a2bbb75088b66780d62e1bfb73fd26537">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#a525b83fcc144faf424b7a13fa25c8bdd">remapInstructions</a> (DenseMap&lt; int, int &gt; &amp;SlotRemap)</>}>
Go over the machine function and change instructions which use stack slots to use the joint slots. <a href="#a525b83fcc144faf424b7a13fa25c8bdd">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="bool"
  name={<><a href="#ac69d963ba237190c8208f310c1cb0e45">removeAllMarkers</a> ()</>}>
Removes all of the lifetime marker instructions from the function. <a href="#ac69d963ba237190c8208f310c1cb0e45">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type="void"
  name={<><a href="#afe94386f11658e8b96e3f7a810e90401">removeInvalidSlotRanges</a> ()</>}>
The input program may contain instructions which are not inside lifetime markers. <a href="#afe94386f11658e8b96e3f7a810e90401">More...</a>
</MembersIndexItem>

</MembersIndex>

## Private Member Attributes Index

<MembersIndex>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/smallvector">SmallVector</a>&lt; <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;, 8 &gt;</>}
  name={<><a href="#aefe3b60f85c7b2bad89636fc410811f5">BasicBlockNumbering</a></>}>
Maps basic blocks to a serial number. <a href="#aefe3b60f85c7b2bad89636fc410811f5">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/densemap">DenseMap</a>&lt; <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42;, int &gt;</>}
  name={<><a href="#a28a6e4a4de17b7dc7bf12592659de5eb">BasicBlocks</a></>}>
Maps serial numbers to basic blocks. <a href="#a28a6e4a4de17b7dc7bf12592659de5eb">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/densemap">LivenessMap</a></>}
  name={<><a href="#a1d18763758b9e02a8b90b6544e74b10e">BlockLiveness</a></>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/bitvector">BitVector</a></>}
  name={<><a href="#a956dc290dead4febb97579c22c7a1809">ConservativeSlots</a></>}>
FI slots that need to be handled conservatively (for these slots lifetime-start-on-first-use is disabled). <a href="#a956dc290dead4febb97579c22c7a1809">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/slotindexes">SlotIndexes</a> &#42;</>}
  name={<><a href="#a603d228e4b43c1dc04d4497e04194b78">Indexes</a> = nullptr</>}>
<a href="/docs/api/classes/llvm/slotindex">SlotIndex</a> analysis object. <a href="#a603d228e4b43c1dc04d4497e04194b78">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/bitvector">BitVector</a></>}
  name={<><a href="#a01a726bfc4c3b3759f51b091d8ef900f">InterestingSlots</a></>}>
<a href="/docs/api/classes/llvm/record">Record</a> the FI slots for which we have seen some sort of lifetime marker (either start or end). <a href="#a01a726bfc4c3b3759f51b091d8ef900f">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/smallvector">SmallVector</a>&lt; std::unique&#95;ptr&lt; <a href="/docs/api/classes/llvm/liveinterval">LiveInterval</a> &gt;, 16 &gt;</>}
  name={<><a href="#acbf06c25cbd660c617dafab6b6d65a22">Intervals</a></>}>
Maps slots to their use interval. <a href="#acbf06c25cbd660c617dafab6b6d65a22">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/smallvector">SmallVector</a>&lt; <a href="/docs/api/classes/llvm/smallvector">SmallVector</a>&lt; <a href="/docs/api/classes/llvm/slotindex">SlotIndex</a>, 4 &gt;, 16 &gt;</>}
  name={<><a href="#a0dcc57a834d7e84d9a1c0f2a1f779e9d">LiveStarts</a></>}>
Maps slots to the points where they can become in-use. <a href="#a0dcc57a834d7e84d9a1c0f2a1f779e9d">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/smallvector">SmallVector</a>&lt; <a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &#42;, 8 &gt;</>}
  name={<><a href="#a1c87d375f0618157ddc718da2963624a">Markers</a></>}>
The list of lifetime markers found. <a href="#a1c87d375f0618157ddc718da2963624a">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machinefunction">MachineFunction</a> &#42;</>}
  name={<><a href="#a1969b3be516af7d49d65dc4e01088b77">MF</a> = nullptr</>}>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/machineframeinfo">MachineFrameInfo</a> &#42;</>}
  name={<><a href="#a9f067fa92eae557d887a259cd4473056">MFI</a> = nullptr</>}>
</MembersIndexItem>

<MembersIndexItem
  type="unsigned"
  name={<><a href="#a3c9ca929b48b028ea79a547cf8ff98f7">NumIterations</a></>}>
Number of iterations taken during data flow analysis. <a href="#a3c9ca929b48b028ea79a547cf8ff98f7">More...</a>
</MembersIndexItem>

<MembersIndexItem
  type={<><a href="/docs/api/classes/llvm/vninfo/#aa750a7f159760b9c378d930deb6a9837">VNInfo::Allocator</a></>}
  name={<><a href="#ab5ccff269dcd58edec1b11c4d7ed5749">VNInfoAllocator</a></>}>
<a href="/docs/api/classes/llvm/vninfo">VNInfo</a> is used for the construction of <a href="/docs/api/classes/llvm/liveintervals">LiveIntervals</a>. <a href="#ab5ccff269dcd58edec1b11c4d7ed5749">More...</a>
</MembersIndexItem>

</MembersIndex>

## Description {#details}

<a href="/docs/api/classes/anonymous-namespace-stackcoloring-cpp-/stackcoloring">StackColoring</a> - A machine pass for merging disjoint stack allocations, marked by the LIFETIME&#95;START and LIFETIME&#95;END pseudo instructions.

Definition at line 380 of file <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp">StackColoring.cpp</a>.

<SectionDefinition>

## Private Member Typedefs

### BlockBitVecMap {#a4f4c6a26dd0fc3d4fed356823f8453a3}

<MemberDefinition
  prototype={<>using anonymous&#95;namespace&#123;StackColoring.cpp&#125;::StackColoring::BlockBitVecMap =  DenseMap&lt;const MachineBasicBlock &#42;, BitVector&gt;</>}>
Used in collectMarkers.

Definition at line <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp/#l00445">445</a> of file <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp">StackColoring.cpp</a>.
</MemberDefinition>

### LivenessMap {#aeba0a81e646e7bfcb6cf6f2d9cb764d7}

<MemberDefinition
  prototype={<>using anonymous&#95;namespace&#123;StackColoring.cpp&#125;::StackColoring::LivenessMap =  DenseMap&lt;const MachineBasicBlock &#42;, BlockLifetimeInfo&gt;</>}>
Maps active slots (per bit) for each basic block.

Definition at line <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp/#l00402">402</a> of file <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp">StackColoring.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Constructors

### StackColoring() {#af7c4d85591a3578b1b420dbde4c42580}

<MemberDefinition
  prototype={<>anonymous&#95;namespace&#123;StackColoring.cpp&#125;::StackColoring::StackColoring (<a href="/docs/api/classes/llvm/slotindexes">SlotIndexes</a> &#42; Indexes)</>}
  labels = {["inline"]}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp/#l00440">440</a> of file <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp">StackColoring.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Public Member Functions

### run() {#a97d6b0d6fae6fc47e5e354e6c3382938}

<MemberDefinition
  prototype={<>bool StackColoring::run (<a href="/docs/api/classes/llvm/machinefunction">MachineFunction</a> &amp; Func)</>}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp/#l00441">441</a> of file <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp">StackColoring.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Functions

### applyFirstUse() {#a02d0909e976dfc868d13ec513b189a17}

<MemberDefinition
  prototype={<>bool anonymous&#95;namespace&#123;StackColoring.cpp&#125;::StackColoring::applyFirstUse (int Slot)</>}
  labels = {["inline"]}>
Returns TRUE if we&#39;re using the first-use-begins-lifetime method for this slot (if FALSE, then the start marker is treated as start of lifetime).

Definition at line <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp/#l00470">470</a> of file <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp">StackColoring.cpp</a>.
</MemberDefinition>

### calculateLiveIntervals() {#a1dd47c7be3573a6ac61078f1b5543558}

<MemberDefinition
  prototype="void StackColoring::calculateLiveIntervals (unsigned NumSlots)">
Construct the <a href="/docs/api/classes/llvm/liveintervals">LiveIntervals</a> for the slots.

Definition at line <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp/#l00488">488</a> of file <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp">StackColoring.cpp</a>.
</MemberDefinition>

### calculateLocalLiveness() {#a8d4ea186aaa9b69e5344c93b732677ec}

<MemberDefinition
  prototype="void StackColoring::calculateLocalLiveness ()">
Perform the dataflow calculation and calculate the lifetime for each of the slots, based on the BEGIN/END vectors.

Set the LifetimeLIVE&#95;IN and LifetimeLIVE&#95;OUT maps that represent which stack slots are live coming in and out blocks.

Definition at line <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp/#l00466">466</a> of file <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp">StackColoring.cpp</a>.
</MemberDefinition>

### collectMarkers() {#a39e133b79aeab3ac6dace3fb804ceddf}

<MemberDefinition
  prototype="unsigned StackColoring::collectMarkers (unsigned NumSlot)">
Scan the machine function and find all of the lifetime markers.

<a href="/docs/api/classes/llvm/record">Record</a> the findings in the BEGIN and END vectors. 
<SectionUser title="Returns">
the number of markers found.
</SectionUser>

Definition at line <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp/#l00460">460</a> of file <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp">StackColoring.cpp</a>.
</MemberDefinition>

### dump() {#a1b02a9db581601dda7f4faad4e933e39}

<MemberDefinition
  prototype={<>LLVM&#95;DUMP&#95;METHOD void StackColoring::dump () const</>}>
Debug.

Definition at line <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp/#l00448">448</a> of file <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp">StackColoring.cpp</a>.
</MemberDefinition>

### dumpBB() {#a6250e9734eb86b21892a686ab4fb25b8}

<MemberDefinition
  prototype={<>LLVM&#95;DUMP&#95;METHOD void StackColoring::dumpBB (<a href="/docs/api/classes/llvm/machinebasicblock">MachineBasicBlock</a> &#42; MBB) const</>}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp/#l00450">450</a> of file <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp">StackColoring.cpp</a>.
</MemberDefinition>

### dumpBV() {#a9fbf3b1bbd4f8d43645cdb31c5df4567}

<MemberDefinition
  prototype={<>LLVM&#95;DUMP&#95;METHOD void StackColoring::dumpBV (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> char &#42; tag, <a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/bitvector">BitVector</a> &amp; BV) const</>}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp/#l00451">451</a> of file <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp">StackColoring.cpp</a>.
</MemberDefinition>

### dumpIntervals() {#a2ded4a94ddbb27252f02217befa76eb0}

<MemberDefinition
  prototype={<>LLVM&#95;DUMP&#95;METHOD void StackColoring::dumpIntervals () const</>}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp/#l00449">449</a> of file <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp">StackColoring.cpp</a>.
</MemberDefinition>

### expungeSlotMap() {#a17b088823e2eda3b62fa805530a05c3d}

<MemberDefinition
  prototype={<>void StackColoring::expungeSlotMap (<a href="/docs/api/classes/llvm/densemap">DenseMap</a>&lt; int, int &gt; &amp; SlotRemap, unsigned NumSlots)</>}>
Map entries which point to other entries to their destination.

A-&gt;B-&gt;C becomes A-&gt;C.

Definition at line <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp/#l00504">504</a> of file <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp">StackColoring.cpp</a>.
</MemberDefinition>

### isLifetimeStartOrEnd() {#a2bbb75088b66780d62e1bfb73fd26537}

<MemberDefinition
  prototype={<>bool StackColoring::isLifetimeStartOrEnd (<a href="/docs/api/files/lib/lib/target/lib/target/aarch64/aarch64promoteconstant-cpp/#a90f8350fecae261c25be85d38b451bff">const</a> <a href="/docs/api/classes/llvm/machineinstr">MachineInstr</a> &amp; MI, <a href="/docs/api/classes/llvm/smallvector">SmallVector</a>&lt; int, 4 &gt; &amp; slots, bool &amp; isStart)</>}>
Examines the specified instruction and returns TRUE if the instruction represents the start or end of an interesting lifetime.

The slot or slots starting or ending are added to the vector &quot;slots&quot; and &quot;isStart&quot; is set accordingly. 
<SectionUser title="Returns">
True if inst contains a lifetime start or end
</SectionUser>

Definition at line <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp/#l00483">483</a> of file <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp">StackColoring.cpp</a>.
</MemberDefinition>

### remapInstructions() {#a525b83fcc144faf424b7a13fa25c8bdd}

<MemberDefinition
  prototype={<>void StackColoring::remapInstructions (<a href="/docs/api/classes/llvm/densemap">DenseMap</a>&lt; int, int &gt; &amp; SlotRemap)</>}>
Go over the machine function and change instructions which use stack slots to use the joint slots.

Definition at line <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp/#l00492">492</a> of file <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp">StackColoring.cpp</a>.
</MemberDefinition>

### removeAllMarkers() {#ac69d963ba237190c8208f310c1cb0e45}

<MemberDefinition
  prototype="bool StackColoring::removeAllMarkers ()">
Removes all of the lifetime marker instructions from the function.

<SectionUser title="Returns">
true if any markers were removed.
</SectionUser>

Definition at line <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp/#l00455">455</a> of file <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp">StackColoring.cpp</a>.
</MemberDefinition>

### removeInvalidSlotRanges() {#afe94386f11658e8b96e3f7a810e90401}

<MemberDefinition
  prototype="void StackColoring::removeInvalidSlotRanges ()">
The input program may contain instructions which are not inside lifetime markers.

This can happen due to a bug in the compiler or due to a bug in user code (for example, returning a reference to a local variable). This procedure checks all of the instructions in the function and invalidates lifetime ranges which do not contain all of the instructions which access that frame slot.

Definition at line <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp/#l00500">500</a> of file <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp">StackColoring.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<SectionDefinition>

## Private Member Attributes

### BasicBlockNumbering {#aefe3b60f85c7b2bad89636fc410811f5}

<MemberDefinition
  prototype={<>SmallVector&lt;const MachineBasicBlock &#42;, 8&gt; anonymous&#95;namespace&#123;StackColoring.cpp&#125;::StackColoring::BasicBlockNumbering</>}>
Maps basic blocks to a serial number.

Definition at line <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp/#l00409">409</a> of file <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp">StackColoring.cpp</a>.
</MemberDefinition>

### BasicBlocks {#a28a6e4a4de17b7dc7bf12592659de5eb}

<MemberDefinition
  prototype={<>DenseMap&lt;const MachineBasicBlock &#42;, int&gt; anonymous&#95;namespace&#123;StackColoring.cpp&#125;::StackColoring::BasicBlocks</>}>
Maps serial numbers to basic blocks.

Definition at line <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp/#l00406">406</a> of file <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp">StackColoring.cpp</a>.
</MemberDefinition>

### BlockLiveness {#a1d18763758b9e02a8b90b6544e74b10e}

<MemberDefinition
  prototype={<>LivenessMap anonymous&#95;namespace&#123;StackColoring.cpp&#125;::StackColoring::BlockLiveness</>}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp/#l00403">403</a> of file <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp">StackColoring.cpp</a>.
</MemberDefinition>

### ConservativeSlots {#a956dc290dead4febb97579c22c7a1809}

<MemberDefinition
  prototype={<>BitVector anonymous&#95;namespace&#123;StackColoring.cpp&#125;::StackColoring::ConservativeSlots</>}>
FI slots that need to be handled conservatively (for these slots lifetime-start-on-first-use is disabled).

Definition at line <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp/#l00434">434</a> of file <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp">StackColoring.cpp</a>.
</MemberDefinition>

### Indexes {#a603d228e4b43c1dc04d4497e04194b78}

<MemberDefinition
  prototype={<>SlotIndexes&#42; anonymous&#95;namespace&#123;StackColoring.cpp&#125;::StackColoring::Indexes = nullptr</>}>
<a href="/docs/api/classes/llvm/slotindex">SlotIndex</a> analysis object.

Definition at line <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp/#l00422">422</a> of file <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp">StackColoring.cpp</a>.
</MemberDefinition>

### InterestingSlots {#a01a726bfc4c3b3759f51b091d8ef900f}

<MemberDefinition
  prototype={<>BitVector anonymous&#95;namespace&#123;StackColoring.cpp&#125;::StackColoring::InterestingSlots</>}>
<a href="/docs/api/classes/llvm/record">Record</a> the FI slots for which we have seen some sort of lifetime marker (either start or end).

Definition at line <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp/#l00430">430</a> of file <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp">StackColoring.cpp</a>.
</MemberDefinition>

### Intervals {#acbf06c25cbd660c617dafab6b6d65a22}

<MemberDefinition
  prototype={<>SmallVector&lt;std::unique&#95;ptr&lt;LiveInterval&gt;, 16&gt; anonymous&#95;namespace&#123;StackColoring.cpp&#125;::StackColoring::Intervals</>}>
Maps slots to their use interval.

Outside of this interval, slots values are either dead or <code>undef</code> and they will not be written to.

Definition at line <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp/#l00413">413</a> of file <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp">StackColoring.cpp</a>.
</MemberDefinition>

### LiveStarts {#a0dcc57a834d7e84d9a1c0f2a1f779e9d}

<MemberDefinition
  prototype={<>SmallVector&lt;SmallVector&lt;SlotIndex, 4&gt;, 16&gt; anonymous&#95;namespace&#123;StackColoring.cpp&#125;::StackColoring::LiveStarts</>}>
Maps slots to the points where they can become in-use.

Definition at line <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp/#l00416">416</a> of file <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp">StackColoring.cpp</a>.
</MemberDefinition>

### Markers {#a1c87d375f0618157ddc718da2963624a}

<MemberDefinition
  prototype={<>SmallVector&lt;MachineInstr&#42;, 8&gt; anonymous&#95;namespace&#123;StackColoring.cpp&#125;::StackColoring::Markers</>}>
The list of lifetime markers found.

These markers are to be removed once the coloring is done.

Definition at line <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp/#l00426">426</a> of file <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp">StackColoring.cpp</a>.
</MemberDefinition>

### MF {#a1969b3be516af7d49d65dc4e01088b77}

<MemberDefinition
  prototype={<>MachineFunction&#42; anonymous&#95;namespace&#123;StackColoring.cpp&#125;::StackColoring::MF = nullptr</>}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp/#l00382">382</a> of file <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp">StackColoring.cpp</a>.
</MemberDefinition>

### MFI {#a9f067fa92eae557d887a259cd4473056}

<MemberDefinition
  prototype={<>MachineFrameInfo&#42; anonymous&#95;namespace&#123;StackColoring.cpp&#125;::StackColoring::MFI = nullptr</>}>

Definition at line <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp/#l00381">381</a> of file <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp">StackColoring.cpp</a>.
</MemberDefinition>

### NumIterations {#a3c9ca929b48b028ea79a547cf8ff98f7}

<MemberDefinition
  prototype={<>unsigned anonymous&#95;namespace&#123;StackColoring.cpp&#125;::StackColoring::NumIterations</>}>
Number of iterations taken during data flow analysis.

Definition at line <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp/#l00437">437</a> of file <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp">StackColoring.cpp</a>.
</MemberDefinition>

### VNInfoAllocator {#ab5ccff269dcd58edec1b11c4d7ed5749}

<MemberDefinition
  prototype={<>VNInfo::Allocator anonymous&#95;namespace&#123;StackColoring.cpp&#125;::StackColoring::VNInfoAllocator</>}>
<a href="/docs/api/classes/llvm/vninfo">VNInfo</a> is used for the construction of <a href="/docs/api/classes/llvm/liveintervals">LiveIntervals</a>.

Definition at line <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp/#l00419">419</a> of file <a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp">StackColoring.cpp</a>.
</MemberDefinition>

</SectionDefinition>

<hr/>

The documentation for this class was generated from the following file:

<ul>
<li><a href="/docs/api/files/lib/lib/codegen/stackcoloring-cpp">StackColoring.cpp</a></li>
</ul>

</DoxygenPage>
